var JumpLinkNavigationWidget=function(e,t,n,r,i,a,o){"use strict";function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=s(t),c=s(n),u=s(r),d=s(a),f=s(o);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C(this,n)}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),P="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,A="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),N="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(A):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var R=["top","right","bottom","left","width","height","size","weight"],D="undefined"!=typeof MutationObserver,F=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&s()}function o(){N(a)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){P&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),D?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){P&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;R.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),L=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},B=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||A},I=z(0,0,0,0);function H(e){return parseFloat(e)||0}function M(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+H(e["border-"+n+"-width"])}),0)}function V(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return I;var r=B(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=H(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=H(r.width),l=H(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=M(r,"left","right")+a),Math.round(l+o)!==n&&(l-=M(r,"top","bottom")+o)),!function(e){return e===B(e).document.documentElement}(e)){var c=Math.round(s+a)-t,u=Math.round(l+o)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return z(i.left,i.top,s,l)}var q="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof B(e).SVGGraphicsElement}:function(e){return e instanceof B(e).SVGElement&&"function"==typeof e.getBBox};function W(e){return P?q(e)?function(e){var t=e.getBBox();return z(0,0,t.width,t.height)}(e):V(e):I}function z(e,t,n,r){return{x:e,y:t,width:n,height:r}}var G=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=z(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=W(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),$=function(e,t){var n,r,i,a,o,s,l,c=(r=(n=t).x,i=n.y,a=n.width,o=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),L(l,{x:r,y:i,width:a,height:o,top:i,right:r+a,bottom:o+i,left:r}),l);L(this,{target:e,contentRect:c})},Y=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new j,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof B(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new G(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof B(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new $(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),U="undefined"!=typeof WeakMap?new WeakMap:new j,J=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=F.getInstance(),r=new Y(t,n,this);U.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){J.prototype[e]=function(){var t;return(t=U.get(this))[e].apply(t,arguments)}}));var K=void 0!==A.ResizeObserver?A.ResizeObserver:J,Q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Z="__lodash_hash_undefined__",X="[object Function]",ee="[object GeneratorFunction]",te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/^\./,ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/\\(\\)?/g,oe=/^\[object .+?Constructor\]$/,se="object"==typeof Q&&Q&&Q.Object===Object&&Q,le="object"==typeof self&&self&&self.Object===Object&&self,ce=se||le||Function("return this")();var ue,de=Array.prototype,fe=Function.prototype,he=Object.prototype,pe=ce["__core-js_shared__"],me=(ue=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||""))?"Symbol(src)_1."+ue:"",ge=fe.toString,ve=he.hasOwnProperty,ye=he.toString,be=RegExp("^"+ge.call(ve).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=ce.Symbol,ke=de.splice,_e=Re(ce,"Map"),Oe=Re(Object,"create"),Ee=we?we.prototype:void 0,Ce=Ee?Ee.toString:void 0;function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function je(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function Pe(e,t){var n;t=function(e,t){if(Be(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||He(e))return!0;return ne.test(e)||!te.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:Be(n=t)?n:De(n);for(var r=0,i=t.length;null!=e&&r<i;)e=e[Fe(t[r++])];return r&&r==i?e:void 0}function Ae(e){if(!Ie(e)||(t=e,me&&me in t))return!1;var t,n=function(e){var t=Ie(e)?ye.call(e):"";return t==X||t==ee}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?be:oe;return n.test(function(e){if(null!=e){try{return ge.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function Ne(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Re(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ae(n)?n:void 0}Te.prototype.clear=function(){this.__data__=Oe?Oe(null):{}},Te.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Te.prototype.get=function(e){var t=this.__data__;if(Oe){var n=t[e];return n===Z?void 0:n}return ve.call(t,e)?t[e]:void 0},Te.prototype.has=function(e){var t=this.__data__;return Oe?void 0!==t[e]:ve.call(t,e)},Te.prototype.set=function(e,t){return this.__data__[e]=Oe&&void 0===t?Z:t,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(e){var t=this.__data__,n=je(t,e);return!(n<0)&&(n==t.length-1?t.pop():ke.call(t,n,1),!0)},Se.prototype.get=function(e){var t=this.__data__,n=je(t,e);return n<0?void 0:t[n][1]},Se.prototype.has=function(e){return je(this.__data__,e)>-1},Se.prototype.set=function(e,t){var n=this.__data__,r=je(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},xe.prototype.clear=function(){this.__data__={hash:new Te,map:new(_e||Se),string:new Te}},xe.prototype.delete=function(e){return Ne(this,e).delete(e)},xe.prototype.get=function(e){return Ne(this,e).get(e)},xe.prototype.has=function(e){return Ne(this,e).has(e)},xe.prototype.set=function(e,t){return Ne(this,e).set(e,t),this};var De=Le((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(He(e))return Ce?Ce.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return re.test(e)&&n.push(""),e.replace(ie,(function(e,t,r,i){n.push(r?i.replace(ae,"$1"):t||e)})),n}));function Fe(e){if("string"==typeof e||He(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Le(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new(Le.Cache||xe),n}Le.Cache=xe;var Be=Array.isArray;function Ie(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function He(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==ye.call(e)}var Me,Ve,qe,We=function(e,t,n){var r=null==e?void 0:Pe(e,t);return void 0===r?n:r},ze=(Me=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=c.default,r=d.default,i=f.default;function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=a(l.default),s=a(n),u=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(i);function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e.filter((function(e){return e})).join(" "):""}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=s.default.shape({linkContent:s.default.string,linkPlacement:s.default.string,linkRegion:s.default.string,widgetType:s.default.string}),E=s.default.shape(m({analyticsContext:s.default.string,guid:s.default.string,image:s.default.shape({altText:s.default.string,src:s.default.string}),isCurrentPage:s.default.bool,landingPageHREF:s.default.string,linkText:s.default.string},O)),C=s.default.shape({"aria-hidden":s.default.bool,tabIndex:s.default.number}),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,l.default.PureComponent);var t,n,i=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={visible:!1,offset:e.offset},t}return t=a,n=[{key:"componentDidMount",value:function(){var e=this;!function(e,t){var n={root:null,rootMargin:"0px 0px ".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:400,"px 0px"),threshold:[0]},r=new IntersectionObserver((function(){var e=arguments.length>1?arguments[1]:void 0;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){n.isIntersecting&&(t(),e.disconnect())}))}),n);r.observe(e)}(this.ref,(function(){e.setState({visible:!0})}),this.state.offset)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.className,a=t.placeholder,s=t.shimmer,l=void 0!==s&&s;return this.state.visible?n:o.default.createElement("div",{className:"wf-lazy-load",ref:function(t){e.ref=t}},l&&!a&&o.default.createElement(r.BrixSkeleton,{className:i}),a)}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();T.propTypes={children:s.default.node,className:s.default.string,offset:s.default.number,placeholder:s.default.element,shimmer:s.default.bool};var S="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";function x(e){var t=e.altText,n=e.ariaHidden,r=e.className,i=e.imageSrc,a=e.pictureImages,s=e.sourceElements,l=e.id;return o.default.createElement(o.default.Fragment,null,!a&&o.default.createElement("img",{alt:t,"aria-hidden":n,className:r,src:i,id:l}),a&&o.default.createElement("picture",null,s,o.default.createElement("img",{alt:t,"aria-hidden":n,className:r,src:i,id:l})))}function j(e){var t=e.altText,n=void 0===t?"":t,r=e.ariaHidden,i=void 0!==r&&r,a=e.clientSide,s=e.className,c=void 0===s?"":s,u=e.lazyLoad,d=e.offset,f=e.pictureImages,h=e.placeholder,p=e.shimmer,m=e.src,g=void 0===m?S:m,v=e.src2x,y=e.id,b=v||g,w=a||u,_=w?S:b,O=k(l.default.useState(_),2),E=O[0],C=O[1],j=f&&f.map((function(e){var t=e.image,n=e.media,r=t.src,i=void 0===r?S:r,a=t.src2x;return o.default.createElement("source",{key:i,srcSet:a||i,media:n})}));return l.default.useEffect((function(){w&&C(b)}),[w,b]),o.default.createElement(o.default.Fragment,null,w?o.default.createElement(T,{className:c,offset:d,placeholder:h,shimmer:p},x({altText:n,ariaHidden:i,className:c,imageSrc:E,pictureImages:f,sourceElements:j,id:y})):x({altText:n,ariaHidden:i,className:c,imageSrc:E,pictureImages:f,sourceElements:j,id:y}))}j.propTypes={altText:s.default.string,ariaHidden:s.default.bool,className:s.default.string,clientSide:s.default.bool,lazyLoad:s.default.bool,offset:s.default.number,pictureImages:s.default.arrayOf(s.default.shape({image:s.default.shape({src:s.default.string,src2x:s.default.string}),media:s.default.string})),placeholder:s.default.element,shimmer:s.default.bool,src:s.default.string,src2x:s.default.string,id:s.default.string};var P=function(e){var t=e.image,n=(t=void 0===t?{}:t).src,r=t.src2x;return o.default.createElement("div",{className:"cn-image-outer-wrapper"},o.default.createElement("div",{className:"cn-image-inner-wrapper"},o.default.createElement(j,{className:"cn-image",src:n,src2x:r,ariaHidden:!0})))};function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}P.propTypes={image:s.default.shape({src:s.default.string,src2x:s.default.string})};var N=function(e){return e&&"object"===A(e)&&e.constructor===Object};function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}var D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=e(n);if(N(n)&&(r.reportingVariables=r.reportingVariables||n.reportingVariables,r.schemaData=r.schemaData||n.schemaData),r.reportingVariables&&!N(r.reportingVariables))throw new Error("`reportingVariables` should be an object or undefined");if(r.schemaData&&!N(r.schemaData))throw new Error("schemaData should be an object, received a type: ".concat(R(r.schemaData)," instead"));return r}}((function(e){return{type:"CLICK",context:e.context,sku:e.sku,skus:e.skus}})),F=o.default.forwardRef((function(e,t){var n=e["aria-hidden"],r=e.linkText,i=e.image,a=e.isCurrentPage,s=e.landingPageHREF,l=e.tabIndex,c=e.analyticsData;return o.default.createElement("a",{className:h(["cn-carousel-item",a&&"cn-current-page"]),href:s,"aria-hidden":n,tabIndex:l,ref:t,onClick:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reportingVariables,r=t.schemaData,i=t.actionData;if(u){var a=m({reportingVariables:m({"bb.linkContent":null==e?void 0:e.linkContent,"bb.linkPlacement":null==e?void 0:e.linkPlacement,"bb.linkRegion":null==e?void 0:e.linkRegion,"bb.widgetType":null==e?void 0:e.widgetType},n),schemaData:r},i),o=D(a);u.dispatch(o)}}(c)}},o.default.createElement(P,{image:i}),o.default.createElement("p",{className:"cn-item-copy"},r))}));function L(e){return e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():""}F.propTypes=m(m({},C),E);var B=function(e){var t=e.colorTheme,n=e.hideCarouselArrow;return t="light"===t||"dark"===t?"".concat(t,"-theme"):L(t),o.default.createElement("svg",{width:"32px",height:"32px",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",focusable:!1,className:h(["widget-fragments-caret-left","carousel-arrow",t,n&&"hide-carousel-arrow"])},o.default.createElement("path",{d:"M20.6788444,29.3472 C20.3819556,29.3472 20.0895111,29.2138667 19.8966222,28.9587556 L10.5997333,16.6209778 C10.3375111,16.2725333 10.3375111,15.7916444 10.5997333,15.4432 L19.8966222,3.10631111 C20.2219556,2.67431111 20.8344,2.58808889 21.2664,2.91342222 C21.6975111,3.23875556 21.7837333,3.8512 21.4592889,4.2832 L12.6050667,16.0325333 L21.4592889,27.7809778 C21.7837333,28.2129778 21.6975111,28.8254222 21.2664,29.1507556 C21.0904,29.2840889 20.8832889,29.3472 20.6788444,29.3472"}))};B.propTypes={colorTheme:s.default.oneOf(["light","dark","lightFontColor","darkFontColor"]),hideCarouselArrow:s.default.bool};var I=function(e){var t=e.colorTheme,n=e.hideCarouselArrow;return t="light"===t||"dark"===t?"".concat(t,"-theme"):L(t),o.default.createElement("svg",{width:"32px",height:"32px",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",focusable:!1,className:h(["widget-fragments-caret-right","carousel-arrow",t,n&&"hide-carousel-arrow"])},o.default.createElement("path",{d:"M11.3849778,29.3185778 C11.1805333,29.3185778 10.9734222,29.2554667 10.7974222,29.1221333 C10.3663111,28.7968 10.2800889,28.1843556 10.6045333,27.7523556 L19.4587556,16.0039111 L10.6045333,4.25457778 C10.2800889,3.82257778 10.3663111,3.21013333 10.7974222,2.8848 C11.2285333,2.55946667 11.8418667,2.64746667 12.1672,3.07768889 L21.4632,15.4145778 C21.7254222,15.7630222 21.7254222,16.2439111 21.4632,16.5923556 L12.1672,28.9301333 C11.9743111,29.1852444 11.6818667,29.3185778 11.3849778,29.3185778"}))};I.propTypes={colorTheme:s.default.oneOf(["light","dark","lightFontColor","darkFontColor"]),hideCarouselArrow:s.default.bool};var H=function(e){var t=e.colorTheme,n=e.direction,r=e.hideCarouselArrow;return"left"===n?o.default.createElement(B,{colorTheme:t,hideCarouselArrow:r}):o.default.createElement(I,{colorTheme:t,hideCarouselArrow:r})};function M(e){var t=e.carouselClassName,n=e.carouselItems,i=e.carouselItemClassName,a=e.carouselOptions,s=e.colorTheme,c=k(l.default.useState(!1),2),u=c[0],d=c[1];return a.arrows={left:function(){return o.default.createElement(H,{direction:"left",colorTheme:s,hideCarouselArrow:u})},leftButtonStyles:{backgroundColor:"transparent"},right:function(){return o.default.createElement(H,{direction:"right",colorTheme:s,hideCarouselArrow:u})},rightButtonStyles:{backgroundColor:"transparent"}},!1!==a.showArrows&&(a.showArrows=!0),a.noWhiteSpace=!0,a.noOverlay=!0,a.className=h(["base-carousel-container",u&&"hide-arrows",t]),a.itemClassName=h(["base-carousel-item",i]),o.default.createElement(r.BrixFlexCarousel,v({},a,{onChange:function(e){var t=e.itemCount,n=e.visibleElements;n.length!==t||u?n.length<t&&u&&d(!1):d(!0)}}),n)}function V(e){var t=e.associatedClassName,n=void 0===t?"":t,r=e.currentPageIndicator,i=e.isSmallView,a=e.panels,s=void 0===a?[]:a,c=e.widgetType,u=l.default.useMemo((function(){return i?{width:"auto",height:"auto"}:{}}),[i]),d=l.default.useMemo((function(){return s.findIndex((function(e){return!0===e.isCurrentPage}))}),[s]),f=s.map((function(e){var t=e.guid,n=e.image,r=e.landingPageHREF,i=e.linkText,a=e.isCurrentPage,s=e.linkContent,l=e.linkPlacement,u=e.linkRegion;return o.default.createElement(F,{key:t,image:n,isCurrentPage:a,landingPageHREF:r,linkText:i,analyticsData:{linkContent:s,linkPlacement:l,linkRegion:u,widgetType:c}})})),p={gutterWidth:0,itemStyles:u,isSmallView:i,scrollToItemIndex:d};return o.default.createElement("div",{className:"cn-carousel-wrapper"},o.default.createElement(M,{carouselClassName:h([r&&"cn-page-indicator",n]),carouselItemClassName:"cn-carousel-item-wrapper",carouselItems:f,carouselOptions:p,colorTheme:"darkFontColor"}))}H.propTypes={colorTheme:s.default.oneOf(["light","dark","lightFontColor","darkFontColor"]),direction:s.default.oneOf(["left","right"]),hideCarouselArrow:s.default.bool},M.propTypes={colorTheme:s.default.oneOf(["light","dark","lightFontColor","darkFontColor"]),carouselClassName:s.default.string,carouselItemClassName:s.default.string,carouselItems:s.default.arrayOf(s.default.any),carouselOptions:s.default.shape({arrows:s.default.func,className:s.default.string,itemClassName:s.default.string,itemStyles:s.default.shape({height:s.default.oneOfType([s.default.string,s.default.number]),width:s.default.oneOfType([s.default.string,s.default.number])}),isSmallView:s.default.bool,noOverlay:s.default.bool,noWhiteSpace:s.default.bool,showArrows:s.default.bool})},V.propTypes={associatedClassName:s.default.string,currentPageIndicator:s.default.bool,isSmallView:s.default.bool,panels:s.default.arrayOf(E),widgetType:s.default.string},t.AnalyticsData=O,t.Carousel=V,t.CarouselA11yType=C,t.ItemType=E},Me(qe={path:Ve,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&qe.path)}},qe.exports),qe.exports),Ge=function(e){var t=e.blur,n=e.focus,r=e.headerText,i=e.sourceGuid,a=e.onClick,o=e.track;return l.default.createElement("a",{className:"jump-link",href:"#jump-link-nav-header-".concat(i),onClick:function(){return a(i)},onFocus:n,onBlur:t,"data-track":o},r)};Ge.propTypes={blur:n.func.isRequired,focus:n.func.isRequired,headerText:n.string.isRequired,onClick:n.func.isRequired,sourceGuid:n.string.isRequired,track:n.string.isRequired};var $e={guid:n.string,headerText:n.string,sourceGuid:n.string,track:n.string},Ye="pureWhiteWithOutline",Ue="sticky",Je="progressiveDisclosure",Ke="Custom",Qe="None",Ze="Top Deals",Xe="Black Friday Ad Live",et="Black Friday Ad Preview",tt={prod:{lv:"/image2/BestBuy_US/dam/GL-2021_lv_bf-29709c2b-783f-46a9-ac6b-4d4fa07510bb.png",sv:"/image2/BestBuy_US/dam/GL-2021_sv3_bf-e65b5296-ea40-4de8-b283-d4ae534e81d1.png"},test:{lv:"/image2/BestBuy_US/dam/GL-2021_lv_bf-29709c2b-783f-46a9-ac6b-4d4fa07510bb-cf3d1c14-c541-4efa-af56-57c8e50444a9.png",sv:"/image2/BestBuy_US/dam/GL-2021_sv3_bf-f6b0e141-95c7-4b01-a15d-4bcca3a4ebd9.png"}},nt=15,rt="mousedown wheel DOMMouseScroll mousewheel keyup touchmove";function it(e){var n,r=e.blur,o=e.focus,s=e.isSmallView,c=e.links,u=e.onClick,d=S(t.useState(null===(n=c[0])||void 0===n?void 0:n.sourceGuid),2),f=d[0],h=d[1],p=t.useRef(0),m=S(t.useState(!1),2),g=m[0],v=m[1],y=S(t.useState(!1),2),b=y[0],w=y[1];t.useEffect((function(){var e=function(){var e=window.scrollY;p.current<e&&v(!1),p.current>e&&v(!0),p.current=e};function t(){var e,t,n,r;if(!b&&p.current!==window.scrollY){var i,a=null===(e=document.querySelector(".jln-background"))||void 0===e?void 0:e.offsetHeight,o=(null===(t=document.querySelector(".widget-divider"))||void 0===t?void 0:t.offsetHeight)+nt,l=a+window.scrollY+o,u=c.map((function(e){var t=e.sourceGuid;return document.querySelector("#widget-".concat(t))}));if(g&&s)null===(i=document.querySelector(".header-main-navigation"))||void 0===i||i.offsetHeight;var d,f=u[0],m=(null==f||null===(n=f.getBoundingClientRect())||void 0===n?void 0:n.top)+window.scrollY,v=u[u.length-1],y=(null==v||null===(r=v.getBoundingClientRect())||void 0===r?void 0:r.top)+window.scrollY,w=u[0],k=u.filter((function(e){return(null==e?void 0:e.getBoundingClientRect().bottom)+window.scrollY-nt<=l})).length;w=u.filter((function(e){return(null==e?void 0:e.getBoundingClientRect().bottom)+window.scrollY-nt<=l}))[k-1];var _,O,E=u.filter((function(e){return(null==e?void 0:e.getBoundingClientRect().bottom)+window.scrollY-nt>=l}))[0];if(l>=m&&w&&l<y)d=null===(_=w)||void 0===_||null===(O=_.id)||void 0===O?void 0:O.slice(7);else if(l<y){var C;d=null==E||null===(C=E.id)||void 0===C?void 0:C.slice(7)}else d=c[c.length-1].sourceGuid;h(d)}}return window.addEventListener("scroll",t),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",t),window.removeEventListener("scroll",e)}}),[c,g,s,b]);var k=t.useMemo((function(){return s?{width:"auto",height:"auto"}:{}}),[s]),_={gutterWidth:s?0:4,itemStyles:k,isSmallView:s},O=c.map((function(e){var t=e.guid,n=e.headerText,s=e.sourceGuid,c=e.track;return l.default.createElement(a.BrixButton,{buttonStyle:"unstyled",className:i.concatClassNames(["c-button","holiday-navigation-jump-link",f===s&&"selected-button"]),"aria-current":f===s?"true":"false","data-track":c,href:"#jump-link-nav-header-".concat(s),key:t,onBlur:function(){return r(!1)},onClick:function(){h(s),w(!0),u(s,!0),setTimeout((function(){return w(!1)}),600)},onFocus:function(){return o(!0)}},n)}));return l.default.createElement("div",{className:"holiday-navigation-inline-jump-links-wrapper"},l.default.createElement(i.BaseCarousel,{carouselClassName:"holiday-navigation-jump-links",carouselItems:O,carouselOptions:_,colorTheme:"darkFontColor"}))}it.propTypes={blur:n.func.isRequired,focus:n.func.isRequired,links:n.arrayOf(n.shape($e)),onClick:n.func.isRequired,isSmallView:n.bool.isRequired};var at=function(e){w(n,e);var t=T(n);function n(){var e;return m(this,n),(e=t.call(this)).state={stuck:!1,placeHolderHeight:"auto"},e.onScroll=e.onScroll.bind(E(e)),e}return v(n,[{key:"componentDidMount",value:function(){var e=this;this.$window=u.default(window);var t=this.props,n=t.isSmallView;t.sticky&&(this.startingTop=u.default(this.el).offset().top,this.setState({placeHolderHeight:u.default(this.el).height()}),n&&this.$window.on("resize",(function(){return e.onWindowResize()})),this.watchScroll())}},{key:"componentWillUnmount",value:function(){this.props.sticky&&this.ignoreScroll()}},{key:"handleScroll",value:function(e){var t=this,n=e.atStickySpot,r=this.props,i=r.progressive,a=r.handleStickyChange,o=r.toggleFocused,s=this.state.stuck;!s&&n?(a({stuck:!0}),this.setState({stuck:!0,fadein:!1})):s&&i&&!n?(this.setState({slideOut:!0}),setTimeout((function(){a({stuck:!1}),o(!1),t.setState({slideOut:!1,stuck:!1,fadein:!0})}),250)):s&&!n&&(a({stuck:!1}),this.setState({stuck:!1,fadein:!1}))}},{key:"onWindowResize",value:function(){var e=u.default(this.el).height();this.state.placeHolderHeight!==e&&this.setState({placeHolderHeight:e})}},{key:"onScroll",value:function(){var e=this.$window.scrollTop()>=this.startingTop;this.handleScroll({atStickySpot:e})}},{key:"watchScroll",value:function(){this.onScroll(),this.$window.on("scroll",this.onScroll)}},{key:"ignoreScroll",value:function(){this.$window.off("scroll",this.onScroll)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.children,i=n.progressive,a=n.sticky,o=this.state,s=o.stuck,c=o.slideOut,u=o.fadein,d=o.placeHolderHeight,f="sticky-div";a&&i&&(e="progressive"),s&&c?f+=" slide-out":s&&a&&i&&(f+=" slide-in");var h=s?f:e;return u&&(h+=" fadein"),l.default.createElement("div",{className:"jump-link-placeholder",style:{height:d}},l.default.createElement("div",{ref:function(e){t.el=e},className:h},r))}}]),n}(t.Component);at.propTypes={children:n.node,handleStickyChange:n.func,isSmallView:n.bool,progressive:n.bool,sticky:n.bool,toggleFocused:n.func};var ot=function(e){var t=e.stuck,n=e.progressiveDisclosure,r=e.isSmallView,i=e.headerTextCustomPrefix,a=e.headerText;return t||r||t||!n?l.default.createElement("span",{className:"v-fw-regular"},"".concat(i).concat(a?":":"")," "):l.default.createElement("span",{className:"heading-3 v-fw-medium"},"".concat(i).concat(a?":":"")," ")};ot.propTypes={stuck:c.default.bool.isRequired,progressiveDisclosure:c.default.bool,isSmallView:c.default.bool.isRequired,headerTextCustomPrefix:c.default.string,headerText:c.default.string};var st=function(e){var t=e.stuck,n=e.progressiveDisclosure,r=e.isSmallView;return t?l.default.createElement("div",{className:"top-deals-prefix-deals"},l.default.createElement("div",{className:"top-deals-prefix-background"}),l.default.createElement("span",{className:"top-deals-prefix-text v-fw-regular"},Ze)):r||t||!n?l.default.createElement("span",{className:"v-fw-regular"},Ze,": "):l.default.createElement("span",{className:"heading-3 v-fw-medium"},Ze,": ")};st.propTypes={stuck:c.default.bool.isRequired,progressiveDisclosure:c.default.bool,isSmallView:c.default.bool.isRequired};var lt=function(e){var t=e.stuck,n=e.progressiveDisclosure,r=e.isSmallView,i=e.piscesDomain,a=e.imageLink,o=e.svImageLink,s="".concat(i).concat(r?o:a);return t?l.default.createElement("div",{className:"blackfriday-prefix-deals"},l.default.createElement("img",{className:"blackfriday-live-prefix-background",src:s,alt:""}),l.default.createElement("span",{className:"blackfriday-live-prefix-text v-fw-regular"},"Black Friday Ad")):r||t||!n?l.default.createElement("span",{className:"v-fw-regular"},"Black Friday Ad: "):l.default.createElement("span",{className:"heading-3 v-fw-medium"},"Black Friday Ad: ")};lt.propTypes={stuck:c.default.bool.isRequired,progressiveDisclosure:c.default.bool,isSmallView:c.default.bool.isRequired,piscesDomain:c.default.string.isRequired,imageLink:c.default.string,svImageLink:c.default.string};var ct=function(e){var t=e.stuck,n=e.progressiveDisclosure,r=e.isSmallView,i=e.piscesDomain,a=e.imageLink,o=e.svImageLink,s="".concat(i).concat(r?o:a);return t?l.default.createElement("div",{className:"blackfriday-prefix-deals"},l.default.createElement("img",{className:"blackfriday-preview-prefix-background",src:s,alt:""}),l.default.createElement("span",{className:"blackfriday-preview-prefix-text v-fw-regular"},l.default.createElement("span",{className:"v-fw-medium"},"Preview")," Black Friday Ad")):r||t||!n?l.default.createElement("span",{className:"v-fw-regular"},"Preview Black Friday Ad: "):l.default.createElement("span",{className:"heading-3 v-fw-medium"},"Preview Black Friday Ad: ")};ct.propTypes={stuck:c.default.bool.isRequired,progressiveDisclosure:c.default.bool,isSmallView:c.default.bool.isRequired,piscesDomain:c.default.string,imageLink:c.default.string,svImageLink:c.default.string};var ut=["guid"],dt=function(e){w(n,e);var t=T(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).state={jumpLinkHeight:50,widgetContainerHeight:0,focused:!1,stuck:!1},r.navTo=r.navTo.bind(E(r)),r.observe=r.observe.bind(E(r)),r.unobserve=r.unobserve.bind(E(r)),r.handleAnimationComplete=r.handleAnimationComplete.bind(E(r)),r.widgetContainerResized=r.widgetContainerResized.bind(E(r)),r.toggleFocused=r.toggleFocused.bind(E(r)),r.handleStickyChange=r.handleStickyChange.bind(E(r)),r}return v(n,[{key:"componentDidMount",value:function(){if(this.stickyDiv&&this.stickyDiv.el){var e=this.stickyDiv.el;this.setState({jumpLinkHeight:e.offsetHeight})}this.widgetContainer=document.querySelector("#site-control-content > .widget-container"),this.resizeObserver=new K(this.widgetContainerResized)}},{key:"handleAnimationComplete",value:function(){var e=this;this.animatedOnce&&this.setState({widgetContainerHeight:this.widgetContainer.clientHeight},(function(){e.observe(),u.default(window).on(rt,e.unobserve),setTimeout(e.unobserve,3500)})),this.animatedOnce=!0}},{key:"handleStickyChange",value:function(e){var t=e.stuck;this.setState({stuck:t})}},{key:"navTo",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.props.widget.sticky;this.setState({currentGuid:e,jumpLinkHeight:r?this.stickyDiv.el.offsetHeight:0},(function(){var e=t.state,r=e.jumpLinkHeight,i=e.currentGuid,a=u.default("#widget-".concat(i));if(a&&a.length){var o,s=u.default("#widget-".concat(i," .heading"))||{},l=u.default("#widget-".concat(i," .heading-focus"))||{},c="s"===t.props.deviceClass,d=a.offset().top<window.scrollY;if(c&&d){var f=u.default(".header-main-navigation").height();o=a.offset().top-(r+nt+f)}else o=a.offset().top-(r+nt);t.animatedOnce=!1,u.default("html, body").animate({scrollTop:o},{duration:n?600:0,complete:n&&t.handleAnimationComplete&&setTimeout((function(){s.length?(s.get(0).focus(),u.default(":focus").css("outline","none")):l.length&&l.focus()}),500)})}}))}},{key:"observe",value:function(){this.resizeObserver.observe(this.widgetContainer)}},{key:"unobserve",value:function(){var e=this;this.setState({currentGuid:void 0},(function(){e.resizeObserver.unobserve(e.widgetContainer),u.default(window).off(rt,e.unobserve)}))}},{key:"toggleFocused",value:function(e){this.setState({focused:e})}},{key:"widgetContainerResized",value:function(e){var t=this;e.forEach((function(e){var n=e.contentRect.height,r=t.state,i=r.currentGuid,a=r.widgetContainerHeight;Math.round(n)!==a&&t.navTo(i,!1)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.widget,r=(n=void 0===n?{}:n).accordionAnalytics,o=n.children,s=void 0===o?[]:o,c=n.headerText,u=n.headerTextCustomPrefix,d=n.hTag,f=n.isFluid,h=n.progressiveDisclosure,p=n.sticky,m=n.isPureWhiteTheme,g=n.guid,v=n.headerTextPrefix,y=n.piscesDomain,w=n.bfPrefixImages,k=n.translatedBackground,_=n.associatedCarouselNav,E=t.deviceClass,C=this.state.stuck,T="s"===E,S=0===s.length,x="jump-link-nav-header-".concat(g),j=!C||T&&S||!T||v!==Ze,P=null;function A(){return!C&&h&&j&&!T?l.default.createElement("span",{className:"heading-3 v-fw-bold"},c):j?c:""}switch(v){case Ze:P=l.default.createElement(st,{stuck:C,progressiveDisclosure:h,isSmallView:T});break;case Ke:P=u&&l.default.createElement(ot,{stuck:C,progressiveDisclosure:h,isSmallView:T,headerTextCustomPrefix:u,headerText:c});break;case Xe:P=m&&l.default.createElement(lt,{stuck:C,progressiveDisclosure:h,isSmallView:T,piscesDomain:y,imageLink:w.lv,svImageLink:w.sv});break;case et:P=m&&l.default.createElement(ct,{stuck:C,progressiveDisclosure:h,isSmallView:T,piscesDomain:y,imageLink:w.lv,svImageLink:w.sv});break;default:P=void 0}var N=[Ke,Qe].includes(v)&&C,R=[Xe,et].includes(v)&&C,D=this.state.focused;return l.default.createElement(at,{sticky:p,progressive:h,handleStickyChange:this.handleStickyChange,isSmallView:T,toggleFocused:this.toggleFocused,ref:function(t){e.stickyDiv=t}},l.default.createElement("div",{className:i.concatClassNames(["full-bleed",f&&"full-bleed-fluid",C&&"stuck-margin",m&&C&&"stuck-pure-white",null==k?void 0:k.defaultLinkTheme])},l.default.createElement(i.Background,{className:"jln-background",background:k}),l.default.createElement("div",{className:i.concatClassNames(["content",f&&"content-fluid",S&&"content-linkless",N&&"stuck-padding",R&&"bf-stuck-padding",v===Ze&&C&&"top-deals",_&&"holiday-navigation"])},_&&l.default.createElement(l.default.Fragment,null,l.default.createElement(i.Header,{className:i.concatClassNames(["jump-link-header",S&&"jump-link-header-linkless",!c&&"noHeaderText",C&&"sr-only"]),id:x,level:d},l.default.createElement(l.default.Fragment,null,P,A())),C&&l.default.createElement(a.BrixAccordion,{className:i.concatClassNames(["holiday-navigation-jump-link-header",S&&"jump-link-header-linkless",!c&&"noHeaderText"]),onChange:function(e){i.analyticsClick(r,{schemaData:{interaction:{name:e}}})},contentId:"holiday-navigation-accordion",hideBorder:!0,label:c,showCaret:!0},l.default.createElement(ze.Carousel,{associatedClassName:"holiday-navigation-carousel-nav",panels:_.panels,isSmallView:T,widgetType:"JumpLinkNavigationWidget"})),s.length>0&&l.default.createElement(it,{blur:this.toggleFocused,className:i.concatClassNames(["holiday-navigation-jump-links-container",D&&"focused"]),focus:this.toggleFocused,headerText:c,isSmallView:T,links:s,onClick:this.navTo})),!_&&l.default.createElement(i.Header,{className:i.concatClassNames(["jump-link-header",S&&"jump-link-header-linkless",!c&&"noHeaderText"]),headerText:"",id:x,level:d},P,A()),!_&&s.length>0&&l.default.createElement("div",{className:i.concatClassNames(["jump-links-container",D&&"focused"])},l.default.createElement("div",{className:"inline-jump-links-wrapper"},l.default.createElement("span",{className:"skip-to body-copy heading-5"},"Skip to:  "),l.default.createElement("ul",{className:"jump-links"},s.map((function(t){var n=t.guid,r=O(t,ut);return l.default.createElement("li",{key:n},l.default.createElement(Ge,b({},r,{onClick:e.navTo,focus:e.toggleFocused.bind(e,!0),blur:e.toggleFocused.bind(e,!1)})))}))))))))}}]),n}(t.Component);dt.propTypes={deviceClass:n.string.isRequired,options:n.object,widget:n.shape({accordionAnalytics:n.shape({linkContent:n.string,linkPlacement:n.string,linkRegion:n.string,widgetType:n.string}),associatedCarouselNav:n.shape({panels:n.arrayOf(n.shape({links:n.shape($e)}))}),children:n.arrayOf(n.shape({guid:n.string.isRequired,headerText:n.string.isRequired,sourceGuid:n.string,track:n.string.isRequired})),headerText:n.string,headerTextPrefix:n.oneOf([Ke,Qe,Ze,Xe,et]).isRequired,headerTextCustomPrefix:n.string,hTag:i.HTagType,isFluid:n.bool,progressiveDisclosure:n.bool,sticky:n.bool,guid:n.string,bfPrefixImages:n.shape({lv:n.string,sv:n.string}),isPureWhiteTheme:n.bool,translatedBackground:n.shape({backgroundClassName:n.string,defaultLinkTheme:n.string})})};var ft="JumpLinkNavigationWidget",ht=function(e){w(n,e);var t=T(n);function n(e,r){var i;return m(this,n),(i=t.call(this,e,r)).setComponent(dt),i}return v(n,[{key:"createMountElement",value:function(e){var t=this.data,n=t.guid,r=t.version,i=t.isFluid,a='\n      <div\n        class="widget-jump-link-navigation widget '.concat(i?"fluid":"",'"\n        id="widget-').concat(n,'"\n        data-version="').concat(r,'"\n        data-device-class="').concat(this.deviceClass,'"\n        data-widget="widget-jump-link-navigation"\n        data-library="').concat(ft,'"\n      >\n      ').concat(e,"\n      </div>\n    ");return"".concat(a,"<script>").concat(this.createInitScript(ft).trim(),"<\/script>")}}]),n}(e.ReactWidget);function pt(e,t,n,r){return e.map((function(e){var a=!1,o=(null==e?void 0:e.siteNodePublicId)||(null==e?void 0:e.landingPageHREF);n&&(a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new RegExp(e,"i").test(t)}(r,o));var s=e.image,l=i.imageTranslate({aspectRatio:s.aspectRatio,path:s.path,guid:s.guid,className:"cn-panel-image",height:70,higherDensity:2,piscesDomain:t,width:70});return p(p({},e),{},{image:l,isCurrentPage:a})}))}function mt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="s"===t,i=n.currentPageCatId,a=We(n,"metaLayer.env_pisces","https://pisces.bbystatic.com");return{panels:e.panels&&pt(e.panels,a,e.currentPageIndicator,i),isSmallView:r,piscesDomain:a}}function gt(e,t){e.children.map((function(n){return n.track=i.newCreateDataTrackValue(p(p({},e),{},{displayText:n.headerText}),t),n}))}function vt(e){var t,n;switch(e){case Ue:t=!0;break;case Je:t=!0,n=!0}return{progressiveDisclosure:n,sticky:t}}var yt={background:"techBlack",children:[]};var bt=function(e){w(n,e);var t=T(n);function n(){return m(this,n),t.apply(this,arguments)}return v(n)}(ht);return bt.translate=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.liveConfig,o=void 0===a?{}:a,s=o.enableWidgetTypeTrack,l=We(r,"metaLayer.env_pisces","https://pisces.bbystatic.com"),c=t.associatedWidget,u=t.children,d=t.displayType;c&&(d=Je,e=mt(c,n,r));var f=vt(d),h=f.progressiveDisclosure,p=f.sticky,m=null==u?void 0:u.filter((function(e){return e.headerText}));return m&&gt(t,s),{accordionAnalytics:{linkContent:"accordion",linkPlacement:t.linkPlacement,linkRegion:t.linkRegion,widgetType:"JumpLinkNavigationWidget"},bfPrefixImages:l.includes("test")?tt.test:tt.prod,children:m,guid:t.guid,headerText:t.headerText,headerTextCustomPrefix:t.headerTextCustomPrefix,headerTextPrefix:t.headerTextPrefix,hTag:t.hTag?parseInt(t.hTag,10):2,isFluid:"l"===n&&!0===t.isFluid,isPureWhiteTheme:t.background===Ye,piscesDomain:l,progressiveDisclosure:h,sticky:p,translatedBackground:i.translateBackground({backgroundType:"solid",backgroundSolid:t.background}),associatedCarouselNav:e}},bt}(widgetsViewExternals,React,PropTypes,$,widgetsViewExternals,patternLibrary,analyticsQ);
