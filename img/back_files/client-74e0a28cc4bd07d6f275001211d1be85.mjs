/*! For license information please see client-74e0a28cc4bd07d6f275001211d1be85.mjs.LICENSE.txt */
(()=>{var e={791:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{ADD_ADD_ON_ITEM:()=>f,ADD_DEVICE:()=>Ne,ADD_DEVICE_MODAL:()=>Ie,ADD_LINE_ITEM:()=>R,ADD_SKU_TO_COMPARE:()=>re,ADD_TO_CART_SUCCESS:()=>De,BUYING_OPTIONS_ANCHOR:()=>Y,CHANGE_SKU:()=>_,CLEAR_ALERT:()=>F,CLEAR_SEARCH:()=>Qe,CURRENTLY_INCLUDED_IN_THIS_PACKAGE:()=>At,DANGER_ALERT:()=>k,DEBUG:()=>L,DEREGISTER_CART_ITEMS:()=>dt,DEVICE_DETAILS_MODAL:()=>fe,DISPLAY_ALERT:()=>b,ERROR:()=>h,INFO:()=>N,INFO_ALERT:()=>M,INTERRUPTION_PERMISSION_RESPONSE:()=>et,INTERRUPTION_STATUS_UPDATE:()=>nt,LOG:()=>A,MANUFACTURE_CONTENT_ANCHOR:()=>B,MODAL_CLOSED:()=>ye,MODAL_OPENED:()=>Se,PRICE_ITEM:()=>ft,QUESTIONS_ANSWERS_ANCHOR:()=>Z,RATINGS_REVIEWS_ANCHOR:()=>z,REFRESH_DEVICE_CONFIGURATION:()=>te,REGISTER_CART_ITEMS:()=>ct,REMOVE_ADD_ON_ITEM:()=>v,REMOVE_DEVICE:()=>he,REMOVE_LINE_ITEM:()=>C,REMOVE_SKU_FROM_COMPARE:()=>ie,REQUEST_INTERRUPTION_PERMISSION:()=>Je,RETURN_FORM:()=>at,SET_ACTIVATED_PRICING_OPTION:()=>Ze,SET_ANCHOR:()=>$,SET_DESTINATION_ZIP_CODE:()=>q,SET_DEVICE_LIST_COUNT:()=>Ue,SET_DEVICE_LIST_FILTER:()=>Ve,SET_DEVICE_LIST_PAGE:()=>Pe,SET_DEVICE_LIST_SEARCH:()=>we,SET_DEVICE_LIST_SORT:()=>je,SET_EASY_REPLENISH:()=>Ke,SET_FACET_VIEW_VISIBILITY:()=>p,SET_FORM:()=>ot,SET_FULFILLMENT_TYPE:()=>_t,SET_OPENBOX_STORE_DEPRECATED:()=>pt,SET_PROTECTION_PLAN:()=>ue,SET_SAVED_ITEMS_SKU_STATE:()=>se,SET_SEARCH_ZIP_CODE:()=>T,SET_SELECTED_INSTALLATION_SKU:()=>me,SET_SELECTED_NEARBY_STORE_ID_LIST:()=>G,SET_SKU_LIST_FACET_LIST:()=>c,SET_SKU_LIST_PAGE:()=>d,SET_SKU_LIST_SORT:()=>a,SET_STORE_ID:()=>x,SET_TIME_BASED_SUBSCRIPTION:()=>He,SET_TRADE_IN:()=>vt,SET_VEHICLE:()=>Ee,SKU_CARD_ADD_TO_CART_CLICKED:()=>Ye,SKU_CARD_PDP_CLICKED:()=>We,SPECIFICATIONS_ANCHOR:()=>Q,STEPUP_ANCHOR:()=>X,SUCCESS_ALERT:()=>U,SWAP_SKU:()=>Tt,UPDATE_CART_COUNT:()=>Oe,USER_LIST_MODIFIED:()=>le,VENDOR_SERIES_ANCHOR:()=>J,VIDEO_PLAYED:()=>Rt,WARN:()=>g,WARNING_ALERT:()=>V,WARRANTY_PRICE_CHANGE:()=>Ct,addAddOnItem:()=>S,addDevice:()=>ge,addLineItem:()=>O,addSkuToCompare:()=>oe,addToCartSuccess:()=>Ae,changeSku:()=>I,clearAlert:()=>j,clearSearch:()=>Xe,currentlyIncludedInThisPackage:()=>Nt,deregisterCartItems:()=>Et,displayAlert:()=>w,interruptionPermissionResponse:()=>tt,interruptionStatusUpdate:()=>rt,log:()=>P,modalClosed:()=>ve,modalOpened:()=>Te,refreshDeviceConfiguration:()=>ne,registerCartItems:()=>st,removeAddOnItem:()=>m,removeDevice:()=>Le,removeLineItem:()=>D,removeSkuFromCompare:()=>ae,requestInterruptionPermission:()=>$e,returnForm:()=>ut,setActivatedPricingOption:()=>ze,setAnchor:()=>ee,setDeprecatedOpenboxStoreChanged:()=>lt,setDestinationZipCode:()=>W,setDeviceListCount:()=>Me,setDeviceListFilter:()=>ke,setDeviceListPage:()=>be,setDeviceListSearch:()=>Fe,setDeviceListSort:()=>xe,setEasyReplenish:()=>qe,setFacetViewVisibility:()=>l,setForm:()=>it,setFulfillmentType:()=>It,setProtectionPlan:()=>ce,setSavedItemsSkuState:()=>de,setSearchZipCode:()=>y,setSelectedInstallationSku:()=>Re,setSelectedNearbyStoreIdList:()=>K,setSkuListFacetList:()=>s,setSkuListPage:()=>E,setSkuListSort:()=>u,setStoreId:()=>H,setTimeBasedSubscription:()=>Ge,setTradeIn:()=>mt,setVehicle:()=>pe,skuCardEvent:()=>Be,swapSku:()=>yt,updateCartCount:()=>Ce,updateItemPrice:()=>St,userListModified:()=>_e,videoPlayed:()=>Ot,warrantyPriceChange:()=>Dt});var a="SET_SKU_LIST_SORT";function u(e){return{type:a,sort:e}}var c="SET_SKU_LIST_FACET_LIST";function s(e){return{type:c,facetList:e}}var d="SET_SKU_LIST_PAGE";function E(e){return{type:d,page:e}}var p="SET_FACET_VIEW_VISIBILITY";function l(e,t){return{type:p,isVisible:e,facetField:t}}var _="CHANGE_SKU";function I(e){return{type:_,skuId:e}}var f="ADD_ADD_ON_ITEM";function S(e){var t=e.skuId;return{type:f,payload:{skuId:t}}}var T="SET_SEARCH_ZIP_CODE";function y(e){var t=e.zipcode;return{type:T,payload:{zipcode:t}}}var v="REMOVE_ADD_ON_ITEM";function m(e){var t=e.skuId;return{type:v,payload:{skuId:t}}}var R="ADD_LINE_ITEM";function O(e){return{type:R,lineItemId:e}}var C="REMOVE_LINE_ITEM";function D(e){return{type:C,lineItemId:e}}var A="LOG",N="INFO",g="WARN",h="ERROR",L="DEBUG";function P(e,t,n,r,o,i,a){return{type:A,level:e,message:t,error:n,componentId:o,creatorNamespace:r,contractVersion:i,instanceId:a}}var b="DISPLAY_ALERT",U="SUCCESS_ALERT",M="INFO_ALERT",V="WARNING_ALERT",k="DANGER_ALERT";function w(e,t){return{id:Math.random().toString(10),type:b,level:e,message:t}}var F="CLEAR_ALERT";function j(e){return{displayAlertId:e.id,type:F}}var x="SET_STORE_ID";function H(e){if(!e)throw new Error("Set store requires the storeId.");return{type:x,storeId:e}}var G="SET_SELECTED_NEARBY_STORE_ID_LIST";function K(e){return{type:G,payload:{storeIdList:e}}}var q="SET_DESTINATION_ZIP_CODE";function W(e){return function(e){if("string"!=typeof e||5!==e.length)throw new Error("Invalid zip code provided to action creator.")}(e),{type:q,destinationZipCode:e}}var Y="BUYING_OPTIONS_ANCHOR",B="MANUFACTURE_CONTENT_ANCHOR",Z="QUESTIONS_ANSWERS_ANCHOR",z="RATINGS_REVIEWS_ANCHOR",Q="SPECIFICATIONS_ANCHOR",X="STEPUP_ANCHOR",J="VENDOR_SERIES_ANCHOR",$="SET_ANCHOR";function ee(e,t){return{type:$,to:e,timeStamp:t}}var te="REFRESH_DEVICE_CONFIGURATION";function ne(e){return{type:te,deviceId:e}}var re="ADD_SKU_TO_COMPARE";function oe(e){return{type:re,skuId:e}}var ie="REMOVE_SKU_FROM_COMPARE";function ae(e){return{type:ie,skuId:e}}var ue="SET_PROTECTION_PLAN";function ce(e,t){return{type:ue,skuId:e,parentSkuId:t}}var se="SET_SAVED_ITEMS_SKU_STATE";function de(e,t){return{type:se,isSaved:t,skuId:e}}var Ee="SET_VEHICLE";function pe(e,t){var n=!1;if((null===e&&null===t||"number"==typeof e&&"string"==typeof t&&e>=0&&t)&&(n=!0),!n)throw new Error("One or more required parameters is missing or invalid.");return{type:Ee,vehicleId:e,vehicleYear:t}}var le="USER_LIST_MODIFIED";function _e(e,t){return{type:le,uuid:e,listType:t}}var Ie="ADD_DEVICE_MODAL",fe="DEVICE_DETAILS_MODAL",Se="MODAL_OPENED";function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:Se,modalType:e,params:o({},t)}}var ye="MODAL_CLOSED";function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:ye,modalType:e,params:o({},t)}}var me="SET_SELECTED_INSTALLATION_SKU";function Re(e,t){return{type:me,payload:{skuId:e,parentSkuId:t}}}var Oe="UPDATE_CART_COUNT",Ce=function(e){var t=e.cartCount;return{type:Oe,payload:{cartCount:t}}},De="ADD_TO_CART_SUCCESS",Ae=function(e){var t=e.cartCount,n=e.cartSubTotal,r=e.items,o=void 0===r?[]:r,i=e.lineId,a=e.skuId,u=e.hasPaidMembershipSkuInCart;return{type:De,payload:{cartCount:t,cartSubTotal:n,skuId:a,lineId:i,items:o,hasPaidMembershipSkuInCart:u}}},Ne="ADD_DEVICE";function ge(e){return{type:Ne,deviceUuid:e}}var he="REMOVE_DEVICE";function Le(e){return{type:he,deviceUuid:e}}var Pe="SET_DEVICE_LIST_PAGE",be=function(){return{type:Pe}},Ue="SET_DEVICE_LIST_COUNT",Me=function(e){return{type:Ue,count:e}},Ve="SET_DEVICE_LIST_FILTER",ke=function(e){var t=e.filter,n=e.groupUuid;return{type:Ve,filter:t,groupUuid:n}},we="SET_DEVICE_LIST_SEARCH",Fe=function(e){return{type:we,search:e}},je="SET_DEVICE_LIST_SORT",xe=function(e){return{type:je,sort:e}},He="SET_TIME_BASED_SUBSCRIPTION",Ge=function(e,t){return{type:He,frequency:e,units:t}},Ke="SET_EASY_REPLENISH",qe=function(e){return{type:Ke,replenishId:e}},We="SKU_CARD_PDP_CLICKED",Ye="SKU_CARD_ADD_TO_CART_CLICKED",Be=function(e){return{type:e.skuCardEventType,epValue:e.epValue,skuId:e.skuId,instanceId:e.instanceId}},Ze="SET_ACTIVATED_PRICING_OPTION",ze=function(e){var t=e.skuId,n=void 0===t?"":t,r=e.mobileContract,o=e.retailOption;return{type:Ze,skuId:n,mobileContract:r,retailOption:o}},Qe="CLEAR_SEARCH",Xe=function(e){var t=e.instanceId;return{type:Qe,payload:{instanceId:t}}},Je="REQUEST_INTERRUPTION_PERMISSION",$e=function(e){var t=e.deviceClass,n=e.interruptionId,r=e.interruptionType,o=e.placement,i=e.requestedInterruptionDuration,a=e.options;return{type:Je,payload:{deviceClass:t,interruptionId:n,interruptionType:r,placement:o,requestedInterruptionDuration:i,options:a}}},et="INTERRUPTION_PERMISSION_RESPONSE",tt=function(e){var t=e.interruptionDuration,n=e.interruptionId,r=e.interruptionType,o=e.permissionGranted,i=e.reason;return{type:et,payload:{interruptionDuration:t,interruptionId:n,interruptionType:r,permissionGranted:o,reason:i}}},nt="INTERRUPTION_STATUS_UPDATE",rt=function(e){var t=e.interruptionId,n=e.status,r=e.interruptionType,o=e.placement;return{type:nt,payload:{interruptionId:t,interruptionType:r,placement:o,status:n}}},ot="SET_FORM",it=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"defaultId";return{type:ot,payload:{formData:e,formId:t}}},at="RETURN_FORM",ut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"defaultId",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:at,payload:{formData:e,formId:t,isFormValid:n}}},ct="REGISTER_CART_ITEMS",st=function(e){var t=e.cartItems;if(!t||!t.every((function(e){return e&&e.itemKey&&e.skuId})))throw new Error("Invalid cartItems: ".concat(JSON.stringify(t),". Each cartItem must have an itemKey and a skuId"));return{type:ct,payload:t}},dt="DEREGISTER_CART_ITEMS",Et=function(e){var t=e.itemKeys;return{type:dt,payload:t}},pt="SET_OPENBOX_STORE_DEPRECATED";function lt(e){return{type:pt,payload:e}}var _t="SET_FULFILLMENT_TYPE",It=function(e){var t=e.skuId,n=e.fulfillmentType;return{type:_t,payload:{skuId:t,fulfillmentType:n}}},ft="PRICE_ITEM",St=function(e){var t=e.gspUnitPrice,n=e.skuId;return{type:ft,payload:{gspUnitPrice:t,skuId:n}}},Tt="SWAP_SKU",yt=function(e){var t=e.currentSkuId,n=e.replacementSkuId;return{type:Tt,payload:{currentSkuId:t,replacementSkuId:n}}},vt="SET_TRADE_IN";function mt(e,t){return{type:vt,payload:{skuId:e,isTradeInSelected:t}}}var Rt="VIDEO_PLAYED";function Ot(e){return{type:Rt,payload:{videoPlayerId:e}}}var Ct="WARRANTY_PRICE_CHANGE",Dt=function(e){var t=e.skus;return{type:Ct,payload:{skus:void 0===t?[]:t}}},At="CURRENTLY_INCLUDED_IN_THIS_PACKAGE";function Nt(e){var t=e.bundleSkuIds;return{type:At,payload:{bundleSkuIds:t}}}},52:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.error=t.warn=t.debug=t.info=t.setInstanceId=t.setComponentDescriptor=t.setStore=t.LogProvider=void 0;var o,i,a,u=n(791),c=r(n(92));function s(e,t,n){var r=u.log(e,t,n,a&&a.creatorNamespace,a&&a.componentId,a&&a.contractVersion,i);o&&o.dispatch?o.dispatch(r):"undefined"!=typeof actionLog&&actionLog.dispatch(r,i)}t.LogProvider=c.default,t.setStore=function(e){o=e},t.setInstanceId=function(e){i=e},t.setComponentDescriptor=function(e){a=e},t.info=function(e,t){s(u.INFO,e,t)},t.warn=function(e,t){s(u.WARN,e,t)},t.error=function(e,t){s(u.ERROR,e,t)},t.debug=function(e,t){s(u.DEBUG,e,t)}},92:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(52),d=c(n(86)),E=u(n(363)),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.componentId,n=e.creatorNamespace,r=e.contractVersion,o=e.instanceId,i=e.store;return s.setStore(i),s.setInstanceId(o),s.setComponentDescriptor({componentId:t,creatorNamespace:n,contractVersion:r}),{log:{debug:s.debug,error:s.error,info:s.info,warn:s.warn}}},t.prototype.render=function(){return E.Children.only(this.props.children)},t.childContextTypes={log:d.default.shape({debug:d.default.func.isRequired,error:d.default.func.isRequired,info:d.default.func.isRequired,warn:d.default.func.isRequired})},t.propTypes={children:d.default.object.isRequired,componentId:d.default.string.isRequired,creatorNamespace:d.default.string.isRequired,contractVersion:d.default.string.isRequired,instanceId:d.default.string.isRequired,store:d.default.object.isRequired},t}(E.default.Component);t.default=p},499:(e,t,n)=>{"use strict";n(921);var r=n(363),o=n.n(r);const i=ReactDOM,a=initializer;var u,c=n.n(a),s=n(86),d=n.n(s);function E(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(u||(u={}));var p={type:"xstate.init"};function l(e){return void 0===e?[]:[].concat(e)}function _(e){return{type:"xstate.assign",assignment:e}}function I(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function f(e){return function(t){return e===t}}function S(e){return"string"==typeof e?{type:e}:e}function T(e,t){return{value:e,context:t,actions:[],changed:!1,matches:f(e)}}function y(e,t,n){var r=t,o=!1;return[e.filter((function(e){if("xstate.assign"===e.type){o=!0;var t=Object.assign({},r);return"function"==typeof e.assignment?t=e.assignment(r,n):Object.keys(e.assignment).forEach((function(o){t[o]="function"==typeof e.assignment[o]?e.assignment[o](r,n):e.assignment[o]})),r=t,!1}return!0})),r,o]}function v(e,t){void 0===t&&(t={});var n=E(y(l(e.states[e.initial].entry).map((function(e){return I(e,t.actions)})),e.context,p),2),r=n[0],o=n[1],i={config:e,_options:t,initialState:{value:e.initial,actions:r,context:o,matches:f(e.initial)},transition:function(t,n){var r,o,a="string"==typeof t?{value:t,context:e.context}:t,u=a.value,c=a.context,s=S(n),d=e.states[u];if(d.on){var p=l(d.on[s.type]);try{for(var _=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(p),v=_.next();!v.done;v=_.next()){var m=v.value;if(void 0===m)return T(u,c);var R="string"==typeof m?{target:m}:m,O=R.target,C=R.actions,D=void 0===C?[]:C,A=R.cond,N=void 0===A?function(){return!0}:A,g=void 0===O,h=null!=O?O:u,L=e.states[h];if(N(c,s)){var P=E(y((g?l(D):[].concat(d.exit,D,L.entry).filter((function(e){return e}))).map((function(e){return I(e,i._options.actions)})),c,s),3),b=P[0],U=P[1],M=P[2],V=null!=O?O:u;return{value:V,context:U,actions:b,changed:O!==u||b.length>0||M,matches:f(V)}}}}catch(e){r={error:e}}finally{try{v&&!v.done&&(o=_.return)&&o.call(_)}finally{if(r)throw r.error}}}return T(u,c)}};return i}var m=function(e,t){return e.actions.forEach((function(n){var r=n.exec;return r&&r(e.context,t)}))};n(234);function R(e,t){var n,o,i=(n=function(){return function(e){var t=e.initialState,n=u.NotStarted,r=new Set,o={_machine:e,send:function(o){n===u.Running&&(t=e.transition(t,o),m(t,S(o)),r.forEach((function(e){return e(t)})))},subscribe:function(e){return r.add(e),e(t),{unsubscribe:function(){return r.delete(e)}}},start:function(r){if(r){var i="object"==typeof r?r:{context:e.config.context,value:r};t={value:i.value,actions:[],context:i.context,matches:f(i.value)}}return n=u.Running,m(t,p),o},stop:function(){return n=u.Stopped,r.clear(),o},get state(){return t},get status(){return n}};return o}(v(e.config,t||e._options)).start()},(o=r.useRef()).current||(o.current={v:n()}),o.current.v),a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}((0,r.useState)((function(){return function(e){var t;return e.subscribe((function(e){t=e})).unsubscribe(),t}(i)})),2),c=a[0],s=a[1];return(0,r.useEffect)((function(){t&&(i._machine._options=t)})),(0,r.useEffect)((function(){return i.subscribe(s),function(){i.stop()}}),[]),[c,i.send,i]}const O=actionLog;var C=n(791);function D(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){D(i,r,o,a,u,"next",e)}function u(e){D(i,r,o,a,u,"throw",e)}a(void 0)}))}}var N="/streams/v3/RECENTLY_VIEWED";function g(){return g=A((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=yield e("".concat(t).concat(N));if(!n.ok)throw new Error("unexpected status ".concat(n.status));var r=yield n.json();return!!r.streamData.length})),g.apply(this,arguments)}const h=createFetchService;var L=n.n(h),P=n(52),b=n(970);const U=L()({componentId:b.componentId,contractVersion:b.contractVersion,creatorNamespace:b.creatorNamespace},P,"welcome-back-toast");function M(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var V="wbtLastDisplayedTimestamp",k="last-item-viewed-toast-notification",w="CHECK_FREQUENCY_TIMEOUT",F="DISPLAYED_TIMEOUT_EXPIRED",j="PERMISSION_RESPONSE",x="USER_DISMISSES_TOAST",H="HAS_RECENTLY_VIEWED_ITEMS",G="HAS_NO_RECENTLY_VIEWED_ITEMS",K="FETCH_RECENTLY_VIEWED_FAILURE",q="hidden",W="check-recently-viewed-status",Y="askForPermissionToDisplay",B="displayed",Z="dismissed",z=()=>{localStorage.setItem(V,"".concat(Date.now()))},Q=function(){var e,t=(e=function*(e,t){var n,r;try{n=yield function(e){return g.apply(this,arguments)}(U,t)}catch(e){r=e}e(r?K:n?H:G)},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){M(i,r,o,a,u,"next",e)}function u(e){M(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),X=e=>{(0,O.dispatch)((0,C.requestInterruptionPermission)({deviceClass:"l",interruptionId:"LAST_ITEM_VIEWED_TOAST_ID",interruptionType:k,placement:"header",requestedInterruptionDuration:e.toastWaitTime}),e.instanceId)},J=e=>{clearTimeout(e.displayTimeoutId)},$=e=>{var{disabledCategoryIds:t=[]}=e,{catId:n}=window._metaLayer||{};return t.includes(n)},ee=e=>{var{toastDisplayFrequency:t}=e,n=(new Date).getTime(),r=localStorage.getItem(V);if(null===r)return!0;var o=parseInt(r,10);return!Number.isNaN(o)&&n-o>=t};const te=brix;var ne=function(e,t){return e.current&&(e.current.contains(t)||e.current===t)},re=e=>{var{children:t,id:n,onClose:i}=e,a=(0,r.useRef)();return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!1},o=(0,r.useCallback)((function(r){n(r)||ne(e,r.target)||t(r)}),[e,t,n]);(0,r.useEffect)((function(){return document.addEventListener("keyup",o),document.addEventListener("click",o),function(){document.removeEventListener("click",o),document.removeEventListener("keyup",o)}}),[o])}(a,i),o().createElement("div",{ref:a},o().createElement(te.BrixOverlay,{id:n,onClose:i},o().createElement(te.BrixButton,{buttonStyle:"unstyled",className:"toast-content-button",size:"medium",onClick:i},t)))};function oe(e){var t,{disabledCategoryIds:n,instanceId:i,spanUrl:a,toastWaitTime:u,toastDisplayFrequency:c}=e,s=(0,r.useRef)(v({id:"welcome-back-toast-machine-".concat((t={disabledCategoryIds:n,instanceId:i,spanUrl:a,toastWaitTime:u,toastDisplayFrequency:c}).instanceId),initial:"hidden",context:t,states:{[q]:{on:{[w]:[{cond:$,target:Z},{cond:ee,target:W},{target:Z}]}},[W]:{entry:["getRecentlyViewedStatus"],on:{[H]:Y,[G]:Z,[K]:Z}},[Y]:{entry:["setUpActionLogListener","requestPermissionFromInterruptionsManager"],on:{[j]:[{cond:(e,t)=>t.permissionGranted,target:B},{target:Z}]}},[B]:{entry:["setLastDisplayedTimestamp","setDisplayTimeout"],on:{[F]:Z,[x]:Z}},[Z]:{entry:["clearDisplayTimeout"]}}})),[d,E]=R(s.current,{actions:{clearDisplayTimeout:J,requestPermissionFromInterruptionsManager:X,getRecentlyViewedStatus:()=>{Q(E,a)},setDisplayTimeout:_({displayTimeoutId:e=>((e,t)=>setTimeout((()=>{e(F)}),t.toastWaitTime))(E,e)}),setLastDisplayedTimestamp:z,setUpActionLogListener:e=>((e,t)=>{(0,O.listen)((t=>{t.type===C.INTERRUPTION_PERMISSION_RESPONSE&&t.payload.interruptionType===k&&e({type:j,permissionGranted:t.payload.permissionGranted})}),t.instanceId)})(E,e)},devTools:!1});(0,r.useEffect)((()=>{d.matches(q)&&E(w)}),[d,E]);var p=(0,r.useCallback)((()=>{E(x)}),[E]);return d.matches(B)?o().createElement(re,{id:"welcome-back-toast",onClose:p},o().createElement("div",{className:"text-center"},o().createElement("h3",{className:"body-copy-lg v-m-bottom-xxs"},"Welcome back!"),o().createElement("div",{className:"body-copy"},"See the items youâ€™ve recently viewed."))):null}re.propTypes={children:d().node.isRequired,id:d().string.isRequired,onClose:d().func.isRequired},oe.propTypes={disabledCategoryIds:d().arrayOf(d().string),instanceId:d().string,spanUrl:d().string,toastDisplayFrequency:d().number,toastWaitTime:d().number};const ie=oe;function ae(){return ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}var ue={componentId:b.componentId,contractVersion:b.contractVersion,creatorNamespace:b.creatorNamespace,componentVersion:"22.13.21"};c().registerComponent(ue,(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.querySelector(t);(0,i.hydrate)(o().createElement(ie,ae({instanceId:e},n)),r)}))},921:(e,t,n)=>{var r=window.metaLayer||window._metaLayer,o="shop/welcome-back-toast/dist/client/",i=r?"".concat(r.env_assets,"/").concat(o):o;n.p=i},970:e=>{e.exports={creatorNamespace:"shop",componentId:"welcome-back-toast",componentVersion:"",contractVersion:"v1",assetBasePath:"dist/client"}},516:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var a,u,c=o(e),s=1;s<arguments.length;s++){for(var d in a=Object(arguments[s]))n.call(a,d)&&(c[d]=a[d]);if(t){u=t(a);for(var E=0;E<u.length;E++)r.call(a,u[E])&&(c[u[E]]=a[u[E]])}}return c}},29:(e,t,n)=>{"use strict";n(516),n(363)},234:(e,t,n)=>{"use strict";n(29)},86:e=>{"use strict";e.exports=PropTypes},363:e=>{"use strict";e.exports=React}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="",n(499)})();
//# sourceMappingURL=client-74e0a28cc4bd07d6f275001211d1be85.mjs.map