!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.analyticsQ=e():t.analyticsQ=e()}(self,(function(){return(()=>{"use strict";var t={579:(t,e,o)=>{function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o.r(e),o.d(e,{listen:()=>a,dispatch:()=>f,register:()=>u,default:()=>s});var r=[],i=[],c=function(t,e,o){setTimeout((function(){return t(Object.assign({},e),o)}),0)},a=function(t){if("function"!=typeof t)throw new Error("callback must be a function");i.push({callback:t}),r.forEach((function(e){return c(t,e.action,e.instanceId)}))},f=function(t,e){if("object"!==n(t))throw new Error("action must be an object");if("string"!=typeof t.type)throw new Error("action.type must be a string");r.push({action:Object.assign({},t),instanceId:e}),i.forEach((function(o){var n=o.callback;return c(n,t,e)}))},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.error("Deprecation warning: .register AnalyticsQ export const is deprecated. Component with id ".concat(t.id," not registered.")),{}};const s={dispatch:f,listen:a,register:u}}},e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={exports:{}};return t[n](r,r.exports,o),r.exports}return o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o(579)})()}));

!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.actionLog=o():t.actionLog=o()}(this,(function(){return(()=>{"use strict";var t={d:(o,e)=>{for(var n in e)t.o(e,n)&&!t.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:e[n]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};t.r(o),t.d(o,{consoleLogActions:()=>l,default:()=>p,dispatch:()=>a,getAllActions:()=>s,listen:()=>f,unlisten:()=>i,version:()=>e.i8});const e={i8:"3.0.1"};function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var r=[],c=[],i=function(t){c=c.filter((function(o){return o.source!==t}))};function u(t,o,e){setTimeout((function(){return t(Object.assign({},o),e)}),0)}var f=function(t,o){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replay:!0};if("function"!=typeof t)throw new Error("callback must be a function");if("string"!=typeof o)throw new Error("source must be a string");c.push({callback:t,source:o});var n=e.replay;return n&&r.filter((function(t){return t.source!==o})).forEach((function(o){return u(t,o.action,o.source)})),function(){return i(o)}},s=function(){return[].concat(r)},a=function(t,o){if("object"!==n(t))throw new Error("action must be an object");if("string"!=typeof t.type)throw new Error("action.type must be a string");if("string"!=typeof o)throw new Error("source must be a string");r.push({action:Object.assign({},t),source:o}),c.filter((function(t){return t.source!==o})).forEach((function(e){return u(e.callback,t,o)}))},l=function(){f((function(t,o){return console.log(t,"Source: ".concat(o))}),"aFakeInstanceIdThatWillNotBeFiltered")};const p={dispatch:a,getAllActions:s,listen:f,version:e.i8,unlisten:i,consoleLogActions:l};return o})()}));

var getConfigService;(()=>{var e={640:function(e,t,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(583)],void 0===(i="function"==typeof(n=function(r,n){"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return"object"===o(e)&&null!==e||(console.error("getConfigService: Invalid config object: ".concat(e)),e={}),{getServiceConfig:function(t){"object"!==o(e.services)&&(e.services={}),"object"!==o(e.services[t])&&(e.services[t]={});var r=JSON.parse(JSON.stringify(e.services[t]));return new n.ClientLiveConfig(r)},getComponentConfig:function(t,r){"object"!==o(e.components)&&(e.components={}),"object"!==o(e.components[t])&&(e.components[t]={}),"object"!==o(e.components[t][r])&&(e.components[t][r]={});var i=JSON.parse(JSON.stringify(e.components[t][r]));return new n.ClientLiveConfig(i)}}},e.exports=t.default})?n.apply(t,o):n)||(e.exports=i)},583:(e,t,r)=>{"use strict";function n(e,t,r){var n=t.split(".").reduce((function(e,t){if("object"==typeof e&&null!==e)return e[t]}),e);return void 0===n?r:n}function o(e){return null==e}function i(e){return"object"==typeof e&&!Array.isArray(e)}function a(e){return Array.isArray(e)}r.r(t),r.d(t,{ClientLiveConfig:()=>l});var s=r(634),u=r.n(s),c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)},l=function(){function e(e,t){if(void 0===t&&(t={defaults:{}}),"object"!=typeof t)throw new Error("options must be an object");if(this._options=c({defaults:{}},t),"object"!=typeof e)throw new Error("bucket must be an object");if(this._bucket=e,"object"!=typeof this._options.defaults)throw new Error("defaults must be an object");this.defaults=this._options.defaults,void 0!==r.g.localStorage&&void 0!==r.g.sessionStorage&&(this._persistenceManager=new(u())(u().handlers.LocalStorageHandler))}return e.prototype.get=function(e){if("string"!=typeof e)throw new Error("keyPath must be a string");var t=n(this._bucket,e),r=n(this.defaults,e);return o(t)?o(r)?void 0:this.parseValue(r):this.parseValue(t)},e.prototype.parseValue=function(e){var t=this;if(Array.isArray(e)?e=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}(e):i(e)&&(e=c({},e)),function(e){return"string"==typeof e}(e))return function(e,t){var r=e.match(/^\$\{([a-zA-Z0-9_.]+)\}$/);return r?t.get(r[1]):e.replace(/\$\{([a-zA-Z0-9_.]+)\}/g,(function(e,r){return""+t.get(r)}))}(e,this);if(i(e))for(var r in e){var n=this.parseValue(e[r]);o(n)||(e[r]=n)}return a(e)&&e.forEach((function(r,n){var i=t.parseValue(r);void 0!==i&&a(e)&&!o(e)&&(e[n]=i)})),e},e.prototype.ramp=function(e,t){if(void 0===t&&(t={persist:!0}),!this._persistenceManager)return!1;var r=Number(this.get(e)),n=!1;if(t.persist&&(n=JSON.parse(""+this._persistenceManager.get(e,null))),r<0||r>1)throw new Error("ramp value must be 0 through 1");if(0===r||!1===n&&r<1)return!1;if(1===r||!0===n)return!0;var o=this._random()<r;return t.persist&&this._persistenceManager.set(e,JSON.stringify(o)),o},e.prototype._random=function(){return Math.random()},e}()},634:function(e){var t;t=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageHandler=t.CookieHandler=void 0;var n=i(r(2)),o=i(r(3));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}t.CookieHandler=n,t.LocalStorageHandler=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,o=/\d{4}-?\d{4}-?\d{4}-?\d{4}/,i=/\d{3}-\d{2}-\d{4}/i;t.hasEmailAddress=function(e){return n.test(e)},t.hasCreditCard=function(e){return o.test(e)},t.hasSsn=function(e){return i.test(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(){},t.get=function(e){for(var t=encodeURIComponent(e),r=n.r().split("; "),o=0;o<r.length;o++)if(r[o].substr(0,t.length+1)===t+"=")return decodeURIComponent(r[o].substr(t.length+1));return null},t.set=o,t.remove=function(e,t){return o(e,"",{domain:t&&t.domain,expireAt:new Date(0)}),!0};var n={r:function(){return document.cookie},w:function(e){document.cookie=e}};function o(e,t,r){var o,i=[encodeURIComponent(e)+"="+encodeURIComponent(t)];r&&r.expireAt&&i.push("expires="+r.expireAt.toUTCString()),i.push("path="+(r&&r.path||"/"),"domain="+((o=r&&r.domain)?o.replace(/^\.?/,"."):"."+window.location.hostname.split(".").slice(-2).join("."))),r&&r.secure&&i.push("secure"),n.w(i.join("; ")+"; ")}t.c=n},function(e,t,r){"use strict";function n(e){return sessionStorage.removeItem(e),localStorage.removeItem("d_"+e),localStorage.removeItem("e_"+e),!0}Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(){localStorage.setItem("test","1"),localStorage.removeItem("test"),sessionStorage.setItem("test","1"),sessionStorage.removeItem("test")},t.get=function(e){return sessionStorage.getItem(e)||(new Date(localStorage.getItem("e_"+e))<new Date?(n(e),null):localStorage.getItem("d_"+e))},t.set=function(e,t,r){r&&r.expireAt?(localStorage.setItem("e_"+e,r.expireAt),localStorage.setItem("d_"+e,t)):sessionStorage.setItem(e,t)},t.remove=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1));function a(e,t){return JSON.parse(e.get(t))}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handler=t;try{this.handler.init()}catch(e){this.handler=o.CookieHandler,this.handler.init()}}return n(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if("string"!=typeof e)throw new TypeError("key must be a string");var r=a(this.handler,e);return r?r.value:void 0===t?null:t}},{key:"getMeta",value:function(e){if("string"!=typeof e)throw new TypeError("key must be a string");var t=a(this.handler,e);return t?t.meta:null}},{key:"remove",value:function(e){if("string"!=typeof e)throw new TypeError("key must be a string");return this.handler.remove(e)}},{key:"set",value:function(e,t,r){if("string"!=typeof e)throw new TypeError("key must be a string");var n=this.handler,o=new Date;r||(r={}),r.expireAt||(r.expireSec>=0?(r.expireAt=new Date(o),r.expireAt.setSeconds(r.expireAt.getSeconds()+r.expireSec)):r.ExpiresAt?r.expireAt=r.ExpiresAt:r.expires>=0&&(r.expireAt=new Date(o),r.expireAt.setMinutes(r.expireAt.getMinutes()+r.expires)));var s={CreatedAt:o,ModifiedAt:o,ExpiresAt:r&&r.expireAt||null},u=a(n,e);u&&(s.CreatedAt=u.meta?u.meta.CreatedAt:new Date(o));var c=JSON.stringify({meta:s,value:t});if(!r.skipValidation){if(i.hasCreditCard(c))throw new Error("Cannot store strings that look like credit card numbers");if(i.hasEmailAddress(c))throw new Error("Cannot store email addresses");if(i.hasSsn(c))throw new Error("Cannot store ssn")}return n.set(e,c,r)}}],[{key:"createDefault",value:function(){var t=void 0;try{t=new e(o.LocalStorageHandler)}catch(r){t=new e(o.CookieHandler)}return t}}]),e}();s.handlers={CookieHandler:o.CookieHandler,LocalStorageHandler:o.LocalStorageHandler},t.default=s}])},e.exports=t()}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=r(640);getConfigService=n})();
;window._setUpConfigService();
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("falcor")):"function"==typeof define&&define.amd?define(["falcor"],t):"object"==typeof exports?exports.falcorModel=t(require("falcor")):e.falcorModel=t(e.falcor)}(self,(function(e){return(()=>{var t={324:function(e,t,r){var o,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,void 0===(n="function"==typeof(o=function(){"use strict";e.exports=r(791)})?o.apply(t,[]):o)||(e.exports=n)},468:function(e,t){var r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,void 0===(o="function"==typeof(r=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e,r,o){var n=[],i={url:e},s=-1!==e.indexOf("?")?"&":"?";return"string"==typeof o?n.push(o):Object.keys(o).forEach((function(e){var r="object"===t(o[e])?JSON.stringify(o[e]):o[e];n.push("".concat(e,"=").concat(encodeURIComponent(r)))})),"GET"===r?i.url+=s+n.join("&"):i.data=n.join("&"),i}})?r.apply(t,[]):r)||(e.exports=o)},791:function(e,t,r){var o,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,void 0===(n="function"==typeof(o=function(){"use strict";var t=r(913),o=r(468);function n(e,t){var r;for(r in t)e[r]=t[r];return e}function i(e,t,r,o){this._jsonUrl=e,this._log=r,this._fetch=o,"number"==typeof t&&(t={timeout:t}),this._config=n({timeout:15e3,headers:{}},t||{})}i.prototype={constructor:i,buildQueryObject:o,get:function(e){var r=n(this.buildQueryObject(this._jsonUrl,"GET",{paths:e,method:"get"}),this._config);return t("GET",r,this,this._log,this._fetch)},set:function(e){var r,o="POST";return this._config.headers&&this._config.headers["Content-Type"]&&this._config.headers["Content-Type"].match(/application\/json/)?r=n({url:this._jsonUrl,data:JSON.stringify({jsonGraph:JSON.stringify(e),method:"set"})},this._config):(r=n(this.buildQueryObject(this._jsonUrl,o,{jsonGraph:e,method:"set"}),this._config)).headers["Content-Type"]="application/x-www-form-urlencoded",t(o,r,this,this._log,this._fetch)},call:function(e,r,o,i){r=r||[],o=o||[],i=i||[];var s,a="POST",c=[];return this._config.headers&&this._config.headers["Content-Type"]&&this._config.headers["Content-Type"].match(/application\/json/)?s=n({url:this._jsonUrl,data:JSON.stringify({method:"call",callPath:JSON.stringify(e),arguments:JSON.stringify(r),pathSuffixes:JSON.stringify(o),paths:JSON.stringify(i)})},this._config):(c.push("method=call"),c.push("callPath=".concat(encodeURIComponent(JSON.stringify(e)))),c.push("arguments=".concat(encodeURIComponent(JSON.stringify(r)))),c.push("pathSuffixes=".concat(encodeURIComponent(JSON.stringify(o)))),c.push("paths=".concat(encodeURIComponent(JSON.stringify(i)))),(s=n(this.buildQueryObject(this._jsonUrl,a,c.join("&")),this._config)).headers["Content-Type"]="application/x-www-form-urlencoded"),t(a,s,this,this._log,this._fetch)}},i.FetchHttpSource=i,i.default=i,e.exports=i})?o.apply(t,[]):o)||(e.exports=n)},913:function(e,t,r){var o,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,void 0===(n="function"==typeof(o=function(){"use strict";function t(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw s}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var n=r(301),i=r(320),s=i.mergeResponses,a=i.breakQueryIntoSubQueries,c=i.getQueryObj,f=i.buildUrl,u=Object.prototype.hasOwnProperty,l=function(){};function h(){}function d(e,t,r,o,n,i,s){return function(a){t<=0?e.onError(a):(i&&i.warn("Retry ".concat(t," of ").concat(o.retry," after ").concat(a)),p(r,o,n,s).subscribe((function(t){e.onNext(t),e.onCompleted()}),d(e,t-1,r,o,n,i,s),(function(){})))}}function p(e,r,o,i,d){return h.create((function(h){r.onResponse||(r.onResponse=l);var p,y={method:e||"GET",crossDomain:!1,async:!0,headers:{},responseType:"json"};for(p in r)u.call(r,p)&&(y[p]=r[p]);"function"==typeof o.onBeforeRequest&&o.onBeforeRequest(y);var b={};y.crossDomain&&(b.mode="cors"),b.method=y.method,b.headers=y.headers||{},b.credentials=y.credentials||"omit",b.agent=y.agent||void 0,b.timeout=y.timeout||void 0,y.data&&(b.body=y.data);var m,g=c(y.url),v=g.paths;try{m=JSON.parse(v)}catch(e){m=[]}var w=a(m,r.maxQuerySize||7e3,r.minPathSize||2),_=y.url.split("?")[0],T=[],x=1;for(var S in w){var O=w[S];v=JSON.stringify(O);var j=f(_,Object.assign({},g,{paths:O.length?v:void 0}));i&&i.info("Execute query ".concat(x++," of ").concat(w.length,", url: ").concat(j));var E=(d||n)(j,b).then((function(e){var o={};if(e.headers.entries){var n,i=t(e.headers.entries());try{for(i.s();!(n=i.n()).done;){var s=n.value,a=s[0],c=s[1];o[a]=c}}catch(e){i.e(e)}finally{i.f()}}else e.headers.forEach((function(e,t){o[t]=e}));return e.ok?Promise.resolve(e.json()).then((function(t){return Promise.resolve(r.onResponse(y.url,e.status,b.headers,o,t,r)).then((function(){return t}))})):Promise.resolve(r.onResponse(y.url,e.status,b.headers,o,void 0,r)).then((function(){throw new Error("Response code ".concat(e.status))}))}));T.push(E)}return Promise.all(T).then((function(e){var t=e.reduce((function(e,t){return s(t,e)}),{});h.onNext(t),h.onCompleted()})).catch((function(e){h.onError(e)})),function(){}}))}h.create=function(e){var t=new h;return t.subscribe=function(t,r,o){var n=e("function"==typeof t?{onNext:t,onError:r||l,onCompleted:o||l}:t);return"function"==typeof n?{dispose:n}:n},t},e.exports=function(e,t,r,o,n){if(void 0===t.retry||0===t.retry)return o&&o.info("New Falcor request, no retries specified"),p(e,t,r,o,n);var i=t.retry;o&&o.info("New Falcor request, number of retries specified: ".concat(i));var s=p(e,t,r,o,n);return h.create((function(a){s.subscribe((function(e){a.onNext(e),a.onCompleted()}),d(a,i,e,t,r,o,n),(function(){}))}))}})?o.apply(t,[]):o)||(e.exports=n)},320:function(e,t){var r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,void 0===(o="function"==typeof(r=function(){"use strict";e.exports={mergeResponses:function e(t,r){for(var o in t)"string"==typeof t[o]||"number"==typeof t[o]||"boolean"==typeof t[o]||null===t[o]||void 0===t[o]?r[o]=t[o]:(r[o]=r[o]||{},r[o]=e(t[o],r[o]));return r},breakQueryIntoSubQueries:function e(t,r,o){if(t.length<=o)return[t];if(encodeURIComponent(JSON.stringify(t)).length<=r)return[t];var n,i=Math.ceil(t.length/2),s=[],a=[];for(n=0;n<i;n++)s.push(t[n]);for(;n<t.length;n++)a.push(t[n]);return e(s,r,o).concat(e(a,r,o))},getQueryObj:function(e){var t=e.split("?");return(t.length>1?t[1].substring(0):"").split("&").reduce((function(e,t){var r=t.split("=");return e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]),e}),{})},buildUrl:function(e,t){var r=Object.keys(t).reduce((function(e,r){return t[r]&&r&&e.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(t[r]))),e}),[]).join("&");return r.length?"".concat(e,"?").concat(r):e}}})?r.apply(t,[]):r)||(e.exports=o)},614:function(e,t,r){var o,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,r(717),r(324)],o=function(r,o,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,o=i(o),n=i(n);var a=window.metaLayer||window._metaLayer;if(!a)throw new Error("LibFalcorModel: Failed to find metaLayer or _metaLayer");if(!a.env_falcor)throw new Error("LibFalcorModel: env_falcor not defined on metaLayer");var c,f=a.env_falcor;"object"===("undefined"==typeof configService?"undefined":s(configService))&&(c=configService.getServiceConfig("falcor"))&&(c.defaults={client:{maxRetries:12,enableBatching:!0,modelBatchTime:30,maxQuerySize:7e3,minPathSize:2,enableCookies:!0}});var u=!c||c.get("client.enableCookies"),l=new n.default("".concat(f.replace(/\/$/,""),"/model.json"),{credentials:u?"same-origin":"omit",maxQuerySize:c?c.get("client.maxQuerySize"):null,minPathSize:c?c.get("client.minPathSize"):null}),h=window.falcorModelRoot=new o.default.Model({maxRetries:c?c.get("client.maxRetries"):3,source:l,comparator:function(e,t,r){void 0===t&&h.invalidate(r)},errorSelector:function(e){e.$expires=0}});c&&!0===c.get("client.enableBatching")&&(h=h.batch(c.get("client.modelBatchTime")));var d=h.get;function p(){return window.location.href.indexOf("gvpDebug=true")>-1}h.get=function(){if(p()){var e=(new Error).stack||"";e=(e=e.split("\n").map((function(e){return e.trim()}))).splice("Error"===e[0]?2:1),console.log("Calling falcor with paths: ".concat(arguments," from ").concat(e))}for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);return d.apply(h,t)},h.getVerbose=function(e){var t=e.caller,r=e.paths;return p()&&t&&console.log("".concat(t," calling falcor with paths: ").concat(r)),Array.isArray(r)?d.apply(h,r):d.apply(h,[r])},p()&&console.log("lib-falcor-model",c);var y=h;r.default=y,e.exports=t.default},void 0===(i=o.apply(t,n))||(e.exports=i)},301:(e,t,r)=>{r(499),e.exports=self.fetch.bind(self)},499:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Headers:()=>p,Request:()=>_,Response:()=>x,DOMException:()=>O,fetch:()=>j});var o="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==o&&o,n="URLSearchParams"in o,i="Symbol"in o&&"iterator"in Symbol,s="FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in o,c="ArrayBuffer"in o;if(c)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&f.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function y(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function b(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function m(e){var t=new FileReader,r=b(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&s&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=y(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(m)}),this.text=function(){var e,t,r,o=y(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,r=b(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),o=0;o<t.length;o++)r[o]=String.fromCharCode(t[o]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=l(e),t=h(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},p.prototype.delete=function(e){delete this.map[l(e)]},p.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},p.prototype.set=function(e,t){this.map[l(e)]=h(t)},p.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),d(e)},i&&(p.prototype[Symbol.iterator]=p.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,o,n=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(o=(r=t.method||this.method||"GET").toUpperCase(),w.indexOf(o)>-1?o:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;i.test(this.url)?this.url=this.url.replace(i,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function T(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(n))}})),t}function x(e,t){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},v.call(_.prototype),v.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];x.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})};var O=o.DOMException;try{new O}catch(e){(O=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),O.prototype.constructor=O}function j(e,t){return new Promise((function(r,n){var i=new _(e,t);if(i.signal&&i.signal.aborted)return n(new O("Aborted","AbortError"));var a=new XMLHttpRequest;function f(){a.abort()}a.onload=function(){var e,t,o={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();t.append(o,n)}})),t)};o.url="responseURL"in a?a.responseURL:o.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;setTimeout((function(){r(new x(n,o))}),0)},a.onerror=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){n(new O("Aborted","AbortError"))}),0)},a.open(i.method,function(e){try{return""===e&&o.location.href?o.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&(s?a.responseType="blob":c&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof p?i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){a.setRequestHeader(e,h(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",f),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",f)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}j.polyfill=!0,o.fetch||(o.fetch=j,o.Headers=p,o.Request=_,o.Response=x)},717:t=>{"use strict";t.exports=e}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var i=r[e]={exports:{}};return t[e].call(i.exports,i,i.exports,o),i.exports}return o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(614)})()}));

!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.EventManager=n():e.EventManager=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n,t){"use strict";function o(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),c=function e(n){r(this,e),this.name=n,this.callbacks=[],this.history=[]},l=function(){function e(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.manager,a=void 0===o?{}:o,i=t.logger;r(this,e),this.version=2,this._events={},a._events&&Object.entries(a._events).forEach(function(e){var t=e.eventName,o=e.eventObj;n._getEvent(t).callbacks=o.callbacks}),a._fired&&Object.entries(a._fired).forEach(function(e){var t=e.eventName;n._getEvent(t).triggered=!0}),this.logger=i||console,window.location.search.match("eventManagerDebug")?this.debugMode():window.document&&document.cookie.match("eventManagerDebug")?this.debugMode():window.localStorage&&window.localStorage.getItem("eventManagerDebug")&&this.debugMode()}return i(e,[{key:"on",value:function(e,n,t){var o=this;e.split(/\s/).forEach(function(e){var r=o._getEvent(e);t&&(n.context=t),r.callbacks.push(n)})}},{key:"off",value:function(e,n,t){var o=this;if(e){e.split(/\s/).forEach(function(e){var t=o._events[e];if(t)if(n){var r=t.callbacks.indexOf(n);-1!==r&&(t.callbacks.splice(r,1),0===t.callbacks.length&&delete o._events[e])}else t.callbacks=[]})}else n?this.removeCallbacksFromEvents(function(e){return e===n}):t&&this.removeCallbacksFromEvents(function(e){return e.context===t})}},{key:"removeCallbacksFromEvents",value:function(e){var n=this;for(var t in this._events)!function(t){var o=n._events[t],r=[];o.callbacks.forEach(function(n){e(n)||r.push(n)}),o.callbacks=r,0===o.callbacks.length&&delete n._events[t]}(t)}},{key:"once",value:function(e,n,t){n.once=!0,this.on(e,n,t)}},{key:"when",value:function(e,n,t){var o=this;e.split(/\s/).forEach(function(e){o._getEvent(e).history.length>0?o._call(n):o.once(e,n,t)})}},{key:"reset",value:function(){Object.values(this._events).forEach(function(e){e.history=[]})}},{key:"ever",value:function(e,n,t){var o=this;e.split(/\s/).forEach(function(e){var r=o._getEvent(e);r.history.length>0&&r.history.forEach(function(e){o._call(n,e)}),o.on(e,n,t)})}},{key:"trigger",value:function(e){for(var n=this,t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];e.split(/\s/).forEach(function(e){if("all"!==e){var t=n._getEvent(e);t.history.push(n._cloneObj(o)),t.callbacks.forEach(function(t){n._call(t,o),t.once&&n.off(e,t)}),n._getEvent("all").callbacks.forEach(function(t){n._call(t,[e].concat(o)),t.once&&n.off(e,t)})}})}},{key:"debugMode",value:function(){var e=this;this.logger.log("===== EventManager debug logging enabled ====="),this.on("all",function(n){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];e.logger.log("EventManager Event:",n,{args:o})})}},{key:"_getEvent",value:function(e){var n=void 0;return this._events[e]?n=this._events[e]:(n=new c(e),this._events[e]=n),n}},{key:"_call",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{e.context?e.bind(e.context).apply(void 0,o(n)):e.apply(void 0,o(n))}catch(e){this.logger.error(e)}}},{key:"_cloneObj",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t>20?void this.logger.warn(new Error("Too many levels to clone object.")):"function"!=typeof e?"object"!==(void 0===e?"undefined":a(e))||e instanceof Date||null===e?e:Object.keys(e).reduce(function(o,r){return o[r]=n._cloneObj(e[r],t+1),o},Array.isArray(e)?[]:{}):void 0}}]),e}(),s=new l(window.EventManager);(!window.EventManager||!window.EventManager.version||window.EventManager.version<s.version)&&(window.EventManager=s),n.EventManager=l,n.default=s}])});
;window._setUpEventManager();
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.createFetchService=e():t.createFetchService=e()}(self,(function(){return(()=>{"use strict";var t={d:(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>x});var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r&&r,o="URLSearchParams"in r,n="Symbol"in r&&"iterator"in Symbol,i="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in r,a="ArrayBuffer"in r;if(a)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&h.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function f(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function y(t){this.map={},t instanceof y?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function l(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function b(t){var e=new FileReader,r=l(e);return e.readAsArrayBuffer(t),r}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:o&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=m(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(b)}),this.text=function(){var t,e,r,o=p(this);if(o)return o;if(this._bodyBlob)return t=this._bodyBlob,r=l(e=new FileReader),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),o=0;o<e.length;o++)r[o]=String.fromCharCode(e[o]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}y.prototype.append=function(t,e){t=c(t),e=f(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},y.prototype.delete=function(t){delete this.map[c(t)]},y.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},y.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},y.prototype.set=function(t,e){this.map[c(t)]=f(e)},y.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},y.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),d(t)},y.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},y.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),d(t)},n&&(y.prototype[Symbol.iterator]=y.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(t,e){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,o,n=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new y(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new y(e.headers)),this.method=(o=(r=e.method||this.method||"GET").toUpperCase(),v.indexOf(o)>-1?o:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var i=/([?&])_=[^&]*/;i.test(this.url)?this.url=this.url.replace(i,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function T(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(n))}})),e}function A(t,e){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new y(e.headers),this.url=e.url||"",this._initBody(t)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},w.call(g.prototype),w.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},A.error=function(){var t=new A(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];A.redirect=function(t,e){if(-1===_.indexOf(e))throw new RangeError("Invalid status code");return new A(null,{status:e,headers:{location:t}})};var E=r.DOMException;try{new E}catch(t){(E=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),E.prototype.constructor=E}function B(t,e){return new Promise((function(o,n){var s=new g(t,e);if(s.signal&&s.signal.aborted)return n(new E("Aborted","AbortError"));var h=new XMLHttpRequest;function u(){h.abort()}h.onload=function(){var t,e,r={status:h.status,statusText:h.statusText,headers:(t=h.getAllResponseHeaders()||"",e=new y,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var r=t.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();e.append(o,n)}})),e)};r.url="responseURL"in h?h.responseURL:r.headers.get("X-Request-URL");var n="response"in h?h.response:h.responseText;setTimeout((function(){o(new A(n,r))}),0)},h.onerror=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},h.ontimeout=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},h.onabort=function(){setTimeout((function(){n(new E("Aborted","AbortError"))}),0)},h.open(s.method,function(t){try{return""===t&&r.location.href?r.location.href:t}catch(e){return t}}(s.url),!0),"include"===s.credentials?h.withCredentials=!0:"omit"===s.credentials&&(h.withCredentials=!1),"responseType"in h&&(i?h.responseType="blob":a&&s.headers.get("Content-Type")&&-1!==s.headers.get("Content-Type").indexOf("application/octet-stream")&&(h.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof y?s.headers.forEach((function(t,e){h.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){h.setRequestHeader(t,f(e.headers[t]))})),s.signal&&(s.signal.addEventListener("abort",u),h.onreadystatechange=function(){4===h.readyState&&s.signal.removeEventListener("abort",u)}),h.send(void 0===s._bodyInit?null:s._bodyInit)}))}B.polyfill=!0,r.fetch||(r.fetch=B,r.Headers=y,r.Request=g,r.Response=A);const x=function(t,e,r){var o=t.componentId,n=t.creatorNamespace,i=t.contractVersion;return function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.headers=Object.assign({},s.headers,{"x-client-id":"".concat(r,"-").concat(n,"-").concat(o,"-").concat(i)}),fetch(t,s).then((function(r){return!r.ok&&e&&e.error("LibFetch: Error response code from ".concat(t," - status code: ").concat(r.status)),r}),(function(r){e&&e.error("LibFetch: Failed to perform fetch ".concat(t))}))}};return e.default})()}));

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@gvp/lib-action-log"),require("@gvp/lib-config-service"),require("analytics-q"),require("redux")):"function"==typeof define&&define.amd?define(["@gvp/lib-action-log","@gvp/lib-config-service","analytics-q","redux"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).initializer=t(e.actionLog,e.configService,e.analyticsQ,e.Redux)}(this,(function(e,t,n,r){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=o(n);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="Initializer: Invalid componentDescriptor:",n=e.creatorNamespace,r=e.componentId,o=e.contractVersion;if(!n)throw new Error("".concat(t," must include creatorNamespace"));if(!r)throw new Error("".concat(t," must include componentId"));if(!o)throw new Error("".concat(t," must include contractVersion"))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.creatorNamespace,n=e.componentId,r=e.contractVersion,o=e.componentVersion,i=void 0===o?"":o;return[t,n,r,i.replace(/\./g,"_")].filter((function(e){return!!e})).join(".")},g=function(e){var t=e.split(".");return{creatorNamespace:t[0],componentId:t[1],contractVersion:t[2]}},b=function(e,t,n){var r;function o(){var o=t(e.getState());o!==r&&n(r=o)}var i=e.subscribe(o);return o(),i},I=function(){return Math.random().toString(36).substr(2,9)},E=function(e,t,n){if(!e||!t||!n)throw new Error("Register Component request must include all of the following: initStore, componentDescriptor, initFn");v(t,"REGISTER_COMPONENT");var r=h(t),o=I();return e[o]=n,{type:"REGISTER_COMPONENT",componentFqn:r,isLoading:!1,isLoaded:!0,initFnId:o}},S=function(e,t,n){if(!e||!t||!n)throw new Error("Register instance request must have destructured componentDescriptor props: componentDescriptor, instanceId, elementSelector");return v(e,"REGISTER_INSTANCE"),{type:"REGISTER_INSTANCE",componentFqn:h(e),instanceId:t,elementSelector:n}},O=function(e,t){var n=e.components[h(t)];return!n&&t.componentVersion&&(n=e.components[h(c(c({},t),{},{componentVersion:void 0}))]),n},w=function(e,t,n){var r=O(e,n);if(r)return t[r.initFnId]},N=function(e,t){var n=O(e,t);return!(!n||!0!==n.isLoaded)},T=function(e,t){return e.instances[t]},C=["cartAddLocation","pageName","epValue","currencyCode","purchaseId","orderId","merchPageName","taskName","recognized","rzTier","headerFooter","shelfDisplay","upgradeEligibility","payTypeList","questionsAnswers","searchRelevancyTerm","partyID","profileId","itemsInCart","contextId","searchTermSuccess","searchTermFailure","geekSquadContractID","searchTermPromo","abTest65","abTest69","BVload","userToken","visitorToken","trackVariant","offerId","checkoutType","headerBannerClick","searchLocation","templateName","widgetImpression","widgetClick","searchResultsNum","errorCodeList","headerBannerString","skuId","productAvailability","tealeafId","dealsProductList","EPload","userSearchTermSuccess","userSearchTermFailure","internalSearchTerm","searchAutocomplete","reportedPageType","pageType","checkoutOptimizedFlags","recipeType","orderState","orderZip","campaignLatency","checkoutPwpSuccess","scProducts","scEvents","previousLid","lidTrack","campaignId","channel","hierarchy","moduleState","pageCampaign","listFacetsString","visitorId","seePriceIn","videoTrackingString","abTest20","epClick","searchRelevancyRank","fastTrackCheckout","icmp","ccApplication","confirmIt","abTest66","abTest67","abTest68","BVinteraction","marketingEvolutionUuid","productFindingMethod","findingMethod","listViewType","categoryId","internalCampaign","lastFacetSelected","language","lastLink","errorCodes","clickAction","searchTerm","legacyCodebase","payWithPoints","renewalsBundleList","errorLocation","linkName","viewSize","autoCompleteCategory"],R={asValidator:function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(t," does not pass validation");if(!e(t))throw new Error(n)}},contractMap:function(e){Object.keys(e).forEach((function(e){var t="bb"===e.split(".")[0],n=-1===C.indexOf(e);if(!t&&n)throw new Error("object has invalid properties, should be a context variable or a contract map variable")}))},type:{isObject:function(e){return e&&"object"===s(e)&&e.constructor===Object},isArray:function(e){return Array.isArray(e)},isBool:function(e){return"boolean"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isString:function(e){return"string"==typeof e||e instanceof String}},isEmail:function(e){return/\S+@\S+\.\S+/.test(e)},templateName:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e.templateName,n=void 0!==t&&t,r=e.reportingVariables,o=void 0!==r&&r,i=!!(o&&o.templateName&&o["bb.templateName"]),a=!(!n||!o||!o.templateName&&!o["bb.templateName"]);return a||i},reportingVariables:function(e){if(null!=e){var t=R.asValidator(R.type.isObject),n=R.asValidator(R.type.isString);t(e,"`reportingVariables` should be an object or undefined"),R.contractMap(e);var r=["experimentName","treatmentGroup"],o=["experience"];void 0!==e["bb.experimentList"]&&(R.asValidator(R.type.isArray)(e["bb.experimentList"],"'".concat("bb.experimentList","' must be an Array")),e["bb.experimentList"].forEach((function(e){t(e,"Each experiment in '".concat("bb.experimentList","' must be an Object")),r.forEach((function(t){n(e[t],"'".concat(t,"' is a required string in each experiment of ").concat("bb.experimentList"))})),o.forEach((function(t){e[t]&&n(e[t],"'".concat(t,"' must be a string if present in an experiment of ").concat("bb.experimentList"))}))})))}},adobe:function(e){var t=function(e){return R.reportingVariables(e&&e.reportingVariables)};if(R.type.isObject(e)){if(t(e),e.skus){var n,r=y(e.skus);try{for(r.s();!(n=r.n()).done;){t(n.value)}}catch(e){r.e(e)}finally{r.f()}}}else if(R.type.isArray(e)){var o,i=y(e);try{for(i.s();!(o=i.n()).done;){t(o.value)}}catch(e){i.e(e)}finally{i.f()}}}},L=R.type,k=L.isObject,j=L.isString;function A(e,t,n){if(!e||!j(e))throw Error("instanceId is required to register a component");if((!t||t&&!j(t))&&console.warn("An optional componentType will be deprecated. It will be required in the future."),n){if(!k(n))throw Error("componentDescriptor is not an object");if(!j(n.creatorNamespace))throw Error("componentDescriptor.creatorNamespace is required to register a component");if(!j(n.componentId))throw Error("componentDescriptor.componentId is required to register a component");if(!j(n.contractVersion))throw Error("componentDescriptor.contractVersion is required to register a component")}return{type:"REGISTER_COMPONENT",instanceId:e,componentType:t,componentDescriptor:n}}var P=function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.store=e,this.initStore={},this.deInitStore={},this.initializedComponentList=[],this.initializedWithoutRegister={}}var r,o,a;return r=n,(o=[{key:"log",value:function(t,n,r,o,i){var a=o.creatorNamespace,c=o.componentId,s=o.contractVersion;e.dispatch(function(e,t,n,r,o,i,a){return{type:"LOG",level:e,message:t,error:n,componentId:o,creatorNamespace:r,contractVersion:i,instanceId:a}}(t,n,r,a,c,s,i),"gvp-initializer")}},{key:"initializeComponent",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if("string"!=typeof a){var c=new Error("Initializer: Locale param must be a string");this.logInitFailed(c,n,r)}var s=this.store,u=s.dispatch,l=s.getState,p=n.creatorNamespace,f=n.componentId,d=n.contractVersion,m="#".concat(r," .").concat(p,"-").concat(f),y=w(l(),this.initStore,n);if(i.default.dispatch(A(r,"".concat(p,"-").concat(f,"-").concat(d),Object.assign({},n))),"string"==typeof o){var v=eval;o=v("(".concat(o,")"))}var h=[r,m,o,a,t.getComponentConfig(p,f)];if(u(S(n,r,m)),y)this.doInit(n,r,y,h);else var g=b(this.store,(function(t){return w(t,e.initStore,n)}),(function(t){e.doInit(n,r,t,h),g()}))}},{key:"initComponent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=document.getElementById("".concat(t,"-json"));if(r){var o=JSON.parse(r.textContent);this.initializeComponent(e,t,o,n)}else this.log("ERROR","Failed to find application/json script containing state for ".concat(t),null,e,t)}},{key:"deInitializeInstance",value:function(e){var t=(0,this.store.getState)(),n=function(e,t,n){var r=T(e,n);if(r)return t[r.deInitFnId]}(t,this.deInitStore,e),r=function(e,t){var n=T(e,t);if(n)return n.elementSelector}(t,e);if(n)try{return n(r),!0}catch(n){var o=g(T(t,e));return this.log("ERROR","Failed to deInitialize ".concat(e),n,o,e),!1}}},{key:"doInit",value:function(e,t,n,r){var o=this,i=this.store.dispatch;setTimeout((function(){try{var a=n.apply(void 0,f(r));i(function(e){return{type:"INITIALIZED_INSTANCE",instanceId:e,isInitialized:!0}}(t)),"function"==typeof a&&i(function(e,t,n){if("function"!=typeof n)throw new Error("deInitFn must be type: Function");var r=I();return e[r]=n,{type:"REGISTER_INSTANCE_DEINITFN",instanceId:t,deInitFnId:r}}(o.deInitStore,t,a))}catch(n){o.logInitFailed(n,e,t)}}),0)}},{key:"logInitFailed",value:function(e,t,n){var r="Initializer failed to initialize component for ".concat(n,". Usually this is caused by an exception in your component's client init function.");throw this.log("ERROR",r,e,t,n),new Error(r)}},{key:"registerComponent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.store.dispatch(E(this.initStore,e,t))}},{key:"onRegister",value:function(e,t){var n=b(this.store,(function(t){return N(t,e)}),(function(e){!0===e&&(setTimeout((function(){t()}),0),n())}))}},{key:"onLoad",value:function(e,t){var n=b(this.store,(function(t){return N(t,e)}),(function(e){!0===e&&(setTimeout((function(){t()}),0),n())}))}},{key:"onInitialize",value:function(e,t){var n=b(this.store,(function(t){return function(e,t){var n=T(e,t);return!(!n||!0!==n.isInitialized)}(t,e)}),(function(e){!0===e&&(setTimeout((function(){t()}),0),n())}))}},{key:"componentIsLoading",value:function(e){var t=this.store,n=t.dispatch,r=t.getState;N(r(),e)||n(function(e){if(!e)throw new Error("Component Loading request must include a componentDescriptor");return v(e,"COMPONENT_LOADING"),{type:"COMPONENT_LOADING",componentFqn:h(e),isLoading:!0}}(e))}},{key:"isComponentLoading",value:function(e){return function(e,t){var n=O(e,t);if(n)return n&&!0===n.isLoading}((0,this.store.getState)(),e)}},{key:"isComponentRegistered",value:function(e){var t=this.store.getState;return N(t(),e)}},{key:"isComponentInitialized",value:function(e){return this.initializedComponentList.indexOf(e)>-1}},{key:"applyLayoutClassList",value:function(e,t){var n=T(this.store.getState(),t),r=document.getElementById(t);n?r?e&&"string"==typeof r.dataset.layoutClassList?(r.className=r.dataset.layoutClassList,r.removeAttribute("data-layout-class-list")):e||"string"!=typeof r.className||(r.dataset.layoutClassList=r.className,r.removeAttribute("class")):this.log("ERROR","Element for component ".concat(t," not found"),null,g(n.componentFqn),t):this.log("ERROR","Instance for component ".concat(t," not found"),null,{},t)}}])&&u(r.prototype,o),a&&u(r,a),Object.defineProperty(r,"prototype",{writable:!1}),n}(),_=["componentFqn"],F=["componentFqn"],D=["instanceId"],V=["instanceId"],x=["instanceId"],q=r.combineReducers({components:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=c({},t);switch(n.type){case"REGISTER_COMPONENT":delete n.type;var r=n.componentFqn,o=p(n,_),i={};return i[r]=c({},o),c(c({},e),i);case"COMPONENT_LOADING":delete n.type;var a=n.componentFqn,s=p(n,F),u={};return u[a]=c({},s),c(c({},e),u);default:return e}},instances:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=c({},t);switch(n.type){case"REGISTER_INSTANCE":delete n.type;var r=n.instanceId,o=p(n,D),i={};return i[r]=c({},o),c(c({},e),i);case"INITIALIZED_INSTANCE":delete n.type;var a=n.instanceId,s=p(n,V),u={};return u[a]=c(c({},s),e[a]),c(c({},e),u);case"REGISTER_INSTANCE_DEINITFN":delete n.type;var l=n.instanceId,f=p(n,x),d={};return d[l]=c(c({},f),e[l]),c(c({},e),d);default:return e}}}),z="object"===("undefined"==typeof window?"undefined":s(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:"@gvp/lib-initializer"}):r.compose,M=new P(r.createStore(q,z()));return M.version="2.0.1",M}));


!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).appear=e()}(this,function(){"use strict";function c(t){this.time=t.time,this.target=t.target,this.rootBounds=o(t.rootBounds),this.boundingClientRect=o(t.boundingClientRect),this.intersectionRect=o(t.intersectionRect||n()),this.isIntersecting=!!t.intersectionRect;var t=this.boundingClientRect,t=t.width*t.height,e=this.intersectionRect,e=e.width*e.height;this.intersectionRatio=t?Number((e/t).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var n,o,i,e=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(e.root&&1!=e.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,i=null,function(){i=i||setTimeout(function(){n(),i=null},o)}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(e.rootMargin),this.thresholds=this._initThresholds(e.threshold),this.root=e.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function r(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function s(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function p(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?e.width&&e.height?e:{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}:n()}function n(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function o(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function d(t,e){var n=e.top-t.top,t=e.left-t.left;return{top:n,left:t,height:e.height,width:e.width,bottom:n+e.height,right:t+e.width}}function e(t,e){for(var n=e;n;){if(n==t)return!0;n=g(n)}return!1}function g(t){var e=t.parentNode;return 9==t.nodeType&&t!=m?h(t):e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}function h(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}var m,i,b,_;return"object"==typeof window&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(m=window.document,i=[],_=b=null,t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t._setupCrossOriginUpdater=function(){return b=b||function(t,e){_=t&&e?d(t,e):n(),i.forEach(function(t){t._checkForIntersections()})}},t._resetCrossOriginUpdater=function(){_=b=null},t.prototype.observe=function(e){var t=this._observationTargets.some(function(t){return t.element==e});if(!t){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){t=t||[0];return(t=Array.isArray(t)?t:[t]).sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},t.prototype._parseRootMargin=function(t){t=(t||"0px").split(/\s+/).map(function(t){t=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(t)return{value:parseFloat(t[1]),unit:t[2]};throw new Error("rootMargin must be specified in pixels or percent")});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},t.prototype._monitorIntersections=function(e){var n,o,i,t=e.defaultView;t&&-1==this._monitoringDocuments.indexOf(e)&&(n=this._checkForIntersections,i=o=null,this.POLL_INTERVAL?o=t.setInterval(n,this.POLL_INTERVAL):(r(t,"resize",n,!0),r(e,"scroll",n,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(i=new t.MutationObserver(n)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push(function(){var t=e.defaultView;t&&(o&&t.clearInterval(o),s(t,"resize",n,!0)),s(e,"scroll",n,!0),i&&i.disconnect()}),e!=(this.root&&this.root.ownerDocument||m)&&(t=h(e))&&this._monitorIntersections(t.ownerDocument))},t.prototype._unmonitorIntersections=function(o){var i,t,e=this._monitoringDocuments.indexOf(o);-1!=e&&(i=this.root&&this.root.ownerDocument||m,this._observationTargets.some(function(t){if((e=t.element.ownerDocument)==o)return!0;for(;e&&e!=i;){var e,n=h(e);if((e=n&&n.ownerDocument)==o)return!0}return!1})||(t=this._monitoringUnsubscribes[e],this._monitoringDocuments.splice(e,1),this._monitoringUnsubscribes.splice(e,1),t(),o!=i&&(e=h(o))&&this._unmonitorIntersections(e.ownerDocument)))},t.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0;for(var e=this._monitoringUnsubscribes.length=0;e<t.length;e++)t[e]()},t.prototype._checkForIntersections=function(){var s,h;!this.root&&b&&!_||(s=this._rootIsInDom(),h=s?this._getRootRect():n(),this._observationTargets.forEach(function(t){var e=t.element,n=p(e),o=this._rootContainsTarget(e),i=t.entry,r=s&&o&&this._computeTargetAndRootIntersection(e,n,h),t=t.entry=new c({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:n,rootBounds:b&&!this.root?null:h,intersectionRect:r});i?s&&o?this._hasCrossedThreshold(i,t)&&this._queuedEntries.push(t):i&&i.isIntersecting&&this._queuedEntries.push(t):this._queuedEntries.push(t)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this))},t.prototype._computeTargetAndRootIntersection=function(t,e,n){if("none"!=window.getComputedStyle(t).display){for(var o,i,r=e,s=g(t),h=!1;!h&&s;){var c,u,a,l=null,f=1==s.nodeType?window.getComputedStyle(s):{};if("none"==f.display)return null;if(s==this.root||9==s.nodeType?(h=!0,s==this.root||s==m?b&&!this.root?!_||0==_.width&&0==_.height?r=l=s=null:l=_:l=n:(c=(a=g(s))&&p(a),u=a&&this._computeTargetAndRootIntersection(a,c,n),c&&u?(s=a,l=d(c,u)):r=s=null)):s!=(a=s.ownerDocument).body&&s!=a.documentElement&&"visible"!=f.overflow&&(l=p(s)),l&&(c=l,u=r,i=o=l=f=void 0,f=Math.max(c.top,u.top),l=Math.min(c.bottom,u.bottom),o=Math.max(c.left,u.left),c=Math.min(c.right,u.right),i=l-f,r=0<=(u=c-o)&&0<=i?{top:f,bottom:l,left:o,right:c,width:u,height:i}:null),!r)break;s=s&&g(s)}return r}},t.prototype._getRootRect=function(){var t,e;return e=this.root?p(this.root):(e=m.documentElement,t=m.body,{top:0,left:0,right:e.clientWidth||t.clientWidth,width:e.clientWidth||t.clientWidth,bottom:e.clientHeight||t.clientHeight,height:e.clientHeight||t.clientHeight}),this._expandRectByRootMargin(e)},t.prototype._expandRectByRootMargin=function(n){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?n.width:n.height)/100}),t={top:n.top-t[0],right:n.right+t[1],bottom:n.bottom+t[2],left:n.left-t[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t},t.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},t.prototype._rootIsInDom=function(){return!this.root||e(m,this.root)},t.prototype._rootContainsTarget=function(t){return e(this.root||m,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},t.prototype._registerInstance=function(){i.indexOf(this)<0&&i.push(this)},t.prototype._unregisterInstance=function(){var t=i.indexOf(this);-1!=t&&i.splice(t,1)},window.IntersectionObserver=t,window.IntersectionObserverEntry=c)),function(t,e,n){var o,i,r,s,n="number"==typeof n?(h=n,o=!1,0):(h=(n=n||{}).rootMargin||0,o=n.alwaysFire||!1,n.threshold||0),h=Math.abs(h);return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window?(t=t,i=e,e=h,r=o,h=n,(s=new IntersectionObserver(function(t,e){t.forEach(function(t){(t.isIntersecting||t.intersectionRatio)&&(i(),r||e.disconnect())})},{root:null,rootMargin:"".concat(e,"px 0px ").concat(e,"px 0px"),threshold:h||[0]})).observe(t),function(){return s.disconnect()}):function(){return null}}});


var EmbeddedComponentRenderer;(()=>{var t={666:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),c=new k(r||[]);return i._invoke=function(t,e,n){var r=f;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===y){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var a=E(c,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(t,e,n);if("normal"===u.type){if(r=n.done?y:p,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=y,n.method="throw",n.arg=u.arg)}}}(t,n,c),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f="suspendedStart",p="suspendedYield",h="executing",y="completed",d={};function m(){}function v(){}function g(){}var b={};u(b,i,(function(){return this}));var w=Object.getPrototypeOf,O=w&&w(w(x([])));O&&O!==n&&r.call(O,i)&&(b=O);var j=g.prototype=m.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(o,i,c,a){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,a)}),(function(t){n("throw",t,c,a)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return n("throw",t,c,a)}))}a(u.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function E(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=l(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function x(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,c=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return c.next=c}}return{next:T}}function T(){return{value:e,done:!0}}return v.prototype=g,u(j,"constructor",g),u(g,"constructor",v),v.displayName=u(g,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,a,"GeneratorFunction")),t.prototype=Object.create(j),t},t.awrap=function(t){return{__await:t}},S(P.prototype),u(P.prototype,c,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var c=new P(s(e,n,r,o),i);return t.isGeneratorFunction(n)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},S(j),u(j,a,"Generator"),u(j,i,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i],a=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var u=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(u&&s){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(u){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=t,c.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{CsiVar:()=>v,afterServerRender:()=>B,buildComponentPath:()=>k,createLazyLoadedElementId:()=>G,default:()=>$,fetchComponent:()=>z,getComponentIncludeString:()=>Q,lazyHtmlFetcher:()=>U,renderComponent:()=>$,version:()=>H.i8});var t=function(t){return e(t,(function(t){return"string"==typeof t&&t.length>0}))},e=function(t,e){return{value:t,comparator:e}},o=function(e){var n,r=e.childInstanceId,o=e.parentInstanceId;return n={childInstanceId:t(r),parentInstanceId:t(o)},Object.keys(n).forEach((function(t){var e=n[t],r=e.comparator,o=e.value;if(!r(o))throw new Error('Invalid arguments provided to create an APE action. Please see usage documentation. Provided "'.concat(t,'" = ').concat(JSON.stringify(o),"."))})),{type:"CHILD_RELATIONSHIP",childInstanceId:r,parentInstanceId:o}};const i=analyticsQ,c=PropTypes;var a=n.n(c);const u=React;var s=n.n(u);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function p(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var v=function(){function t(e,n){if(y(this,t),!e||"string"!=typeof e)throw new TypeError("LibEmbeddedComponentRenderer: CsiVar.name must be a non-empty string");this.name=e,this.defaultValue=void 0===n?void 0:n.toString()}return m(t,[{key:"toString",value:function(){var t=this.defaultValue?"|'".concat(this.defaultValue,"'"):"";return"$(csi.".concat(this.name).concat(t,")")}},{key:"toReactComponent",value:function(){return s().createElement(g,{value:this.toString()})}}]),t}(),g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=h(e);if(n){var o=h(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return p(this,t)});function o(){return y(this,o),r.apply(this,arguments)}return m(o,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return s().createElement("span",{dangerouslySetInnerHTML:{__html:"<csi:vars>".concat(this.props.value,"</csi:vars>")}})}}]),o}(u.Component);g.propTypes={value:a().string.isRequired};const b=_;var w=n.n(b);function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const P=function(t){var e,n,r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t),o={query:(e=window.location.search.replace(/^\?/,""),n={},e.split("&").forEach((function(t){var e=t.split("=");e.length>1&&(n[e[0].trim()]=e[1].trim())})),n)};return Object.keys(r).forEach((function(t){var e,n,i=r[t];if(i instanceof v&&i&&i.name){var c=(e=i.name.split("."),n=1,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],c=!0,a=!1;try{for(n=n.call(t);!(c=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);c=!0);}catch(t){a=!0,o=t}finally{try{c||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];r[t]="query"===c?w().get(o,i.name,i.defaultValue||""):i.toString()}else"string"!=typeof i&&"number"!=typeof i&&"boolean"!=typeof i&&console.warn('LibEmbeddedComponentRenderer: Embedded component queries can only contain strings, numbers, booleans or CsiVar objects with non-empty name strings. \nThe query param object key "'.concat(t,'" contains unsupported value: '),i)})),r};function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=function(t){var e=t.creatorNamespace,n=t.componentId,r=t.contractVersion,o=t.query,i=t.layoutClassList,c=function(t){return t=P(t),Object.keys(t).sort().reduce((function(e,n){n=encodeURIComponent(n);var r=encodeURIComponent(t[n]);return e.push("".concat(n,"=").concat(r)),e}),[]).join("&")}(i?I(I({},o),{},{_layoutClassList:i}):o),a=c?"?".concat(c):"";return"/".concat(e,"/").concat(n,"/").concat(r).concat(a)},x=function(t,e,n){var r=t.creatorNamespace,c=t.componentId,a=e.querySelector("div[id^=".concat(r,"-").concat(c,"]")),u=a?a.id:null;n&&u&&(0,i.dispatch)(o({childInstanceId:u,parentInstanceId:n}))};const T=configService;var C=n.n(T);function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){N(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(666);var F=new Set,V=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.creatorNamespace,r=e.componentId,o=e.contractVersion,i=e.layoutClassList,c=e.parentInstanceId,a=e.query,u=e.omitEmptyComponentDiv,s=void 0===u||u;this.componentDescriptor={creatorNamespace:n,componentId:r,contractVersion:o},this.layoutClassList=i,this.query=a,this.parentInstanceId=c,this.html="",this.initializeScriptTags=[],this.linkTags=[],this.srcScriptTags=[],this.componentPath="",this.omitEmptyComponentDiv=s,this.config=C().getServiceConfig("embeddedComponentRenderer"),this.config.defaults={clientUrl:"/site/canopy/component",dedupeScriptTags:!1,dedupeLinkTags:!1}}var e,n;return e=t,n=[{key:"run",value:function(){var t=this;return this.fetch().then((function(){return t.loadLinks()})).then((function(){return t.loadScripts()})).then((function(){return t.respond()}))}},{key:"getHtml",value:function(){var t=this.componentDescriptor,e=t.creatorNamespace,n=t.componentId,r=t.contractVersion;return this.omitEmptyComponentDiv&&this.html.includes("data-".concat(e,"-").concat(n,"-").concat(r))&&this.html.includes("No content")?"":this.html}},{key:"fetch",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;this.componentPath=k(R(R({},this.componentDescriptor),{},{query:this.query,layoutClassList:this.layoutClassList}));var e="".concat(this.config.get("clientUrl").replace(/\/$/,"")).concat(this.componentPath);return fetch(e,{credentials:"same-origin",headers:{"X-CLIENT-ID":"".concat(this.getFqn(this.componentDescriptor))}}).then((function(t){return t.ok?t.text():Promise.reject(new Error("Failed to fetch ".concat(e,"\nStatus: ").concat(t.status)))})).then((function(e){t.html=e,t.initializeScriptTags=t.getInitializeScriptTags(t.html),t.linkTags=t.getLinkTags(t.html),t.srcScriptTags=t.getSrcScriptTags(t.html)}))}))},{key:"loadLinks",value:function(){var t=this,e=this.isDedupable("dedupeLinkTags");return Promise.all(this.linkTags.reduce((function(n,r){return e&&t.isFileLoaded(r.href,"link")||n.push(t.newLinkPromise(r)),n}),new Array))}},{key:"newLinkPromise",value:function(t){var e=this;return new Promise((function(n,r){var o=document.createElement("link");o.rel="stylesheet",o.href=t.href,o.onload=function(){return n()},o.onerror=function(t){return r(t)},document.head.appendChild(o),F.add(t.href),e.html=e.html.replace(t.text,"")})).catch((function(t){}))}},{key:"loadScripts",value:function(){var t=this,e=this.isDedupable("dedupeScriptTags");this.srcScriptTags.forEach((function(n){var r=n.src,o=n.text;if(!e||!t.isFileLoaded(r,"script")){var i=document.createElement("script");i.src=r,r.endsWith(".mjs")?i.type="module":o.includes(" nomodule ")&&(i.noModule=!0,i.defer=!0),document.body.appendChild(i),F.add(r),t.html=t.html?t.html.replace(o,""):""}}))}},{key:"isFileLoaded",value:function(t,e){return!!F.has(t)||!!document.querySelector("".concat(e,"[").concat("script"===e?"src":"href",'="').concat(t,'"]'))&&(F.add(t),!0)}},{key:"respond",value:function(){var t=this;return{html:this.getHtml(),path:this.componentPath,renderCallback:function(e){var n=t.componentDescriptor,r=n.creatorNamespace,o=n.componentId;e?x(t.componentDescriptor,e,t.parentInstanceId):console.warn("component ".concat(r,"-").concat(o," is using an old version of @gvp/lib-embedded-component")),t.initializeScriptTags.forEach((function(t){eval.call(window,t)}))}}}},{key:"getSrcScriptTags",value:function(t){for(var e,n=/<script\b[^>]*\b(src="([^">]*)")[^>]*>\s*<\/script>/g,r=[];null!==(e=n.exec(t));)r.push({text:e[0],src:e[2]});return r}},{key:"getInitializeScriptTags",value:function(t){for(var e,n=/<script>([\s\S]*?)<\/script>\s*/gm,r=[];null!==(e=n.exec(t));)r.push(e[1]);return r}},{key:"getLinkTags",value:function(t){for(var e,n=/<link rel="stylesheet" href="([^"]+)" \/>\s*/g,r=[];null!==(e=n.exec(t));)r.push({text:e[0],href:e[1]});return r}},{key:"isDedupable",value:function(t){return this.initializeScriptTags.filter((function(t){return t.trim().startsWith("initializer.initializeComponent")})).length===this.initializeScriptTags.length&&this.config.get(t)}},{key:"getFqn",value:function(t){return"".concat(t.creatorNamespace,".").concat(t.componentId,".").concat(t.contractVersion)}}],n&&q(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),z=function(t){return new V(t).run()};const A=appear;var M=n.n(A),G=function(t){var e=t.creatorNamespace,n=t.componentId,r=t.uuid;return"".concat(e,"-").concat(n,"-").concat(r,"-lazy")},U=function(t,e){var n=document.getElementById(G(t)),r=M()(n,(function(){return z(t).then((function(t){var e=t.html,o=t.renderCallback;n&&(n.outerHTML=e,o(n)),r()}))}),e)};const H={i8:"2.0.1"};function Q(t){var e,n=t.creatorNamespace,r=t.componentId,i=t.parentInstanceId,c=t.contractVersion,a=t.canopyInstance,u=void 0===a?"":a,s=t.query,l=void 0===s?{}:s,f=t.onError,p=void 0===f?"continue":f,h=t.layoutClassList,y={cn:n,cid:r,ver:c,query:Object.keys(l).reduce((function(t,e,n){return t.concat(["".concat(encodeURIComponent(e),"=").concat((r=l[e],r instanceof v?r.toString():encodeURIComponent(r)))]);var r}),[]).join("&"),onError:p};h&&(y.layoutClassList=h),i&&(e=""!==u?u:(9999999,Math.floor(9999999*Math.random())),y.canopyInstance=e);var d=Object.keys(y).reduce((function(t,e){var n=y[e];return"query"!==e||n?"".concat(t," ").concat(e,'="').concat(n,'"').trim():t}),"");if(i){var m=JSON.stringify(o({parentInstanceId:i,childInstanceId:"<csi:text><csi:vars>$(csi.instances.".concat(n,".").concat(r,".").concat(c,".child.").concat(e,".id)</csi:vars></csi:text>")})),g="<script>(function() {const a = ".concat(m,"; analyticsQ ? analyticsQ.dispatch(a) : getAnalyticsQ().then(analyticsQ => analyticsQ.dispatch(a))})()<\/script>");return"<csi:component ".concat(d," />").concat(g)}return"<csi:component ".concat(d," />")}function $(t){return Promise.resolve({html:Q(t),scripts:[],styles:[]})}function B(t,e,n){x(t,n,e)}})(),EmbeddedComponentRenderer=r})();

var initializeCookieGatekeeper = (function (actionLog) {
  'use strict';

  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

  var actionLog__default = /*#__PURE__*/_interopDefaultLegacy(actionLog);

  function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);

    if (Object.getOwnPropertySymbols) {
      var symbols = Object.getOwnPropertySymbols(object);
      enumerableOnly && (symbols = symbols.filter(function (sym) {
        return Object.getOwnPropertyDescriptor(object, sym).enumerable;
      })), keys.push.apply(keys, symbols);
    }

    return keys;
  }

  function _objectSpread2(target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = null != arguments[i] ? arguments[i] : {};
      i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }

    return target;
  }

  function _defineProperty(obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }

    return obj;
  }

  function _slicedToArray(arr, i) {
    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
  }

  function _arrayWithHoles(arr) {
    if (Array.isArray(arr)) return arr;
  }

  function _iterableToArrayLimit(arr, i) {
    var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];

    if (_i == null) return;
    var _arr = [];
    var _n = true;
    var _d = false;

    var _s, _e;

    try {
      for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"] != null) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
  }

  function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;

    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];

    return arr2;
  }

  function _nonIterableRest() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  /**
   * The constant value for LOG action type. Any public log message should use the action creator associated
   */


  var LOG = 'LOG';
  /**
   * The constant value for WARN log level
   */

  var WARN = 'WARN';
  /**
   * Used to log information on the browser from a component.
   *
   * @param level ONE OF **[INFO, WARN, ERROR, DEBUG]**
   * @param message a string message, (if you have an object or otherwise, JSON.stringify it first)
   * @param [error] an Error object if one should be included
   * @param [creatorNamespace] creator namespace used to construct FQN
   * @param [componentId] component ID used to construct FQN
   * @param [contractVersion] contract version used to construct FQN
   * @param [instanceId] instance ID used to construct FQN
   */

  function log(level, message, error, creatorNamespace, componentId, contractVersion, instanceId) {
    return {
      type: LOG,
      level: level,
      message: message,
      error: error,
      componentId: componentId,
      creatorNamespace: creatorNamespace,
      contractVersion: contractVersion,
      instanceId: instanceId
    };
  }

  /**
   * Merges the default allow map and the cookieAllowMap.
   * @param {object} cookieAllowMap An object with cookie names as keys with a boolean value of either true indicating
   * they are known cookies and will not be monitored/logged or false indicating that they will be monitored/logged.
   */

  var getCookieAllowMap = function getCookieAllowMap(cookieAllowMap) {
    var defaultAllowMap = {
      at: true,
      et: true,
      oid: true,
      pi: true,
      pt: true,
      ut: true,
      vt: true
    };
    return _objectSpread2(_objectSpread2({}, defaultAllowMap), cookieAllowMap);
  };

  var logCookie = function logCookie(enableLogging, cookie) {
    if (enableLogging) {
      var stacktrace = Error().stack;
      var logAction = log(WARN, "CookieGatekeeper: Cookie '".concat(cookie, "' set in:\n").concat(stacktrace));
      actionLog__default["default"].dispatch(logAction, 'Global Cookie Gatekeeper');
    }
  };

  var cookieGatekeeperInitialized = false;
  /**
   * Monkey patches document.cookie to add monitoring of cookies that are modified outside an live-configable allow list.
   * @param {Object} config param object
   * @param {boolean} config.enableLogging True to enable logging, else false
   * @param {Object} config.cookieAllowMapFromLiveConfig An object with cookie names as keys with a boolean value of either true indicating
   * they are known cookies and will not be monitored/logged or false indicating that they will be monitored/logged.
   * @param {boolean} forceReInitialization True if a re-monkey patch should occur otherwise subsequent calls of initializeCookieGatekeeper will
   * try to detect a previous patch and abort patching.
   */

  var initializeCookieGatekeeper = function initializeCookieGatekeeper() {
    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        _ref$enableLogging = _ref.enableLogging,
        enableLogging = _ref$enableLogging === void 0 ? false : _ref$enableLogging,
        _ref$cookieAllowMapFr = _ref.cookieAllowMapFromLiveConfig,
        cookieAllowMapFromLiveConfig = _ref$cookieAllowMapFr === void 0 ? {} : _ref$cookieAllowMapFr,
        _ref$forceReInitializ = _ref.forceReInitialization,
        forceReInitialization = _ref$forceReInitializ === void 0 ? false : _ref$forceReInitializ;

    var originalCookie = Object.getOwnPropertyDescriptor(Document.prototype, 'cookie') || Object.getOwnPropertyDescriptor(HTMLDocument.prototype, 'cookie');

    if (originalCookie && originalCookie.configurable && (!cookieGatekeeperInitialized || forceReInitialization)) {
      var cookieAllowMap = getCookieAllowMap(cookieAllowMapFromLiveConfig);
      Object.defineProperty(document, 'cookie', {
        configurable: true,
        // For the sake of testing and other potential monkey patches
        get: function get() {
          return originalCookie.get.call(document);
        },
        set: function set(cookie) {
          var cookieNameValue = cookie.split('=');

          var _cookieNameValue = _slicedToArray(cookieNameValue, 1),
              cookieName = _cookieNameValue[0];

          if (cookieName && !cookieAllowMap[cookieName]) {
            logCookie(enableLogging, cookie);
          }

          originalCookie.set.call(document, cookie);
        }
      });
      cookieGatekeeperInitialized = true;
    }
  };

  return initializeCookieGatekeeper;

})(actionLog);

