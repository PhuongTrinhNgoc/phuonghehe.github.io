(()=>{var __webpack_modules__={921:(e,t,r)=>{var n=window.metaLayer||window._metaLayer,o="shop/stips/dist/client/",a=n?"".concat(n.env_assets,"/").concat(o):o;r.p=a},970:e=>{e.exports={creatorNamespace:"shop",componentId:"stips",componentVersion:"",contractVersion:"v1",assetBasePath:"dist/client"}},503:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Stips});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(363),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],_=!0,i=!1;try{for(r=r.call(e);!(_=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);_=!0);}catch(e){i=!0,o=e}finally{try{_||null==r.return||r.return()}finally{if(i)throw o}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var isMatched=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return!1;switch(e){case"simple":return r.some((function(e){return t.includes(e)}));case"regex":return r.some((function(e){return RegExp(e).test(t)}))}},tryElse=function(e,t){try{return e()}catch(e){return console.error(e),t}},Stips=function Stips(_ref){var _ref$allowedUrlRegexS=_ref.allowedUrlRegexStrings,allowedUrlRegexStrings=void 0===_ref$allowedUrlRegexS?[]:_ref$allowedUrlRegexS,_ref$blockedUrlRegexS=_ref.blockedUrlRegexStrings,blockedUrlRegexStrings=void 0===_ref$blockedUrlRegexS?[]:_ref$blockedUrlRegexS,content=_ref.content,javascriptCondition=_ref.javascriptCondition,machineStrategy=_ref.machineStrategy,ticketId=_ref.ticketId,ref=react__WEBPACK_IMPORTED_MODULE_0__.useRef(),areScriptsExecuted=react__WEBPACK_IMPORTED_MODULE_0__.useRef(),_React$useState=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),_React$useState2=_slicedToArray(_React$useState,2),mounted=_React$useState2[0],setMounted=_React$useState2[1],_React$useState3=react__WEBPACK_IMPORTED_MODULE_0__.useState(),_React$useState4=_slicedToArray(_React$useState3,2),conditionMet=_React$useState4[0],setConditionMet=_React$useState4[1];react__WEBPACK_IMPORTED_MODULE_0__.useEffect((function(){setMounted(!0);var href=window.location.href.toString(),isBlocked=isMatched(machineStrategy,href,blockedUrlRegexStrings),isAllowed=!allowedUrlRegexStrings.length||isMatched(machineStrategy,href,allowedUrlRegexStrings);setConditionMet(isAllowed&&!isBlocked&&(!javascriptCondition||tryElse((function(){return Boolean(eval(javascriptCondition))}),!1)))}),[]),react__WEBPACK_IMPORTED_MODULE_0__.useEffect((function(){ref.current&&!areScriptsExecuted.current&&(Array.from(ref.current.querySelectorAll("script")).forEach((function(e){return tryElse(new Function(e.textContent))})),areScriptsExecuted.current=!0)}),[conditionMet,mounted]);var hasSiteControlCondition=Boolean(javascriptCondition||allowedUrlRegexStrings.length||blockedUrlRegexStrings.length),el=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref,key:ticketId,dangerouslySetInnerHTML:{__html:content}});return hasSiteControlCondition?hasSiteControlCondition&&mounted&&conditionMet?el:null:el};Stips.propTypes={allowedUrlRegexStrings:prop_types__WEBPACK_IMPORTED_MODULE_1___default().array,blockedUrlRegexStrings:prop_types__WEBPACK_IMPORTED_MODULE_1___default().array,content:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,javascriptCondition:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,placement:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,machineStrategy:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,shortName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,ticketId:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string}},86:e=>{"use strict";e.exports=PropTypes},363:e=>{"use strict";e.exports=React}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.p="";var __webpack_exports__={};(()=>{"use strict";__webpack_require__(921);var e=__webpack_require__(363),t=__webpack_require__.n(e);const r=ReactDOM,n=initializer;var o=__webpack_require__.n(n),a=__webpack_require__(86),_=__webpack_require__.n(a);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var p=function e(t){return"object"!==s(t)?t:"0"in t?Object.values(t).map((function(t){return e(t)})):Object.entries(t).reduce((function(t,r){var n,o,a=(o=2,function(e){if(Array.isArray(e))return e}(n=r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],_=!0,i=!1;try{for(r=r.call(e);!(_=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);_=!0);}catch(e){i=!0,o=e}finally{try{_||null==r.return||r.return()}finally{if(i)throw o}}return a}}(n,o)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=a[0],i=a[1];return c(c({},t),{},l({},_,e(i)))}),{})};function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(t){var r,n,o=t.placement,a=(r=e.useState([]),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],_=!0,i=!1;try{for(r=r.call(e);!(_=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);_=!0);}catch(e){i=!0,o=e}finally{try{_||null==r.return||r.return()}finally{if(i)throw o}}return a}}(r,n)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=a[0],i=a[1];return e.useEffect((function(){(function(e,t){if(!e)throw new Error("in Data Fetcher constructor where falcorModel parameter is required.");return function(e){var t=e.falcorModel,r=e.nodeId,n=e.tenant,o=void 0===n?"bbypres":n;if(!t)throw new Error("falcorModel required");if(!r)throw new Error("nodeId required");return t.getValue("shop.scds.v2.page.tenants['".concat(o,"'].pages['").concat(r,"']")).then((function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}))}({falcorModel:e,nodeId:"stips_container"}).then((function(e){return(null==e?void 0:e.rows)&&function(e,t){var r=[];return(e=p(e)).forEach((function(e){e.columns[0].widgets.forEach((function(e){var n,o;e&&t===e.stipsLocation&&r.push({blockedUrlRegexStrings:(null===(n=e.urlBlockCommaSeparated)||void 0===n?void 0:n.split(/, */))||[],allowedUrlRegexStrings:(null===(o=e.urlAllowCommaSeparated)||void 0===o?void 0:o.split(/, */))||[],content:e.content,javascriptCondition:e.javascriptCondition,machineStrategy:e.machineStrategy,placement:e.stipsLocation,shortName:e.name,ticketId:e.associatedJiraTicket})}))})),r}(e.rows,t)}))})(window.falcorModel,o).then(i)}),[]),e.createElement("div",{className:"stips-component"},_.map((function(t,r){return e.createElement(b.A,f({key:r},t))})))};y.propTypes={t:_().func,placement:_().string.isRequired};var b=__webpack_require__(503),m=__webpack_require__(970),g={componentId:m.componentId,contractVersion:m.contractVersion,creatorNamespace:m.creatorNamespace,componentVersion:"1.4.12"};o().registerComponent(g,(function(e,n,o){var a=document.querySelector(n);(0,r.hydrate)(t().createElement(y,{placement:o.placement}),a)}))})()})();
//# sourceMappingURL=client-748ce5f85f43716eb6658d6b478a4568.js.map