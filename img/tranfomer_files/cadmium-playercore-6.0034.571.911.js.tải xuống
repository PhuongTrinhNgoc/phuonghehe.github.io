a000.M3Z=(function(d3Z){return {G3Z:function(){var I3Z,b3Z=arguments;switch(d3Z){case 5:I3Z=b3Z[2] * b3Z[0] / b3Z[1];break;case 0:I3Z=b3Z[0] - b3Z[1];break;case 4:I3Z=void b3Z[0] !== b3Z[1];break;case 7:I3Z=b3Z[2] + b3Z[3] + b3Z[4] + b3Z[0] + b3Z[1];break;case 2:I3Z=b3Z[0] / b3Z[1] / b3Z[2];break;case 12:I3Z=(b3Z[3] / b3Z[1] | b3Z[0]) * b3Z[2];break;case 3:I3Z=b3Z[0] + b3Z[1];break;case 13:I3Z=b3Z[2] - b3Z[0] + b3Z[1];break;case 14:I3Z=(b3Z[1] + b3Z[2]) * b3Z[0] / b3Z[3];break;case 1:I3Z=b3Z[0] / b3Z[1];break;case 15:I3Z=b3Z[0] * b3Z[2] - b3Z[1];break;case 11:I3Z=b3Z[0] + b3Z[3] / b3Z[2] * b3Z[1];break;case 17:I3Z=b3Z[1] >= b3Z[0];break;case 9:I3Z=b3Z[0] * b3Z[1];break;case 18:I3Z=b3Z[1] % b3Z[0] - b3Z[2];break;case 10:I3Z=b3Z[2] / b3Z[0] | b3Z[1];break;case 19:I3Z=b3Z[0] === b3Z[1];break;case 16:I3Z=(b3Z[1] - b3Z[2]) * b3Z[0];break;case 8:I3Z=(b3Z[0] - b3Z[3]) * -b3Z[2] / b3Z[1];break;case 6:I3Z=b3Z[1] + b3Z[0] + b3Z[2];break;}return I3Z;},j3Z:function(Y3Z){d3Z=Y3Z;}};})();a000.O3Z=function(){return typeof a000.M3Z.j3Z === 'function'?a000.M3Z.j3Z.apply(a000.M3Z,arguments):a000.M3Z.j3Z;};a000.Q3Z=function(){return typeof a000.M3Z.G3Z === 'function'?a000.M3Z.G3Z.apply(a000.M3Z,arguments):a000.M3Z.G3Z;};a000.q3Z=function(){return typeof a000.M3Z.j3Z === 'function'?a000.M3Z.j3Z.apply(a000.M3Z,arguments):a000.M3Z.j3Z;};a000.E3Z=function(){return typeof a000.M3Z.G3Z === 'function'?a000.M3Z.G3Z.apply(a000.M3Z,arguments):a000.M3Z.G3Z;};function a000(){}(function(){(function(nb,Ab){var wc,Fc,Qb,ud,Db,Gb,Zb,De,Ee,Lb,Mb,Mc,Fe,vd,Ge,He,Vd,La,Bb,jd,Ie,Wd,db,ub,yb,xc,kc,Vb,vb,$b,Pb,Oc,Ib,Hb,Jb,cc,wd,yc,rc,sc,xd,Xd,Je,Hc,Ic,Pc,Yd,Zc,zc,yd,Lc,Zd,Ke,$c,$d,ae,be,ce,Ac,de,ee,fe,bd,Bc,Cc,cd,zd,Ad,Bd,jc,Kf,Ob,Nc,Le,Cd,oc,Me,Lf,tc,Ne,Mf,Dd,Oe,Nf,id,Pe,Jf,Of,ge,Ed,Pf,Qf,Ae,Rf,Be,Qe,lc,kd,Re,ld,Se,pc,Te,he,Ue,ie,Fd,Ve,Tf,Ce,Gd,Ud,We,Sf,Xe,je,Ye,Ze,$e,ke,Kc,bf,af,Uf,md,cf,me,nd,df,le,ef,ff,ne,hf,jf,Jd,Sc,dd,Tc,kf,lf,mf,nf,of,pf,Kd,Vf,qf,rf,pe,sf,ic,Qc,ad,Rc,Jc,Dc,Hd,ac,Gc,gf,od,Uc,tf,Wf,pd,uf,Xf,ed,vf,Ld,qe,qd,re,wf,rd,xf,yf,zf,Yf,sd,Af,Zf,$f,Bf,oe,Id,Cf,If,Df,ag,cg,bg,fd,td,dg,ze,eg,Ef;function Tb(ib,gb){if(!gb || "utf-8" === gb)return Pd(ib);throw Error("unsupported encoding");}function Rb(ib,gb){if(!gb || "utf-8" === gb)return Qd(ib);throw Error("unsupported encoding");}function Pd(ib){for(var gb=0,fb,bb=ib.length,lb="";gb < bb;){fb=ib[gb++];if(fb & 128)if(192 === (fb & 224))fb=((fb & 31) << 6) + (ib[gb++] & 63);else if(224 === (fb & 240))fb=((fb & 15) << 12) + ((ib[gb++] & 63) << 6) + (ib[gb++] & 63);else throw Error("unsupported character");lb+=String.fromCharCode(fb);}return lb;}function Qd(ib){var gb,fb,bb,lb,pb;gb=ib.length;fb=0;lb=0;for(bb=gb;bb--;){pb=ib.charCodeAt(bb);128 > pb?fb++:fb=2048 > pb?fb + 2:fb + 3;}fb=new Uint8Array(fb);for(bb=0;bb < gb;bb++){pb=ib.charCodeAt(bb);128 > pb?fb[lb++]=pb:(2048 > pb?fb[lb++]=192 | pb >>> 6:(fb[lb++]=224 | pb >>> 12,fb[lb++]=128 | pb >>> 6 & 63),fb[lb++]=128 | pb & 63);}return fb;}function Wb(ib,gb){if(ib === gb)return !0;if(!ib || !gb || ib.length != gb.length)return !1;for(var fb=0;fb < ib.length;++fb){if(ib[fb] != gb[fb])return !1;}return !0;}function gc(ib){var bb;if(!(ib && ib.constructor == Uint8Array || Array.isArray(ib)))throw new TypeError("Cannot compute the hash code of " + ib);for(var gb=1,fb=0;fb < ib.length;++fb){bb=ib[fb];if("number" !== typeof bb)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + bb);gb=31 * gb + bb & 4294967295;}return gb;}function ue(ib,gb){var kb;if(ib === gb)return !0;if(!ib || !gb)return !1;gb instanceof Array || (gb=[gb]);for(var fb=0;fb < gb.length;++fb){for(var bb=gb[fb],lb=!1,pb=0;pb < ib.length;++pb){kb=ib[pb];if(bb.equals && "function" === typeof bb.equals && bb.equals(kb) || bb == kb){lb=!0;break;}}if(!lb)return !1;}return !0;}function ve(ib,gb){return ue(ib,gb) && (ib.length == gb.length || ue(gb,ib));}function Ma(ib,gb,fb){var bb,lb;fb && (bb=fb);if("object" !== typeof ib || "function" !== typeof ib.result || "function" !== typeof ib.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{lb=gb.call(bb,ib);lb !== Ab && ib.result(lb);}catch(pb){try{ib.error(pb);}catch(kb){}}}function eb(ib,gb,fb){if("object" !== typeof ib || "function" !== typeof ib.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Ma(ib,gb,fb);}function W(ib,gb,fb){1E5 > ib && (ib=1E5 + ib);Object.defineProperties(this,{internalCode:{value:ib,writable:!1,configurable:!1},responseCode:{value:gb,writable:!1,configurable:!1},message:{value:fb,writable:!1,configurable:!1}});}function Rd(ib){switch(ib){case Ob.PSK:case Ob.MGK:return !0;default:return !1;}}function we(ib){switch(ib){case Ob.PSK:case Ob.MGK:case Ob.X509:case Ob.RSA:case Ob.NPTICKET:case Ob.ECC:return !0;default:return !1;}}function Ff(ib){return ib.toJSON();}function xe(ib,gb){td?gb.result(td):Promise.resolve().then(function(){return Jb.getKeyByName(ib);}).catch(function(){return Jb.generateKey({name:ib},!1,["wrapKey","unwrapKey"]);}).then(function(fb){td=fb;gb.result(td);}).catch(function(fb){gb.error(new db(W.INTERNAL_EXCEPTION,"Unable to get system key"));});}function ye(ib,gb){var fb,bb;fb=gb.masterToken;bb=gb.userIdToken;gb=gb.serviceTokens;return {NccpMethod:ib.method,UserId:ib.userId,UT:bb && bb.serialNumber,MT:fb && fb.serialNumber + ":" + fb.sequenceNumber,STCount:gb && gb.length};}function Gf(ib){return ib.uniqueKey();}function Hf(ib,gb,fb,bb,lb){var Sa;function pb(Ba,oa){Ba.errorCode === La.ENTITY_REAUTH || Ba.errorCode === La.ENTITYDATA_REAUTH?(bb.clearCryptoContexts(),Oa()):Ba.errorCode !== La.USER_REAUTH && Ba.errorCode !== La.USERDATA_REAUTH || kb(oa);}function kb(Ba){if(Ba=bb.getUserIdToken(Ba))(bb.removeUserIdToken(Ba),Oa());}function Ha(Ba,oa,ia){var ca;ca=[];(function ka(){Ba.read(-1,oa,{result:function(fa){Ma(ia,function(){var V,aa,ua,qa,va;if(fa)(ca.push(fa),ka());else switch(ca.length){case 0:return new Uint8Array(0);case 1:return ca[0];default:(ua=ca.length,qa=0);for(aa=V=0;aa < ua;aa++){V+=ca[aa].length;}V=new Uint8Array(V);for(aa=0;aa < ua;aa++){va=ca[aa];V.set(va,qa);qa+=va.length;}return V;}});},timeout:function(){ia.timeout();},error:function(fa){ia.error(fa);}});})();}function Oa(){bb.getStoreState({result:function(Ba){for(var oa=Sa.slice(),ia=0;ia < oa.length;ia++){oa[ia]({storeState:Ba});}},timeout:function(){ib.error("Timeout getting store state","" + e);},error:function(Ba){ib.error("Error getting store state","" + Ba);}});}Sa=[];this.addEventHandler=function(Ba,oa){switch(Ba){case "shouldpersist":Sa.push(oa);}};this.send=function(Ba){return new Promise(function(oa,ia){var ca,da,ka;ca=Ba.timeout;da=new ze(ib,fb,Ba,bb.getKeyRequestData());ka=new Ae(Ba.url);ib.trace("Sending MSL request");gb.request(fb,da,ka,ca,{result:function(fa){var V;ib.trace("Received MSL response",{Method:Ba.method});if(fa){Ba.allowTokenRefresh && Oa();V=fa.getErrorHeader();V?(pb(V,Ba.profileGuid || Ba.userId),ia({success:!1,error:V})):Ha(fa,ca,{result:function(aa){oa({success:!0,body:Tb(aa)});},timeout:function(){ia({success:!1,subCode:lb.MSL_READ_TIMEOUT});},error:function(aa){ia({success:!1,error:aa});}});}else ia({success:!1,error:new db(W.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ia({success:!1,subCode:lb.MSL_REQUEST_TIMEOUT});},error:function(fa){ia({success:!1,error:fa});}});});};this.hasUserIdToken=function(Ba){return ! !bb.getUserIdToken(Ba);};this.getUserIdTokenKeys=function(){return bb.getUserIdTokenKeys();};this.removeUserIdToken=kb;this.clearUserIdTokens=function(){bb.clearUserIdTokens();Oa();};this.isErrorReauth=function(Ba){return Ba && Ba.errorCode == La.USERDATA_REAUTH;};this.isErrorHeader=function(Ba){return Ba instanceof Kc;};this.getErrorCode=function(Ba){return Ba && Ba.errorCode;};this.getStateForMdx=function(Ba){var oa,ia;oa=bb.getMasterToken();Ba=bb.getUserIdToken(Ba);ia=bb.getCryptoContext(oa);return {masterToken:oa,userIdToken:Ba,cryptoContext:ia};};this.buildPlayDataRequest=function(Ba,oa){var ia;ia=new Be();gb.request(fb,new ze(ib,fb,Ba),ia,Ba.timeout,{result:function(){oa.result(ia.getRequest());},error:function(){oa.result(ia.getRequest());},timeout:function(){oa.timeout();}});};this.rekeyUserIdToken=function(Ba,oa){bb.rekeyUserIdToken(Ba,oa);Oa();};this.getServiceTokens=function(Ba){var oa;oa=bb.getMasterToken();(Ba=bb.getUserIdToken(Ba)) && !Ba.isBoundTo(oa) && (Ba=Ab);return bb.getServiceTokens(oa,Ba);};this.removeServiceToken=function(Ba){var oa;oa=bb.getMasterToken();bb.getServiceTokens(oa).find(function(ia){return ia.name === Ba;}) && (bb.removeServiceTokens(Ba,oa),Oa());};}function Sd(ib,gb,fb,bb,lb,pb){function kb(Ha){var Oa;return Promise.resolve().then(function(){Oa=ib.authenticationKeyNames[Ha];if(!Oa)throw new db(W.KEY_IMPORT_ERROR,"Invalid config keyName " + Ha);return Jb.getKeyByName(Oa);}).then(function(Sa){return new Promise(function(Ba,oa){Zc(Sa,{result:Ba,error:function(){oa(new db(W.KEY_IMPORT_ERROR,"Unable to create " + Oa + " CipherKey"));}});});}).catch(function(Sa){throw new db(W.KEY_IMPORT_ERROR,"Unable to import " + Oa,Sa);});}return Promise.resolve().then(function(){if(!Jb.getKeyByName)throw new db(W.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([kb("e"),kb("h"),kb("w")]);}).then(function(Ha){var Oa,Sa,Ba;Oa={};Oa[gb]=new fb(ib.esn,Ha[0],Ha[1],Ha[2]);Ha=new bb(ib.esn);Sa=new If();Sa=[new lb(Sa)];Ba=new pb(gb);return {entityAuthFactories:Oa,entityAuthData:Ha,keyExchangeFactories:Sa,keyRequestData:Ba};});}function Td(ib,gb,fb){var pb;function bb(){return Promise.resolve().then(function(){return Jb.generateKey(gb,!1,["wrapKey","unwrapKey"]);}).then(function(kb){return lb(kb.publicKey,kb.privateKey);});}function lb(kb,Ha){return Promise.all([new Promise(function(Oa,Sa){Lc(kb,{result:Oa,error:function(Ba){Sa(new db(W.INTERNAL_EXCEPTION,"Unable to create keyx public key",Ba));}});}),new Promise(function(Oa,Sa){$c(Ha,{result:Oa,error:function(Ba){Sa(new db(W.INTERNAL_EXCEPTION,"Unable to create keyx private key",Ba));}});})]).then(function(Oa){Oa=new Ud("rsaKeypairId",fb,Oa[0],Oa[1]);pb && (Oa.storeData={keyxPublicKey:kb,keyxPrivateKey:Ha});return Oa;});}pb=!ib.systemKeyWrapFormat;return Promise.resolve().then(function(){var kb,Ha;kb=ib.storeState;Ha=kb && kb.keyxPublicKey;kb=kb && kb.keyxPrivateKey;return pb && Ha && kb?lb(Ha,kb):bb();}).then(function(kb){var Ha,Oa,Sa;Ha={};Ha[Ob.NONE]=new Jf();Oa=new id(ib.esn);Sa=[new Ce()];return {entityAuthFactories:Ha,entityAuthData:Oa,keyExchangeFactories:Sa,keyRequestData:kb,createKeyRequestData:pb?bb:Ab};});}Fc=nb.nfCrypto || nb.msCrypto || nb.webkitCrypto || nb.crypto;Qb=Fc && (Fc.webkitSubtle || Fc.subtle);ud=nb.nfCryptokeys || nb.msCryptokeys || nb.webkitCryptokeys || nb.cryptokeys;(function(ib){var gb,fb;gb=(function(){function bb(lb,pb){lb instanceof gb?(this.abv=lb.abv,this.position=lb.position):(this.abv=lb,this.position=pb || 0);}bb.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(lb){this.abv[this.position++]=lb;},peekByte:function(lb){return this.abv[lb];},copyBytes:function(lb,pb,kb){var Ha;Ha=new Uint8Array(this.abv.buffer,this.position,kb);lb=new Uint8Array(lb.buffer,pb,kb);Ha.set(lb);this.position+=kb;},seek:function(lb){this.position=lb;},skip:function(lb){this.position+=lb;},getPosition:function(){return this.position;},setPosition:function(lb){this.position=lb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return bb;})();fb={};(function(){var fa,V,aa,ua,qa,va,Ea,wa,ta;function bb(X,ba){var ha;ba.writeByte(X.tagClass << 6 | X.constructed << 5 | X.tag);ha=X.payloadLen;if(128 > ha)ba.writeByte(ha);else {for(var na=ha,Ia=0;na;){++Ia;na>>=8;}ba.writeByte(128 | Ia);for(na=0;na < Ia;++na){ba.writeByte(ha >> 8 * (Ia - na - 1) & 255);}}if(X.child)for((X.tag == fa.BIT_STRING && ba.writeByte(0),X=X._child);X;){if(!bb(X,ba))return !1;X=X.next;}else switch(X.tag){case fa.INTEGER:X.backingStore[X.dataIdx] >> 7 && ba.writeByte(0);ba.copyBytes(X.backingStore,X.dataIdx,X.dataLen);break;case fa.BIT_STRING:ba.writeByte(0);ba.copyBytes(X.backingStore,X.dataIdx,X.dataLen);break;case fa.OCTET_STRING:ba.copyBytes(X.backingStore,X.dataIdx,X.dataLen);break;case fa.OBJECT_IDENTIFIER:ba.copyBytes(X.backingStore,X.dataIdx,X.dataLen);}return !0;}function lb(X){var ba,ha;ba=X.readByte();ha=ba & 127;if(ha == ba)return ha;if(3 < ha || 0 === ha)return -1;for(var na=ba=0;na < ha;++na){ba=ba << 8 | X.readByte();}return ba;}function pb(X,ba,ha){var na,Ia,Fa,Ra,Ta,ma,za;na=X.backingStore;Ia=new gb(na,ba);ba+=ha;ha=X;if(8 < qa++)return Ab;for(;Ia.getPosition() < ba;){Ia.getPosition();Ra=Ia.readByte();if(31 == (Ra & 31)){for(Fa=0;Ra & 128;){Fa<<=8;Fa|=Ra & 127;}Ra=Fa;}Ta=Ra;Fa=Ta & 31;if(0 > Fa || 30 < Fa)return Ab;Ra=lb(Ia);if(0 > Ra || Ra > Ia.getRemaining())return Ab;ha.constructed=Ta & 32;ha.tagClass=(Ta & 192) >> 6;ha.tag=Fa;ha.dataLen=Ra;ha.dataIdx=Ia.getPosition();Fa=Ia;ma=Ta;Ta=Ra;if(ma & 32)Fa=!0;else if(ma < fa.BIT_STRING || ma > fa.OCTET_STRING)Fa=!1;else {za=new gb(Fa);ma == fa.BIT_STRING && za.skip(1);za.readByte() >> 6 & 1?Fa=!1:(ma=lb(za),Fa=za.getPosition() - Fa.getPosition() + ma == Ta);}Fa && (Fa=Ia.getPosition(),Ta=Ra,ha.tag == fa.BIT_STRING && (ha.dataIdx++,ha.dataLen--,Fa++,Ta--),ha.child=new V(na,ha),pb(ha.child,Fa,Ta));ha.tag == fa.INTEGER && (Fa=Ia.getPosition(),0 == Ia.peekByte(Fa) && Ia.peekByte(Fa + 1) >> 7 && (ha.dataIdx++,ha.dataLen--));Ia.skip(Ra);Ia.getPosition() < ba && (ha.next=new V(na,ha.parent),ha=ha.next);}qa--;return X;}function kb(X,ba,ha){if(9 != ha)return !1;for(ha=0;9 > ha;++ha){if(X[ba++] != va[ha])return !1;}return !0;}function Ha(X){var ba;if(!(X && X.child && X.child.next && X.child.child && X.child.next.child))return !1;ba=X.child.child;return kb(ba.backingStore,ba.dataIdx,ba.dataLen) && 2 == X.nChildren && 2 == X.child.nChildren && 2 == X.child.next.child.nChildren?!0:!1;}function Oa(X){var ba;if(!(X && X.child && X.child.next && X.child.next.child && X.child.next.next && X.child.next.next.child))return !1;ba=X.child.next.child;return kb(ba.backingStore,ba.dataIdx,ba.dataLen) && 3 == X.nChildren && 2 == X.child.next.nChildren && 9 == X.child.next.next.child.nChildren?!0:!1;}function Sa(X){var ba,ha;ba=aa.createSequenceNode();ha=new ua(ba);ha.addChild(aa.createSequenceNode());ha.addChild(aa.createOidNode(va));ha.addSibling(aa.createNullNode());ha.addToParent(ba,aa.createBitStringNode(null));ha.addChild(aa.createSequenceNode());ha.addChild(aa.createIntegerNode(X.n));ha.addSibling(aa.createIntegerNode(X.e));return ba;}function Ba(X){var ba;X=X.child.next.child.child;ba=X.data;X=X.next;return new Ea(ba,X.data,null,null);}function oa(X){var ba,ha;ba=aa.createSequenceNode();ha=new ua(ba);ha.addChild(aa.createIntegerNode(new Uint8Array([0])));ha.addSibling(aa.createSequenceNode());ha.addChild(aa.createOidNode(va));ha.addSibling(aa.createNullNode());ha.addToParent(ba,aa.createOctetStringNode(null));ha.addChild(aa.createSequenceNode());ha.addChild(aa.createIntegerNode(new Uint8Array([0])));ha.addSibling(aa.createIntegerNode(X.n));ha.addSibling(aa.createIntegerNode(X.e));ha.addSibling(aa.createIntegerNode(X.d));ha.addSibling(aa.createIntegerNode(X.p));ha.addSibling(aa.createIntegerNode(X.q));ha.addSibling(aa.createIntegerNode(X.dp));ha.addSibling(aa.createIntegerNode(X.dq));ha.addSibling(aa.createIntegerNode(X.qi));return ba;}function ia(X){var ba;ba=[];X=X.child.next.next.child.child.next;for(var ha=0;8 > ha;ha++){ba.push(X.data);X=X.next;}return new wa(ba[0],ba[1],ba[2],ba[3],ba[4],ba[5],ba[6],ba[7]);}function ca(X,ba,ha,na){if(!(X instanceof Ea || X instanceof wa))return Ab;if(ha)for(var Ia=0;Ia < ha.length;++Ia){if(-1 == ta.indexOf(ha[Ia]))return Ab;}ba={kty:"RSA",alg:ba,key_ops:ha || [],ext:na == Ab?!1:na,n:Db(X.n,!0),e:Db(X.e,!0)};X instanceof wa && (ba.d=Db(X.d,!0),ba.p=Db(X.p,!0),ba.q=Db(X.q,!0),ba.dp=Db(X.dp,!0),ba.dq=Db(X.dq,!0),ba.qi=Db(X.qi,!0));return ba;}function da(X){var ba,ha,na,Ia,Fa,Ra,Ta,ma,za,Aa;if(!X.kty || "RSA" != X.kty || !X.n || !X.e)return Ab;ba=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(X.alg && -1 == ba.indexOf(X.alg))return Ab;ba=[];X.use?"enc" == X.use?ba=["encrypt","decrypt","wrap","unwrap"]:"sig" == X.use && (ba=["sign","verify"]):ba=X.key_ops;ha=X.ext;na=Gb(X.n,!0);Ia=Gb(X.e,!0);if(X.d){Fa=Gb(X.d,!0);Ra=Gb(X.p,!0);Ta=Gb(X.q,!0);ma=Gb(X.dp,!0);za=Gb(X.dq,!0);Aa=Gb(X.qi,!0);return new wa(na,Ia,Fa,Ra,Ta,ma,za,Aa,X.alg,ba,ha);}return new Ea(na,Ia,ha,ba);}function ka(X,ba,ha,na){this.der=X;this.type=ba;this.keyOps=ha;this.extractable=na;}fa={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};V=function(X,ba,ha,na,Ia,Fa){this._data=X;this._parent=ba || Ab;this._constructed=ha || !1;this._tagClass=0;this._tag=na || 0;this._dataIdx=Ia || 0;this._dataLen=Fa || 0;};V.prototype={_child:Ab,_next:Ab,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(X) {this._constructed=0 != X?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(X) {this._tagClass=X;},get tag() {return this._tag;},set tag(X) {this._tag=X;},get dataIdx() {return this._dataIdx;},set dataIdx(X) {this._dataIdx=X;},get dataLen() {return this._dataLen;},set dataLen(X) {this._dataLen=X;},get child() {return this._child;},set child(X) {this._child=X;this._child.parent=this;},get next() {return this._next;},set next(X) {this._next=X;},get parent() {return this._parent;},set parent(X) {this._parent=X;},get payloadLen() {var X;X=0;if(this._child){for(var ba=this._child;ba;){X+=ba.length;ba=ba.next;}this._tag == fa.BIT_STRING && X++;}else switch(this._tag){case fa.INTEGER:X=this._dataLen;this._data[this._dataIdx] >> 7 && X++;break;case fa.BIT_STRING:X=this._dataLen + 1;break;case fa.OCTET_STRING:X=this._dataLen;break;case fa.NULL:X=0;break;case fa.OBJECT_IDENTIFIER:kb(this._data,this._dataIdx,this._dataLen) && (X=9);}return X;},get length() {var X,ba;X=this.payloadLen;if(127 < X)for(ba=X;ba;){ba>>=8;++X;}return X + 2;},get der() {var X,ba;X=this.length;if(!X)return Ab;X=new Uint8Array(X);ba=new gb(X);return bb(this,ba)?X:Ab;},get nChildren() {for(var X=0,ba=this._child;ba;){X++;ba=ba.next;}return X;}};aa={createSequenceNode:function(){return new V(null,null,!0,fa.SEQUENCE,null,null);},createOidNode:function(X){return new V(X,null,!1,fa.OBJECT_IDENTIFIER,0,X?X.length:0);},createNullNode:function(){return new V(null,null,!1,fa.NULL,null,null);},createBitStringNode:function(X){return new V(X,null,!1,fa.BIT_STRING,0,X?X.length:0);},createIntegerNode:function(X){return new V(X,null,!1,fa.INTEGER,0,X?X.length:0);},createOctetStringNode:function(X){return new V(X,null,!1,fa.OCTET_STRING,0,X?X.length:0);}};ua=function(X){this._currentNode=this._rootNode=X;};ua.prototype={addChild:function(X){this.addTo(this._currentNode,X);},addSibling:function(X){this.addTo(this._currentNode.parent,X);},addTo:function(X,ba){this._currentNode=ba;this._currentNode.parent=X;if(X.child){for(X=X.child;X.next;){X=X.next;}X.next=ba;}else X.child=ba;},addToParent:function(X,ba){this.findNode(X) && this.addTo(X,ba);},findNode:function(X){for(var ba=this._currentNode;ba;){if(X == ba)return !0;ba=ba.parent;}return !1;}};qa=0;va=new Uint8Array([42,134,72,134,247,13,1,1,1]);Ea=function(X,ba,ha,na){this.n=X;this.e=ba;this.ext=ha;this.keyOps=na;};wa=function(X,ba,ha,na,Ia,Fa,Ra,Ta,ma,za,Aa){this.n=X;this.e=ba;this.d=ha;this.p=na;this.q=Ia;this.dp=Fa;this.dq=Ra;this.qi=Ta;this.alg=ma;this.keyOps=za;this.ext=Aa;};ta=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");ka.prototype.getDer=function(){return this.der;};ka.prototype.getType=function(){return this.type;};ka.prototype.getKeyOps=function(){return this.keyOps;};ka.prototype.getExtractable=function(){return this.extractable;};fb.parse=function(X){qa=0;return pb(new V(X),0,X.length);};fb.show=function(X,ba){};fb.isRsaSpki=Ha;fb.isRsaPkcs8=Oa;fb.NodeFactory=aa;fb.Builder=ua;fb.tagVal=fa;fb.RsaPublicKey=Ea;fb.RsaPrivateKey=wa;fb.buildRsaSpki=Sa;fb.parseRsaSpki=function(X){X=fb.parse(X);return Ha?Ba(X):Ab;};fb.buildRsaPkcs8=oa;fb.parseRsaPkcs8=function(X){X=fb.parse(X);return Oa(X)?ia(X):Ab;};fb.buildRsaJwk=ca;fb.parseRsaJwk=da;fb.RsaDer=ka;fb.rsaDerToJwk=function(X,ba,ha,na){X=fb.parse(X);if(!X)return Ab;if(Ha(X))X=Ba(X);else if(Oa(X))X=ia(X);else return Ab;return ca(X,ba,ha,na);};fb.jwkToRsaDer=function(X){var ba,ha;X=da(X);if(!X)return Ab;if(X instanceof Ea){ba="spki";ha=Sa(X).der;}else if(X instanceof wa)(ba="pkcs8",ha=oa(X).der);else return Ab;return new ka(ha,ba,X.keyOps,X.ext);};fb.webCryptoAlgorithmToJwkAlg=function(X){return "RSAES-PKCS1-v1_5" == X.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == X.name?"SHA-256" == X.hash.name?"RS256":"SHA-384" == X.hash.name?"RS384":"SHA-512" == X.hash.name?"RS512":Ab:Ab;};fb.webCryptoUsageToJwkKeyOps=function(X){return X.map(function(ba){return "wrapKey" == ba?"wrap":"unwrapKey" == ba?"unwrap":ba;});};})();ib.ASN1=fb;})(nb);(function(){for(var ib={},gb={},fb={"=":0,".":0},bb={"=":0,".":0},lb=/\s+/g,pb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,kb=64;kb--;){ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=262144 * kb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=4096 * kb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=64 * kb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=kb;}for(kb=64;kb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb];){ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=262144 * kb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=4096 * kb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=64 * kb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=kb;}Db=function(Ha,Oa){for(var Sa="",Ba=0,oa=Ha.length,ia=oa - 2,ca=Oa?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",da=Oa?"":"=";Ba < ia;){Oa=65536 * Ha[Ba++] + 256 * Ha[Ba++] + Ha[Ba++];Sa+=ca[Oa >>> 18] + ca[Oa >>> 12 & 63] + ca[Oa >>> 6 & 63] + ca[Oa & 63];}Ba == ia?(Oa=65536 * Ha[Ba++] + 256 * Ha[Ba++],Sa+=ca[Oa >>> 18] + ca[Oa >>> 12 & 63] + ca[Oa >>> 6 & 63] + da):Ba == oa - 1 && (Oa=65536 * Ha[Ba++],Sa+=ca[Oa >>> 18] + ca[Oa >>> 12 & 63] + da + da);return Sa;};Gb=function(Ha,Oa){Ha=Ha.replace(lb,"");if(Oa && (Oa=Ha.length % 4)){Oa=4 - Oa;for(var Sa=0;Sa < Oa;++Sa){Ha+="=";}}Oa=Ha.length;if(0 != Oa % 4 || !pb.test(Ha))throw Error("bad base64: " + Ha);for(var Ba=Oa / 4 * 3 - ("=" == Ha[Oa - 1]?1:0) - ("=" == Ha[Oa - 2]?1:0),oa=new Uint8Array(Ba),ia=0,ca=0;ia < Oa;){Sa=ib[Ha[ia++]] + gb[Ha[ia++]] + fb[Ha[ia++]] + bb[Ha[ia++]];oa[ca++]=Sa >>> 16;ca < Ba && (oa[ca++]=Sa >>> 8 & 255,ca < Ba && (oa[ca++]=Sa & 255));}return oa;};})();Zb={};(function(){var pb,kb,Ha,Sa;function ib(Ba){if(!(this instanceof ib))return new ib(Ba);for(var oa=0,ia=kb.length;oa < ia;oa++){this[kb[oa]]="";}this.bufferCheckPosition=Zb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=Ba || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ha.BEGIN;this.stack=new pb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;gb(this,"onready");}function gb(Ba,oa,ia){if(Ba[oa])Ba[oa](ia);}function fb(Ba,oa){var ia,ca;ia=Ba.opt;ca=Ba.textNode;ia.trim && (ca=ca.trim());ia.normalize && (ca=ca.replace(/\s+/g," "));Ba.textNode=ca;Ba.textNode && gb(Ba,oa?oa:"onvalue",Ba.textNode);Ba.textNode="";}function bb(Ba,oa){fb(Ba);oa+="\nLine: " + Ba.line + "\nColumn: " + Ba.column + "\nChar: " + Ba.c;oa=Error(oa);Ba.error=oa;gb(Ba,"onerror",oa);return Ba;}function lb(Ba){Ba.state !== Ha.VALUE && bb(Ba,"Unexpected end");fb(Ba);Ba.c="";Ba.closed=!0;gb(Ba,"onend");ib.call(Ba,Ba.opt);return Ba;}pb=Array;Zb.parser=function(Ba){return new ib(Ba);};Zb.CParser=ib;Zb.MAX_BUFFER_LENGTH=65536;Zb.DEBUG=!1;Zb.INFO=!1;Zb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");kb=["textNode","numberNode"];Zb.EVENTS.filter(function(Ba){return "error" !== Ba && "end" !== Ba;});Ha=0;Zb.STATE={BEGIN:Ha++,VALUE:Ha++,OPEN_OBJECT:Ha++,CLOSE_OBJECT:Ha++,OPEN_ARRAY:Ha++,CLOSE_ARRAY:Ha++,TEXT_ESCAPE:Ha++,STRING:Ha++,BACKSLASH:Ha++,END:Ha++,OPEN_KEY:Ha++,CLOSE_KEY:Ha++,TRUE:Ha++,TRUE2:Ha++,TRUE3:Ha++,FALSE:Ha++,FALSE2:Ha++,FALSE3:Ha++,FALSE4:Ha++,NULL:Ha++,NULL2:Ha++,NULL3:Ha++,NUMBER_DECIMAL_POINT:Ha++,NUMBER_DIGIT:Ha++};for(var Oa in Zb.STATE){Zb.STATE[Zb.STATE[Oa]]=Oa;}Ha=Zb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(Ba){return Ba.__proto__;});Sa=/[\\"\n]/g;ib.prototype={end:function(){lb(this);},write:function(Ba){var ca,da,ka;if(this.error)throw this.error;if(this.closed)return bb(this,"Cannot write after close. Assign an onready handler.");if(null === Ba)return lb(this);for(var oa=Ba[0],ia;oa;){ia=oa;this.c=oa=Ba.charAt(this.index++);ia !== oa?this.p=ia:ia=this.p;if(!oa)break;this.position++;"\n" === oa?(this.line++,this.column=0):this.column++;switch(this.state){case Ha.BEGIN:"{" === oa?this.state=Ha.OPEN_OBJECT:"[" === oa?this.state=Ha.OPEN_ARRAY:"\r" !== oa && "\n" !== oa && " " !== oa && "\t" !== oa && bb(this,"Non-whitespace before {[.");continue;case Ha.OPEN_KEY:case Ha.OPEN_OBJECT:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;if(this.state === Ha.OPEN_KEY)this.stack.push(Ha.CLOSE_KEY);else if("}" === oa){gb(this,"onopenobject");gb(this,"oncloseobject");this.state=this.stack.pop() || Ha.VALUE;continue;}else this.stack.push(Ha.CLOSE_OBJECT);'"' === oa?this.state=Ha.STRING:bb(this,'Malformed object key should start with "');continue;case Ha.CLOSE_KEY:case Ha.CLOSE_OBJECT:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;":" === oa?(this.state === Ha.CLOSE_OBJECT?(this.stack.push(Ha.CLOSE_OBJECT),fb(this,"onopenobject")):fb(this,"onkey"),this.state=Ha.VALUE):"}" === oa?(fb(this),gb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ha.VALUE):"," === oa?(this.state === Ha.CLOSE_OBJECT && this.stack.push(Ha.CLOSE_OBJECT),fb(this),this.state=Ha.OPEN_KEY):bb(this,"Bad object");continue;case Ha.OPEN_ARRAY:case Ha.VALUE:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;if(this.state === Ha.OPEN_ARRAY)if((gb(this,"onopenarray"),this.state=Ha.VALUE,"]" === oa)){gb(this,"onclosearray");this.state=this.stack.pop() || Ha.VALUE;continue;}else this.stack.push(Ha.CLOSE_ARRAY);'"' === oa?this.state=Ha.STRING:"{" === oa?this.state=Ha.OPEN_OBJECT:"[" === oa?this.state=Ha.OPEN_ARRAY:"t" === oa?this.state=Ha.TRUE:"f" === oa?this.state=Ha.FALSE:"n" === oa?this.state=Ha.NULL:"-" === oa?this.numberNode+=oa:"0" === oa?(this.numberNode+=oa,this.state=Ha.NUMBER_DIGIT):-1 !== ("123456789").indexOf(oa)?(this.numberNode+=oa,this.state=Ha.NUMBER_DIGIT):bb(this,"Bad value");continue;case Ha.CLOSE_ARRAY:if("," === oa)(this.stack.push(Ha.CLOSE_ARRAY),fb(this,"onvalue"),this.state=Ha.VALUE);else if("]" === oa)(fb(this),gb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ha.VALUE);else if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;else bb(this,"Bad array");continue;case Ha.STRING:ia=this.index - 1;(ca=this.slashed,da=this.unicodeI);a:for(;;){if(Zb.DEBUG)for(;0 < da;){if((this.unicodeS+=oa,oa=Ba.charAt(this.index++),4 === da?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),da=0,ia=this.index - 1):da++,!oa))break a;}if('"' === oa && !ca){this.state=this.stack.pop() || Ha.VALUE;(this.textNode+=Ba.substring(ia,this.index - 1)) || gb(this,"onvalue","");break;}if("\\" === oa && !ca && (ca=!0,this.textNode+=Ba.substring(ia,this.index - 1),oa=Ba.charAt(this.index++),!oa))break;if(ca)if((ca=!1,"n" === oa?this.textNode+="\n":"r" === oa?this.textNode+="\r":"t" === oa?this.textNode+="\t":"f" === oa?this.textNode+="\f":"b" === oa?this.textNode+="\b":"u" === oa?(da=1,this.unicodeS=""):this.textNode+=oa,oa=Ba.charAt(this.index++),ia=this.index - 1,oa))continue;else break;Sa.lastIndex=this.index;ka=Sa.exec(Ba);if(null === ka){this.index=Ba.length + 1;this.textNode+=Ba.substring(ia,this.index - 1);break;}this.index=ka.index + 1;oa=Ba.charAt(ka.index);if(!oa){this.textNode+=Ba.substring(ia,this.index - 1);break;}}this.slashed=ca;this.unicodeI=da;continue;case Ha.TRUE:if("" === oa)continue;"r" === oa?this.state=Ha.TRUE2:bb(this,"Invalid true started with t" + oa);continue;case Ha.TRUE2:if("" === oa)continue;"u" === oa?this.state=Ha.TRUE3:bb(this,"Invalid true started with tr" + oa);continue;case Ha.TRUE3:if("" === oa)continue;"e" === oa?(gb(this,"onvalue",!0),this.state=this.stack.pop() || Ha.VALUE):bb(this,"Invalid true started with tru" + oa);continue;case Ha.FALSE:if("" === oa)continue;"a" === oa?this.state=Ha.FALSE2:bb(this,"Invalid false started with f" + oa);continue;case Ha.FALSE2:if("" === oa)continue;"l" === oa?this.state=Ha.FALSE3:bb(this,"Invalid false started with fa" + oa);continue;case Ha.FALSE3:if("" === oa)continue;"s" === oa?this.state=Ha.FALSE4:bb(this,"Invalid false started with fal" + oa);continue;case Ha.FALSE4:if("" === oa)continue;"e" === oa?(gb(this,"onvalue",!1),this.state=this.stack.pop() || Ha.VALUE):bb(this,"Invalid false started with fals" + oa);continue;case Ha.NULL:if("" === oa)continue;"u" === oa?this.state=Ha.NULL2:bb(this,"Invalid null started with n" + oa);continue;case Ha.NULL2:if("" === oa)continue;"l" === oa?this.state=Ha.NULL3:bb(this,"Invalid null started with nu" + oa);continue;case Ha.NULL3:if("" === oa)continue;"l" === oa?(gb(this,"onvalue",null),this.state=this.stack.pop() || Ha.VALUE):bb(this,"Invalid null started with nul" + oa);continue;case Ha.NUMBER_DECIMAL_POINT:"." === oa?(this.numberNode+=oa,this.state=Ha.NUMBER_DIGIT):bb(this,"Leading zero not followed by .");continue;case Ha.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(oa)?this.numberNode+=oa:"." === oa?(-1 !== this.numberNode.indexOf(".") && bb(this,"Invalid number has two dots"),this.numberNode+=oa):"e" === oa || "E" === oa?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || bb(this,"Invalid number has two exponential"),this.numberNode+=oa):"+" === oa || "-" === oa?("e" !== ia && "E" !== ia && bb(this,"Invalid symbol in number"),this.numberNode+=oa):(this.numberNode && gb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ha.VALUE);continue;default:bb(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){Ba=Math.max(Zb.MAX_BUFFER_LENGTH,10);ia=oa=0;for(ca=kb.length;ia < ca;ia++){da=this[kb[ia]].length;if(da > Ba)switch(kb[ia]){case "text":break;default:bb(this,"Max buffer length exceeded: " + kb[ia]);}oa=Math.max(oa,da);}this.bufferCheckPosition=Zb.MAX_BUFFER_LENGTH - oa + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var bb,lb,pb;function ib(kb,Ha){Ha || (Ha=kb.length);return kb.reduce(function(Oa,Sa,Ba){return Ba < Ha?Oa + String.fromCharCode(Sa):Oa;},"");}for(var gb={},fb=0;256 > fb;++fb){bb=ib([fb]);gb[bb]=fb;}lb=Object.keys(gb).length;pb=[];for(fb=0;256 > fb;++fb){pb[fb]=[fb];}De=function(kb,Ha){var V,aa;function Oa(ua,qa){var va;for(;0 < qa;){if(da >= ca.length)return !1;if(qa > ka){va=ua;va>>>=qa - ka;ca[da]|=va & 255;qa-=ka;ka=8;++da;}else qa <= ka && (va=ua,va<<=ka - qa,va&=255,va>>>=8 - ka,ca[da]|=va & 255,ka-=qa,qa=0,0 == ka && (ka=8,++da));}return !0;}for(var Sa in gb){Ha[Sa]=gb[Sa];}for(var Ba=lb,oa=[],ia=8,ca=new Uint8Array(kb.length),da=0,ka=8,fa=0;fa < kb.length;++fa){V=kb[fa];oa.push(V);Sa=ib(oa);aa=Ha[Sa];if(!aa){oa=ib(oa,oa.length - 1);if(!Oa(Ha[oa],ia))return null;0 != Ba >> ia && ++ia;Ha[Sa]=Ba++;oa=[V];}}return 0 < oa.length && (Sa=ib(oa),aa=Ha[Sa],!Oa(aa,ia))?null:ca.subarray(0,8 > ka?da + 1:da);};Ee=function(kb){var fa,V;for(var Ha=pb.slice(),Oa=0,Sa=0,Ba=8,oa=new Uint8Array(Math.ceil(1.5 * kb.length)),ia=0,ca,da=[];Oa < kb.length && !(8 * (kb.length - Oa) - Sa < Ba);){for(var ka=ca=0;ka < Ba;){fa=Math.min(Ba - ka,8 - Sa);V=kb[Oa];V<<=Sa;V&=255;V>>>=8 - fa;ka+=fa;Sa+=fa;8 == Sa && (Sa=0,++Oa);ca|=(V & 255) << Ba - ka;}ka=Ha[ca];0 == da.length?++Ba:(ka?da.push(ka[0]):da.push(da[0]),Ha[Ha.length]=da,da=[],Ha.length == 1 << Ba && ++Ba,ka || (ka=Ha[ca]));ca=ia + ka.length;ca >= oa.length && (fa=new Uint8Array(Math.ceil(1.5 * ca)),fa.set(oa),oa=fa);oa.set(ka,ia);ia=ca;da=da.concat(ka);}return oa.subarray(0,ia);};})();(function(){var ib,gb,fb;Lb="utf-8";Mb=9007199254740992;ib=Mc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Mc);Fe=function(bb){for(var lb=[ib.GZIP,ib.LZW],pb=0;pb < lb.length && 0 < bb.length;++pb){for(var kb=lb[pb],Ha=0;Ha < bb.length;++Ha){if(bb[Ha] == kb)return kb;}}return null;};gb=vd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(vd);Ge=function(bb){return gb.AES_CBC_PKCS5Padding == bb?gb.AES_CBC_PKCS5Padding:gb.RSA_ECB_PKCS1Padding == bb?gb.RSA_ECB_PKCS1Padding:gb[bb];};fb=He={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(He);Vd=function(bb){return fb[bb];};La={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(La);})();Bb={isObjectLiteral:function(ib){return null !== ib && "object" === typeof ib && ib.constructor === Object;},extendDeep:function(){var ib,gb,fb,bb,lb,pb,kb,Ha;ib=arguments[0];gb=1;fb=arguments.length;bb=!1;"boolean" === typeof ib && (bb=ib,ib=arguments[1],gb=2);for(;gb < fb;gb++){if(null != (lb=arguments[gb]))for(pb in lb){if(!(bb && (pb in ib))){kb=lb[pb];if(ib !== kb && kb !== Ab){Ha=ib[pb];ib[pb]=null !== Ha && null !== kb && "object" === typeof Ha && "object" === typeof kb?Bb.extendDeep(bb,{},Ha,kb):kb;}}}}return ib;}};(function(){var kb,Ha;function ib(Oa,Sa){return function(){var Ba,oa;Ba=Oa.base;Oa.base=Sa;oa=Oa.apply(this,arguments);Oa.base=Ba;return oa;};}function gb(Oa,Sa,Ba){var oa,ia,ca,da;Ba=Ba || Ha;ia=! !Ba.extendAll;for(oa in Sa){ca=Sa.__lookupGetter__(oa);da=Sa.__lookupSetter__(oa);ca || da?(ca && Oa.__defineGetter__(oa,ca),da && Oa.__defineSetter__(oa,da)):(ca=Sa[oa],da=Oa[oa],"function" === typeof ca && "function" === typeof da && ca !== da?(ca.base !== Function.prototype.base && (ca=ib(ca,da)),ca.base=da):(ia || Ba[oa]) && Bb.isObjectLiteral(ca) && Bb.isObjectLiteral(da) && (ca=Bb.extendDeep({},da,ca)),Oa[oa]=ca);}}function fb(){var Oa,Sa;Oa=Array.prototype.slice;Sa=Oa.call(arguments,1);return this.extend({init:function oa(){var ia;ia=Oa.call(arguments,0);oa.base.apply(this,Sa.concat(ia));}});}function bb(Oa,Sa){var Ba;Ba=new this(kb);gb(Ba,Oa,Sa);return pb(Ba);}function lb(Oa,Sa){gb(this.prototype,Oa,Sa);return this;}function pb(Oa){var Sa;Sa=function(){var Ba;Ba=this.init;Ba && arguments[0] !== kb && Ba.apply(this,arguments);};Oa && (Sa.prototype=Oa);Sa.prototype.constructor=Sa;Sa.extend=bb;Sa.bind=fb;Sa.mixin=lb;return Sa;}kb={};Ha={actions:!0};Function.prototype.base=function(){};Bb.Class={create:pb,mixin:gb,extend:function(Oa,Sa){var Ba;Ba=pb();Ba.prototype=new Oa();return Ba.extend(Sa);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");gb.apply(null,arguments);};})();(function(){var kb,Ha,Oa;function ib(Sa,Ba){return function(){var oa,ia;oa=Sa.base;Sa.base=Ba;ia=Sa.apply(this,arguments);Sa.base=oa;return ia;};}function gb(Sa,Ba,oa){var ia,ca,da,ka;oa=oa || Ha;ca=! !oa.extendAll;for(ia in Ba){da=Ba.__lookupGetter__(ia);ka=Ba.__lookupSetter__(ia);da || ka?(da && Sa.__defineGetter__(ia,da),ka && Sa.__defineSetter__(ia,ka)):(da=Ba[ia],ka=Sa[ia],"function" === typeof da && "function" === typeof ka && da !== ka?(da.base !== Oa && (da=ib(da,ka)),da.base=ka):(ca || oa[ia]) && Bb.isObjectLiteral(da) && Bb.isObjectLiteral(ka) && (da=Bb.extendDeep({},ka,da)),Sa[ia]=da);}}function fb(){var Sa,Ba;Sa=Array.prototype.slice;Ba=Sa.call(arguments,1);return this.extend({init:function ia(){var ca;ca=Sa.call(arguments,0);ia.base.apply(this,Ba.concat(ca));}});}function bb(Sa,Ba){var oa;oa=new this(kb);gb(oa,Sa,Ba);return pb(oa);}function lb(Sa,Ba){gb(this.prototype,Sa,Ba);return this;}function pb(Sa){var Ba;Ba=function(){var oa;oa=this.init;oa && arguments[0] !== kb && oa.apply(this,arguments);};Sa && (Ba.prototype=Sa);Ba.prototype.constructor=Ba;Ba.extend=bb;Ba.bind=fb;Ba.mixin=lb;return Ba;}kb={};Ha={actions:!0};Oa=function(){};Function.prototype.base=Oa;Bb.Class={create:pb,mixin:gb,extend:function(Sa,Ba){var oa;oa=pb();oa.prototype=new Sa();return oa.extend(Ba);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");gb.apply(null,arguments);};})();(function(){function ib(fb){return fb == Mb?1:fb + 1;}function gb(fb){if(0 === Object.keys(fb._waiters).length)return 0;for(var bb=ib(fb._nextWaiter);!fb._waiters[bb];){bb=ib(bb);}return bb;}jd=Bb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(fb){var bb;if(this._waiters[fb]){bb=this._waiters[fb];delete this._waiters[fb];fb == this._nextWaiter && (this._nextWaiter=gb(this));bb.call(this,Ab);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(fb,bb){var lb,pb;lb=this;pb=ib(this._lastWaiter);this._lastWaiter=pb;eb(bb,function(){var kb,Ha;if(0 < this._queue.length){kb=this._queue.shift();setTimeout(function(){bb.result(kb);},0);}else {-1 != fb && (Ha=setTimeout(function(){delete lb._waiters[pb];pb == lb._nextWaiter && (lb._nextWaiter=gb(lb));bb.timeout();},fb));this._waiters[pb]=function(Oa){clearTimeout(Ha);setTimeout(function(){bb.result(Oa);},0);};this._nextWaiter || (this._nextWaiter=pb);}},lb);return pb;},add:function(fb){var bb;if(this._nextWaiter){bb=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=gb(this);bb.call(this,fb);}else this._queue.push(fb);}});})();(function(){var ib;ib=0 - Mb;Ie=Bb.Class.create({nextBoolean:function(){var gb;gb=new Uint8Array(1);Fc.getRandomValues(gb);return gb[0] & 1?!0:!1;},nextInt:function(gb){var fb;if(null !== gb && gb !== Ab){if("number" !== typeof gb)throw new TypeError("n must be of type number");if(1 > gb)throw new RangeError("n must be greater than zero");--gb;fb=new Uint8Array(4);Fc.getRandomValues(fb);return Math.floor(((fb[3] & 127) << 24 | fb[2] << 16 | fb[1] << 8 | fb[0]) / 2147483648 * (gb - 0 + 1));}gb=new Uint8Array(4);Fc.getRandomValues(gb);fb=(gb[3] & 127) << 24 | gb[2] << 16 | gb[1] << 8 | gb[0];return gb[3] & 128?-fb:fb;},nextLong:function(){var fb;for(var gb=ib;gb == ib;){gb=new Uint8Array(7);Fc.getRandomValues(gb);fb=16777216 * ((gb[6] & 31) << 24 | gb[5] << 16 | gb[4] << 8 | gb[3]) + (gb[2] << 16 | gb[1] << 8 | gb[0]);gb=gb[6] & 128?-fb - 1:fb;}return gb;},nextBytes:function(gb){Fc.getRandomValues(gb);}});})();(function(){function ib(bb){return bb == Mb?1:bb + 1;}function gb(bb){if(0 === Object.keys(bb._waitingReaders).length)return 0;for(var lb=ib(bb._nextReader);!bb._waitingReaders[lb];){lb=ib(lb);}return lb;}function fb(bb){if(0 === Object.keys(bb._waitingWriters).length)return 0;for(var lb=ib(bb._nextWriter);!bb._waitingWriters[lb];){lb=ib(lb);}return lb;}Wd=Bb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(bb){var lb;if(this._waitingReaders[bb]){lb=this._waitingReaders[bb];delete this._waitingReaders[bb];bb == this._nextReader && (this._nextReader=gb(this));lb.call(this,!0);}this._waitingWriters[bb] && (lb=this._waitingWriters[bb],delete this._waitingWriters[bb],bb == this._nextWriter && (this._nextWriter=fb(this)),lb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(bb,lb){var pb,kb;pb=this;kb=ib(this._lastNumber);this._lastNumber=kb;eb(lb,function(){var Ha;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[kb]=!0,kb);-1 != bb && (Ha=setTimeout(function(){delete pb._waitingReaders[kb];kb == pb._nextReader && (pb._nextReader=gb(pb));lb.timeout();},bb));this._waitingReaders[kb]=function(Oa){clearTimeout(Ha);Oa?setTimeout(function(){lb.result(Ab);},0):(pb._readers[kb]=!0,setTimeout(function(){lb.result(kb);},0));};this._nextReader || (this._nextReader=kb);},pb);return kb;},writeLock:function(bb,lb){var pb,kb;pb=this;kb=ib(this._lastNumber);this._lastNumber=kb;eb(lb,function(){var Ha;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=kb;-1 != bb && (Ha=setTimeout(function(){delete pb._waitingWriters[kb];kb == pb._nextWriter && (pb._nextWriter=fb(pb));lb.timeout();},bb));this._waitingWriters[kb]=function(Oa){clearTimeout(Ha);Oa?setTimeout(function(){lb.result(Ab);},0):(pb._writer=kb,setTimeout(function(){lb.result(kb);},0));};this._nextWriter || (this._nextWriter=kb);},pb);return kb;},unlock:function(bb){if(bb == this._writer)this._writer=null;else {if(!this._readers[bb])throw new vb("There is no reader or writer with ticket number " + bb + ".");delete this._readers[bb];}if(this._nextWriter)0 < Object.keys(this._readers).length || (bb=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=fb(this),bb.call(this,!1));else {for(var lb=this._nextReader;0 < Object.keys(this._waitingReaders).length;lb=ib(lb)){this._waitingReaders[lb] && (bb=this._waitingReaders[lb],delete this._waitingReaders[lb],bb.call(this,!1));}this._nextReader=0;}}});})();Bb.Class.mixin(W,{JSON_PARSE_ERROR:new W(0,La.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new W(1,La.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new W(2,La.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new W(3,La.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new W(4,La.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new W(5,La.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new W(6,La.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new W(7,La.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new W(8,La.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new W(9,La.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new W(10,La.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new W(11,La.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new W(12,La.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new W(13,La.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new W(14,La.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new W(15,La.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new W(16,La.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new W(17,La.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new W(18,La.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new W(19,La.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new W(20,La.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new W(21,La.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new W(22,La.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new W(23,La.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new W(24,La.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new W(25,La.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new W(26,La.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new W(27,La.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new W(28,La.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new W(29,La.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new W(30,La.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new W(31,La.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new W(32,La.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new W(33,La.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new W(34,La.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new W(35,La.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new W(36,La.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new W(37,La.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new W(38,La.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new W(39,La.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new W(40,La.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new W(41,La.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new W(42,La.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new W(43,La.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new W(44,La.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new W(45,La.FAIL,"Error exporting key."),DIGEST_ERROR:new W(46,La.FAIL,"Error in digest."),UNSUPPORTED_KEY:new W(47,La.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new W(48,La.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new W(49,La.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new W(50,La.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new W(51,La.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new W(52,La.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new W(53,La.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new W(54,La.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new W(55,La.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new W(56,La.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new W(57,La.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new W(58,La.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new W(59,La.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new W(60,La.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new W(61,La.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new W(62,La.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new W(1E3,La.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new W(1001,La.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new W(1002,La.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new W(1003,La.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new W(1004,La.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(1005,La.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new W(1006,La.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new W(1007,La.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new W(1008,La.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new W(1009,La.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new W(1010,La.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new W(1011,La.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new W(1012,La.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new W(1013,La.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new W(1014,La.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new W(2E3,La.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new W(2001,La.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new W(2002,La.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new W(2003,La.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new W(2004,La.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new W(2005,La.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(2006,La.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(2007,La.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new W(2008,La.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new W(2009,La.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new W(2010,La.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new W(2011,La.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new W(2012,La.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new W(2013,La.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new W(2014,La.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new W(2015,La.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new W(2016,La.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new W(2017,La.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new W(2018,La.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new W(2019,La.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new W(2020,La.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new W(3E3,La.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new W(3001,La.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new W(3002,La.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new W(3003,La.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new W(3004,La.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(3005,La.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(3006,La.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new W(3007,La.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new W(3008,La.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new W(3009,La.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new W(4E3,La.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new W(4001,La.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new W(4002,La.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new W(4003,La.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new W(4004,La.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new W(4005,La.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new W(4006,La.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new W(4007,La.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new W(4008,La.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new W(4009,La.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new W(4010,La.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new W(4011,La.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new W(4012,La.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new W(4013,La.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new W(4014,La.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new W(4015,La.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new W(4016,La.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new W(4017,La.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new W(4018,La.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new W(4019,La.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new W(4020,La.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new W(4021,La.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new W(4022,La.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new W(4023,La.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new W(4024,La.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new W(4025,La.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new W(4026,La.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new W(5E3,La.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new W(5001,La.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new W(5002,La.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new W(5003,La.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new W(5004,La.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new W(5005,La.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new W(5006,La.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new W(5007,La.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new W(5008,La.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new W(5009,La.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new W(5010,La.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new W(5011,La.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new W(5012,La.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new W(5013,La.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new W(5014,La.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new W(5015,La.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new W(5016,La.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new W(5017,La.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new W(5018,La.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new W(5019,La.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new W(5020,La.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new W(5021,La.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new W(5022,La.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new W(5023,La.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new W(5024,La.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new W(5025,La.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new W(5026,La.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new W(5027,La.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new W(5028,La.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new W(5029,La.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new W(5030,La.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new W(5031,La.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new W(5032,La.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new W(5033,La.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new W(5034,La.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new W(5035,La.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new W(5036,La.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new W(5037,La.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new W(5038,La.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new W(5039,La.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new W(5040,La.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new W(6E3,La.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new W(6001,La.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new W(6002,La.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new W(6003,La.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new W(6004,La.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new W(6005,La.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new W(6006,La.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new W(6007,La.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new W(6008,La.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new W(6009,La.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new W(6010,La.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new W(6011,La.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new W(6012,La.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new W(6013,La.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new W(6014,La.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new W(6015,La.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new W(6016,La.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new W(6017,La.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new W(6018,La.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new W(6019,La.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new W(6020,La.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new W(6021,La.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new W(6022,La.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new W(6023,La.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new W(6024,La.FAIL,"Invalid header data."),PAYLOAD_INVALID:new W(6025,La.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new W(6026,La.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new W(6027,La.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new W(6028,La.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new W(6029,La.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new W(6030,La.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new W(6031,La.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new W(6032,La.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new W(6033,La.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new W(6034,La.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new W(6035,La.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new W(6036,La.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new W(6037,La.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new W(7E3,La.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new W(7001,La.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new W(7002,La.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new W(7003,La.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new W(7004,La.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new W(7005,La.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new W(7006,La.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new W(7007,La.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new W(7008,La.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new W(7009,La.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new W(7010,La.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new W(7011,La.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new W(7012,La.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new W(7013,La.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new W(7014,La.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new W(7015,La.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new W(7016,La.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new W(8E3,La.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new W(8001,La.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new W(8002,La.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new W(8003,La.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new W(8004,La.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new W(8005,La.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new W(8006,La.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new W(8007,La.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new W(8008,La.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new W(8009,La.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new W(8010,La.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new W(8011,La.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new W(8012,La.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new W(9E3,La.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new W(9001,La.FAIL,"Error communicating with MSL entity."),NONE:new W(9999,La.FAIL,"Special unit test error.")});Object.freeze(W);(function(){db=Bb.Class.create(Error());db.mixin({init:function(ib,gb,fb){var lb,pb,kb;function bb(){return pb?pb:this.cause && this.cause instanceof db?this.cause.messageId:Ab;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);lb=ib.message;gb && (lb+=" [" + gb + "]");kb=this.stack;Object.defineProperties(this,{message:{value:lb,writable:!1,configurable:!0},error:{value:ib,writable:!1,configurable:!0},cause:{value:fb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:bb,set:function(Ha){if(0 > Ha || Ha > Mb)throw new RangeError("Message ID " + Ha + " is outside the valid range.");bb() || (pb=Ha);},configurable:!0},stack:{get:function(){var Ha;Ha=this.toString();kb && (Ha+="\n" + kb);fb && fb.stack && (Ha+="\nCaused by " + fb.stack);return Ha;},configurable:!0}});},setEntity:function(ib){!ib || this.masterToken || this.entityAuthenticationData || (ib instanceof ic?this.masterToken=ib:ib instanceof Nc && (this.entityAuthenticationData=ib));return this;},setUser:function(ib){!ib || this.userIdToken || this.userAuthenticationData || (ib instanceof ad?this.userIdToken=ib:ib instanceof Gc && (this.userAuthenticationData=ib));return this;},setMessageId:function(ib){this.messageId=ib;return this;},toString:function(){return this.name + ": " + this.message;}});})();ub=db.extend({init:function lb(gb,fb,bb){lb.base.call(this,gb,fb,bb);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});yb=db.extend({init:function pb(fb,bb,lb){pb.base.call(this,fb,bb,lb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});xc=db.extend({init:function kb(bb,lb,pb){kb.base.call(this,bb,lb,pb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){kc=Bb.Class.create(Error());kc.mixin({init:function(bb,lb,pb){var kb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);kb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},requestCause:{value:pb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ha;Ha=this.toString();kb && (Ha+="\n" + kb);lb && lb.stack && (Ha+="\nCaused by " + lb.stack);return Ha;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Vb=Bb.Class.create(Error());Vb.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();pb && (kb+="\n" + pb);lb && lb.stack && (kb+="\nCaused by " + lb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){vb=Bb.Class.create(Error());vb.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();pb && (kb+="\n" + pb);lb && lb.stack && (kb+="\nCaused by " + lb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){$b=Bb.Class.create(Error());$b.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();pb && (kb+="\n" + pb);lb && lb.stack && (kb+="\nCaused by " + lb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Pb=db.extend({init:function Ha(lb,pb,kb){Ha.base.call(this,lb,pb,kb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Oc=db.extend({init:function Ha(pb,kb){Ha.base.call(this,pb);Object.defineProperties(this,{masterToken:{value:kb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ib=db.extend({init:function Sa(kb,Ha,Oa){Sa.base.call(this,kb,Ha,Oa);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Hb=db.extend({init:function Ba(Ha,Oa,Sa){Ba.base.call(this,Ha,Oa,Sa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var oa;function Ha(ia){return "undefined" === typeof ia?!1:ia;}function Oa(ia){return ia && ia.length?(cc === oa.V2014_02 && (ia=ia.map(function(ca){return "wrap" == ca?"wrapKey":"unwrap" == ca?"unwrapKey":ca;})),ia):cc === oa.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Sa(ia,ca,da,ka,fa){return Promise.resolve().then(function(){return Qb.importKey(ia,ca,da,ka,fa);}).catch(function(V){var aa;if("spki" !== ia && "pkcs8" !== ia)throw V;V=ASN1.webCryptoAlgorithmToJwkAlg(da);aa=ASN1.webCryptoUsageToJwkKeyOps(fa);V=ASN1.rsaDerToJwk(ca,V,aa,ka);if(!V)throw Error("Could not make valid JWK from DER input");V=JSON.stringify(V);return Qb.importKey("jwk",Qd(V),da,ka,fa);});}function Ba(ia,ca){return Promise.resolve().then(function(){return Qb.exportKey(ia,ca);}).catch(function(da){if("spki" !== ia && "pkcs8" !== ia)throw da;return Qb.exportKey("jwk",ca).then(function(ka){ka=JSON.parse(Pd(new Uint8Array(ka)));ka=ASN1.jwkToRsaDer(ka);if(!ka)throw Error("Could not make valid DER from JWK input");return ka.getDer().buffer;});});}oa=wd={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(wd);cc=oa.LATEST;Jb={encrypt:function(ia,ca,da){switch(cc){case oa.LEGACY:return new Promise(function(ka,fa){var V;V=Qb.encrypt(ia,ca,da);V.oncomplete=function(aa){ka(aa.target.result);};V.onerror=function(aa){fa(aa);};});case oa.V2014_01:case oa.V2014_02:return Qb.encrypt(ia,ca,da).then(function(ka){return new Uint8Array(ka);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ia,ca,da){switch(cc){case oa.LEGACY:return new Promise(function(ka,fa){var V;V=Qb.decrypt(ia,ca,da);V.oncomplete=function(aa){ka(aa.target.result);};V.onerror=function(aa){fa(aa);};});case oa.V2014_01:case oa.V2014_02:return Qb.decrypt(ia,ca,da).then(function(ka){return new Uint8Array(ka);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ia,ca,da){switch(cc){case oa.LEGACY:return new Promise(function(ka,fa){var V;V=Qb.sign(ia,ca,da);V.oncomplete=function(aa){ka(aa.target.result);};V.onerror=function(aa){fa(aa);};});case oa.V2014_01:case oa.V2014_02:return Qb.sign(ia,ca,da).then(function(ka){return new Uint8Array(ka);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ia,ca,da,ka){switch(cc){case oa.LEGACY:return new Promise(function(fa,V){var aa;aa=Qb.verify(ia,ca,da,ka);aa.oncomplete=function(ua){fa(ua.target.result);};aa.onerror=function(ua){V(ua);};});case oa.V2014_01:case oa.V2014_02:return Qb.verify(ia,ca,da,ka);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ia,ca){switch(cc){case oa.LEGACY:return new Promise(function(da,ka){var fa;fa=Qb.digest(ia,ca);fa.oncomplete=function(V){da(V.target.result);};fa.onerror=function(V){ka(V);};});case oa.V2014_01:case oa.V2014_02:return Qb.digest(ia,ca).then(function(da){return new Uint8Array(da);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ia,ca,da){var ka,fa;ka=Ha(ca);fa=Oa(da);switch(cc){case oa.LEGACY:return new Promise(function(V,aa){var ua;ua=Qb.generateKey(ia,ka,fa);ua.oncomplete=function(qa){V(qa.target.result);};ua.onerror=function(qa){aa(qa);};});case oa.V2014_01:case oa.V2014_02:return Qb.generateKey(ia,ka,fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ia,ca,da,ka,fa){var V,aa;V=Ha(ka);aa=Oa(fa);switch(cc){case oa.LEGACY:return new Promise(function(ua,qa){var va;va=Qb.deriveKey(ia,ca,da,V,aa);va.oncomplete=function(Ea){ua(Ea.target.result);};va.onerror=function(Ea){qa(Ea);};});case oa.V2014_01:case oa.V2014_02:return Qb.deriveKey(ia,ca,da,V,aa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ia,ca,da,ka,fa){var V,aa;V=Ha(ka);aa=Oa(fa);switch(cc){case oa.LEGACY:return new Promise(function(ua,qa){var va;va=Qb.importKey(ia,ca,da,V,aa);va.oncomplete=function(Ea){ua(Ea.target.result);};va.onerror=function(Ea){qa(Ea);};});case oa.V2014_01:case oa.V2014_02:return Sa(ia,ca,da,V,aa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ia,ca){switch(cc){case oa.LEGACY:return new Promise(function(da,ka){var fa;fa=Qb.exportKey(ia,ca);fa.oncomplete=function(V){da(V.target.result);};fa.onerror=function(V){ka(V);};});case oa.V2014_01:case oa.V2014_02:return Ba(ia,ca).then(function(da){return new Uint8Array(da);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ia,ca,da,ka){switch(cc){case oa.LEGACY:return new Promise(function(fa,V){var aa;aa=Qb.wrapKey(ca,da,ka);aa.oncomplete=function(ua){fa(ua.target.result);};aa.onerror=function(ua){V(ua);};});case oa.V2014_01:case oa.V2014_02:return Qb.wrapKey(ia,ca,da,ka).then(function(fa){return new Uint8Array(fa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ia,ca,da,ka,fa,V,aa){switch(cc){case oa.LEGACY:return new Promise(function(ua,qa){var va;va=Qb.unwrapKey(ca,fa,da);va.oncomplete=function(Ea){ua(Ea.target.result);};va.onerror=function(Ea){qa(Ea);};});case oa.V2014_01:case oa.V2014_02:return Qb.unwrapKey(ia,ca,da,ka,fa,Ha(V),Oa(aa));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};ud && ud.getKeyByName && (Jb.getKeyByName=function(ia){switch(cc){case oa.LEGACY:return new Promise(function(ca,da){var ka;ka=ud.getKeyByName(ia);ka.oncomplete=function(fa){ca(fa.target.result);};ka.onerror=function(fa){da(fa);};});case oa.V2014_01:case oa.V2014_02:return ud.getKeyByName(ia);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});nb.netflix=nb.netflix || ({});nb.netflix.crypto=Jb;})();yc={name:"AES-KW"};rc={name:"AES-CBC"};sc={name:"HMAC",hash:{name:"SHA-256"}};xd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Xd={name:"RSAES-PKCS1-v1_5"};Je={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Hc=["encrypt","decrypt"];Ic=["wrap","unwrap"];Pc=["sign","verify"];(function(){Yd=Bb.Class.create({init:function(Ha,Oa,Sa){var oa;function Ba(ia){Ma(Oa,function(){var ca;ca=ia?Db(ia):Ab;Object.defineProperties(oa,{rawKey:{value:Ha,writable:!1,configurable:!1},keyData:{value:ia,writable:!1,configurable:!1},keyDataB64:{value:ca,writable:!1,configurable:!1}});return this;},oa);}oa=this;Ma(Oa,function(){if(!Ha || "object" != typeof Ha)throw new ub(W.INVALID_SYMMETRIC_KEY);!Sa && Ha.extractable?Jb.exportKey("raw",Ha).then(function(ia){Ba(new Uint8Array(ia));},function(ia){Oa.error(new ub(W.KEY_EXPORT_ERROR,"raw"));}):Ba(Sa);},oa);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Zc=function(Ha,Oa){new Yd(Ha,Oa);};zc=function(Ha,Oa,Sa,Ba){Ma(Ba,function(){try{Ha="string" == typeof Ha?Gb(Ha):Ha;}catch(oa){throw new ub(W.INVALID_SYMMETRIC_KEY,"keydata " + Ha,oa);}Jb.importKey("raw",Ha,Oa,!0,Sa).then(function(oa){new Yd(oa,Ba,Ha);},function(oa){Ba.error(new ub(W.INVALID_SYMMETRIC_KEY));});});};})();(function(){yd=Bb.Class.create({init:function(Ha,Oa,Sa){var oa;function Ba(ia){Ma(Oa,function(){Object.defineProperties(oa,{rawKey:{value:Ha,writable:!1,configurable:!1},encoded:{value:ia,writable:!1,configurable:!1}});return this;},oa);}oa=this;Ma(Oa,function(){if(!Ha || "object" != typeof Ha || "public" != Ha.type)throw new TypeError("Only original public crypto keys are supported.");!Sa && Ha.extractable?Jb.exportKey("spki",Ha).then(function(ia){Ba(new Uint8Array(ia));},function(ia){Oa.error(new ub(W.KEY_EXPORT_ERROR,"spki"));}):Ba(Sa);});},getEncoded:function(){return this.encoded;}});Lc=function(Ha,Oa){new yd(Ha,Oa);};Zd=function(Ha,Oa,Sa,Ba){Ma(Ba,function(){try{Ha="string" == typeof Ha?Gb(Ha):Ha;}catch(oa){throw new ub(W.INVALID_PUBLIC_KEY,"spki " + Ha,oa);}Jb.importKey("spki",Ha,Oa,!0,Sa).then(function(oa){new yd(oa,Ba,Ha);},function(oa){Ba.error(new ub(W.INVALID_PUBLIC_KEY));});});};})();(function(){Ke=Bb.Class.create({init:function(Ha,Oa,Sa){var oa;function Ba(ia){Ma(Oa,function(){Object.defineProperties(oa,{rawKey:{value:Ha,writable:!1,configurable:!1},encoded:{value:ia,writable:!1,configurable:!1}});return this;},oa);}oa=this;Ma(Oa,function(){if(!Ha || "object" != typeof Ha || "private" != Ha.type)throw new TypeError("Only original private crypto keys are supported.");!Sa && Ha.extractable?Jb.exportKey("pkcs8",Ha).then(function(ia){Ba(new Uint8Array(ia));},function(ia){Oa.error(new ub(W.KEY_EXPORT_ERROR,"pkcs8"));}):Ba(Sa);});},getEncoded:function(){return this.encoded;}});$c=function(Ha,Oa){new Ke(Ha,Oa);};})();(function(){var Ha;Ha=ce={V1:1,V2:2};$d=Bb.Class.create({init:function(Oa,Sa,Ba,oa){Ma(oa,function(){var ia,ca,da,ka;ia=Ha.V1;ca=Oa;da=null;for(ka in vd){if(vd[ka] == Oa){ia=Ha.V2;ca=null;da=Oa;break;}}Object.defineProperties(this,{version:{value:ia,writable:!1,enumerable:!1,configurable:!1},keyId:{value:ca,writable:!1,configurable:!1},cipherSpec:{value:da,writable:!1,configurable:!1},iv:{value:Sa,writable:!1,configurable:!1},ciphertext:{value:Ba,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Oa;Oa={};switch(this.version){case Ha.V1:Oa.keyid=this.keyId;this.iv && (Oa.iv=Db(this.iv));Oa.ciphertext=Db(this.ciphertext);Oa.sha256="AA==";break;case Ha.V2:Oa.version=this.version;Oa.cipherspec=this.cipherSpec;this.iv && (Oa.iv=Db(this.iv));Oa.ciphertext=Db(this.ciphertext);break;default:throw new vb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Oa;}});ae=function(Oa,Sa,Ba,oa){new $d(Oa,Sa,Ba,oa);};be=function(Oa,Sa,Ba){Ma(Ba,function(){var oa,ia,ca,da,ka,fa,V;oa=Oa.keyid;ia=Oa.cipherspec;ca=Oa.iv;da=Oa.ciphertext;ka=Oa.sha256;if(!Sa)if((Sa=Oa.version) && "number" === typeof Sa && Sa === Sa){fa=!1;for(V in Ha){if(Ha[V] == Sa){fa=!0;break;}}if(!fa)throw new ub(W.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Oa));}else Sa=Ha.V1;switch(Sa){case Ha.V1:if("string" !== typeof oa || ca && "string" !== typeof ca || "string" !== typeof da || "string" !== typeof ka)throw new yb(W.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Oa));break;case Ha.V2:V=Oa.version;if(V != Ha.V2)throw new ub(W.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Oa));if("string" !== typeof ia || ca && "string" !== typeof ca || "string" !== typeof da)throw new yb(W.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Oa));ia=Ge(ia);if(!ia)throw new ub(W.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Oa));oa=ia;break;default:throw new ub(W.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Oa));}try{ca && (ca=Gb(ca));da=Gb(da);}catch(aa){throw new ub(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Oa),aa);}new $d(oa,ca,da,Ba);});};})();(function(){var Ha;Ha=fe={V1:1,V2:2};Ac=Bb.Class.create({init:function(Oa,Sa,Ba){var oa;switch(Oa){case Ha.V1:oa=Ba;break;case Ha.V2:oa={};oa.version=Oa;oa.algorithm=Sa;oa.signature=Db(Ba);oa=Rb(JSON.stringify(oa),Lb);break;default:throw new vb("Signature envelope version " + Oa + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Oa,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Sa,writable:!1,configurable:!1},signature:{value:Ba,writable:!1,configurable:!1},bytes:{value:oa,writable:!1,configurable:!1}});}});de=function(){var Oa,Sa,Ba,oa;if(2 == arguments.length){Oa=Ha.V1;Sa=arguments[0];Ba=null;oa=arguments[1];}else 3 == arguments.length && (Oa=Ha.V2,Ba=arguments[0],Sa=arguments[1],oa=arguments[2]);Ma(oa,function(){return new Ac(Oa,Ba,Sa);});};ee=function(Oa,Sa,Ba){Ma(Ba,function(){var oa,ia,ca,da,ka,fa,V;if(Sa)switch(Sa){case Ha.V1:return new Ac(Ha.V1,null,Oa);case Ha.V2:try{oa=Tb(Oa,Lb);ia=JSON.parse(oa);ca=parseInt(ia.version);da=ia.algorithm;ka=ia.signature;if(!ca || "number" !== typeof ca || ca != ca || "string" !== typeof da || "string" !== typeof ka)throw new yb(W.JSON_PARSE_ERROR,"signature envelope " + Db(Oa));if(Ha.V2 != ca)throw new ub(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(Oa));fa=Vd(da);if(!fa)throw new ub(W.UNIDENTIFIED_ALGORITHM,"signature envelope " + Db(Oa));V=Gb(ka);if(!V)throw new ub(W.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Oa));return new Ac(Ha.V2,fa,V);}catch(aa){if(aa instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"signature envelope " + Db(Oa),aa);throw aa;}default:throw new ub(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(Oa));}try{oa=Tb(Oa,Lb);ia=JSON.parse(oa);}catch(aa){ia=null;}if(ia && ia.version){if((oa=ia.version,"number" !== typeof oa || oa !== oa))oa=Ha.V1;}else oa=Ha.V1;switch(oa){case Ha.V1:return new Ac(oa,null,Oa);case Ha.V2:fa=ia.algorithm;ka=ia.signature;if("string" !== typeof fa || "string" !== typeof ka)return new Ac(Ha.V1,null,Oa);fa=Vd(fa);if(!fa)return new Ac(Ha.V1,null,Oa);try{V=Gb(ka);}catch(aa){return new Ac(Ha.V1,null,Oa);}return new Ac(oa,fa,V);default:throw new ub(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Oa);}});};})();bd=Bb.Class.create({encrypt:function(Ha,Oa){},decrypt:function(Ha,Oa){},wrap:function(Ha,Oa){},unwrap:function(Ha,Oa,Sa,Ba){},sign:function(Ha,Oa){},verify:function(Ha,Oa,Sa){}});(function(){var Ha;Ha=Cc={RSA_OAEP:xd.name,A128KW:yc.name};wc="A128GCM";Bc=Bb.Class.create({init:function(Oa,Sa,Ba,oa,ia){switch(Sa){case Ha.RSA_OAEP:ia=ia && (ia.rawKey || ia);oa=oa && (oa.rawKey || oa);break;case Ha.A128KW:ia=oa=oa && (oa.rawKey || oa);break;default:throw new vb("Unsupported algorithm: " + Sa);}Object.defineProperties(this,{_ctx:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:Ba,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ia,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Oa,Sa){Sa.error(new ub(W.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Oa,Sa){Sa.error(new ub(W.DECRYPT_NOT_SUPPORTED));},wrap:function(Oa,Sa){Ma(Sa,function(){Jb.wrapKey("jwe+jwk",Oa.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(Ba){Sa.result(Ba);},function(Ba){Sa.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(Oa,Sa,Ba,oa){function ia(ca){Ma(oa,function(){switch(ca.type){case "secret":Zc(ca,oa);break;case "public":Lc(ca,oa);break;case "private":$c(ca,oa);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + ca.type);}});}Ma(oa,function(){Jb.unwrapKey("jwe+jwk",Oa,this._unwrapKey,this._unwrapKey.algorithm,Sa,!1,Ba).then(function(ca){ia(ca);},function(){oa.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(Oa,Sa){Sa.error(new ub(W.SIGN_NOT_SUPPORTED));},verify:function(Oa,Sa,Ba){Ba.error(new ub(W.VERIFY_NOT_SUPPORTED));}});})();cd=bd.extend({encrypt:function(Ha,Oa){Oa.result(Ha);},decrypt:function(Ha,Oa){Oa.result(Ha);},wrap:function(Ha,Oa){Oa.result(Ha);},unwrap:function(Ha,Oa,Sa,Ba){Ba.result(Ha);},sign:function(Ha,Oa){Oa.result(new Uint8Array(0));},verify:function(Ha,Oa,Sa){Sa.result(!0);}});(function(){var Ha;Ha=Ad={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};zd=bd.extend({init:function da(Sa,Ba,oa,ia,ca){da.base.call(this);oa && (oa=oa.rawKey);ia && (ia=ia.rawKey);Object.defineProperties(this,{id:{value:Ba,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:oa,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ia,writable:!1,enumerable:!1,configurable:!1},transform:{value:ca == Ha.ENCRYPT_DECRYPT_PKCS1?Xd:ca == Ha.ENCRYPT_DECRYPT_OAEP?xd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:ca == Ha.WRAP_UNWRAP_PKCS1?Xd:ca == Ha.WRAP_UNWRAP_OAEP?xd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:ca == Ha.SIGN_VERIFY?Je:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Sa,Ba){var oa;oa=this;Ma(Ba,function(){if("nullOp" == this.transform)return Sa;if(!this.publicKey)throw new ub(W.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Sa.length)return Sa;Jb.encrypt(oa.transform,oa.publicKey,Sa).then(function(ia){ae(oa.id,null,ia,{result:function(ca){var da;try{da=JSON.stringify(ca);Ba.result(Rb(da,Lb));}catch(ka){Ba.error(new ub(W.ENCRYPT_ERROR,null,ka));}},error:function(ca){ca instanceof db || (ca=new ub(W.ENCRYPT_ERROR,null,ca));Ba.error(ca);}});},function(ia){Ba.error(new ub(W.ENCRYPT_ERROR));});},this);},decrypt:function(Sa,Ba){var oa;oa=this;Ma(Ba,function(){var ia,ca;if("nullOp" == this.transform)return Sa;if(!this.privateKey)throw new ub(W.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Sa.length)return Sa;try{ia=Tb(Sa,Lb);ca=JSON.parse(ia);}catch(da){if(da instanceof SyntaxError)throw new ub(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,da);throw new ub(W.DECRYPT_ERROR,null,da);}be(ca,ce.V1,{result:function(da){var ka;try{if(da.keyId != oa.id)throw new ub(W.ENVELOPE_KEY_ID_MISMATCH);ka=Ba.result;Jb.decrypt(oa.transform,oa.privateKey,da.ciphertext).then(ka,function(fa){Ba.error(new ub(W.DECRYPT_ERROR));});}catch(fa){fa instanceof db?Ba.error(fa):Ba.error(new ub(W.DECRYPT_ERROR,null,fa));}},error:function(da){da instanceof yb && (da=new ub(W.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,da));da instanceof db || (da=new ub(W.DECRYPT_ERROR,null,da));Ba.error(da);}});},this);},wrap:function(Sa,Ba){Ma(Ba,function(){var oa;if("nullOp" == this.wrapTransform || !this.publicKey)throw new ub(W.WRAP_NOT_SUPPORTED,"no public key");oa=Ba.result;Jb.wrapKey("jwk",Sa.rawKey,this.publicKey,this.wrapTransform).then(oa,function(ia){Ba.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(Sa,Ba,oa,ia){function ca(da){Ma(ia,function(){switch(da.type){case "secret":Zc(da,ia);break;case "public":Lc(da,ia);break;case "private":$c(da,ia);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + da.type);}});}Ma(ia,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new ub(W.UNWRAP_NOT_SUPPORTED,"no private key");Jb.unwrapKey("jwk",Sa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},Ba,!1,oa).then(ca,function(da){ia.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(Sa,Ba){Ma(Ba,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new ub(W.SIGN_NOT_SUPPORTED,"no private key");Jb.sign(this.algo,this.privateKey,Sa).then(function(oa){de(oa,{result:function(ia){Ba.result(ia.bytes);},error:Ba.error});},function(oa){Ba.error(new ub(W.SIGNATURE_ERROR));});},this);},verify:function(Sa,Ba,oa){var ia;ia=this;Ma(oa,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new ub(W.VERIFY_NOT_SUPPORTED,"no public key");ee(Ba,fe.V1,{result:function(ca){Ma(oa,function(){var da;da=oa.result;Jb.verify(this.algo,this.publicKey,ca.signature,Sa).then(da,function(ka){oa.error(new ub(W.SIGNATURE_ERROR));});},ia);},error:oa.error});},this);}});})();(function(){Bd=bd.extend({init:function ca(Oa,Sa,Ba,oa,ia){ca.base.call(this);Ba=Ba && Ba.rawKey;oa=oa && oa.rawKey;ia=ia && ia.rawKey;Object.defineProperties(this,{ctx:{value:Oa,writable:!1,enumerable:!1,configurable:!1},id:{value:Sa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:Ba,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ia,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Oa,Sa){var Ba;Ba=this;Ma(Sa,function(){var oa;if(!this.encryptionKey)throw new ub(W.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Oa.length)return Oa;oa=new Uint8Array(16);this.ctx.getRandom().nextBytes(oa);Jb.encrypt({name:rc.name,iv:oa},Ba.encryptionKey,Oa).then(function(ia){ia=new Uint8Array(ia);ae(Ba.id,oa,ia,{result:function(ca){var da;try{da=JSON.stringify(ca);Sa.result(Rb(da,Lb));}catch(ka){Sa.error(new ub(W.ENCRYPT_ERROR,null,ka));}},error:function(ca){ca instanceof db || (ca=new ub(W.ENCRYPT_ERROR,null,ca));Sa.error(ca);}});},function(ia){Sa.error(new ub(W.ENCRYPT_ERROR));});},this);},decrypt:function(Oa,Sa){var Ba;Ba=this;Ma(Sa,function(){var oa,ia;if(!this.encryptionKey)throw new ub(W.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Oa.length)return Oa;try{oa=Tb(Oa,Lb);ia=JSON.parse(oa);}catch(ca){if(ca instanceof SyntaxError)throw new ub(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ca);throw new ub(W.DECRYPT_ERROR,null,ca);}be(ia,ce.V1,{result:function(ca){try{if(ca.keyId != Ba.id)throw new ub(W.ENVELOPE_KEY_ID_MISMATCH);Jb.decrypt({name:rc.name,iv:ca.iv},Ba.encryptionKey,ca.ciphertext).then(function(da){da=new Uint8Array(da);Sa.result(da);},function(){Sa.error(new ub(W.DECRYPT_ERROR));});}catch(da){da instanceof db?Sa.error(da):Sa.error(new ub(W.DECRYPT_ERROR,null,da));}},error:function(ca){ca instanceof yb && (ca=new ub(W.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ca));ca instanceof db || (ca=new ub(W.DECRYPT_ERROR,null,ca));Sa.error(ca);}});},this);},wrap:function(Oa,Sa){Ma(Sa,function(){if(!this.wrapKey)throw new ub(W.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.wrapKey("raw",Oa.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(Ba){Sa.result(Ba);},function(Ba){Sa.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(Oa,Sa,Ba,oa){function ia(ca){Ma(oa,function(){switch(ca.type){case "secret":Zc(ca,oa);break;case "public":Lc(ca,oa);break;case "private":$c(ca,oa);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + ca.type);}});}Ma(oa,function(){if(!this.wrapKey)throw new ub(W.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.unwrapKey("raw",Oa,this.wrapKey,this.wrapKey.algorithm,Sa,!1,Ba).then(function(ca){ia(ca);},function(ca){oa.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(Oa,Sa){var Ba;Ba=this;Ma(Sa,function(){if(!this.hmacKey)throw new ub(W.SIGN_NOT_SUPPORTED,"no HMAC key.");Jb.sign(sc,this.hmacKey,Oa).then(function(oa){Ma(Sa,function(){var ia;ia=new Uint8Array(oa);de(ia,{result:function(ca){Sa.result(ca.bytes);},error:Sa.error});},Ba);},function(){Sa.error(new ub(W.HMAC_ERROR));});},this);},verify:function(Oa,Sa,Ba){var oa;oa=this;Ma(Ba,function(){if(!this.hmacKey)throw new ub(W.VERIFY_NOT_SUPPORTED,"no HMAC key.");ee(Sa,fe.V1,{result:function(ia){Ma(Ba,function(){Jb.verify(sc,this.hmacKey,ia.signature,Oa).then(function(ca){Ba.result(ca);},function(ca){Ba.error(new ub(W.HMAC_ERROR));});},oa);},error:Ba.error});},this);}});})();jc=Bd.extend({init:function ca(Oa,Sa,Ba,oa,ia){if(Ba || oa || ia)ca.base.call(this,Oa,Ba + "_" + Sa.sequenceNumber,oa,ia,null);else {if(!Sa.isDecrypted())throw new Oc(W.MASTERTOKEN_UNTRUSTED,Sa);ca.base.call(this,Oa,Sa.identity + "_" + Sa.sequenceNumber,Sa.encryptionKey,Sa.hmacKey,null);}}});Kf=bd.extend({encrypt:function(Oa,Sa){Sa.result(Oa);},decrypt:function(Oa,Sa){Sa.result(Oa);},wrap:function(Oa,Sa){Sa.error(new vb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Oa,Sa,Ba,oa){oa.error(new vb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Oa,Sa){Sa.result(new Uint8Array(0));},verify:function(Oa,Sa,Ba){Ba.result(!1);}});Ob={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Ob);(function(){Nc=Bb.Class.create({init:function(Oa){Object.defineProperties(this,{scheme:{value:Oa,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Oa){return this === Oa?!0:Oa instanceof Nc?this.scheme == Oa.scheme:!1;},toJSON:function(){var Oa;Oa={};Oa.scheme=this.scheme;Oa.authdata=this.getAuthData();return Oa;}});Le=function(Oa,Sa){var Ba,oa;Ba=Sa.scheme;oa=Sa.authdata;if(!Ba || !oa)throw new yb(W.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Sa));if(!Ob[Ba])throw new xc(W.UNIDENTIFIED_ENTITYAUTH_SCHEME,Ba);Sa=Oa.getEntityAuthenticationFactory(Ba);if(!Sa)throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND,Ba);return Sa.createData(Oa,oa);};})();Cd=Bb.Class.create({init:function(Oa){Object.defineProperties(this,{scheme:{value:Oa,writable:!1,configurable:!1}});},createData:function(Oa,Sa){},getCryptoContext:function(Oa,Sa){}});(function(){oc=Nc.extend({init:function Ba(Sa){Ba.base.call(this,Ob.MGK);Object.defineProperties(this,{identity:{value:Sa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Sa;Sa={};Sa.identity=this.identity;return Sa;},equals:function oa(Ba){return this === Ba?!0:Ba instanceof oc?oa.base.call(this,this,Ba) && this.identity == Ba.identity:!1;}});Me=function(Ba){var oa;oa=Ba.identity;if(!oa)throw new yb(W.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(Ba));return new oc(oa);};})();Lf=Cd.extend({init:function Ba(Sa){Ba.base.call(this,Ob.MGK);Object.defineProperties(this,{localIdentity:{value:Sa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Sa,Ba){return Me(Ba);},getCryptoContext:function(Sa,Ba){if(!(Ba instanceof oc))throw new vb("Incorrect authentication data type " + JSON.stringify(Ba) + ".");if(Ba.identity != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"mgk " + Ba.identity).setEntity(Ba);return new cd();}});(function(){tc=Nc.extend({init:function oa(Ba){oa.base.call(this,Ob.PSK);Object.defineProperties(this,{identity:{value:Ba,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Ba;Ba={};Ba.identity=this.identity;return Ba;},equals:function ia(oa){return this === oa?!0:oa instanceof tc?ia.base.call(this,this,oa) && this.identity == oa.identity:!1;}});Ne=function(oa){var ia;ia=oa.identity;if(!ia)throw new yb(W.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(oa));return new tc(ia);};})();Mf=Cd.extend({init:function oa(Ba){oa.base.call(this,Ob.PSK);Object.defineProperties(this,{localIdentity:{value:Ba,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Ba,oa){return Ne(oa);},getCryptoContext:function(Ba,oa){if(!(oa instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(oa) + ".");if(oa.getIdentity() != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"psk " + oa.identity).setEntity(oa);return new cd();}});(function(){Dd=Nc.extend({init:function ca(oa,ia){ca.base.call(this,Ob.RSA);Object.defineProperties(this,{identity:{value:oa,writable:!1,configurable:!1},publicKeyId:{value:ia,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var oa;oa={};oa.identity=this.identity;oa.pubkeyid=this.publicKeyId;return oa;},equals:function ca(ia){return this === ia?!0:ia instanceof Dd?ca.base.call(this,this,ia) && this.identity == ia.identity && this.publicKeyId == ia.publicKeyId:!1;}});Oe=function(ia){var ca,da;ca=ia.identity;da=ia.pubkeyid;if(!ca || "string" !== typeof ca || !da || "string" !== typeof da)throw new yb(W.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ia));return new Dd(ca,da);};})();Nf=Cd.extend({init:function ia(oa){ia.base.call(this,Ob.RSA);Object.defineProperties(this,{store:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(oa,ia){return Oe(ia);},getCryptoContext:function(oa,ia){var ca,da,ka;if(!(ia instanceof Dd))throw new vb("Incorrect authentication data type " + ia + ".");ca=ia.identity;da=ia.publicKeyId;ka=this.store.getPublicKey(da);if(!ka)throw new xc(W.RSA_PUBLICKEY_NOT_FOUND,da).setEntity(ia);return new zd(oa,ca,null,ka,Ad.SIGN_VERIFY);}});(function(){id=Nc.extend({init:function ca(ia){ca.base.call(this,Ob.NONE);Object.defineProperties(this,{identity:{value:ia,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ia;ia={};ia.identity=this.identity;return ia;},equals:function da(ca){return this === ca?!0:ca instanceof id?da.base.call(this,this,ca) && this.identity == ca.identity:!1;}});Pe=function(ca){var da;da=ca.identity;if(!da)throw new yb(W.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(ca));return new id(da);};})();Jf=Cd.extend({init:function ia(){ia.base.call(this,Ob.NONE);},createData:function(ia,ca){return Pe(ca);},getCryptoContext:function(ia,ca){if(!(ca instanceof id))throw new vb("Incorrect authentication data type " + JSON.stringify(ca) + ".");return new cd();}});Of=Bb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ia,ca){if(!(ca instanceof yd))throw new vb("Incorrect key data type " + ca + ".");this.rsaKeys[ia]=ca;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ia){delete this.rsaKeys[ia];},getPublicKey:function(ia){return this.rsaKeys[ia];}});ge=Bb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ia,ca,da){}});Ed=Bb.Class.create({abort:function(){},close:function(ia,ca){},write:function(ia,ca,da,ka,fa){},flush:function(ia,ca){}});Pf=Bb.Class.create({init:function(ia){Object.defineProperties(this,{_data:{value:ia,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Vb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ia,ca,da){eb(da,function(){var ka;if(this._closed)throw new Vb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ia && (ia=this._data.length - this._currentPosition);ka=this._data.subarray(this._currentPosition,this._currentPosition + ia);this._currentPosition+=ka.length;return ka;},this);}});Qf=Bb.Class.create({init:function(){var ia;ia={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);},abort:function(){},close:function(ia,ca){this._closed=!0;ca.result(!0);},write:function(ia,ca,da,ka,fa){eb(fa,function(){var V;if(this._closed)throw new Vb("Stream is already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > da)throw new RangeError("Length cannot be negative.");if(ca + da > ia.length)throw new RangeError("Offset plus length cannot be greater than the array length.");V=ia.subarray(ca,da);this._buffered.push(V);return V.length;},this);},flush:function(ia,ca){var da;for(;0 < this._buffered.length;){if((ia=this._buffered.shift(),this._result)){da=new Uint8Array(this._result.length + ia.length);da.set(this._result);da.set(ia,this._result.length);this._result=da;}else this._result=new Uint8Array(ia);}ca.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Rf=Bb.Class.create({getResponse:function(ia,ca,da){}});(function(){var ia,ca;ia=Ed.extend({init:function(da,ka){da={_httpLocation:{value:da,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ka,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Qf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new jd(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},setTimeout:function(da){this._timeout=da;},getResponse:function(da,ka){var fa;fa=this;this._responseQueue.poll(da,{result:function(V){eb(ka,function(){V && this._responseQueue.add(V);return V;},fa);},timeout:function(){eb(ka,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();ka.timeout();},fa);},error:function(V){eb(ka,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw V;},fa);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(da,ka){var fa;fa=this;eb(ka,function(){var V;if(this._response)return !0;V=this._buffer.toByteArray();0 < V.length && (this._abortToken=this._httpLocation.getResponse({body:V},this._timeout,{result:function(aa){fa._response={response:aa};fa._responseQueue.add(fa._response);},timeout:function(){fa._response={isTimeout:!0};fa._responseQueue.add(fa._response);},error:function(aa){fa._response={isError:!0,error:aa};fa._responseQueue.add(fa._response);}}));return !0;},this);},write:function(da,ka,fa,V,aa){eb(aa,function(){if(this._response)throw new Vb("HttpOutputStream already closed.");this._buffer.write(da,ka,fa,V,aa);},this);},flush:function(da,ka){eb(ka,function(){if(this._response)return !0;this._buffer.flush(da,ka);},this);}});ca=ge.extend({init:function(da){Object.defineProperties(this,{_out:{value:da,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(da,ka,fa){var aa;function V(ua){eb(fa,function(){if(!ua)return new Uint8Array(0);this._out.getResponse(ka,{result:function(qa){eb(fa,function(){var va;if(qa.isTimeout)(this._timedout=!0,fa.timeout());else {if(qa.isError)throw (this._exception=qa.error || new Vb("Unknown HTTP exception."),this._exception);if(!qa.response)throw (this._exception=new Vb("Missing HTTP response."),this._exception);qa.response.json !== Ab && (this._json=qa.response.json,this.getJSON=function(){return aa._json;});va=qa.response.content || Qd("string" === typeof qa.response.body?qa.response.body:JSON.stringify(this._json));this._buffer=new Pf(va);this._buffer.read(da,ka,fa);}},aa);},timeout:function(){fa.timeout();},error:function(qa){fa.error(qa);}});},aa);}aa=this;eb(fa,function(){if(this._exception)throw this._exception;if(this._timedout)fa.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(da,ka,fa):this._out.close(ka,{result:function(ua){V(ua);},timeout:function(){fa.timeout();},error:function(ua){fa.error(ua);}});}},aa);}});Ae=Bb.Class.create({init:function(da,ka){Object.defineProperties(this,{_httpLocation:{value:da,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ka,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(da){this._timeout=da;},openConnection:function(){var da;da=new ia(this._httpLocation,this._timeout);return {input:new ca(da),output:da};}});})();(function(){var ia,ca;ia=Ed.extend({init:function(){var da;da={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},setTimeout:function(){},getResponse:function(da,ka){ka.result({success:!1,content:null,errorHttpCode:Ab,errorSubCode:Ab});},abort:function(){},close:function(da,ka){ka.result(!0);},write:function(da,ka,fa,V,aa){var ua,qa;try{if(0 > ka)throw new RangeError("Offset cannot be negative.");if(0 > fa)throw new RangeError("Length cannot be negative.");if(ka + fa > da.length)throw new RangeError("Offset plus length cannot be greater than the array length.");ua=da.subarray(ka,fa);qa=new Uint8Array(this._buffer.length + ua.length);qa.set(this._buffer);qa.set(ua,this._buffer.length);this._buffer=qa;aa.result(ua.length);}catch(va){aa.error(va);}},flush:function(da,ka){ka.result(!0);},request:function(){return this._buffer;}});ca=ge.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(da,ka,fa){fa.result(new Uint8Array(16));}});Be=Bb.Class.create({init:function(){var da;da={output:{value:new ia(),writable:!1,enumerable:!1,configurable:!1},input:{value:new ca(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Pd(this.output.request());}});})();Qe=function(ia,ca,da){(function(ka,fa,V){ka.read(-1,fa,{result:function(aa){aa && aa.length?V(null,aa):V(null,null);},timeout:function(){da.timeout();},error:function(aa){V(aa,null);}});})(ia,ca,function(ka,fa){var V,aa;if(ka)da.error(ka);else if(fa){if(ia.getJSON !== Ab && "function" === typeof ia.getJSON)da.result(ia.getJSON());else {ka=da.result;fa=new Sf(Tb(fa,"utf-8"));V=[];for(aa=fa.nextValue();aa !== Ab;){V.push(aa);aa=fa.nextValue();}ka.call(da,V);}}else da.result(null);});};lc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(lc);(function(){kd=Bb.Class.create({init:function(ia){Object.defineProperties(this,{keyExchangeScheme:{value:ia,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ia;ia={};ia.scheme=this.keyExchangeScheme;ia.keydata=this.getKeydata();return ia;},equals:function(ia){return this === ia?!0:ia instanceof kd?this.keyExchangeScheme == ia.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Re=function(ia,ca,da){Ma(da,function(){var ka,fa,V;ka=ca.scheme;fa=ca.keydata;if(!ka || !fa || "object" !== typeof fa)throw new yb(W.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(ca));if(!lc[ka])throw new Pb(W.UNIDENTIFIED_KEYX_SCHEME,ka);V=ia.getKeyExchangeFactory(ka);if(!V)throw new Pb(W.KEYX_FACTORY_NOT_FOUND,ka);V.createRequestData(ia,fa,da);});};})();(function(){ld=Bb.Class.create({init:function(ia,ca){Object.defineProperties(this,{masterToken:{value:ia,writable:!1,configurable:!1},keyExchangeScheme:{value:ca,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ia;ia={};ia.mastertoken=this.masterToken;ia.scheme=this.keyExchangeScheme;ia.keydata=this.getKeydata();return ia;},equals:function(ia){return this === ia?!0:ia instanceof ld?this.masterToken.equals(ia.masterToken) && this.keyExchangeScheme == ia.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});Se=function(ia,ca,da){Ma(da,function(){var ka,fa,V;ka=ca.mastertoken;fa=ca.scheme;V=ca.keydata;if(!fa || !ka || "object" !== typeof ka || !V || "object" !== typeof V)throw new yb(W.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(ca));if(!lc[fa])throw new Pb(W.UNIDENTIFIED_KEYX_SCHEME,fa);Qc(ia,ka,{result:function(aa){Ma(da,function(){var ua;ua=ia.getKeyExchangeFactory(fa);if(!ua)throw new Pb(W.KEYX_FACTORY_NOT_FOUND,fa);return ua.createResponseData(ia,aa,V);});},error:function(aa){da.error(aa);}});});};})();(function(){var ia;ia=Bb.Class.create({init:function(ca,da){Object.defineProperties(this,{keyResponseData:{value:ca,writable:!1,configurable:!1},cryptoContext:{value:da,writable:!1,configurable:!1}});}});pc=Bb.Class.create({init:function(ca){Object.defineProperties(this,{scheme:{value:ca,writable:!1,configurable:!1}});},createRequestData:function(ca,da,ka){},createResponseData:function(ca,da,ka){},generateResponse:function(ca,da,ka,fa){},getCryptoContext:function(ca,da,ka,fa,V){},generateSessionKeys:function(ca,da){Ma(da,function(){var ka,fa;ka=new Uint8Array(16);fa=new Uint8Array(32);ca.getRandom().nextBytes(ka);ca.getRandom().nextBytes(fa);zc(ka,rc,Hc,{result:function(V){zc(fa,sc,Pc,{result:function(aa){da.result({encryptionKey:V,hmacKey:aa});},error:function(aa){da.error(new ub(W.SESSION_KEY_CREATION_FAILURE,null,aa));}});},error:function(V){da.error(new ub(W.SESSION_KEY_CREATION_FAILURE,null,V));}});});},importSessionKeys:function(ca,da,ka){zc(ca,rc,Hc,{result:function(fa){zc(da,sc,Pc,{result:function(V){ka.result({encryptionKey:fa,hmacKey:V});},error:function(V){ka.error(V);}});},error:function(fa){ka.error(fa);}});}});pc.KeyExchangeData=ia;})();(function(){var ca,da,ka;function ia(fa,V,aa,ua,qa){Ma(qa,function(){var va,Ea;switch(V){case ca.PSK:(va=new tc(ua),Ea=fa.getEntityAuthenticationFactory(Ob.PSK));if(!Ea)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,V);va=Ea.getCryptoContext(fa,va);return new Bc(fa,Cc.A128KW,wc,Ab);case ca.MGK:va=new oc(ua);Ea=fa.getEntityAuthenticationFactory(Ob.MGK);if(!Ea)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,V);va=Ea.getCryptoContext(fa,va);return new Bc(fa,Cc.A128KW,wc,Ab);case ca.WRAP:va=fa.getMslCryptoContext();va.unwrap(aa,yc,Ic,{result:function(wa){Ma(qa,function(){return new Bc(fa,Cc.A128KW,wc,wa);});},error:qa.error});break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,V);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};da=he=kd.extend({init:function ua(V,aa){ua.base.call(this,lc.JWE_LADDER);switch(V){case ca.WRAP:if(!aa)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:aa=null;}Object.defineProperties(this,{mechanism:{value:V,writable:!1,configurable:!1},wrapdata:{value:aa,writable:!1,configurable:!1}});},getKeydata:function(){var V;V={};V.mechanism=this.mechanism;this.wrapdata && (V.wrapdata=Db(this.wrapdata));return V;},equals:function ua(aa){return aa === this?!0:aa instanceof he?ua.base.call(this,aa) && this.mechanism == aa.mechanism && Wb(this.wrapdata,aa.wrapdata):!1;},uniqueKey:function ua(){var qa;qa=ua.base.call(this) + ":" + this.mechanism;this.wrapdata && (qa+=":" + gc(this.wrapdata));return qa;}});ka=Ue=ld.extend({init:function X(qa,va,Ea,wa,ta){X.base.call(this,qa,lc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:va,writable:!1,configurable:!1},wrapdata:{value:Ea,writable:!1,configurable:!1},encryptionKey:{value:wa,writable:!1,configurable:!1},hmacKey:{value:ta,writable:!1,configurable:!1}});},getKeydata:function(){var qa;qa={};qa.wrapkey=Db(this.wrapKey);qa.wrapdata=Db(this.wrapdata);qa.encryptionkey=Db(this.encryptionKey);qa.hmackey=Db(this.hmacKey);return qa;},equals:function Ea(va){return this === va?!0:va instanceof Ue?Ea.base.call(this,va) && Wb(this.wrapKey,va.wrapKey) && Wb(this.wrapdata,va.wrapdata) && Wb(this.encryptionKey,va.encryptionKey) && Wb(this.hmacKey,va.hmacKey):!1;},uniqueKey:function Ea(){return Ea.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});Te=pc.extend({init:function ta(wa){ta.base.call(this,lc.JWE_LADDER);Object.defineProperties(this,{repository:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(wa,ta,X){Ma(X,function(){var ba,ha,na;ba=ta.mechanism;ha=ta.wrapdata;if(!ba || ba == ca.WRAP && (!ha || "string" !== typeof ha))throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ta));if(!ca[ba])throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM,ba);switch(ba){case ca.WRAP:try{na=Gb(ha);}catch(Ia){throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + ta.toString());}if(null == na || 0 == na.length)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + ta.toString());break;default:na=null;}return new da(ba,na);});},createResponseData:function(wa,ta,X){var ba,ha,na,Ia,Fa,Ra,Ta;wa=X.wrapkey;ba=X.wrapdata;ha=X.encryptionkey;na=X.hmackey;if(!(wa && "string" === typeof wa && ba && "string" === typeof ba && ha && "string" === typeof ha && na) || "string" !== typeof na)throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(X));try{Ia=Gb(wa);Fa=Gb(ba);}catch(ma){throw new ub(W.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(X),ma);}try{Ra=Gb(ha);}catch(ma){throw new ub(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(X),ma);}try{Ta=Gb(na);}catch(ma){throw new ub(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(X),ma);}return new ka(ta,Ia,Fa,Ra,Ta);},generateResponse:function(wa,ta,X,ba){var Ra,Ta;function ha(ma,za,Aa){Ra.generateSessionKeys(wa,{result:function(Ja){Ma(ba,function(){na(ma,za,Aa,Ja.encryptionKey,Ja.hmacKey);},Ra);},error:function(Ja){Ma(ba,function(){Ja instanceof db && Ja.setEntity(Ta);throw Ja;});}});}function na(ma,za,Aa,Ja,Ca){Ma(ba,function(){ia(wa,ta.mechanism,ta.wrapdata,ma,{result:function(Pa){Pa.wrap(za,{result:function(Ga){Ia(za,Aa,Ja,Ca,Ga);},error:function(Ga){Ma(ba,function(){Ga instanceof db && Ga.setEntity(Ta);throw Ga;});}});},error:function(Pa){Ma(ba,function(){Pa instanceof db && Pa.setEntity(Ta);throw Pa;});}});},Ra);}function Ia(ma,za,Aa,Ja,Ca){Ma(ba,function(){var Pa;Pa=new Bc(wa,Cc.A128KW,wc,ma);Pa.wrap(Aa,{result:function(Ga){Pa.wrap(Ja,{result:function(Wa){Fa(za,Ca,Aa,Ga,Ja,Wa);},error:function(Wa){Ma(ba,function(){Wa instanceof db && Wa.setEntity(Ta);throw Wa;});}});},error:function(Ga){Ma(ba,function(){Ga instanceof db && Ga.setEntity(Ta);throw Ga;});}});},Ra);}function Fa(ma,za,Aa,Ja,Ca,Pa){Ma(ba,function(){var Ga;Ga=wa.getTokenFactory();Ta?Ga.renewMasterToken(wa,Ta,Aa,Ca,{result:function(Wa){Ma(ba,function(){var ab,Ya;ab=new jc(wa,Wa);Ya=new ka(Wa,za,ma,Ja,Pa);return new pc.KeyExchangeData(Ya,ab,ba);},Ra);},error:function(Wa){Ma(ba,function(){Wa instanceof db && Wa.setEntity(Ta);throw Wa;});}}):Ga.createMasterToken(wa,X,Aa,Ca,{result:function(Wa){Ma(ba,function(){var ab,Ya;ab=new jc(wa,Wa);Ya=new ka(Wa,za,ma,Ja,Pa);return new pc.KeyExchangeData(Ya,ab,ba);},Ra);},error:ba.error});},Ra);}Ra=this;Ma(ba,function(){var ma,za;if(!(ta instanceof da))throw new vb("Key request data " + JSON.stringify(ta) + " was not created by this factory.");ma=X;if(X instanceof ic){if(!X.isVerified())throw new Oc(W.MASTERTOKEN_UNTRUSTED,X);Ta=X;ma=X.identity;}za=new Uint8Array(16);wa.getRandom().nextBytes(za);zc(za,yc,Ic,{result:function(Aa){Ma(ba,function(){wa.getMslCryptoContext().wrap(Aa,{result:function(Ja){ha(ma,Aa,Ja);},error:function(Ja){Ma(ba,function(){Ja instanceof db && Ja.setEntity(Ta);throw Ja;},Ra);}});},Ra);},error:function(Aa){Ma(ba,function(){throw new ub(W.WRAP_KEY_CREATION_FAILURE,null,Aa).setEntity(Ta);},Ra);}});},Ra);},getCryptoContext:function(wa,ta,X,ba,ha){var Ia;function na(Fa,Ra,Ta,ma,za){Ma(ha,function(){var Aa;Aa=new Bc(wa,Cc.A128KW,wc,za);Aa.unwrap(Ra.encryptionKey,rc,Hc,{result:function(Ja){Aa.unwrap(Ra.hmacKey,sc,Pc,{result:function(Ca){Ma(ha,function(){this.repository.addCryptoContext(Ra.wrapdata,Aa);this.repository.removeCryptoContext(Ta);return new jc(wa,Ra.masterToken,ma,Ja,Ca);},Ia);},error:function(Ca){Ma(ha,function(){Ca instanceof db && Ca.setEntity(Fa);throw Ca;});}});},error:function(Ja){Ma(ha,function(){Ja instanceof db && Ja.setEntity(Fa);throw Ja;});}});},Ia);}Ia=this;Ma(ha,function(){var Fa,Ra;if(!(ta instanceof da))throw new vb("Key request data " + JSON.stringify(ta) + " was not created by this factory.");if(!(X instanceof ka))throw new vb("Key response data " + JSON.stringify(X) + " was not created by this factory.");Fa=ta.mechanism;Ra=ta.wrapdata;wa.getEntityAuthenticationData(null,{result:function(Ta){Ma(ha,function(){var ma,za,Aa;ma=Ta.getIdentity();switch(Fa){case ca.PSK:za=new tc(ma);Aa=wa.getEntityAuthenticationFactory(Ob.PSK);if(!Aa)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Fa).setEntity(Ta);za=Aa.getCryptoContext(wa,za);za=new Bc(wa,Cc.A128KW,wc,Ab);break;case ca.MGK:za=new oc(ma);Aa=wa.getEntityAuthenticationFactory(Ob.MGK);if(!Aa)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Fa).setEntity(Ta);za=Aa.getCryptoContext(wa,za);za=new Bc(wa,Cc.A128KW,wc,za.wrapKey);break;case ca.WRAP:za=this.repository.getCryptoContext(Ra);if(!za)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,Db(Ra)).setEntity(Ta);break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Fa).setEntity(Ta);}za.unwrap(X.wrapKey,yc,Ic,{result:function(Ja){na(Ta,X,Ra,ma,Ja);},error:function(Ja){Ma(ha,function(){Ja instanceof db && Ja.setEntity(Ta);throw Ja;});}});},Ia);},error:ha.error});},Ia);}});})();(function(){var ca,da,ka,fa;function ia(V,aa,ua,qa,va){Ma(va,function(){var Ea,wa;switch(aa){case ca.PSK:(Ea=new tc(qa),wa=V.getEntityAuthenticationFactory(Ob.PSK));if(!wa)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,aa);Ea=wa.getCryptoContext(V,Ea);return new fa(Ab);case ca.MGK:Ea=new oc(qa);wa=V.getEntityAuthenticationFactory(Ob.MGK);if(!wa)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,aa);Ea=wa.getCryptoContext(V,Ea);return new fa(Ab);case ca.WRAP:Ea=V.getMslCryptoContext();Ea.unwrap(ua,yc,Ic,{result:function(ta){Ma(va,function(){return new fa(ta);});},error:va.error});break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,aa);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};da=Fd=kd.extend({init:function qa(aa,ua){qa.base.call(this,lc.JWK_LADDER);switch(aa){case ca.WRAP:if(!ua)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ua=null;}Object.defineProperties(this,{mechanism:{value:aa,writable:!1,configurable:!1},wrapdata:{value:ua,writable:!1,configurable:!1}});},getKeydata:function(){var aa;aa={};aa.mechanism=this.mechanism;this.wrapdata && (aa.wrapdata=Db(this.wrapdata));return aa;},equals:function qa(ua){return ua === this?!0:ua instanceof Fd?qa.base.call(this,ua) && this.mechanism == ua.mechanism && Wb(this.wrapdata,ua.wrapdata):!1;},uniqueKey:function qa(){var va;va=qa.base.call(this) + ":" + this.mechanism;this.wrapdata && (va+=":" + gc(this.wrapdata));return va;}});ka=Ve=ld.extend({init:function ba(va,Ea,wa,ta,X){ba.base.call(this,va,lc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:Ea,writable:!1,configurable:!1},wrapdata:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,configurable:!1},hmacKey:{value:X,writable:!1,configurable:!1}});},getKeydata:function(){var va;va={};va.wrapkey=Db(this.wrapKey);va.wrapdata=Db(this.wrapdata);va.encryptionkey=Db(this.encryptionKey);va.hmackey=Db(this.hmacKey);return va;},equals:function wa(Ea){return this === Ea?!0:Ea instanceof Ve?wa.base.call(this,Ea) && Wb(this.wrapKey,Ea.wrapKey) && Wb(this.wrapdata,Ea.wrapdata) && Wb(this.encryptionKey,Ea.encryptionKey) && Wb(this.hmacKey,Ea.hmacKey):!1;},uniqueKey:function wa(){return wa.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});fa=bd.extend({init:function(wa){wa && wa.rawKey && (wa=wa.rawKey);Object.defineProperties(this,{_wrapKey:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(wa,ta){ta.error(new ub(W.ENCRYPT_NOT_SUPPORTED));},decrypt:function(wa,ta){ta.error(new ub(W.DECRYPT_NOT_SUPPORTED));},wrap:function(wa,ta){Ma(ta,function(){Jb.wrapKey("jwk",wa.rawKey,this._wrapKey,yc).then(function(X){ta.result(X);},function(X){ta.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(wa,ta,X,ba){function ha(na){Ma(ba,function(){switch(na.type){case "secret":Zc(na,ba);break;case "public":Lc(na,ba);break;case "private":$c(na,ba);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + na.type);}});}Ma(ba,function(){Jb.unwrapKey("jwk",wa,this._wrapKey,yc,ta,!1,X).then(function(na){ha(na);},function(na){ba.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(wa,ta){ta.error(new ub(W.SIGN_NOT_SUPPORTED));},verify:function(wa,ta,X){X.error(new ub(W.VERIFY_NOT_SUPPORTED));}});ie=pc.extend({init:function X(ta){X.base.call(this,lc.JWK_LADDER);Object.defineProperties(this,{repository:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ta,X,ba){Ma(ba,function(){var ha,na,Ia;ha=X.mechanism;na=X.wrapdata;if(!ha || ha == ca.WRAP && (!na || "string" !== typeof na))throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(X));if(!ca[ha])throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM,ha);switch(ha){case ca.WRAP:try{Ia=Gb(na);}catch(Fa){throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + X.toString());}if(null == Ia || 0 == Ia.length)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + X.toString());break;default:Ia=null;}return new da(ha,Ia);});},createResponseData:function(ta,X,ba){var ha,na,Ia,Fa,Ra,Ta,ma;ta=ba.wrapkey;ha=ba.wrapdata;na=ba.encryptionkey;Ia=ba.hmackey;if(!(ta && "string" === typeof ta && ha && "string" === typeof ha && na && "string" === typeof na && Ia) || "string" !== typeof Ia)throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ba));try{Fa=Gb(ta);Ra=Gb(ha);}catch(za){throw new ub(W.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ba),za);}try{Ta=Gb(na);}catch(za){throw new ub(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ba),za);}try{ma=Gb(Ia);}catch(za){throw new ub(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ba),za);}return new ka(X,Fa,Ra,Ta,ma);},generateResponse:function(ta,X,ba,ha){var Ta,ma;function na(za,Aa,Ja){Ta.generateSessionKeys(ta,{result:function(Ca){Ma(ha,function(){Ia(za,Aa,Ja,Ca.encryptionKey,Ca.hmacKey);},Ta);},error:function(Ca){Ma(ha,function(){Ca instanceof db && Ca.setEntity(ma);throw Ca;});}});}function Ia(za,Aa,Ja,Ca,Pa){Ma(ha,function(){ia(ta,X.mechanism,X.wrapdata,za,{result:function(Ga){Ga.wrap(Aa,{result:function(Wa){Fa(Aa,Ja,Ca,Pa,Wa);},error:function(Wa){Ma(ha,function(){Wa instanceof db && Wa.setEntity(ma);throw Wa;});}});},error:function(Ga){Ma(ha,function(){Ga instanceof db && Ga.setEntity(ma);throw Ga;});}});},Ta);}function Fa(za,Aa,Ja,Ca,Pa){Ma(ha,function(){var Ga;Ga=new fa(za);Ga.wrap(Ja,{result:function(Wa){Ga.wrap(Ca,{result:function(ab){Ra(Aa,Pa,Ja,Wa,Ca,ab);},error:function(ab){Ma(ha,function(){ab instanceof db && ab.setEntity(ma);throw ab;});}});},error:function(Wa){Ma(ha,function(){Wa instanceof db && Wa.setEntity(ma);throw Wa;});}});},Ta);}function Ra(za,Aa,Ja,Ca,Pa,Ga){Ma(ha,function(){var Wa;Wa=ta.getTokenFactory();ma?Wa.renewMasterToken(ta,ma,Ja,Pa,{result:function(ab){Ma(ha,function(){var Ya,jb;Ya=new jc(ta,ab);jb=new ka(ab,Aa,za,Ca,Ga);return new pc.KeyExchangeData(jb,Ya,ha);},Ta);},error:function(ab){Ma(ha,function(){ab instanceof db && ab.setEntity(ma);throw ab;});}}):Wa.createMasterToken(ta,ba,Ja,Pa,{result:function(ab){Ma(ha,function(){var Ya,jb;Ya=new jc(ta,ab);jb=new ka(ab,Aa,za,Ca,Ga);return new pc.KeyExchangeData(jb,Ya,ha);},Ta);},error:ha.error});},Ta);}Ta=this;Ma(ha,function(){var za,Aa;if(!(X instanceof da))throw new vb("Key request data " + JSON.stringify(X) + " was not created by this factory.");za=ba;if(ba instanceof ic){if(!ba.isVerified())throw new Oc(W.MASTERTOKEN_UNTRUSTED,ba);ma=ba;za=ba.identity;}Aa=new Uint8Array(16);ta.getRandom().nextBytes(Aa);zc(Aa,yc,Ic,{result:function(Ja){Ma(ha,function(){ta.getMslCryptoContext().wrap(Ja,{result:function(Ca){na(za,Ja,Ca);},error:function(Ca){Ma(ha,function(){Ca instanceof db && Ca.setEntity(ma);throw Ca;},Ta);}});},Ta);},error:function(Ja){Ma(ha,function(){throw new ub(W.WRAP_KEY_CREATION_FAILURE,null,Ja).setEntity(ma);},Ta);}});},Ta);},getCryptoContext:function(ta,X,ba,ha,na){var Fa;function Ia(Ra,Ta,ma,za,Aa){Ma(na,function(){var Ja;Ja=new fa(Aa);Ja.unwrap(Ta.encryptionKey,rc,Hc,{result:function(Ca){Ja.unwrap(Ta.hmacKey,sc,Pc,{result:function(Pa){Ma(na,function(){this.repository.addCryptoContext(Ta.wrapdata,Ja);this.repository.removeCryptoContext(ma);return new jc(ta,Ta.masterToken,za,Ca,Pa);},Fa);},error:function(Pa){Ma(na,function(){Pa instanceof db && Pa.setEntity(Ra);throw Pa;});}});},error:function(Ca){Ma(na,function(){Ca instanceof db && Ca.setEntity(Ra);throw Ca;});}});},Fa);}Fa=this;Ma(na,function(){var Ra,Ta;if(!(X instanceof da))throw new vb("Key request data " + JSON.stringify(X) + " was not created by this factory.");if(!(ba instanceof ka))throw new vb("Key response data " + JSON.stringify(ba) + " was not created by this factory.");Ra=X.mechanism;Ta=X.wrapdata;ta.getEntityAuthenticationData(null,{result:function(ma){Ma(na,function(){var za,Aa,Ja;za=ma.getIdentity();switch(Ra){case ca.PSK:Aa=new tc(za);Ja=ta.getEntityAuthenticationFactory(Ob.PSK);if(!Ja)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(ma);Aa=Ja.getCryptoContext(ta,Aa);Aa=new fa(Aa.wrapKey);break;case ca.MGK:Aa=new oc(za);Ja=ta.getEntityAuthenticationFactory(Ob.MGK);if(!Ja)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(ma);Aa=Ja.getCryptoContext(ta,Aa);Aa=new fa(Aa.wrapKey);break;case ca.WRAP:Aa=this.repository.getCryptoContext(Ta);if(!Aa)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,Db(Ta)).setEntity(ma);break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(ma);}Aa.unwrap(ba.wrapKey,yc,Ic,{result:function(Ca){Ia(ma,ba,Ta,za,Ca);},error:function(Ca){Ma(na,function(){Ca instanceof db && Ca.setEntity(ma);throw Ca;});}});},Fa);},error:na.error});},Fa);}});})();Tf=Bb.Class.create({addCryptoContext:function(ia,ca){},getCryptoContext:function(ia){},removeCryptoContext:function(ia){}});(function(){var ca,da,ka,fa;function ia(V,aa,ua,qa,va){switch(ua){case ca.JWE_RSA:case ca.JWEJS_RSA:return new Bc(V,Cc.RSA_OAEP,wc,qa,va);case ca.JWK_RSA:return new zd(V,aa,qa,va,Ad.WRAP_UNWRAP_OAEP);case ca.JWK_RSAES:return new zd(V,aa,qa,va,Ad.WRAP_UNWRAP_PKCS1);default:throw new ub(W.UNSUPPORTED_KEYX_MECHANISM,ua);}}ca=Gd={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};da=Ud=kd.extend({init:function Ea(aa,ua,qa,va){Ea.base.call(this,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:aa,writable:!1,configurable:!1},mechanism:{value:ua,writable:!1,configurable:!1},publicKey:{value:qa,writable:!1,configurable:!1},privateKey:{value:va,writable:!1,configurable:!1}});},getKeydata:function(){var aa;aa={};aa.keypairid=this.keyPairId;aa.mechanism=this.mechanism;aa.publickey=Db(this.publicKey.getEncoded());return aa;},equals:function qa(ua){var va;if(ua === this)return !0;if(!(ua instanceof Ud))return !1;va=this.privateKey === ua.privateKey || this.privateKey && ua.privateKey && Wb(this.privateKey.getEncoded(),ua.privateKey.getEncoded());return qa.base.call(this,ua) && this.keyPairId == ua.keyPairId && this.mechanism == ua.mechanism && Wb(this.publicKey.getEncoded(),ua.publicKey.getEncoded()) && va;},uniqueKey:function qa(){var va,Ea;va=this.publicKey.getEncoded();Ea=this.privateKey && this.privateKey.getEncoded();va=qa.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + gc(va);Ea && (va+=":" + gc(Ea));return va;}});ka=function(qa,va){Ma(va,function(){var Ea,wa,ta,X;Ea=qa.keypairid;wa=qa.mechanism;ta=qa.publickey;if(!Ea || "string" !== typeof Ea || !wa || !ta || "string" !== typeof ta)throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(qa));if(!ca[wa])throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM,wa);try{X=Gb(ta);switch(wa){case ca.JWE_RSA:case ca.JWEJS_RSA:case ca.JWK_RSA:Zd(X,xd,Ic,{result:function(ba){va.result(new da(Ea,wa,ba,null));},error:function(ba){va.error(ba);}});break;case ca.JWK_RSAES:Zd(X,Xd,Ic,{result:function(ba){va.result(new da(Ea,wa,ba,null));},error:function(ba){va.error(ba);}});break;default:throw new ub(W.UNSUPPORTED_KEYX_MECHANISM,wa);}}catch(ba){if(!(ba instanceof db))throw new ub(W.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(qa),ba);throw ba;}});};fa=We=ld.extend({init:function X(va,Ea,wa,ta){X.base.call(this,va,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Ea,writable:!1,configurable:!1},encryptionKey:{value:wa,writable:!1,configurable:!1},hmacKey:{value:ta,writable:!1,configurable:!1}});},getKeydata:function(){var va;va={};va.keypairid=this.keyPairId;va.encryptionkey=Db(this.encryptionKey);va.hmackey=Db(this.hmacKey);return va;},equals:function wa(Ea){return this === Ea?!0:Ea instanceof We?wa.base.call(this,Ea) && this.keyPairId == Ea.keyPairId && Wb(this.encryptionKey,Ea.encryptionKey) && Wb(this.hmacKey,Ea.hmacKey):!1;},uniqueKey:function wa(){return wa.base.call(this) + ":" + this.keyPairId + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});Ce=pc.extend({init:function ta(){ta.base.call(this,lc.ASYMMETRIC_WRAPPED);},createRequestData:function(ta,X,ba){ka(X,ba);},createResponseData:function(ta,X,ba){var ha,na,Ia,Fa;ta=ba.keypairid;ha=ba.encryptionkey;na=ba.hmackey;if(!ta || "string" !== typeof ta || !ha || "string" !== typeof ha || !na || "string" !== typeof na)throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ba));try{Ia=Gb(ha);}catch(Ra){throw new ub(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ba),Ra);}try{Fa=Gb(na);}catch(Ra){throw new ub(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ba),Ra);}return new fa(X,ta,Ia,Fa);},generateResponse:function(ta,X,ba,ha){var Fa;function na(Ra,Ta){Ma(ha,function(){var ma;ma=ia(ta,X.keyPairId,X.mechanism,null,X.publicKey);ma.wrap(Ra,{result:function(za){Ma(ha,function(){ma.wrap(Ta,{result:function(Aa){Ia(Ra,za,Ta,Aa);},error:function(Aa){Ma(ha,function(){Aa instanceof db && ba instanceof ic && Aa.setEntity(ba);throw Aa;},Fa);}});},Fa);},error:function(za){Ma(ha,function(){za instanceof db && ba instanceof ic && za.setEntity(ba);throw za;},Fa);}});},Fa);}function Ia(Ra,Ta,ma,za){Ma(ha,function(){var Aa;Aa=ta.getTokenFactory();ba instanceof ic?Aa.renewMasterToken(ta,ba,Ra,ma,{result:function(Ja){Ma(ha,function(){var Ca,Pa;Ca=new jc(ta,Ja);Pa=new fa(Ja,X.keyPairId,Ta,za);return new pc.KeyExchangeData(Pa,Ca,ha);},Fa);},error:function(Ja){Ma(ha,function(){Ja instanceof db && Ja.setEntity(ba);throw Ja;},Fa);}}):Aa.createMasterToken(ta,ba,Ra,ma,{result:function(Ja){Ma(ha,function(){var Ca,Pa;Ca=new jc(ta,Ja);Pa=new fa(Ja,X.keyPairId,Ta,za);return new pc.KeyExchangeData(Pa,Ca,ha);},Fa);},error:ha.error});},Fa);}Fa=this;Ma(ha,function(){if(!(X instanceof da))throw new vb("Key request data " + JSON.stringify(X) + " was not created by this factory.");this.generateSessionKeys(ta,{result:function(Ra){na(Ra.encryptionKey,Ra.hmacKey);},error:function(Ra){Ma(ha,function(){Ra instanceof db && ba instanceof ic && Ra.setEntity(ba);throw Ra;},Fa);}});},Fa);},getCryptoContext:function(ta,X,ba,ha,na){var Ia;Ia=this;Ma(na,function(){var Fa,Ra,Ta;if(!(X instanceof da))throw new vb("Key request data " + JSON.stringify(X) + " was not created by this factory.");if(!(ba instanceof fa))throw new vb("Key response data " + JSON.stringify(ba) + " was not created by this factory.");Fa=X.keyPairId;Ra=ba.keyPairId;if(Fa != Ra)throw new Pb(W.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Fa + "; response " + Ra).setEntity(ha);Ra=X.privateKey;if(!Ra)throw new Pb(W.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ha);Ta=ia(ta,Fa,X.mechanism,Ra,null);Ta.unwrap(ba.encryptionKey,rc,Hc,{result:function(ma){Ta.unwrap(ba.hmacKey,sc,Pc,{result:function(za){ta.getEntityAuthenticationData(null,{result:function(Aa){Ma(na,function(){var Ja;Ja=Aa.getIdentity();return new jc(ta,ba.masterToken,Ja,ma,za);},Ia);},error:function(Aa){Ma(na,function(){Aa instanceof db && Aa.setEntity(ha);throw Aa;},Ia);}});},error:function(za){Ma(na,function(){za instanceof db && za.setEntity(ha);throw za;},Ia);}});},error:function(ma){Ma(na,function(){ma instanceof db && ma.setEntity(ha);throw ma;},Ia);}});},Ia);}});})();Sf=Bb.Class.create({init:function(ia){var ca,da,ka,fa,V,aa,ua,qa;ca=Zb.parser();da=[];ka=[];ua=0;qa=!1;ca.onerror=function(va){qa || (qa=!0,ca.end());};ca.onopenobject=function(va){var Ea;if(fa)(fa[aa]={},ka.push(fa),fa=fa[aa]);else if(V){Ea={};ka.push(V);V.push(Ea);fa=Ea;V=Ab;}else fa={};aa=va;};ca.oncloseobject=function(){var va;va=ka.pop();va?"object" === typeof va?fa=va:(fa=Ab,V=va):(da.push(fa),ua=ca.index,fa=Ab);};ca.onopenarray=function(){var va;if(fa)(fa[aa]=[],ka.push(fa),V=fa[aa],fa=Ab);else if(V){va=[];ka.push(V);V.push(va);V=va;}else V=[];};ca.onclosearray=function(){var va;va=ka.pop();va?"object" === typeof va?(fa=va,V=Ab):V=va:(da.push(V),ua=ca.index,V=Ab);};ca.onkey=function(va){aa=va;};ca.onvalue=function(va){fa?fa[aa]=va:V?V.push(va):(da.push(va),ua=ca.index);};ca.write(ia).close();Object.defineProperties(this,{_values:{value:da,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:ua,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Ab:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ia,ca,da,ka,fa;ia=je="entityauthdata";ca=Ye="mastertoken";da=Ze="headerdata";ka=$e="errordata";fa=ke="signature";Xe=function(V,aa,ua,qa){Ma(qa,function(){var va,Ea,wa,ta,X,ba;va=aa[ia];Ea=aa[ca];wa=aa[fa];if(va && "object" !== typeof va || Ea && "object" !== typeof Ea || "string" !== typeof wa)throw new yb(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(aa));try{ta=Gb(wa);}catch(ha){throw new Ib(W.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(aa),ha);}X=null;va && (X=Le(V,va));ba=aa[da];if(ba != Ab && null != ba){if("string" !== typeof ba)throw new yb(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(aa));Ea?Qc(V,Ea,{result:function(ha){le(V,ba,X,ha,ta,ua,qa);},error:function(ha){qa.error(ha);}}):le(V,ba,X,null,ta,ua,qa);}else if((va=aa[ka],va != Ab && null != va)){if("string" !== typeof va)throw new yb(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(aa));af(V,va,X,ta,qa);}else throw new yb(W.JSON_PARSE_ERROR,JSON.stringify(aa));});};})();(function(){function ia(ca,da){this.errordata=ca;this.signature=da;}Kc=Bb.Class.create({init:function(ca,da,ka,fa,V,aa,ua,qa,va,Ea){var wa;wa=this;Ma(Ea,function(){var ta,X;0 > aa && (aa=-1);if(0 > fa || fa > Mb)throw new vb("Message ID " + fa + " is out of range.");if(!da)throw new Ib(W.MESSAGE_ENTITY_NOT_FOUND);if(va)return (Object.defineProperties(this,{entityAuthenticationData:{value:da,writable:!1,configurable:!1},recipient:{value:ka,writable:!1,configurable:!1},messageId:{value:fa,writable:!1,configurable:!1},errorCode:{value:V,writable:!1,configurable:!1},internalCode:{value:aa,writable:!1,configurable:!1},errorMessage:{value:ua,writable:!1,configurable:!1},userMessage:{value:qa,writable:!1,configurable:!1},errordata:{value:va.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:va.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ta={};ka && (ta.recipient=ka);ta.messageid=fa;ta.errorcode=V;0 < aa && (ta.internalcode=aa);ua && (ta.errormsg=ua);qa && (ta.usermsg=qa);try{X=ca.getEntityAuthenticationFactory(da.scheme).getCryptoContext(ca,da);}catch(ba){throw (ba instanceof db && (ba.setEntity(da),ba.setMessageId(fa)),ba);}ta=Rb(JSON.stringify(ta),Lb);X.encrypt(ta,{result:function(ba){Ma(Ea,function(){X.sign(ba,{result:function(ha){Ma(Ea,function(){Object.defineProperties(this,{entityAuthenticationData:{value:da,writable:!1,configurable:!1},recipient:{value:ka,writable:!1,configurable:!1},messageId:{value:fa,writable:!1,configurable:!1},errorCode:{value:V,writable:!1,configurable:!1},internalCode:{value:aa,writable:!1,configurable:!1},errorMessage:{value:ua,writable:!1,configurable:!1},userMessage:{value:qa,writable:!1,configurable:!1},errordata:{value:ba,writable:!1,enumerable:!1,configurable:!1},signature:{value:ha,writable:!1,enumerable:!1,configurable:!1}});return this;},wa);},error:function(ha){Ma(Ea,function(){ha instanceof db && (ha.setEntity(da),ha.setMessageId(fa));throw ha;},wa);}});},wa);},error:function(ba){Ma(Ea,function(){ba instanceof db && (ba.setEntity(da),ba.setMessageId(fa));throw ba;},wa);}});},wa);},toJSON:function(){var ca;ca={};ca[je]=this.entityAuthenticationData;ca[$e]=Db(this.errordata);ca[ke]=Db(this.signature);return ca;}});bf=function(ca,da,ka,fa,V,aa,ua,qa,va){new Kc(ca,da,ka,fa,V,aa,ua,qa,null,va);};af=function(ca,da,ka,fa,V){Ma(V,function(){var aa,ua,qa;if(!ka)throw new Ib(W.MESSAGE_ENTITY_NOT_FOUND);try{aa=ka.scheme;ua=ca.getEntityAuthenticationFactory(aa);if(!ua)throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND,aa);qa=ua.getCryptoContext(ca,ka);}catch(va){throw (va instanceof db && va.setEntity(ka),va);}try{da=Gb(da);}catch(va){throw new Ib(W.HEADER_DATA_INVALID,da,va).setEntity(ka);}if(!da || 0 == da.length)throw new Ib(W.HEADER_DATA_MISSING,da).setEntity(ka);qa.verify(da,fa,{result:function(va){Ma(V,function(){if(!va)throw new ub(W.MESSAGE_VERIFICATION_FAILED).setEntity(ka);qa.decrypt(da,{result:function(Ea){Ma(V,function(){var wa,ta,X,ba,ha,na,Ia,Fa;wa=Tb(Ea,Lb);try{ta=JSON.parse(wa);}catch(Ta){if(Ta instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"errordata " + wa,Ta).setEntity(ka);throw Ta;}X=ta.recipient !== Ab?ta.recipient:null;ba=parseInt(ta.messageid);ha=parseInt(ta.errorcode);na=parseInt(ta.internalcode);Ia=ta.errormsg;Fa=ta.usermsg;if(X && "string" !== typeof X || !ba || ba != ba || !ha || ha != ha || ta.internalcode && na != na || Ia && "string" !== typeof Ia || Fa && "string" !== typeof Fa)throw new yb(W.JSON_PARSE_ERROR,"errordata " + wa).setEntity(ka);if(0 > ba || ba > Mb)throw new Ib(W.MESSAGE_ID_OUT_OF_RANGE,"errordata " + wa).setEntity(ka);ta=!1;for(var Ra in La){if(La[Ra] == ha){ta=!0;break;}}ta || (ha=La.FAIL);if(na){if(0 > na)throw new Ib(W.INTERNAL_CODE_NEGATIVE,"errordata " + wa).setEntity(ka).setMessageId(ba);}else na=-1;wa=new ia(da,fa);new Kc(ca,ka,X,ba,ha,na,Ia,Fa,wa,V);});},error:function(Ea){Ma(V,function(){Ea instanceof db && Ea.setEntity(ka);throw Ea;});}});});},error:function(va){Ma(V,function(){va instanceof db && va.setEntity(ka);throw va;});}});});};})();Uf=Bb.Class.create({getUserMessage:function(ia,ca){}});(function(){me=function(ia,ca){var da;if(!ia || !ca)return null;da=ia.compressionAlgorithms.filter(function(ka){for(var fa=0;fa < ca.compressionAlgorithms.length;++fa){if(ka == ca.compressionAlgorithms[fa])return !0;}return !1;});ia=ia.languages.filter(function(ka){for(var fa=0;fa < ca.languages.length;++fa){if(ka == ca.languages[fa])return !0;}return !1;});return new md(da,ia);};md=Bb.Class.create({init:function(ia,ca){ia || (ia=[]);ca || (ca=[]);ia.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ia,writable:!1,enumerable:!0,configurable:!1},languages:{value:ca,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ia;ia={};ia.compressionalgos=this.compressionAlgorithms;ia.languages=this.languages;return ia;},equals:function(ia){return this === ia?!0:ia instanceof md?ve(this.compressionAlgorithms,ia.compressionAlgorithms) && ve(this.languages,ia.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});cf=function(ia){var ca,da,fa;ca=ia.compressionalgos;da=ia.languages;if(ca && !(ca instanceof Array) || da && !(da instanceof Array))throw new yb(W.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ia));ia=[];for(var ka=0;ca && ka < ca.length;++ka){fa=ca[ka];Mc[fa] && ia.push(fa);}return new md(ia,da);};})();(function(){var Ea,wa;function ia(ta,X,ba,ha,na){this.customer=ta;this.sender=X;this.messageCryptoContext=ba;this.headerdata=ha;this.signature=na;}function ca(ta,X,ba,ha,na,Ia,Fa,Ra,Ta,ma,za,Aa,Ja,Ca,Pa,Ga,Wa,ab,Ya,jb){return {cryptoContext:{value:X,writable:!1,configurable:!1},customer:{value:ba,writable:!1,configurable:!1},entityAuthenticationData:{value:ha,writable:!1,configurable:!1},masterToken:{value:na,writable:!1,configurable:!1},sender:{value:Ia,writable:!1,configurable:!1},messageId:{value:Fa,writable:!1,configurable:!1},nonReplayableId:{value:Ga,writable:!1,configurable:!1},keyRequestData:{value:Ra,writable:!1,configurable:!1},keyResponseData:{value:Ta,writable:!1,configurable:!1},userAuthenticationData:{value:ma,writable:!1,configurable:!1},userIdToken:{value:za,writable:!1,configurable:!1},serviceTokens:{value:Aa,writable:!1,configurable:!1},peerMasterToken:{value:Ja,writable:!1,configurable:!1},peerUserIdToken:{value:Ca,writable:!1,configurable:!1},peerServiceTokens:{value:Pa,writable:!1,configurable:!1},messageCapabilities:{value:ab,writable:!1,configurable:!1},renewable:{value:Wa,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Ya,writable:!1,enumerable:!1,configurable:!1},signature:{value:jb,writable:!1,enumerable:!1,configurable:!1}};}function da(ta,X,ba){var ha;if(ba){if(X=ta.getMslStore().getCryptoContext(ba))return X;if(!ba.isVerified() || !ba.isDecrypted())throw new Oc(W.MASTERTOKEN_UNTRUSTED,ba);return new jc(ta,ba);}ba=X.scheme;ha=ta.getEntityAuthenticationFactory(ba);if(!ha)throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND,ba);return ha.getCryptoContext(ta,X);}function ka(ta,X,ba,ha,na){Ma(na,function(){X.verify(ba,ha,{result:function(Ia){Ma(na,function(){if(!Ia)throw new ub(W.MESSAGE_VERIFICATION_FAILED);X.decrypt(ba,{result:function(Fa){Ma(na,function(){return Tb(Fa,Lb);});},error:function(Fa){na.error(Fa);}});});},error:function(Ia){na.error(Ia);}});});}function fa(ta,X,ba){Ma(ba,function(){if(X)Se(ta,X,ba);else return null;});}function V(ta,X,ba,ha){Ma(ha,function(){if(X)Rc(ta,X,ba,ha);else return null;});}function aa(ta,X,ba,ha){Ma(ha,function(){if(ba)gf(ta,X,ba,ha);else return null;});}function ua(ta,X,ba,ha,na,Ia,Fa){var Ta;function Ra(ma,za,Aa){var Ja,Ca;if(za >= ma.length){Ja=[];for(Ca in Ta){Ja.push(Ta[Ca]);}Aa.result(Ja);}else {Ja=ma[za];if("object" !== typeof Ja)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + Ia);Hd(ta,Ja,ba,ha,na,{result:function(Pa){Ma(Aa,function(){Ta[Pa.uniqueKey()]=Pa;Ra(ma,za + 1,Aa);});},error:function(Pa){Aa.error(Pa);}});}}Ta={};Ma(Fa,function(){if(X){if(!(X instanceof Array))throw new yb(W.JSON_PARSE_ERROR,"headerdata " + Ia);Ra(X,0,Fa);}else return [];});}function qa(ta,X,ba,ha,na,Ia){function Fa(Ta,ma,za){Ma(za,function(){var Aa;Aa=ma.peermastertoken;if(Aa && "object" !== typeof Aa)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + na);if(!Aa)return null;Qc(Ta,Aa,za);});}function Ra(Ta,ma,za,Aa){Ma(Aa,function(){var Ja;Ja=ma.peeruseridtoken;if(Ja && "object" !== typeof Ja)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + na);if(!Ja)return null;Rc(Ta,Ja,za,Aa);});}Ma(Ia,function(){if(!ta.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Fa(ta,X,{result:function(Ta){Ma(Ia,function(){var ma;ma=ba?ba.masterToken:Ta;Ra(ta,X,ma,{result:function(za){Ma(Ia,function(){ua(ta,X.peerservicetokens,ma,za,ha,na,{result:function(Aa){Ma(Ia,function(){return {peerMasterToken:Ta,peerUserIdToken:za,peerServiceTokens:Aa};});},error:function(Aa){Ma(Ia,function(){Aa instanceof db && (Aa.setEntity(ma),Aa.setUser(za));throw Aa;});}});});},error:function(za){Ma(Ia,function(){za instanceof db && za.setEntity(ma);throw za;});}});});},error:Ia.error});});}function va(ta,X,ba,ha){var Ia;function na(Fa,Ra){Ma(ha,function(){if(Ra >= Fa.length)return Ia;Re(ta,Fa[Ra],{result:function(Ta){Ma(ha,function(){Ia.push(Ta);na(Fa,Ra + 1);});},error:function(Ta){ha.error(Ta);}});});}Ia=[];Ma(ha,function(){var Fa;Fa=X.keyrequestdata;if(!Fa)return Ia;if(!(Fa instanceof Array))throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ba);na(Fa,0);});}Ea=ef=Bb.Class.create({init:function(ta,X,ba,ha,na,Ia,Fa,Ra,Ta){Object.defineProperties(this,{messageId:{value:ta,writable:!1,configurable:!1},nonReplayableId:{value:X,writable:!1,configurable:!1},renewable:{value:ba,writable:!1,configurable:!1},capabilities:{value:ha,writable:!1,configurable:!1},keyRequestData:{value:na,writable:!1,configurable:!1},keyResponseData:{value:Ia,writable:!1,configurable:!1},userAuthData:{value:Fa,writable:!1,configurable:!1},userIdToken:{value:Ra,writable:!1,configurable:!1},serviceTokens:{value:Ta,writable:!1,configurable:!1}});}});wa=ff=Bb.Class.create({init:function(ta,X,ba){Object.defineProperties(this,{peerMasterToken:{value:ta,writable:!1,configurable:!1},peerUserIdToken:{value:X,writable:!1,configurable:!1},peerServiceTokens:{value:ba,writable:!1,configurable:!1}});}});nd=Bb.Class.create({init:function(ta,X,ba,ha,na,Ia,Fa){var Ta;function Ra(ma){Ma(Fa,function(){var za,Aa,Ja,Ca,Pa,Ga,Wa,ab,Ya,jb,mb,ob,rb,sb,zb,xb,t;X=ba?null:X;za=ha.nonReplayableId;Aa=ha.renewable;Ja=ha.capabilities;Ca=ha.messageId;Pa=ha.keyRequestData?ha.keyRequestData:[];Ga=ha.keyResponseData;Wa=ha.userAuthData;ab=ha.userIdToken;Ya=ha.serviceTokens?ha.serviceTokens:[];if(ta.isPeerToPeer()){jb=na.peerMasterToken;mb=na.peerUserIdToken;ob=na.peerServiceTokens?na.peerServiceTokens:[];}else (mb=jb=null,ob=[]);if(0 > Ca || Ca > Mb)throw new vb("Message ID " + Ca + " is out of range.");if(!X && !ba)throw new vb("Message entity authentication data or master token must be provided.");if(Ga){if(ta.isPeerToPeer()){rb=ba;sb=Ga.masterToken;}else (rb=Ga.masterToken,sb=jb);}else (rb=ba,sb=jb);if(ab && (!rb || !ab.isBoundTo(rb)))throw new vb("User ID token must be bound to a master token.");if(mb && (!sb || !mb.isBoundTo(sb)))throw new vb("Peer user ID token must be bound to a peer master token.");Ya.forEach(function(b){if(b.isMasterTokenBound() && (!rb || !b.isBoundTo(rb)))throw new vb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!ab || !b.isBoundTo(ab)))throw new vb("User ID token bound service tokens must be bound to the provided user ID token.");},this);ob.forEach(function(b){if(b.isMasterTokenBound() && (!sb || !b.isBoundTo(sb)))throw new vb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!mb || !b.isBoundTo(mb)))throw new vb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ia){t=Ia.customer;zb=Ia.messageCryptoContext;xb=ca(ta,zb,t,X,ba,ma,Ca,Pa,Ga,Wa,ab,Ya,jb,mb,ob,za,Aa,Ja,Ia.headerdata,Ia.signature);Object.defineProperties(this,xb);return this;}t=ab?ab.customer:null;xb={};ma && (xb.sender=ma);xb.messageid=Ca;"number" === typeof za && (xb.nonreplayableid=za);xb.renewable=Aa;Ja && (xb.capabilities=Ja);0 < Pa.length && (xb.keyrequestdata=Pa);Ga && (xb.keyresponsedata=Ga);Wa && (xb.userauthdata=Wa);ab && (xb.useridtoken=ab);0 < Ya.length && (xb.servicetokens=Ya);jb && (xb.peermastertoken=jb);mb && (xb.peeruseridtoken=mb);0 < ob.length && (xb.peerservicetokens=ob);try{zb=da(ta,X,ba);}catch(b){throw (b instanceof db && (b.setEntity(ba),b.setEntity(X),b.setUser(ab),b.setUser(Wa),b.setMessageId(Ca)),b);}xb=Rb(JSON.stringify(xb),Lb);zb.encrypt(xb,{result:function(b){Ma(Fa,function(){zb.sign(b,{result:function(a){Ma(Fa,function(){var c;c=ca(ta,zb,t,X,ba,ma,Ca,Pa,Ga,Wa,ab,Ya,jb,mb,ob,za,Aa,Ja,b,a);Object.defineProperties(this,c);return this;},Ta);},error:function(a){Ma(Fa,function(){a instanceof db && (a.setEntity(ba),a.setEntity(X),a.setUser(ab),a.setUser(Wa),a.setMessageId(Ca));throw a;},Ta);}});},Ta);},error:function(b){Ma(Fa,function(){b instanceof db && (b.setEntity(ba),b.setEntity(X),b.setUser(ab),b.setUser(Wa),b.setMessageId(Ca));throw b;},Ta);}});},Ta);}Ta=this;Ma(Fa,function(){Ia?Ra(Ia.sender):ba?ta.getEntityAuthenticationData(null,{result:function(ma){ma=ma.getIdentity();Ra(ma);},error:Fa.error}):Ra(null);},Ta);},isEncrypting:function(){return this.masterToken || Rd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var ta;ta={};this.masterToken?ta[Ye]=this.masterToken:ta[je]=this.entityAuthenticationData;ta[Ze]=Db(this.headerdata);ta[ke]=Db(this.signature);return ta;}});df=function(ta,X,ba,ha,na,Ia){new nd(ta,X,ba,ha,na,null,Ia);};le=function(ta,X,ba,ha,na,Ia,Fa){Ma(Fa,function(){var Ra,Ta;ba=ha?null:ba;if(!ba && !ha)throw new Ib(W.MESSAGE_ENTITY_NOT_FOUND);Ra=X;try{X=Gb(Ra);}catch(ma){throw new Ib(W.HEADER_DATA_INVALID,Ra,ma);}if(!X || 0 == X.length)throw new Ib(W.HEADER_DATA_MISSING,Ra);try{Ta=da(ta,ba,ha);}catch(ma){throw (ma instanceof db && (ma.setEntity(ha),ma.setEntity(ba)),ma);}ka(ta,Ta,X,na,{result:function(ma){Ma(Fa,function(){var za,Aa,Ja,Ca,Pa;try{za=JSON.parse(ma);}catch(Ga){if(Ga instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma,Ga).setEntity(ha).setEntity(ba);throw Ga;}Aa=parseInt(za.messageid);if(!Aa || Aa != Aa)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma).setEntity(ha).setEntity(ba);if(0 > Aa || Aa > Mb)throw new Ib(W.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + ma).setEntity(ha).setEntity(ba);Ja=ha?za.sender:null;if(ha && (!Ja || "string" !== typeof Ja))throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma).setEntity(ha).setEntity(ba).setMessageId(Aa);Ca=za.keyresponsedata;if(Ca && "object" !== typeof Ca)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma).setEntity(ha).setEntity(ba).setMessageId(Aa);Pa=Fa;Fa={result:function(Ga){Pa.result(Ga);},error:function(Ga){Ga instanceof db && (Ga.setEntity(ha),Ga.setEntity(ba),Ga.setMessageId(Aa));Pa.error(Ga);}};fa(ta,Ca,{result:function(Ga){Ma(Fa,function(){var Wa,ab;Wa=!ta.isPeerToPeer() && Ga?Ga.masterToken:ha;ab=za.useridtoken;if(ab && "object" !== typeof ab)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma);V(ta,ab,Wa,{result:function(Ya){Ma(Fa,function(){var jb;jb=za.userauthdata;if(jb && "object" !== typeof jb)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma);aa(ta,Wa,jb,{result:function(mb){Ma(Fa,function(){var ob,rb,sb;if(mb){ob=mb.scheme;rb=ta.getUserAuthenticationFactory(ob);if(!rb)throw new Hb(W.USERAUTH_FACTORY_NOT_FOUND,ob).setUser(Ya).setUser(mb);ob=ha?ha.identity:ba.getIdentity();sb=rb.authenticate(ta,ob,mb,Ya);}else sb=Ya?Ya.customer:null;ua(ta,za.servicetokens,Wa,Ya,Ia,ma,{result:function(zb){Ma(Fa,function(){var xb,t,b,a;xb=za.nonreplayableid !== Ab?parseInt(za.nonreplayableid):null;t=za.renewable;if(xb != xb || "boolean" !== typeof t)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma);if(0 > xb || xb > Mb)throw new Ib(W.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + ma);b=null;a=za.capabilities;if(a){if("object" !== typeof a)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma);b=cf(a);}va(ta,za,ma,{result:function(c){qa(ta,za,Ga,Ia,ma,{result:function(g){Ma(Fa,function(){var l,m,d,f;l=g.peerMasterToken;m=g.peerUserIdToken;d=g.peerServiceTokens;f=new Ea(Aa,xb,t,b,c,Ga,mb,Ya,zb);l=new wa(l,m,d);m=new ia(sb,Ja,Ta,X,na);new nd(ta,ba,ha,f,l,m,Fa);});},error:Fa.error});},error:function(c){Ma(Fa,function(){c instanceof db && (c.setUser(Ya),c.setUser(mb));throw c;});}});});},error:function(zb){Ma(Fa,function(){zb instanceof db && (zb.setEntity(Wa),zb.setUser(Ya),zb.setUser(mb));throw zb;});}});});},error:Fa.error});});},error:Fa.error});});},error:Fa.error});});},error:Fa.error});});};})();(function(){function ia(ca,da){this.payload=ca;this.signature=da;}ne=Bb.Class.create({init:function(ca,da,ka,fa,V,aa,ua,qa){var va;va=this;Ma(qa,function(){var Ea,wa;if(0 > ca || ca > Mb)throw new vb("Sequence number " + ca + " is outside the valid range.");if(0 > da || da > Mb)throw new vb("Message ID " + da + " is outside the valid range.");if(ua)return (Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:da,writable:!1,configurable:!1},compressionAlgo:{value:fa,writable:!1,configurable:!1},data:{value:V,writable:!1,configurable:!1},endofmsg:{value:ka,writable:!1,enumerable:!1,configurable:!1},payload:{value:ua.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:ua.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(fa){Ea=oe(fa,V);Ea || (fa=null,Ea=V);}else (fa=null,Ea=V);wa={};wa.sequencenumber=ca;wa.messageid=da;ka && (wa.endofmsg=ka);fa && (wa.compressionalgo=fa);wa.data=Db(Ea);Ea=Rb(JSON.stringify(wa),Lb);aa.encrypt(Ea,{result:function(ta){Ma(qa,function(){aa.sign(ta,{result:function(X){Ma(qa,function(){Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:da,writable:!1,configurable:!1},compressionAlgo:{value:fa,writable:!1,configurable:!1},data:{value:V,writable:!1,configurable:!1},endofmsg:{value:ka,writable:!1,enumerable:!1,configurable:!1},payload:{value:ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:X,writable:!1,enumerable:!1,configurable:!1}});return this;},va);},error:function(X){qa.error(X);}});},va);},error:function(ta){qa.error(ta);}});},va);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var ca;ca={};ca.payload=Db(this.payload);ca.signature=Db(this.signature);return ca;}});hf=function(ca,da,ka,fa,V,aa,ua){new ne(ca,da,ka,fa,V,aa,null,ua);};jf=function(ca,da,ka){Ma(ka,function(){var fa,V,aa,ua;fa=ca.payload;V=ca.signature;if(!fa || "string" !== typeof fa || "string" !== typeof V)throw new yb(W.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(ca));try{aa=Gb(fa);}catch(qa){throw new Ib(W.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(ca),qa);}try{ua=Gb(V);}catch(qa){throw new Ib(W.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(ca),qa);}da.verify(aa,ua,{result:function(qa){Ma(ka,function(){if(!qa)throw new ub(W.PAYLOAD_VERIFICATION_FAILED);da.decrypt(aa,{result:function(va){Ma(ka,function(){var Ea,wa,ta,X,ba,ha,na;Ea=Tb(va,Lb);try{wa=JSON.parse(Ea);}catch(Ia){if(Ia instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"payload chunk payload " + Ea,Ia);throw Ia;}ta=parseInt(wa.sequencenumber);X=parseInt(wa.messageid);ba=wa.endofmsg;ha=wa.compressionalgo;wa=wa.data;if(!ta || ta != ta || !X || X != X || ba && "boolean" !== typeof ba || ha && "string" !== typeof ha || "string" !== typeof wa)throw new yb(W.JSON_PARSE_ERROR,"payload chunk payload " + Ea);if(0 > ta || ta > Mb)throw new db(W.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + Ea);if(0 > X || X > Mb)throw new db(W.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + Ea);ba || (ba=!1);if(ha && !Mc[ha])throw new Ib(W.UNIDENTIFIED_COMPRESSION,ha);try{na=Gb(wa);}catch(Ia){throw new Ib(W.PAYLOAD_DATA_CORRUPT,wa,Ia);}if(na && 0 != na.length)Ea=ha?Id(ha,na):na;else {if(0 < wa.length)throw new Ib(W.PAYLOAD_DATA_CORRUPT,wa);if(ba)Ea=new Uint8Array(0);else throw new Ib(W.PAYLOAD_DATA_MISSING,wa);}na=new ia(aa,ua);new ne(ta,X,ba,ha,Ea,da,na,ka);});},error:function(va){ka.error(va);}});});},error:function(qa){ka.error(qa);}});});};})();(function(){var ka,fa;function ia(V,aa,ua,qa,va){var wa,ta,X,ba,ha;function Ea(){Ma(va,function(){var na,Ia;ta >= aa.length && (ta=0,++wa);if(wa >= X.length){if(ba)throw ba;throw new Pb(W.KEYX_FACTORY_NOT_FOUND,JSON.stringify(aa));}na=X[wa];Ia=aa[ta];na.scheme != Ia.keyExchangeScheme?(++ta,Ea()):na.generateResponse(V,Ia,ha,{result:function(Fa){va.result(Fa);},error:function(Fa){Ma(va,function(){if(!(Fa instanceof db))throw Fa;ba=Fa;++ta;Ea();});}});});}wa=0;ta=0;X=V.getKeyExchangeFactories();ha=ua?ua:qa;Ea();}function ca(V,aa,ua,qa,va){Ma(va,function(){var Ea;Ea=aa.keyRequestData;if(aa.isRenewable() && 0 < Ea.length)qa?qa.isRenewable() || qa.isExpired()?ia(V,Ea,qa,null,va):V.getTokenFactory().isNewestMasterToken(V,qa,{result:function(wa){Ma(va,function(){if(wa)return null;ia(V,Ea,qa,null,va);});},error:va.error}):ia(V,Ea,null,ua.getIdentity(),va);else return null;});}function da(V,aa,ua,qa){Ma(qa,function(){var va,Ea,wa,ta;va=aa.userIdToken;Ea=aa.userAuthenticationData;wa=aa.messageId;if(va && va.isVerified()){if(va.isRenewable() && aa.isRenewable() || va.isExpired() || !va.isBoundTo(ua)){Ea=V.getTokenFactory();Ea.renewUserIdToken(V,va,ua,qa);return;}}else if(aa.isRenewable() && ua && Ea){va=aa.customer;if(!va){va=Ea.scheme;ta=V.getUserAuthenticationFactory(va);if(!ta)throw new Hb(W.USERAUTH_FACTORY_NOT_FOUND,va).setEntity(ua).setUser(Ea).setMessageId(wa);va=ta.authenticate(V,ua.identity,Ea,null);}Ea=V.getTokenFactory();Ea.createUserIdToken(V,va,ua,qa);return;}return va;});}ka=new Uint8Array(0);fa=Sc=function(V){if(0 > V || V > Mb)throw new vb("Message ID " + V + " is outside the valid range.");return V == Mb?0:V + 1;};dd=function(V){if(0 > V || V > Mb)throw new vb("Message ID " + V + " is outside the valid range.");return 0 == V?Mb:V - 1;};Tc=function(V,aa,ua,qa,va){Ma(va,function(){var Ea;if(qa == Ab || null == qa){Ea=V.getRandom();do {qa=Ea.nextLong();}while(0 > qa || qa > Mb);}else if(0 > qa || qa > Mb)throw new vb("Message ID " + qa + " is outside the valid range.");V.getEntityAuthenticationData(null,{result:function(wa){Ma(va,function(){var ta;ta=V.getMessageCapabilities();return new Jd(V,qa,ta,wa,aa,ua,null,null,null,null,null);});},error:function(wa){va.error(wa);}});});};kf=function(V,aa,ua){Ma(ua,function(){var va,Ea,wa,ta,X,ba;function qa(ha){Ma(ua,function(){ha instanceof db && (ha.setEntity(va),ha.setEntity(Ea),ha.setUser(wa),ha.setUser(ta),ha.setMessageId(X));throw ha;});}va=aa.masterToken;Ea=aa.entityAuthenticationData;wa=aa.userIdToken;ta=aa.userAuthenticationData;X=aa.messageId;ba=fa(X);ca(V,aa,Ea,va,{result:function(ha){Ma(ua,function(){var na;na=ha?ha.keyResponseData.masterToken:na=va;V.getEntityAuthenticationData(null,{result:function(Ia){Ma(ua,function(){da(V,aa,na,{result:function(Fa){Ma(ua,function(){var Ra,Ta,ma;wa=Fa;Ra=me(aa.messageCapabilities,V.getMessageCapabilities());Ta=aa.keyResponseData;ma=aa.serviceTokens;return V.isPeerToPeer()?new Jd(V,ba,Ra,Ia,Ta?Ta.masterToken:aa.peerMasterToken,aa.peerUserIdToken,aa.peerServiceTokens,va,wa,ma,ha):new Jd(V,ba,Ra,Ia,Ta?Ta.masterToken:va,wa,ma,null,null,null,ha);});},error:qa});});},error:qa});});},error:qa});});};lf=function(V,aa,ua,qa,va){Ma(va,function(){V.getEntityAuthenticationData(null,{result:function(Ea){Ma(va,function(){var wa,ta;if(aa != Ab && null != aa)wa=fa(aa);else {ta=V.getRandom();do {wa=ta.nextInt();}while(0 > wa || wa > Mb);}bf(V,Ea,wa,ua.responseCode,ua.internalCode,ua.message,qa,va);});},error:function(Ea){va.error(Ea);}});});};Jd=Bb.Class.create({init:function(V,aa,ua,qa,va,Ea,wa,ta,X,ba,ha){var na,Ia,Fa,Ra,Ta;if(!V.isPeerToPeer() && (ta || X))throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");na=ha && !V.isPeerToPeer()?ha.keyResponseData.masterToken:va;Ia=[];na=V.getMslStore().getServiceTokens(na,Ea);Ia.push.apply(Ia,na);wa && wa.forEach(function(ma){Ia.push(ma);},this);Fa=[];if(V.isPeerToPeer()){Ra=ta;Ta=X;wa=ha?ha.keyResponseData.masterToken:ta;X=V.getMslStore().getServiceTokens(wa,X);Fa.push.apply(Fa,X);ba && ba.forEach(function(ma){Fa.push(ma);},this);}Object.defineProperties(this,{_ctx:{value:V,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:qa,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:va,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:aa,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ua,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ha,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:Ea,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Ra,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ta,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Fa,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Rd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Rd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || we(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || we(this._entityAuthData.scheme);},getHeader:function(V){Ma(V,function(){var aa,ua,qa;aa=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;ua=[];for(qa in this._keyRequestData){ua.push(this._keyRequestData[qa]);}if(this._nonReplayable){if(!this._masterToken)throw new Ib(W.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);qa=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else qa=null;aa=new ef(this._messageId,qa,this._renewable,this._capabilities,ua,aa,this._userAuthData,this._userIdToken,this._serviceTokens);ua=new ff(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);df(this._ctx,this._entityAuthData,this._masterToken,aa,ua,V);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(V){this._nonReplayable=V;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(V){this._renewable=V;return this;},setAuthTokens:function(V,aa){var ua,va;if(aa && !aa.isBoundTo(V))throw new vb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new vb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{ua=this._ctx.getMslStore().getServiceTokens(V,aa);}catch(Ea){if(Ea instanceof db)throw new vb("Invalid master token and user ID token combination despite checking above.",Ea);throw Ea;}for(var qa=this._serviceTokens.length - 1;0 <= qa;--qa){va=this._serviceTokens[qa];(va.isUserIdTokenBound() && !va.isBoundTo(aa) || va.isMasterTokenBound() && !va.isBoundTo(V)) && this._serviceTokens.splice(qa,1);}ua.forEach(function(Ea){this.excludeServiceToken(Ea.name,Ea.isMasterTokenBound(),Ea.isUserIdTokenBound());this._serviceTokens.push(Ea);},this);this._masterToken=V;this._userIdToken=aa;},setUserAuthenticationData:function(V){this._userAuthData=V;return this;},setCustomer:function(V,aa){var ua;ua=this;Ma(aa,function(){var qa;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new vb("User ID token or peer user ID token already exists for the remote user.");qa=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!qa)throw new vb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,V,qa,{result:function(va){Ma(aa,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=va:(this._userIdToken=va,this._userAuthData=null);return !0;},ua);},error:function(va){aa.error(va);}});},ua);},addKeyRequestData:function(V){this._keyRequestData[V.uniqueKey()]=V;return this;},removeKeyRequestData:function(V){delete this._keyRequestData[V.uniqueKey()];return this;},addServiceToken:function(V){var aa;aa=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(V.isMasterTokenBound() && !V.isBoundTo(aa))throw new Ib(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; mt " + JSON.stringify(aa)).setEntity(aa);if(V.isUserIdTokenBound() && !V.isBoundTo(this._userIdToken))throw new Ib(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(aa).setUser(this._userIdToken);this.excludeServiceToken(V.name,V.isMasterTokenBound(),V.isUserIdTokenBound());this._serviceTokens.push(V);return this;},addServiceTokenIfAbsent:function(V){var ua;for(var aa=this._serviceTokens.length - 1;0 <= aa;--aa){ua=this._serviceTokens[aa];if(ua.name == V.name && ua.isMasterTokenBound() == V.isMasterTokenBound() && ua.isUserIdTokenBound() == V.isUserIdTokenBound())return this;}this.addServiceToken(V);return this;},excludeServiceToken:function(){var V,aa,ua,va;if(1 == arguments.length){V=arguments[0];aa=V.name;ua=V.isMasterTokenBound();V=V.isUserIdTokenBound();}else (arguments.length=3,aa=arguments[0],ua=arguments[1],V=arguments[2]);for(var qa=this._serviceTokens.length - 1;0 <= qa;--qa){va=this._serviceTokens[qa];va.name == aa && va.isMasterTokenBound() == ua && va.isUserIdTokenBound() == V && this._serviceTokens.splice(qa,1);}return this;},deleteServiceToken:function(){var V,aa,ua,qa;if(2 == arguments.length){V=arguments[0];aa=V.name;V.isMasterTokenBound();V.isUserIdTokenBound();ua=arguments[1];}else (arguments.length=4,aa=arguments[0],ua=arguments[3]);qa=this;Ma(ua,function(){var va,Ea;va=originalToken.isMasterTokenBound()?this._masterToken:null;Ea=originalToken.isUserIdTokenBound()?this._userIdToken:null;Dc(this._ctx,aa,ka,va,Ea,!1,null,new cd(),{result:function(wa){Ma(ua,function(){return this.addServiceToken(wa);},qa);},error:function(wa){wa instanceof db && (wa=new vb("Failed to create and add empty service token to message.",wa));ua.error(wa);}});},qa);},getServiceTokens:function(){var V;V=[];V.push.apply(V,this._serviceTokens);return V;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(V,aa){var ua,va;if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(aa && !V)throw new vb("Peer master token cannot be null when setting peer user ID token.");if(aa && !aa.isBoundTo(V))throw new Ib(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + aa + "; mt " + V).setEntity(V).setUser(aa);try{ua=this._ctx.getMslStore().getServiceTokens(V,aa);}catch(Ea){if(Ea instanceof db)throw new vb("Invalid peer master token and user ID token combination despite proper check.",Ea);throw Ea;}for(var qa=this._peerServiceTokens.length - 1;0 <= qa;--qa){va=this._peerServiceTokens[qa];(va.isUserIdTokenBound() && !va.isBoundTo(aa) || va.isMasterTokenBound() && !va.isBoundTo(V)) && this._peerServiceTokens.slice(qa,1);}ua.forEach(function(Ea){this.excludePeerServiceToken(Ea.name,Ea.isMasterTokenBound(),Ea.isUserIdTokenBound());this._peerServiceTokens.push(Ea);},this);this._peerUserIdToken=aa;this._peerMasterToken=V;return this;},addPeerServiceToken:function(V){if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer service tokens when not in peer-to-peer mode.");if(V.isMasterTokenBound() && !V.isBoundTo(this._peerMasterToken))throw new Ib(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(V.isUserIdTokenBound() && !V.isBoundTo(this._peerUserIdToken))throw new Ib(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(V.name,V.isMasterTokenBound(),V.isUserIdTokenBound());this._peerServiceTokens.push(V);return this;},addPeerServiceTokenIfAbsent:function(V){var ua;for(var aa=this._peerServiceTokens.length - 1;0 <= aa;--aa){ua=this._peerServiceTokens[aa];if(ua.name == V.name && ua.isMasterTokenBound() == V.isMasterTokenBound() && ua.isUserIdTokenBound() == V.isUserIdTokenBound())return this;}this.addPeerServiceToken(V);return this;},excludePeerServiceToken:function(){var V,aa,ua,va;if(1 == arguments.length){V=arguments[0];aa=V.name;ua=V.isMasterTokenBound();V=V.isUserIdTokenBound();}else (arguments.length=3,aa=arguments[0],ua=arguments[1],V=arguments[2]);for(var qa=this._peerServiceTokens.length - 1;0 <= qa;--qa){va=this._peerServiceTokens[qa];va.name == aa && va.isMasterTokenBound() == ua && va.isUserIdTokenBound() == V && this._peerServiceTokens.splice(qa,1);}return this;},deletePeerServiceToken:function(){var V,aa,ua,qa,va,Ea;if(2 == arguments.length){V=arguments[0];aa=V.name;ua=V.isMasterTokenBound();qa=V.isUserIdTokenBound();va=arguments[1];}else (arguments.length=4,aa=arguments[0],ua=arguments[1],qa=arguments[2],va=arguments[3]);Ea=this;Ma(va,function(){Dc(this._ctx,aa,ka,ua?this._peerMasterToken:null,qa?this._peerUserIdToken:null,!1,null,new cd(),{result:function(wa){Ma(va,function(){return this.addPeerServiceToken(wa);},Ea);},error:function(wa){wa instanceof db && (wa=new vb("Failed to create and add empty peer service token to message.",wa));va.error(wa);}});},Ea);},getPeerServiceTokens:function(){var V;V=[];V.push.apply(V,this._peerServiceTokens);return V;}});})();(function(){function ia(da,ka){return ka[da]?ka[da]:ka[""];}function ca(da){var ka;ka=da.builder.getKeyExchangeData();return ka && !da.ctx.isPeerToPeer()?ka.keyResponseData.masterToken:da.builder.getMasterToken();}mf=Bb.Class.create({init:function(da,ka,fa){da={ctx:{value:da,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:ka.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:fa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},isPrimaryMasterTokenAvailable:function(){return ca(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(da){try{return (this.builder.addServiceToken(da),!0);}catch(ka){if(ka instanceof Ib)return !1;throw ka;}},addPeerServiceToken:function(da){try{return (this.builder.addPeerServiceToken(da),!0);}catch(ka){if(ka instanceof Ib)return !1;throw ka;}},addUnboundPrimaryServiceToken:function(da,ka,fa,V,aa){var ua;ua=this;Ma(aa,function(){var qa;qa=ia(da,this.cryptoContexts);if(!qa)return !1;Dc(this.ctx,da,ka,null,null,fa,V,qa,{result:function(va){Ma(aa,function(){try{this.builder.addServiceToken(va);}catch(Ea){if(Ea instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Ea);throw Ea;}return !0;},ua);},error:function(va){aa.error(va);}});},ua);},addUnboundPeerServiceToken:function(da,ka,fa,V,aa){var ua;ua=this;Ma(aa,function(){var qa;qa=ia(da,this.cryptoContexts);if(!qa)return !1;Dc(this.ctx,da,ka,null,null,fa,V,qa,{result:function(va){Ma(aa,function(){try{this.builder.addPeerServiceToken(va);}catch(Ea){if(Ea instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Ea);throw Ea;}return !0;},ua);},error:function(va){aa.error(va);}});},ua);},addMasterBoundPrimaryServiceToken:function(da,ka,fa,V,aa){var ua;ua=this;Ma(aa,function(){var qa,va;qa=ca(this);if(!qa)return !1;va=ia(da,this.cryptoContexts);if(!va)return !1;Dc(this.ctx,da,ka,qa,null,fa,V,va,{result:function(Ea){Ma(aa,function(){try{this.builder.addServiceToken(Ea);}catch(wa){if(wa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",wa);throw wa;}return !0;},ua);},error:function(Ea){aa.error(Ea);}});},ua);},addMasterBoundPeerServiceToken:function(da,ka,fa,V,aa){var ua;ua=this;Ma(aa,function(){var qa,va;qa=this.builder.getPeerMasterToken();if(!qa)return !1;va=ia(da,this.cryptoContexts);if(!va)return !1;Dc(this.ctx,da,ka,qa,null,fa,V,va,{result:function(Ea){Ma(aa,function(){try{this.builder.addPeerServiceToken(Ea);}catch(wa){if(wa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",wa);throw wa;}return !0;},ua);},error:function(Ea){aa.error(Ea);}});},ua);},addUserBoundPrimaryServiceToken:function(da,ka,fa,V,aa){var ua;ua=this;Ma(aa,function(){var qa,va,Ea;qa=ca(this);if(!qa)return !1;va=this.builder.getUserIdToken();if(!va)return !1;Ea=ia(da,this.cryptoContexts);if(!Ea)return !1;Dc(this.ctx,da,ka,qa,va,fa,V,Ea,{result:function(wa){Ma(aa,function(){try{this.builder.addServiceToken(wa);}catch(ta){if(ta instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ta);throw ta;}return !0;},ua);},error:function(wa){aa.error(wa);}});},ua);},addUserBoundPeerServiceToken:function(da,ka,fa,V,aa){var ua;ua=this;Ma(aa,function(){var qa,va,Ea;qa=this.builder.getPeerMasterToken();if(!qa)return !1;va=this.builder.getPeerUserIdToken();if(!va)return !1;Ea=ia(da,this.cryptoContexts);if(!Ea)return !1;Dc(this.ctx,da,ka,qa,va,fa,V,Ea,{result:function(wa){Ma(aa,function(){try{this.builder.addPeerServiceToken(wa);}catch(ta){if(ta instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ta);throw ta;}return !0;},ua);},error:function(wa){aa.error(wa);}});},ua);},excludePrimaryServiceToken:function(){var da,ka,fa,V;if(1 == arguments.length){da=arguments[0];ka=da.name;fa=da.isMasterTokenBound();V=da.isUserIdTokenBound();}else (arguments.length=3,ka=arguments[0],fa=arguments[1],V=arguments[2]);for(var aa=this.builder.getServiceTokens(),ua=0;ua < aa.length;++ua){if((da=aa[ua],da.name == ka && da.isMasterTokenBound() == fa && da.isUserIdTokenBound() == V))return (this.builder.excludeServiceToken(ka,fa,V),!0);}return !1;},excludePeerServiceToken:function(){var da,ka,fa,V;if(1 == arguments.length){da=arguments[0];ka=da.name;fa=da.isMasterTokenBound();V=da.isUserIdTokenBound();}else (arguments.length=3,ka=arguments[0],fa=arguments[1],V=arguments[2]);for(var aa=this.builder.getPeerServiceTokens(),ua=0;ua < aa.length;++ua){if((da=aa[ua],da.name == ka && da.isMasterTokenBound() == fa && da.isUserIdTokenBound() == V))return (this.builder.excludePeerServiceToken(ka,fa,V),!0);}return !1;},deletePrimaryServiceToken:function(){var da,ka,fa,V,aa;if(2 == arguments.length){da=arguments[0];ka=da.name;fa=da.isMasterTokenBound();V=da.isUserIdTokenBound();aa=arguments[1];}else 4 == arguments.length && (ka=arguments[0],fa=arguments[1],V=arguments[2],aa=arguments[3]);Ma(aa,function(){var va;for(var ua=this.builder.getServiceTokens(),qa=0;qa < ua.length;++qa){va=ua[qa];if(va.name == ka && va.isMasterTokenBound() == fa && va.isUserIdTokenBound() == V){this.builder.deleteServiceToken(ka,fa,V,{result:function(){aa.result(!0);},error:function(Ea){aa.error(Ea);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var da,ka,fa,V,aa;if(2 == arguments.length){da=arguments[0];ka=da.name;fa=da.isMasterTokenBound();V=da.isUserIdTokenBound();aa=arguments[1];}else 4 == arguments.length && (ka=arguments[0],fa=arguments[1],V=arguments[2],aa=arguments[3]);Ma(aa,function(){var va;for(var ua=this.builder.getPeerServiceTokens(),qa=0;qa < ua.length;++qa){va=ua[qa];if(va.name == ka && va.isMasterTokenBound() == fa && va.isUserIdTokenBound() == V){this.builder.deletePeerServiceToken(ka,fa,V,{result:function(){aa.result(!0);},error:function(Ea){aa.error(Ea);}});return;}}return !1;},this);}});})();(function(){function ia(ca,da,ka,fa){Ma(fa,function(){var aa,ua,qa,va,Ea,wa;function V(){Ma(fa,function(){var ta;if(wa >= ka.length){if(Ea)throw Ea;throw new Pb(W.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(ka));}ta=ka[wa];qa != ta.keyExchangeScheme?(++wa,V()):va.getCryptoContext(ca,ta,ua,aa,{result:fa.result,error:function(X){Ma(fa,function(){if(!(X instanceof db))throw X;Ea=X;++wa;V();});}});});}aa=da.masterToken;ua=da.keyResponseData;if(!ua)return null;qa=ua.keyExchangeScheme;va=ca.getKeyExchangeFactory(qa);if(!va)throw new Pb(W.KEYX_FACTORY_NOT_FOUND,qa);wa=0;V();});}nf=ge.extend({init:function(ca,da,ka,fa,V,aa,ua){var qa;qa=this;eb(ua,function(){var ba;function va(){qa._ready=!0;qa._readyQueue.add(!0);}function Ea(ha,na){var Ia;try{Ia=na.masterToken;ha.getTokenFactory().isMasterTokenRevoked(ha,Ia,{result:function(Fa){Fa?(qa._errored=new Oc(Fa,Ia).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):wa(ha,na);},error:function(Fa){Fa instanceof db && (Fa.setEntity(na.masterToken),Fa.setUser(na.userIdToken),Fa.setUser(na.userAuthenticationData),Fa.setMessageId(na.messageId));qa._errored=Fa;va();}});}catch(Fa){Fa instanceof db && (Fa.setEntity(na.masterToken),Fa.setUser(na.userIdToken),Fa.setUser(na.userAuthenticationData),Fa.setMessageId(na.messageId));qa._errored=Fa;va();}}function wa(ha,na){var Ia,Fa;try{Ia=na.masterToken;Fa=na.userIdToken;Fa?ha.getTokenFactory().isUserIdTokenRevoked(ha,Ia,Fa,{result:function(Ra){Ra?(qa._errored=new MslUserIdTokenException(Ra,Fa).setEntity(Ia).setUser(Fa).setMessageId(na.messageId),va()):ta(ha,na);},error:function(Ra){Ra instanceof db && (Ra.setEntity(na.masterToken),Ra.setUser(na.userIdToken),Ra.setUser(na.userAuthenticationData),Ra.setMessageId(na.messageId));qa._errored=Ra;va();}}):ta(ha,na);}catch(Ra){Ra instanceof db && (Ra.setEntity(na.masterToken),Ra.setUser(na.userIdToken),Ra.setUser(na.userAuthenticationData),Ra.setMessageId(na.messageId));qa._errored=Ra;va();}}function ta(ha,na){var Ia;try{Ia=na.masterToken;Ia.isExpired()?na.isRenewable() && 0 != na.keyRequestData.length?ha.getTokenFactory().isMasterTokenRenewable(ha,Ia,{result:function(Fa){Fa?(qa._errored=new Ib(Fa,"Master token is expired and not renewable.").setEntity(Ia).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):X(ha,na);},error:function(Fa){Fa instanceof db && (Fa.setEntity(na.masterToken),Fa.setUser(na.userIdToken),Fa.setUser(na.userAuthenticationData),Fa.setMessageId(na.messageId));qa._errored=Fa;va();}}):(qa._errored=new Ib(W.MESSAGE_EXPIRED,JSON.stringify(na)).setEntity(Ia).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):X(ha,na);}catch(Fa){Fa instanceof db && (Fa.setEntity(na.masterToken),Fa.setUser(na.userIdToken),Fa.setUser(na.userAuthenticationData),Fa.setMessageId(na.messageId));qa._errored=Fa;va();}}function X(ha,na){var Ia,Fa;try{Ia=na.masterToken;Fa=na.nonReplayableId;"number" === typeof Fa?Ia?ha.getTokenFactory().acceptNonReplayableId(ha,Ia,Fa,{result:function(Ra){Ra || (qa._errored=new Ib(W.MESSAGE_REPLAYED,JSON.stringify(na)).setEntity(Ia).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId));va();},error:function(Ra){Ra instanceof db && (Ra.setEntity(Ia),Ra.setUser(na.userIdToken),Ra.setUser(na.userAuthenticationData),Ra.setMessageId(na.messageId));qa._errored=Ra;va();}}):(qa._errored=new Ib(W.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(na)).setEntity(na.entityAuthenticationData).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):va();}catch(Ra){Ra instanceof db && (Ra.setEntity(na.masterToken),Ra.setEntity(na.entityAuthenticationData),Ra.setUser(na.userIdToken),Ra.setUser(na.userAuthenticationData),Ra.setMessageId(na.messageId));qa._errored=Ra;va();}}ba={_source:{value:da,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_charset:{value:ka,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:aa,writable:!1,enumerable:!1,configurable:!1},_header:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new jd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);Qe(qa._source,aa,{result:function(ha){qa._json=ha;qa._jsonIndex=0;null === qa._json?(qa._errored=new yb(W.MESSAGE_DATA_MISSING),va()):Xe(ca,qa._json[qa._jsonIndex++],V,{result:function(na){var Ia;qa._header=na;if(qa._header instanceof Kc)(qa._keyxCryptoContext=null,qa._cryptoContext=null,va());else {Ia=qa._header;ia(ca,Ia,fa,{result:function(Fa){var Ra;try{qa._keyxCryptoContext=Fa;ca.isPeerToPeer() || !qa._keyxCryptoContext?qa._cryptoContext=Ia.cryptoContext:qa._cryptoContext=qa._keyxCryptoContext;try{Ra=Ia.masterToken;Ra && (ca.isPeerToPeer() || Ra.isVerified())?Ea(ca,Ia):X(ca,Ia);}catch(Ta){Ta instanceof db && (Ta.setEntity(Ia.masterToken),Ta.setUser(Ia.userIdToken),Ta.setUser(Ia.userAuthenticationData),Ta.setMessageId(Ia.messageId));qa._errored=Ta;va();}}catch(Ta){Ta instanceof db && (Ta.setEntity(Ia.masterToken),Ta.setEntity(Ia.entityAuthenticationData),Ta.setUser(Ia.userIdToken),Ta.setUser(Ia.userAuthenticationData),Ta.setMessageId(Ia.messageId));qa._errored=Ta;va();}},error:function(Fa){Fa instanceof db && (Fa.setEntity(Ia.masterToken),Fa.setEntity(Ia.entityAuthenticationData),Fa.setUser(Ia.userIdToken),Fa.setUser(Ia.userAuthenticationData),Fa.setMessageId(Ia.messageId));qa._errored=Fa;va();}});}},error:function(na){qa._errored=na;va();}});},timeout:function(){qa._timedout=!0;va();},error:function(ha){qa._errored=ha;va();}});return this;},qa);},nextData:function(ca,da){var ka;ka=this;eb(da,function(){var V;function fa(aa){eb(aa,function(){var ua;if(this._jsonIndex < this._json.length)return ua=this._json[this._jsonIndex++];Qe(this._source,this._timeout,{result:function(qa){qa && qa.length && 0 < qa.length?(qa.forEach(function(va){this._json.push(va);}),fa(aa)):(this._eom=!0,aa.result(null));},timeout:function(){aa.timeout();},error:function(qa){aa.error(qa);}});},ka);}V=this.getMessageHeader();if(!V)throw new vb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;fa({result:function(aa){eb(da,function(){if(!aa)return null;if("object" !== typeof aa)throw new yb(W.MESSAGE_FORMAT_ERROR);jf(aa,this._cryptoContext,{result:function(ua){eb(da,function(){var qa,va,Ea,wa;qa=V.masterToken;va=V.entityAuthenticationData;Ea=V.userIdToken;wa=V.getUserAuthenticationData;if(ua.messageId != V.messageId)throw new Ib(W.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + ua.messageId + " header mid " + V.messageId).setEntity(qa).setEntity(va).setUser(Ea).setUser(wa);if(ua.sequenceNumber != this._payloadSequenceNumber)throw new Ib(W.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + ua.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(qa).setEntity(va).setUser(Ea).setUser(wa);++this._payloadSequenceNumber;ua.isEndOfMessage() && (this._eom=!0);qa=ua.data;this._payloads.push(qa);this._payloadIndex=-1;return qa;},ka);},error:function(ua){ua instanceof SyntaxError && (ua=new yb(W.JSON_PARSE_ERROR,"payloadchunk",ua));da.error(ua);}});},ka);},timeout:function(){da.timeout();},error:function(aa){da.error(aa);}});},ka);},isReady:function(ca,da){var fa;function ka(){eb(da,function(){if(this._aborted)return !1;if(this._timedout)da.timeout();else {if(this._errored)throw this._errored;return !0;}},fa);}fa=this;eb(da,function(){this._ready?ka():this._readyQueue.poll(ca,{result:function(V){eb(da,function(){if(V === Ab)return !1;ka();},fa);},timeout:function(){da.timeout();},error:function(V){da.error(V);}});},fa);},getMessageHeader:function(){return this._header instanceof nd?this._header:null;},getErrorHeader:function(){return this._header instanceof Kc?this._header:null;},getIdentity:function(){var ca,da;ca=this.getMessageHeader();if(ca){da=ca.masterToken;return da?da.identity:ca.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var ca;ca=this.getMessageHeader();return ca?ca.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(ca){this._closeSource=ca;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(ca,da,ka){var V;function fa(){eb(ka,function(){var ua,qa,va,Ea;function aa(wa){eb(wa,function(){var ta,X,ba;if(qa && Ea >= qa.length)return qa.subarray(0,Ea);ta=-1;if(this._currentPayload){X=this._currentPayload.length - this._payloadOffset;if(!qa){ba=X;if(-1 != this._payloadIndex)for(var ha=this._payloadIndex;ha < this._payloads.length;++ha){ba+=this._payloads[ha].length;}0 < ba && (qa=new Uint8Array(ba));}X=Math.min(X,qa?qa.length - Ea:0);0 < X && (ta=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + X),qa.set(ta,va),ta=X,va+=X,this._payloadOffset+=X);}-1 != ta?(Ea+=ta,aa(wa)):this.nextData(da,{result:function(na){eb(wa,function(){if(this._aborted)return qa?qa.subarray(0,Ea):new Uint8Array(0);this._currentPayload=na;this._payloadOffset=0;if(this._currentPayload)aa(wa);else return 0 == Ea && 0 != ca?null:qa?qa.subarray(0,Ea):new Uint8Array(0);},V);},timeout:function(){wa.timeout(qa?qa.subarray(0,Ea):new Uint8Array(0));},error:function(na){eb(wa,function(){na instanceof db && (na=new Vb("Error reading the payload chunk.",na));if(0 < Ea)return (V._readException=na,qa.subarray(0,Ea));throw na;},V);}});},V);}if(this._aborted)return new Uint8Array(0);if(this._timedout)ka.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){ua=this._readException;this._readException=null;throw ua;}qa=-1 != ca?new Uint8Array(ca):Ab;va=0;Ea=0;aa(ka);}},V);}V=this;eb(ka,function(){if(-1 > ca)throw new RangeError("read requested with illegal length " + ca);this._ready?fa():this._readyQueue.poll(da,{result:function(aa){aa === Ab?ka.result(!1):fa();},timeout:function(){ka.timeout(new Uint8Array(0));},error:function(aa){ka.error(aa);}});},V);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});of=function(ca,da,ka,fa,V,aa,ua){new nf(ca,da,ka,fa,V,aa,ua);};})();(function(){pf=Ed.extend({init:function(ia,ca,da,ka,fa,V,aa){var ua;ua=this;eb(aa,function(){var va,Ea,wa;function qa(){ua._ready=!0;ua._readyQueue.add(!0);}va=me(ia.getMessageCapabilities(),ka.messageCapabilities);Ea=null;va && (Ea=Fe(va.compressionAlgorithms));va={_destination:{value:ca,writable:!1,enumerable:!1,configurable:!1},_charset:{value:da,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:va,writable:!1,enumerable:!1,configurable:!1},_header:{value:ka,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:Ea,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:fa,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new jd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,va);wa=Rb(JSON.stringify(ka),da);ca.write(wa,0,wa.length,V,{result:function(ta){try{ua._aborted?qa():ta < wa.length?(ua._timedout=!0,qa()):ca.flush(V,{result:function(X){ua._aborted || (ua._timedout=!X);qa();},timeout:function(){ua._timedout=!0;qa();},error:function(X){ua._errored=X;qa();}});}catch(X){ua._errored=X;qa();}},timeout:function(){ua._timedout=!0;qa();},error:function(ta){ua._errored=ta;qa();}});return this;},ua);},setCompressionAlgorithm:function(ia,ca,da){var fa;function ka(){fa.flush(ca,{result:function(V){eb(da,function(){if(!V)throw new Vb("flush() aborted");this._compressionAlgo=ia;return !0;},fa);},timeout:function(){da.timeout();},error:function(V){da.error(V);}});}fa=this;eb(da,function(){if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");if(this._compressionAlgo == ia)return !0;if(ia){if(!this._capabilities)return !1;for(var V=this._capabilities.compressionAlgorithms,aa=0;aa < V.length;++aa){if(V[aa] == ia){ka();return;}}return !1;}ka();},fa);},getMessageHeader:function(){return this._header instanceof nd?this._header:null;},getErrorMessage:function(){return this._header instanceof Kc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ia,ca){var da;da=this;eb(ca,function(){if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ia,{result:function(ka){eb(ca,function(){ka && (this._currentPayload=null);return ka;},da);},timeout:function(){ca.timeout();},error:function(ka){ca.error(ka);}});}},da);},flush:function(ia,ca){var ka;function da(){eb(ca,function(){var fa,V,va;if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;fa=this.getMessageHeader();if(!fa)return !0;V=0;this._currentPayload && this._currentPayload.forEach(function(Ea){V+=Ea.length;});for(var aa=new Uint8Array(V),ua=0,qa=0;this._currentPayload && qa < this._currentPayload.length;++qa){va=this._currentPayload[qa];aa.set(va,ua);ua+=va.length;}hf(this._payloadSequenceNumber,fa.messageId,this._closed,this._compressionAlgo,aa,this._cryptoContext,{result:function(Ea){eb(ca,function(){var wa;this._payloads.push(Ea);wa=Rb(JSON.stringify(Ea),this._charset);this._destination.write(wa,0,wa.length,ia,{result:function(ta){eb(ca,function(){if(this._aborted)return !1;ta < Ea.length?ca.timeout():this._destination.flush(ia,{result:function(X){eb(ca,function(){if(this._aborted)return !1;if(X)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);ca.timeout();},ka);},timeout:function(){ca.timeout();},error:function(X){X instanceof db && (X=new Vb("Error encoding payload chunk [sequence number " + ka._payloadSequenceNumber + "].",X));ca.error(X);}});},ka);},timeout:function(ta){ca.timeout();},error:function(ta){ta instanceof db && (ta=new Vb("Error encoding payload chunk [sequence number " + ka._payloadSequenceNumber + "].",ta));ca.error(ta);}});},ka);},error:function(Ea){Ea instanceof db && (Ea=new Vb("Error encoding payload chunk [sequence number " + ka._payloadSequenceNumber + "].",Ea));ca.error(Ea);}});}},ka);}ka=this;eb(ca,function(){this._ready?da():this._readyQueue.poll(ia,{result:function(fa){fa === Ab?ca.result(!1):da();},timeout:function(){ca.timeout();},error:function(fa){ca.error(fa);}});},ka);},write:function(ia,ca,da,ka,fa){eb(fa,function(){var V;if(this._aborted)return !1;if(this._timedout)fa.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Vb("Message output stream already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > da)throw new RangeError("Length cannot be negative.");if(ca + da > ia.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");V=ia.subarray(ca,ca + da);this._currentPayload.push(V);return V.length;}},this);}});Kd=function(ia,ca,da,ka,fa,V,aa){new pf(ia,ca,da,ka,fa,V,aa);};})();Vf=Bb.Class.create({sentHeader:function(ia){},receivedHeader:function(ia){}});Object.freeze({USERDATA_REAUTH:La.USERDATA_REAUTH,SSOTOKEN_REJECTED:La.SSOTOKEN_REJECTED});qf=Bb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ia,ca,da,ka){},getCustomer:function(){},getKeyRequestData:function(ia){},updateServiceTokens:function(ia,ca,da){},write:function(ia,ca,da){},getDebugContext:function(){}});Bb.Class.create({getInputStream:function(ia){},getOutputStream:function(ia){}});(function(){var ua,qa,va,Ea,wa,ta,X,ba,ha,na,Ia,Fa;function ia(Ra){return function(){Ra.abort();};}function ca(Ra,Ta){Object.defineProperties(this,{masterToken:{value:Ra,writable:!1,configurable:!1},ticket:{value:Ta,writable:!1,configurable:!1}});}function da(Ra,Ta){Object.defineProperties(this,{builder:{value:Ra,writable:!1,configurable:!1},msgCtx:{value:Ta,writable:!1,configurable:!1}});}function ka(Ra,Ta,ma){Object.defineProperties(this,{requestHeader:{value:Ra,writable:!1,configurable:!1},payloads:{value:Ta,writable:!1,configurable:!1},handshake:{value:ma,writable:!1,configurable:!1}});}function fa(Ra,Ta){Object.defineProperties(this,{requestHeader:{value:Ta.requestHeader,writable:!1,configurable:!1},payloads:{value:Ta.payloads,writable:!1,configurable:!1},handshake:{value:Ta.handshake,writable:!1,configurable:!1},response:{value:Ra,writable:!1,configurable:!1}});}function V(Ra){for(;Ra;){if(Ra instanceof $b)return !0;Ra=Ra instanceof db?Ra.cause:Ab;}return !1;}function aa(Ra,Ta,ma,za,Aa,Ja,Ca,Pa,Ga){lf(Ta,za,Aa,Ja,{result:function(Wa){ma && ma.sentHeader(Wa);Kd(Ta,Ca,Lb,Wa,null,null,Pa,{result:function(ab){Ra.setAbort(function(){ab.abort();});ab.close(Pa,{result:function(Ya){eb(Ga,function(){if(!Ya)throw new $b("sendError aborted.");return Ya;});},timeout:function(){Ga.timeout();},error:function(Ya){Ga.error(Ya);}});},timeout:function(){},error:function(ab){Ga.error(ab);}});},error:function(Wa){Ga.error(Wa);}});}ua=Ed.extend({close:function(Ra,Ta){Ta.result(!0);},write:function(Ra,Ta,ma,za,Aa){Ma(Aa,function(){return Math.min(Ra.length - Ta,ma);});},flush:function(Ra,Ta){Ta.result(!0);}});qa=Uf.extend({getUserMessage:function(Ra,Ta){return null;}});va=qf.extend({init:function(Ra){Object.defineProperties(this,{_appCtx:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Ra,Ta,ma,za){this._appCtx.getUserAuthData(Ra,Ta,ma,za);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Ra){this._appCtx.getKeyRequestData(Ra);},updateServiceTokens:function(Ra,Ta,ma){this._appCtx.updateServiceTokens(Ra,Ta,ma);},write:function(Ra,Ta,ma){this._appCtx.write(Ra,Ta,ma);},getDebugContext:function(){return this._appCtx.getDebugContext();}});Ea=va.extend({init:function za(Ta,ma){za.base.call(this,ma);Object.defineProperties(this,{_payloads:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ta,ma,za){var Ja;function Aa(Ca,Pa){var Ga;if(Ca == Ja._payloads.length)za.result(!0);else {Ga=Ja._payloads[Ca];Ta.setCompressionAlgorithm(Ga.compressionAlgo,ma,{result:function(Wa){Ta.write(Ga.data,0,Ga.data.length,ma,{result:function(ab){eb(za,function(){Ga.isEndOfMessage()?Aa(Ca + 1,Pa):Ta.flush(ma,{result:function(Ya){za.result(Ya);},timeout:function(){za.timeout();},error:function(Ya){za.error(Ya);}});},Ja);},timeout:function(ab){za.timeout(ab);},error:function(ab){za.error(ab);}});},timeout:function(){},error:function(Wa){za.error(Wa);}});}}Ja=this;Aa(0);}});wa=va.extend({init:function za(ma){za.base.call(this,ma);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(ma,za,Aa){Aa.result(!0);}});ta={};X=Bb.Class.create({init:function(ma){ma || (ma=new qa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(ma){this._filterFactory=ma;},getNewestMasterToken:function(ma,za,Aa,Ja){var Ca;Ca=this;eb(Ja,function(){var Pa,Ga,Wa,ab,Ya;Pa=za.getMslStore();Ga=Pa.getMasterToken();if(!Ga)return null;Wa=Ga.uniqueKey();ab=this._masterTokenLocks[Wa];ab || (ab=new Wd(),this._masterTokenLocks[Wa]=ab);Ya=ab.readLock(Aa,{result:function(jb){eb(Ja,function(){var mb;if(jb === Ab)throw new $b("getNewestMasterToken aborted.");mb=Pa.getMasterToken();if(Ga.equals(mb))return new ca(Ga,jb);ab.unlock(jb);ab.writeLock(Aa,{result:function(ob){eb(Ja,function(){if(ob === Ab)throw new $b("getNewestMasterToken aborted.");delete this._masterTokenLocks[Wa];ab.unlock(ob);return this.getNewestMasterToken(ma,za,Aa,Ja);},Ca);},timeout:function(){Ja.timeout();},error:function(ob){Ja.error(ob);}});},Ca);},timeout:function(){Ja.timeout();},error:function(jb){Ja.error(jb);}});ma.setAbort(function(){Ya && (ab.cancel(Ya),Ya=Ab);});},Ca);},deleteMasterToken:function(ma,za){var Aa;if(za){Aa=this;setTimeout(function(){var Ja,Ca;Ja=za.uniqueKey();Ca=Aa._masterTokenLocks[Ja];Ca || (Ca=new Wd(),Aa._masterTokenLocks[Ja]=Ca);Ca.writeLock(-1,{result:function(Pa){ma.getMslStore().removeCryptoContext(za);delete Aa._masterTokenLocks[Ja];Ca.unlock(Pa);},timeout:function(){throw new vb("Unexpected timeout received.");},error:function(Pa){throw Pa;}});},0);}},releaseMasterToken:function(ma){var za;if(ma && ma.masterToken){za=ma.masterToken.uniqueKey();za=this._masterTokenLocks[za];if(!za)throw new vb("Master token read/write lock does not exist when it should.");za.unlock(ma.ticket);}},updateOutgoingCryptoContexts:function(ma,za,Aa){var Ja;Ja=ma.getMslStore();!ma.isPeerToPeer() && Aa && (Ja.setCryptoContext(Aa.keyResponseData.masterToken,Aa.cryptoContext),this.deleteMasterToken(ma,za.masterToken));},updateIncomingCryptoContexts:function(ma,za,Aa){var Ja,Ca;Ja=Aa.getMessageHeader();if(Ja){Ca=ma.getMslStore();if(Ja=Ja.keyResponseData)(Ca.setCryptoContext(Ja.masterToken,Aa.getKeyExchangeCryptoContext()),this.deleteMasterToken(ma,za.masterToken));}},storeServiceTokens:function(ma,za,Aa,Ja){var Ga,Wa;ma=ma.getMslStore();for(var Ca=[],Pa=0;Pa < Ja.length;++Pa){Ga=Ja[Pa];if(!Ga.isBoundTo(za) || !za.isVerified()){Wa=Ga.data;Wa && 0 == Wa.length?ma.removeServiceTokens(Ga.name,Ga.isMasterTokenBound()?za:null,Ga.isUserIdTokenBound()?Aa:null):Ca.push(Ga);}}0 < Ca.length && ma.addServiceTokens(Ca);},buildRequest:function(ma,za,Aa,Ja,Ca){var Pa;Pa=this;this.getNewestMasterToken(ma,za,Ja,{result:function(Ga){Ma(Ca,function(){var Wa,ab,Ya;Wa=Ga && Ga.masterToken;if(Wa){ab=Aa.getUserId();Ya=za.getMslStore();ab=(ab=ab?Ya.getUserIdToken(ab):null) && ab.isBoundTo(Wa)?ab:null;}else ab=null;Tc(za,Wa,ab,null,{result:function(jb){Ma(Ca,function(){jb.setNonReplayable(Aa.isNonReplayable());return {builder:jb,tokenTicket:Ga};});},error:function(jb){Ma(Ca,function(){this.releaseMasterToken(Ga);jb instanceof db && (jb=new vb("User ID token not bound to master token despite internal check.",jb));throw jb;},Pa);}});},Pa);},timeout:function(){Ca.timeout();},error:function(Ga){Ca.error(Ga);}});},buildResponse:function(ma,za,Aa,Ja,Ca,Pa){var Ga;Ga=this;kf(za,Ja,{result:function(Wa){eb(Pa,function(){Wa.setNonReplayable(Aa.isNonReplayable());if(!za.isPeerToPeer() && !Ja.keyResponseData)return {builder:Wa,tokenTicket:null};this.getNewestMasterToken(ma,za,Ca,{result:function(ab){eb(Pa,function(){var Ya,jb,mb;Ya=ab && ab.masterToken;if(Ya){jb=Aa.getUserId();mb=za.getMslStore();jb=(jb=jb?mb.getUserIdToken(jb):null) && jb.isBoundTo(Ya)?jb:null;}else jb=null;Wa.setAuthTokens(Ya,jb);return {builder:Wa,tokenTicket:ab};},Ga);},timeout:function(){Pa.timeout();},error:function(ab){Pa.error(ab);}});},Ga);},error:function(Wa){Pa.error(Wa);}});},buildErrorResponse:function(ma,za,Aa,Ja,Ca,Pa,Ga){var Ya;function Wa(jb,mb){eb(Ga,function(){var ob,rb;ob=Sc(Ca.messageId);rb=new Ea(mb,Aa);Tc(za,null,null,ob,{result:function(sb){eb(Ga,function(){za.isPeerToPeer() && sb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new da(sb,rb),tokenTicket:null};},Ya);},error:function(sb){Ga.error(sb);}});},Ya);}function ab(jb,mb){Ya.getNewestMasterToken(ma,za,Pa,{result:function(ob){eb(Ga,function(){var rb,sb,zb;rb=ob && ob.masterToken;sb=Sc(Ca.messageId);zb=new Ea(mb,Aa);Tc(za,rb,null,sb,{result:function(xb){eb(Ga,function(){za.isPeerToPeer() && xb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);xb.setNonReplayable(zb.isNonReplayable());return {errorResult:new da(xb,zb),tokenTicket:ob};},Ya);},error:function(xb){Ga.error(xb);}});},Ya);},timeout:function(){Ga.timeout();},error:function(ob){Ga.error(ob);}});}Ya=this;eb(Ga,function(){var jb,mb,ob,rb;jb=Ja.requestHeader;mb=Ja.payloads;ob=Ca.errorCode;switch(ob){case La.ENTITYDATA_REAUTH:case La.ENTITY_REAUTH:za.getEntityAuthenticationData(ob,{result:function(sb){eb(Ga,function(){if(!sb)return null;Wa(jb,mb);},Ya);},error:function(sb){Ga.error(sb);}});break;case La.USERDATA_REAUTH:case La.SSOTOKEN_REJECTED:Aa.getUserAuthData(ob,!1,!0,{result:function(sb){eb(Ga,function(){if(!sb)return null;ab(jb,mb);},Ya);},error:function(sb){Ga.error(sb);}});break;case La.USER_REAUTH:ab(jb,mb);break;case La.KEYX_REQUIRED:ob=Sc(Ca.messageId);rb=new Ea(mb,Aa);Tc(za,null,null,ob,{result:function(sb){eb(Ga,function(){za.isPeerToPeer() && sb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);sb.setRenewable(!0);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new da(sb,rb),tokenTicket:null};},Ya);},error:function(sb){Ga.error(sb);}});break;case La.EXPIRED:this.getNewestMasterToken(ma,za,Pa,{result:function(sb){eb(Ga,function(){var zb,xb,t,b;zb=sb && sb.masterToken;xb=jb.userIdToken;t=Sc(Ca.messageId);b=new Ea(mb,Aa);Tc(za,zb,xb,t,{result:function(a){eb(Ga,function(){za.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);jb.masterToken.equals(zb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new da(a,b),tokenTicket:sb};},Ya);},error:function(a){Ga.error(a);}},Ya);},Ya);},timeout:function(){Ga.timeout();},error:function(sb){Ga.error(sb);}});break;case La.REPLAYED:this.getNewestMasterToken(ma,za,Pa,{result:function(sb){eb(Ga,function(){var zb,xb,t,b;zb=sb && sb.masterToken;xb=jb.userIdToken;t=Sc(Ca.messageId);b=new Ea(mb,Aa);Tc(za,zb,xb,t,{result:function(a){eb(Ga,function(){za.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);jb.masterToken.equals(zb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new da(a,b),tokenTicket:sb};},Ya);},error:function(a){Ga.error(a);}});},Ya);},timeout:function(){Ga.timeout();},error:function(sb){Ga.error(sb);}});break;default:return null;}},Ya);},cleanupContext:function(ma,za,Aa){switch(Aa.errorCode){case La.ENTITY_REAUTH:this.deleteMasterToken(ma,za.masterToken);break;case La.USER_REAUTH:(Aa=za.userIdToken,za.masterToken && Aa && ma.getMslStore().removeUserIdToken(Aa));}},send:function(ma,za,Aa,Ja,Ca,Pa,Ga){var ob;function Wa(rb,sb,zb){eb(Ga,function(){var xb;xb=Ca.getPeerUserIdToken();!za.isPeerToPeer() && !sb || za.isPeerToPeer() && !xb?(xb=Aa.getCustomer())?Ca.setCustomer(xb,{result:function(t){eb(Ga,function(){sb=Ca.getUserIdToken();ab(rb,sb,zb);},ob);},error:function(t){Ga.error(t);}}):ab(rb,sb,zb):ab(rb,sb,zb);},ob);}function ab(rb,sb,zb){eb(Ga,function(){var xb,t;xb=!zb && (!Aa.isEncrypted() || Ca.willEncryptPayloads()) && (!Aa.isIntegrityProtected() || Ca.willIntegrityProtectPayloads()) && (!Aa.isNonReplayable() || Ca.isNonReplayable() && rb);xb || Ca.setNonReplayable(!1);t=[];Ca.isRenewable() && (!rb || rb.isRenewable() || Aa.isNonReplayable())?Aa.getKeyRequestData({result:function(b){eb(Ga,function(){var c;for(var a=0;a < b.length;++a){c=b[a];t.push(c);Ca.addKeyRequestData(c);}Ya(rb,sb,xb,t);},ob);},error:function(b){Ga.error(b);}}):Ya(rb,sb,xb,t);},ob);}function Ya(rb,sb,zb,xb){eb(Ga,function(){var t;t=new mf(za,Aa,Ca);Aa.updateServiceTokens(t,!zb,{result:function(b){Ca.getHeader({result:function(a){eb(Ga,function(){var c,g;c=Aa.getDebugContext();c && c.sentHeader(a);c=Ca.getKeyExchangeData();this.updateOutgoingCryptoContexts(za,a,c);this.storeServiceTokens(za,rb,sb,a.serviceTokens);c=!za.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(ma.isAborted())throw new $b("send aborted.");g=null != this._filterFactory?this._filterFactory.getOutputStream(Ja):Ja;Kd(za,g,Lb,a,c,Pa,{result:function(l){ma.setAbort(function(){l.abort();});jb(l,a,zb);},timeout:function(){Ga.timeout();},error:function(l){Ga.error(l);}});},ob);},timeout:function(){Ga.timeout();},error:function(a){Ga.error(a);}});},error:function(b){Ga.error(b);}});},ob);}function jb(rb,sb,zb){var xb,t;if(zb)Aa.write(rb,Pa,{result:function(b){eb(Ga,function(){if(ma.isAborted())throw new $b("MessageOutputStream write aborted.");mb(rb,sb,zb);},ob);},timeout:function(){Ga.timeout();},error:function(b){Ga.error(b);}});else {xb=new ua();t=new cd();Kd(za,xb,Lb,sb,t,Pa,{result:function(b){Aa.write(b,Pa,{result:function(a){eb(Ga,function(){if(ma.isAborted())throw new $b("MessageOutputStream proxy write aborted.");b.close(Pa,{result:function(c){eb(Ga,function(){var g;if(!c)throw new $b("MessageOutputStream proxy close aborted.");g=b.getPayloads();mb(rb,sb,zb,g);},ob);},timeout:function(){Ga.timeout();},error:function(c){Ga.error(c);}});},ob);},timeout:function(){Ga.timeout();},error:function(a){Ga.error(a);}});},timeout:function(){Ga.timeout();},error:function(b){Ga.error(b);}});}}function mb(rb,sb,zb,xb){rb.close(Pa,{result:function(t){eb(Ga,function(){if(!t)throw new $b("MessageOutputStream close aborted.");xb || (xb=rb.getPayloads());return new ka(sb,xb,!zb);},ob);},timeout:function(){Ga.timeout();},error:function(t){Ga.error(t);}});}ob=this;eb(Ga,function(){var rb,sb,zb,xb;rb=Ca.getMasterToken();sb=Ca.getUserIdToken();zb=!1;if(Aa.getUserId()){xb=!sb;Aa.getUserAuthData(null,Ca.isRenewable(),xb,{result:function(t){eb(Ga,function(){t && (Ca.willEncryptHeader() && Ca.willIntegrityProtectHeader()?Ca.setUserAuthenticationData(t):zb=!0);Wa(rb,sb,zb);},ob);},error:function(t){Ga.error(t);}});}else Wa(rb,sb,zb);},ob);},receive:function(ma,za,Aa,Ja,Ca,Pa,Ga){var Wa;Wa=this;eb(Ga,function(){var ab,Ya,jb;if(ma.isAborted())throw new $b("receive aborted.");ab=[];Ca && (ab=Ca.keyRequestData.filter(function(){return !0;}));Ya=Aa.getCryptoContexts();jb=this._filterFactory?this._filterFactory.getInputStream(Ja):Ja;of(za,jb,Lb,ab,Ya,Pa,{result:function(mb){ma.setAbort(function(){mb.abort();});mb.isReady(Pa,{result:function(ob){eb(Ga,function(){var rb,sb,zb,xb;if(!ob)throw new $b("MessageInputStream aborted.");rb=mb.getMessageHeader();sb=mb.getErrorHeader();zb=Aa.getDebugContext();zb && zb.receivedHeader(rb?rb:sb);if(Ca && (zb=sb?sb.errorCode:null,rb || zb != La.FAIL && zb != La.TRANSIENT_FAILURE && zb != La.ENTITY_REAUTH && zb != La.ENTITYDATA_REAUTH)){zb=rb?rb.messageId:sb.messageId;xb=Sc(Ca.messageId);if(zb != xb)throw new Ib(W.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + xb + "; received " + zb);}za.getEntityAuthenticationData(null,{result:function(t){eb(Ga,function(){var b,a,c,g;b=t.getIdentity();if(rb){a=rb.entityAuthenticationData;c=rb.masterToken;a=c?rb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Ib(W.UNEXPECTED_MESSAGE_SENDER,a);Ca && this.updateIncomingCryptoContexts(za,Ca,mb);b=rb.keyResponseData;za.isPeerToPeer()?(b=b?b.masterToken:rb.peerMasterToken,c=rb.peerUserIdToken,a=rb.peerServiceTokens):(b=b?b.masterToken:rb.masterToken,c=rb.userIdToken,a=rb.serviceTokens);g=Aa.getUserId();g && c && !c.isVerified() && za.getMslStore().addUserIdToken(g,c);this.storeServiceTokens(za,b,c,a);}else if((a=sb.entityAuthenticationData.getIdentity(),b == a))throw new Ib(W.UNEXPECTED_MESSAGE_SENDER,a);return mb;},Wa);},error:Ga.error});},Wa);},timeout:function(){Ga.timeout();},error:function(ob){Ga.error(ob);}});},timeout:function(){Ga.timeout();},error:function(mb){Ga.error(mb);}});},Wa);},sendReceive:function(ma,za,Aa,Ja,Ca,Pa,Ga,Wa,ab){var jb;function Ya(mb,ob){eb(ab,function(){Pa.setRenewable(ob);this.send(ma,za,Aa,Ca,Pa,Ga,{result:function(rb){eb(ab,function(){var sb;sb=rb.requestHeader.keyRequestData;Wa || rb.handshake || !sb.isEmpty()?this.receive(ma,za,Aa,Ja,rb.requestHeader,Ga,{result:function(zb){eb(ab,function(){ob && this.releaseRenewalLock(za,mb,zb);return new fa(zb,rb);},jb);},timeout:function(){eb(ab,function(){ob && this.releaseRenewalLock(za,mb,null);ab.timeout();},jb);},error:function(zb){eb(ab,function(){ob && this.releaseRenewalLock(za,mb,null);throw zb;},jb);}}):eb(ab,function(){ob && this.releaseRenewalLock(za,mb,null);return new fa(null,rb);},jb);},jb);},timeout:function(){eb(ab,function(){ob && this.releaseRenewalLock(za,mb,null);ab.timeout();},jb);},error:function(rb){eb(ab,function(){ob && this.releaseRenewalLock(za,mb,null);throw rb;},jb);}});},jb);}jb=this;eb(ab,function(){var mb;mb=new jd();this.acquireRenewalLock(ma,za,Aa,mb,Pa,Ga,{result:function(ob){Ya(mb,ob);},timeout:function(){ab.timeout();},error:function(ob){ob instanceof $b?ab.result(null):ab.error(ob);}});},jb);},acquireRenewalLock:function(ma,za,Aa,Ja,Ca,Pa,Ga){var Ya;function Wa(jb,mb,ob){eb(Ga,function(){var zb,xb;if(ma.isAborted())throw new $b("acquireRenewalLock aborted.");for(var rb=null,sb=0;sb < this._renewingContexts.length;++sb){zb=this._renewingContexts[sb];if(zb.ctx === za){rb=zb.queue;break;}}if(!rb)return (this._renewingContexts.push({ctx:za,queue:Ja}),!0);xb=rb.poll(Pa,{result:function(t){eb(Ga,function(){var b;if(t === Ab)throw new $b("acquireRenewalLock aborted.");rb.add(t);if(t === ta || t.isExpired())Wa(t,mb,ob);else {if(ob && !mb || mb && !mb.isBoundTo(t)){b=za.getMslStore().getUserIdToken(ob);mb=b && b.isBoundTo(t)?b:null;}Ca.setAuthTokens(t,mb);Ca.isRenewable() && t.equals(jb)?Wa(t,mb,ob):Aa.isRequestingTokens() && !mb?Wa(t,mb,ob):ab(t,mb);}},Ya);},timeout:function(){},error:function(t){}});ma.setAbort(function(){xb && (rb.cancel(xb),xb=Ab);});},Ya);}function ab(jb,mb){eb(Ga,function(){var sb;if(ma.isAborted())throw new $b("acquireRenewalLock aborted.");if(!jb || jb.isRenewable() || !mb && Aa.getUserId() || mb && mb.isRenewable()){for(var ob=null,rb=0;rb < this._renewingContexts.length;++rb){sb=this._renewingContexts[rb];if(sb.ctx === za){ob=sb.queue;break;}}if(!ob)return (this._renewingContexts.push({ctx:za,queue:Ja}),!0);}return !1;},Ya);}Ya=this;eb(Ga,function(){var jb,mb,ob;jb=Ca.getMasterToken();mb=Ca.getUserIdToken();ob=Aa.getUserId();Aa.isEncrypted() && !Ca.willEncryptPayloads() || Aa.isIntegrityProtected() && !Ca.willIntegrityProtectPayloads() || Ca.isRenewable() || !jb && Aa.isNonReplayable() || jb && jb.isExpired() || !(mb || !ob || Ca.willEncryptHeader() && Ca.willIntegrityProtectHeader()) || Aa.isRequestingTokens() && (!jb || ob && !mb)?Wa(jb,mb,ob):ab(jb,mb);},Ya);},releaseRenewalLock:function(ma,za,Aa){var Ga;for(var Ja,Ca,Pa=0;Pa < this._renewingContexts.length;++Pa){Ga=this._renewingContexts[Pa];if(Ga.ctx === ma){Ja=Pa;Ca=Ga.queue;break;}}if(Ca !== za)throw new vb("Attempt to release renewal lock that is not owned by this queue.");Aa?(Aa=Aa.messageHeader)?(Ca=Aa.keyResponseData)?za.add(Ca.masterToken):(ma=ma.isPeerToPeer()?Aa.peerMasterToken:Aa.masterToken)?za.add(ma):za.add(ta):za.add(ta):za.add(ta);this._renewingContexts.splice(Ja,1);}});rf=Bb.Class.create({init:function(){var ma;ma={_impl:{value:new X(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ma);},setFilterFactory:function(ma){this._impl.setFilterFactory(ma);},shutdown:function(){this._shutdown=!0;},receive:function(ma,za,Aa,Ja,Ca,Pa){var Ga;if(this._shutdown)throw new db("MslControl is shutdown.");Ga=new ba(this._impl,ma,za,Aa,Ja,Ca);setTimeout(function(){Ga.call(Pa);},0);return ia(Ga);},respond:function(ma,za,Aa,Ja,Ca,Pa,Ga){var Wa;if(this._shutdown)throw new db("MslControl is shutdown.");Wa=new ha(this._impl,ma,za,Aa,Ja,Ca,Pa);setTimeout(function(){Wa.call(Ga);},0);return ia(Wa);},error:function Aa(ma,za,Aa,Ja,Ca,Pa,Ga){var Wa;if(this._shutdown)throw new db("MslControl is shutdown.");Wa=new na(this._impl,ma,za,Aa,Ja,Ca,Pa);setTimeout(function(){Wa.call(Ga);},0);return ia(Wa);},request:function(ma,za){var Aa,Ja,Ca,Pa,Ga,Wa;if(this._shutdown)throw new db("MslControl is shutdown.");if(5 == arguments.length){Ja=arguments[2];Ca=Aa=null;Pa=arguments[3];Ga=arguments[4];if(ma.isPeerToPeer()){Ga.error(new vb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ja=null,Aa=arguments[2],Ca=arguments[3],Pa=arguments[4],Ga=arguments[5],!ma.isPeerToPeer())){Ga.error(new vb("This method cannot be used in trusted network mode."));return;}Wa=new Fa(this._impl,ma,za,Ja,Aa,Ca,null,0,Pa);setTimeout(function(){Wa.call(Ga);},0);return ia(Wa);}});ba=Bb.Class.create({init:function(ma,za,Aa,Ja,Ca,Pa){Object.defineProperties(this,{_ctrl:{value:ma,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:za,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Pa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ma){this._abortFunc=ma;},call:function(ma){var Ca;function za(Pa){eb(ma,function(){var Ga;Ga=Pa.messageHeader;if(!Ga)return Pa;this.setAbort(function(){Pa.abort();});Pa.mark(Number.MAX_VALUE);Pa.read(1,Ca._timeout,{result:function(Wa){eb(ma,function(){if(Wa && 0 == Wa.length)return null;if(Wa)return (Pa.reset(),Pa);Aa(Pa);},Ca);},timeout:function(){ma.timeout();},error:function(Wa){eb(ma,function(){var ab,Ya,jb;if(V(Wa))return null;ab=Ga?Ga.messageId:null;if(Wa instanceof Vb){Ya=W.MSL_COMMS_FAILURE;jb=Wa;}else (Ya=W.INTERNAL_EXCEPTION,jb=new vb("Error peeking into the message payloads."));aa(this,this._ctx,this._msgCtx.getDebugContext(),ab,Ya,null,this._output,this._timeout,{result:function(mb){ma.error(jb);},timeout:function(){ma.timeout();},error:function(mb){eb(ma,function(){if(V(mb))return null;throw new kc("Error peeking into the message payloads.",mb,Wa);},Ca);}});},Ca);}});},Ca);}function Aa(Pa){eb(ma,function(){Pa.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Pa.messageHeader,this._timeout,{result:function(Ga){eb(ma,function(){var Wa,ab,Ya,jb,mb;Wa=Ga.builder;ab=Ga.tokenTicket;Ya=Pa.messageHeader;jb=new wa(this._msgCtx);if(!this._ctx.isPeerToPeer() || Ya.isEncrypting() || Ya.keyResponseData)Ja(Ya,Wa,jb,ab);else {mb=new Fa(this._ctrl,this._ctx,jb,null,this._input,this._output,Ga,1,this._timeout);this.setAbort(function(){mb.abort();});mb.call(ma);}},Ca);},timeout:function(){ma.timeout();},error:function(Ga){eb(ma,function(){var Wa,ab,Ya,jb;if(V(Ga))return null;if(Ga instanceof db){Wa=Ga.messageId;ab=Ga.error;Ya=Pa.messageHeader.messageCapabilities;Ya=this._ctrl.messageRegistry.getUserMessage(ab,Ya?Ya.languages:null);jb=Ga;}else (Wa=requestHeader?requestHeader.messageId:null,ab=W.INTERNAL_EXCEPTION,Ya=null,jb=new vb("Error creating an automatic handshake response.",Ga));aa(this,this._ctx,this._msgCtx.getDebugContext(),Wa,ab,Ya,this._output,this._timeout,{result:function(mb){ma.error(jb);},timeout:function(){ma.timeout();},error:function(mb){eb(ma,function(){if(V(mb))return null;throw new kc("Error creating an automatic handshake response.",mb,Ga);},Ca);}});},Ca);}});},Ca);}function Ja(Pa,Ga,Wa,ab){eb(ma,function(){Ga.setRenewable(!1);this._ctrl.send(this._ctx,Wa,this._output,Ga,this._timeout,{result:function(Ya){eb(ma,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);return null;},Ca);},timeout:function(){eb(ma,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);ma.timeout();},Ca);},error:function(Ya){eb(ma,function(){var jb,mb,ob,rb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);if(V(Ya))return null;if(Ya instanceof db){jb=Ya.messageId;mb=Ya.error;ob=Pa?Pa.messageCapabilities:null;ob=this._ctrl.messageRegistry.getUserMessage(mb,ob?ob.languages:null);rb=Ya;}else Ya instanceof Vb?(jb=Pa?Pa.messageId:null,mb=W.MSL_COMMS_FAILURE,ob=null,rb=Ya):(jb=Pa?Pa.messageId:null,mb=W.INTERNAL_EXCEPTION,ob=null,rb=new vb("Error sending an automatic handshake response.",Ya));aa(this,this._ctx,this._msgCtx.getDebugContext(),jb,mb,ob,this._output,this._timeout,{result:function(sb){ma.error(rb);},timeout:function(){ma.timeout();},error:function(sb){eb(ma,function(){if(V(sb))return null;throw new kc("Error sending an automatic handshake response.",sb,Ya);},Ca);}});},Ca);}});},Ca);}Ca=this;eb(ma,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Pa){za(Pa);},timeout:function(){ma.timeout();},error:function(Pa){eb(ma,function(){var Ga,Wa,ab,Ya;if(V(Pa))return null;if(Pa instanceof db){Ga=Pa.messageId;Wa=Pa.error;ab=this._ctrl.messageRegistry.getUserMessage(Wa,null);Ya=Pa;}else (Ga=null,Wa=W.INTERNAL_EXCEPTION,ab=null,Ya=new vb("Error receiving the message header.",Pa));aa(this,this._ctx,this._msgCtx.getDebugContext(),Ga,Wa,ab,this._output,this._timeout,{result:function(jb){ma.error(Ya);},timeout:function(){ma.timeout();},error:function(jb){eb(ma,function(){if(V(jb))return null;throw new kc("Error receiving the message header.",jb,Pa);},Ca);}});},Ca);}});},Ca);}});ha=Bb.Class.create({init:function(ma,za,Aa,Ja,Ca,Pa,Ga){Object.defineProperties(this,{_ctrl:{value:ma,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:za,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_request:{value:Pa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ma){this._abortFunc=ma;},trustedNetworkExecute:function(ma,za,Aa){var Ja;Ja=this;eb(Aa,function(){var Ca,Pa;if(12 < za + 1)return !1;if(Ca=this._msgCtx.isIntegrityProtected() && !ma.willIntegrityProtectHeader()?W.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !ma.willEncryptPayloads()?W.RESPONSE_REQUIRES_ENCRYPTION:null){Pa=dd(ma.getMessageId());aa(this,this._ctx,this._msgCtx.getDebugContext(),Pa,Ca,null,this._output,this._timeout,{result:function(Ga){Aa.result(!1);},timeout:function(){Aa.timeout();},error:function(Ga){eb(Aa,function(){if(V(Ga))return !1;throw new kc("Response requires encryption or integrity protection but cannot be protected: " + Ca,Ga,null);},Ja);}});}else !this._msgCtx.getCustomer() || ma.getMasterToken() || ma.getKeyExchangeData()?(ma.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,ma,this._timeout,{result:function(Ga){Aa.result(!0);},timeout:function(){Aa.timeout();},error:function(Ga){Aa.error(Ga);}})):(Pa=dd(ma.getMessageId()),aa(this,this._ctx,this._msgCtx.getDebugContext(),Pa,W.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ga){Aa.result(!1);},timeout:function(){Aa.timeout();},error:function(Ga){eb(Aa,function(){if(V(Ga))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Ga,null);},Ja);}}));},Ja);},peerToPeerExecute:function(ma,za,Aa,Ja){var Pa;function Ca(Ga){eb(Ja,function(){var Wa;Wa=Ga.response;Wa.close();Wa=Wa.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ga.requestHeader,Wa);this._ctrl.buildErrorResponse(this,this._ctx,ma,Ga,Wa,{result:function(ab){eb(Ja,function(){var Ya,jb;if(!ab)return !1;Ya=ab.errorResult;jb=ab.tokenTicket;this.peerToPeerExecute(Ya.msgCtx,Ya.builder,Aa,{result:function(mb){eb(Ja,function(){this._ctrl.releaseMasterToken(jb);return mb;},Pa);},timeout:function(){eb(Ja,function(){this._ctrl.releaseMasterToken(jb);Ja.timeout();},Pa);},error:function(mb){eb(Ja,function(){this._ctrl.releaseMasterToken(jb);throw mb;},Pa);}});},Pa);}});},Pa);}Pa=this;eb(Ja,function(){var Ga;if(12 < Aa + 2)return !1;if(null != ma.getCustomer() && null == za.getPeerMasterToken() && null == za.getKeyExchangeData()){Ga=dd(za.getMessageId());aa(this,this._ctx,ma.getDebugContext(),Ga,W.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Wa){Ja.result(!1);},timeout:function(){Ja.timeout();},error:function(Wa){eb(Ja,function(){if(V(Wa))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Wa,null);},Pa);}});}else this._ctrl.sendReceive(this._ctx,ma,this._input,this._output,za,this._timeout,!1,{result:function(Wa){eb(Ja,function(){var jb,mb,ob;function ab(){jb.read(32768,Pa._timeout,{result:function(rb){eb(Ja,function(){rb?ab():Ya();},Pa);},timeout:function(){Ja.timeout();},error:function(rb){Ja.error(rb);}});}function Ya(){eb(Ja,function(){var rb;rb=new Ea(Wa.payloads,ma);this._ctrl.buildResponse(this,this._ctx,rb,mb,this._timeout,{result:function(sb){eb(Ja,function(){var zb;zb=sb.tokenTicket;this.peerToPeerExecute(rb,sb.builder,Aa,{result:function(xb){eb(Ja,function(){this._ctrl.releaseMasterToken(zb);return xb;},Pa);},timeout:function(){eb(Ja,function(){this._ctrl.releaseMasterToken(zb);Ja.timeout();},Pa);},error:function(xb){eb(Ja,function(){this._ctrl.releaseMasterToken(zb);throw xb;},Pa);}});},Pa);},timeout:function(){Ja.timeout();},error:function(sb){Ja.error(sb);}});},Pa);}jb=Wa.response;Aa+=2;if(!jb)return !0;mb=jb.getMessageHeader();if(mb){ob=Wa.payloads;ob=0 < ob.length && 0 < ob[0].data.length;if(Wa.handshake && ob)ab();else return !0;}else Ca(Wa);},Pa);},timeout:function(){Ja.timeout();},error:function(Wa){Ja.error(Wa);}});},Pa);},call:function(ma){var za;za=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Aa){eb(ma,function(){var Ja,Ca;Ja=Aa.builder;Ca=Aa.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ja,3,{result:function(Pa){eb(ma,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);return Pa;},za);},timeout:function(){eb(ma,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);ma.timeout();},za);},error:function(Pa){eb(ma,function(){var Ga,Wa,ab,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);if(V(Pa))return !1;Ga=dd(Ja.getMessageId());if(Pa instanceof db){Wa=Pa.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Wa,ab?ab.languages:null);Ya=Pa;}else Pa instanceof Vb?(Wa=W.MSL_COMMS_FAILURE,ab=null,Ya=Pa):(Wa=W.INTERNAL_EXCEPTION,ab=null,Ya=new vb("Error sending the response.",Pa));aa(this,this._ctx,this._msgCtx.getDebugContext(),Ga,Wa,ab,this._output,this._timeout,{result:function(jb){ma.error(Ya);},timeout:function(){ma.timeout();},error:function(jb){eb(ma,function(){if(V(jb))return !1;throw new kc("Error sending the response.",jb,null);},za);}});},za);}}):this.trustedNetworkExecute(Ja,3,{result:function(Pa){eb(ma,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);return Pa;},za);},timeout:function(){eb(ma,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);ma.timeout();},za);},error:function(Pa){eb(ma,function(){var Ga,Wa,ab,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);if(V(Pa))return !1;Ga=dd(Ja.getMessageId());if(Pa instanceof db){Wa=Pa.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Wa,ab?ab.languages:null);Ya=Pa;}else Pa instanceof Vb?(Wa=W.MSL_COMMS_FAILURE,ab=null,Ya=Pa):(Wa=W.INTERNAL_EXCEPTION,ab=null,Ya=new vb("Error sending the response.",Pa));aa(this,this._ctx,this._msgCtx.getDebugContext(),Ga,Wa,ab,this._output,this._timeout,{result:function(jb){ma.error(Ya);},timeout:function(){ma.timeout();},error:function(jb){eb(ma,function(){if(V(jb))return !1;throw new kc("Error sending the response.",jb,null);},za);}});},za);}});},za);},timeout:function(){ma.timeout();},error:function(Aa){eb(ma,function(){var Ja,Ca,Pa,Ga;if(V(Aa))return !1;if(Aa instanceof db){Ja=Aa.messageId;Ca=Aa.error;Pa=this._request.messageCapabilities;Pa=this._ctrl.messageRegistry.getUserMessage(Ca,Pa?Pa.languages:null);Ga=Aa;}else (Ja=null,Ca=W.INTERNAL_EXCEPTION,Pa=null,Ga=new vb("Error building the response.",Aa));aa(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Ca,Pa,this._output,this._timeout,{result:function(Wa){ma.error(Ga);},timeout:function(){ma.timeout();},error:function(Wa){eb(ma,function(){if(V(Wa))return null;throw new kc("Error building the response.",Wa,Aa);},za);}});},za);}});}});na=Bb.Class.create({init:function(ma,za,Aa,Ja,Ca,Pa,Ga){Object.defineProperties(this,{_ctrl:{value:ma,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:za,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Pa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ma){this._abortFunc=ma;},call:function(ma){var za;za=this;eb(ma,function(){var Aa,Ja;if(this._appError == ENTITY_REJECTED)Aa=this._request.masterToken?W.MASTERTOKEN_REJECTED_BY_APP:W.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Aa=this._request.userIdToken?W.USERIDTOKEN_REJECTED_BY_APP:W.USER_REJECTED_BY_APP;else throw new vb("Unhandled application error " + this._appError + ".");Ja=this._request.messageCapabilities;Ja=this._ctrl.messageRegistry.getUserMessage(Aa,Ja?Ja.languages:null);aa(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Aa,Ja,this._output,this._timeout,{result:function(Ca){ma.result(Ca);},timeout:ma.timeout,error:function(Ca){eb(ma,function(){if(V(Ca))return !1;if(Ca instanceof db)throw Ca;throw new vb("Error building the error response.",Ca);},za);}});},za);}});Ia={result:function(){},timeout:function(){},error:function(){}};Fa=Bb.Class.create({init:function(ma,za,Aa,Ja,Ca,Pa,Ga,Wa,ab){var Ya;if(Ga){Ya=Ga.builder;Ga=Ga.tokenTicket;}else Ga=Ya=null;Object.defineProperties(this,{_ctrl:{value:ma,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:za,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ca,writable:!0,enumerable:!1,configurable:!1},_output:{value:Pa,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Ya,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ga,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ab,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Wa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ma){this._abortFunc=ma;},execute:function(ma,za,Aa,Ja,Ca){var Wa;function Pa(ab){function Ya(jb){eb(Ca,function(){var mb;mb=ab.response;return jb?jb:mb;},Wa);}eb(Ca,function(){var jb,mb;jb=ab.response;jb.close();mb=jb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,ab.requestHeader,mb);this._ctrl.buildErrorResponse(this,this._ctx,ma,ab,mb,Aa,{result:function(ob){eb(Ca,function(){var rb,sb,zb,xb;if(!ob)return jb;rb=ob.errorResult;sb=ob.tokenTicket;zb=rb.builder;rb=rb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(rb,zb,this._timeout,Ja,{result:function(t){eb(Ca,function(){this._ctrl.releaseMasterToken(sb);Ya(t);},Wa);},timeout:function(){eb(Ca,function(){this._ctrl.releaseMasterToken(sb);Ca.timeout();},Wa);},error:function(t){eb(Ca,function(){this._ctrl.releaseMasterToken(sb);Ca.error(t);},Wa);}});else {this._openedStreams && (this._input.close(),this._output.close(Aa,Ia));xb=new Fa(this._ctrl,this._ctx,rb,this._remoteEntity,null,null,{builder:zb,tokenTicket:sb},Ja,this._timeout);this.setAbort(function(){xb.abort();});xb.call({result:function(t){Ya(t);},timeout:function(){Ca.timeout();},error:function(t){Ca.error(t);}});}},Wa);},timeout:function(){Ca.timeout();},error:function(ob){Ca.error(ob);}});},Wa);}function Ga(ab){eb(Ca,function(){var mb,ob,rb,sb,zb;function Ya(){mb.read(32768,Wa._timeout,{result:function(xb){xb?Ya():jb();},timeout:function(){Ca.timeout();},error:function(xb){Ca.error(xb);}});}function jb(){eb(Ca,function(){var xb;xb=new Ea(ab.payloads,ma);this._ctrl.buildResponse(this,this._ctx,ma,ob,Aa,{result:function(t){eb(Ca,function(){var b;b=t.tokenTicket;this.execute(xb,t.builder,this._timeout,Ja,{result:function(a){eb(Ca,function(){this._ctrl.releaseMasterToken(b);return a;},Wa);},timeout:function(){eb(Ca,function(){this._ctrl.releaseMasterToken(b);Ca.timeout();},Wa);},error:function(a){eb(Ca,function(){this._ctrl.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Ca.timeout();},error:function(t){Ca.error(t);}});},Wa);}mb=ab.response;ob=mb.getMessageHeader();rb=ab.payloads;rb=0 < rb.length && 0 < rb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!ab.handshake || !rb)return mb;this._openedStreams && (this._input.close(),this._output.close(Aa,Ia));sb=new Ea(ab.payloads,ma);this._ctrl.buildResponse(this,this._ctx,ma,ob,Aa,{result:function(xb){eb(Ca,function(){var t;t=new Fa(this._ctrl,this._ctx,sb,this._remoteEntity,null,null,xb,Ja,this._timeout);this.setAbort(function(){t.abort();});t.call(Ca);},Wa);},timeout:function(){Ca.timeout();},error:function(xb){Ca.error(xb);}});}else if(ab.handshake && rb)Ya();else if(0 < ob.keyRequestData.length){zb=new wa(ma);this._ctrl.buildResponse(this,this._ctx,zb,ob,Aa,{result:function(xb){eb(Ca,function(){var t,b;t=xb.builder;b=xb.tokenTicket;mb.mark();mb.read(1,this._timeout,{result:function(a){eb(Ca,function(){function c(){mb.read(32768,Wa._timeout,{result:function(l){l?c():g();},timeout:function(){Ca.timeout();},error:function(l){Ca.error(l);}});}function g(){Wa.execute(zb,t,Wa._timeout,Ja,{result:function(l){eb(Ca,function(){this._ctrl.releaseMasterToken(b);return l;},Wa);},timeout:function(){eb(Ca,function(){this._ctrl.releaseMasterToken(b);Ca.timeout();},Wa);},error:function(l){eb(Ca,function(){this._ctrl.releaseMasterToken(b);throw l;},Wa);}});}if(a){if((mb.reset(),12 >= Ja + 1))(t.setRenewable(!1),this._ctrl.send(this,this._ctx,zb,this._output,t,this._timeout,{result:function(l){eb(Ca,function(){this.releaseMasterToken(b);return mb;},Wa);},timeout:function(){Ca.timeout();},error:function(l){Ca.error(l);}}));else return (this.releaseMasterToken(b),mb);}else c();},Wa);},timeout:function(){eb(Ca,function(){this.releaseMasterToken(b);Ca.timeout();},Wa);},error:function(a){eb(Ca,function(){this.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Ca.timeout();},error:function(xb){Ca.error(xb);}});}},Wa);}Wa=this;eb(Ca,function(){if(12 < Ja + 2)return null;this._ctrl.sendReceive(this,this._ctx,ma,this._input,this._output,za,Aa,!0,{result:function(ab){eb(Ca,function(){var Ya;if(!ab)return null;Ya=ab.response;Ja+=2;Ya.getMessageHeader()?Ga(ab):Pa(ab);},Wa);},timeout:function(){Ca.timeout();},error:function(ab){Ca.error(ab);}});},Wa);},call:function(ma){var Aa;function za(Ja,Ca,Pa){eb(ma,function(){this.execute(this._msgCtx,Ja,Pa,this._msgCount,{result:function(Ga){eb(ma,function(){this._ctrl.releaseMasterToken(Ca);this._openedStreams && this._output.close(Pa,Ia);Ga && Ga.closeSource(this._openedStreams);return Ga;},Aa);},timeout:function(){eb(ma,function(){this._ctrl.releaseMasterToken(Ca);this._openedStreams && (this._output.close(Pa,Ia),this._input.close());ma.timeout();},Aa);},error:function(Ga){eb(ma,function(){this._ctrl.releaseMasterToken(Ca);this._openedStreams && (this._output.close(Pa,Ia),this._input.close());if(V(Ga))return null;throw Ga;},Aa);}});},Aa);}Aa=this;eb(ma,function(){var Ja,Ca,Pa;Ja=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Ca=Date.now();Pa=this._remoteEntity.openConnection();this._output=Pa.output;this._input=Pa.input;-1 != Ja && (Ja=this._timeout - (Date.now() - Ca));this._openedStreams=!0;}catch(Ga){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ia);this._input && this._input.close();if(V(Ga))return null;throw Ga;}this._builder?za(this._builder,this._tokenTicket,Ja):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ga){eb(ma,function(){za(Ga.builder,Ga.tokenTicket,Ja);},Aa);},timeout:function(){eb(ma,function(){this._openedStreams && (this._output.close(this._timeout,Ia),this._input.close());ma.timeout();},Aa);},error:function(Ga){eb(ma,function(){this._openedStreams && (this._output.close(this._timeout,Ia),this._input.close());if(V(Ga))return null;throw Ga;},Aa);}});},Aa);}});})();(function(){pe=Bb.Class.create({init:function(ia){Object.defineProperties(this,{id:{value:ia,writable:!1,configurable:!1}});},toJSON:function(){var ia;ia={};ia.id=this.id;return ia;},equals:function(ia){return this === ia?!0:ia instanceof pe?this.id == ia.id:!1;},uniqueKey:function(){return this.id;}});sf=function(ia){var ca;ca=ia.id;if(!ca)throw new yb(W.JSON_PARSE_ERROR,JSON.stringify(ia));return new pe(ca);};})();Bb.Class.create({isNewestMasterToken:function(ia,ca,da){},isMasterTokenRevoked:function(ia,ca){},acceptNonReplayableId:function(ia,ca,da,ka){},createMasterToken:function(ia,ca,da,ka,fa){},isMasterTokenRenewable:function(ia,ca,da){},renewMasterToken:function(ia,ca,da,ka,fa){},isUserIdTokenRevoked:function(ia,ca,da,ka){},createUserIdToken:function(ia,ca,da,ka){},renewUserIdToken:function(ia,ca,da,ka){}});(function(){function ia(ca,da,ka,fa){this.sessiondata=ca;this.tokendata=da;this.signature=ka;this.verified=fa;}ic=Bb.Class.create({init:function(ca,da,ka,fa,V,aa,ua,qa,va,Ea,wa){var ta;ta=this;Ma(wa,function(){var X,ba,ha,na,Ia;if(ka.getTime() < da.getTime())throw new vb("Cannot construct a master token that expires before its renewal window opens.");if(0 > fa || fa > Mb)throw new vb("Sequence number " + fa + " is outside the valid range.");if(0 > V || V > Mb)throw new vb("Serial number " + V + " is outside the valid range.");X=Math.floor(da.getTime() / 1E3);ba=Math.floor(ka.getTime() / 1E3);if(Ea)ha=Ea.sessiondata;else {na={};aa && (na.issuerdata=aa);na.identity=ua;na.encryptionkey=Db(qa.toByteArray());na.hmackey=Db(va.toByteArray());ha=Rb(JSON.stringify(na),Lb);}if(Ea)return (Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:X,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ba,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:fa,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:aa,writable:!1,configurable:!1},identity:{value:ua,writable:!1,configurable:!1},encryptionKey:{value:qa,writable:!1,configurable:!1},hmacKey:{value:va,writable:!1,configurable:!1},sessiondata:{value:ha,writable:!1,enumerable:!1,configurable:!1},verified:{value:Ea.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ea.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ea.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ia=ca.getMslCryptoContext();Ia.encrypt(ha,{result:function(Fa){Ma(wa,function(){var Ra,Ta;Ra={};Ra.renewalwindow=X;Ra.expiration=ba;Ra.sequencenumber=fa;Ra.serialnumber=V;Ra.sessiondata=Db(Fa);Ta=Rb(JSON.stringify(Ra),Lb);Ia.sign(Ta,{result:function(ma){Ma(wa,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:X,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ba,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:fa,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:V,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:aa,writable:!1,configurable:!1},identity:{value:ua,writable:!1,configurable:!1},encryptionKey:{value:qa,writable:!1,configurable:!1},hmacKey:{value:va,writable:!1,configurable:!1},sessiondata:{value:ha,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:ma,writable:!1,enumerable:!1,configurable:!1}});return this;},ta);},error:function(ma){wa.error(ma);}});},ta);},error:function(Fa){wa.error(Fa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(ca){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(ca){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(ca){var da;if(this.sequenceNumber == ca.sequenceNumber)return this.expiration > ca.expiration;if(this.sequenceNumber > ca.sequenceNumber){da=this.sequenceNumber - Mb + 127;return ca.sequenceNumber >= da;}da=ca.sequenceNumber - Mb + 127;return this.sequenceNumber < da;},toJSON:function(){var ca;ca={};ca.tokendata=Db(this.tokendata);ca.signature=Db(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof ic?this.serialNumber == ca.serialNumber && this.sequenceNumber == ca.sequenceNumber && this.expiration.getTime() == ca.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Qc=function(ca,da,ka){Ma(ka,function(){var fa,V,aa,ua,qa;fa=ca.getMslCryptoContext();V=da.tokendata;aa=da.signature;if("string" !== typeof V || "string" !== typeof aa)throw new yb(W.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(da));try{ua=Gb(V);}catch(va){throw new db(W.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(da),va);}if(!ua || 0 == ua.length)throw new yb(W.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(da));try{qa=Gb(aa);}catch(va){throw new db(W.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(da),va);}fa.verify(ua,qa,{result:function(va){Ma(ka,function(){var Ea,wa,ta,X,ba,ha,na,Ia,Fa,Ra;Ea=Tb(ua,Lb);try{wa=JSON.parse(Ea);ta=parseInt(wa.renewalwindow);X=parseInt(wa.expiration);ba=parseInt(wa.sequencenumber);ha=parseInt(wa.serialnumber);na=wa.sessiondata;}catch(Ta){if(Ta instanceof SyntaxError)throw new yb(W.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ea,Ta);throw Ta;}if(!ta || ta != ta || !X || X != X || "number" !== typeof ba || ba != ba || "number" !== typeof ha || ha != ha || "string" !== typeof na)throw new yb(W.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ea);if(X < ta)throw new db(W.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Ea);if(0 > ba || ba > Mb)throw new db(W.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ea);if(0 > ha || ha > Mb)throw new db(W.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ea);Ia=new Date(1E3 * ta);Fa=new Date(1E3 * X);try{Ra=Gb(na);}catch(Ta){throw new db(W.MASTERTOKEN_SESSIONDATA_INVALID,na,Ta);}if(!Ra || 0 == Ra.length)throw new db(W.MASTERTOKEN_SESSIONDATA_MISSING,na);va?fa.decrypt(Ra,{result:function(Ta){Ma(ka,function(){var ma,za,Aa,Ja,Ca,Pa;ma=Tb(Ta,Lb);try{za=JSON.parse(ma);Aa=za.issuerdata;Ja=za.identity;Ca=za.encryptionkey;Pa=za.hmackey;}catch(Ga){if(Ga instanceof SyntaxError)throw new yb(W.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ma,Ga);throw Ga;}if(Aa && "object" !== typeof Aa || !Ja || "string" !== typeof Ca || "string" !== typeof Pa)throw new yb(W.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ma);zc(Ca,rc,Hc,{result:function(Ga){zc(Pa,sc,Pc,{result:function(Wa){Ma(ka,function(){var ab;ab=new ia(Ta,ua,qa,va);new ic(ca,Ia,Fa,ba,ha,Aa,Ja,Ga,Wa,ab,ka);});},error:function(Wa){ka.error(new ub(W.MASTERTOKEN_KEY_CREATION_ERROR,Wa));}});},error:function(Ga){ka.error(new ub(W.MASTERTOKEN_KEY_CREATION_ERROR,Ga));}});});},error:function(Ta){ka.error(Ta);}}):(ta=new ia(null,ua,qa,va),new ic(ca,Ia,Fa,ba,ha,null,null,null,null,ta,ka));});},error:function(va){ka.error(va);}});});};})();(function(){function ia(ca,da,ka){this.tokendata=ca;this.signature=da;this.verified=ka;}ad=Bb.Class.create({init:function(ca,da,ka,fa,V,aa,ua,qa,va){var Ea;Ea=this;Ma(va,function(){var wa,ta,X,ba,ha,na,Ia;if(ka.getTime() < da.getTime())throw new vb("Cannot construct a user ID token that expires before its renewal window opens.");if(!fa)throw new vb("Cannot construct a user ID token without a master token.");if(0 > V || V > Mb)throw new vb("Serial number " + V + " is outside the valid range.");wa=Math.floor(da.getTime() / 1E3);ta=Math.floor(ka.getTime() / 1E3);X=fa.serialNumber;if(qa){ba=qa.tokendata;ha=qa.signature;na=qa.verified;X=fa.serialNumber;Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:wa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ta,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:X,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:aa,writable:!1,configurable:!1},customer:{value:ua,writable:!1,configurable:!1},verified:{value:na,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ba,writable:!1,enumerable:!1,configurable:!1},signature:{value:ha,writable:!1,enumerable:!1,configurable:!1}});return this;}ba={};aa && (ba.issuerdata=aa);ba.identity=ua;ba=Rb(JSON.stringify(ba),Lb);Ia=ca.getMslCryptoContext();Ia.encrypt(ba,{result:function(Fa){Ma(va,function(){var Ra,Ta;Ra={};Ra.renewalwindow=wa;Ra.expiration=ta;Ra.mtserialnumber=X;Ra.serialnumber=V;Ra.userdata=Db(Fa);Ta=Rb(JSON.stringify(Ra),Lb);Ia.sign(Ta,{result:function(ma){Ma(va,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:wa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ta,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:fa.serialNumber,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:aa,writable:!1,configurable:!1},customer:{value:ua,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:ma,writable:!1,enumerable:!1,configurable:!1}});return this;},Ea);},error:function(ma){Ma(va,function(){ma instanceof db && ma.setEntity(fa);throw ma;},Ea);}});},Ea);},error:function(Fa){Ma(va,function(){Fa instanceof db && Fa.setEntity(fa);throw Fa;},Ea);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(ca){return ca && ca.serialNumber == this.mtSerialNumber;},toJSON:function(){var ca;ca={};ca.tokendata=Db(this.tokendata);ca.signature=Db(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof ad?this.serialNumber == ca.serialNumber && this.mtSerialNumber == ca.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});Rc=function(ca,da,ka,fa){Ma(fa,function(){var V,aa,ua,qa,va;V=ca.getMslCryptoContext();aa=da.tokendata;ua=da.signature;if("string" !== typeof aa || "string" !== typeof ua)throw new yb(W.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(da)).setEntity(ka);try{qa=Gb(aa);}catch(Ea){throw new db(W.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(da),Ea).setEntity(ka);}if(!qa || 0 == qa.length)throw new yb(W.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(da)).setEntity(ka);try{va=Gb(ua);}catch(Ea){throw new db(W.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(da),Ea).setEntity(ka);}V.verify(qa,va,{result:function(Ea){Ma(fa,function(){var wa,ta,X,ba,ha,na,Ia,Fa,Ra,Ta;wa=Tb(qa,Lb);try{ta=JSON.parse(wa);X=parseInt(ta.renewalwindow);ba=parseInt(ta.expiration);ha=parseInt(ta.mtserialnumber);na=parseInt(ta.serialnumber);Ia=ta.userdata;}catch(ma){if(ma instanceof SyntaxError)throw new yb(W.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + wa,ma).setEntity(ka);throw ma;}if(!X || X != X || !ba || ba != ba || "number" !== typeof ha || ha != ha || "number" !== typeof na || na != na || "string" !== typeof Ia)throw new yb(W.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + wa).setEntity(ka);if(ba < X)throw new db(W.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + wa).setEntity(ka);if(0 > ha || ha > Mb)throw new db(W.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + wa).setEntity(ka);if(0 > na || na > Mb)throw new db(W.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + wa).setEntity(ka);Fa=new Date(1E3 * X);Ra=new Date(1E3 * ba);if(!ka || ha != ka.serialNumber)throw new db(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ha + "; mt " + JSON.stringify(ka)).setEntity(ka);try{Ta=Gb(Ia);}catch(ma){throw new db(W.USERIDTOKEN_USERDATA_INVALID,Ia,ma).setEntity(ka);}if(!Ta || 0 == Ta.length)throw new db(W.USERIDTOKEN_USERDATA_MISSING,Ia).setEntity(ka);Ea?V.decrypt(Ta,{result:function(ma){Ma(fa,function(){var za,Aa,Ja,Ca,Pa;za=Tb(ma,Lb);try{Aa=JSON.parse(za);Ja=Aa.issuerdata;Ca=Aa.identity;}catch(Ga){if(Ga instanceof SyntaxError)throw new yb(W.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + za).setEntity(ka);throw Ga;}if(Ja && "object" !== typeof Ja || "object" !== typeof Ca)throw new yb(W.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + za).setEntity(ka);try{Pa=sf(Ca);}catch(Ga){throw new db(W.USERIDTOKEN_IDENTITY_INVALID,"userdata " + za,Ga).setEntity(ka);}Ca=new ia(qa,va,Ea);new ad(ca,Fa,Ra,ka,na,Ja,Pa,Ca,fa);});},error:function(ma){Ma(fa,function(){ma instanceof db && ma.setEntity(ka);throw ma;});}}):(X=new ia(qa,va,Ea),new ad(ca,Fa,Ra,ka,na,null,null,X,fa));});},error:function(Ea){Ma(fa,function(){Ea instanceof db && Ea.setEntity(ka);throw Ea;});}});});};})();(function(){function ia(da,ka){var fa,V,aa;fa=da.tokendata;if("string" !== typeof fa)throw new yb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(da));try{V=Gb(fa);}catch(ua){throw new db(W.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(da),ua);}if(!V || 0 == V.length)throw new yb(W.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(da));try{aa=JSON.parse(Tb(V,Lb)).name;}catch(ua){if(ua instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(da),ua);throw ua;}if(!aa)throw new yb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(da));return ka[aa]?ka[aa]:ka[""];}function ca(da,ka,fa){this.tokendata=da;this.signature=ka;this.verified=fa;}Jc=Bb.Class.create({init:function(da,ka,fa,V,aa,ua,qa,va,Ea,wa){var ta;ta=this;Ma(wa,function(){var X,ba,ha,na,Ia;if(V && aa && !aa.isBoundTo(V))throw new vb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");X=V?V.serialNumber:-1;ba=aa?aa.serialNumber:-1;if(Ea)return (Ia=Ea.tokendata,Object.defineProperties(this,{ctx:{value:da,writable:!1,enumerable:!1,configurable:!1},name:{value:ka,writable:!1,configurable:!1},mtSerialNumber:{value:X,writable:!1,configurable:!1},uitSerialNumber:{value:ba,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:ua,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:qa,writable:!1,configurable:!1},verified:{value:Ea.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ea.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(qa){ha=oe(qa,fa);ha.length < fa.length || (qa=null,ha=fa);}else (qa=null,ha=fa);na={};na.name=ka;-1 != X && (na.mtserialnumber=X);-1 != ba && (na.uitserialnumber=ba);na.encrypted=ua;qa && (na.compressionalgo=qa);if(ua && 0 < ha.length)va.encrypt(ha,{result:function(Fa){Ma(wa,function(){var Ra;na.servicedata=Db(Fa);Ra=Rb(JSON.stringify(na),Lb);va.sign(Ra,{result:function(Ta){Ma(wa,function(){Object.defineProperties(this,{ctx:{value:da,writable:!1,enumerable:!1,configurable:!1},name:{value:ka,writable:!1,configurable:!1},mtSerialNumber:{value:X,writable:!1,configurable:!1},uitSerialNumber:{value:ba,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:ua,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:qa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});return this;},ta);},error:function(Ta){Ma(wa,function(){Ta instanceof db && (Ta.setEntity(V),Ta.setUser(aa));throw Ta;});}});},ta);},error:function(Fa){Ma(wa,function(){Fa instanceof db && (Fa.setEntity(V),Fa.setUser(aa));throw Fa;});}});else {na.servicedata=Db(ha);Ia=Rb(JSON.stringify(na),Lb);va.sign(Ia,{result:function(Fa){Ma(wa,function(){Object.defineProperties(this,{ctx:{value:da,writable:!1,enumerable:!1,configurable:!1},name:{value:ka,writable:!1,configurable:!1},mtSerialNumber:{value:X,writable:!1,configurable:!1},uitSerialNumber:{value:ba,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:ua,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:qa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:Fa,writable:!1,enumerable:!1,configurable:!1}});return this;},ta);},error:function(Fa){Ma(wa,function(){Fa instanceof db && (Fa.setEntity(V),Fa.setUser(aa));throw Fa;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(da){return da?da instanceof ic?da.serialNumber == this.mtSerialNumber:da instanceof ad?da.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var da;da={};da.tokendata=Db(this.tokendata);da.signature=Db(this.signature);return da;},equals:function(da){return this === da?!0:da instanceof Jc?this.name == da.name && this.mtSerialNumber == da.mtSerialNumber && this.uitSerialNumber == da.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});Dc=function(da,ka,fa,V,aa,ua,qa,va,Ea){new Jc(da,ka,fa,V,aa,ua,qa,va,null,Ea);};Hd=function(da,ka,fa,V,aa,ua){Ma(ua,function(){var qa,va,Ea,wa,ta,X,ba,ha,na,Ia,Fa,Ra,Ta;!aa || aa instanceof bd || (aa=ia(ka,aa));qa=ka.tokendata;va=ka.signature;if("string" !== typeof qa || "string" !== typeof va)throw new yb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ka)).setEntity(fa).setEntity(V);try{Ea=Gb(qa);}catch(ma){throw new db(W.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ka),ma).setEntity(fa).setEntity(V);}if(!Ea || 0 == Ea.length)throw new yb(W.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ka)).setEntity(fa).setEntity(V);try{wa=Gb(va);}catch(ma){throw new db(W.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(ka),ma).setEntity(fa).setEntity(V);}ta=Tb(Ea,Lb);try{X=JSON.parse(ta);ba=X.name;ha=X.mtserialnumber?parseInt(X.mtserialnumber):-1;na=X.uitserialnumber?parseInt(X.uitserialnumber):-1;Ia=X.encrypted;Fa=X.compressionalgo;Ra=X.servicedata;}catch(ma){if(ma instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"servicetokendata " + ta,ma).setEntity(fa).setEntity(V);throw ma;}if(!ba || "number" !== typeof ha || ha != ha || "number" !== typeof na || na != na || "boolean" !== typeof Ia || Fa && "string" !== typeof Fa || "string" !== typeof Ra)throw new yb(W.JSON_PARSE_ERROR,"servicetokendata " + ta).setEntity(fa).setEntity(V);if(X.mtserialnumber && 0 > ha || ha > Mb)throw new db(W.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ta).setEntity(fa).setEntity(V);if(X.uitserialnumber && 0 > na || na > Mb)throw new db(W.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ta).setEntity(fa).setEntity(V);if(-1 != ha && (!fa || ha != fa.serialNumber))throw new db(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ha + "; mt " + fa).setEntity(fa).setEntity(V);if(-1 != na && (!V || na != V.serialNumber))throw new db(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + na + "; uit " + V).setEntity(fa).setEntity(V);Ia=!0 === Ia;if(Fa){if(!Mc[Fa])throw new db(W.UNIDENTIFIED_COMPRESSION,Fa);Ta=Fa;}else Ta=null;aa?aa.verify(Ea,wa,{result:function(ma){Ma(ua,function(){var za,Aa;if(ma){try{za=Gb(Ra);}catch(Ja){throw new db(W.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ta,Ja).setEntity(fa).setEntity(V);}if(!za || 0 != Ra.length && 0 == za.length)throw new db(W.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ta).setEntity(fa).setEntity(V);if(Ia && 0 < za.length)aa.decrypt(za,{result:function(Ja){Ma(ua,function(){var Ca,Pa;Ca=Ta?Id(Ta,Ja):Ja;Pa=new ca(Ea,wa,ma);new Jc(da,ba,Ca,-1 != ha?fa:null,-1 != na?V:null,Ia,Ta,aa,Pa,ua);});},error:function(Ja){Ma(ua,function(){Ja instanceof db && (Ja.setEntity(fa),Ja.setUser(V));throw Ja;});}});else {za=Ta?Id(Ta,za):za;Aa=new ca(Ea,wa,ma);new Jc(da,ba,za,-1 != ha?fa:null,-1 != na?V:null,Ia,Ta,aa,Aa,ua);}}else (za="" == Ra?new Uint8Array(0):null,Aa=new ca(Ea,wa,ma),new Jc(da,ba,za,-1 != ha?fa:null,-1 != na?V:null,Ia,Ta,aa,Aa,ua));});},error:function(ma){Ma(ua,function(){ma instanceof db && (ma.setEntity(fa),ma.setUser(V));throw ma;});}}):(qa="" == Ra?new Uint8Array(0):null,va=new ca(Ea,wa,!1),new Jc(da,ba,qa,-1 != ha?fa:null,-1 != na?V:null,Ia,Ta,aa,va,ua));});};})();ac={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(ac);(function(){Gc=Bb.Class.create({init:function(ia){Object.defineProperties(this,{scheme:{value:ia,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ia){return this === ia?!0:ia instanceof Gc?this.scheme == ia.scheme:!1;},toJSON:function(){var ia;ia={};ia.scheme=this.scheme;ia.authdata=this.getAuthData();return ia;}});gf=function(ia,ca,da,ka){Ma(ka,function(){var fa,V,aa;fa=da.scheme;V=da.authdata;if(!fa || !V)throw new yb(W.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(da));if(!ac[fa])throw new Hb(W.UNIDENTIFIED_USERAUTH_SCHEME,fa);aa=ia.getUserAuthenticationFactory(fa);if(!aa)throw new Hb(W.USERAUTH_FACTORY_NOT_FOUND,fa);aa.createData(ia,ca,V,ka);});};})();od=Bb.Class.create({init:function(ia){Object.defineProperties(this,{scheme:{value:ia,writable:!1,configurable:!1}});},createData:function(ia,ca,da,ka){},authenticate:function(ia,ca,da,ka){}});(function(){Uc=Gc.extend({init:function ka(ca,da){ka.base.call(this,ac.NETFLIXID);Object.defineProperties(this,{netflixId:{value:ca,writable:!1,configurable:!1},secureNetflixId:{value:da,writable:!1,configurable:!1}});},getAuthData:function(){var ca;ca={};ca.netflixid=this.netflixId;this.secureNetflixId && (ca.securenetflixid=this.secureNetflixId);return ca;},equals:function ka(da){return this === da?!0:da instanceof Uc?ka.base.call(this,da) && this.netflixId == da.netflixId && this.secureNetflixId == da.secureNetflixId:!1;}});tf=function(da){var ka,fa;ka=da.netflixid;fa=da.securenetflixid;if(!ka)throw new yb(W.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(da));return new Uc(ka,fa);};})();Wf=od.extend({init:function ca(){ca.base.call(this,ac.NETFLIXID);},createData:function(ca,da,ka,fa){Ma(fa,function(){return tf(ka);});},authenticate:function(ca,da,ka,fa){if(!(ka instanceof Uc))throw new vb("Incorrect authentication data type " + ka + ".");ca=ka.secureNetflixId;if(!ka.netflixId || !ca)throw new Hb(W.NETFLIXID_COOKIES_BLANK).setUser(ka);throw new Hb(W.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ka);}});(function(){pd=Gc.extend({init:function fa(da,ka){fa.base.call(this,ac.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:da,writable:!1,configurable:!1},password:{value:ka,writable:!1,configurable:!1}});},getAuthData:function(){var da;da={};da.email=this.email;da.password=this.password;return da;},equals:function fa(ka){return this === ka?!0:ka instanceof pd?fa.base.call(this,this,ka) && this.email == ka.email && this.password == ka.password:!1;}});uf=function(ka){var fa,V;fa=ka.email;V=ka.password;if(!fa || !V)throw new yb(W.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(ka));return new pd(fa,V);};})();Xf=od.extend({init:function da(){da.base.call(this,ac.EMAIL_PASSWORD);},createData:function(da,ka,fa,V){Ma(V,function(){return uf(fa);});},authenticate:function(da,ka,fa,V){if(!(fa instanceof pd))throw new vb("Incorrect authentication data type " + fa + ".");da=fa.password;if(!fa.email || !da)throw new Hb(W.EMAILPASSWORD_BLANK).setUser(fa);throw new Hb(W.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(fa);}});(function(){var V,aa,ua,qa,va,Ea,wa,ta;function da(X,ba){return "<" + X + ">" + ba + "</" + X + ">";}function ka(X){return X.replace(/[<>&"']/g,function(ba){return va[ba];});}function fa(X){return encodeURIComponent(X).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}V=Ld={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};aa=Bb.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});ua=qe=aa.extend({init:function(X,ba,ha,na,Ia,Fa,Ra){var za;function Ta(Aa){Ma(Ra,function(){var Ja,Ca;try{Ja={};Ja.useridtoken=X;Ja.action=ba;Ja.nonce=ha;Ja.pin=Db(Aa);Ca=Rb(JSON.stringify(Ja),Lb);}catch(Pa){throw new yb(W.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Pa);}Ia.sign(Ca,{result:function(Pa){ma(Ca,Pa);},error:Ra.error});},za);}function ma(Aa,Ja){Ma(Ra,function(){Object.defineProperties(this,{_userIdToken:{value:X,writable:!1,enumerable:!1,configurable:!1},_action:{value:ba,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ha,writable:!1,enumerable:!1,configurable:!1},_pin:{value:na,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ja,writable:!1,enumerable:!1,configurable:!1}});return this;},za);}za=this;Ma(Ra,function(){Fa?ma(Fa.encoding,Fa.signature):Ia.encrypt(Rb(na,Lb),{result:function(Aa){Ta(Aa);},error:Ra.error});},za);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(X){return this === X?!0:X instanceof ua?this._action == X._action && this._nonce == X._nonce && this._pin == X._pin && this._userIdToken.equals(X._userIdToken):!1;}});qe.ACTION="userauth";qa=function(X,ba,ha,na,Ia){function Fa(Ta){Ma(Ia,function(){var ma,za,Aa,Ja,Ca,Pa;ma=Tb(ha,Lb);try{za=JSON.parse(ma);Aa=za.useridtoken;Ja=za.action;Ca=za.nonce;Pa=za.pin;}catch(Ga){if(Ga instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + ma,Ga);throw Ga;}if(!(Aa && "object" === typeof Aa && Ja && "string" === typeof Ja && Ca && "number" === typeof Ca && Pa) || "string" !== typeof Pa)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + ma);Rc(X,Aa,ba,{result:function(Ga){Ma(Ia,function(){if(!Ga.isDecrypted())throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + ma);Ra(Ta,Ga,Ja,Ca,Pa);});},error:function(Ga){Ma(Ia,function(){if(Ga instanceof db)throw new Hb(W.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + ma,Ga);throw Ga;});}});});}function Ra(Ta,ma,za,Aa,Ja){Ma(Ia,function(){var Ca;Ca=Gb(Ja);Ta.decrypt(Ca,{result:function(Pa){Ma(Ia,function(){var Ga;Ga=Tb(Pa,Lb);new ua(ma,za,Aa,Ga,null,{encoding:ha,signature:na},Ia);});},error:Ia.error});});}Ma(Ia,function(){var Ta,ma;try{Ta=X.getMslStore().getCryptoContext(ba);ma=Ta?Ta:new jc(X,ba);}catch(za){if(za instanceof Oc)throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + Db(ha));throw za;}ma.verify(ha,na,{result:function(za){Ma(Ia,function(){if(!za)throw new ub(W.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(ha));Fa(ma);});},error:Ia.error});});};va={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};Ea=qd=aa.extend({init:function(X,ba,ha,na){var Ia,Fa;Ia=da("action",ka(X));Fa=da("nonce",ba.toString());ha=da("pin",ha);Ia=da("registerdata",Ia + Fa + ha);Ia=Rb(Ia,"utf-8");Object.defineProperties(this,{_action:{value:X,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ba,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_signature:{value:na,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(X){return this === X?!0:X instanceof Ea?this._action == X._action && this._nonce == X._nonce && this._pin == X._pin:!1;}});qd.ACTION="regpairrequest";wa=re=aa.extend({init:function(X,ba,ha,na,Ia,Fa){var ma;function Ra(za){Ma(Fa,function(){var Aa,Ja,Ca,Pa,Ga;Aa=Db(za);Ja=da("action",ka(X));Ca=da("nonce",ba.toString());Pa=da("pin",Aa);Ja=da("registerdata",Ja + Ca + Pa);Ga=Rb(Ja,"utf-8");Aa="action=" + fa(X) + "&nonce=" + fa(ba.toString()) + "&pin=" + fa(Aa);na.sign(Rb(Aa,"utf-8"),{result:function(Wa){Ta(Ga,Wa);},error:Fa.error});},ma);}function Ta(za,Aa){Ma(Fa,function(){Object.defineProperties(this,{_action:{value:X,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ba,writable:!1,enumerable:!1,configurable:!1},_pin:{value:ha,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:za,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Aa,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);}ma=this;Ma(Fa,function(){Ia?Ta(Ia.encoding,Ia.signature):na.encrypt(Rb(ha,"utf-8"),{result:function(za){Ra(za);},error:Fa.error});},ma);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(X){return this === X?!0:X instanceof wa?this._action == X._action && this._nonce == X._nonce && this._pin == X._pin:!1;}});re.ACTION=qd.ACTION;ta=function(X,ba,ha,na,Ia){Ma(Ia,function(){var Fa,Ra,Ta,ma,za,Aa,Ja;Fa=X.getMslStore().getCryptoContext(ba);Ra=Fa?Fa:new jc(X,ba);Fa=Tb(ha,"utf-8");Ta=new DOMParser().parseFromString(Fa,"application/xml");Fa=Ta.getElementsByTagName("action");ma=Ta.getElementsByTagName("nonce");Ta=Ta.getElementsByTagName("pin");za=Fa && 1 == Fa.length && Fa[0].firstChild?Fa[0].firstChild.nodeValue:null;Aa=ma && 1 == ma.length && ma[0].firstChild?parseInt(ma[0].firstChild.nodeValue):null;Ja=Ta && 1 == Ta.length && Ta[0].firstChild?Ta[0].firstChild.nodeValue:null;if(!za || !Aa || !Ja)throw new yb(W.XML_PARSE_ERROR,"MDX authdata " + Db(ha));Fa="action=" + fa(za) + "&nonce=" + fa(Aa.toString()) + "&pin=" + fa(Ja);Ra.verify(Rb(Fa,"utf-8"),na,{result:function(Ca){Ma(Ia,function(){var Pa;if(!Ca)throw new ub(W.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(ha));Pa=Gb(Ja);Ra.decrypt(Pa,{result:function(Ga){Ma(Ia,function(){var Wa;Wa=Tb(Ga,"utf-8");new wa(za,Aa,Wa,null,{encoding:ha,signature:na},Ia);});},error:Ia.error});});},error:Ia.error});});};ed=Gc.extend({init:function Ta(ba,ha,na,Ia,Fa,Ra){var ma,za,Aa,Ja,Ca,Pa;Ta.base.call(this,ac.MDX);ma=null;za=null;Aa=null;if("string" === typeof na)(ba=V.MSL_LEGACY,Aa=na);else if(na instanceof Uint8Array)(ba=V.NTBA,za=na);else if(na instanceof ic)(ba=V.MSL,ma=na);else throw new TypeError("Controller token " + na + " is not a master token, encrypted CTicket, or MSL token construct.");Ja=na=null;Ca=null;if(Ra){Pa=Ra.controllerAuthData;na=Pa.getAction();Ja=Pa.getPin();Ra=Ra.userIdToken;Pa instanceof ua?Ca=Pa.getUserIdToken().customer:Ra && (Ca=Ra.customer);}Object.defineProperties(this,{mechanism:{value:ba,writable:!1,configurable:!1},action:{value:na,writable:!1,configurable:!1},targetPin:{value:ha,writable:!1,configurable:!1},controllerPin:{value:Ja,writable:!1,configurable:!1},customer:{value:Ca,writable:!1,configurable:!1},_masterToken:{value:ma,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:za,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Fa,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var ba,ha;ba={};switch(this.mechanism){case V.MSL:ha=JSON.parse(JSON.stringify(this._masterToken));ba.mastertoken=ha;break;case V.NTBA:ha=Tb(this._encryptedCTicket,"utf-8");ba.cticket=ha;break;case V.MSL_LEGACY:ba.cticket=this._mslTokens;break;default:throw new vb("Unsupported MDX mechanism.");}ba.pin=this.targetPin;ba.mdxauthdata=Db(this._controllerEncoding);ba.signature=Db(this._signature);return ba;},equals:function na(ha){return this === ha?!0:ha instanceof ed?na.base.call(this,ha) && (this._masterToken == ha._masterToken || this._masterToken && this._masterToken.equals(ha._masterToken)) && (this._encryptedCTicket == ha._encryptedCTicket || this._encryptedCTicket && Wb(this._encryptedCTicket,ha._encryptedCTicket)) && this._mslTokens == ha._mslTokens && Wb(this._controllerEncoding,ha._controllerEncoding) && Wb(this._signature,ha._signature):!1;}});vf=function(ha,na,Ia){function Fa(ma,za,Aa,Ja){Qc(ha,za,{result:function(Ca){Ma(Ia,function(){if(!Ca.isDecrypted())throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + na.toString());qa(ha,Ca,Aa,Ja,{result:function(Pa){Ma(Ia,function(){var Ga,Wa;Ga=Pa.getEncoding();Wa=Pa.getSignature();return new ed(ha,ma,Ca,Ga,Wa,{controllerAuthData:Pa,userIdToken:null});});},error:Ia.error});});},error:function(Ca){Ma(Ia,function(){if(Ca instanceof db)throw new Hb(W.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),Ca);throw Ca;});}});}function Ra(ma,za,Aa,Ja){Ma(Ia,function(){throw new Hb(W.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function Ta(ma,za,Aa,Ja){function Ca(Ga,Wa){Ma(Wa,function(){var ab,Ya;try{ab=Gb(Ga);}catch(jb){throw new Hb(W.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),jb);}if(!ab || 0 == ab.length)throw new Hb(W.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata " + JSON.stringify(na));try{Ya=JSON.parse(Tb(ab,"utf-8"));Qc(ha,Ya,{result:function(jb){Ma(Wa,function(){if(!jb.isDecrypted())throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + na.toString());return jb;});},error:function(jb){Ma(Wa,function(){if(jb instanceof db)throw new Hb(W.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),jb);throw jb;});}});}catch(jb){if(jb instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na),jb);throw jb;}});}function Pa(Ga,Wa,ab){Ma(ab,function(){var Ya,jb;try{Ya=Gb(Ga);}catch(mb){throw new Hb(W.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),mb);}if(!Ya || 0 == Ya.length)throw new Hb(W.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata " + JSON.stringify(na));try{jb=JSON.parse(Tb(Ya,"utf-8"));Rc(ha,jb,Wa,{result:function(mb){Ma(ab,function(){if(!mb.isDecrypted())throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(na));return mb;});},error:function(mb){Ma(ab,function(){if(mb instanceof db)throw new Hb(W.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),mb);throw mb;});}});}catch(mb){if(mb instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na),mb);throw mb;}});}Ma(Ia,function(){var Ga;Ga=za.split(",");if(3 != Ga.length || "1" != Ga[0])throw new Hb(W.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(na));Ca(Ga[1],{result:function(Wa){Pa(Ga[2],Wa,{result:function(ab){ta(ha,Wa,Aa,Ja,{result:function(Ya){Ma(Ia,function(){return new ed(ha,ma,za,Aa,Ja,{controllerAuthData:Ya,userIdToken:ab});});},error:function(Ya){Ma(Ia,function(){if(Ya instanceof Oc)throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(na),Ya);throw Ya;});}});},error:Ia.error});},error:Ia.error});});}Ma(Ia,function(){var ma,za,Aa,Ja,Ca;ma=na.pin;za=na.mdxauthdata;Aa=na.signature;if(!ma || "string" !== typeof ma || !za || "string" !== typeof za || !Aa || "string" !== typeof Aa)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na));try{Ja=Gb(za);Ca=Gb(Aa);}catch(Pa){throw new Hb(W.MDX_CONTROLLERDATA_INVALID,"MDX authdata " + JSON.stringify(na),Pa);}if(na.mastertoken){za=na.mastertoken;if(!za || "object" !== typeof za)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na));Fa(ma,za,Ja,Ca);}else if(na.cticket){za=na.cticket;if(!za || "string" !== typeof za)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na));-1 == za.indexOf(",")?Ra(ma,za,Ja,Ca):Ta(ma,za,Ja,Ca);}else throw new Hb(W.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(na));});};})();(function(){var da,ka,fa;da=qe.ACTION;ka=qd.ACTION;fa=re.ACTION;wf=od.extend({init:function aa(){aa.base.call(this,ac.MDX);},createData:function(aa,ua,qa,va){vf(aa,qa,va);},authenticate:function(aa,ua,qa,va){if(!(qa instanceof ed))throw new vb("Incorrect authentication data type " + qa.getClass().getName() + ".");aa=qa.action;switch(qa.mechanism){case Ld.MSL:if(da != aa)throw new Hb(W.MDX_USERAUTH_ACTION_INVALID).setUser(qa);break;case Ld.NTBA:if(ka != aa)throw new Hb(W.MDX_USERAUTH_ACTION_INVALID).setUser(qa);break;case Ld.MSL_LEGACY:if(fa != aa)throw new Hb(W.MDX_USERAUTH_ACTION_INVALID).setUser(qa);}aa=qa.controllerPin;ua=qa.targetPin;if(!aa || !ua)throw new Hb(W.MDX_PIN_BLANK).setUser(qa);if(aa != ua)throw new Hb(W.MDX_PIN_MISMATCH).setUser(qa);aa=qa.customer;if(!aa)throw new Hb(W.MDX_USER_UNKNOWN).setUser(qa);if(va && (va=va.customer,!aa.equals(va)))throw new Hb(W.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer " + aa + "; uit customer " + va).setUser(qa);return aa;}});})();(function(){var da,ka,fa;da={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};ka=yf=Bb.Class.create({init:function(V,aa){Object.defineProperties(this,{email:{value:V,writable:!1,enumerable:!0,configurable:!1},password:{value:aa,writable:!1,enumerable:!0,configurable:!1}});}});fa=zf=Bb.Class.create({init:function(V,aa){Object.defineProperties(this,{netflixId:{value:V,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:aa,writable:!1,enumerable:!0,configurable:!1}});}});rd=Gc.extend({init:function Ea(aa,ua,qa,va){var wa,ta,X,ba;Ea.base.call(this,ac.SSO);wa=null;ta=null;X=null;ba=null;qa instanceof ka?(wa=qa.email,ta=qa.password):qa instanceof fa && (X=qa.netflixId,ba=qa.secureNetflixId);Object.defineProperties(this,{mechanism:{value:aa,writable:!1,configurable:!1},token:{value:ua,writable:!1,configurable:!1},email:{value:wa,writable:!1,configurable:!1},password:{value:ta,writable:!1,configurable:!1},netflixId:{value:X,writable:!1,configurable:!1},secureNetflixId:{value:ba,writable:!1,configurable:!1},profileGuid:{value:"undefined" === typeof va?null:va,writable:!1,configurable:!1}});},getAuthData:function(){var aa;aa={};aa.mechanism=this.mechanism;aa.token=Db(this.token);this.email && this.password?(aa.email=this.email,aa.password=this.password):this.netflixId && this.secureNetflixId && (aa.netflixid=this.netflixId,aa.securenetflixid=this.secureNetflixId);this.profileGuid && (aa.profileguid=this.profileGuid);return aa;},equals:function qa(ua){return this === ua?!0:ua instanceof rd?qa.base.call(this,ua) && this.mechanism == ua.mechanism && Wb(this.token,ua.token) && this.email == ua.email && this.password == ua.password && this.netflixId == ua.netflixId && this.secureNetflixId == ua.secureNetflixId && this.profileGuid == ua.profileGuid:!1;}});xf=function(ua){var qa,va,Ea,wa,ta,X,ba,ha,na;qa=ua.mechanism;va=ua.token;if(!qa || !va || "string" !== typeof va)throw new yb(W.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(ua));if(!da[qa])throw new Hb(W.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata " + JSON.stringify(ua));Ea=ua.email;wa=ua.password;ta=ua.netflixid;X=ua.securenetflixid;ba=ua.profileguid;if(Ea && !wa || !Ea && wa || ta && !X || !ta && X || Ea && ta)throw new yb(W.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(ua));try{ha=Gb(va);}catch(Ia){throw new Hb(W.SSOTOKEN_INVALID,"SSO authdata " + JSON.stringify(ua),Ia);}Ea && wa?na=new ka(Ea,wa):ta && X && (na=new fa(ta,X));return new rd(qa,ha,na,ba);};})();Yf=od.extend({init:function ka(){ka.base.call(this,ac.SSO);},createData:function(ka,fa,V,aa){Ma(aa,function(){return xf(V);});},authenticate:function(ka,fa,V,aa){var ua,qa;if(!(V instanceof rd))throw new vb("Incorrect authentication data type " + V + ".");ka=V.token;fa=V.email;aa=V.password;ua=V.netflixId;qa=V.secureNetflixId;if(!ka || 0 == ka.length)throw new Hb(W.SSOTOKEN_BLANK);if(!(null === fa && null === aa || fa && aa))throw new Hb(W.EMAILPASSWORD_BLANK);if(!(null === ua && null === qa || ua && qa))throw new Hb(W.NETFLIXID_COOKIES_BLANK).setUser(V);throw new Hb(W.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(V);}});(function(){sd=Gc.extend({init:function aa(fa,V){aa.base.call(this,ac.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:fa,writable:!1,configurable:!1},profileGuid:{value:V,writable:!1,configurable:!1}});},getAuthData:function(){var fa;fa={};fa.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));fa.profileguid=this.profileGuid;return fa;},equals:function aa(V){return this == V?!0:V instanceof sd?aa.base.call(this,V) && this.userIdToken.equals(V.userIdToken) && this.profileGuid == V.profileGuid:!1;}});Af=function(V,aa,ua,qa){Ma(qa,function(){var va,Ea;if(!aa)throw new Hb(W.USERAUTH_MASTERTOKEN_MISSING);va=ua.useridtoken;Ea=ua.profileguid;if("object" !== typeof va || "string" !== typeof Ea)throw new yb(W.JSON_PARSE_ERROR,"switch profile authdata " + JSON.stringify(ua));Rc(V,va,aa,{result:function(wa){Ma(qa,function(){if(!wa.isDecrypted())throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata " + JSON.stringify(ua));return new sd(wa,Ea);});},error:function(wa){qa.error(new Hb(W.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata " + JSON.stringify(ua),wa));}});});};})();Zf=od.extend({init:function V(fa){V.base.call(this,ac.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:fa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(fa,V,aa,ua){Af(fa,V,aa,ua);},authenticate:function(fa,V,aa,ua){if(!(aa instanceof sd))throw new vb("Incorrect authentication data type " + aa + ".");V=aa.userIdToken;fa=aa.profileGuid;if(!fa)throw new Hb(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(aa);V=V.user;if(!V)throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(aa);fa=this._store.switchUsers(V,fa);if(!fa)throw new Hb(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(aa);if(ua && (ua=ua.user,!fa.equals(ua)))throw new Hb(W.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user " + fa + "; uit user " + ua).setUserAuthenticationData(aa);return fa;}});Object.freeze({ENTITY_REAUTH:La.ENTITY_REAUTH,ENTITYDATA_REAUTH:La.ENTITYDATA_REAUTH});$f=Bb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(fa,V){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(fa){},getUserAuthenticationFactory:function(fa){},getTokenFactory:function(){},getKeyExchangeFactory:function(fa){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Bf=Bb.Class.create({setCryptoContext:function(fa,V){},getMasterToken:function(){},getNonReplayableId:function(fa){},getCryptoContext:function(fa){},removeCryptoContext:function(fa){},clearCryptoContexts:function(){},addUserIdToken:function(fa,V){},getUserIdToken:function(fa){},removeUserIdToken:function(fa){},clearUserIdTokens:function(){},addServiceTokens:function(fa){},getServiceTokens:function(fa,V){},removeServiceTokens:function(fa,V,aa){},clearServiceTokens:function(){}});(function(){var fa;fa=Mc;oe=function(V,aa){var ua;ua={};switch(V){case fa.LZW:return De(aa,ua);case fa.GZIP:return gzip$compress(aa);default:throw new db(W.UNSUPPORTED_COMPRESSION,V);}};Id=function(V,aa,ua){switch(V){case fa.LZW:return Ee(aa);case fa.GZIP:return gzip$uncompress(aa);default:throw new db(W.UNSUPPORTED_COMPRESSION,V.name());}};})();Bf.extend({setCryptoContext:function(fa,V){},getMasterToken:function(){return null;},getNonReplayableId:function(fa){return 1;},getCryptoContext:function(fa){return null;},removeCryptoContext:function(fa){},clearCryptoContexts:function(){},addUserIdToken:function(fa,V){},getUserIdToken:function(fa){return null;},removeUserIdToken:function(fa){},clearUserIdTokens:function(){},addServiceTokens:function(fa){},getServiceTokens:function(fa,V){if(V){if(!fa)throw new db(W.USERIDTOKEN_MASTERTOKEN_NULL);if(!V.isBoundTo(fa))throw new db(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + V.mtSerialNumber + "; mt " + fa.serialNumber);}return [];},removeServiceTokens:function(fa,V,aa){if(aa && V && !aa.isBoundTo(V))throw new db(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.masterTokenSerialNumber + "; mt " + V.serialNumber);},clearServiceTokens:function(){}});(function(){Cf=Bf.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(V,aa){var ua;if(aa){ua=V.uniqueKey();this.masterTokens[ua]=V;this.cryptoContexts[ua]=aa;}else this.removeCryptoContext(V);},getMasterToken:function(){var V,aa,ua;V=null;for(aa in this.masterTokens){ua=this.masterTokens[aa];if(!V || ua.isNewerThan(V))V=ua;}return V;},getNonReplayableId:function(V){var aa;V=V.serialNumber;aa=this.nonReplayableIds[V] !== Ab?this.nonReplayableIds[V]:0;if(0 > aa || aa > Mb)throw new vb("Non-replayable ID " + aa + " is outside the valid range.");aa=aa == Mb?0:aa + 1;return this.nonReplayableIds[V]=aa;},getCryptoContext:function(V){return this.cryptoContexts[V.uniqueKey()];},removeCryptoContext:function(V){var aa,ua,qa,va;aa=V.uniqueKey();if(this.masterTokens[aa]){ua=V.serialNumber;for(qa in this.masterTokens){va=this.masterTokens[qa];if(!va.equals(V) && va.serialNumber == ua){delete this.masterTokens[aa];delete this.cryptoContexts[aa];return;}}Object.keys(this.userIdTokens).forEach(function(Ea){Ea=this.userIdTokens[Ea];Ea.isBoundTo(V) && this.removeUserIdToken(Ea);},this);try{this.removeServiceTokens(null,V,null);}catch(Ea){if(Ea instanceof db)throw new vb("Unexpected exception while removing master token bound service tokens.",Ea);throw Ea;}delete this.nonReplayableIds[ua];delete this.masterTokens[aa];delete this.cryptoContexts[aa];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(V){for(var aa in V){delete V[aa];}},this);},addUserIdToken:function(V,aa){var ua,qa;ua=!1;for(qa in this.masterTokens){if(aa.isBoundTo(this.masterTokens[qa])){ua=!0;break;}}if(!ua)throw new db(W.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + aa.mtSerialNumber);this.userIdTokens[V]=aa;},getUserIdToken:function(V){return this.userIdTokens[V];},removeUserIdToken:function(V){var aa,ua,qa;aa=null;for(ua in this.masterTokens){qa=this.masterTokens[ua];if(V.isBoundTo(qa)){aa=qa;break;}}Object.keys(this.userIdTokens).forEach(function(va){if(this.userIdTokens[va].equals(V)){try{this.removeServiceTokens(null,aa,V);}catch(Ea){if(Ea instanceof db)throw new vb("Unexpected exception while removing user ID token bound service tokens.",Ea);throw Ea;}delete this.userIdTokens[va];}},this);},clearUserIdTokens:function(){for(var V in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[V]);}},addServiceTokens:function(V){V.forEach(function(aa){var ua,qa;if(aa.isMasterTokenBound()){ua=!1;for(qa in this.masterTokens){if(aa.isBoundTo(this.masterTokens[qa])){ua=!0;break;}}if(!ua)throw new db(W.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + aa.mtSerialNumber);}if(aa.isUserIdTokenBound()){ua=!1;for(var va in this.userIdTokens){if(aa.isBoundTo(this.userIdTokens[va])){ua=!0;break;}}if(!ua)throw new db(W.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + aa.uitSerialNumber);}},this);V.forEach(function(aa){var ua;if(aa.isUnbound())this.unboundServiceTokens[aa.uniqueKey()]=aa;else {if(aa.isMasterTokenBound()){ua=this.mtServiceTokens[aa.mtSerialNumber];ua || (ua={});ua[aa.uniqueKey()]=aa;this.mtServiceTokens[aa.mtSerialNumber]=ua;}aa.isUserIdTokenBound() && ((ua=this.uitServiceTokens[aa.uitSerialNumber]) || (ua={}),ua[aa.uniqueKey()]=aa,this.uitServiceTokens[aa.uitSerialNumber]=ua);}},this);},getServiceTokens:function(V,aa){var ua,qa,va;if(aa){if(!V)throw new db(W.USERIDTOKEN_MASTERTOKEN_NULL);if(!aa.isBoundTo(V))throw new db(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.mtSerialNumber + "; mt " + V.serialNumber);}ua={};for(qa in this.unboundServiceTokens){va=this.unboundServiceTokens[qa];ua[va.uniqueKey()]=va;}if(V && (qa=this.mtServiceTokens[V.serialNumber]))for(var Ea in qa){va=qa[Ea];va.isUserIdTokenBound() || (ua[Ea]=va);}if(aa && (aa=this.uitServiceTokens[aa.serialNumber]))for(var wa in aa){Ea=aa[wa];Ea.isBoundTo(V) && (ua[wa]=Ea);}V=[];for(var ta in ua){V.push(ua[ta]);}return V;},removeServiceTokens:function(V,aa,ua){var qa,va,Ea;if(ua && aa && !ua.isBoundTo(aa))throw new db(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ua.mtSerialNumber + "; mt " + aa.serialNumber);!V || aa || ua || Object.keys(this.unboundServiceTokens).forEach(function(wa){this.unboundServiceTokens[wa].name == V && delete this.unboundServiceTokens[wa];},this);if(aa && !ua && (qa=this.mtServiceTokens[aa.serialNumber])){Ea=Object.keys(qa);Ea.forEach(function(wa){var ta;ta=qa[wa];V && ta.name != V || delete qa[wa];},this);this.mtServiceTokens[aa.serialNumber]=qa;}ua && (va=this.uitServiceTokens[ua.serialNumber]) && (aa=Object.keys(va),aa.forEach(function(wa){var ta;ta=va[wa];V && ta.name != V || delete va[wa];},this),this.uitServiceTokens[ua.serialNumber]=va);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(V){for(var aa in V){delete V[aa];}},this);}});})();If=Tf.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(V,aa){aa && V && V.length && (V=Db(V),this._contextMap[V]=aa);},getCryptoContext:function(V){return V && V.length?(V=Db(V),this._contextMap[V] || null):null;},removeCryptoContext:function(V){V && V.length && (V=Db(V),delete this._contextMap[V]);}});Df=Lf.extend({init:function Ea(aa,ua,qa,va){Ea.base.call(this,aa);Object.defineProperties(this,{_kde:{value:ua,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:qa,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:va,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(aa,ua){if(!(ua instanceof oc))throw new vb("Incorrect authentication data type " + JSON.stringify(ua) + ".");if(ua.identity != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"mgk " + ua.identity);return new Bd(aa,this.localIdentity,this._kde,this._kdh,this._kdw);}});ag=Mf.extend({init:function wa(ua,qa,va,Ea){wa.base.call(this,ua);Object.defineProperties(this,{_kpe:{value:qa,writable:!1,enumerable:!1,configurable:!1},_kph:{value:va,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:Ea,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ua,qa){if(!(qa instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(qa) + ".");if(qa.identity != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"psk " + qa.identity);return new Bd(ua,this.localIdentity,this._kpe,this._kph,this._kpw);}});cg=Cf.extend({init:function ba(qa,va,Ea,wa,ta,X){ba.base.call(this);this._log=qa;this._esn=va;this._keyRequestData=Ea;this._createKeyRequestData=wa;this._systemKeyName=ta;this._systemKeyWrapFormat=X;},setCryptoContext:function ta(va,Ea,wa){var X;X=this;X._log.trace("Adding MasterToken",{SequenceNumber:va.sequenceNumber,SerialNumber:va.serialNumber,Expiration:va.expiration.getTime()});ta.base.call(this,va,Ea);!wa && (va=X._createKeyRequestData) && (X._log.trace("Generating new keyx request data"),va().then(function(ba){X._keyRequestData=ba;},function(ba){X._log.error("Unable to generate new keyx request data","" + ba);}));},addUserIdToken:function ta(Ea,wa){this._log.trace("Adding UserIdToken",{UserId:Ea,SerialNumber:wa.serialNumber,MTSerialNumber:wa.mtSerialNumber,Expiration:wa.expiration.getTime()});ta.base.call(this,Ea,wa);},addServiceTokens:function ta(wa){ta.base.call(this,wa.filter(function(X){return !bg[X.name];}));},getUserIdTokenKeys:function(){var wa,ta;wa=[];for(ta in this.userIdTokens){wa.push(ta);}return wa;},rekeyUserIdToken:function(wa,ta){this.userIdTokens[wa] && (this.userIdTokens[ta]=this.userIdTokens[wa],delete this.userIdTokens[wa]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(wa){var ta;ta=this;Ma(wa,function(){var X;X=ta.getMasterToken();X?ta.getKeysForStore(X,{result:function(ba){Ma(wa,function(){var ha,na,Ia;ha=ta.userIdTokens;na=Object.keys(ha).map(function(Fa){var Ra;Ra=ha[Fa];return {userId:Fa,userIdTokenJSON:ha[Fa].toJSON(),serviceTokenJSONList:ta.getServiceTokens(X,Ra).map(Ff)};});ba.esn=ta._esn;ba.masterTokenJSON=X.toJSON();ba.userList=na;Ia=ta._keyRequestData.storeData;Ia && Object.keys(Ia).forEach(function(Fa){ba[Fa]=Ia[Fa];});return ba;});},timeout:wa.timeout,error:wa.error}):wa.result(null);});},getKeysForStore:function(wa,ta){var X;X=this;Ma(ta,function(){var ba;ba=X.getCryptoContext(wa);ba={encryptionKey:ba.encryptionKey,hmacKey:ba.hmacKey};if(ba.encryptionKey && ba.hmacKey){if(X._systemKeyWrapFormat)X.wrapKeysWithSystemKey(ba,ta);else return ba;}else throw new db(W.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(wa,ta){var X;X=this;xe(this._systemKeyName,{result:function(ba){Ma(ta,function(){var ha,na,Ia,Fa;ha=wa.encryptionKey;na=wa.hmacKey;Ia=ha[fd];Fa=na[fd];if(Ia && Fa)return {wrappedEncryptionKey:Ia,wrappedHmacKey:Fa};Promise.resolve().then(function(){return Promise.all([Jb.wrapKey(X._systemKeyWrapFormat,ha,ba,ba.algorithm),Jb.wrapKey(X._systemKeyWrapFormat,na,ba,ba.algorithm)]);}).then(function(Ra){Ia=Db(Ra[0]);ha[fd]=Ia;Fa=Db(Ra[1]);na[fd]=Fa;ta.result({wrappedEncryptionKey:Ia,wrappedHmacKey:Fa});}).catch(function(Ra){ta.error(new db(W.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Ra));});});},timeout:ta.timeout,error:ta.error});},unwrapKeysWithSystemKey:function(wa,ta){var X;X=this;xe(this._systemKeyName,{result:function(ba){Ma(ta,function(){var ha,na;ha=Gb(wa.wrappedEncryptionKey);na=Gb(wa.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Jb.unwrapKey(X._systemKeyWrapFormat,ha,ba,ba.algorithm,rc,!1,Hc),Jb.unwrapKey(X._systemKeyWrapFormat,na,ba,ba.algorithm,sc,!1,Pc)]);}).then(function(Ia){var Fa;Fa=Ia[0];Ia=Ia[1];Fa[fd]=wa.wrappedEncryptionKey;Ia[fd]=wa.wrappedHmacKey;ta.result({encryptionKey:Fa,hmacKey:Ia});}).catch(function(Ia){ta.error(new db(W.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",Ia));});});},timeout:ta.timeout,error:ta.error});},loadStoreState:function(wa,ta,X,ba){var Ia,Fa;function ha(Ra,Ta){var ma;try{ma=X.userList.slice();}catch(za){}ma?(function Aa(){var Ja;Ja=ma.shift();Ja?Rc(ta,Ja.userIdTokenJSON,Ra,{result:function(Ca){try{Ia.addUserIdToken(Ja.userId,Ca);na(Ra,Ca,Ja.serviceTokenJSONList,{result:Aa,timeout:Aa,error:Aa});}catch(Pa){Aa();}},timeout:Aa,error:Aa}):Ta.result();})():Ta.result();}function na(Ra,Ta,ma,za){var Aa,Ja;try{Aa=ma.slice();}catch(Ca){}if(Aa){Ja=Ia.getCryptoContext(Ra);(function Pa(){var Ga;Ga=Aa.shift();Ga?Hd(ta,Ga,Ra,Ta,Ja,{result:function(Wa){Ia.addServiceTokens([Wa]);Pa();},timeout:function(){Pa();},error:function(){Pa();}}):za.result();})();}else za.result();}Ia=this;Fa=Ia._log;X.esn != Ia._esn?(Fa.error("Esn mismatch, starting fresh"),ba.error()):(function(Ra){var za,Aa,Ja,Ca;function Ta(){var Pa;if(!za && Aa && Ja && Ca){za=!0;Pa=new jc(ta,Aa,wa.esn,{rawKey:Ja},{rawKey:Ca});Ia.setCryptoContext(Aa,Pa,!0);Ra.result(Aa);}}function ma(Pa,Ga){Fa.error(Pa,Ga && "" + Ga);za || (za=!0,Ra.error());}X.masterTokenJSON?(Qc(ta,X.masterTokenJSON,{result:function(Pa){Aa=Pa;Ta();},timeout:function(){ma("Timeout parsing MasterToken");},error:function(Pa){ma("Error parsing MasterToken",Pa);}}),Ia._systemKeyWrapFormat?Ia.unwrapKeysWithSystemKey(X,{result:function(Pa){Ja=Pa.encryptionKey;Ca=Pa.hmacKey;Ta();},timeout:function(){ma("Timeout unwrapping keys");},error:function(Pa){ma("Error unwrapping keys",Pa);}}):Promise.resolve().then(function(){return Jb.encrypt({name:rc.name,iv:new Uint8Array(16)},X.encryptionKey,new Uint8Array(1));}).then(function(Pa){Ja=X.encryptionKey;}).catch(function(Pa){ma("Error loading encryptionKey");}).then(function(){return Jb.sign(sc,X.hmacKey,new Uint8Array(1));}).then(function(Pa){Ca=X.hmacKey;Ta();}).catch(function(Pa){ma("Error loading hmacKey");})):ma("Persisted store is corrupt");})({result:function(Ra){ha(Ra,ba);},timeout:ba.timeout,error:ba.error});}});bg={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};fd="$netflix$msl$wrapsys";dg=$f.extend({init:function(wa,ta,X,ba,ha,na){var Ia,Fa;Ia=new md([Mc.LZW]);Fa=new Of();Fa.addPublicKey(ta,X);ba[Ob.RSA]=new Nf(Fa);ta={};ta[ac.EMAIL_PASSWORD]=new Xf();ta[ac.NETFLIXID]=new Wf();ta[ac.MDX]=new wf();ta[ac.SSO]=new Yf();ta[ac.SWITCH_PROFILE]=new Zf();wa={_mslCryptoContext:{value:new Kf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ha,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:ba,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:ta,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:na,writable:!1,enumerable:!1,configurable:!1},_store:{value:wa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,wa);},getTime:function(){return Date.now();},getRandom:function(){return new Ie();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(wa,ta){ta.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(wa){return this._entityAuthFactories[wa];},getUserAuthenticationFactory:function(wa){return this._userAuthFactories[wa];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(wa){return this._keyExchangeFactories.filter(function(ta){return ta.scheme == wa;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ze=qf.extend({init:function(wa,ta,X,ba){this._log=wa;this._mslContext=ta;this._mslRequest=X;this._keyRequestData=ba;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(wa,ta,X,ba){var ha,na;ha=this._mslRequest;na=this._mslContext;Ma(ba,function(){var Ia,Fa;if(wa || !ha.shouldSendUserAuthData)return null;if(ha.token){ha.email?Ia=new yf(ha.email,ha.password):ha.netflixId && (Ia=new zf(ha.netflixId,ha.secureNetflixId));Fa="undefined" === typeof ha.profileGuid?null:ha.profileGuid;return new rd(ha.mechanism,Rb(ha.token),Ia,Fa);}return ha.email?new pd(ha.email,ha.password):ha.netflixId?new Uc(ha.netflixId,ha.secureNetflixId):ha.mdxControllerToken?(Ia=new qd("regpairrequest",ha.mdxNonce,ha.mdxEncryptedPinB64,ha.mdxSignature).getEncoding(),new ed(na,ha.mdxPin,ha.mdxControllerToken,Ia,ha.mdxSignature)):ha.useNetflixUserAuthData?new Uc():ha.profileGuid?(Ia=ha.userId,Ia=na.getMslStore().userIdTokens[Ia],new sd(Ia,ha.profileGuid)):X && ha.sendUserAuthIfRequired?new Uc():null;});},getCustomer:function(){return null;},getKeyRequestData:function(wa){wa.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(wa,ta,X){var ba,ha,na,Ia,Fa,Ra;ba=this._log;ha=(this._mslRequest.serviceTokens || []).slice();na=this._mslContext;ta=na.getMslStore();Ia=wa.builder.getMasterToken();Fa=this.getUserId();Ra=ta.getUserIdToken(Fa);(function ma(){var za;za=ha.shift();if(za)try{za instanceof Jc?(wa.addPrimaryServiceToken(za),ma()):Hd(na,za,Ia,Ra,null,{result:function(Aa){try{wa.addPrimaryServiceToken(Aa);}catch(Ja){ba.warn("Exception adding service token","" + Ja);}ma();},timeout:function(){ba.warn("Timeout parsing service token");ma();},error:function(Aa){ba.warn("Error parsing service token","" + Aa);ma();}});}catch(Aa){ba.warn("Exception processing service token","" + Aa);ma();}else X.result(!0);})();},write:function(wa,ta,X){var ba;ba=Rb(this._mslRequest.body);wa.write(ba,0,ba.length,ta,{result:function(ha){ha != ba.length?X.error(new Vb("Not all data was written to output.")):wa.flush(ta,{result:function(){X.result(!0);},timeout:function(){X.timeout();},error:function(na){X.error(na);}});},timeout:function(){X.timeout();},error:function(ha){X.error(ha);}});},getDebugContext:function(){this._dc || (this._dc=new eg(this._log,this._mslRequest));return this._dc;}});eg=Vf.extend({init:function(wa,ta){this._log=wa;this._mslRequest=ta;},sentHeader:function(wa){this._log.trace("Sent MSL header",ye(this._mslRequest,wa),wa.serviceTokens && wa.serviceTokens.map(Gf).join("\n"));},receivedHeader:function(wa){var ta,X;ta=ye(this._mslRequest,wa);X=wa.errorCode;X?this._log.warn("Received MSL error header",ta,{errorCode:X,errorMessage:wa.errorMessage,internalCode:wa.internalCode}):this._log.trace("Received MSL header",ta);}});Ef={PSK:function(wa){return Sd(wa,Ob.PSK,ag,tc,ie,Fd);},MGK:function(wa){return Sd(wa,Ob.MGK,Df,oc,ie,Fd);},MGK_WITH_FALLBACK:function(wa){var ta,X;switch(wa.esnPrefix){case "GOOGEUR001":case "GOOGLEXX01":case "GOOGEST001":case "GOOGNEW001":ta="PSK";break;default:ta="MGK";}X=Ef[ta];if(!X)throw new db(W.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: " + ta);return X(wa);},MGK_JWE:function(wa){return Sd(wa,Ob.MGK,Df,oc,Te,he);},JWK_RSA:function(wa){return Td(wa,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Gd.JWK_RSA);},JWK_RSAES:function(wa){return Td(wa,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gd.JWK_RSAES);},JWEJS_RSA:function(wa){return Td(wa,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gd.JWEJS_RSA);}};nb.netflix=nb.netflix || ({});nb.netflix.msl={createMslClient:function(wa,ta){var X,ba,ha,na,Ia;X=wa.log;Ia=wa.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Qb && Qb.generateKey && Qb.importKey && Qb.unwrapKey))throw new db(W.INTERNAL_EXCEPTION,"No WebCrypto");cc=Qb.generateKey({name:"AES-CBC",length:128},!0,Hc).then?wd.V2014_02:wd.LEGACY;Ia("mslisik");return Jb.importKey("spki",wa.serverIdentityKeyData,Je,!1,["verify"]);}).then(function(Fa){return new Promise(function(Ra,Ta){Lc(Fa,{result:Ra,error:function(){Ta(new db(W.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Fa){ba=Fa;if(Fa=Ef[wa.authenticationType])return (Ia("mslcc"),Fa(wa));throw new db(W.INTERNAL_EXCEPTION,"Invalid authenticationType: " + wa.authenticationType);}).then(function(Fa){var Ra;ha=new cg(X,wa.esn,Fa.keyRequestData,Fa.createKeyRequestData,wa.authenticationKeyNames.s,wa.systemKeyWrapFormat);na=new dg(ha,wa.serverIdentityId,ba,Fa.entityAuthFactories,Fa.entityAuthData,Fa.keyExchangeFactories);Ra=wa.storeState;if(Ra)return (Ia("mslss"),X.info("Loading store state"),new Promise(function(Ta,ma){ha.loadStoreState(wa,na,Ra,{result:Ta,timeout:Ta,error:Ta});}));X.info("No store state, starting fresh");}).then(function(){var Fa;Fa=new rf();Ia("msldone");ta.result(new Hf(X,Fa,na,ha,wa.ErrorSubCodes));}).catch(function(Fa){ta.error(Fa);});},IHttpLocation:Rf,MslIoException:Vb};(function(){var ab,Ya,jb,mb,ob,rb,sb,zb,xb;function wa(t){var b;b=0;return function(){return b < t.length?{done:!1,value:t[b++]}:{done:!0};};}function ta(t,b){var a,g;if(b)a:{a=Ya;t=t.split(".");for(var c=0;c < t.length - 1;c++){g=t[c];if(!((g in a)))break a;a=a[g];}t=t[t.length - 1];c=a[t];b=b(c);b != c && null != b && ab(a,t,{configurable:!0,writable:!0,value:b});}}function X(t){t={next:t};t[Symbol.iterator]=function(){return this;};return t;}function ba(t){var b;b="undefined" != typeof Symbol && Symbol.iterator && t[Symbol.iterator];return b?b.call(t):{next:wa(t)};}function ha(t){if(!(t instanceof Array)){t=ba(t);for(var b,a=[];!(b=t.next()).done;){a.push(b.value);}t=a;}return t;}function na(t,b){var c;t.prototype=jb(b.prototype);t.prototype.constructor=t;if(zb)zb(t,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(t,a,c);}else t[a]=b[a];}t.Bfc=b.prototype;}function Ia(){this.$W=!1;this.aF=null;this.Pza=void 0;this.yI=1;this.SXa=this.Iwb=0;this.bU=null;}function Fa(t){if(t.$W)throw new TypeError("Generator is already running");t.$W=!0;}function Ra(t){this.Hf=new Ia();this.cXb=t;}function Ta(t,b){var a;Fa(t.Hf);a=t.Hf.aF;if(a)return ma(t,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,t.Hf.return);t.Hf.return(b);return za(t);}function ma(t,b,a,c){var g,l;try{g=b.call(t.Hf.aF,a);if(!(g instanceof Object))throw new TypeError("Iterator result " + g + " is not an object");if(!g.done)return (t.Hf.$W=!1,g);l=g.value;}catch(m){return (t.Hf.aF=null,t.Hf.m_(m),za(t));}t.Hf.aF=null;c.call(t.Hf,l);return za(t);}function za(t){var b;for(;t.Hf.yI;){try{b=t.cXb(t.Hf);if(b)return (t.Hf.$W=!1,{value:b.value,done:!1});}catch(a){t.Hf.Pza=void 0;t.Hf.m_(a);}}t.Hf.$W=!1;if(t.Hf.bU){b=t.Hf.bU;t.Hf.bU=null;if(b.wNb)throw b.nN;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function Aa(t){this.next=function(b){return t.VX(b);};this.throw=function(b){return t.m_(b);};this.return=function(b){return Ta(t,b);};this[Symbol.iterator]=function(){return this;};}function Ja(t,b){b=new Aa(new Ra(b));zb && t.prototype && zb(b,t.prototype);return b;}function Ca(t,b){return Object.prototype.hasOwnProperty.call(t,b);}function Pa(t,b){var a,c,g;t instanceof String && (t+="");a=0;c=!1;g={next:function(){var l;if(!c && a < t.length){l=a++;return {value:b(l,t[l]),done:!1};}c=!0;return {done:!0,value:void 0};}};g[Symbol.iterator]=function(){return g;};return g;}function Ga(t,b,a){var l;t instanceof String && (t=String(t));for(var c=t.length,g=0;g < c;g++){l=t[g];if(b.call(a,l,g,t))return {jqa:g,WE:l};}return {jqa:-1,WE:void 0};}function Wa(t,b,a){if(null == t)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return t + "";}ab="function" == typeof Object.defineProperties?Object.defineProperty:function(t,b,a){if(t == Array.prototype || t == Object.prototype)return t;t[b]=a.value;return t;};Ya=(function(t){var a;t=["object" == typeof globalThis && globalThis,t,"object" == typeof nb && nb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < t.length;++b){a=t[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);ta("Symbol",function(t){var c;function b(g){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (g || "") + "_" + c++,g);}function a(g,l){this.Beb=g;ab(this,"description",{configurable:!0,writable:!0,value:l});}if(t)return t;a.prototype.toString=function(){return this.Beb;};c=0;return b;});ta("Symbol.iterator",function(t){var c;if(t)return t;t=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Ya[b[a]];"function" === typeof c && "function" != typeof c.prototype[t] && ab(c.prototype,t,{configurable:!0,writable:!0,value:function(){return X(wa(this));}});}return t;});jb="function" == typeof Object.create?Object.create:function(t){function b(){}b.prototype=t;return new b();};mb=(function(){var b;function t(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(t())return Reflect.construct;b=Reflect.construct;return function(a,c,g){a=b(a,c);g && Reflect.setPrototypeOf(a,g.prototype);return a;};}return function(a,c,g){void 0 === g && (g=a);g=jb(g.prototype || Object.prototype);return Function.prototype.apply.call(a,g,c) || g;};})();if("function" == typeof Object.setPrototypeOf)ob=Object.setPrototypeOf;else {a:{rb={a:!0};sb={};try{sb.__proto__=rb;ob=sb.a;break a;}catch(t){}ob=!1;}ob=ob?function(t,b){t.__proto__=b;if(t.__proto__ !== b)throw new TypeError(t + " is not extensible");return t;}:null;}zb=ob;Ia.prototype.VX=function(t){this.Pza=t;};Ia.prototype.m_=function(t){this.bU={nN:t,wNb:!0};this.yI=this.Iwb || this.SXa;};Ia.prototype.return=function(t){this.bU={return:t};this.yI=this.SXa;};Ra.prototype.VX=function(t){Fa(this.Hf);if(this.Hf.aF)return ma(this,this.Hf.aF.next,t,this.Hf.VX);this.Hf.VX(t);return za(this);};Ra.prototype.m_=function(t){Fa(this.Hf);if(this.Hf.aF)return ma(this,this.Hf.aF["throw"],t,this.Hf.VX);this.Hf.m_(t);return za(this);};ta("Reflect",function(t){return t?t:{};});ta("Reflect.construct",function(){return mb;});ta("Reflect.setPrototypeOf",function(t){return t?t:zb?function(b,a){try{return (zb(b,a),!0);}catch(c){return !1;}}:null;});ta("Object.setPrototypeOf",function(t){return t || zb;});xb="function" == typeof Object.assign?Object.assign:function(t,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var g in c){Ca(c,g) && (t[g]=c[g]);}}return t;};ta("Object.assign",function(t){return t || xb;});ta("Promise",function(t){var g,l;function b(m){var d;this.dQ=0;this.qZ=void 0;this.UO=[];this.u2a=!1;d=this.Ela();try{m(d.resolve,d.reject);}catch(f){d.reject(f);}}function a(){this.VC=null;}function c(m){return m instanceof b?m:new b(function(d){d(m);});}if(t)return t;a.prototype.lSa=function(m){var d;if(null == this.VC){this.VC=[];d=this;this.mSa(function(){d.ZEb();});}this.VC.push(m);};g=Ya.setTimeout;a.prototype.mSa=function(m){g(m,0);};a.prototype.ZEb=function(){var m,f;for(;this.VC && this.VC.length;){m=this.VC;this.VC=[];for(var d=0;d < m.length;++d){f=m[d];m[d]=null;try{f();}catch(h){this.Bub(h);}}}this.VC=null;};a.prototype.Bub=function(m){this.mSa(function(){throw m;});};b.prototype.Ela=function(){var d,f;function m(h){return function(k){f || (f=!0,h.call(d,k));};}d=this;f=!1;return {resolve:m(this.kZb),reject:m(this.Zva)};};b.prototype.kZb=function(m){var d;if(m === this)this.Zva(new TypeError("A Promise cannot resolve to itself"));else if(m instanceof b)this.k0b(m);else {a:switch(typeof m){case "object":d=null != m;break a;case "function":d=!0;break a;default:d=!1;}d?this.jZb(m):this.DYa(m);}};b.prototype.jZb=function(m){var d;d=void 0;try{d=m.then;}catch(f){this.Zva(f);return;}"function" == typeof d?this.l0b(d,m):this.DYa(m);};b.prototype.Zva=function(m){this.tab(2,m);};b.prototype.DYa=function(m){this.tab(1,m);};b.prototype.tab=function(m,d){if(0 != this.dQ)throw Error("Cannot settle(" + m + ", " + d + "): Promise already settled in state" + this.dQ);this.dQ=m;this.qZ=d;2 === this.dQ && this.QZb();this.$Eb();};b.prototype.QZb=function(){var m;m=this;g(function(){var d;if(m.VSb()){d=Ya.console;"undefined" !== typeof d && d.error(m.qZ);}},1);};b.prototype.VSb=function(){var m,d,f;if(this.u2a)return !1;m=Ya.CustomEvent;d=Ya.Event;f=Ya.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof m?m=new m("unhandledrejection",{cancelable:!0}):"function" === typeof d?m=new d("unhandledrejection",{cancelable:!0}):(m=Ya.document.createEvent("CustomEvent"),m.initCustomEvent("unhandledrejection",!1,!0,m));m.promise=this;m.reason=this.qZ;return f(m);};b.prototype.$Eb=function(){if(null != this.UO){for(var m=0;m < this.UO.length;++m){l.lSa(this.UO[m]);}this.UO=null;}};l=new a();b.prototype.k0b=function(m){var d;d=this.Ela();m.J4(d.resolve,d.reject);};b.prototype.l0b=function(m,d){var f;f=this.Ela();try{m.call(d,f.resolve,f.reject);}catch(h){f.reject(h);}};b.prototype.then=function(m,d){var h,k,n;function f(p,q){return "function" == typeof p?function(u){try{h(p(u));}catch(r){k(r);}}:q;}n=new b(function(p,q){h=p;k=q;});this.J4(f(m,h),f(d,k));return n;};b.prototype.catch=function(m){return this.then(void 0,m);};b.prototype.J4=function(m,d){var h;function f(){switch(h.dQ){case 1:m(h.qZ);break;case 2:d(h.qZ);break;default:throw Error("Unexpected state: " + h.dQ);}}h=this;null == this.UO?l.lSa(f):this.UO.push(f);this.u2a=!0;};b.resolve=c;b.reject=function(m){return new b(function(d,f){f(m);});};b.race=function(m){return new b(function(d,f){for(var h=ba(m),k=h.next();!k.done;k=h.next()){c(k.value).J4(d,f);}});};b.all=function(m){var d,f;d=ba(m);f=d.next();return f.done?c([]):new b(function(h,k){var p,q;function n(u){return function(r){p[u]=r;q--;0 == q && h(p);};}p=[];q=0;do {p.push(void 0);q++;c(f.value).J4(n(p.length - 1),k);f=d.next();}while(!f.done);});};return b;});ta("Object.entries",function(t){return t?t:function(b){var a,c;a=[];for(c in b){Ca(b,c) && a.push([c,b[c]]);}return a;};});ta("Array.prototype.keys",function(t){return t?t:function(){return Pa(this,function(b){return b;});};});ta("Array.prototype.find",function(t){return t?t:function(b,a){return Ga(this,b,a).WE;};});ta("Math.tanh",function(t){return t?t:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});ta("Object.is",function(t){return t?t:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});ta("Array.prototype.includes",function(t){return t?t:function(b,a){var c,g,l;c=this;c instanceof String && (c=String(c));g=c.length;a=a || 0;for(0 > a && (a=Math.max(a + g,0));a < g;a++){l=c[a];if(l === b || Object.is(l,b))return !0;}return !1;};});ta("String.prototype.includes",function(t){return t?t:function(b,a){return -1 !== Wa(this,b,"includes").indexOf(b,a || 0);};});ta("Number.isNaN",function(t){return t?t:function(b){return "number" === typeof b && isNaN(b);};});ta("Array.prototype.entries",function(t){return t?t:function(){return Pa(this,function(b,a){return [b,a];});};});ta("WeakMap",function(t){var m,d;function b(f){this.MW=(d+=Math.random() + 1).toString();if(f){f=ba(f);for(var h;!(h=f.next()).done;){h=h.value;this.set(h[0],h[1]);}}}function a(){}function c(f){var h;h=typeof f;return "object" === h && null !== f || "function" === h;}function g(f){var h;if(!Ca(f,m)){h=new a();ab(f,m,{value:h});}}function l(f){var h;h=Object[f];h && (Object[f]=function(k){if(k instanceof a)return k;Object.isExtensible(k) && g(k);return h(k);});}if((function(){var f,h,k;if(!t || !Object.seal)return !1;try{f=Object.seal({});h=Object.seal({});k=new t([[f,2],[h,3]]);if(2 != k.get(f) || 3 != k.get(h))return !1;k.delete(f);k.set(h,4);return !k.has(f) && 4 == k.get(h);}catch(n){return !1;}})())return t;m="$jscomp_hidden_" + Math.random();l("freeze");l("preventExtensions");l("seal");d=0;b.prototype.set=function(f,h){if(!c(f))throw Error("Invalid WeakMap key");g(f);if(!Ca(f,m))throw Error("WeakMap key fail: " + f);f[m][this.MW]=h;return this;};b.prototype.get=function(f){return c(f) && Ca(f,m)?f[m][this.MW]:void 0;};b.prototype.has=function(f){return c(f) && Ca(f,m) && Ca(f[m],this.MW);};b.prototype.delete=function(f){return c(f) && Ca(f,m) && Ca(f[m],this.MW)?delete f[m][this.MW]:!1;};return b;});ta("Map",function(t){var l,m;function b(){var d;d={};return d.bB=d.next=d.head=d;}function a(d,f){var h;h=d.mA;return X(function(){if(h){for(;h.head != d.mA;){h=h.bB;}for(;h.next != h.head;){return (h=h.next,{done:!1,value:f(h)});}h=null;}return {done:!0,value:void 0};});}function c(d,f){var h,k,n;h=f && typeof f;"object" == h || "function" == h?l.has(f)?h=l.get(f):(h="" + ++m,l.set(f,h)):h="p_" + f;k=d.Ez[h];if(k && Ca(d.Ez,h))for(d=0;d < k.length;d++){n=k[d];if(f !== f && n.key !== n.key || f === n.key)return {id:h,list:k,index:d,entry:n};}return {id:h,list:k,index:-1,entry:void 0};}function g(d){this.Ez={};this.mA=b();this.size=0;if(d){d=ba(d);for(var f;!(f=d.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var d,f,h,k;if(!t || "function" != typeof t || !t.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});f=new t(ba([[d,"s"]]));if("s" != f.get(d) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;h=f.entries();k=h.next();if(k.done || k.value[0] != d || "s" != k.value[1])return !1;k=h.next();return k.done || 4 != k.value[0].x || "t" != k.value[1] || !h.next().done?!1:!0;}catch(n){return !1;}})())return t;l=new WeakMap();g.prototype.set=function(d,f){var h;d=0 === d?0:d;h=c(this,d);h.list || (h.list=this.Ez[h.id]=[]);h.entry?h.entry.value=f:(h.entry={next:this.mA,bB:this.mA.bB,head:this.mA,key:d,value:f},h.list.push(h.entry),this.mA.bB.next=h.entry,this.mA.bB=h.entry,this.size++);return this;};g.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.Ez[d.id],d.entry.bB.next=d.entry.next,d.entry.next.bB=d.entry.bB,d.entry.head=null,this.size--,!0):!1;};g.prototype.clear=function(){this.Ez={};this.mA=this.mA.bB=b();this.size=0;};g.prototype.has=function(d){return ! !c(this,d).entry;};g.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};g.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};g.prototype.keys=function(){return a(this,function(d){return d.key;});};g.prototype.values=function(){return a(this,function(d){return d.value;});};g.prototype.forEach=function(d,f){for(var h=this.entries(),k;!(k=h.next()).done;){k=k.value;d.call(f,k[1],k[0],this);}};g.prototype[Symbol.iterator]=g.prototype.entries;m=0;return g;});ta("Set",function(t){function b(a){this.bx=new Map();if(a){a=ba(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.bx.size;}if((function(){var a,c,g,l;if(!t || "function" != typeof t || !t.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new t(ba([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;g=c.entries();l=g.next();if(l.done || l.value[0] != a || l.value[1] != a)return !1;l=g.next();return l.done || l.value[0] == a || 4 != l.value[0].x || l.value[1] != l.value[0]?!1:g.next().done;}catch(m){return !1;}})())return t;b.prototype.add=function(a){a=0 === a?0:a;this.bx.set(a,a);this.size=this.bx.size;return this;};b.prototype.delete=function(a){a=this.bx.delete(a);this.size=this.bx.size;return a;};b.prototype.clear=function(){this.bx.clear();this.size=0;};b.prototype.has=function(a){return this.bx.has(a);};b.prototype.entries=function(){return this.bx.entries();};b.prototype.values=function(){return this.bx.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var g;g=this;this.bx.forEach(function(l){return a.call(c,l,l,g);});};return b;});ta("String.prototype.endsWith",function(t){return t?t:function(b,a){var c;c=Wa(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var g=b.length;0 < g && 0 < a;){if(c[--a] != b[--g])return !1;}return 0 >= g;};});ta("String.prototype.repeat",function(t){return t?t:function(b){var a;a=Wa(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});ta("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ta("Array.prototype.values",function(t){return t?t:function(){return Pa(this,function(b,a){return a;});};});ta("Object.values",function(t){return t?t:function(b){var a,c;a=[];for(c in b){Ca(b,c) && a.push(b[c]);}return a;};});ta("String.prototype.startsWith",function(t){return t?t:function(b,a){var c,g,l;c=Wa(this,b,"startsWith");b+="";g=c.length;l=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var m=0;m < l && a < g;){if(c[a++] != b[m++])return !1;}return m >= l;};});ta("Array.prototype.findIndex",function(t){return t?t:function(b,a){return Ga(this,b,a).jqa;};});ta("String.fromCodePoint",function(t){return t?t:function(b){var g;for(var a="",c=0;c < arguments.length;c++){g=Number(arguments[c]);if(0 > g || 1114111 < g || g !== Math.floor(g))throw new RangeError("invalid_code_point " + g);65535 >= g?a+=String.fromCharCode(g):(g-=65536,a+=String.fromCharCode(g >>> 10 & 1023 | 55296),a+=String.fromCharCode(g & 1023 | 56320));}return a;};});ta("Number.parseInt",function(t){return t || parseInt;});ta("Number.isFinite",function(t){return t?t:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});(function(t){var a;function b(c){var g;if(a[c])return a[c].exports;g=a[c]={jqa:c,HOb:!1,exports:{}};t[c].call(g.exports,g,g.exports,b);g.HOb=!0;return g.exports;}a={};b.vdc=t;b.c=a;b.d=function(c,g,l){b.fTb(c,g) || Object.defineProperty(c,g,{enumerable:!0,get:l});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,g){var l;g & 1 && (c=b(c));if(g & 8 || g & 4 && "object" === typeof c && c && c.__esModule)return c;l=Object.create(null);b.r(l);Object.defineProperty(l,"default",{enumerable:!0,value:c});if(g & 2 && "string" != typeof c)for(var m in c){b.d(l,m,(function(d){return c[d];}).bind(null,m));}return l;};b.n=function(c){var g;g=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(g,"a",g);return g;};b.fTb=function(c,g){return Object.prototype.hasOwnProperty.call(c,g);};b.p="";return b(b.DZb=567);})([function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(44);b.U8b=t;t=a(570);b.y0=t.y0;t=a(76);b.qt=t.qt;b.Qj=t.Qj;b.xy=t.xy;t=a(586);b.AAa=t.AAa;b.rd=t.rd;t=a(587);b.T=t.T;t=a(588);b.Mbb=t.Mbb;t=a(589);b.B5a=t.B5a;t=a(315);b.l=t.l;b.Xda=t.Xda;t=a(590);b.optional=t.optional;t=a(591);b.$m=t.$m;t=a(592);b.uI=t.uI;t=a(593);b.i_=t.i_;t=a(594);b.X7a=t.X7a;t=a(313);b.uea=t.uea;t=a(110);b.id=t.id;t=a(94);b.fs=t.fs;t=a(318);b.Fcb=t.Fcb;b.Nbb=t.Nbb;b.C5a=t.C5a;b.Mcb=t.Mcb;t=a(136);b.NN=t.NN;a=a(595);b.x5a=a.x5a;},function(t,b,a){var C,H;function c(){c=Object.assign || (function(K){for(var M,I=1,Q=arguments.length;I < Q;I++){M=arguments[I];for(var L in M){Object.prototype.hasOwnProperty.call(M,L) && (K[L]=M[L]);}}return K;});return c.apply(this,arguments);}function g(K,M){g=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(I,Q){I.__proto__=Q;}) || (function(I,Q){for(var L in Q){Object.prototype.hasOwnProperty.call(Q,L) && (I[L]=Q[L]);}});return g(K,M);}function l(K,M){function I(){this.constructor=K;}if("function" !== typeof M && null !== M)throw new TypeError("Class extends value " + String(M) + " is not a constructor or null");g(K,M);K.prototype=null === M?Object.create(M):(I.prototype=M.prototype,new I());}function m(K,M){var I,Q,L;I={};for(Q in K){Object.prototype.hasOwnProperty.call(K,Q) && 0 > M.indexOf(Q) && (I[Q]=K[Q]);}if(null != K && "function" === typeof Object.getOwnPropertySymbols){L=0;for(Q=Object.getOwnPropertySymbols(K);L < Q.length;L++){0 > M.indexOf(Q[L]) && Object.prototype.propertyIsEnumerable.call(K,Q[L]) && (I[Q[L]]=K[Q[L]]);}}return I;}function d(K,M,I,Q){var L,J,O;L=arguments.length;J=3 > L?M:null === Q?Q=Object.getOwnPropertyDescriptor(M,I):Q;if("object" === typeof Reflect && "function" === typeof Reflect.fs)J=Reflect.fs(K,M,I,Q);else for(var N=K.length - 1;0 <= N;N--){if(O=K[N])J=(3 > L?O(J):3 < L?O(M,I,J):O(M,I)) || J;}return (3 < L && J && Object.defineProperty(M,I,J),J);}function f(K,M){return function(I,Q){M(I,Q,K);};}function h(K,M){if("object" === typeof Reflect && "function" === typeof Reflect.Ic)return Reflect.Ic(K,M);}function k(K,M,I,Q){function L(J){return J instanceof I?J:new I(function(O){O(J);});}return new (I || (I=Promise))(function(J,O){function N(U){try{S(Q.next(U));}catch(Z){O(Z);}}function P(U){try{S(Q["throw"](U));}catch(Z){O(Z);}}function S(U){U.done?J(U.value):L(U.value).then(N,P);}S((Q=Q.apply(K,M || [])).next());});}function n(K,M){var L,J,O,N,P;function I(S){return function(U){return Q([S,U]);};}function Q(S){if(J)throw new TypeError("Generator is already executing.");for(;L;){try{if((J=1,O && (N=S[0] & 2?O["return"]:S[0]?O["throw"] || ((N=O["return"]) && N.call(O),0):O.next) && !(N=N.call(O,S[1])).done))return N;if((O=0,N))S=[S[0] & 2,N.value];switch(S[0]){case 0:case 1:N=S;break;case 4:return (L.label++,{value:S[1],done:!1});case 5:L.label++;O=S[1];S=[0];continue;case 7:S=L.co.pop();L.bm.pop();continue;default:if(!(N=L.bm,N=0 < N.length && N[N.length - 1]) && (6 === S[0] || 2 === S[0])){L=0;continue;}if(3 === S[0] && (!N || S[1] > N[0] && S[1] < N[3]))L.label=S[1];else if(6 === S[0] && L.label < N[1])(L.label=N[1],N=S);else if(N && L.label < N[2])(L.label=N[2],L.co.push(S));else {N[2] && L.co.pop();L.bm.pop();continue;}}S=M.call(K,L);}catch(U){S=[6,U];O=0;}finally{J=N=0;}}if(S[0] & 5)throw S[1];return {value:S[0]?S[1]:void 0,done:!0};}L={label:0,xc:function(){if(N[0] & 1)throw N[1];return N[1];},bm:[],co:[]};return (P={next:I(0),"throw":I(1),"return":I(2)},"function" === typeof Symbol && (P[Symbol.iterator]=function(){return this;}),P);}function p(K,M){for(var I in K){"default" === I || Object.prototype.hasOwnProperty.call(M,I) || C(M,K,I);}}function q(K){var M,I,Q;M="function" === typeof Symbol && Symbol.iterator;I=M && K[M];Q=0;if(I)return I.call(K);if(K && "number" === typeof K.length)return {next:function(){K && Q >= K.length && (K=void 0);return {value:K && K[Q++],done:!K};}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(K,M){var I,Q,L;I="function" === typeof Symbol && K[Symbol.iterator];if(!I)return K;K=I.call(K);L=[];try{for(;(void 0 === M || 0 < M--) && !(Q=K.next()).done;){L.push(Q.value);}}catch(O){var J;J={error:O};}finally{try{Q && !Q.done && (I=K["return"]) && I.call(K);}finally{if(J)throw J.error;}}return L;}function r(){for(var K=[],M=0;M < arguments.length;M++){K=K.concat(u(arguments[M]));}return K;}function w(){var Q;for(var K=0,M=0,I=arguments.length;M < I;M++){K+=arguments[M].length;}K=Array(K);Q=0;for(M=0;M < I;M++){for(var L=arguments[M],J=0,O=L.length;J < O;(J++,Q++)){K[Q]=L[J];}}return K;}function v(K,M,I){if(I || 2 === arguments.length)for(var Q=0,L=M.length,J;Q < L;Q++){!J && (Q in M) || (J || (J=Array.prototype.slice.call(M,0,Q)),J[Q]=M[Q]);}return K.concat(J || Array.prototype.slice.call(M));}function x(K){return this instanceof x?(this.WE=K,this):new x(K);}function y(K,M,I){var P,S,U;function Q(Z){P[Z] && (S[Z]=function(ja){return new Promise(function(ya,ra){1 < U.push([Z,ja,ya,ra]) || L(Z,ja);});});}function L(Z,ja){var ya;try{ya=P[Z](ja);ya.value instanceof x?Promise.resolve(ya.value.WE).then(J,O):N(U[0][2],ya);}catch(ra){N(U[0][3],ra);}}function J(Z){L("next",Z);}function O(Z){L("throw",Z);}function N(Z,ja){(Z(ja),U.shift(),U.length) && L(U[0][0],U[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");P=I.apply(K,M || []);U=[];return (S={},Q("next"),Q("throw"),Q("return"),S[Symbol.asyncIterator]=function(){return this;},S);}function z(K){var I,Q;function M(L,J){I[L]=K[L]?function(O){return (Q=!Q)?{value:x(K[L](O)),done:"return" === L}:J?J(O):O;}:J;}return (I={},M("next"),M("throw",function(L){throw L;}),M("return"),I[Symbol.iterator]=function(){return this;},I);}function A(K){var Q,L;function M(J){L[J]=K[J] && (function(O){return new Promise(function(N,P){O=K[J](O);I(N,P,O.done,O.value);});});}function I(J,O,N,P){Promise.resolve(P).then(function(S){J({value:S,done:N});},O);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");Q=K[Symbol.asyncIterator];return Q?Q.call(K):(K="function" === typeof q?q(K):K[Symbol.iterator](),L={},M("next"),M("throw"),M("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function B(K,M){Object.defineProperty?Object.defineProperty(K,"raw",{value:M}):K.raw=M;return K;}function E(K){var M;if(K && K.__esModule)return K;M={};if(null != K)for(var I in K){"default" !== I && Object.prototype.hasOwnProperty.call(K,I) && C(M,K,I);}H(M,K);return M;}function D(K){return K && K.__esModule?K:{default:K};}function F(K,M,I,Q){if("a" === I && !Q)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof M?K !== M || !Q:!M.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === I?Q:"a" === I?Q.call(K):Q?Q.value:M.get(K);}function G(K,M,I,Q,L){if("m" === Q)throw new TypeError("Private method is not writable");if("a" === Q && !L)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof M?K !== M || !L:!M.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === Q?L.call(K,I):L?L.value=I:M.set(K,I),I);}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return C;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return q;});a.d(b,"__read",function(){return u;});a.d(b,"__spread",function(){return r;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__spreadArray",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return E;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});C=Object.create?function(K,M,I,Q){void 0 === Q && (Q=I);Object.defineProperty(K,Q,{enumerable:!0,get:function(){return M[I];}});}:function(K,M,I,Q){void 0 === Q && (Q=I);K[Q]=M[I];};H=Object.create?function(K,M){Object.defineProperty(K,"default",{enumerable:!0,value:M});}:function(K,M){K["default"]=M;};},function(t,b,a){function c(){c=Object.assign || (function(C){for(var H,K=1,M=arguments.length;K < M;K++){H=arguments[K];for(var I in H){Object.prototype.hasOwnProperty.call(H,I) && (C[I]=H[I]);}}return C;});return c.apply(this,arguments);}function g(C,H){g=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,M){K.__proto__=M;}) || (function(K,M){for(var I in M){M.hasOwnProperty(I) && (K[I]=M[I]);}});return g(C,H);}function l(C,H){function K(){this.constructor=C;}g(C,H);C.prototype=null === H?Object.create(H):(K.prototype=H.prototype,new K());}function m(C,H){var K,M,I;K={};for(M in C){Object.prototype.hasOwnProperty.call(C,M) && 0 > H.indexOf(M) && (K[M]=C[M]);}if(null != C && "function" === typeof Object.getOwnPropertySymbols){I=0;for(M=Object.getOwnPropertySymbols(C);I < M.length;I++){0 > H.indexOf(M[I]) && Object.prototype.propertyIsEnumerable.call(C,M[I]) && (K[M[I]]=C[M[I]]);}}return K;}function d(C,H,K,M){var I,Q,L;I=arguments.length;Q=3 > I?H:null === M?M=Object.getOwnPropertyDescriptor(H,K):M;if("object" === typeof Reflect && "function" === typeof Reflect.fs)Q=Reflect.fs(C,H,K,M);else for(var J=C.length - 1;0 <= J;J--){if(L=C[J])Q=(3 > I?L(Q):3 < I?L(H,K,Q):L(H,K)) || Q;}return (3 < I && Q && Object.defineProperty(H,K,Q),Q);}function f(C,H){return function(K,M){H(K,M,C);};}function h(C,H){if("object" === typeof Reflect && "function" === typeof Reflect.Ic)return Reflect.Ic(C,H);}function k(C,H,K,M){function I(Q){return Q instanceof K?Q:new K(function(L){L(Q);});}return new (K || (K=Promise))(function(Q,L){function J(P){try{N(M.next(P));}catch(S){L(S);}}function O(P){try{N(M["throw"](P));}catch(S){L(S);}}function N(P){P.done?Q(P.value):I(P.value).then(J,O);}N((M=M.apply(C,H || [])).next());});}function n(C,H){var I,Q,L,J,O;function K(N){return function(P){return M([N,P]);};}function M(N){if(Q)throw new TypeError("Generator is already executing.");for(;I;){try{if((Q=1,L && (J=N[0] & 2?L["return"]:N[0]?L["throw"] || ((J=L["return"]) && J.call(L),0):L.next) && !(J=J.call(L,N[1])).done))return J;if((L=0,J))N=[N[0] & 2,J.value];switch(N[0]){case 0:case 1:J=N;break;case 4:return (I.label++,{value:N[1],done:!1});case 5:I.label++;L=N[1];N=[0];continue;case 7:N=I.co.pop();I.bm.pop();continue;default:if(!(J=I.bm,J=0 < J.length && J[J.length - 1]) && (6 === N[0] || 2 === N[0])){I=0;continue;}if(3 === N[0] && (!J || N[1] > J[0] && N[1] < J[3]))I.label=N[1];else if(6 === N[0] && I.label < J[1])(I.label=J[1],J=N);else if(J && I.label < J[2])(I.label=J[2],I.co.push(N));else {J[2] && I.co.pop();I.bm.pop();continue;}}N=H.call(C,I);}catch(P){N=[6,P];L=0;}finally{Q=J=0;}}if(N[0] & 5)throw N[1];return {value:N[0]?N[1]:void 0,done:!0};}I={label:0,xc:function(){if(J[0] & 1)throw J[1];return J[1];},bm:[],co:[]};return (O={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (O[Symbol.iterator]=function(){return this;}),O);}function p(C,H,K,M){void 0 === M && (M=K);C[M]=H[K];}function q(C,H){for(var K in C){"default" === K || H.hasOwnProperty(K) || (H[K]=C[K]);}}function u(C){var H,K,M;H="function" === typeof Symbol && Symbol.iterator;K=H && C[H];M=0;if(K)return K.call(C);if(C && "number" === typeof C.length)return {next:function(){C && M >= C.length && (C=void 0);return {value:C && C[M++],done:!C};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function r(C,H){var K,M,I;K="function" === typeof Symbol && C[Symbol.iterator];if(!K)return C;C=K.call(C);I=[];try{for(;(void 0 === H || 0 < H--) && !(M=C.next()).done;){I.push(M.value);}}catch(L){var Q;Q={error:L};}finally{try{M && !M.done && (K=C["return"]) && K.call(C);}finally{if(Q)throw Q.error;}}return I;}function w(){for(var C=[],H=0;H < arguments.length;H++){C=C.concat(r(arguments[H]));}return C;}function v(){var M;for(var C=0,H=0,K=arguments.length;H < K;H++){C+=arguments[H].length;}C=Array(C);M=0;for(H=0;H < K;H++){for(var I=arguments[H],Q=0,L=I.length;Q < L;(Q++,M++)){C[M]=I[Q];}}return C;}function x(C){return this instanceof x?(this.WE=C,this):new x(C);}function y(C,H,K){var O,N,P;function M(S){O[S] && (N[S]=function(U){return new Promise(function(Z,ja){1 < P.push([S,U,Z,ja]) || I(S,U);});});}function I(S,U){var Z;try{Z=O[S](U);Z.value instanceof x?Promise.resolve(Z.value.WE).then(Q,L):J(P[0][2],Z);}catch(ja){J(P[0][3],ja);}}function Q(S){I("next",S);}function L(S){I("throw",S);}function J(S,U){(S(U),P.shift(),P.length) && I(P[0][0],P[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");O=K.apply(C,H || []);P=[];return (N={},M("next"),M("throw"),M("return"),N[Symbol.asyncIterator]=function(){return this;},N);}function z(C){var K,M;function H(I,Q){K[I]=C[I]?function(L){return (M=!M)?{value:x(C[I](L)),done:"return" === I}:Q?Q(L):L;}:Q;}return (K={},H("next"),H("throw",function(I){throw I;}),H("return"),K[Symbol.iterator]=function(){return this;},K);}function A(C){var M,I;function H(Q){I[Q]=C[Q] && (function(L){return new Promise(function(J,O){L=C[Q](L);K(J,O,L.done,L.value);});});}function K(Q,L,J,O){Promise.resolve(O).then(function(N){Q({value:N,done:J});},L);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=C[Symbol.asyncIterator];return M?M.call(C):(C="function" === typeof u?u(C):C[Symbol.iterator](),I={},H("next"),H("throw"),H("return"),I[Symbol.asyncIterator]=function(){return this;},I);}function B(C,H){Object.defineProperty?Object.defineProperty(C,"raw",{value:H}):C.raw=H;return C;}function E(C){var H;if(C && C.__esModule)return C;H={};if(null != C)for(var K in C){Object.hasOwnProperty.call(C,K) && (H[K]=C[K]);}H.default=C;return H;}function D(C){return C && C.__esModule?C:{default:C};}function F(C,H){if(!H.has(C))throw new TypeError("attempted to get private field on non-instance");return H.get(C);}function G(C,H,K){if(!H.has(C))throw new TypeError("attempted to set private field on non-instance");H.set(C,K);return K;}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return u;});a.d(b,"__read",function(){return r;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return E;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(t,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Fv=b.PDa=b.ODa=b.tda=b.Zhb=b.$hb=b.NDa=b.sda=b.Yhb=b.hHa=b.v1=b.m1=b.MDa=b.M=b.N=void 0;(function(g){g[g.em=7001]="UNKNOWN";g[g.gNa=7002]="UNHANDLED_EXCEPTION";g[g.Uib=7003]="INIT_COMPONENT_LOG_TO_REMOTE";g[g.tib=7004]="HLS_NOT_SUPPORTED";g[g.Lda=7010]="INIT_ASYNCCOMPONENT";g[g.rFa=7011]="INIT_HTTP";g[g.Qib=7014]="INIT_BADMOVIEID";g[g.hjb=7016]="INIT_NETFLIXID_MISSING";g[g.gjb=7017]="INIT_NETFLIXID_INVALID";g[g.jjb=7018]="INIT_SECURENETFLIXID_MISSING";g[g.sFa=7020]="INIT_PLAYBACK_LOCK";g[g.tFa=7022]="INIT_SESSION_LOCK";g[g.ijb=7029]="INIT_POSTAUTHORIZE";g[g.qFa=7031]="INIT_HEADER_MEDIA";g[g.u8b=7032]="HEADER_MISSING";g[g.t8b=7033]="HEADER_FRAGMENTS_MISSING";g[g.kjb=7034]="INIT_TIMEDTEXT_TRACK";g[g.I8b=7035]="INIT_LOAD_DOWNLOADED_MEDIA";g[g.J8b=7036]="INIT_STREAMS_NOT_AVAILABLE";g[g.Jeb=7037]="ASE_SESSION_ERROR";g[g.Ieb=7038]="ASE_SEEK_THREW";g[g.Keb=7039]="ASE_SKIPPED_THREW";g[g.djb=7041]="INIT_CORE_OBJECTS1";g[g.ejb=7042]="INIT_CORE_OBJECTS2";g[g.fjb=7043]="INIT_CORE_OBJECTS3";g[g.F8b=7051]="INIT_COMPONENT_REQUESTQUOTA";g[g.z8b=7052]="INIT_COMPONENT_FILESYSTEM";g[g.jFa=7053]="INIT_COMPONENT_STORAGE";g[g.kFa=7054]="INIT_COMPONENT_STORAGELOCK";g[g.A8b=7055]="INIT_COMPONENT_LOGPERSIST";g[g.B8b=7056]="INIT_COMPONENT_NRDDPI";g[g.D8b=7057]="INIT_COMPONENT_PEPPERCRYPTO";g[g.gFa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";g[g.Mda=7059]="INIT_COMPONENT_DEVICE";g[g.C8b=7062]="INIT_COMPONENT_NTBA";g[g.hFa=7063]="INIT_COMPONENT_MSL";g[g.Sib=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";g[g.fFa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";g[g.$B=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";g[g.E8b=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";g[g.Rib=7069]="INIT_COMPONENT_ACCOUNT";g[g.Wib=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";g[g.Yib=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";g[g.Zib=7072]="INIT_COMPONENT_NRDP_MEDIA";g[g.$ib=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";g[g.ajb=7074]="INIT_COMPONENT_NRDP_REGISTRATION";g[g.Vib=7081]="INIT_COMPONENT_NRDP";g[g.Xib=7082]="INIT_COMPONENT_NRDP_DEVICE";g[g.pFa=7083]="INIT_COMPONENT_WEBCRYPTO";g[g.cjb=7084]="INIT_COMPONENT_VIDEO_PREPARER";g[g.H8b=7085]="INIT_CONGESTION_SERVICE";g[g.eFa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";g[g.lFa=7087]="INIT_COMPONENT_TRACKING_LOG";g[g.cFa=7088]="INIT_COMPONENT_BATTERY_MANAGER";g[g.bFa=7089]="INIT_COMPONENT_ASE";g[g.G8b=7090]="INIT_COMPONENT_VIDEO_CACHE";g[g.zK=7091]="INIT_COMPONENT_DRM_CACHE";g[g.Tib=7092]="INIT_COMPONENT_DRM";g[g.bjb=7093]="INIT_COMPONENT_PREFETCH_EVENTS";g[g.dFa=7094]="INIT_COMPONENT_FTL";g[g.iFa=7095]="INIT_COMPONENT_PREPARE_MODEL";g[g.mFa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";g[g.nFa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";g[g.oFa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";g[g.FK=7111]="MANIFEST";g[g.Ueb=7112]="AUTHORIZE_UNKNOWN";g[g.HGa=7117]="MANIFEST_VERIFY";g[g.smb=7120]="START";g[g.CK=7121]="LICENSE";g[g.yfa=7122]="RELEASE";g[g.zLa=7123]="STOP";g[g.k8b=7124]="FPSAPPDATA";g[g.Uda=7125]="KEEPALIVE";g[g.h7b=7126]="DEACTIVATE";g[g.W$b=7127]="SYNC_DEACTIVATE_LINKS";g[g.f6b=7130]="ACTIVATE";g[g.ilb=7131]="PING";g[g.r9b=7133]="NETFLIXID";g[g.Vhb=7134]="ENGAGE";g[g.Ijb=7135]="LOGIN";g[g.zmb=7136]="SWITCH_PROFILES";g[g.Hjb=7137]="LOGBLOB";g[g.Qkb=7138]="PAUSE";g[g.amb=7139]="RESUME";g[g.xLa=7140]="SPLICE";g[g.t7b=7141]="DOWNLOAD_EVENT";g[g.ifb=7142]="BIND";g[g.Okb=7143]="PAIR";g[g.jfb=7144]="BIND_DEVICE";g[g.lib=7145]="GENERATE_SCREENSHOTS";g[g.mlb=7202]="PLAY_INIT_EXCEPTION";g[g.T8b=7301]="MEDIA_DOWNLOAD";g[g.$9b=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";g[g.a$b=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";g[g.Kea=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";g[g.slb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";g[g.zIa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";g[g.tlb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";g[g.Lea=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";g[g.b$b=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";g[g.rlb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";g[g.DIa=7351]="PLAY_MSE_NOTSUPPORTED";g[g.yIa=7353]="PLAY_MSE_DECODER_TIMEOUT";g[g.Mea=7355]="PLAY_MSE_SOURCEADD";g[g.xIa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";g[g.pS=7357]="PLAY_MSE_GENERATEKEYREQUEST";g[g.e$b=7358]="PLAY_MSE_PARSECHALLENGE";g[g.Z9b=7359]="PLAY_MSE_ADDKEY";g[g.h$b=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";g[g.CIa=7361]="PLAY_MSE_EVENT_ERROR";g[g.OK=7362]="PLAY_MSE_SETMEDIAKEYS";g[g.Hr=7363]="PLAY_MSE_EVENT_KEYERROR";g[g.vlb=7364]="PLAY_MSE_EME_SESSION_CLOSE";g[g.wlb=7365]="PLAY_MSE_GETCURRENTTIME";g[g.xlb=7367]="PLAY_MSE_SETCURRENTTIME";g[g.ylb=7371]="PLAY_MSE_SOURCEAPPEND";g[g.f$b=7373]="PLAY_MSE_SOURCEAPPEND_INIT";g[g.Clb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";g[g.Blb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";g[g.Alb=7377]="PLAY_MSE_UNEXPECTED_REWIND";g[g.g$b=7379]="PLAY_MSE_SOURCE_EOS";g[g.zlb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";g[g.EIa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";g[g.d$b=7385]="PLAY_MSE_KEYSESSION_UPDATE";g[g.nlb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";g[g.olb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";g[g.plb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";g[g.AIa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";g[g.ulb=7395]="PLAY_MSE_EME_MISSING_PSSH";g[g.c$b=7396]="PLAY_MSE_EME_MISSING_CERT";g[g.BIa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";g[g.qlb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";g[g.J1=7399]="PLAY_MSE_SET_LICENSE_ERROR";g[g.yDa=7400]="EXTERNAL";g[g.I1=7500]="PAUSE_TIMEOUT";g[g.n1=7502]="INACTIVITY_TIMEOUT";g[g.Teb=7510]="AUTHORIZATION_EXPIRED";g[g.j7b=7520]="DECRYPT_AUDIO";g[g.Nhb=7700]="EME_INVALID_KEYSYSTEM";g[g.jDa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";g[g.qR=7702]="EME_CREATE_MEDIAKEYS_FAILED";g[g.S0=7703]="EME_GENERATEREQUEST_FAILED";g[g.sDa=7704]="EME_UPDATE_FAILED";g[g.pDa=7705]="EME_KEYSESSION_ERROR";g[g.oDa=7706]="EME_KEYMESSAGE_EMPTY";g[g.Rhb=7707]="EME_REMOVE_FAILED";g[g.Phb=7708]="EME_LOAD_FAILED";g[g.Jhb=7709]="EME_CREATE_SESSION_FAILED";g[g.pda=7710]="EME_LDL_RENEWAL_ERROR";g[g.mDa=7711]="EME_INVALID_INITDATA_DATA";g[g.nDa=7712]="EME_INVALID_LICENSE_DATA";g[g.Ohb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";g[g.D7b=7714]="EME_MEDIAKEYS_GENERIC_ERROR";g[g.iDa=7716]="EME_CLOSE_FAILED";g[g.qDa=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";g[g.Thb=7718]="EME_SET_SERVER_CERTIFICATE";g[g.jlb=7800]="PLAYDATA_STORE_FAILURE";g[g.Y9b=7801]="PLAYDATA_SEND_FAILURE";g[g.WQ=7900]="BRANCH_PLAY_FAILURE";g[g.XQ=7901]="BRANCH_QUEUE_FAILURE";g[g.HAa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";g[g.qfb=7903]="BRANCH_CHOICE_MAP_MISSING";g[g.w9b=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";g[g.x9b=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";g[g.Wkb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.N || (b.N={}));(function(g){g[g.em=1001]="UNKNOWN";g[g.Qk=1003]="EXCEPTION";g[g.njb=1004]="INVALID_DI";g[g.Neb=1011]="ASYNCLOAD_EXCEPTION";g[g.Oeb=1013]="ASYNCLOAD_TIMEOUT";g[g.g6b=1015]="ASYNCLOAD_BADCONFIG";g[g.Leb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";g[g.Meb=1017]="ASYNCLOAD_COMPONENT_MISSING";g[g.SR=1101]="HTTP_UNKNOWN";g[g.Gda=1102]="HTTP_XHR";g[g.PR=1103]="HTTP_PROTOCOL";g[g.OR=1104]="HTTP_OFFLINE";g[g.RR=1105]="HTTP_TIMEOUT";g[g.nF=1106]="HTTP_READTIMEOUT";g[g.ZB=1107]="HTTP_ABORT";g[g.EEa=1108]="HTTP_PARSE";g[g.AEa=1110]="HTTP_BAD_URL";g[g.QR=1111]="HTTP_PROXY";g[g.mea=1203]="MSE_AUDIO";g[g.nea=1204]="MSE_VIDEO";g[g.Wjb=1250]="MSE_MEDIA_ERR_BASE";g[g.W8b=1251]="MSE_MEDIA_ERR_ABORTED";g[g.Z8b=1252]="MSE_MEDIA_ERR_NETWORK";g[g.X8b=1253]="MSE_MEDIA_ERR_DECODE";g[g.$8b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";g[g.Y8b=1255]="MSE_MEDIA_ERR_ENCRYPTED";g[g.ut=1260]="EME_MEDIA_KEYERR_BASE";g[g.J7b=1261]="EME_MEDIA_KEYERR_UNKNOWN";g[g.E7b=1262]="EME_MEDIA_KEYERR_CLIENT";g[g.I7b=1263]="EME_MEDIA_KEYERR_SERVICE";g[g.H7b=1264]="EME_MEDIA_KEYERR_OUTPUT";g[g.G7b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";g[g.F7b=1266]="EME_MEDIA_KEYERR_DOMAIN";g[g.K7b=1269]="EME_MEDIA_UNAVAILABLE_CDM";g[g.Mhb=1270]="EME_INTERNAL_ERROR";g[g.Ihb=1271]="EME_CLOSED_BY_APPLICATION";g[g.Qhb=1272]="EME_RELEASE_ACKNOWLEDGED";g[g.lDa=1273]="EME_HARDWARE_CONTEXT_RESET";g[g.Shb=1274]="EME_RESOURCE_EVICTED";g[g.Lhb=1280]="EME_ERROR_NODRMSESSSION";g[g.Khb=1281]="EME_ERROR_NODRMREQUESTS";g[g.A7b=1282]="EME_ERROR_INDIV_FAILED";g[g.B7b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";g[g.Uhb=1284]="EME_TIMEOUT_MESSAGE";g[g.L7b=1285]="EME_TIMEOUT_KEYCHANGE";g[g.rDa=1286]="EME_UNDEFINED_DATA";g[g.sK=1287]="EME_INVALID_STATE";g[g.C7b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";g[g.kDa=1289]="EME_EMPTY_DATA";g[g.rR=1290]="EME_TIMEOUT";g[g.l9b=1303]="NCCP_METHOD_NOT_SUPPORTED";g[g.o9b=1305]="NCCP_PARSEXML";g[g.Flb=1309]="PROCESS_EXCEPTION";g[g.n9b=1311]="NCCP_NETFLIXID_MISSING";g[g.p9b=1312]="NCCP_SECURENETFLIXID_MISSING";g[g.i9b=1313]="NCCP_HMAC_MISSING";g[g.h9b=1315]="NCCP_HMAC_MISMATCH";g[g.g9b=1317]="NCCP_HMAC_FAILED";g[g.f9b=1321]="NCCP_CLIENTTIME_MISSING";g[g.e9b=1323]="NCCP_CLIENTTIME_MISMATCH";g[g.iEa=1331]="GENERIC";g[g.pkb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";g[g.qkb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";g[g.q9b=1341]="NCCP_TRANSACTION";g[g.j9b=1343]="NCCP_INVALID_DRMTYPE";g[g.k9b=1344]="NCCP_INVALID_LICENCE_RESPONSE";g[g.m9b=1345]="NCCP_MISSING_PAYLOAD";g[g.n$b=1346]="PROTOCOL_NOT_INITIALIZED";g[g.m$b=1347]="PROTOCOL_MISSING_FIELD";g[g.l$b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";g[g.mC=1402]="STORAGE_NODATA";g[g.G$b=1403]="STORAGE_EXCEPTION";g[g.O$b=1405]="STORAGE_QUOTA_NOT_GRANTED";g[g.P$b=1407]="STORAGE_QUOTA_TO_SMALL";g[g.BLa=1411]="STORAGE_LOAD_ERROR";g[g.umb=1412]="STORAGE_LOAD_TIMEOUT";g[g.CLa=1414]="STORAGE_SAVE_ERROR";g[g.xmb=1415]="STORAGE_SAVE_TIMEOUT";g[g.Hfa=1417]="STORAGE_DELETE_ERROR";g[g.ALa=1418]="STORAGE_DELETE_TIMEOUT";g[g.N$b=1421]="STORAGE_FS_REQUESTFILESYSTEM";g[g.K$b=1423]="STORAGE_FS_GETDIRECTORY";g[g.M$b=1425]="STORAGE_FS_READENTRIES";g[g.H$b=1427]="STORAGE_FS_FILEREAD";g[g.J$b=1429]="STORAGE_FS_FILEWRITE";g[g.I$b=1431]="STORAGE_FS_FILEREMOVE";g[g.L$b=1432]="STORAGE_FS_PARSEJSON";g[g.wmb=1451]="STORAGE_NO_LOCALSTORAGE";g[g.vmb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";g[g.D9b=1501]="NTBA_UNKNOWN";g[g.C9b=1502]="NTBA_EXCEPTION";g[g.y9b=1504]="NTBA_CRYPTO_KEY";g[g.A9b=1506]="NTBA_CRYPTO_OPERATION";g[g.z9b=1508]="NTBA_CRYPTO_KEYEXCHANGE";g[g.B9b=1515]="NTBA_DECRYPT_UNSUPPORTED";g[g.oCa=1553]="DEVICE_NO_ESN";g[g.nCa=1555]="DEVICE_ERROR_GETTING_ESN";g[g.cib=1701]="FORMAT_UNKNOWN";g[g.XDa=1713]="FORMAT_XML";g[g.dib=1715]="FORMAT_XML_CONTENT";g[g.bib=1721]="FORMAT_BASE64";g[g.X0=1723]="FORMAT_DFXP";g[g.Cib=1801]="INDEXDB_OPEN_EXCEPTION";g[g.$Ea=1802]="INDEXDB_NOT_SUPPORTED";g[g.Bib=1803]="INDEXDB_OPEN_ERROR";g[g.aFa=1804]="INDEXDB_OPEN_NULL";g[g.Aib=1805]="INDEXDB_OPEN_BLOCKED";g[g.Dib=1807]="INDEXDB_OPEN_TIMEOUT";g[g.zib=1808]="INDEXDB_INVALID_STORE_STATE";g[g.o1=1809]="INDEXDB_ACCESS_EXCEPTION";g[g.fkb=1901]="MSL_UNKNOWN";g[g.Zjb=1911]="MSL_INIT_NO_MSL";g[g.SGa=1913]="MSL_INIT_ERROR";g[g.$jb=1915]="MSL_INIT_NO_WEBCRYPTO";g[g.Xjb=1931]="MSL_ERROR";g[g.ekb=1933]="MSL_REQUEST_TIMEOUT";g[g.dkb=1934]="MSL_READ_TIMEOUT";g[g.Yjb=1935]="MSL_ERROR_HEADER";g[g.a9b=1936]="MSL_ERROR_ENVELOPE";g[g.b9b=1937]="MSL_ERROR_MISSING_PAYLOAD";g[g.RGa=1957]="MSL_ERROR_REAUTH";g[g.fga=2103]="WEBCRYPTO_MISSING";g[g.Zmb=2105]="WEBCRYPTOKEYS_MISSING";g[g.$mb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";g[g.Q6b=2200]="CACHEDDATA_PARSEJSON";g[g.dBa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";g[g.R6b=2202]="CACHEDDATA_UPGRADE_FAILED";g[g.WB=2203]="CACHEDDATA_INVALID_FORMAT";g[g.d6b=3E3]="ACCOUNT_CHANGE_INFLIGHT";g[g.e6b=3001]="ACCOUNT_INVALID";g[g.s7b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";g[g.r7b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";g[g.p7b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";g[g.q7b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";g[g.o7b=3202]="DOWNLOADED_LICENSE_EXCEPTION";g[g.Q$b=3300]="STORAGE_VA_LOAD_ERROR";g[g.R$b=3301]="STORAGE_VA_LOAD_TIMEOUT";g[g.U$b=3302]="STORAGE_VA_SAVE_ERROR";g[g.V$b=3303]="STORAGE_VA_SAVE_TIMEOUT";g[g.S$b=3304]="STORAGE_VA_REMOVE_ERROR";g[g.T$b=3305]="STORAGE_VA_REMOVE_TIMEOUT";g[g.Hea=3077]="PBO_DEVICE_EOL_WARNING";g[g.rIa=3078]="PBO_DEVICE_EOL_FINAL";g[g.uIa=3100]="PBO_DEVICE_RESET";g[g.tIa=3101]="PBO_DEVICE_RELOAD";g[g.sIa=3102]="PBO_DEVICE_EXIT";g[g.glb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";g[g.Rkb=5005]="PBO_ACCOUNT_ON_HOLD";g[g.Vkb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";g[g.vIa=5007]="PBO_INCORRECT_PIN";g[g.dlb=5008]="PBO_MOBILE_ONLY";g[g.hlb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";g[g.$kb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";g[g.Tkb=5059]="PBO_BLACKLISTED_IP";g[g.Skb=5070]="PBO_AGE_VERIFICATION_REQUIRED";g[g.Ukb=5080]="PBO_CHOICE_MAP_ERROR";g[g.elb=5090]="PBO_RESTRICTED_TO_TESTERS";g[g.blb=5091]="PBO_MALFORMED_REQUEST";g[g.alb=5092]="PBO_INVALID_SERVICE_VERSION";g[g.clb=5093]="PBO_MDX_INVALID_CTICKET";g[g.Zkb=5094]="PBO_FREE_PREVIEW_ENDED";g[g.flb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";g[g.Ykb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";g[g.Xkb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";g[g.Cgb=5100]="DECODER_TIMEOUT_BUFFERING";g[g.Egb=5101]="DECODER_TIMEOUT_PRESENTING";g[g.Dgb=5102]="DECODER_TIMEOUT_PLAYING";g[g.thb=5200]="DOWNLOADER_IO_ERROR";g[g.GAa=5300]="BRANCHING_SEGMENT_NOTFOUND";g[g.mfb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";g[g.u6b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";g[g.Hca=5303]="BRANCHING_ASE_UNINITIALIZED";g[g.q6b=5304]="BRANCHING_ASE_FAILURE";g[g.r6b=5305]="BRANCHING_MOMENT_FAILURE";g[g.kfb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";g[g.t6b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";g[g.nfb=5308]="BRANCHING_SEEK_THREW";g[g.s6b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";g[g.lfb=5310]="BRANCHING_PLAY_TIMEDOUT";g[g.ofb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";g[g.pfb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";g[g.ymb=5500]="STUDIO_MUXED_MANIFEST";g[g.hea=5600]="MANIFEST_HYDRATION_FAILURE";g[g.Veb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";g[g.Web=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";})(c=b.M || (b.M={}));(function(g){g[g.F6b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";g[g.v6b=5005]="BR_ACCOUNT_ON_HOLD";g[g.z6b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";g[g.C6b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";g[g.y6b=5059]="BR_BLACKLISTED_IP";g[g.w6b=5070]="BR_AGE_VERIFICATION_REQUIRED";g[g.D6b=2204]="BR_PLAYBACK_CONTEXT_CREATION";g[g.A6b=2205]="BR_DRM_LICENSE_AQUISITION";g[g.E6b=2206]="BR_PLAYBACK_SERVICE_ERROR";g[g.B6b=2207]="BR_ENDPOINT_ERROR";g[g.x6b=2208]="BR_AUTHORIZATION_ERROR";})(b.MDa || (b.MDa={}));b.m1={xfb:"400",pac:"401",KIa:"413"};b.v1={i8b:1,iac:2,O7b:3,oac:4,M8b:5,N7b:6,Zfa:7,Q7b:8,v$b:9,D$b:10};(function(g){g[g.W9b=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";g[g.X9b=98]="PAIRING_UNKNOWN_ERROR";})(b.hHa || (b.hHa={}));b.Yhb=function(g){return 7100 <= g && 7200 > g;};b.sda=function(g,l){return g == a.I1 || g == a.n1 || g == a.Kea && 432E5 <= l;};b.NDa=function(g){return 1100 <= g && 1199 >= g;};b.$hb=function(g){return 1300 <= g && 1399 >= g;};b.Zhb=function(g){return 1900 <= g && 1999 >= g;};b.tda=function(g,l){return 1 <= g && 9 >= g?l + g:l;};b.ODa=function(g){return (0,b.tda)(g,c.Wjb);};b.PDa=function(g){return (0,b.tda)(g,c.ut);};b.Fv=function(g){var l,m,d;l={};m=g.errorExternalCode || g.wf;d=g.errorDetails || g.yb;l.ErrorSubCode=g.errorSubCode || g.sa || c.em;m && (l.ErrorExternalCode=m);d && (l.ErrorDetails=d);return l;};},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(2);g=a(143);l=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);return d;})(Error);b.assert=function(m,d){if(!m)try{throw new l(d || "Assertion failed");}catch(f){throw (g.en.I.error("Assertion failed",{value:m,message:d,stack:f.stack}),f);}};},function(t,b,a){var l;function c(){return l.HS.apply(this,arguments) || this;}function g(m){return new l.vt(m,b.la);}Object.defineProperty(b,"__esModule",{value:!0});b.eb=b.QEa=b.wea=b.Ao=b.la=b.AF=b.timestamp=b.PLb=b.H9=b.Ch=b.Nc=b.$7a=b.wRb=b.Nmb=void 0;l=a(319);na(c,l.HS);b.Nmb=c;b.wRb=function(m){return new l.vt(m,b.AF);};b.$7a=function(m){return new l.vt(m * b.Ao.zg,b.AF);};b.Nc=g;b.Ch=function(m){return new l.vt(m,b.Ao);};b.H9=function(m){return new l.vt(m,b.wea);};b.PLb=function(m){return new l.vt(m,b.QEa);};b.timestamp=function(m){return g(m);};b.AF=new c(1,"\u03bcs");b.la=new c(1E3,"ms",b.AF);b.Ao=new c(1E3 * b.la.zg,"s",b.AF);b.wea=new c(60 * b.Ao.zg,"min",b.AF);b.QEa=new c(60 * b.wea.zg,"hr",b.AF);b.eb=g(0);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={PW:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pR=b.ub=b.bea=b.Sj=void 0;t=b.Sj || (b.Sj={});t[t.aib=0]="FATAL";t[t.Qf=1]="ERROR";t[t.ega=2]="WARN";t[t.Kda=3]="INFO";t[t.yMa=4]="TRACE";t[t.ia=5]="DEBUG";b.bea="LogFieldBuilderFactorySymbol";b.ub="LoggerFactorySymbol";b.pR={};},function(t,b,a){var c,g,l,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.pa=b.hKa=b.cW=b.Sh=b.aj=b.log=b.bg=b.EN=b.ISa=b.Yr=b.UC=b.Xc=b.nvb=b.Sja=b.lvb=b.mvb=b.sj=b.yQ=b.I_=b.di=b.Oc=b.za=void 0;c=a(199);t=a(7);g=a(26);l=a(78);m=a(77);d=a(36);f=a(30);h=a(142);k=a(38);a=a(48);b.za=c.dc.get(k.gi);b.Oc=c.dc.get(a.Wj);b.di=c.dc.get(l.Uv);b.I_=b.di.encode.bind(b.di);b.yQ=b.di.decode.bind(b.di);b.sj=c.dc.get(m.Vx);b.mvb=b.sj.encode.bind(b.sj);b.lvb=b.sj.decode.bind(b.sj);b.Sja=b.sj.wH.bind(b.sj);b.nvb=b.sj.rcb.bind(b.sj);b.Xc=c.dc.get(d.Ji);b.UC=function(n){n=(0,f.Ve)(n)?(0,b.yQ)(n):n;return b.Xc.encode(n);};b.Yr=b.Xc.decode.bind(b.Xc);b.ISa=function(n){return (0,b.I_)((0,b.Yr)(n));};b.EN=function(){return c.dc.get(g.$x);};b.bg=c.dc.get(t.ub);b.log=b.bg.mb("General");b.aj=function(n,p){return b.bg.mb(n,void 0,p);};b.Sh=function(n,p,q){return b.bg.mb(p,n,q);};b.cW=function(n,p,q,u){return b.bg.mb(n,void 0,u,p,q);};b.hKa=function(n,p,q){return c.dc.get(h.uS)(n,p,q).t_();};b.pa=c.dc;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sS=b.jEa=b.INa=void 0;t=a(2);t.__exportStar(a(354),b);t.__exportStar(a(100),b);t.__exportStar(a(21),b);t.__exportStar(a(752),b);t.__exportStar(a(753),b);t.__exportStar(a(754),b);t.__exportStar(a(755),b);t.__exportStar(a(756),b);t.__exportStar(a(757),b);t.__exportStar(a(758),b);c=t.__importDefault(a(759));b.INa=c.default;c=t.__importDefault(a(760));b.jEa=c.default;a=t.__importDefault(a(364));b.sS=a.default;},function(t){var b;b={Fa:function(a){return "number" === typeof a;},Th:function(a){return "object" === typeof a;},Ve:function(a){return "string" === typeof a;},ka:function(a){return "undefined" === typeof a;},ddc:function(a){return "boolean" === typeof a;},kd:function(a){return "function" === typeof a;},Fb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},HUb:function(a){var c,g;g=[];if(!b.Th(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && g.push([c,a[c]]);}return g;}};b.tf=b.forEach=function(a,c,g){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var l=0,m=a.length;l < m;l++){c.call(g,a[l],l,a);}else for(l in a){b.has(a,l) && c.call(g,a[l],l,a);}return a;};t.exports=b;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rra=b.localStorage=b.FMb=b.indexedDB=b.x1=b.oq=b.fC=b.eC=b.URL=b.A1=b.y1=b.gHa=b.t1=b.xF=b.yF=b.Jp=b.xo=b.Tj=b.qea=b.bC=b.rMa=b.nK=b.IF=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.hz=b.skb=b.Be=b.Lv=b.UHa=b.Mv=b.z1=b.gC=void 0;t=nb;b.Qe=t.navigator;b.gC=null === b.Qe || void 0 === b.Qe?void 0:b.Qe.userAgent;b.z1=t.location;b.Mv=t.screen;b.UHa=t.devicePixelRatio;b.Lv=t.performance;b.Be=t.document;b.skb=b.Be.documentElement;b.hz=Array.prototype;b.sort=b.hz.sort;b.map=b.hz.map;b.slice=b.hz.slice;b.every=b.hz.every;b.reduce=b.hz.reduce;b.filter=b.hz.filter;b.forEach=b.hz.forEach;b.pop=b.hz.pop;b.IF=Object.create;b.nK=Date.now;b.rMa=String.fromCharCode;b.bC=Math.floor;b.qea=Math.ceil;b.Tj=Math.round;b.xo=Math.max;b.Jp=Math.min;b.yF=Math.random;b.xF=Math.abs;b.t1=Math.pow;b.gHa=Math.sqrt;b.y1=t.escape;b.A1=t.unescape;b.URL=t.URL || t.webkitURL;b.eC=t.MediaSource || t.WebKitMediaSource;b.fC=t.webkitCrypto || t.msCrypto || t.crypto;b.oq=b.fC && (b.fC.webkitSubtle || b.fC.subtle);b.x1=t.webkitCryptokeys || t.msCryptokeys || t.cryptokeys;try{b.indexedDB=t.indexedDB;}catch(a){b.FMb=a || "noex";}try{b.localStorage=t.localStorage;}catch(a){b.Rra=a || "noex";}},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.HK=b.s1=b.Ifb=b.Dfb=b.Ffb=b.Gfb=b.UAa=b.Cfb=b.Efb=b.TAa=b.Hfb=b.Ofb=b.Mfb=b.Nfb=b.Lfb=b.Ehb=b.Dhb=b.Chb=b.Njb=b.Ojb=b.ly=b.NGa=b.OGa=b.GK=b.bDa=b.Ghb=b.nda=b.R0=b.Gkb=b.omb=b.JGa=b.wfb=b.kCa=b.H1=b.HF=b.G1=b.IGa=b.ky=b.vfb=b.FAa=b.Cjb=b.Wmb=b.Mjb=b.Ljb=b.hmb=b.gmb=b.cm=b.af=b.$Ka=b.Bl=void 0;b.zfa=void 0;b.Bl=function(){};b.$Ka=function(){return !0;};b.af={aa:!0};b.cm=1E3;b.gmb=86400;b.hmb=604800;b.Ljb=1E4;b.Mjb=1E7;b.Wmb=1.5;b.Cjb=.128;b.FAa=7.8125;b.vfb=128;b.ky=145152E5;b.IGa=1E5;b.G1="$netflix$player$order";b.HF=-1;b.H1=1;b.kCa=["en-US"];b.wfb=8;b.JGa=65535;b.omb=65536;b.Gkb=Number.MAX_VALUE;b.R0="playready";b.nda="widevine";b.Ghb="fps";b.bDa="clearkey";b.GK='audio/mp4; codecs="mp4a.40.5"';b.OGa='audio/mp4; codecs="mp4a.40.42"';b.NGa='audio/mp4; codecs="mp4a.a6"';b.ly='video/mp4; codecs="avc1.640028"';b.Ojb='video/mp4; codecs="hev1.2.6.L153.B0"';b.Njb='video/mp4; codecs="dvhe.01000000"';b.Chb="9A04F079-9840-4286-AB92-E65BE0885F95";b.Dhb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Ehb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.Lfb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.Nfb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.Mfb="4E657466-6C69-7846-7261-6D6552617465";b.Ofb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.Hfb="mp4a";b.TAa="enca";b.Efb="ec-3";b.Cfb="avc1";b.UAa="encv";b.Gfb="hvcC";b.Ffb="hev1";b.Dfb="dvhe";b.Ifb="vp09";b.s1=0;b.HK=1;b.zfa="position:relative;width:100%;height:100%;overflow:hidden";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hn={rbc:"casttv",Oka:"chrome",vbc:"chromecast",sq:"edge",KWa:"edgeoss",gYa:"firefox",Xcc:"ie",opera:"opera",i$a:"safari",Qbb:"tesla"};b.yo={a4:"android",T1a:"ios",LTa:"chromeos",r3a:"linux",T3a:"mac",Iza:"windows"};b.l1={gyb:"computer",phone:"phone",p2b:"tablet"};b.bd="ConfigSymbol";},function(t,b,a){var l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E;function c(D){return (D=b.config.M3b[g(D)])?D:{};}function g(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":D;}Object.defineProperty(b,"__esModule",{value:!0});b.kyb=b.lyb=b.vUa=b.kla=b.jyb=b.wUa=b.iyb=b.xUa=b.jla=b.config=void 0;l=a(12);m=a(49);d=a(8);f=a(42);h=a(22);a(30);k=a(26);n=a(45);p=a(24);a(7);q=a(11);u=a(17);r=a(171);w=a(50);v=a(87);x=a(111);y=a(52);z=a(5);A=a(35);B=a(19);E=a(123);b.xUa=function(D,F){var ra,Y,pa,T,R,ea,sa,la,Ka;function G(Ua,$a){(0,p.ve)(Ua,function(Za,cb){(0,u.kd)(cb)?$a[Za]=cb.call(void 0,$a[Za]):(0,u.Th)(cb) && ($a[Za]=$a[Za] || ({}),G(cb,$a[Za]));});}function C(Ua,$a,Za,cb){for(var Va=[],Qa=3;Qa < arguments.length;++Qa){Va[Qa - 3]=arguments[Qa];}return function(xa){(0,u.$c)(xa) && (Za=xa);(0,h.jb)((0,u.kd)(Ua));return Ua.apply(void 0,[$a,Za].concat(ha(Va)));};}function H(Ua){Ua=Ua.toLowerCase();T.hasOwnProperty(Ua) && (pa[Ua]=T[Ua],R[Ua]=T[Ua]);return Ua;}function K(Ua,$a,Za){var cb;Ua=Ua.toLowerCase();if(pa.hasOwnProperty(Ua)){cb=pa[Ua];try{cb=Za?Za(cb):cb;}catch(Va){cb=void 0;}if(void 0 !== cb)return cb;(0,h.jb)(!1);d.log.error("Invalid configuration value. Name: " + Ua);}return $a;}function M(Ua,$a,Za,cb){return K(Ua,$a,function(Va){(0,u.Ve)(Va) && (Va=(0,p.Je)(Va));if((0,u.h2a)(Va,Za,cb))return Va;});}function I(Ua,$a,Za,cb){return K(Ua,$a,function(Va){(0,u.Ve)(Va) && (Va=(0,p.Je)(Va));if((0,u.vA)(Va,Za,cb))return Va;});}function Q(Ua,$a,Za,cb){return K(Ua,$a,function(Va){(0,u.Ve)(Va) && (Va=parseFloat(Va));if((0,u.Fa)(Va,Za,cb))return Va;});}function L(Ua,$a,Za){return K(Ua,$a,function(cb){if(Za?Za.test(cb):(0,u.Ve)(cb))return cb;});}function J(Ua,$a){return K(Ua,$a,function(Za){if("true" == Za || !0 === Za)return !0;if("false" == Za || !1 === Za)return !1;});}function O(Ua,$a){return K(Ua,$a,function(Za){if((0,u.Ve)(Za))return JSON.parse((0,q.A1)(Za));if((0,u.Th)(Za))return Za;});}function N(Ua,$a,Za,cb,Va,Qa){var xa;Ua=Ua.toLowerCase();pa.hasOwnProperty(Ua) && (xa=pa[Ua]);if(!(0,u.$c)(xa))return $a;if((0,u.Ve)(xa))if(xa[0] !== Za)xa=cb(xa);else try{xa=JSON.parse((0,q.A1)(xa));}catch(Da){xa=void 0;}if(void 0 === xa)return $a;for(Ua=0;Ua < Va.length;Ua++){if(!Va[Ua](xa))return $a;}return Qa?Qa(xa):xa;}function P(Ua,$a,Za,cb,Va){return N(Ua,$a,"[",function(Qa){Qa=Qa.split("|");for(var xa=Qa.length;xa--;){Qa[xa]=(0,p.Je)(Qa[xa]);}return Qa;},[function(Qa){return (0,u.isArray)(Qa) && 0 < Qa.length;},function(Qa){for(var xa=Qa.length;xa--;){if(!(0,u.vA)(Qa[xa],Za,cb))return !1;}return !0;},function(Qa){return void 0 === Va || Qa.length >= Va;}]);}function S(Ua,$a){return N(Ua,$a,"[",function(Za){Za=(0,u.isArray)(Za)?Za:Za.split("|");for(var cb=Za.length;cb--;){try{Za[cb]=JSON.parse((0,q.A1)(Za[cb]));}catch(Va){Za=void 0;break;}}return Za;},[function(Za){return (0,u.isArray)(Za) && 0 < Za.length;},function(Za){for(var cb=Za.length;cb--;){if(!(0,u.$c)(Za[cb]) || !(0,u.Th)(Za[cb]))return !1;}return !0;}]);}function U(Ua,$a){var Za;Za=Z(Ua,[]);return Za && 0 < Za.length?(0,E.ho)(Za):S(Ua,$a);}function Z(Ua,$a,Za,cb){return N(Ua,$a,"[",function(Va){return (0,u.isArray)(Va)?Va:Va.split("|");},[function(Va){return (0,u.isArray)(Va) && 0 < Va.length;},function(Va){for(var Qa=Va.length;Qa--;){if(Za?!Za.test(Va[Qa]):!(0,u.wA)(Va[Qa]))return !1;}return !0;},function(Va){return void 0 === cb || Va.length >= cb;}]);}function ja(Ua,$a,Za){return N(Ua,$a,"{",function(cb){var Va,xa,Da;Va={};cb=cb.split(";");for(var Qa=cb.length;Qa--;){xa=cb[Qa];Da=xa.indexOf(":");if(0 >= Da)return;Va[xa.substring(0,Da)]=xa.substring(Da + 1);}return Va;},[function(cb){return (0,u.Th)(cb) && 0 < Object.keys(cb).length;},function(cb){if(Za)for(var Va in cb){if(!Za.test(cb[Va]))return !1;}return !0;}],function(cb){var Va;Va={};(0,p.bc)(Va,$a);(0,p.bc)(Va,cb);return Va;});}function ya(Ua){var $a;$a=[];(0,p.ve)(Ua,function(Za,cb){var Va;try{Va="videoapp" === Za.toLowerCase()?"[object object]":JSON.stringify(cb);}catch(Qa){Va="cantparse";}$a.push(Za + "=" + Va);});return $a.join("\n");}ra=/^[0-9]+[%]?$/;Y=/^[0-9]*$/;R={};ea=d.pa.get(f.jn);sa=d.pa.get(x.KF);(function(Ua){function $a(Za){Za.split(",").forEach(function(cb){var Va;Va=cb.indexOf("=");0 < Va && (pa[cb.substring(0,Va).toLowerCase()]=cb.substring(Va + 1));});}pa={};(0,p.bc)(pa,Ua);D && D.length && q.forEach.call(D,function(Za){(0,u.Ve)(Za)?$a(Za):(0,u.Th)(Za) && (0,p.bc)(pa,Za,{wO:!0});});T=(0,p.bc)({},(0,m.i7)(),{wO:!0});if(Ua=(0,m.J8a)().cadmiumconfig)(d.log.info("Config cookie loaded",Ua),$a(Ua));if(d.pa.get(A.Dl).Y3 || pa.istestaccount)((0,p.bc)(pa,T),R=T);})(F);b.config={};la={DEb:C(J,H("enableXHEAAC"),!1),UWa:C(J,H("enableDDPlus20"),!0),TWa:C(J,H("enableDDPlus"),!0),CV:C(J,H("enableDDPlusAtmos"),!1),jEb:C(J,H("enableLSSDH"),!0),cEb:C(J,H("enableHEVC"),!1),S6a:C(J,H("overrideEnableHEVC"),!1),Jma:C(J,H("enableHDR"),!1),R6a:C(J,H("overrideEnableHDR"),!1),Q6a:C(J,H("overrideEnableDV"),!1),fN:C(J,H("enableAVCHigh"),sa.fN),HI:C(J,H("overrideEnableAVCHigh"),sa.HI),BEb:C(J,H("enableVP9"),!1),T6a:C(J,H("overrideEnableVP9"),!1),WDb:C(J,H("enableAV1"),!1),P6a:C(J,H("overrideEnableAV1"),!1),DUb:C(J,H("overrideEnableXHEAAC"),!1),rEb:C(J,H("enablePRK"),!1),aEb:C(J,H("enableDV"),!1),dEb:C(J,H("enableHWDRM"),!1),gEb:C(J,H("enableImageSubs"),!0),N4b:C(J,H("useLegacySubs"),!1),IG:C(U,H("audioProfiles"),sa.IG),Nbc:C(J,H("disableHD"),!1),zEb:C(J,H("enableUHD"),!0),Rba:C(I,"videoCapabilityDetectorType",k.nj.Cv),Cja:C(I,"audioCapabilityDetectorType",k.zv.Cv),dn:C(U,H("videoProfiles"),sa.dn),xRa:C(U,H("additionalVideoProfiles"),[]),lsb:C(Z,H("timedTextProfiles"),sa.uv),uv:function(){return la.lsb().filter(function(Ua){return Ua === n.El.bda?la.jEb():Ua === n.El.LK?la.gEb():!0;});},endpoint:C(J,H("endpoint"),!1),version:C(L,"version","unknown"),$$a:C(J,H("setMediaKeysEarly"),!1),pec:C(J,H("nrdpPersistCookiesToIndexDB"),!1),Edb:C(J,H("useHdcpLevelOnCast"),!1),eEb:C(J,H("enableHdcp"),!1),sx:C(J,H("prepareCadmium"),!1),Lsb:C(J,H("acceptManifestOnPrepareItemParams"),!0),cWb:C(O,"ppmconfig",{maxNumberTitlesScheduled:1}),KVb:C(J,H("playerPredictionModelV2"),!0),EV:C(J,H("enableLdlPrefetch"),!1),$Wa:C(J,H("enableMediaPrefetch"),!1),lEb:C(J,H("enableManifestCache"),!0),sCb:C(J,H("deleteCachedManifestOnPlayback"),!1),rCb:C(J,H("deleteCachedManifestOnCreate"),!1),wCb:C(J,H("deleteOtherManifestCacheOnCreate"),!1),vCb:C(J,H("deleteOtherLdlCacheOnCreate"),!1),Gec:C(I,H("periodicPrepareLogsIntervalMilliseconds"),36E5),zWb:C(I,H("prepareManifestCacheMaxCount"),50),xWb:C(I,H("prepareLdlCacheMaxCount"),30),d8a:C(I,H("prepareManifestExpiryMilliseconds"),12E5),yWb:C(I,H("prepareLdlExpiryMilliseconds"),78E4),rWb:C(I,H("prefetcherMaxWishlistSize"),10),qWb:C(I,H("prefetcherBudgetInBytes"),Infinity),sWb:C(J,H("prefetcherOverrideItemPriority"),!0),wWb:C(L,H("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),Zfc:C(O,"videoApp"),OE:C(O,"storageRules"),A6:C(J,"ftlEnabled",sa.A6),lqa:C(I,H("imageSubsResolution"),0),nMb:C(I,H("imageSubsMaxBuffer"),sa.LQb.da(y.Av),0),LU:C(J,H("captureBatteryStatus"),!1),qHb:C(I,H("getBatteryApiTimeoutMilliseconds"),5E3),Im:C(L,H("keySystemId"),sa.Im),X2a:C(Z,H("keySystemList"),void 0,void 0),ARb:C(I,H("hdcpGlobalTimeout1"),1E4),BRb:C(I,H("hdcpGlobalTimeout2"),1E4),Udc:C(I,H("hdcpQueryTimeout1"),1E3),Vdc:C(I,H("hdcpQueryTimeout2"),1E3),$4a:C(I,H("hdcpQueryTimeout2"),100),CRb:C(J,H("microsoftHwdrmRequiresHevc"),!1),Xsa:C(J,H("microsoftClearLeadRequiresSwdrm"),!1),xRb:C(J,H("microsoftEnableDeviceInfo"),!1),yRb:C(J,H("microsoftEnableHardwareInfo"),!1),zRb:C(J,H("microsoftEnableHardwareReset"),!1),L4b:C(J,H("useHevcCodecForDolbyVision"),!1),nEb:C(J,H("enableMediaCapabilities"),!1),bWb:C(J,H("powerEfficientForVideo"),!1),oEb:C(J,H("enableMediaCapabilitiesSourceBufferCheck"),!1),QPb:C(J,"logMediaPipelineStatus",!1),fZ:C(J,H("renderDomDiagnostics"),!0),H3a:function(){return -1;},uO:C(M,H("logDisplayMaxEntryCount"),sa.uO,-1),WPb:C(M,H("logToConsoleLevel"),-1),ibc:C(M,H("bladerunnerCmdHistorySize"),10),Jw:function(){return ea.Jw;},Wra:C(J,"logErrorIfEsnNotProvided",!0),Qma:C(J,"enforceSinglePlayback",sa.Qma),S5:C(J,"enforceSingleSession",sa.S5),Zka:C(J,"closeOtherPlaybacks",!0),Aub:C(I,"asyncLoadTimeout",15E3,1),dQb:C(I,"mainThreadMonitorPollRate",0),oec:C(J,"nrdpAlwaysShowUIOverlay",!1),qec:C(J,"nrdpValidateSSOTokens",!0),nfc:C(J,"showNrdpDebugBadging",!1),Vba:function(){return ea.Vba;},jA:function(){return ea.jA;},zM:function(){return ea.zM;},VJ:function(){return ea.VJ;},Vdb:C(I,H("verbosePlaybackInfoDenominator"),0),haa:C(J,"renderTimedText",!0),dWb:C(J,"preBufferTimedText",!0),vFb:C(J,"fatalOnTimedTextLoadError",!0),Aya:C(ja,"timedTextStyleDefaults",{}),oba:C(ja,"timedTextStyleOverrides",{}),zya:C(ja,"timedTextFontFamilyMapping",sa.zya || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),nQ:C(I,"timedTextSimpleFallbackThreshold",sa.nQ.da(y.Av)),YN:C(Z,H("imscLanguageList"),sa.YN,[]),Pla:C(L,H("customDfxpUrl")),yEb:C(J,H("enableSubtitleTrackerLogging"),!1),n_b:C(J,H("sendSubtitleQoeLogblobOnMidplay"),!1),Aka:C(P,"cdnIdWhiteList",[]),zka:C(P,"cdnIdBlackList",[]),Kna:C(L,H("forceAudioTrack")),lSb:C(J,"muteVolumeOnPlaybackClose",!0),rec:C(L,"nrdpVolumeControlType","VOLUME_STREAM"),Ona:C(L,H("forceTimedTextTrack")),SQb:C(I,H("maxRetriesTimedTextDownload"),0),M2b:C(I,H("timedTextRetryInterval"),8E3),u1b:C(L,"storageType","idb",/^(none|fs|idb|ls)$/),D3a:C(I,"lockExpiration",1E4),OPb:C(I,"lockRefresh",3E3),Hwb:C(J,"captureUnhandledExceptions",!0),mMb:C(J,"ignoreUnhandledExceptionDuringPlayback",!0),P3b:C(J,"unhandledExceptionsArePlaybackErrors",!1),Rcb:C(L,"unhandledExceptionSource",""),IWb:C(J,"preserveLastFrame",!1),JRb:C(I,"minBufferingTimeInMilliseconds",4E3),dXb:C(I,"progressBackwardsGraceTimeMilliseconds",4E3),eXb:C(I,"progressBackwardsMinPercent",10),yvb:C(L,H("bookmarkIgnoreBeginning"),"0",ra),zvb:C(L,H("bookmarkIgnoreEnd"),"5%",ra),Avb:C(L,H("bookmarkIgnoreEndForBranching"),"60000",ra),zO:C(I,"maxParallelConnections",3),nwa:C(J,"reportThroughputInLogblobs",!0),hx:C(I,"minAudioMediaRequestDuration",16E3),HRb:C(I,"minAudioMediaRequestDurationBranching",0),QA:C(I,"minVideoMediaRequestDuration",4E3),QRb:C(I,"minVideoMediaRequestDurationVariableGOP",0),ORb:C(I,"minVideoMediaRequestDurationBranching",0),w9:C(I,"minAudioMediaRequestSizeBytes",0),F9:C(I,"minVideoMediaRequestSizeBytes",0),DDb:C(J,"droppedFrameRateFilterEnabled",!1),EDb:C(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),GDb:C(function(Ua,$a,Za,cb,Va,Qa){return N(Ua,$a,"[",function(xa){xa=xa.split(";");for(var Da=xa.length;Da--;){xa[Da]=xa[Da].split("|");for(var Na=xa[Da].length;Na--;){xa[Da][Na]=(0,p.Je)(xa[Da][Na]);}}return xa;},[function(xa){return (0,u.isArray)(xa) && 0 < xa.length;},function(xa){for(var Da=xa.length;Da-- && void 0 !== xa;){if(!(0,u.isArray)(xa[Da]))return !1;for(var Na=xa[Da].length;Na--;){if(!(0,u.vA)(xa[Da][Na],Za,cb))return !1;}}return !0;},function(xa){if(void 0 !== Va)for(var Da=xa.length;Da--;){if(Va !== xa[Da].length)return !1;}return !0;},function(xa){return void 0 === Qa || xa.length >= Qa;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),Ybc:C(J,"droppedFrameRateFilterWithoutRebufferEnabled",!0),FDb:C(I,"droppedFrameRateFilterMinHeight",384),HDb:C(P,"droppedFramesPercentilesList",[]),DRb:C(J,"microsoftScreenSizeFilterEnabled",!1),AOb:C(J,"keyStatusFilterEnabled",!1),H0a:C(I,"hdcpEngagementWaitTime",0),L3b:C(J,"uiLabelFilterEnabled",!0),K3b:C(O,"uiLabelFilter",{}),mCb:C(I,H("defaultVolume"),100,0,100),Fsa:C(I,H("maxPlaybackRate"),2,0,16),hWa:C(J,"disableVideoRightClickMenu",!1),A9:C(I,"minDecoderBufferMilliseconds",1E3,0,l.ky),GI:C(I,"optimalDecoderBufferMilliseconds",5E3,0,l.ky),E6a:C(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,l.ky),hE:C(I,"minimumTimeBeforeBranchDecision",3E3,0,l.ky),n5a:C(I,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,l.ky),HA:C(I,"maxDecoderBufferMilliseconds",sa.HA.da(z.la),0,l.ky),JVa:C(I,"decoderTimeoutMilliseconds",1E4,1),O5a:C(I,"noRenderTimeoutMilliseconds",0),$Cb:C(J,"disgardMediaOnAppend",!1),bub:C(J,"appendMediaBeforeInit",!1),ZUb:C(I,"pauseTimeoutLimitMilliseconds",18E5),nqa:C(I,"inactivityMonitorInterval",3E4,0),Ksb:C(P,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),iN:C(J,"enableTrickPlay",!1),Ctb:C(P,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),v3b:C(I,"trickPlayHighResolutionBitrateThreshold",1E3),w3b:C(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),z3b:C(Q,"trickplayBufferFactor",.5),u3b:C(I,"trickPlayDownloadRetryCount",1),xsa:C(L,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),rta:C(L,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),OEa:C(O,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),w4a:C(M,"maxIQRSamples",Infinity),i5a:C(M,"minIQRSamples",5),Ldb:C(J,"useResourceTimingAPI",!1),iMb:C(J,"ignoreFirstByte",!0),Qsa:C(J,"mediaRequestAsyncLoadStart",sa.Qsa),V4b:C(J,"useXHROnLoadStart",!1),hna:C(P,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),X4:C(I,"connectTimeoutMilliseconds",8E3,500),wta:C(I,"noProgressTimeoutMilliseconds",8E3,500),O4b:C(J,"useOnLineApi",!1),icb:C(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),gec:C(I,"netflixRequestExpiryTimeout",0),M5b:C(J,"webkitDecodedFrameCountIncorrectlyReported",!1),VZb:C(I,"seekBackOnAudioTrackChangeMilliseconds",8E3),XUb:C(J,"pausePlaybackOnAudioSwitch",!0),gba:C(Z,H("supportedAudioTrackTypes"),[],void 0,1),Y7:C(I,"initialLogFlushTimeout",5E3),L7a:C(L,"playdataPersistKey",ea.Jw?"unsentplaydatatest":"unsentplaydata"),axa:C(J,"sendPersistedPlaydata",!0),FVb:C(I,"playdataPersistIntervalMilliseconds",4E3),Hec:C(I,"playdataSendDelayMilliseconds",1E4),Haa:C(J,"sendPlaydataBackupOnInit",!0),TPb:C(Z,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),a5a:C(J,"midplayEnabled",!0),u9:C(I,"midplayIntervalMilliseconds",3E5),b5a:C(P,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),J5:C(I,"downloadReportDenominator",0),rDb:C(I,"downloadReportInterval",3E5),G3a:C(I,"logConfigApplyDenominator",0),RSa:C(ja,H("bookmarkByMovieId"),{}),XV:C(J,H("forceLimitedDurationLicense"),!1),ZD:C(I,H("licenseRenewalRequestDelay"),0),Dua:C(I,H("persistedReleaseDelay"),1E4),odc:C(J,H("limitedDurationFlagOverride"),void 0),j$a:C(I,"safariPlayPauseWorkaroundDelay",100),X5b:C(I,"workaroundValueForSeekIssue",1200),vka:C(J,H("callEndOfStream"),sa.vka),iVb:C(J,"performRewindCheck",!0),xFb:C(J,"fatalOnUnexpectedSeeking",!0),wFb:C(J,"fatalOnUnexpectedSeeked",!0),i0b:C(J,H("setVideoElementSize")),Ixb:C(J,H("clearVideoSrc"),!0),UVa:C(I,H("delayPlayPause"),0),Dp:C(J,H("useTypescriptEme"),!1),Cdb:C(J,H("useEncryptedEvent"),!0),xV:C(L,H("drmPersistKey"),"unsentDrmData"),r8a:C(J,H("promiseBasedEme"),!1),Gwb:C(J,"captureKeyStatusData",!1),Q7:C(J,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),YSb:C(J,H("nudgeSourceBuffer"),!1),Rwa:C(M,H("seekDelta"),1),DY:C(J,H("preciseSeeking"),!1),gWb:C(J,H("preciseSeekingOnTwoCoreDevice"),!1),TVa:C(ja,H("delayErrorHandling")),xcb:C(J,"trackingLogEnabled",!1),ycb:C(function(Ua,$a){var Za;Za=ja(Ua,$a,void 0);Za && Object.entries(Za).forEach(function(cb){var Va;Va=ba(cb);cb=Va.next().value;Va=Va.next().value;"true" === Va?Za[cb]=!0:"false" === Va && (Za[cb]=!1);});return Za;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),Gya:C(L,"trackingLogPath","/customerevents/track/debug"),l3b:C(P,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),gl:C(L,"esn",""),MXa:C(L,"fesn",""),tEb:C(J,H("enablePerformanceLogging"),!1),WWa:C(J,H("enableEmeVerboseLogging"),!1),kEb:C(J,"enableLastChunkLogging",!1),appId:C(L,"appId","",Y),sessionId:C(L,"sessionId","",Y),Bka:C(L,"cdnProxyUrl"),S4b:C(J,"usePlayReadyHeaderObject",!1),qYa:C(I,"forceXhrErrorResponseCode",void 0),sq:{dec:C(L,"mslApiPath","/msl/"),Mec:C(L,"proxyPath",""),Lx:C(L,"uiVersion"),Dba:C(L,"uiPlatform"),sbc:function(){return "0";},ava:C(Z,"preferredLanguages",l.kCa,/^[a-zA-Z-]{2,5}$/,1),sGb:C(L,H("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),a2b:C(J,"supportPreviewContentPin",!0),b2b:C(J,"supportWatermarking",!0),J0b:C(J,"showAllSubDubTracks",!1),lcc:C(J,H("failOnGuidMismatch"),!1)},$$:{enabled:C(J,"qcEnabled",!1),pp:C(L,"qcPackageId","")},jt:C(J,"useRangeHeader",!1),FV:C(J,"enableMilestoneEventList",!0),qM:C(L,"authenticationType",ea.Jw?sa.xSa:sa.qM),wSa:C(ja,"authenticationKeyNames",(0,p.bc)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),m2b:C(L,"systemKeyWrapFormat"),wMb:C(J,"includeNetflixIdUserAuthData",!0),D0b:C(J,"shouldSendUserAuthData",!0),dxa:C(J,"sendUserAuthIfRequired",sa.dxa),z0b:C(J,"shouldClearUserData",!1),xQ:C(J,"usesMsl",!0),gSb:C(J,"mslDeleteStore",!1),iSb:C(J,"mslPersistStore",!0),Kyb:C(J,"correctNetworkForShortTitles",!0),aWb:C(J,"postplayHighInitBitrate",!1),g2b:C(J,"supportsUnequalizedDownloadables",!0),DVa:C(I,H("debugAseDenominator"),100),f4:C(I,"aseAudioBufferSizeBytes",sa.f4.da(y.Av)),i4:C(I,"aseVideoBufferSizeBytes",sa.i4.da(y.Av)),ix:C(I,"minInitVideoBitrate",560),bta:C(I,"minHCInitVideoBitrate",560),JA:C(I,"maxInitVideoBitrate",Infinity),MX:C(I,"minInitAudioBitrate",0),LX:C(I,"minHCInitAudioBitrate",0),xX:C(I,"maxInitAudioBitrate",65535),v9:C(I,"minAcceptableVideoBitrate",235),qI:C(I,"minRequiredBuffer",3E4),zj:C(I,"minPrebufSize",7800),z9:C(I,"minCheckBufferingCompleteInterval",999999),Pva:C(Q,"rebufferingFactor",1),Es:C(I,"maxBufferingTime",2600),pza:C(J,"useMaxPrebufSize",!0),dE:C(I,"maxPrebufSize",45E3),Hsa:C(I,"maxRebufSize",Infinity),V7:C(S,"initialBitrateSelectionCurve",null),z1a:C(I,"initSelectionLowerBound",560),A1a:C(I,"initSelectionUpperBound",1050),l_:C(I,"throughputPercentForAudio",15),Pja:C(I,"bandwidthMargin",10),Qja:C(J,"bandwidthMarginContinuous",!1),Rja:C(S,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),mla:C(I,"conservBandwidthMargin",20),pya:C(J,"switchConfigBasedOnInSessionTput",!1),UU:C(I,"conservBandwidthMarginTputThreshold",0),nla:C(S,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),Jbb:C(J,"switchAlgoBasedOnHistIQR",!1),QE:C(L,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Gsa:C(M,"maxPlayerStateToSwitchConfig",-1),hsa:C(L,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),Nda:C(Q,"IQRThreshold",.5),cqa:C(L,"histIQRCalcToUse","simple"),Ju:C(I,"maxTotalBufferLevelPerSession",0),O5:C(J,"enableCombinedPlaygraphs",!0),P5:C(J,"enableDiscontiguousBuffering",!1),Mna:C(P,"forceImmediateTransitionTypeForTitles",[]),Lna:C(I,"forceImmediateTransitionExitZone",0),lza:C(J,"useBufferSizeLimiter",!1),oza:C(J,"useLegacyFragmentRounding",!1),Cza:C(J,"waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!0),P0a:C(I,"highWatermarkLevel",3E4),qcb:C(I,"toStableThreshold",3E4),rba:C(I,"toUnstableThreshold",sa.rba.da(z.la)),Jxa:C(J,"skipBitrateInUpswitch",!0),Hza:C(I,"watermarkLevelForSkipStart",8E3),Xpa:C(I,"highStreamRetentionWindow",9E4),isa:C(I,"lowStreamTransitionWindow",51E4),Zpa:C(I,"highStreamRetentionWindowUp",3E5),ksa:C(I,"lowStreamTransitionWindowUp",3E5),Ypa:C(I,"highStreamRetentionWindowDown",6E5),jsa:C(I,"lowStreamTransitionWindowDown",0),Wpa:C(Q,"highStreamInfeasibleBitrateFactor",.5),CA:C(I,"lowestBufForUpswitch",15E3),Q8:C(I,"lockPeriodAfterDownswitch",15E3),msa:C(I,"lowWatermarkLevel",25E3),DA:C(I,"lowestWaterMarkLevel",2E4),nsa:C(J,"lowestWaterMarkLevelBufferRelaxed",!1),Psa:C(Q,"mediaRate",1),g9:C(I,"maxTrailingBufferLen",1E4),nU:C(I,"audioBufferTargetAvailableSize",262144),L_:C(I,"videoBufferTargetAvailableSize",1048576),J4a:C(I,"maxVideoTrailingBufferSize",8388608),r4a:C(I,"maxAudioTrailingBufferSize",393216),i6:C(Q,"fastUpswitchFactor",3),ina:C(Q,"fastDownswitchFactor",1),KA:C(I,"maxMediaBufferAllowed",24E4),Hxa:C(J,"simulatePartialBlocks",!0),Gab:C(J,"simulateBufferFull",!0),ola:C(J,"considerConnectTime",!1),lla:C(Q,"connectTimeMultiplier",1),N3a:C(I,"lowGradeModeEnterThreshold",12E4),O3a:C(I,"lowGradeModeExitThreshold",9E4),t4a:C(I,"maxDomainFailureWaitDuration",3E4),q4a:C(I,"maxAttemptsOnFailure",18),AXa:C(J,"exhaustAllLocationsForFailure",!0),z4a:C(I,"maxNetworkErrorsDuringBuffering",20),Z8:C(I,"maxBufferingTimeAllowedWithNetworkError",12E4),IXa:C(I,"fastDomainSelectionBwThreshold",2E3),Wbb:C(I,"throughputProbingEnterThreshold",4E4),Xbb:C(I,"throughputProbingExitThreshold",34E3),B3a:C(I,"locationProbingTimeout",1E4),QXa:C(I,"finalLocationSelectionBwThreshold",1E4),Ubb:C(Q,"throughputHighConfidenceLevel",.75),Vbb:C(Q,"throughputLowConfidenceLevel",.4),bXa:C(J,"enablePerfBasedLocationSwitch",!1),av:C(J,"probeServerWhenError",!0),jva:C(I,"probeRequestTimeoutMilliseconds",8E3),dz:C(J,"allowSwitchback",!0),TI:C(I,"probeDetailDenominator",100),a9:C(I,"maxDelayToReportFailure",300),Tra:C(I,"locationStatisticsUpdateInterval",6E4),RUa:C(J,"countGapInBuffer",!1),DRa:C(J,"allowCallToStreamSelector",!0),ZSa:C(I,"bufferThresholdForAbort",1E4),RQb:C(I,"maxResponsesInitialTput",6),XWa:C(J,"enableInitialTputLogging",!1),Gua:C(I,"pipelineScheduleTimeoutMs",2),LA:C(I,"maxPartialBuffersAtBufferingStart",2),Isa:C(I,"maxStreamingSkew",4E3),Esa:C(I,"maxPendingBufferPercentage",10),D7:C(I,"headerRequestSize",4096),Xma:C(J,"estimateHeaderSize",!1),JX:C(I,"minBufferLenForHeaderDownloading",1E4),nZ:C(I,"reserveForSkipbackBufferMs",1E4),Hta:C(I,"numExtraFragmentsAllowed",2),Tq:C(J,"pipelineEnabled",!1),Pab:C(I,"socketReceiveBufferSize",0),m4:C(I,"audioSocketReceiveBufferSize",32768),CQ:C(I,"videoSocketReceiveBufferSize",65536),Upa:C(I,"headersSocketReceiveBufferSize",32768),Iba:C(I,"updatePtsIntervalMs",1E3),bka:C(I,"bufferTraceDenominator",100),tM:C(I,"bufferLevelNotifyIntervalMs",2E3),nM:C(I,"aseReportDenominator",0),g4:C(I,"aseReportIntervalMs",3E5),XDb:C(J,"enableAbortTesting",!1),Isb:C(I,"abortRequestFrequency",8),gya:C(I,"streamingStatusIntervalMs",2E3),$A:C(I,"prebufferTimeLimit",24E4),y9:C(I,"minBufferLevelForTrackSwitch",2E3),yua:C(I,"penaltyFactorForLongConnectTime",2),fsa:C(I,"longConnectTimeThreshold",200),aja:C(I,"additionalBufferingLongConnectTime",2E3),bja:C(I,"additionalBufferingPerFailure",8E3),XY:C(I,"rebufferCheckDuration",6E4),ZWa:C(J,"enableLookaheadHints",!1),K3a:C(I,"lookaheadFragments",2),Rz:C(J,"enableOCSideChannel",!0),E1:C(O,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),ddb:C(J,"updateDrmRequestOnNetworkFailure",!1),SVa:C(J,"deferAseScheduling",!1),s4a:C(I,"maxDiffAudioVideoEndPtsMs",16E3),u5:C(I,"defaultHeaderCacheSize",4),t5:C(I,"defaultHeaderCacheDataPrefetchMs",8E3),xI:C(J,"neverWipeHeaderCache",!0),qta:C(I,"networkFailureResetWaitMs",2E3),pta:C(I,"networkFailureAbandonMs",6E4),f9:C(I,"maxThrottledNetworkFailures",3),lba:C(I,"throttledNetworkFailureThresholdMs",200),lsa:C(M,"lowThroughputThreshold",400),cna:C(J,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),u5a:C(J,"mp4ParsingInNative",!1),Rab:C(J,"sourceBufferInOrderAppend",!0),BE:C(J,"requireAudioStreamToEncompassVideo",!0),CRa:C(J,"allowAudioToStreamPastVideo",!0),vi:C(J,"enableManagerDebugTraces",!1),$3a:C(I,"managerDebugMessageInterval",1E3),Z3a:C(I,"managerDebugMessageCount",20),a6a:C(J,"notifyManifestCacheEom",!1),aka:C(I,"bufferThresholdToSwitchToSingleConnMs",18E4),$ja:C(I,"bufferThresholdToSwitchToParallelConnMs",12E4),C$:C(I,"periodicHistoryPersistMs",3E5),xaa:C(I,"saveVideoBitrateMs",18E4),TRa:C(J,"appendMediaRequestOnComplete",!0),Xba:C(J,"waitForDrmToAppendMedia",!1),s6:C(J,H("forceAppendHeadersAfterDrm"),!1),BXb:C(J,H("reappendRequestsOnSkip"),!1),nSb:C(I,"netIntrStoreWindow",36E3),LRb:C(I,"minNetIntrDuration",8E3),sFb:C(I,"fastHistoricBandwidthExpirationTime",10368E3),gvb:C(I,"bandwidthExpirationTime",5184E3),pFb:C(I,"failureExpirationTime",86400),JLb:C(I,"historyTimeOfDayGranularity",4),bFb:C(J,"expandDownloadTime",!1),XRb:C(I,"minimumMeasurementTime",500),WRb:C(I,"minimumMeasurementBytes",131072),D2b:C(I,"throughputMeasurementTimeout",2E3),KMb:C(I,"initThroughputMeasureDataSize",262144),E2b:C(L,"throughputPredictor","ewma"),C2b:C(I,"throughputMeasureWindow",5E3),H2b:C(I,"throughputWarmupTime",5E3),B2b:C(I,"throughputIQRMeasureWindow",5E3),zjb:C(I,"IQRBucketizerWindow",15E3),nyb:C(I,"connectTimeHalflife",10),lZb:C(I,"responseTimeHalflife",10),ILb:C(I,"historicBandwidthUpdateInterval",2E3),VRb:C(I,"minimumBufferToStopProbing",1E4),Qwa:C(L,"secondThroughputEstimator","none"),r$a:C(M,"secondThroughputMeasureWindowInMs",Infinity),bEb:C(Z,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),JFb:C(O,"filterDefinitionOverrides",{}),dCb:C(L,"defaultFilter","throughput-ewma"),TZb:C(L,"secondaryFilter","none"),eCb:C(O,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),RX:C(J,"needMinimumNetworkConfidence",!0),Uja:C(J,"biasTowardHistoricalThroughput",!0),Sia:C(J,"addHeaderDataToNetworkMonitor",!1),Sxa:C(J,"startMonitorOnLoadStart",!1),mwa:C(J,"reportFailedRequestsToNetworkMonitor",!1),b9:C(M,"maxFastPlayBufferInMs",Infinity),Csa:C(M,"maxFastPlayBitThreshold",Infinity),mja:C(J,"appendFirstHeaderOnComplete",!0),nub:C(L,"ase_stream_selector","optimized"),xqa:C(L,"initBitrateSelectorAlgorithm","default"),gka:C(L,"bufferingSelectorAlgorithm","default"),EVa:C(L,"ase_ls_failure_simulation",""),Sla:C(J,"ase_dump_fragments",!1),Ula:C(I,"ase_location_history",0),FVa:C(I,"ase_throughput",0),HVa:C(J,"ase_simulate_verbose",!1),XVb:C(I,"pollingPeriod",150),HPb:C(I,"loadTimeMs",18E4),tQb:C(I,"marginTimeMs",1E4),qoa:C(J,"getDeviceIdFromBindDevice",!1),Ria:C(J,"addFailedLogBlobsToQueue",!0),M3b:{"content-sampling":{Es:C(I,"contentSamplingMaxBufferingTime",3E3),IP:C(L,"contentSamplingSelectStartingVMAFMethod","fallback"),dU:C(J,"contentSamplingActivateSelectStartingVMAF",!0),Ou:C(I,"contentSamplingMinStartingVideoVMAF",80),IX:C(I,"contentSamplingMinAcceptableVMAF",70),pI:C(I,"contentSamplingMinAllowedVmaf",60)},billboard:{ix:C(I,"billboardMinInitVideoBitrate",1050),JA:C(I,"billboardMaxInitVideoBitrate",null),zj:C(I,"billboardMinPrebufSize",null),dE:C(I,"billboardMaxPrebufSize",null),Es:C(I,"billboardMaxBufferingTime",null),LA:C(I,"billboardMaxPartialBuffersAtBufferingStart",null),DA:C(I,"billboardLowestWaterMarkLevel",6E3),CA:C(I,"billboardLowestBufForUpswitch",25E3),QE:C(L,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{ix:C(I,"preplayMinInitVideoBitrate",1050),JA:C(I,"preplayMaxInitVideoBitrate",null),zj:C(I,"preplayMinPrebufSize",null),dE:C(I,"preplayMaxPrebufSize",null),Es:C(I,"preplayMaxBufferingTime",null),LA:C(I,"preplayMaxPartialBuffersAtBufferingStart",null),DA:C(I,"preplayLowestWaterMarkLevel",6E3),CA:C(I,"preplayLowestBufForUpswitch",25E3)},embedded:{ix:C(I,"embeddedMinInitVideoBitrate",1050),JA:C(I,"embeddedMaxInitVideoBitrate",null),zj:C(I,"embeddedMinPrebufSize",null),dE:C(I,"embeddedMaxPrebufSize",null),Es:C(I,"embeddedMaxBufferingTime",null),LA:C(I,"embeddedMaxPartialBuffersAtBufferingStart",null),DA:C(I,"embeddedLowestWaterMarkLevel",6E3),CA:C(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{ix:C(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),JA:C(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),zj:C(I,"videoMerchBobHorizontalMinPrebufSize",null),dE:C(I,"videoMerchBobHorizontalMaxPrebufSize",null),Es:C(I,"videoMerchBobHorizontalMaxBufferingTime",null),LA:C(I,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),DA:C(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),CA:C(I,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{ix:C(I,"miniModalHorizontalMinInitVideoBitrate",null),JA:C(I,"miniModalHorizontalMaxInitVideoBitrate",null),zj:C(I,"miniModalHorizontalMinPrebufSize",null),dE:C(I,"miniModalHorizontalMaxPrebufSize",null),Es:C(I,"miniModalHorizontalMaxBufferingTime",500),LA:C(I,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),DA:C(I,"miniModalHorizontalLowestWaterMarkLevel",null),CA:C(I,"miniModalHorizontalLowestBufForUpswitch",null)}},CEb:C(J,"enableVerbosePlaydelayLogging",!1),wEb:C(J,"enableSeamless",!1),bqa:C(I,"hindsightDenominator",0),aqa:C(I,"hindsightDebugDenominator",0),H7:C(O,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),GV:C(J,"enableSessionHistoryReport",!1),Fma:C(I,"earlyStageEstimatePeriod",1E4),j3a:C(I,"lateStageEstimatePeriod",3E4),d9:C(I,"maxNumSessionHistoryStored",30),E9:C(I,"minSessionHistoryDuration",3E4),cx:C(I,"maxActiveRequestsPerSession",3),X8:C(I,"maxActiveRequestsSABCell100",2),Ora:C(J,"limitAudioDiscountByMaxAudioBitrate",!0),ie:C(O,"browserInfo",{}),Uvb:C(I,H("busyGracePeriod"),199),o_b:C(J,H("sendTransitionLogblob"),!0),NDb:C(J,H("editVideoFragments"),!0),M5:C(J,H("earlyAppendSingleChildBranch"),!0),xMb:C(J,H("includeSegmentInfoOnLogblobs"),!0),hFb:C(J,"exposeTestData",!1),gFb:C(J,H("exposeErrorData"),!1),Vla:C(J,"declareBufferingCompleteAtSegmentEnd",!0),HG:C(J,"applyProfileTimestampOffset",!1),qm:C(J,"applyProfileStreamingOffset",!1),Ttb:C(J,H("allowSmallSeekDelta"),!1),X0b:C(I,H("smallSeekDeltaThresholdMilliseconds"),r.W1),$Db:C(J,"enableCDMAttestedDescriptors",!1),laa:C(J,"requireDownloadDataAtBuffering",!1),maa:C(J,"requireSetupConnectionDuringBuffering",!1),Sva:C(J,"recordFirstFragmentOnSubBranchCreate",!1),Hvb:C(J,"branchingAudioTrackFrameDropSmallSeekFix",!0),oYa:C(J,"forceL3WidevineCdm",!1),Gdb:C(J,"useMobileVMAF",!1),aWa:C(L,"desiredVMAFTypeMobile","phone_plus_lts"),bWa:C(L,"desiredVMAFTypeNonMobile","plus_lts"),dU:C(J,"activateSelectStartingVMAF",!1),Ou:C(I,"minStartingVideoVMAF",1),IX:C(I,"minAcceptableVMAF",1),pI:C(I,"minAllowedVmaf",1),Xtb:C(J,"alwaysNotifyEOSForPlaygraph",!0),hN:C(J,"enableNewAse",!0),H_:C(J,"useNewApi",!0),fEb:C(J,"enableHudsonFieldTest",!1),YLb:C(Z,"hudsonTitles",["81127954","70125931","80158148"]),PQb:C(I,"maxPartialBuffersAtHudson",1),dTb:C(I,"numberOfChunksPerSegment",4),q2b:C(I,"targetContentLatency",1E4),r2b:C(I,"targetLongContentLatency",3E4),YRb:C(I,"minimumTimeDelay",1),Lma:C(J,"enableWsslEstimate",!1),Y8:C(I,"maxAllowedOutstandingRequests",4),iM:C(J,"alwaysRunUnderflowTimer",!0),cta:C(I,"minStreamableConcurrencyWindow",3E3),dya:C(Q,"streamableConcurrencyFactor",.3),GU:C(I,"bufferingConcurrencyWindow",7800),R0b:C(J,"singleStreamablePerBranch",!0),R5:C(J,"enableResolutionVMAFStreamFilter",!1),qaa:C(O,"resolutionVMAFCappingRuleList",{}),Aua:C(M,"percentCapTitlesForResolutionVMAFStreamFilter",100),WCb:C(J,"disableSkipping",!1),Kba:C(J,"useHLSPlayer",sa.Kba),mza:C(J,H("useExitZones"),!0),XYb:C(J,"requestSegmentVmaf",!1),aP:C(O,"perFragmentVMAFConfig",{enabled:!1})};Ka=!0;b.jla=function(Ua){var $a,Za,cb;$a=d.pa.get(B.md).id;if(0 < b.config.G3a && 0 === $a % b.config.G3a)try{Za=d.pa.get(w.kn);cb=d.pa.get(v.jy).$t("config","info",{params:Ua});Za.Jc(cb);}catch(Va){d.log.error("Failed to log config$apply",Va);}nb._cad_global.config=b.config;(0,h.jb)(Ua);Ua && (pa=(0,p.bc)({},Ua,{wO:!0}),(0,p.bc)(pa,R,{wO:!0}),G(la,b.config),pa.istestaccount && d.log.trace("Config applied for",ya(Ka?pa:Ua)),Ka=!1);};(0,b.jla)(pa);};b.iyb=function(D,F){return (0,u.Ve)(D) && "%" == D[D.length - 1]?(0,q.Tj)(parseFloat(D) * F / 100):D | 0;};b.wUa=function(D){var F;if(D){D=(0,p.bc)({},b.config);F={GI:b.config.E6a};return (0,p.bc)(D,F,{VA:!0});}return b.config;};b.jyb=function(D){var F;F=(0,p.bc)({},b.config);D=c(D);return (0,p.bc)(F,D,{VA:!0});};b.kla=function(D){D=c(D);return (0,p.bc)({},a(183)(D),{VA:!0});};b.vUa=function(D,F,G){G=! !G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));D={hx:D?b.config.HRb:b.config.hx,QA:D?b.config.ORb:G?b.config.QRb:b.config.QA,M5:!F};return (0,p.bc)({},a(183)(D),{VA:!0});};b.lyb=c;b.kyb=g;},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Re=b.hb=b.Cf=b.Sb=b.ea=b.Qda=b.NF=b.Ga=void 0;(function(c){c.z3a="loadedtracks";c.y3a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.pq="currenttimechanged";c.Wcb="unthrottledcurrenttimechanged";c.eka="bufferedtimechanged";c.HWa="durationchanged";c.aeb="videosizechanged";c.n7a="pausedchanged";c.Tua="playingchanged";c.kXa="endedchanged";c.vM="busychanged";c.o4="audiotracklistchanged";c.rm="audiotrackchanged";c.vv="timedtexttracklistchanged";c.Zl="timedtexttrackchanged";c.y_="trickplayframeschanged";c.z5a="mutedchanged";c.feb="volumechanged";c.Cxa="showsubtitle";c.dwa="removesubtitle";c.L5b="watermark";c.fra="isReadyToTransition";c.ZN="inactivated";c.P1a="internalPlaybackError";c.a_b="segmentmaploaded";c.b_b="segmentpresenting";c.zSa="autoplaywasallowed";c.q4="autoplaywasblocked";})(b.Ga || (b.Ga={}));(b.NF || (b.NF={})).wZ="playgraphsegmenttransition";b.Qda=a;a.G$a="serverTimeChanged";(function(c){c.mM="aseReport";c.Jja="autoplayWasAllowed";c.si="autoplayWasBlocked";c.nz="bufferUnderrun";c.closed="closed";c.pg="closing";c.pq="currentTimeChanged";c.hH="downloadComplete";c.ZN="inactivated";c.l3a="licenseAdded";c.oX="licensed";c.qX="locationSelected";c.ssa="manifestClosing";c.hI="manifestPresenting";c.m9="mediaBufferChanged";c.U9="nextBranchingSegmentChosen";c.Vq="playbackStart";c.Pm="playbackReady";c.Fk="repositioned";c.$I="repositioning";c.k$a="safePlayRequested";c.lJ="segmentPresenting";c.BZ="serverSwitch";c.Bab="shouldUpdateVideoDiagInfo";c.gQ="subtitleError";c.vya="throttledMediaTimeChanged";c.Xcb="unthrottledMediaTimeChanged";c.mQ="timedTextRebuffer";c.vv="timedTextTrackListChanged";c.y_="trickPlayFramesChanged";c.eza="updateNextBranchingSegmentWeights";c.Z4b="userInitiatedPause";c.Pdb="userInitiatedResume";c.zcb="tracksHydrated";})(b.ea || (b.ea={}));(function(c){c[c.MK=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.te=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Sb || (b.Sb={}));(function(c){c[c.te=1]="NORMAL";c[c.xd=2]="BUFFERING";c[c.yLa=3]="STALLED";})(b.Cf || (b.Cf={}));(function(c){c[c.Sf=1]="WAITING";c[c.Lc=2]="PLAYING";c[c.ph=3]="PAUSED";c[c.yr=4]="ENDED";})(b.hb || (b.hb={}));(function(c){c[c.gy=0]="INITIAL";c[c.kC=1]="SEEK";c[c.g2=2]="TRACK_CHANGED";c[c.UK=3]="SEGMENT_CHANGED";c[c.W0=4]="FORCE_REBUFFER";})(b.Re || (b.Re={}));},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(350),b);},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.kd=b.Jqa=b.wA=b.Ve=b.mra=b.ANb=b.oNb=b.ara=b.vA=b.h2a=b.Fa=b.kra=b.isArray=b.F2a=b.Th=b.$c=b.is=void 0;t=a(198);b.is=t.pF;b.$c=function(c){return b.is.Mg(c);};b.Th=function(c){return b.is.jM(c);};b.F2a=function(c){return b.is.Gia(c);};b.isArray=function(c){return b.is.ez(c);};b.kra=function(c){return b.is.JRa(c);};b.Fa=function(c,g,l){return b.is.Qi(c,g,l);};b.h2a=function(c,g,l){return b.is.kja(c,g,l);};b.vA=function(c,g,l){return b.is.hU(c,g,l);};b.ara=function(c){return b.is.$T(c);};b.oNb=function(c){return b.is.Gsb(c);};b.ANb=function(c){return b.is.Hsb(c);};b.mra=function(c){return b.is.KRa(c);};b.Ve=function(c){return b.is.aq(c);};b.wA=function(c){return b.is.Bn(c);};b.Jqa=function(c){return b.is.ZT(c);};b.kd=function(c){return b.is.Q3(c);};},function(t,b,a){b=a(117);b.fCb=0;t.exports={EventEmitter:b,ii:a(748)};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.md="ApplicationSymbol";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ia=!1;},function(t,b){function a(c,g){var l,m,d,f,h;if(c && g){l=Math;m=l.abs;f=Math.abs(c);for(d=Math.abs(g);d;){h=d;d=f % d;f=h;}c=m.call(l,c * g / f);}else c=0;return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.R=void 0;t=(function(){function c(g,l){"object" === typeof g?(this.mc=g.pc,this.ob=g.W):(this.mc=g,this.ob=l);isFinite(this.mc) || (this.ob=1);}c.compare=function(g,l){return g.Ll(l);};c.abs=function(g){return new c(Math.abs(g.mc),g.ob);};c.Oa=function(g){return 0 === g?c.eb:new c(g,1E3);};c.r_=function(g,l){return Math.floor(1E3 * g / l);};c.lta=function(g,l){return Math.floor(g * l / 1E3);};c.max=function(){for(var g=[],l=0;l < arguments.length;l++){g[l]=arguments[l];}return g.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var g=[],l=0;l < arguments.length;l++){g[l]=arguments[l];}return g.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{pc:{get:function(){return this.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return c.r_(this.mc,this.ob);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{NI:{get:function(){return 1E3 * this.mc / this.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{gJ:{get:function(){var g;g=this.NI;return 0 > g?Math.ceil(g):Math.floor(g);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Ch:{get:function(){return this.mc / this.ob;},enumerable:!1,configurable:!0}});c.prototype.dg=function(g){g/=this.ob;return new c(Math.floor(this.mc * g),Math.floor(this.ob * g));};c.prototype.add=function(g){var l;if(this.ob === g.ob)return new c(this.mc + g.mc,this.ob);l=a(this.ob,g.ob);return new c(this.mc * l / this.ob + g.mc * l / g.ob,l);};c.prototype.Ka=function(g){var l;if(this.ob === g.ob)return new c(this.mc - g.mc,this.ob);l=a(this.ob,g.ob);return new c(this.mc * l / this.ob - g.mc * l / g.ob,l);};c.prototype.vI=function(g){return new c(this.mc * g,this.ob);};c.prototype.Nl=function(g){var l;if("number" === typeof g){l=a(this.mc,g);return l !== this.mc?this.dg(l / this.mc * this.ob).Nl(g):new c(this.mc / g,this.ob);}if(this.ob === g.ob)return this.mc / g.mc;l=a(this.ob,g.ob);return this.mc * l / this.ob / (g.mc * l / g.ob);};c.prototype.gWa=function(g){var l;if(this.ob === g.ob)return new c(Math.abs(this.mc - g.mc),this.ob);l=a(this.ob,g.ob);return new c(Math.abs(this.mc * l / this.ob - g.mc * l / g.ob),l);};c.prototype.Rva=function(){return new c(this.ob,this.mc);};c.prototype.compare=function(g,l){var m;if(this.ob === l.ob)return g(this.mc,l.mc);m=a(this.ob,l.ob);return g(this.mc * m / this.ob,l.mc * m / l.ob);};c.prototype.Ll=function(g){var l;if(this.ob === g.ob)return this.pc === g.mc?0:this.mc - g.mc;l=a(this.ob,g.ob);return this.mc * l / this.ob - g.mc * l / g.ob;};c.prototype.equal=function(g){return this.compare(function(l,m){return l === m;},g);};c.prototype.a$=function(g){return this.compare(function(l,m){return l !== m;},g);};c.prototype.lessThan=function(g){return this.compare(function(l,m){return l < m;},g);};c.prototype.greaterThan=function(g){return this.compare(function(l,m){return l > m;},g);};c.prototype.qO=function(g){return this.compare(function(l,m){return l <= m;},g);};c.prototype.ps=function(g){return this.compare(function(l,m){return l >= m;},g);};c.prototype.isFinite=function(){return ! !this.ob && isFinite(this.mc);};c.prototype.n7=function(g){return a(this.W,g);};c.prototype.toJSON=function(){return {ticks:this.mc,timescale:this.ob};};c.prototype.toString=function(){return this.mc + "/" + this.ob;};c.prototype.Zd=function(){return this.mc + "/" + this.ob + " (" + this.U + "ms)";};c.eb=new c(0,1E3);c.nx=new c(1,1E3);c.OD=new c(Infinity,1);return c;})();b.R=t;},function(t,b,a){function c(g,l){return b.Qo.assert(g,l);}Object.defineProperty(b,"__esModule",{value:!0});b.PBb=b.Rla=b.IBb=b.MBb=b.TM=b.fV=b.LBb=b.NBb=b.UM=b.CVa=b.KBb=b.JBb=b.jb=b.Qo=b.OBb=b.ffb=void 0;t=a(8);a=a(97);b.ffb=function(){c(!1);};b.OBb=!0;b.Qo=t.pa.get(a.Bv);b.jb=c;b.JBb=function(g,l){return b.Qo.qub(g,l);};b.KBb=function(g,l){return b.Qo.rub(g,l);};b.CVa=function(g,l){return b.Qo.j4(g,l);};b.UM=function(g,l){return b.Qo.yub(g,l);};b.NBb=function(g,l){return b.Qo.wub(g,l);};b.LBb=function(g,l){return b.Qo.xja(g,l);};b.fV=function(g,l){return b.Qo.uub(g,l);};b.TM=function(g,l){return b.Qo.xub(g,l);};b.MBb=function(g,l){return b.Qo.vub(g,l);};b.IBb=function(g,l){return b.Qo.pub(g,l);};b.Rla=function(g,l){return b.Qo.tub(g,l);};b.PBb=function(){return b.Qo.dNb();};},function(t,b,a){function c(){c=Object.assign || (function(C){for(var H,K=1,M=arguments.length;K < M;K++){H=arguments[K];for(var I in H){Object.prototype.hasOwnProperty.call(H,I) && (C[I]=H[I]);}}return C;});return c.apply(this,arguments);}function g(C,H){g=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,M){K.__proto__=M;}) || (function(K,M){for(var I in M){M.hasOwnProperty(I) && (K[I]=M[I]);}});return g(C,H);}function l(C,H){function K(){this.constructor=C;}g(C,H);C.prototype=null === H?Object.create(H):(K.prototype=H.prototype,new K());}function m(C,H){var K,M,I;K={};for(M in C){Object.prototype.hasOwnProperty.call(C,M) && 0 > H.indexOf(M) && (K[M]=C[M]);}if(null != C && "function" === typeof Object.getOwnPropertySymbols){I=0;for(M=Object.getOwnPropertySymbols(C);I < M.length;I++){0 > H.indexOf(M[I]) && Object.prototype.propertyIsEnumerable.call(C,M[I]) && (K[M[I]]=C[M[I]]);}}return K;}function d(C,H,K,M){var I,Q,L;I=arguments.length;Q=3 > I?H:null === M?M=Object.getOwnPropertyDescriptor(H,K):M;if("object" === typeof Reflect && "function" === typeof Reflect.fs)Q=Reflect.fs(C,H,K,M);else for(var J=C.length - 1;0 <= J;J--){if(L=C[J])Q=(3 > I?L(Q):3 < I?L(H,K,Q):L(H,K)) || Q;}return (3 < I && Q && Object.defineProperty(H,K,Q),Q);}function f(C,H){return function(K,M){H(K,M,C);};}function h(C,H){if("object" === typeof Reflect && "function" === typeof Reflect.Ic)return Reflect.Ic(C,H);}function k(C,H,K,M){function I(Q){return Q instanceof K?Q:new K(function(L){L(Q);});}return new (K || (K=Promise))(function(Q,L){function J(P){try{N(M.next(P));}catch(S){L(S);}}function O(P){try{N(M["throw"](P));}catch(S){L(S);}}function N(P){P.done?Q(P.value):I(P.value).then(J,O);}N((M=M.apply(C,H || [])).next());});}function n(C,H){var I,Q,L,J,O;function K(N){return function(P){return M([N,P]);};}function M(N){if(Q)throw new TypeError("Generator is already executing.");for(;I;){try{if((Q=1,L && (J=N[0] & 2?L["return"]:N[0]?L["throw"] || ((J=L["return"]) && J.call(L),0):L.next) && !(J=J.call(L,N[1])).done))return J;if((L=0,J))N=[N[0] & 2,J.value];switch(N[0]){case 0:case 1:J=N;break;case 4:return (I.label++,{value:N[1],done:!1});case 5:I.label++;L=N[1];N=[0];continue;case 7:N=I.co.pop();I.bm.pop();continue;default:if(!(J=I.bm,J=0 < J.length && J[J.length - 1]) && (6 === N[0] || 2 === N[0])){I=0;continue;}if(3 === N[0] && (!J || N[1] > J[0] && N[1] < J[3]))I.label=N[1];else if(6 === N[0] && I.label < J[1])(I.label=J[1],J=N);else if(J && I.label < J[2])(I.label=J[2],I.co.push(N));else {J[2] && I.co.pop();I.bm.pop();continue;}}N=H.call(C,I);}catch(P){N=[6,P];L=0;}finally{Q=J=0;}}if(N[0] & 5)throw N[1];return {value:N[0]?N[1]:void 0,done:!0};}I={label:0,xc:function(){if(J[0] & 1)throw J[1];return J[1];},bm:[],co:[]};return (O={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (O[Symbol.iterator]=function(){return this;}),O);}function p(C,H,K,M){void 0 === M && (M=K);C[M]=H[K];}function q(C,H){for(var K in C){"default" === K || H.hasOwnProperty(K) || (H[K]=C[K]);}}function u(C){var H,K,M;H="function" === typeof Symbol && Symbol.iterator;K=H && C[H];M=0;if(K)return K.call(C);if(C && "number" === typeof C.length)return {next:function(){C && M >= C.length && (C=void 0);return {value:C && C[M++],done:!C};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function r(C,H){var K,M,I;K="function" === typeof Symbol && C[Symbol.iterator];if(!K)return C;C=K.call(C);I=[];try{for(;(void 0 === H || 0 < H--) && !(M=C.next()).done;){I.push(M.value);}}catch(L){var Q;Q={error:L};}finally{try{M && !M.done && (K=C["return"]) && K.call(C);}finally{if(Q)throw Q.error;}}return I;}function w(){for(var C=[],H=0;H < arguments.length;H++){C=C.concat(r(arguments[H]));}return C;}function v(){var M;for(var C=0,H=0,K=arguments.length;H < K;H++){C+=arguments[H].length;}C=Array(C);M=0;for(H=0;H < K;H++){for(var I=arguments[H],Q=0,L=I.length;Q < L;(Q++,M++)){C[M]=I[Q];}}return C;}function x(C){return this instanceof x?(this.WE=C,this):new x(C);}function y(C,H,K){var O,N,P;function M(S){O[S] && (N[S]=function(U){return new Promise(function(Z,ja){1 < P.push([S,U,Z,ja]) || I(S,U);});});}function I(S,U){var Z;try{Z=O[S](U);Z.value instanceof x?Promise.resolve(Z.value.WE).then(Q,L):J(P[0][2],Z);}catch(ja){J(P[0][3],ja);}}function Q(S){I("next",S);}function L(S){I("throw",S);}function J(S,U){(S(U),P.shift(),P.length) && I(P[0][0],P[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");O=K.apply(C,H || []);P=[];return (N={},M("next"),M("throw"),M("return"),N[Symbol.asyncIterator]=function(){return this;},N);}function z(C){var K,M;function H(I,Q){K[I]=C[I]?function(L){return (M=!M)?{value:x(C[I](L)),done:"return" === I}:Q?Q(L):L;}:Q;}return (K={},H("next"),H("throw",function(I){throw I;}),H("return"),K[Symbol.iterator]=function(){return this;},K);}function A(C){var M,I;function H(Q){I[Q]=C[Q] && (function(L){return new Promise(function(J,O){L=C[Q](L);K(J,O,L.done,L.value);});});}function K(Q,L,J,O){Promise.resolve(O).then(function(N){Q({value:N,done:J});},L);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=C[Symbol.asyncIterator];return M?M.call(C):(C="function" === typeof u?u(C):C[Symbol.iterator](),I={},H("next"),H("throw"),H("return"),I[Symbol.asyncIterator]=function(){return this;},I);}function B(C,H){Object.defineProperty?Object.defineProperty(C,"raw",{value:H}):C.raw=H;return C;}function E(C){var H;if(C && C.__esModule)return C;H={};if(null != C)for(var K in C){Object.hasOwnProperty.call(C,K) && (H[K]=C[K]);}H.default=C;return H;}function D(C){return C && C.__esModule?C:{default:C};}function F(C,H){if(!H.has(C))throw new TypeError("attempted to get private field on non-instance");return H.get(C);}function G(C,H,K){if(!H.has(C))throw new TypeError("attempted to set private field on non-instance");H.set(C,K);return K;}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return u;});a.d(b,"__read",function(){return r;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return E;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(t,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.QUa=b.rYa=b.Zo=b.Xf=b.wd=b.$w=b.trim=b.KW=b.wbb=b.Cva=b.JUb=b.Je=b.fSa=b.vTa=b.bc=b.ve=void 0;c=a(22);g=a(30);l=a(11);m=a(17);b.ve=function(d,f){for(var h in d){d.hasOwnProperty(h) && f(h,d[h]);}};b.bc=b.bc || (function(d,f,h){var k,n,p;if(f)if(h){k=h.wO;n=h.prefix;p=h.VA;(0,b.ve)(f,function(q,u){if(!p || (0,g.$c)(u))d[(n || "") + (k?q.toLowerCase():q)]=u;});}else (0,b.ve)(f,function(q,u){d[q]=u;});return d;});b.vTa=function(d,f,h,k){var n;if(d){n=d[f];(0,m.kd)(n) && (h=n.apply(d,l.slice.call(arguments,3)));}return h;};b.fSa=function(d){for(var f={},h=d.length;h--;){f[d[h]]=!0;}return f;};b.Je=b.Je || (function(d){return parseInt(d,10);});b.JUb=function(d){return (/^true$/i).test(d);};b.Cva=function(d,f){return (0,l.Tj)(d + (0,l.yF)() * (f - d));};b.wbb=function(d){return JSON.stringify(d,null,"  ");};b.KW=(function(){var f,h;function d(k){(0,c.jb)(void 0 !== f[k]);return f[k];}f={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};h=/[&'"<>]/g;return function(k){return k.replace(h,d);};})();b.trim=(function(){var d;d=/^\s+|\s+$/gm;return function(f){return f.replace(d,"");};})();b.$w=function(d){return Array.isArray(d)?d:[d];};b.wd=b.wd || (function(d){var f,h,k;if(d){f=d.stack;h=d.number;k=d.message;k || (k="" + d);f?(d="" + f,0 != d.indexOf(k) && (d=k + "\n" + d)):d=k;h && (d+="\nnumber:" + h);return d;}});b.Xf=function(d){return (0,m.Fa)(d)?d.toFixed(0):"";};b.Zo=function(d){return (0,m.Fa)(d)?(d / 1E3).toFixed(0):"";};b.rYa=function(d){return (0,m.Fa)(d)?d.toFixed():"";};b.QUa=function(d){for(var f=[],h=0;h < d.length;h++){f[h]=d[h];}return f;};},function(t,b,a){var g;function c(l){return l.filter(function(m,d){return l.indexOf(m) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.Z9=b.OKb=b.Lyb=b.flatten=b.f5a=b.Wxb=b.e4=b.Ot=b.dSa=b.aSa=b.bSa=b.gq=b.cSa=b.he=void 0;g=a(2);b.he=function(l,m){for(var d=0;d < l.length;d++){if(m(l[d],d,l))return l[d];}};b.cSa=function(l,m){for(var d=l.length - 1;0 <= d;--d){if(m(l[d],d,l))return l[d];}};b.gq=function(l,m){var d;d=-1;return l.some(function(f,h,k){d=h;return m(f,h,k);})?d:-1;};b.bSa=function(l,m){for(var d=l.length - 1;0 <= d;d--){if(m(l[d],d,l))return d;}return -1;};b.aSa=c;b.dSa=function(l,m){m=l.indexOf(m);if(-1 === m)return !1;l.splice(m,1);return !0;};b.Ot=function(l,m,d){return d?l.filter(function(f){return !m.some(function(h){return d(f,h);});}):l.filter(function(f){return -1 === m.indexOf(f);});};b.e4=function(l,m){return c(l.concat(m));};b.Wxb=function(l){return function(m,d){return l(m) - l(d);};};b.f5a=function(l){return function(m,d){return l(m) < l(d)?m:d;};};b.flatten=function(l){var m;return (m=[]).concat.apply(m,g.__spread(l));};b.Lyb=function(l,m){void 0 === m && (m=function(d){return d;});return l.reduce(function(d,f){f=m(f);return (void 0 === d[f]?d[f]=1:++d[f],d);},{});};b.OKb=function(l,m){return l.reduce(function(d,f){var h;h=m(f);return (void 0 === d[h]?d[h]=[f]:d[h].push(f),d);},{});};b.Z9=function(l){return null !== l && void 0 !== l;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$x=b.xNa=b.Xmb=b.Rj=b.ue=b.nj=b.zv=b.Vj=void 0;(function(a){a[a.Audio=0]="Audio";a[a.qNa=1]="Video";})(b.Vj || (b.Vj={}));(function(a){a[a.Cv=0]="Default";a[a.my=1]="Microsoft";})(b.zv || (b.zv={}));(function(a){a[a.Cv=0]="Default";a[a.Wca=1]="Cast";a[a.lK=2]="Chrome";a[a.my=3]="Microsoft";})(b.nj || (b.nj={}));(function(a){a[a.AS=0]="SD";a[a.$0=1]="HD";a[a.ZK=2]="UHD";a[a.st=3]="DV";a[a.fy=4]="HDR10";a[a.RB=5]="AVCHigh";a[a.pC=6]="VP9";a[a.zl=7]="AV1";})(b.ue || (b.ue={}));(function(a){a[a.sF=0]="Level_1_4";a[a.Hv=1]="Level_2_2";})(b.Rj || (b.Rj={}));b.Xmb=function(){};(function(a){a[a.s$b=0]="Platform";a[a.g7b=1]="CurrentTitle";})(b.xNa || (b.xNa={}));b.$x="DeviceCapabilitiesSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hg="IsTypeSymbol";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={G6b:{Qv:0,F$b:1,name:["STARTUP","STEADY"]},a1:{Ih:0,E$b:1,Tmb:2,name:["STARTING","STABLE","UNSTABLE"]},Wa:{Yb:0,Pb:1,name:["AUDIO","VIDEO"]},Al:{Yb:0,Pb:1,name:["AUDIO","VIDEO"]},Hh:{URL:0,PF:1,LOCATION:2,py:3,name:["URL","SERVER","LOCATION","NETWORK"]},ig:{HAVE_NOTHING:0,YB:1,ey:2,yR:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},vy:{m6b:0,j8b:1,j$b:2,s9b:3,S9b:4,gac:5,l8b:6,S8b:7,Qv:8,Qf:9,Nea:10,Elb:11,Gca:12,Gjb:13,Fjb:14,lmb:15,kmb:16,Kjb:17,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded").split(" ")},M7b:{py:0,i7b:1,name:["NETWORK","DECODE"]},C$b:{k7b:"delayedSeamless",v8b:"hideLongTransition"}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jg="UtilitiesSymbol";},function(t,b,a){var m,d;function c(f){return null !== f && void 0 !== f;}function g(f){return typeof f == b.AMa;}function l(f,h,k){var n,p,q;if(h)if(k){n=k.wO;p=k.prefix;q=k.VA;(0,d.ve)(h,function(u,r){if(!q || c(r))f[(p || "") + (n?u.toLowerCase():u)]=r;});}else (0,d.ve)(h,function(u,r){f[u]=r;});return f;}Object.defineProperty(b,"__esModule",{value:!0});b.M=b.wd=b.KW=b.tN=b.$G=b.createElement=b.Vt=b.eSa=b.S4=b.UP=b.bc=b.Kp=b.Je=b.wA=b.Ve=b.Th=b.$c=b.zMa=b.Kmb=b.Lmb=b.AMa=b.$E=b.bca=b.ot=b.LQ=b.KQ=b.Pk=b.t1=b.xF=b.yF=b.Jp=b.xo=b.Tj=b.qea=b.bC=b.nK=b.Lkb=b.IF=b.cm=b.Bl=void 0;m=a(11);d=a(24);b.Bl=function(){};b.cm=1E3;b.IF=Object.create;b.Lkb=Object.keys;b.nK=Date.now;b.bC=Math.floor;b.qea=Math.ceil;b.Tj=Math.round;b.xo=Math.max;b.Jp=Math.min;b.yF=Math.random;b.xF=Math.abs;b.t1=Math.pow;b.Pk="$attributes";b.KQ="$children";b.LQ="$name";b.ot="$text";b.bca="$parent";b.$E="$sibling";b.AMa="string";b.Lmb="number";b.Kmb="function";b.zMa="object";b.$c=c;b.Th=function(f){return typeof f == b.zMa;};b.Ve=g;b.wA=function(f){return g(f) && f;};b.Je=function(f){return parseInt(f,10);};b.Kp=function(f,h,k){return f >= h?f <= k?f:k:h;};b.bc=l;b.UP=function(f){return l({},f);};b.S4=function(f){var n;for(var h=0;h < arguments.length;++h){;}h=0;for(var k=arguments.length;h < k;){n=arguments[h++];if(c(n))return n;}};b.eSa=function(f,h){for(var k,n=!0,p;n;){for((n=!1,k=f.length);--k;){p=f[k];p[h] < f[k - 1][h] && (f[k]=f[k - 1],f[k - 1]=p,n=!0);}}};b.Vt=function(f,h){if(f.length == h.length){for(var k=f.length;k--;){if(f[k] != h[k])return !1;}return !0;}return !1;};b.createElement=function(f,h,k,n){var p;p=m.Be.createElement(f);h && (p.style.cssText=h);k && (p.innerHTML=k);n && (0,d.ve)(n,function(q,u){p.setAttribute(q,u);});return p;};b.$G=function(f){var h;h="";(0,d.ve)(f,function(k,n){h+=(h?";":"") + k + ":" + n;});return h;};b.tN=function(f,h,k){var n;if(f / h > k){n=(0,b.Tj)(h * k);f=h;}else (n=f,f=(0,b.Tj)(f / k));return {width:n,height:f};};b.KW=(function(){var h,k;function f(n){return h[n];}h={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};k=/[&'"<>]/g;return function(n){return n.replace(k,f);};})();b.wd=function(f){var h,k;if(f){h=f.stack;k=f.number;f="" + f;h?(h="" + h,0 != h.indexOf(f) && (h=f + "\n" + h)):h=f;k && (h+="\nnumber:" + k);return h;}};b.M={em:1001,Qk:1003,cib:1701,XDa:1713,dib:1715,bib:1721,X0:1723};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mh="AsyncComponentLoaderSymbol";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(146);b.ia=!1;t=(function(){function g(l,m,d,f,h){this.na=l;this.type=m;this.byteOffset=d;this.byteLength=f;this.parent=h;this.Xa={};this.fo=f;}g.Nn=function(l,m){var f,k;function d(n){n && n.Nn && (n=n.Nn(m),n.length && (f=f.concat(n)));}f=[];l.type === m && f.push(l);if(l.Xa)for(var h in l.Xa){k=l.Xa[h];Array.isArray(k) && k.forEach(d);}return f;};g.Mt=function(l,m){void 0 === l.Xa[m.type] && (l.Xa[m.type]=[]);l.Xa[m.type].push(m);};g.Ol=function(l,m){return g.Nn(l,m)[0];};Object.defineProperties(g.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{u:{get:function(){return this.na;},enumerable:!0,configurable:!0}});g.prototype.Bc=function(){var l;l=this.na.Da();this.version=l >> 24;this.flags=l & 16777215;};g.prototype.Mt=function(l){g.Mt(this,l);};g.prototype.Nn=function(l){return g.Nn(this,l);};g.prototype.Ol=function(l){return g.Ol(this,l);};g.prototype.parse=function(){return !0;};g.prototype.ju=function(){return !0;};g.prototype.ci=function(l){if((l=this.Xa[l]) && Array.isArray(l) && 1 === l.length)return l[0];};g.prototype.Ke=function(l,m){m=void 0 === m?this.na.offset:m;c.assert(m >= this.startOffset + 8 && m + l <= this.startOffset + this.fo,"Removal range [0x" + m.toString(16) + "-0x" + (m + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.fo).toString(16) + ")");this.na.Ke(l,m,this);};g.prototype.gv=function(l,m,d){d=void 0 === d?this.na.offset:d;c.assert(d >= this.startOffset + 8 && d + l <= this.startOffset + this.fo,"Removal range [0x" + d.toString(16) + "-0x" + (d + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.fo).toString(16) + ")");this.na.gv(l,m,d,this);};g.prototype.WY=function(l,m,d){if(1 < d){for(var f=[];0 < d--;){f.push(this.JT(l,m));}return f;}return this.JT(l,m);};g.prototype.gj=function(l){var m,d;d=this;void 0 === m && (m={});l.forEach(function(f){var h,k;if("offset" === f.type){h=f.offset;if(0 < h % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");d.na.offset+=h / 8;}else for(h in f){k=f[h];m[h]="string" === typeof k?d.WY(k):d.WY(k.type,k.length,k.tja);}});return m;};g.prototype.JT=function(l,m){var d;d=this.byteLength - this.na.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(l){case "int8":l=this.na.sb();break;case "int64":l=this.na.Vd();break;case "int32":l=this.na.Da();break;case "int16":l=this.na.ad();break;case "string":l=this.na.Gva(Math.min(m,d));break;default:throw Error("Invalid type: " + l);}return l;};g.Ra=!1;return g;})();b.Fc=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(153);b.ia=!1;t=(function(){function g(l,m,d,f,h){this.na=l;this.type=m;this.byteOffset=d;this.byteLength=f;this.parent=h;this.Xa={};this.fo=f;}g.Nn=function(l,m){var f,k;function d(n){n && n.Nn && (n=n.Nn(m),n.length && (f=f.concat(n)));}f=[];l.type === m && f.push(l);if(l.Xa)for(var h in l.Xa){k=l.Xa[h];Array.isArray(k) && k.forEach(d);}return f;};g.Mt=function(l,m){void 0 === l.Xa[m.type] && (l.Xa[m.type]=[]);l.Xa[m.type].push(m);};g.Ol=function(l,m){return g.Nn(l,m)[0];};Object.defineProperties(g.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{u:{get:function(){return this.na;},enumerable:!0,configurable:!0}});g.prototype.Bc=function(){var l;l=this.na.Da();this.version=l >> 24;this.flags=l & 16777215;};g.prototype.Mt=function(l){g.Mt(this,l);};g.prototype.Nn=function(l){return g.Nn(this,l);};g.prototype.Ol=function(l){return g.Ol(this,l);};g.prototype.parse=function(){return !0;};g.prototype.ju=function(){return !0;};g.prototype.ci=function(l){if((l=this.Xa[l]) && Array.isArray(l) && 1 === l.length)return l[0];};g.prototype.Ke=function(l,m){m=void 0 === m?this.na.offset:m;c.assert(m >= this.startOffset + 8 && m + l <= this.startOffset + this.fo,"Removal range [0x" + m.toString(16) + "-0x" + (m + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.fo).toString(16) + ")");this.na.Ke(l,m,this);};g.prototype.gv=function(l,m,d){d=void 0 === d?this.na.offset:d;c.assert(d >= this.startOffset + 8 && d + l <= this.startOffset + this.fo,"Removal range [0x" + d.toString(16) + "-0x" + (d + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.fo).toString(16) + ")");this.na.gv(l,m,d,this);};g.prototype.WY=function(l,m,d){if(1 < d){for(var f=[];0 < d--;){f.push(this.JT(l,m));}return f;}return this.JT(l,m);};g.prototype.gj=function(l){var m,d;d=this;void 0 === m && (m={});l.forEach(function(f){var h,k;if("offset" === f.type){h=f.offset;if(0 < h % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");d.na.offset+=h / 8;}else for(h in f){k=f[h];m[h]="string" === typeof k?d.WY(k):d.WY(k.type,k.length,k.tja);}});return m;};g.prototype.JT=function(l,m){var d;d=this.byteLength - this.na.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(l){case "int8":l=this.na.sb();break;case "int64":l=this.na.Vd();break;case "int32":l=this.na.Da();break;case "int16":l=this.na.ad();break;case "string":l=this.na.Gva(Math.min(m,d));break;default:throw Error("Invalid type: " + l);}return l;};g.Ra=!1;return g;})();b.Fc=t;},function(t,b,a){var m,d;function c(f,h){return f && f.Fu && (h || !1 !== f.lu);}function g(f,h,k){return !m.Fa(f) || f < h?h:f > k?k:f;}function l(f){if(!(this instanceof l))return new l(f);this.Le=m.Fa(f)?f:void 0;}m=a(10);d=new (a(6).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");t.exports={console:d,debug:!1,assert:function(f,h){if(!f)throw (f=h?" : " + h:"",d.error("Assertion failed" + f),Error("ASEJS_STREAM_SELECTOR assertion failed" + f));},YH:c,yna:function(f,h,k){var p,q,u,r;function n(w){var v;v=f[w];if(!v.Fu || k && !k(v,w))return !1;r=w;return !0;}p=f.length;q=0;u=p;m.isArray(h) && (q=g(h[0],0,p),u=g(h[1],0,p),h=h[2]);h=g(h,q - 1,u);for(p=h - 1;p >= q;--p){if(n(p))return r;}for(p=h + 1;p < u;++p){if(n(p))return r;}return -1;},eSb:function(f,h){return Math.floor(f / (125 * h) * 1E3);},Wvb:function(f,h){return Math.ceil(f / 1E3 * h * 125);},edc:function(f,h){return !f.slice(h + 1).some(c);},Np:l,he:function(f,h){var k;return f.some(function(n,p,q){k=n;return h(n,p,q);})?k:void 0;},gq:function(f,h){var k;return f.some(function(n,p,q){k=p;return h(n,p,q);})?k:-1;},M4:g};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dl="PlatformSymbol";b.hC="PlatformMutableSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ji="Base64EncoderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yca="ConfigurableInputsSymbol";b.fm="ValidatingConfigurableInputsSymbol";b.x0="ConfigNameSymbol";b.UR="InitParamsSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gi="ClockSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ENa="WindowTimersSymbol";b.qF="JSONSymbol";b.jNa="UserAgentSymbol";b.NK="NavigatorSymbol";b.jkb="MediaSourceSymbol";b.lGa="LocationSymbol";b.tCa="DateSymbol";b.Wea="PerformanceSymbol";b.tS="PlatformExtraInfoSymbol";},function(t,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.dSb=b.platform=b.vh=b.Ub=b.SIb=b.sW=b.EH=b.eQb=b.SF=b.de=b.ro=b.Pj=b.JK=b.At=b.UF=void 0;c=a(2);c.__exportStar(a(172),b);c.__exportStar(a(350),b);c.__exportStar(a(720),b);c.__exportStar(a(721),b);c.__exportStar(a(722),b);g=a(99);Object.defineProperties(b,{UF:{enumerable:!0,get:function(){return g.UF;}}});Object.defineProperties(b,{At:{enumerable:!0,get:function(){return g.At;}}});Object.defineProperties(b,{JK:{enumerable:!0,get:function(){return g.JK;}}});c.__exportStar(a(733),b);c.__exportStar(a(354),b);c.__exportStar(a(218),b);c.__exportStar(a(21),b);c.__exportStar(a(355),b);l=a(356);Object.defineProperties(b,{Pj:{enumerable:!0,get:function(){return l.Pj;}}});Object.defineProperties(b,{ro:{enumerable:!0,get:function(){return l.ro;}}});m=a(56);Object.defineProperties(b,{de:{enumerable:!0,get:function(){return m.de;}}});d=a(220);Object.defineProperties(b,{SF:{enumerable:!0,get:function(){return d.SF;}}});c.__exportStar(a(221),b);b.eQb=function(h){b.platform.PW(h);return a(747).UGa;};b.EH=function(h){b.platform.PW(h);return Promise.resolve().then(function(){return c.__importStar(a(255));}).then(function(k){return k.EH();});};b.sW=function(h,k){b.platform.PW(h);return Promise.resolve().then(function(){return c.__importStar(a(421));}).then(function(n){return n.sW(k);});};b.SIb=function(){return a(224);};t=c.__importDefault(a(28));b.Ub=t.default;t=a(970);b.vh=t.vh;t=c.__importDefault(a(6));b.platform=t.default;f=a(971);b.dSb=function(){return {Fr:f.Fr};};},function(t,b,a){var g;function c(l,m,d,f,h,k,n,p,q,u,r,w){this.code=void 0 === l?g.N.em:l;this.Ec=m;this.Nd=d;this.Ln=f;this.RA=h;this.message=k;this.details=n;this.data=p;this.sk=q;this.DVb=u;this.alert=r;this.fja=w;this.aa=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.od=void 0;g=a(3);c.wd=function(l){var m,d,f;if(l){m=l.stack;d=l.number;f=l.message;f || (f="" + l);m?(l="" + m,0 !== l.indexOf(f) && (l=f + "\n" + l)):l=f;d && (l+="\nnumber:" + d);return l;}return "";};c.prototype.mV=function(l){this.details=c.wd(l);this.data=l;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.Ec,extCode:this.Nd,edgeCode:this.Ln,mslCode:this.RA,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.sk,playbackServiceError:this.DVb};};c.Tna=function(l,m){return new c(l,g.M.Qk,void 0,void 0,void 0,void 0,m.message,m.stack);};c.peb=function(l,m){return new c(l,m,void 0,void 0,void 0,void 0,void 0,void 0);};c.U5b=function(l,m,d){return new c(l,m,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.od=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jn=b.Kv=b.dy=void 0;(function(a){a[a.DMa=0]="Test";a[a.HFa=1]="Int";a[a.Amb=2]="Staging";a[a.Tlb=3]="Prod";})(b.dy || (b.dy={}));(function(a){a[a.vS=0]="PreferMsl";a[a.JKa=1]="PreferNoMsl";a[a.Fkb=2]="NoMsl";})(b.Kv || (b.Kv={}));b.jn="GeneralConfigSymbol";},function(t,b,a){var m,d,f;function c(h){var k,n,p,r;p=Object.getOwnPropertyNames(h);for(h=Object.getPrototypeOf(h);h !== Object.prototype;){try{for(var q=(k=void 0,m.__values(Object.getOwnPropertyNames(h))),u=q.next();!u.done;u=q.next()){r=u.value;-1 === p.indexOf(r) && p.push(r);}}catch(w){k={error:w};}finally{try{u && !u.done && (n=q.return) && n.call(q);}finally{if(k)throw k.error;}}h=Object.getPrototypeOf(h);}return p;}function g(h,k,n,p,q){var u;Object.getOwnPropertyNames(h).filter(function(r){return q(r) && (n || !Object.prototype.hasOwnProperty.call(k,r)) && (p || !((r in k)));}).forEach(function(r){u=Object.getOwnPropertyDescriptor(h,r);void 0 !== u && Object.defineProperty(k,r,u);});}function l(h,k,n,p){var q,u;q=[];n || (q=Object.getOwnPropertyNames(k));p || (q=c(k));u=Object.getPrototypeOf(h);null !== u && u !== Object.prototype && l(u,k,n,p);g(h,k,!0,!0,function(r){return "constructor" !== r && -1 === q.indexOf(r);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Bf=b.Jyb=void 0;m=a(2);d=a(4);b.Jyb=l;f=Object.getOwnPropertyNames(Function);b.Bf=function(h,k,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || d.assert(!n);h.prototype?(l(h.prototype,k.prototype,n,p),g(h,k,n,p,function(q){return -1 === f.indexOf(q);})):g(h,k.prototype,n,p,function(q){return -1 === f.indexOf(q);});return k;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dC="named";b.w1="name";b.GS="unmanaged";b.kIa="optional";b.TR="inject";b.vF="multi_inject";b.vMa="inversify:tagged";b.wMa="inversify:tagged_props";b.Gea="inversify:paramtypes";b.Tgb="design:paramtypes";b.qS="post_construct";},function(t,b){function a(){}function c(){}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.El=b.ze=b.O=void 0;b.O=g;g.wK="playready-h264mpl30-dash";g.kF="playready-h264mpl31-dash";g.Ada="playready-h264mpl40-dash";g.pEa="playready-h264hpl22-dash";g.vR="playready-h264hpl30-dash";g.wR="playready-h264hpl31-dash";g.zda="playready-h264hpl40-dash";g.$fa="vp9-profile0-L21-dash-cenc";g.JS="vp9-profile0-L30-dash-cenc";g.KS="vp9-profile0-L31-dash-cenc";g.m2="vp9-profile0-L40-dash-cenc";g.pib="hevc-main10-L30-dash-cenc";g.qib="hevc-main10-L31-dash-cenc";g.rib="hevc-main10-L40-dash-cenc";g.sib="hevc-main10-L41-dash-cenc";g.KR="hevc-main10-L50-dash-cenc";g.MR="hevc-main10-L51-dash-cenc";g.b1="hevc-main10-L30-dash-cenc-prk";g.d1="hevc-main10-L31-dash-cenc-prk";g.f1="hevc-main10-L40-dash-cenc-prk";g.h1="hevc-main10-L41-dash-cenc-prk";g.c1="hevc-main10-L30-dash-cenc-prk-do";g.e1="hevc-main10-L31-dash-cenc-prk-do";g.g1="hevc-main10-L40-dash-cenc-prk-do";g.i1="hevc-main10-L41-dash-cenc-prk-do";g.LR="hevc-main10-L50-dash-cenc-prk-do";g.NR="hevc-main10-L51-dash-cenc-prk-do";g.B0="hevc-dv5-main10-L30-dash-cenc-prk";g.D0="hevc-dv5-main10-L31-dash-cenc-prk";g.kR="hevc-dv5-main10-L40-dash-cenc-prk";g.G0="hevc-dv5-main10-L41-dash-cenc-prk";g.I0="hevc-dv5-main10-L50-dash-cenc-prk";g.K0="hevc-dv5-main10-L51-dash-cenc-prk";g.C0="hevc-dv5-main10-L30-dash-cenc-prk-do";g.E0="hevc-dv5-main10-L31-dash-cenc-prk-do";g.F0="hevc-dv5-main10-L40-dash-cenc-prk-do";g.H0="hevc-dv5-main10-L41-dash-cenc-prk-do";g.J0="hevc-dv5-main10-L50-dash-cenc-prk-do";g.L0="hevc-dv5-main10-L51-dash-cenc-prk-do";g.zR="hevc-hdr-main10-L30-dash-cenc-prk";g.BR="hevc-hdr-main10-L31-dash-cenc-prk";g.xK="hevc-hdr-main10-L40-dash-cenc-prk";g.ER="hevc-hdr-main10-L41-dash-cenc-prk";g.GR="hevc-hdr-main10-L50-dash-cenc-prk";g.IR="hevc-hdr-main10-L51-dash-cenc-prk";g.AR="hevc-hdr-main10-L30-dash-cenc-prk-do";g.CR="hevc-hdr-main10-L31-dash-cenc-prk-do";g.DR="hevc-hdr-main10-L40-dash-cenc-prk-do";g.FR="hevc-hdr-main10-L41-dash-cenc-prk-do";g.HR="hevc-hdr-main10-L50-dash-cenc-prk-do";g.JR="hevc-hdr-main10-L51-dash-cenc-prk-do";g.Uza="av1-main-L20-dash-cbcs-prk";g.Vza="av1-main-L21-dash-cbcs-prk";g.PB="av1-main-L30-dash-cbcs-prk";g.QB="av1-main-L31-dash-cbcs-prk";g.f0="av1-main-L40-dash-cbcs-prk";g.g0="av1-main-L41-dash-cbcs-prk";g.h0="av1-main-L50-dash-cbcs-prk";g.i0="av1-main-L51-dash-cbcs-prk";g.Nca=[g.wK,g.kF,g.Ada];g.gca=[g.vR,g.wR,g.zda];g.Qza=[g.JS,g.KS,g.m2];g.Rca=[g.b1,g.d1,g.f1,g.h1,g.KR,g.MR];g.Qca=[g.c1,g.e1,g.g1,g.i1,g.LR,g.NR];g.Pca=[g.zR,g.BR,g.xK,g.ER,g.GR,g.IR];g.Oca=[g.AR,g.CR,g.DR,g.FR,g.HR,g.JR];g.kBa=[g.B0,g.kR,g.I0,g.D0,g.G0,g.K0];g.jBa=[g.C0,g.F0,g.J0,g.E0,g.H0,g.L0];g.Yfb=[g.PB,g.QB,g.f0,g.g0,g.h0,g.i0];b.ze=c;c.lF="heaac-2-dash";c.rEa="heaac-5.1-dash";c.mF="heaac-2hq-dash";c.WF="xheaac-dash";c.hR="ddplus-2.0-dash";c.Zca="ddplus-5.1-dash";c.iR="ddplus-atmos-dash";b.El=a;a.nmb="simplesdh";a.bda="dfxp-ls-sdh";a.ZEa="imsc1.1";a.o2="webvtt-lssdh-ios8";a.LK="nflx-cmisc";},function(t,b,a){var m,d,f;function c(h){return function(k,n){return k.Mva(n,h);};}function g(h,k){return h.aaa.oXb[k] || l(h,k);}function l(h,k){h=h.pA.data[k];switch(typeof h){case "undefined":break;case "string":case "number":case "boolean":return h.toString();default:return JSON.stringify(h);}}Object.defineProperty(b,"__esModule",{value:!0});b.gz=b.Vva=b.object=b.SEb=b.url=b.fa=b.ml=b.Tya=b.cNb=b.CJ=b.string=b.EB=b.cd=b.QD=b.config=void 0;m=a(52);d=a(5);f=a(140);b.config=function(h,k,n){n=void 0 === n?!1:n;return function(p,q,u){var r,w;r=void 0 !== k?k:q;w=u.get;void 0 !== w && (u.get=function(){var v;if(!this.VNb(q))return this.UJb(q);a:{v=(this.Rtb || n?g:l)(this,r.toString());if(void 0 !== v)if((v=h(this.ZX,v),v instanceof f.Lp))this.uYa(r,v);else break a;v=w.bind(this)();}this.X9a(q,v);return v;});return u;};};b.QD=function(h,k){return h.M8a(k);};b.cd=function(h,k){return h.Fva(k);};b.EB=function(h,k){return h.Zq(k);};b.string=function(h,k){return h.Mva(k);};b.CJ=function(h,k){return h.Zh(k,b.string);};b.cNb=function(h,k){return h.Zh(k,b.QD);};b.Tya=function(h,k){return h.Zh(k,b.EB);};b.ml=function(h,k){h=h.Zq(k);return h instanceof f.Lp?h:(0,d.Nc)(h);};b.fa=function(h,k){h=h.Zq(k);return h instanceof f.Lp?h:(0,m.fa)(h);};b.url=c(/^\S+$/);b.SEb=function(h){return function(k,n){return k.L8a(n,h);};};b.object=function(){return function(h,k){return h.N8a(k);};};b.Vva=c;b.gz=function(h,k){return function(n,p){return n.Zh(p,h,k);};};},function(t,b,a){var l,m,d,f;function c(h,k){var n;n=f.call(this,h,k) || this;n.yUa=k;n.debug=h.debug;n.wa=h.bg.mb(n.yUa);return n;}function g(h,k){this.yUa=k;this.rva={};this.pA=h.pA;this.ZX=h.ZX;this.aaa=h.aaa;}Object.defineProperty(b,"__esModule",{value:!0});b.bf=b.YQ=b.xMa=void 0;t=a(1);l=a(615);m=a(0);d=a(140);b.xMa="isTestAccount";g.prototype.uYa=function(){};g.prototype.X9a=function(h,k){this.rva[h]=[k,this.pA.saa];};g.prototype.VNb=function(h){return l.Fea.of(this.rva[h]).map(function(k){return k[1];}).or(-1) < this.pA.saa;};g.prototype.UJb=function(h){return l.Fea.of(this.rva[h]).map(function(k){return k[0];}).or(function(){throw Error("Invalid State Error");});};Ya.Object.defineProperties(g.prototype,{Rtb:{configurable:!0,enumerable:!0,get:function(){var h,k;if(this && this.pA && this.pA.data){h=this.pA.data[b.xMa];"undefined" !== typeof h && (k=h.toString());h=this.ZX.Fva(k);h=h instanceof d.Lp?!1:h;}else h=!1;return h;}}});f=g;f=t.__decorate([(0,m.T)(),t.__param(0,(0,m.$m)()),t.__param(1,(0,m.$m)())],f);b.YQ=f;na(c,f);c.prototype.uYa=function(h,k){this.wa.error("Invalid configuration value.",{name:h},k);this.debug.assert(!1);};a=c;a=t.__decorate([t.__param(0,(0,m.$m)()),t.__param(1,(0,m.$m)())],a);b.bf=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wj="SchedulerSymbol";},function(t,b,a){var h,k,n,p,q,u,r,w;function c(){var v,x;if(v=b.i7.bQa)return v;v=u.z1.search.substr(1);x=v.indexOf("#");0 <= x && (v=v.substr(0,x));v=g(v);return b.i7.bQa=v;}function g(v){for(var x=/[+]/g,y=(v || "").split("&"),z={},A,B=0;B < y.length;B++){v=(0,p.trim)(y[B]);A=v.indexOf("=");0 <= A?z[decodeURIComponent(v.substr(0,A).replace(x,"%20")).toLowerCase()]=decodeURIComponent(v.substr(A + 1).replace(x,"%20")):z[v.toLowerCase()]=null;}return z;}function l(v){return (v=(/function (.{1,})\(/).exec(v.toString())) && 1 < v.length?v[1]:"";}function m(v){return l(v.constructor);}function d(v){return u.sort.call(v,function(x,y){return x - y;});}function f(v){for(var x=0,y=v.length;y--;){x+=v[y];}return x;}Object.defineProperty(b,"__esModule",{value:!0});b.ZVb=b.GH=b.DZa=b.v8=b.WVb=b.s2a=b.Jfb=b.Kfb=b.nGb=b.Ut=b.fyb=b.tN=b.GFb=b.FI=b.Zeb=b.RQ=b.$eb=b.j0=b.Yeb=b.ZMb=b.$G=b.CWb=b.Lta=b.loa=b.getFunctionName=b.SO=b.pY=b.i7=b.MJb=b.J8a=b.rRa=b.FUa=b.uXb=b.Vt=b.lUa=void 0;h=a(12);k=a(22);n=a(8);p=a(24);q=a(30);u=a(11);r=a(17);w=a(55);b.lUa=function(v,x){if(v === x)return !0;if(!v || !x)return !1;for(var y in v){if(v.hasOwnProperty(y) && (!x.hasOwnProperty(y) || v[y] !== x[y]))return !1;}return !0;};b.Vt=b.Vt || (function(v,x){if(v.length == x.length){for(var y=v.length;y--;){if(v[y] != x[y])return !1;}return !0;}return !1;});b.uXb=function(v){var x;if(v){x=v.length;if(x)return (x=(0,p.Cva)(0,x - 1),v[x]);}};b.FUa=function(v,x){if(v.length != x.length)return !1;v.sort();x.sort();for(var y=v.length;y--;){if(v[y] !== x[y])return !1;}return !0;};b.rRa=function(v,x,y){function z(){v.removeEventListener(x,z);y.apply(this,arguments);}v.addEventListener(x,z);};b.J8a=function(){var v,x,y,z,A,B;v=u.Be.cookie.split("; ");x=v.length;A={};for(y=0;y < x;y++){if(z=(0,p.trim)(v[y])){B=z.indexOf("=");0 < B && (A[z.substr(0,B)]=z.substr(B + 1));}}return A;};b.MJb=c;b.i7=Object.assign(c,{bQa:void 0});b.pY=g;b.SO=function(v){var x;x="";(0,p.ve)(v,function(y,z){x && (x+="&");(0,k.jb)((0,q.Ve)(z) || (0,r.Fa)(z) || (0,r.Jqa)(z));x+=encodeURIComponent(y) + "=" + encodeURIComponent(z);});return x;};b.getFunctionName=l;b.loa=m;b.Lta=function(v){var x;x="";(0,r.isArray)(v) || (0,r.kra)(v)?x=u.reduce.call(v,function(y,z){return y + (32 <= z && 128 > z?(0,u.rMa)(z):".");},""):(0,q.Ve)(v)?x=v:(0,p.ve)(v,function(y,z){x+=(x?", ":"") + "{" + y + ": " + ((0,r.kd)(z)?l(z) || "function":z) + "}";});return "[" + m(v) + " " + x + "]";};b.CWb=function(v,x){v.firstChild?v.insertBefore(x,v.firstChild):v.appendChild(x);};b.$G=b.$G || (function(v){var x;x="";(0,p.ve)(v,function(y,z){x+=(x?";":"") + y + ":" + z;});return x;});b.ZMb=function(v,x){var y;y=v[0];if(x <= y[0])return y.slice(1);for(var z=1,A;A=v[z++];){if(x <= A[0]){v=(x - y[0]) / (A[0] - y[0]);x=[];for(z=1;z < y.length;z++){x.push((y[z] || 0) + v * ((A[z] || 0) - (y[z] || 0)));}return x;}y=A;}return y.slice(1);};b.Yeb=function(v,x){var A;for(var y={},z=0;z < x.length;z++){A=x[z];if("string" != typeof A && "number" != typeof A)return !1;y[x[z]]=1;}for(z=0;z < v.length;z++){if((A=v[z],!y[A]))return !1;}return !0;};b.j0=d;b.$eb=f;b.RQ=function(v,x){var y,z,A,B;y=-1;z=v.length;if(1 === arguments.length){for(;++y < z && !(null != (A=v[y]) && A <= A);){A=void 0;}for(;++y < z;){null != (B=v[y]) && B > A && (A=B);}}else {for(;++y < z && !(null != (A=x.call(v,v[y],y)) && A <= A);){A=void 0;}for(;++y < z;){null != (B=x.call(v,v[y],y)) && B > A && (A=B);}}return A;};b.Zeb=function(v,x){var y,z,A,B;y=-1;z=v.length;if(1 === arguments.length){for(;++y < z && !(null != (A=v[y]) && A <= A);){A=void 0;}for(;++y < z;){null != (B=v[y]) && A > B && (A=B);}}else {for(;++y < z && !(null != (A=x.call(v,v[y],y)) && A <= A);){A=void 0;}for(;++y < z;){null != (B=x.call(v,v[y],y)) && A > B && (A=B);}}return A;};b.FI=function(v){return (0,r.kd)(v.then)?v:new Promise(function(x,y){v.oncomplete=function(){x(v.result);};v.onerror=function(){y(v.error);};});};b.GFb=function(v,x){var z,A,B,E,D,F;function y(G){0 > z.indexOf(G) && (0,r.Fa)(G) && z.push(G);}v=v.slice();d(v);z=[];if(!x || !x.length)return v;if(!v.length)return [];A=x.length;try{for(;A--;){E="" + x[A];D=(0,q.Je)(E);switch(E[E.length - 1]){case "-":for(B=v.length;B--;){F=v[B];if(F < D){y(F);break;}}break;case "+":for(B=0;B < v.length;B++){if((F=v[B],F > D)){y(F);break;}}break;default:0 <= v.indexOf(D) && y(D);}}}catch(G){}z.length || z.push(v[0]);d(z);return z;};b.tN=b.tN || (function(v,x,y){var z;if(v / x > y){z=(0,u.Tj)(x * y);v=x;}else (z=v,v=(0,u.Tj)(v / y));return {width:z,height:v};});b.fyb=function(v,x,y){for(var z=[],A=0;A < x;A++){z.push((0,u.t1)(v[A] - y,2));}return (0,u.gHa)(f(z) / z.length);};b.Ut=function(v,x){var y;y=v.length;x=(y - 1) * x + 1;if(1 === x)return v[0];if(x == y)return v[y - 1];y=(0,u.bC)(x);return v[y - 1] + (x - y) * (v[y] - v[y - 1]);};b.nGb=function(v,x){if(!(0,r.isArray)(v))throw Error("boxes is not an array");if(0 >= v.length)throw Error("There are no boxes in boxes");x=(0,r.isArray)(x)?x:[x];for(var y=v.length,z=0;z < y;z++){for(var A=0;A < x.length;A++){if(v[z].type == x[A])return v[z];}}throw Error("Box not found " + x);};b.Kfb=function(v){return v.SHb("trak/mdia/minf/stbl/stsd/" + h.TAa + "|" + h.UAa).children.filter(function(x){return "sinf" == x.type && x.mcc.schm.bfc == w.Yx;})[0].SHb("schi/tenc").uj;};b.Jfb=function(v){var y;function x(z,A){var B;B=y[z];y[z]=y[A];y[A]=B;}y=new Uint8Array(v);x(0,3);x(1,2);x(4,5);x(6,7);return y;};b.s2a=function(){return (0,r.kd)(u.Qe.requestMediaKeySystemAccess);};b.WVb=function(v){return function(x){return x && x[v];};};(0,r.kd)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(v,x){var y,z;void 0 === v && (v=0);void 0 === x && (x=this.byteLength);v=Math.floor(v);x=Math.floor(x);0 > v && (v+=this.byteLength);0 > x && (x+=this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);x=Math.min(Math.max(0,x),this.byteLength);if(0 >= x - v)return new ArrayBuffer(0);y=new ArrayBuffer(x - v);z=new Uint8Array(y);v=new Uint8Array(this,v,x - v);z.set(v);return y;});b.v8=function(v){return v && 0 == v.toLowerCase().indexOf("https");};b.DZa=function(){var v,x;v=new ArrayBuffer(4);x=new Uint8Array(v);v=new Uint32Array(v);x[0]=161;x[1]=178;x[2]=195;x[3]=212;return 3569595041 == v[0]?"LE":2712847316 == v[0]?"BE":"undefined";};b.GH=function(){var v,x,y;try{v=/playercore.*js/;x=u.Lv.getEntries("resource").filter(function(z){return null !== v.exec(z.name);});if(x && 0 < x.length){y=(0,u.Tj)(x[0].duration);return JSON.stringify(y);}}catch(z){}};b.ZVb=function(v,x,y){if(v && v.length){if(y && y.qxb)try{v.forEach(function(z,A){var B;B=(A=y.qxb[A]) && A.media;B && (0,q.Ve)(B)?(!1,B=(0,n.Yr)(B).buffer,z.media={arrayBuffer:B,length:B.byteLength,stream:x,uc:A.cdn}):n.log.warn("chunk not in cache",z.Wh);});}catch(z){n.log.error("error reading cached chunks",z);}else n.log.warn("chunks not available in cached stream",y.type);}else n.log.warn("chunks not available in mediabuffer",y.type);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$da="LogBatcherConfigSymbol";b.kn="LogBatcherSymbol";b.oGa="LogBatcherProviderSymbol";},function(t,b,a){var g,l,m,d,f;function c(){return g.dc.get(m.md).zA.da(f.la);}Object.defineProperty(b,"__esModule",{value:!0});b.Nxb=b.Q4=b.ZTa=b.Lxb=b.Mxb=b.P4=b.kk=void 0;g=a(199);l=a(38);m=a(19);d=a(81);f=a(5);b.kk=function(){return g.dc.get(m.md).$b().da(f.la);};b.P4=function(){return g.dc.get(l.gi).kf.da(f.Ao);};b.Mxb=function(){return g.dc.get(m.md).zA.da(f.Ao);};b.Lxb=function(){return g.dc.get(d.hy).Cz();};b.ZTa=c;b.Q4=function(){return g.dc.get(l.gi).kf.da(f.la);};b.Nxb=function(){return c();};},function(t,b,a){var l;function c(){return l.HS.apply(this,arguments) || this;}function g(m){return new l.vt(m,b.dF);}Object.defineProperty(b,"__esModule",{value:!0});b.eb=b.EHa=b.Vda=b.Av=b.dF=b.nRb=b.GOb=b.fa=b.lz=b.Wfb=void 0;l=a(319);na(c,l.HS);b.Wfb=c;b.lz=g;b.fa=function(m){return new l.vt(m,b.Av);};b.GOb=function(m){return new l.vt(m,b.Vda);};b.nRb=function(m){return new l.vt(m,b.EHa);};b.dF=new c(1,"b");b.Av=new c(8 * b.dF.zg,"B",b.dF);b.Vda=new c(1024 * b.Av.zg,"KB",b.dF);b.EHa=new c(1024 * b.Vda.zg,"MB",b.dF);b.eb=g(0);},function(t,b,a){var c,g;c=a(131);g=a(184);t.exports=function(l){return function h(d,f){switch(arguments.length){case 0:return h;case 1:return g(d)?h:c(function(k){return l(d,k);});default:return g(d) && g(f)?h:g(d)?c(function(k){return l(k,f);}):g(f)?c(function(k){return l(d,k);}):l(d,f);}};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nn="PboCommandContextSymbol";},function(t,b,a){var g;function c(l){var m;m=l.getConfiguration();return [b.yK,b.Ifa,b.Z1].find(function(d){var f;return null === (f=m.videoCapabilities) || void 0 === f?void 0:f.some(function(h){return h.robustness === d;});});}Object.defineProperty(b,"__esModule",{value:!0});b.Soa=b.Eoa=b.Ioa=b.yK=b.Ifa=b.Z1=b.ANa=b.BNa=b.wIa=b.V0=b.Yx=void 0;g=a(17);b.Yx="cenc";b.V0="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.wIa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.BNa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.ANa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.Z1="SW_SECURE_CRYPTO";b.Ifa="SW_SECURE_DECODE";b.yK="HW_SECURE_DECODE";b.Ioa=c;b.Eoa=function(l){var m;if(l){m=null === l || void 0 === l?void 0:l.keySystem;(l=c(l)) && (m+="." + l);return m;}return "n/a";};b.Soa=function(l){var m,h;try{for(var d=/\(([^)]+)\)/g,f;f=d.exec(l);){h=Number(f[1]);(0,g.Fa)(h) && (m=h);}}catch(k){}return m;};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Cfa=b.de=void 0;c=a(2);g=a(740);(function(l){l[l.yp=0]="startPlayback";l[l.uq=1]="endPlayback";l[l.po=2]="underflow";})(b.de || (b.de={}));t=(function(){function l(m){this.config=m;this.uP=[];}l.prototype.rh=function(m){var d,f;f=c.__read(this.config.A5.filter(function(h){return h.th === m.th;}),1)[0];(null !== (d=null === f || void 0 === f?void 0:f.enabled) && void 0 !== d?d:m.enabled)?this.uP.push(m):m.Jb && m.Jb();};l.prototype.Rn=function(m){var d,f,h,p,q;f={};h=[];try{for(var k=c.__values(this.uP),n=k.next();!n.done;n=k.next()){p=n.value;try{q=p.Rn({bj:m});q && (p.jx?f[p.jx]=q:f=c.__assign(c.__assign({},f),q));}catch(r){h.push(r);}}}catch(r){var u;u={error:r};}finally{try{n && !n.done && (d=k.return) && d.call(k);}finally{if(u)throw u.error;}}h.length && (f["rpt-error"]=new g.Zza("Reporting error",h));return f;};return l;})();b.Cfa=t;},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(1);t.__exportStar(a(741),b);t.__exportStar(a(173),b);t.__exportStar(a(742),b);t.__exportStar(a(743),b);t.__exportStar(a(744),b);t.__exportStar(a(745),b);t.__exportStar(a(360),b);t.__exportStar(a(746),b);},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uhb="Cannot apply @injectable decorator multiple times.";b.vhb="Metadata key was used more than once in a parameter:";b.kS="NULL argument";b.NFa="Key Not Found";b.Deb="Ambiguous match found for serviceIdentifier:";b.Xfb="Could not unbind serviceIdentifier:";b.vkb="No matching bindings found for serviceIdentifier:";b.Tjb="Missing required @injectable annotation in:";b.Ujb="Missing required @inject or @multiInject annotation in:";b.Smb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.$fb="Circular dependency found:";b.u9b="Sorry, this feature is not fully implemented yet.";b.ljb="Invalid binding type:";b.xkb="No snapshot available to restore.";b.pjb="Invalid return type in middleware. Middleware must return!";b.ojb="Value provided to function binding must be a function!";b.rjb="The toSelf function can only be applied when a constructor is used as service identifier";b.mjb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.Feb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.ogb="Invalid Container constructor argument. Container options must be an object.";b.mgb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.lgb="Invalid Container option. Auto bind injectable must be a boolean";b.ngb="Invalid Container option. Skip base check must be a boolean";b.gkb="Cannot apply @postConstruct decorator multiple times in the same class";b.Dlb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.agb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.rmb="Maximum call stack size exceeded";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lp=b.G1b=b.l6a=void 0;b.l6a=function(a,c){return a - c;};b.G1b=function(a,c){return a.localeCompare(c);};b.lp=function(a,c){var g;g=Object.getOwnPropertyDescriptor(a,c);g && Object.defineProperty(a,c,{configurable:g.configurable,enumerable:!1,value:g.value,writable:g.writable});};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nra=b.ji=void 0;(function(a){a[a.Mp=0]="STANDARD";a[a.wo=1]="LIMITED";})(b.ji || (b.ji={}));b.Nra=function(a){return ["STANDARD","LIMITED"][a];};},function(t,b,a){var g,l;function c(m,d){var f;f=b.zo[0];f == d && (f=b.zo[1]);f?f.close(function(){c(m,d);}):m && m(g.af);}Object.defineProperty(b,"__esModule",{value:!0});b.RJa=b.QJa=b.bfa=b.cfa=b.iC=b.efa=b.dfa=b.hfa=b.gfa=b.zo=b.ifa=b.ffa=void 0;g=a(12);l=a(22);b.ffa=c;b.ifa=function(m,d){switch(m){case b.dfa:b.gfa.push(d);return;case b.efa:b.hfa.push(d);return;}(0,l.jb)(!1);};b.zo=[];b.gfa=[];b.hfa=[];b.dfa=1;b.efa=3;b.iC={index:0,t5a:void 0,Dna:void 0};b.cfa="network";b.bfa="media";b.QJa="timedtext";b.RJa="playback";},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.t7=b.ns=b.u7=b.FD=b.Ql=b.we=void 0;t=a(73);c=a(63);g=a(11);b.we=new t.Rk();b.Ql=1;b.FD=2;b.u7=3;b.ns=4;b.t7=5;(0,c.Wf)(function(){var m,d,f;function l(h,k){if(d)d.on(h,k);else nb.addEventListener(h,k);}m=nb.jQuery;d=m && m(nb);m=(m=nb.netflix) && m.cadmium && m.cadmium.addBeforeUnloadHandler;f=g.Be.hidden;m?m(function(h){b.we.Hc(b.Ql,h);}):l("beforeunload",function(h){b.we.Hc(b.Ql,h);});l("keydown",function(h){b.we.Hc(b.FD,h);});l("resize",function(){b.we.Hc(b.u7);});g.Be.addEventListener("visibilitychange",function(){f !== g.Be.hidden && (f=g.Be.hidden,b.we.Hc(b.ns));});});(function(){nb.addEventListener("error",function(l){b.we.Hc(b.t7,l);return !0;});})();},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wf=void 0;b.Wf=function(a){return setTimeout(a,0);};},function(t,b){var c,g;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.vo=b.Ma=b.Xj=void 0;(function(l){l[l.Mp=0]="STANDARD";l[l.wo=1]="LIMITED";l[l.i$b=2]="PREVIEW";})(c || (c={}));(function(l){l[l.HAVE_NOTHING=0]="HAVE_NOTHING";l[l.HAVE_METADATA=1]="HAVE_METADATA";l[l.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";l[l.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";l[l.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(g || (g={}));(function(l){l.Reb="asl_start";l.Peb="asl_comp";l.h6b="asl_exc";l.Qeb="asl_fail";l.tmb="stf_creat";l.Hib="idb_open";l.Eib="idb_block";l.Oib="idb_upgr";l.Nib="idb_succ";l.Fib="idb_error";l.Gib="idb_invalid_state";l.Jib="idb_open_timeout";l.Lib="idb_open_wrkarnd";l.Mib="idb_storelen_exc";l.Iib="idb_open_exc";l.Kib="idb_timeout_invalid_storelen";l.akb="msl_load_data";l.ckb="msl_load_no_data";l.bkb="msl_load_failed";})(t=b.Xj || (b.Xj={}));(function(l){l.Jea="PlaybackRequestStart";l.Iea="PlaybackRequestEnd";l.S1="RequestPrefetchManifestStart";l.R1="RequestPrefetchManifestEnd";l.Q1="RequestManifestStart";l.P1="RequestManifestEnd";l.O1="RequestLicenseStart";l.N1="RequestLicenseEnd";l.cR="RequestTimedTextUrlStart";l.bR="RequestTimedTextUrlEnd";l.aR="RequestAudioUrlStart";l.$Q="RequestAudioUrlEnd";l.eR="RequestVideoUrlStart";l.dR="RequestVideoUrlEnd";l.ica="AppendBufferStart";l.hca="AppendBufferEnd";l.Efa="SetMediaKeysStart";l.Dfa="SetMediaKeysEnd";l.Z0="GenerateChallengeStart";l.Y0="GenerateChallengeEnd";l.d0="ApplyLicenseStart";l.c0="ApplyLicenseEnd";})(b.Ma || (b.Ma={}));b.vo=a;a.Wda=c;a.OUa=function(l){return ["STANDARD","LIMITED","PREVIEW"][l];};a.Xj=t;a.j1=g;},function(t,b){function a(c){var g;g=Error.call(this,"TimeoutError");this.message=g.message;("stack" in g) && (this.stack=g.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.ty=b.Jr=void 0;na(a,Error);b.Jr=a;b.ty="PromiseTimerSymbol";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);t=(function(){function g(l,m){this.key=l;this.value=m;}g.prototype.toString=function(){return this.key === c.dC?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return g;})();b.Metadata=t;},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(2);t.__exportStar(a(149),b);t.__exportStar(a(821),b);t.__exportStar(a(177),b);},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bg={csa:"logblob",oa:"manifest",ePb:"licensedmanifest",$g:"license",events:"events",bind:"bind",kua:"pair",ping:"ping",config:"config"};b.jC={cmb:"reqAttempt",dmb:"reqName",Pfb:"browsername",Ufb:"browserversion",Jkb:"osname",Kkb:"osversion",ugb:"clienttype",Rmb:"uiversion"};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ev="EmeConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xt="MediaKeySystemAccessServicesSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.RF="TimingApiSymbol";b.gS="MilestoneTimingApiSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nv="PboConfigSymbol";},function(t,b,a){var g,l;function c(){var m,d;m=this;this.Et={};this.on=function(f,h,k){m.addListener(f,h,k);};this.addListener=function(f,h,k){m.Et && (m.Et[f]=m.Et[f] || new l.sfa(!0)).add(h,k);};this.removeListener=function(f,h){m.Et && m.Et[f] && m.Et[f].removeAll(h);};this.woa=function(f){return m.Et && m.Et[f]?m.Et[f].flatten():[];};d=this;this.Hc=function(f,h,k){var n;if(d.Et){n=d.woa(f);for(f={dK:0};f.dK < n.length;(f={dK:f.dK},f.dK++)){k?(function(p){return function(){var q;q=n[p.dK];(0,g.Wf)(function(){q(h);});};})(f)():n[f.dK].call(this,h);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Rk=void 0;g=a(63);l=a(338);c.prototype.Oh=function(){this.Et=void 0;};b.Rk=c;},function(t,b,a){var k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F;function c(G){var C,H,K,M;C=G.url.split("?");H=C[0];K="sc=" + G.RZb;M=G.jTa?"random=" + (1E17 * (0,z.yF)()).toFixed(0):"";H=C[1]?H + ("?" + C[1] + "&" + K):H + ("?" + K);H+=M?"&" + M:"";G.uc && !(0,q.v8)(H) && (G=n.config && n.config.Bka) && (H=G.replace("{URL}",H).replace("{EURL}",encodeURIComponent(H)));return H;}function g(G){var C,H,K,M;C=G.url.split("?");H=C[0];K="bb_reason=" + G.reason;M=G.jTa?"random=" + (1E17 * (0,z.yF)()).toFixed(0):"";H=C[1]?H + ("?" + C[1] + "&" + K):H + ("?" + K);H+=M?"&" + M:"";G.uc && !(0,q.v8)(H) && (G=n.config && n.config.Bka) && (H=G.replace("{URL}",H).replace("{EURL}",encodeURIComponent(H)));return H;}function l(G,C){var H,K,M;H=G.url.split("?");K=H[0];M=m(G);M && (C.Ms=M,(void 0 === G.jt?n.config.jt:G.jt)?(G.headers=G.headers || ({}),G.headers.Range="bytes=" + M):(C.Ms=M,K="/" == K[K.length - 1]?K + "range/":K + "/range/",K+=M));M=G.jTa?"random=" + (1E17 * (0,z.yF)()).toFixed(0):"";n.config.Rz && G.Uaa && (M="sc=" + G.Uaa + (M?"&" + M:""));K=H[1]?K + ("?" + H[1] + (M?"&" + M:"")):K + (M?"?" + M:"");G.uc && !(0,q.v8)(K) && (G=n.config && n.config.Bka) && (K=G.replace("{URL}",K).replace("{EURL}",encodeURIComponent(K)));C.url=K;}function m(G){var C;C=G.offset;if(void 0 !== C)return ((0,x.fV)(C),void 0 !== G.length?(G=G.offset + G.length - 1,(0,x.fV)(G),C + "-" + G):C + "-");}function d(){return !1 !== z.Qe.onLine;}function f(G,C,H,K){var M,I;M=K.Wua;I=K.headers;G.open(M?"POST":"GET",C,!H);switch(K.responseType){case b.LW:G.responseType="arraybuffer";break;case b.fqa:(0,y.vTa)(G,"overrideMimeType",void 0,"text/xml");}M && (C={"Content-Type":(0,r.Ve)(M)?"text/plain":"application/x-octet-stream"},I=I?(0,r.bc)(C,I):C);I && (0,y.ve)(I,function(Q,L){G.setRequestHeader(Q,L);});K.withCredentials && (G.withCredentials=!0);void 0 !== G.msCaching && (G.msCaching="disabled");M?G.send(M):G.send();}function h(G,C){switch(C.type){case b.LW:return G.response || new ArrayBuffer(0);case b.fqa:return G.responseXML;default:return G.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.LW=b.fqa=b.eqa=b.gqa=b.K7=b.V0a=b.U0a=b.I7=b.cnb=b.dnb=b.ULb=b.J7=b.RLb=b.SLb=b.QLb=b.TLb=b.nf=void 0;k=a(73);n=a(14);p=a(12);q=a(49);u=a(51);r=a(30);w=a(3);v=a(8);x=a(22);y=a(24);z=a(11);A=a(63);B=a(17);E=a(31);D={pn:1,vac:2,hfb:3};b.nf=(function(){var K,M,I,Q;function G(L){var J;try{J=L.url;(0,B.mra)(J)?0 === J.indexOf("https")?Q.ssl++:0 === J.indexOf("http")?Q["non-ssl"]++:Q.invalid++:Q.invalid++;}catch(O){}}function C(){M.Hc(b.V0a);M.Hc(b.gqa);}function H(){M.Hc(b.K7);M.Hc(b.gqa);}K=(0,v.aj)("Http");M=new k.Rk();I=0;Q={ssl:0,"non-ssl":0,invalid:0};v.pa.get(E.mh).register(w.N.rFa,function(L){n.config.O4b && (nb.addEventListener("online",C),nb.addEventListener("offline",H),b.J7=d);L(p.af);});return {addEventListener:M.addListener,removeEventListener:M.removeListener,download:function(L,J){var ra,Y,pa,T,R,ea,sa,la,Ka,Ua,$a;function O(){var Za;O=r.Bl;$a && (clearTimeout($a),$a=null);M.removeListener(b.K7,U);Ka && (Ka.onloadstart=null,Ka.onreadystatechange=null,Ka.onprogress=null,Ka.onerror=null,Ka.onload=null,Ka=Ka.onabort=null);la.aa?!1:la.sa != w.M.ZB?ra.warn("Download failed",Y,(0,w.Fv)(la)):ra.trace("Download aborted",Y);Za=pa;pa=void 0;for(var cb=Za.length;cb--;){(function(){var Va;Va=Za[cb];(0,A.Wf)(function(){Va(la);});})();}M.Hc(b.U0a,la,!0);}function N(){$a && (clearTimeout($a),$a=null);$a=setTimeout(Z,Ua?sa:ea);}function P(Za,cb,Va,Qa){var xa,Da;la.aa=!1;la.sa=Za;xa=(0,u.kk)();Da=la.Km;Da.Di=Da.Di || xa;Da.wp=Da.wp || xa;0 < cb && (la.tk=la.wf=cb);Va && (la.yb=Va);Qa && (la.CE=Qa);Za !== w.M.OR && Za !== w.M.nF && Za !== w.M.RR || !Ka || (Ka.onabort=null,ja());O();}function S(Za){var cb,Va;try{Va=Za.getResponseHeader("X-Netflix.Retry.Server.Policy");Va && (cb=JSON.parse(Va));}catch(Qa){!1;}return cb;}function U(){(0,b.J7)() || P(w.M.OR);}function Z(){P(Ua?w.M.nF:w.M.RR);}function ja(){try{Ka && Ka.abort();}catch(Za){}}function ya(){P(w.M.ZB);}(0,x.jb)(J);ra=L.j && L.j.log && (0,v.Sh)(L.j,"Http") || K;Y={Num:I++};pa=[J];T={};ea=L.X4 || n.config.X4;sa=L.wta || n.config.wta;G(L);!1;la=(function(){var Za,cb,Va;Za=r.Bl;cb=r.Bl;Va=r.Bl;return {request:L,type:L.responseType,Km:T,abort:ja,timeout:Z,Nia:function(Qa){O !== r.Bl && ((0,x.jb)(pa,"Callback should be added before download starts."),pa && pa.unshift(Qa));},k$:function(Qa){Va(Qa);},m$:function(Qa){Za(Qa);},ao:function(Qa){cb(Qa);},P_b:function(Qa){Va=Qa;},V_b:function(Qa){Za=Qa;},G_b:function(Qa){cb=Qa;}};})();(0,A.Wf)(function(){var Za,cb;if((0,B.mra)(L.url))try{if((l(L,la),R=la.url,(0,x.UM)(R),Y.Url=R,(0,b.J7)())){!1;Ka=new XMLHttpRequest();Za=n.config.V4b && "undefined" != typeof Ka.onloadstart;Za && (Ka.onloadstart=function(){var Va;Va=(0,u.kk)();T.ar=Va;la.k$({mediaRequest:L,timestamp:Va});});Ka.onreadystatechange=function(){if(2 == Ka.readyState){Ua=!0;T.Di=(0,u.kk)();Ka.onreadystatechange=null;N();!1;for(var Va=la,Qa=Ka.getAllResponseHeaders().split("\n"),xa=Qa.length,Da,Na,Xa={};xa--;){if(Da=Qa[xa])(Na=Da.indexOf(": "),1 <= Na && Na < Da.length - 1 && (Xa[Da.substr(0,Na)]=Da.substr(Na + 2)));}Va.headers=Xa;la.m$({timestamp:T.Di,connect:!0,mediaRequest:L,start:T.ar,rt:[T.Di - T.ar]});}};Ka.onprogress=function(Va){Ua=!0;T.rla=Va.loaded;N();Va={mediaRequest:L,bytes:Va.loaded,timestamp:(0,u.kk)(),bytesLoaded:Va.loaded};la.m$(Va);};Ka.onload=function(){var Va;if(O !== r.Bl){(0,x.jb)(void 0 === T.wp);T.wp=(0,u.kk)();T.Di=T.Di || T.wp;if(200 <= Ka.status && 299 >= Ka.status){Va=h(Ka,la);la.parsed=!1;la.content=Va;la.aa=!0;}else Ka.status == F?P(w.M.QR,Ka.status):P(w.M.PR,Ka.status,Ka.response,S(Ka));O();}};Ka.onabort=ya;Ka.onerror=function(){var Va,Qa;Va=Ka.status;"undefined" !== typeof n.config.qYa && (Va=n.config.qYa);if(0 < Va){if(Va == F)P(w.M.QR,Va);else {try{Qa=Ka.responseText;}catch(xa){}P(w.M.PR,Va,Qa,S(Ka));}}else P(w.M.SR);};cb=(0,u.kk)();f(Ka,R,!1,L);M.Hc(b.I7,la,!0);Za || (T.ar=cb,la.k$({mediaRequest:L,timestamp:cb}));N();M.addListener(b.K7,U);}else (0,A.Wf)(P.bind(void 0,w.M.OR));}catch(Va){ra.error("Exception starting download",Va,Y);P(w.M.Gda,void 0,(0,r.wd)(Va));}else P(w.M.AEa);});return la;},Xb:Q,nec:function(L){var J;J=new XMLHttpRequest();L=g(L);J.open("HEAD",L);J.onreadystatechange=function(){2 == J.readyState && !1;};J.send();},L0b:function(L){var J;J=new XMLHttpRequest();L=c(L);J.open("HEAD",L);J.onreadystatechange=function(){2 == J.readyState && !1;};J.send();},RWb:function(L){var J,O,N;J=new XMLHttpRequest();O=L.url;N=L.OWb;J.open("HEAD",O);J.timeout=Math.max(2 * N.LPb,n.config.jva);J.onreadystatechange=function(){2 == J.readyState && (!1,N && N.QO({url:O}));};J.ontimeout=J.onerror=function(){!1;N && N.Dta({url:O});};J.send();},$lb:D};})();b.TLb=c;b.QLb=g;b.SLb=l;b.RLb=m;b.J7=p.$Ka;b.ULb=d;b.dnb=f;b.cnb=h;b.I7=1;b.U0a=2;b.V0a=3;b.K7=4;b.gqa=5;b.eqa=1;b.fqa=2;b.LW=3;F=420;nb._cad_global.http=b.nf;},function(t,b,a){var g,l,m,d,f;function c(h,k,n){this.context=h;this.errorCode=k;this.rZb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.Ki=void 0;t=a(1);g=a(0);l=a(525);m=a(5);d=a(41);f=a(42);c.prototype.send=function(h,k,n,p,q,u){var r;r=this;u=void 0 === u?f.Kv.vS:u;return this.XHb(h,k,n,u,p,q).then(function(w){return r.context.cDb.send(w.context,w.request);});};c.prototype.XHb=function(h,k,n,p,q,u){var r,w;try{r=this.context.SYb.create(this.context.nA.Cz(),k.url,n,q,p);w=this.Pvb(k,h,p,u);return Promise.resolve({context:w,request:r});}catch(v){return Promise.reject(v);}};c.prototype.Pvb=function(h,k,n,p){return {nf:this.context.nf,log:k,Gn:h.name,url:this.context.H4b((0,l.iTa)(this.context.Mh,this.context.Xh,h.name,n)),Bwa:this.rZb,timeout:(0,m.Ch)(59),headers:(0,l.hTa)(this.context.Xh,this.context.gH),vp:h.vp,tvb:p};};c.prototype.Qn=function(h){return h instanceof d.od?h:(0,l.Qn)(this.errorCode,h);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.$m)()),t.__param(1,(0,g.$m)()),t.__param(2,(0,g.$m)())],a);b.Ki=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qt={Request:"Request",Mfa:"Singleton",k2:"Transient"};b.Qj={UBa:"ConstantValue",VBa:"Constructor",hDa:"DynamicValue",xda:"Factory",Function:"Function",Instance:"Instance",Bjb:"Invalid",XKa:"Provider"};b.xy={NBa:"ClassProperty",WBa:"ConstructorArgument",aga:"Variable"};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vx="Base16EncoderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uv="Utf8EncoderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lMa="StorageValidatorSymbol";b.SB="AppStorageFactorySymbol";},function(t,b,a){var g,l,m;function c(d,f){this.ew=f?[f]:[];this.lha="$op$" + m++;this.G=d;}Object.defineProperty(b,"__esModule",{value:!0});b.ic=void 0;g=a(12);l=a(22);m=0;c.prototype.addListener=function(d,f){var h;h=this;(0,l.Rla)(d);(0,l.jb)(0 > this.ew.indexOf(d));d[g.G1 + this.lha]=f;this.ew=this.ew.slice();this.ew.push(d);this.ew.sort(function(k,n){return h.Z0b(k,n);});};c.prototype.removeListener=function(d){var f;(0,l.Rla)(d);this.ew=this.ew.slice();0 <= (f=this.ew.indexOf(d)) && this.ew.splice(f,1);};c.prototype.set=function(d,f){if(this.G !== d){f={oldValue:this.G,newValue:d,zm:f};this.G=d;d=this.ew;for(var h=d.length,k=0;k < h;k++){d[k](f);}}};c.prototype.when=function(d){var f;f=this;return new Promise(function(h){function k(n){if(d(n.newValue))return (f.removeListener(k),h(n.newValue));}if(d(f.G))return h(f.G);f.addListener(k);});};c.prototype.Z0b=function(d,f){return (d[g.G1 + this.lha] || 0) - (f[g.G1 + this.lha] || 0);};Ya.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.G;}}});b.ic=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hy="IdProviderSymbol";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xv=void 0;t=(function(){function a(c){this.df=c;}a.prototype.qxa=function(c){this.df=c;};a.prototype.RTa=function(){this.df=void 0;};a.prototype.YV=function(c){return this.df && this.df.p$ && this.df.p$(c);};a.prototype.vN=function(c){this.df && this.df.WA && this.df.WA(c);};a.prototype.sD=function(c){this.df && this.df.DI && this.df.DI(c);};a.prototype.vH=function(c){this.df && this.df.EI && this.df.EI(c);};a.prototype.sYa=function(c){this.df && this.df.gua && this.df.gua(c);};a.prototype.pu=function(c){this.df && this.df.Ek && this.df.Ek(c);};a.prototype.w6=function(c){this.df && this.df.jY && this.df.jY(c);};a.prototype.uN=function(c,g,l){this.df && this.df.iY && this.df.iY(c,g,l);};return a;})();b.xv=t;t.prototype.p$=t.prototype.YV;t.prototype.WA=t.prototype.vN;t.prototype.DI=t.prototype.sD;t.prototype.EI=t.prototype.vH;t.prototype.Ek=t.prototype.pu;t.prototype.jY=t.prototype.w6;t.prototype.iY=t.prototype.uN;t.prototype.gua=t.prototype.sYa;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(146);b.Co=function(g){c.assert("number" === typeof g);return String.fromCharCode(g >>> 24 & 255) + String.fromCharCode(g >>> 16 & 255) + String.fromCharCode(g >>> 8 & 255) + String.fromCharCode(g & 255);};b.YS=function(g){return g.charCodeAt(3) + (g.charCodeAt(2) << 8) + (g.charCodeAt(1) << 16) + (g.charCodeAt(0) << 24);};b.Ynb=function(g,l){return Math.floor(1E3 * g / l);};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(m){g.prototype.parse.call(this,m);this.jc=this.gj([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{NLb:"int32"},{n5b:"int32"},{offset:32,type:"offset"},{CGb:"int16"},{dyb:{type:"int8",tja:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};l.Ra=!0;return l;})(a(230).default);b.default=t;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="avc1";return l;})(t);b.pca=a;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="avc2";return l;})(t);b.qca=a;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="avc3";return l;})(t);b.rca=a;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="avc4";return l;})(t);b.sca=a;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="hvc1";return l;})(t);b.Hda=a;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="hev1";return l;})(t);b.Bda=a;t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="av01";return l;})(t);b.Xeb=t;},function(t){t.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(t,b,a){var g,l,m,d;function c(f,h,k){var n,p,r;h=g.__assign({},null === (p=null === f || void 0 === f?void 0:f.context) || void 0 === p?void 0:p.call(f,{n6a:h,Oo:k}));if((null === f || void 0 === f?0:f.Oo) && k)if(!0 === f.Oo)h.args=k;else {p={};h.args=p;try{for(var q=g.__values(f.Oo),u=q.next();!u.done;u=q.next()){r=u.value;p[r]=k[r];}}catch(v){var w;w={error:v};}finally{try{u && !u.done && (n=q.return) && n.call(q);}finally{if(w)throw w.error;}}}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.Sv=b.ypa=b.Rb=void 0;g=a(2);l=a(20);m=g.__importDefault(a(6));d=a(9);b.Rb=function(f){return function(h,k,n){var p;p=n.value;n.value=function(){var q,u,r,w,v,x;u=b.ypa(this);if(u)(r=c(f,this,arguments),w=null !== (q=null === f || void 0 === f?void 0:f.methodName) && void 0 !== q?q:String(k),v=u.gU(w,r,null === f || void 0 === f?void 0:f.el,null === f || void 0 === f?void 0:f.Tcc));q=null === u || void 0 === u?void 0:u.Nla;u && (u.Nla=v);try{x=null === p || void 0 === p?void 0:p.apply(this,arguments);d.dra(x) && (x=x.then(function(z){v && (null === f || void 0 === f?0:f.return) && (v.data.resolve=z);return z;},function(z){v && (v.data.reject="" + z);return Promise.reject(z);}));return x;}catch(z){var y;y=z;throw z;}finally{u && (u.Nla=q);v && (v.data || (v.data={}),y?(v.data.error="" + y,null === u || void 0 === u?void 0:u.oyb(v)):(null === f || void 0 === f?0:f.return) && !d.dra(x) && (v.data.lRet=x));}};};};b.ypa=function(f){if(null === f || void 0 === f?0:f.jga)return f.jga;};t=(function(){function f(h){this.Lq=[];this.c3=!1;this.kha={};this.J=g.__assign({NA:10},h);Object.defineProperties(h.Sq,{jga:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(f.prototype,{source:{get:function(){return this.J.source;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !this.c3;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{tOb:{get:function(){return g.__spread(this.Lq);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{KLb:{get:function(){return this.kha;},enumerable:!1,configurable:!0}});f.prototype.rw=function(h){var k,n;if(!this.c3){n=null === (k=b.ypa(this.J.Sq)) || void 0 === k?void 0:k.Nla;n && (n.data=g.__assign(g.__assign({},n.data),h));}};f.prototype.gU=function(h,k,n,p){var q,u,r,w;if(!this.c3){r=!1;w=null === (u=(q=this.J).cja) || void 0 === u?void 0:u.call(q,this.J.Sq);q=c({},this.J.Sq);k=g.__assign(g.__assign(g.__assign({},w),q),k);w=0 < Object.keys(k).length;k={methodName:h,data:w?k:void 0,time:m.default.time.ga()};p && this.kha[h]++;n && this.Lq.length && (n=this.Lq[this.Lq.length - 1],n.methodName === h && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=k,r=!0));this.pyb(k);r || this.Lq.push(k);this.Lq.length > this.J.NA && this.Lq.shift();return k;}};f.prototype.pyb=function(h){var k;l.ia && (null === (k=this.J.console) || void 0 === k?void 0:k.trace(this.J.source + "::" + h.methodName,h.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.J,h);};f.prototype.oyb=function(h){var k;l.ia && (null === (k=this.J.console) || void 0 === k?void 0:k.error(this.J.source + "::" + h.methodName,h.data));};f.prototype.Jb=function(){Object.defineProperties(this.J.Sq,{jga:{enumerable:!1,value:null,configurable:!0}});this.c3=!0;this.clear();};f.prototype.clear=function(){this.Lq=[];this.kha={};};return f;})();b.Sv=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jy="LogMessageFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ip={start:"start",stop:"stop",dX:"keepAlive",jN:"engage",splice:"splice"};b.uda="EventPboCommandFactorySymbol";b.gMa="StartEventPboCommandSymbol";b.kMa="StopEventPboCommandSymbol";b.PFa="KeepAliveEventPboCommandSymbol";b.bMa="SpliceEventPboCommandSymbol";b.HDa="EngageEventPboCommandSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.iy=b.ResponseType=void 0;b.ResponseType={Text:1,wac:2,yfb:3};b.iy="LegacyHttpSymbol";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(153);b.Co=function(g){c.assert("number" === typeof g);return String.fromCharCode(g >>> 24 & 255) + String.fromCharCode(g >>> 16 & 255) + String.fromCharCode(g >>> 8 & 255) + String.fromCharCode(g & 255);};b.YS=function(g){return g.charCodeAt(3) + (g.charCodeAt(2) << 8) + (g.charCodeAt(1) << 16) + (g.charCodeAt(0) << 24);};b.Ynb=function(g,l){return Math.floor(1E3 * g / l);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Li={audio:"audio",video:"video",pba:"timedtext",Mya:"trickplay"};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ay="DeviceFactorySymbol";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.kj=b.Hkb=b.Kp=void 0;c=a(17);b.Kp=b.Kp || (function(g,l,m){return g >= l?g <= m?g:m:l;});b.Hkb=function(g,l,m,d,f){return (g - l) * (f - d) / (m - l) + d;};b.kj=function(g){if((0,c.Fa)(g))return (g / 1E3).toFixed(3);};},function(t,b,a){var l,m;function c(d,f,h,k,n){var p,q,r;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():h;if(q && void 0 !== h)throw Error(l.mjb);Reflect.Qpa(d,f) && (p=Reflect.getMetadata(d,f));h=p[n];if(Array.isArray(h)){q=0;for(var u=h;q < u.length;q++){r=u[q];if(r.key === k.key)throw Error(l.vhb + " " + r.key.toString());}}else h=[];h.push(k);p[n]=h;Reflect.x5(d,p,f);}function g(d,f){return function(h,k){f(h,k,d);};}Object.defineProperty(b,"__esModule",{value:!0});l=a(58);m=a(44);b.GJ=function(d,f,h,k){c(m.vMa,d,f,k,h);};b.h_=function(d,f,h){c(m.wMa,d.constructor,f,h);};b.fs=function(d,f,h){"number" === typeof h?(d=[g(h,d)],Reflect.fs(d,f)):"string" === typeof h?Reflect.fs([d],f,h):Reflect.fs([d],f);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.FFa="Injector";b.ky=145152E5;b.xS="ProfileSymbol";},function(t,b,a){var g,l;function c(m,d,f,h,k){m=void 0 === m?g.N.em:m;return l.od.call(this,m,d,f,void 0,void 0,h,l.od.wd(k),k) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oh=void 0;g=a(3);l=a(41);na(c,l.od);b.oh=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xCa="DebugConfigSymbol";b.Bv="DebugSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vda="EventSourceSymbol";b.yda="GlobalEventSourceSymbol";b.M0="DebugEventSourceSymbol";b.KCa="DiagnosticsEventSourceSymbol";},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(2);t.__exportStar(a(723),b);t.__exportStar(a(724),b);t.__exportStar(a(725),b);t.__exportStar(a(726),b);t.__exportStar(a(727),b);t.__exportStar(a(728),b);t.__exportStar(a(729),b);t.__exportStar(a(730),b);t.__exportStar(a(352),b);t.__exportStar(a(353),b);t.__exportStar(a(731),b);t.__exportStar(a(732),b);t.__exportStar(a(217),b);},function(t,b,a){var n;function c(p,q){if(p.length == q.length && 1 < p.length){for(var u=p.length,r=0,w=d(p),v=d(q),x=0;x < u;x++){r+=p[x] * q[x];}return (r - w * v / u) / u;}return !1;}function g(p){if(!Array.isArray(p) || 2 > p.length)return !1;p=l(p);return Math.sqrt(p);}function l(p){var q;if(!Array.isArray(p) || 2 > p.length)return !1;q=m(p);return d(p.map(function(u){return (u - q) * (u - q);})) / (p.length - 1);}function m(p){return Array.isArray(p) && p.length?d(p) / p.length:!1;}function d(p){return Array.isArray(p)?p.reduce(function(q,u){return q + u;},0):!1;}function f(p,q,u){return Math.max(Math.min(p,u),q);}function h(p,q){return "number" === typeof p?p:q;}function k(p){return 1 / (1 + Math.exp(-p));}n=a(10);t.exports={Ya:function(p,q,u){try{p.emit(q,u);}catch(r){p.Vk("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",r,"Event:",u);}},fD:function(){var p,q,u;p=Array.prototype.concat.apply([],arguments);q=p.reduce(function(r,w){return r + w.byteLength;},0);u=new Uint8Array(q);p.reduce(function(r,w){u.set(new Uint8Array(w),r);return r + w.byteLength;},0);return u.buffer;},M4:f,wxb:function(p,q,u,r){return {min:f(h(p.min,q),u,r),max:f(h(p.max,q),u,r),uz:f(p.uz || 6E4,0,6E5),zTa:f(p.zTa || 0,-3E5,3E5),scale:f(p.scale || 6E4,0,3E5),n$a:f(p.n$a || 0,-3E5,3E5),gamma:f(p.gamma || 1,.1,10)};},ve:function(p,q){void 0 !== p && n.HUb(p).forEach(function(u){q(u[0],u[1]);});},Zma:function(p,q,u){return p.min + (p.max - p.min) * (1 - Math.pow(k(6 * (q - (p.uz + (p.zTa || 0) * (1 - u))) / (p.scale + (p.n$a || 0) * (1 - u))),p.gamma));},WEb:function(p,q){return p.min + (p.max - p.min) * Math.pow(k(6 * (q - p.uz) / p.scale),p.gamma);},Gcc:d,lHb:m,DKb:l,Ecc:g,ycc:c,xcc:function(p,q){var u;if(p.length == q.length){u=c(p,q);p=g(p);q=g(q);if(0 < p && 0 < q)return u / (p * q);}return !1;},Oq:function(p,q,u){return q.mVa?q.mVa(u):new p.Console("ASEJS","media|asejs",q.prefix?q.prefix + " " + u:u);},ZZb:function(p){return p.length?"{" + p + "} ":"";},MZb:function(p,q,u){return {min:p.min * u + (1 - u) * q.min,max:p.max * u + (1 - u) * q.max,uz:p.uz * u + (1 - u) * q.uz,scale:p.scale * u + (1 - u) * q.scale,gamma:p.gamma * u + (1 - u) * q.gamma};},tanh:Math.tanh || (function(p){var q;q=Math.exp(+p);p=Math.exp(-p);return Infinity == q?1:Infinity == p?-1:(q - p) / (q + p);}),Dxa:k,Nq:function(p){var q;q=p.Ta.ib.H.id;return {$:p.$,duration:p.duration,offset:p.offset,fa:p.fa,bitrate:p.bitrate,profile:p.profile,dd:p.dd,ha:q,Sa:p.Sa,re:p.re,location:p.location,wi:p.wi,mk:p.mk,rx:{ib:{H:{id:q}}}};}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DF="6674654e-696c-5078-6966-665374726d21";b.EF="6674654e-696c-4878-6165-6465722e7632";b.iS="6674654e-696c-5078-6966-66496e646578";b.oy="6674654e-696c-4d78-6f6f-6653697a6573";b.ny="6674654e-696c-5378-6565-6b506f696e74";b.nS="cedb7489-e77b-514c-84f9-7148f9882554";b.mS="524f39a2-9b5a-144f-a244-6c427c648df4";b.CF="6674654e-696c-4678-7261-6d6552617465";},function(t,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.gn=void 0;c=a(2);g=a(4);l=c.__importDefault(a(28));m=c.__importDefault(a(126));d=a(382);f=a(21);t=a(43);h=a(176);k=a(237);a=a(103);n=(function(p){function q(u,r){var w;w=p.call(this,u,r) || this;q.Eb(w,u,r);return w;}c.__extends(q,p);q.Eb=function(u,r,w,v){var x;h.yv.Eb(u,r,w);u.Ce=w.index;u.rL=w.Za;u.Xv=w.tb;u.Csb=w.xb?w.xb:r.xb;u.nJ=w.nJ;u.Roa=v;u.iPa=! !w.Mq;u.gQa=null !== (x=w.region) && void 0 !== x?x:0;u.FOa=! !w.Ena;u.hPa=! !w.Yw;u.Od=void 0 === w.x6 || void 0 === w.Pna || w.x6 === w.Za && w.Pna === w.tb?u:new k.UB(u,{Za:w.x6,tb:w.Pna});u.Tpb=w.kta;u.onb=w.ri;u.fpb=r.rLb;u.Tp=w.ya?u.S5a(w.ya):void 0;u.DQa=w.rv;u.hf=!1;};q.kVa=function(u){for(var r=new Uint32Array(u.length),w=new Uint32Array(u.length),v=new Uint8Array(u.length),x=new Uint8Array(u.length),y=0,z,A,B=0;B < u.length;++B){z=u[B];A=z.Qc;r[B]=z.Xv - z.rL;w[B]=A;v[B]=z.stream.Of;void 0 !== z.xb && null !== z.xb && (x[B]=z.xb);y+=A;}return new d.Lfa(r,w,v,x,u.length?u[0].W:1E3,y);};Object.defineProperties(q.prototype,{TD:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.Ce;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xb:{get:function(){return this.Csb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{OSa:{get:function(){return 8 * this.fa / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Za:{get:function(){return this.rL;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tb:{get:function(){return this.Xv;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Gj:{get:function(){var u,r;return null !== (r=null === (u=this.Roa) || void 0 === u?void 0:u.call(this)) && void 0 !== r?r:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Mq:{get:function(){return this.iPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.gQa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ena:{get:function(){return this.FOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Yw:{get:function(){return this.hPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kta:{get:function(){return this.Tpb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ri:{get:function(){return this.onb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ya:{get:function(){return this.Tp;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rv:{get:function(){return this.DQa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{x6:{get:function(){return this.Od.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Pna:{get:function(){return this.Od.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{BGb:{get:function(){return this.Od.eu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wN:{get:function(){return this.Od.zd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{z6:{get:function(){return this.Od.oe;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{y6:{get:function(){return this.Od.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qna:{get:function(){return this.Od.gd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{AGb:{get:function(){return this.Od.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tD:{get:function(){var u;u=this.BGb;g.assert(u);return u / this.stream.va.pc;},enumerable:!1,configurable:!0}});q.prototype.l4a=function(){this.iPa=!0;};q.prototype.Z_b=function(u){this.nJ={ae:u.nZa(),get t8() {return u.sv;}};};q.prototype.SP=function(u){this.DQa=u;};q.prototype.W_b=function(u,r,w){this.gQa=u;this.FOa=r;this.hPa=w;};q.prototype.Lk=function(u){var r,w;void 0 === u && (u={});r=this.stream.va.pc;w=this.Tp || ({start:0,end:this.tD});u=this.S5a(u);this.Od && this.Od !== this || (this.Od=new k.UB(this,this));u.start > w.start && (this.rL=this.Od.Za + u.start * r);u.end < w.end && (this.Xv=this.Od.Za + u.end * r);this.Tp=u;};q.prototype.Bma=function(u){void 0 === u && (u=1);this.Tp?this.Lk({start:this.Tp.start + u,end:this.Tp.end}):this.Lk({start:u});};q.prototype.Cma=function(u){this.Tp?this.Lk({start:this.Tp.start,end:(this.Tp.end || 0) - u}):this.Lk({start:0,end:-u});};q.prototype.Ama=function(){this.Lk({start:0,end:0});};q.prototype.$_b=function(u){this.Tp || this.Lk();this.Tp.Exa=u;};q.prototype.aYa=function(u){var w;if(!(u < this.$ || u >= this.La) && this.ri && this.ri.length){u=new f.R(u + 1 - this.$,1E3).Nl(this.stream.va);for(var r=this.ri.length - 1;0 <= r;--r){w=this.ri[r];if(w.tl <= u)return w;}return {tl:0,Fd:this.Qna};}};q.prototype.aGb=function(u){var w;if(!(u < this.$ || u >= this.La) && this.ri && this.ri.length){u=new f.R(u + 1 - this.$,1E3).Nl(this.stream.va);for(var r=this.ri.length - 1;0 <= r;--r){w=this.ri[r];if(w.tl <= u)return w;}return {tl:0,Fd:this.Qna};}};q.prototype.TXa=function(u,r){var w,v,x;if(!(u < this.$ || u >= this.La)){if(!r && this.fpb)return {tl:0,Fd:this.$};w=this.va.pc;v=this.va.W;x=Math.floor(this.eu / w);u=Math.min((r?Math.ceil:Math.floor)((f.R.lta(u,v) - this.Za + (r?-1:1) * (v / 1E3 - 1)) / w),x);w=f.R.r_(this.Za + u * w,v);return u === x?void 0:{tl:u,Fd:w};}};q.prototype.vna=function(u){return this.mediaType === l.default.Wa.Pb?this.aYa(u):this.TXa(u,!1);};q.prototype.una=function(u){return this.mediaType === l.default.Wa.Pb?this.aGb(u):this.TXa(u,!0);};q.prototype.X3=function(u){this.Qc+=u.fa;this.Xv=u.tb;this.Tp && (this.Od=new k.UB(this,{Za:this.x6,tb:this.Xv}),this.Tp.end=this.tD);};q.prototype.toString=function(){return "[" + this.Sa + ", " + this.bitrate + "kbit/s, c:" + (this.gd + "-" + this.Mc + ",p:") + (this.zd + "-" + this.oe + ",d:" + this.duration + "]");};q.prototype.toJSON=function(){var u;u=h.yv.prototype.toJSON.call(this);m.default({index:this.index,startPts:this.$,endPts:this.La,"contentStartTicks:":this.Za,contentEndTicks:this.tb,contentStartPts:this.gd,contentEndPts:this.Mc,fragmentStartPts:this.wN !== this.$?this.wN:void 0,fragmentEndPts:this.z6 !== this.La?this.z6:void 0,edit:this.ya},u);return u;};q.prototype.$Xa=function(u){var w;if(this.ri)for(var r=0;r < this.ri.length;++r){if(this.ri[r].tl === u)w=this.ri[r].offset;}return w;};q.prototype.S5a=function(u){var r;r=u.start || 0;return {start:r,end:void 0 === u.end?this.tD:Math.min(this.tD,Math.max(r,0 > u.end?this.tD + u.end:u.end)),Exa:u.Exa,N0b:u.N0b};};return q;})(h.yv);b.gn=n;t.Bf(a.Tx,n);t.Bf(a.TB,n);},function(t,b,a){var d;function c(f,h){return void 0 === f?void 0:0 === f?d.R.eb:new d.R(f,h);}function g(f,h){return f && Math.floor(d.R.r_(f,h));}function l(f,h){return void 0 === f || void 0 === h?void 0:f + h;}function m(f,h){return void 0 === f || void 0 === h?void 0:f - h;}Object.defineProperties(b,{__esModule:{value:!0}});b.TB=b.Tx=void 0;d=a(21);t=(function(){function f(){}Object.defineProperties(f.prototype,{eu:{get:function(){return m(this.tb,this.Za) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{MVb:{get:function(){return l(this.Za,this.Gj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{IVb:{get:function(){return l(this.tb,this.Gj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{kH:{get:function(){return c(this.eu,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Yc:{get:function(){return c(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Sd:{get:function(){return c(this.tb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Og:{get:function(){return c(this.MVb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ye:{get:function(){return c(this.IVb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{tva:{get:function(){return c(this.Gj,this.W);},enumerable:!1,configurable:!0}});return f;})();b.Tx=t;t=(function(){function f(){}Object.defineProperties(f.prototype,{duration:{get:function(){return m(this.La,this.$) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$:{get:function(){return g(l(this.Za,this.Gj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{La:{get:function(){return g(l(this.tb,this.Gj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{dv:{get:function(){return g(this.Gj,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{mk:{get:function(){return g(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{gd:{get:function(){return g(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Mc:{get:function(){return g(this.tb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{zd:{get:function(){return g(l(this.Za,this.Gj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{oe:{get:function(){return g(l(this.tb,this.Gj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{hs:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{eB:{get:function(){return this.$;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{vx:{get:function(){return this.La;},enumerable:!1,configurable:!0}});return f;})();b.TB=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.SQ=b.bfb=b.wca=b.xca=void 0;(function(a){a[a.CWa=0]="downloading";a[a.xDb=1]="downloaded";a[a.hf=2]="appended";a[a.buffered=3]="buffered";a[a.sP=4]="removed";a[a.Rfc=5]="unused";})(b.xca || (b.xca={}));(function(a){a[a.waiting=1]="waiting";a[a.uec=2]="ondeck";a[a.CWa=4]="downloading";a[a.xDb=8]="downloaded";a[a.TW=6]="inprogress";})(b.wca || (b.wca={}));b.bfb="AseBufferViewSymbol";b.SQ="AseBufferAccountingSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tea=b.ln=void 0;t=b.ln || (b.ln={});t.JF="PRE_FETCH";t.Ulb="QC";t.Mp="STANDARD";t.Y1="SUPPLEMENTAL";t.n7b="DOWNLOAD";b.Tea="PboManifestCommandSymbol";},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.l0a=b.Tcb=b.Qu=b.t9=b.V4a=void 0;t=a(978);c=a(981);g=a(1002);a=a(1006);b.V4a=t;b.t9=function(l,m){return (0,b.V4a)(function(d,f){return void 0 !== f?f:d;},l,m);};b.Qu=c;b.Tcb=g;b.l0a=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DF="6674654e-696c-5078-6966-665374726d21";b.EF="6674654e-696c-4878-6165-6465722e7632";b.iS="6674654e-696c-5078-6966-66496e646578";b.oy="6674654e-696c-4d78-6f6f-6653697a6573";b.ny="6674654e-696c-5378-6565-6b506f696e74";b.nS="cedb7489-e77b-514c-84f9-7148f9882554";b.mS="524f39a2-9b5a-144f-a244-6c427c648df4";b.CF="6674654e-696c-4678-7261-6d6552617465";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(m){g.prototype.parse.call(this,m);this.jc=this.gj([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{NLb:"int32"},{n5b:"int32"},{offset:32,type:"offset"},{CGb:"int16"},{dyb:{type:"int8",tja:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};l.Ra=!0;return l;})(a(269).default);b.default=t;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="avc1";return l;})(t);b.pca=a;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="avc2";return l;})(t);b.qca=a;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="avc3";return l;})(t);b.rca=a;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="avc4";return l;})(t);b.sca=a;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="hvc1";return l;})(t);b.Hda=a;t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="hev1";return l;})(t);b.Bda=t;},function(t,b){var c;function a(g,l){var m;m=this;this.$ga=[];c.forEach(function(d){(d=d(g,l)) && m.$ga.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.zF=b.DHa=void 0;c=[];a.prototype.pv=function(g){var d;for(var l=[],m=this.$ga.length;m--;){d=this.$ga[m];d.pv(g) && l.push(d.qN);}if(l.length)return l;};b.DHa=a;b.zF=function(g){c.push(g);};},function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.KF="PlatformConfigDefaultsSymbol";},function(t,b,a){var g,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qK=b.Lb=void 0;g=a(138);l=a(41);m=a(3);c.uoa=function(d){if(d){if(d.includes(b.qK.wE))return g.uo.wE;if(d.includes("fps"))return g.uo.sH;if(d.includes(b.qK.$ba))return g.uo.$ba;}throw new l.od(m.N.Nhb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.tZa=function(d){switch(d){case g.uo.wE:return b.qK.wE;case g.uo.sH:return b.qK.sH;default:return b.qK.$ba;}};b.Lb=c;c.ry="com.microsoft.playready";c.Xd="com.microsoft.playready.hardware";c.LF="com.microsoft.playready.software";c.gib="com.apple.fps.2_0";c.DNa="com.widevine.alpha";c.Olb="com.microsoft.playready.recommendation.3000";c.NJa="com.microsoft.playready.recommendation.2000";b.qK={sH:"fairplay",$ba:"widevine",wE:"playready"};},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Hd=void 0;g=a(26);c.qVa=function(l){var m;m={};m[g.ue.AS]=c.uR;m[g.ue.$0]=c.uR;m[g.ue.ZK]=c.xR;m[g.ue.fy]=c.fy;m[g.ue.st]=l || c.st;m[g.ue.RB]=c.uR;m[g.ue.pC]=c.IS;m[g.ue.zl]=c.zl;return m;};b.Hd=c;c.$sa='video/mp4; codecs="avc1.4d0028"';c.uR="avc1.4d0028";c.xR="hev1.1.6.L93.B0";c.A0="dvhe.05.01";c.dda="dvhe.05.04";c.eda="dvhe.05.05";c.fda="dvhe.05.06";c.gda="dvhe.05.07";c.hda="dvhe.05.09";c.st=c.A0;c.fy=c.xR;c.a0="mp4a.40.2";c.WF="mp4a.40.42";c.ygb="ec-3";c.IS="vp09.00.11.08.02";c.zl="av01.0.04M.08";c.rgb=[c.hda,c.gda,c.fda,c.eda,c.dda,c.A0];},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.nC=void 0;t=a(1);a=a(0);c.prototype.format=function(l,m){var f;for(var d=1;d < arguments.length;++d){;}f=Array.prototype.slice.call(arguments,1);return l.replace(/{(\d+)}/g,function(h,k){return "undefined" != typeof f[k]?f[k]:h;});};c.prototype.tbb=function(l){for(var m=l.length,d=new Uint16Array(m),f=0;f < m;f++){d[f]=l.charCodeAt(f);}return d.buffer;};c.prototype.wbb=function(l){return JSON.stringify(l,null,"  ");};g=c;g=t.__decorate([(0,a.T)()],g);b.nC=g;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WK="ThrottleFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.EK="LoggerSinksSymbol";},function(t){var h,k,n,p;function b(){b.Eb.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,u,r,w){var v,x;a(r);v=q.Kh;if(void 0 === v)(v=q.Kh=Object.create(null),q.bG=0);else {void 0 !== v.kec && (q.emit("newListener",u,r.listener?r.listener:r),v=q.Kh);x=v[u];}void 0 === x?(v[u]=r,++q.bG):("function" === typeof x?x=v[u]=w?[r,x]:[x,r]:w?x.unshift(r):x.push(r),r=void 0 === q.xT?b.fCb:q.xT,0 < r && x.length > r && !x.I5b && (x.I5b=!0,r=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(u) + " listeners added. Use emitter.setMaxListeners() to increase limit"),r.name="MaxListenersExceededWarning",r.fu=q,r.type=u,r.count=x.length,console && console.warn && console.warn(r)));return q;}function g(){if(!this.eYa)return (this.target.removeListener(this.type,this.qeb),this.eYa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function l(q,u,r){q={eYa:!1,qeb:void 0,target:q,type:u,listener:r};u=g.bind(q);u.listener=r;return q.qeb=u;}function m(q){var u;u=this.Kh;if(void 0 !== u){q=u[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,u,r){"function" === typeof q.on && f(q,"error",u,r);}function f(q,u,r,w){if("function" === typeof q.on){if(w.once)q.once(u,r);else q.on(u,r);}else if("function" === typeof q.addEventListener)q.addEventListener(u,function y(x){w.once && q.removeEventListener(u,y);r(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}h="object" === typeof Reflect?Reflect:null;k=h && "function" === typeof h.apply?h.apply:function(q,u,r){return Function.prototype.apply.call(q,u,r);};n=Number.isNaN || (function(q){return q !== q;});t.exports=b;t.exports.once=function(q,u){return new Promise(function(r,w){function v(y){q.removeListener(u,x);w(y);}function x(){"function" === typeof q.removeListener && q.removeListener("error",v);r([].slice.call(arguments));}f(q,u,x,{once:!0});"error" !== u && d(q,v,{once:!0});});};b.EventEmitter=b;b.prototype.Kh=void 0;b.prototype.bG=0;b.prototype.xT=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.Eb=function(){if(void 0 === this.Kh || this.Kh === Object.getPrototypeOf(this).Kh)(this.Kh=Object.create(null),this.bG=0);this.xT=this.xT || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.xT=q;return this;};b.prototype.emit=function(q){var w,v;for(var u=[],r=1;r < arguments.length;r++){u.push(arguments[r]);}w="error" === q;r=this.Kh;if(void 0 !== r)w=w && void 0 === r.error;else if(!w)return !1;if(w){0 < u.length && (v=u[0]);if(v instanceof Error)throw v;u=Error("Unhandled error." + (v?" (" + v.message + ")":""));u.context=v;throw u;}r=r[q];if(void 0 === r)return !1;if("function" === typeof r)k(r,this,u);else {v=r.length;w=Array(v);for(var x=0;x < v;++x){w[x]=r[x];}for(r=0;r < v;++r){k(w[r],this,u);}}return !0;};b.prototype.addListener=function(q,u){return c(this,q,u,!1);};b.prototype.on=b.prototype.addListener;b.prototype.FY=function(q,u){return c(this,q,u,!0);};b.prototype.once=function(q,u){a(u);this.on(q,l(this,q,u));return this;};b.prototype.f8a=function(q,u){a(u);this.FY(q,l(this,q,u));return this;};b.prototype.removeListener=function(q,u){var r,w,v,x,y;a(u);w=this.Kh;if(void 0 === w)return this;v=w[q];if(void 0 === v)return this;if(v === u || v.listener === u)0 === --this.bG?this.Kh=Object.create(null):(delete w[q],w.removeListener && this.emit("removeListener",q,v.listener || u));else if("function" !== typeof v){x=-1;for(r=v.length - 1;0 <= r;r--){if(v[r] === u || v[r].listener === u){y=v[r].listener;x=r;break;}}if(0 > x)return this;if(0 === x)v.shift();else {for(;x + 1 < v.length;x++){v[x]=v[x + 1];}v.pop();}1 === v.length && (w[q]=v[0]);void 0 !== w.removeListener && this.emit("removeListener",q,y || u);}return this;};b.prototype.UA=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var u,r,w;u=this.Kh;if(void 0 === u)return this;if(void 0 === u.removeListener)return (0 === arguments.length?(this.Kh=Object.create(null),this.bG=0):void 0 !== u[q] && (0 === --this.bG?this.Kh=Object.create(null):delete u[q]),this);if(0 === arguments.length){r=Object.keys(u);for(u=0;u < r.length;++u){w=r[u];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.Kh=Object.create(null);this.bG=0;return this;}r=u[q];if("function" === typeof r)this.removeListener(q,r);else if(void 0 !== r)for(u=r.length - 1;0 <= u;u--){this.removeListener(q,r[u]);}return this;};b.prototype.listeners=function(q){var u;u=this.Kh;if(void 0 === u)q=[];else if((q=u[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {u=Array(q.length);for(var r=0;r < u.length;++r){u[r]=q[r].listener || q[r];}q=u;}return q;};b.listenerCount=function(q,u){return "function" === typeof q.listenerCount?q.listenerCount(u):m.call(q,u);};b.prototype.listenerCount=m;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});t=a(228);c=a(147);b.whb=c;c=a(375);b.YK=c;c=a(379);b.Sub=c;b.b2=t.Pq.Xa.sidx;t=a(800);b.Fr=t.Fr;t=a(236);b.Dr=t.Dr;t=a(804);b.Er=t.Er;b.GA=t.GA;t=a(805);b.BK=t.BK;t=a(83);b.Co=t.Co;a=a(806);b.Vj=a.Vj;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.n0=b.Oj=void 0;c=a(2);t=c.__importDefault(a(18));g=c.__importStar(a(10));l=t.default.ii;m=c.__importDefault(a(6));d=m.default.Cr;f=a(174);h=c.__importDefault(a(145));k=a(9);t=a(43);n=a(240);p=a(176);(function(u){u[u.tkb=0]="NOTHING_APPENDED";u[u.Pkb=1]="PARTIAL";u[u.Zx=2]="COMPLETE";u[u.Qf=3]="ERROR";})(q=b.Oj || (b.Oj={}));a=(function(u){function r(w,v,x,y,z,A,B){v=u.call(this,v,x) || this;n.hK.Eb(v,w,y,z,A,B);p.yv.Eb(v,w,y);v.hnb=w.url || y.url;v.iga=y.responseType;v.gnb=y.Uaa;void 0 === v.iga && (v.iga=d.Rc && !d.Rc.pZ.BS?0:1);v.Ni=new l();v.Ni.on(v,d.Pe.hIa,v.Pha);v.Ni.on(v,d.Pe.gIa,v.Gqb);v.Ni.on(v,d.Pe.iIa,v.Jqb);v.Ni.on(v,d.Pe.lS,v.Oha);v.Ni.on(v,d.Pe.GF,v.yT);v.bL=!1;v.cf=!1;v.lm=!1;v.Io=!1;v.hT=!1;v.Frb=y.cJ;v.Qrb=y.xZ;v.Ks=0;return v;}c.__extends(r,u);Object.defineProperties(r.prototype,{active:{get:function(){return this.cf;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Qva:{get:function(){return this.lm;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{complete:{get:function(){return !this.bL && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{aborted:{get:function(){return this.bL;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Xqa:{get:function(){return this.Io && !this.hT;},enumerable:!1,configurable:!0}});r.prototype.Eb=function(w){var v;n.hK.prototype.Eb.call(this,w);if(!this.Go && (this.jf.Sia || !this.dd) && (w=this.Go=h.default.instance(),this.active)){v=m.default.time.ga();w.yP(v,this.AE);this.lm && (w.D9a(),v=this.fJ,this.connect && 0 < v.length && w.cz(v[0]));}};r.prototype.Cu=function(){return this.hf || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};r.prototype.GG=function(w,v,x,y){this.hf=w.appendBuffer(this.response,y || k.Nq(this));return {status:this.hf?q.Zx:q.Qf};};r.prototype.WO=function(){(this.Io=d.prototype.open.call(this,this.hnb,{start:this.offset,end:this.offset + this.fa - 1},this.iga,{},void 0,void 0,this.gnb)) && this.YV(this);return this.Io;};r.prototype.abort=function(){var w,v;if(this.aborted)return !0;w=this.cf;v=this.Go;v && w && v.jZ(m.default.time.ga(),this.lm,this.AE);this.bL=!0;this.lm=this.cf=!1;d.prototype.abort.call(this);this.uN(this,w,this.Xqa);return !0;};r.prototype.fd=function(){7 !== this.readyState && 5 !== this.readyState && (this.I.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this.toString()),this.abort());this.Ni && this.Ni.clear();u.prototype.fd.call(this);};r.prototype.Pha=function(){var w,v;w=this.yf || this.loadTime;f.Wx.instance().push(m.default.time.ga() - w);if(!this.cf){this.cf=!0;this.Eu=this.track.Eu();if(!this.stream.J.n4a){v=this.Go;v && v.yP(w,this.AE);}this.vN(this);this.Zu=this.yf;}};r.prototype.Gqb=function(){var w,v,x,y;w=this.yf || this.zna;v=this.connect;x=this.fJ;f.Wx.instance().push(m.default.time.ga() - w);this.cf || (this.cf=!0);if(!this.lm){this.lm=!0;y=this.Go;this.stream.J.n4a && y && y.yP(w,this.AE);y && y.D9a();v && 0 < x.length && y && y.cz(x[0]);this.sD(this);this.Zu=w;}};r.prototype.Jqb=function(){var w,v,x;w=this.yf;v=this.bytesReceived - this.Ks;f.Wx.instance().push(m.default.time.ga() - w);this.lm || (this.lm=!0);x=this.Go;x && (void 0 === this.Zu || x.RC(v,this.Zu,w,this.AE),(v=this.fJ) && v.length && v.forEach(function(y){x.az(y);}));this.vH(this);this.Zu=w;this.Ks=this.bytesReceived;};r.prototype.Oha=function(){var w,v,x;w=this.yf;v=this.bytesReceived - this.Ks;f.Wx.instance().push(m.default.time.ga() - w);x=this.Go;x && (0 < v && x.RC(v,this.Zu,w,this.AE),(v=this.fJ) && v.length && v.forEach(function(y){x.az(y);}),x.jZ(w,this.lm,this.AE));this.lm=this.cf=!1;this.hT=!0;this.pu(this);this.Zu=w;this.Ks=this.bytesReceived;this.fd();};r.prototype.Rob=function(){var w,v;w=(w=this.stream)?w.toString():this.url;v=this.E4;v && (w+=",range " + v.start + "-" + v.end);return w;};Object.defineProperties(r.prototype,{AE:{get:function(){return {requestId:this.Rob(),qk:this.re,type:this.mediaType,cJ:this.Frb,fa:this.fa,bytesReceived:this.bytesReceived,xZ:this.Qrb};},enumerable:!1,configurable:!0}});r.prototype.yT=function(){var w,v,x,y;this.I.warn("AseMediaRequest._onError:",this.toString());w=this.yf;v=this.status;x=this.wh;y=this.Aj;f.Wx.instance().push(m.default.time.ga() - w);this.complete?this.I.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.I.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):g.Fa(x)?((x=this.Go) && this.jf && this.jf.mwa && this.loadTime && void 0 === v && x.RC(this.Ks?this.bytesReceived - this.Ks:this.bytesReceived,this.Zu?this.Zu:this.loadTime,w,this.AE),this.w6(this)):this.I.warn("ignoring undefined request error (nativecode: " + y + ")");};return r;})(d);b.n0=a;t.Bf(n.hK,a,!1);t.Bf(p.yv,a,!1);},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wF="ManifestFetcherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VF="VideoPreparerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.QK=b.OF=void 0;t=b.OF || (b.OF={});t.x8b="ident";t.gea="main";t.tBa="credits";b.QK="PlaygraphHelperSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ho=void 0;b.ho=function(a,c){return [].concat.apply([],ha(a)).map(function(g){return Object.assign({name:g},null !== c && void 0 !== c?c:{});});};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.aDa="DrmServicesSymbol";b.Q0="DrmServicesProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gK="ApiInfoSymbol";},function(t,b){function a(c,g){var l;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,g);Object.getOwnPropertyNames(c).forEach(function(m){l=Object.getOwnPropertyDescriptor(c,m);void 0 !== l && Object.defineProperty(g,m,l);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(t,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Hp=void 0;c=a(2);g=c.__importDefault(a(28));l=c.__importDefault(a(6));m=a(811);t=(function(){function d(f){this.aL=f;this.fg=[];this.console=new l.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var f;if(void 0 === d.EL){f=a(6).default;d.EL=new d(f.pK);}return d.EL;},enumerable:!1,configurable:!0}});d.reset=function(){d.EL=void 0;};d.prototype.au=function(f,h,k,n,p,q){var u,r,w,v;u=!1;r=q.r0b?this.XFb(k,h,f,q.s0b):-1;if(-1 === r){w={track:this.CAb(k,n,f,p,q),Fj:k,K:h,D8a:f,mP:[],Uo:!1,XM:!1};this.fg.push(w);v=function(){w.Uo=!0;w.track.removeListener("created",v);};w.track.on("created",v);u=!1;}else (u=!0,w=this.fg[r]);f=new m.rLa(this.console,w.track,w.Uo,u);w.mP.push(f);return f;};d.prototype.WM=function(f){var h,k;f.rq();h=this.n6(function(n){return n.track === f.track;});if(-1 !== h){if((h=this.fg[h],1 === h.mP.length))(h.track.rq(),h.XM=!0);else {k=h.mP.indexOf(f);0 <= k && h.mP.splice(k,1);}}else f.track.rq();};d.prototype.tg=function(){this.aL.tg();};d.prototype.CAb=function(f,h,k,n,p){var q,u,r;q=this;u=!1;f?1 === k?(f=!1,h=1,p.Tq?(f=!0,h=p.zO):p.cx && 2 < p.cx && (f=!0,h=p.cx),f={type:this.aL.Pb,openRange:!f,pipeline:f,connections:h,socketBufferSize:p.CQ,minRequestSize:p.GO}):0 === k?(u=p.Tq && (p.Q4b || h && p.R4b),f={type:this.aL.Yb,openRange:!u,pipeline:u,connections:1,socketBufferSize:p.m4,minRequestSize:p.GO}):f={type:p.UCb?this.aL.Pb:this.aL.nib,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.Upa,minRequestSize:p.GO}:f={type:0 === k?g.default.Wa.Yb:g.default.Wa.Pb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === k?p.m4:p.CQ,minRequestSize:p.GO};r=new this.aL(f,n);r.on("transportreport",function(w){var v;v=q.n6(function(x){return x.track === r;});-1 !== v && (v=q.fg[v],v.mP.length && v.mP[0].emit("transportreport",w));});r.on("destroyed",function(){var w;w=q.n6(function(v){return v.track === r;});-1 !== w && q.fg.splice(w,1);r.removeAllListeners();});if(u && p.P4b || p.Kdb)r.on("pipelinedisabled",function(){p.Kdb && 1 === r.config.type?r.eaa(c.__assign(c.__assign({},r.config),{socketBufferSize:p.RRb,pipeline:!1,openRange:!0,connections:1})):r.eaa(c.__assign(c.__assign({},r.config),{pipeline:!1,openRange:!0}));});return r;};d.prototype.XFb=function(f,h,k,n){return this.n6(function(p){return !p.XM && (!n && p.track.config.xec || !f?!p.Fj && p.D8a === k:p.Fj && p.K === h && p.D8a === k);});};d.prototype.n6=function(f){for(var h=0;h < this.fg.length;++h){if(f(this.fg[h]))return h;}return -1;};return d;})();b.Hp=t;},function(t,b,a){(function(c,g){function l(m,d,f,h){this.console=new m("ASEJS_PROGRESS","media|asejs");this.now=d;this.L$a=this.h1b=m=this.now();this.V5=m + f;this.jVb=f;this.BVa=m + h;this.debug=!1;this.counter=this.IA=0;this.Ew=1E4;this.dcb=f / 100;this.fcb=m;this.ecb=1 * this.dcb / 4;this.mba=0;this.gV="";this.Ig(m,"progress tracking start");}l.prototype.constructor=l;l.prototype.Ig=function(m,d){var f,h;f=((m - this.L$a) / 1E3).toFixed(3);f=("     ").slice(f.length - 4) + f;h=c.sRb();this.console.info(f + (" " + ((this.BVa - m) / 1E3).toFixed(3)) + (" " + Math.round(this.Ew)) + (" M:(" + Math.floor(h.Rcc / 1024 / 1024) + " MB/" + Math.floor(h.M0a / 1024 / 1024) + " MB) ") + this.gV + d);};l.prototype.Urb=function(m){var d;d=this.now();this.gV=m?m + ": ":m;this.IA=0;this.L$a=d;this.Ig(d,"starting");};l.prototype.ssb=function(m){var d,f;this.counter++;if(!(this.counter < this.Ew)){this.counter=0;d=this.now();f=d - (this.fcb + this.dcb);this.fcb=d;this.mba=.9 * this.mba + .1 * f;this.mba > this.ecb?(this.Ew*=.875,this.Ew=Math.max(1,this.Ew)):this.mba < -this.ecb && (this.Ew*=1.5,this.Ew=Math.min(this.Ew,1E5));if(d >= this.BVa)throw (this.Ig("Execution deadline exceeded after " + (d - this.h1b) + " ms" + this.gV),Error("Execution deadline exceeded" + this.gV));f=c.sRb();this.IA=Math.max(this.IA,f.M0a);if(7516192768 < f.M0a)throw Error("Heap total limit exceeded" + this.gV);if(!(d <= this.V5)){for(;d > this.V5;){this.V5+=this.jVb;}this.Ig(d,m);}}};l.Eb=function(m,d,f,h){g.yE=new l(m,d,f || 5E3,h || 33E5);};l.jxa=function(m){g.yE && g.yE.Urb(m);};l.update=function(m){g.yE && g.yE.ssb(m);};l.f_a=function(){if(g.yE)return g.yE.IA;};l.now=function(){return g.yE?g.yE.now():Date.now();};t.exports=l;}).call(this,a(252),a(197));},function(t){var b;b={PW:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};t.exports=b;},function(t,b,a){var d,f;function c(h){return h instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(h);}function g(h){return d.Ve(h);}function l(h){return d.Fa(h);}function m(h){return !c(h) && !g(h) && !l(h) && !Array.isArray(h) && d.Th(h);}d=a(10);f={gF:0,X1:1,ykb:2,D1:3,em:4};t.exports={zpa:function(h){return c(h)?f.gF:g(h)?f.X1:l(h)?f.ykb:m(h)?f.D1:f.em;},f8:c,Ve:g,Fa:l,Th:m,Br:f};},function(t,b,a){var c;c=a(184);t.exports=function(g){return function d(m){return 0 === arguments.length || c(m)?d:g.apply(this,arguments);};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.j2=void 0;b.Op={PK:"PRIMARY",jca:"ASSISTIVE",mBa:"COMMENTARY",NONE:"NONE"};b.j2={assistive:b.Op.jca,closedcaptions:b.Op.jca,directorscommentary:b.Op.mBa,commentary:b.Op.mBa,subtitles:b.Op.PK,primary:b.Op.PK,none:b.Op.NONE};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.IK="ManifestFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sk=void 0;t=b.Sk || (b.Sk={});t.Uo="created";t.Fx="started";t.hQ="succeeded";t.iu="failed";t.Nh="cancelled";t.Fwb="cancelled_on_start";t.yka="cancelled_not_encrypted";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gv=void 0;t=b.Gv || (b.Gv={});t[t.I6b=8]="Backspace";t[t.jac=9]="Tab";t[t.T7b=13]="Enter";t[t.bac=16]="Shift";t[t.f7b=17]="Ctrl";t[t.k6b=18]="Alt";t[t.q$b=19]="PauseBreak";t[t.Z6b=20]="CapsLock";t[t.V7b=27]="Escape";t[t.dac=32]="Space";t[t.p$b=33]="PageUp";t[t.o$b=34]="PageDown";t[t.S7b=35]="End";t[t.w8b=36]="Home";t[t.N8b=37]="LeftArrow";t[t.qac=38]="UpArrow";t[t.x$b=39]="RightArrow";t[t.z7b=40]="DownArrow";t[t.K8b=45]="Insert";t[t.w7b=46]="Delete";t[t.zac=48]="Zero";t[t.T9b=49]="One";t[t.mac=50]="Two";t[t.kac=51]="Three";t[t.o8b=52]="Four";t[t.m8b=53]="Five";t[t.cac=54]="Six";t[t.aac=55]="Seven";t[t.R7b=56]="Eight";t[t.E9b=57]="Nine";t[t.b6b=65]="A";t[t.l6b=66]="B";t[t.P6b=67]="C";t[t.xgb=68]="D";t[t.E=69]="E";t[t.W7b=70]="F";t[t.p8b=71]="G";t[t.s8b=72]="H";t[t.yib=73]="I";t[t.L8b=74]="J";t[t.Tda=75]="K";t[t.Djb=76]="L";t[t.R8b=77]="M";t[t.okb=78]="N";t[t.R9b=79]="O";t[t.V9b=80]="P";t[t.Q=81]="Q";t[t.u$b=82]="R";t[t.emb=83]="S";t[t.Jmb=84]="T";t[t.nac=85]="U";t[t.rac=86]="V";t[t.tac=87]="W";t[t.hga=88]="X";t[t.xac=89]="Y";t[t.yac=90]="Z";t[t.O8b=91]="LeftWindowKey";t[t.y$b=92]="RightWindowKey";t[t.Z$b=93]="SelectKey";t[t.H9b=96]="Numpad0";t[t.I9b=97]="Numpad1";t[t.J9b=98]="Numpad2";t[t.K9b=99]="Numpad3";t[t.L9b=100]="Numpad4";t[t.M9b=101]="Numpad5";t[t.N9b=102]="Numpad6";t[t.O9b=103]="Numpad7";t[t.P9b=104]="Numpad8";t[t.Q9b=105]="Numpad9";t[t.d9b=106]="Multiply";t[t.j6b=107]="Add";t[t.eac=109]="Subtract";t[t.v7b=110]="DecimalPoint";t[t.y7b=111]="Divide";t[t.X7b=112]="F1";t[t.a8b=113]="F2";t[t.b8b=114]="F3";t[t.c8b=115]="F4";t[t.d8b=116]="F5";t[t.e8b=117]="F6";t[t.f8b=118]="F7";t[t.g8b=119]="F8";t[t.h8b=120]="F9";t[t.Y7b=121]="F10";t[t.Z7b=122]="F11";t[t.$7b=123]="F12";t[t.G9b=144]="NumLock";t[t.X$b=145]="ScrollLock";t[t.$$b=186]="SemiColon";t[t.U7b=187]="Equals";t[t.b7b=188]="Comma";t[t.u7b=189]="Dash";t[t.r$b=190]="Period";t[t.n8b=191]="ForwardSlash";t[t.lac=192]="Tilde";t[t.U9b=219]="OpenBracket";t[t.H6b=220]="BackSlash";t[t.a7b=221]="CloseBracket";t[t.t$b=222]="Quote";},function(t,b,a){var f;function c(h){return "function" === typeof h?h.name:"symbol" === typeof h?h.toString():h;}function g(h,k){return null === h.XA?!1:h.XA.Qg === k?!0:g(h.XA,k);}function l(h){function k(n,p){var q;void 0 === p && (p=[]);q=c(n.Qg);p.push(q);return null !== n.XA?k(n.XA,p):p;}return k(h).reverse().join(" --\x3e ");}function m(h){h.Mka.forEach(function(k){if(g(k,k.Qg))throw (k=l(k),Error(f.$fb + " " + k));m(k);});}function d(h){var k;if(h.name)return h.name;h=h.toString();k=h.match(/^function\s*([^\s(]+)/);return k?k[1]:"Anonymous function: " + h;}Object.defineProperty(b,"__esModule",{value:!0});f=a(58);b.NN=c;b.s3a=function(h,k,n){var p;p="";h=n(h,k);0 !== h.length && (p="\nRegistered bindings:",h.forEach(function(q){var u;u="Object";null !== q.Gm && (u=d(q.Gm));p=p + "\n " + u;q.XG.Y4a && (p=p + " - " + q.XG.Y4a);}));return p;};b.sxb=m;b.hPb=function(h,k){var n,p;if(k.ira() || k.Vqa()){n="";p=k.fJb();k=k.PHb();null !== p && (n+=p.toString() + "\n");null !== k && k.forEach(function(q){n+=q.toString() + "\n";});return " " + h + "\n " + h + " - " + n;}return " " + h;};b.getFunctionName=d;},function(t,b,a){var g,l,m,d;function c(f,h){var k,n,p,q,u,r;k=f.FA;n=f.HO;f=f.YO;p=h.FA;q=h.HO;h=h.YO;u=void 0 === k || void 0 === p;r=u || void 0 === n || void 0 === q;return u || k > p || k === p && (r || n > q) || k === p && n === q && (r || void 0 === f || void 0 === h || f >= h);}Object.defineProperty(b,"__esModule",{value:!0});b.BN=b.AN=b.CN=b.kOb=b.Y1a=b.YW=void 0;g=a(5);l=a(112);m=a(45);d=a(123);b.YW=function(f,h,k,n){return c({FA:f.wUb,HO:f.xUb,YO:f.yUb},{FA:h,HO:k,YO:n});};b.Y1a=function(f,h){return c({FA:f.jq},{FA:h});};b.kOb=c;b.CN=function(){return {version:"6.0034.571.911",L9:!0,xN:!0,nma:"browser",PVa:["en-US"],bsa:"",nV:"cadmium",Qdb:!0,Y3:!0,bZ:!1};};b.AN=function(){return {IG:(0,d.ho)([m.ze.lF,m.ze.mF]),dn:(0,d.ho)([m.O.wK,m.O.kF,m.O.vR,m.O.wR,m.O.JS,m.O.KS]),Im:l.Lb.DNa,HA:(0,g.Nc)(31E3)};};b.BN=function(f){return {U0:f.Yo};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cDa=b.uo=void 0;t=b.uo || (b.uo={});t[t.wE=0]="playready";t[t.$ba=1]="widevine";t[t.sH=2]="fairplay";t[t.zbc=3]="clearkey";b.cDa="DrmTypeSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dS="MediaKeysStorageFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.f2=b.Lp=void 0;b.Lp=function(){};b.f2="StringObjectReaderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uMa="SystemRandomSymbol";b.T1="RandomGeneratorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uS="PlayerErrorFactorySymbol";},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.en=void 0;c=a(2).__importDefault(a(6));g=a(100);t=(function(){function l(m){this.I=new c.default.Console("ASEJS","media|asejs","(" + m + ")");this.Gha=[];}l.prototype.Dq=function(m){this.Gha[m] || (this.Gha[m]=g.Oq(c.default,this.I,"[" + m + "]"));return this.Gha[m];};return l;})();b.en=new t(0);},function(t,b,a){function c(g,l){this.dM=g;this.hk=Math.floor((g + l - 1) / l);this.Jd=l;this.reset();}a(4);c.prototype.shift=function(){this.Rd.shift();this.pw.shift();};c.prototype.px=function(g){return this.nTa(this.Rd[g],g);};c.prototype.update=function(g,l){this.Rd[g]=(this.Rd[g] || 0) + l;};c.prototype.push=function(){this.Rd.push(0);this.pw.push(0);this.Cb+=this.Jd;};c.prototype.add=function(g,l,m){var d,f,h;if(null === this.Cb){d=Math.max(Math.floor((m - l + this.Jd - 1) / this.Jd),1);for(this.Cb=l;this.Rd.length < d;){this.push();}}for(;this.Cb <= m;){this.push();this.Rd.length > this.hk && this.shift();}if(null === this.Bo || l < this.Bo)this.Bo=l;if(l > this.Cb - this.Jd)this.update(this.Rd.length - 1,g);else if(l == m)(d=this.Rd.length - Math.max(Math.ceil((this.Cb - m) / this.Jd),1),0 <= d && this.update(d,g));else for(d=1;d <= this.Rd.length;++d){f=this.Cb - d * this.Jd;h=f + this.Jd;if(!(f > m)){if(h < l)break;this.update(this.Rd.length - d,Math.round(g * (Math.min(h,m) - Math.max(f,l)) / (m - l)));}}for(;this.Rd.length > this.hk;){this.shift();}};c.prototype.start=function(g){null === this.Bo && (this.Bo=g);null === this.Cb && (this.Cb=g);};c.prototype.stop=function(g){var l,m;if(null !== this.Cb)if(g - this.Cb > 10 * this.dM)this.reset();else {for(;this.Cb <= g;){this.push();this.Rd.length > this.hk && this.shift();}l=this.Rd.length - Math.ceil((this.Cb - this.Bo) / this.Jd);m=this.Rd.length - Math.ceil((this.Cb - g) / this.Jd);if(0 <= m)if((0 > l && (this.Bo=this.Cb - this.Jd * this.Rd.length,l=0),l === m))this.pw[l]+=g - this.Bo;else if(m > l)for((this.pw[l]+=(this.Cb - this.Bo) % this.Jd,this.pw[m]+=this.Jd - (this.Cb - g) % this.Jd,g=l + 1);g < m;++g){this.pw[g]=this.Jd;}this.Bo=null;}};c.prototype.nTa=function(g,l){l=this.Zna(l);return 0 === l?null:8 * g / l;};c.prototype.Zna=function(g){var l;l=this.pw[g];null !== this.Bo && (g=this.Cb - (this.Rd.length - g - 1) * this.Jd,g > this.Bo && (l=g - this.Bo <= this.Jd?l + (g - this.Bo):this.Jd));return l;};c.prototype.get=function(g,l){var m,d;m=this.Rd.map(this.nTa,this);if("last" === g)for(g=0;g < m.length;++g){null === m[g] && (m[g]=0 < g?m[g - 1]:0);}else if("average" === g){l=1 - Math.pow(.5,1 / ((l || 2E3) / this.Jd));for(g=0;g < m.length;++g){null === m[g]?m[g]=Math.floor(d || 0):d=void 0 !== d?l * m[g] + (1 - l) * d:m[g];}}return m;};c.prototype.reset=function(){this.mha || (this.Rd=[],this.pw=[],this.Bo=this.Cb=null);};c.prototype.setInterval=function(g){this.hk=Math.floor((g + this.Jd - 1) / this.Jd);};t.exports=c;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});c=a(2);g=c.__importStar(a(10));t=a(18);l=c.__importDefault(a(144));m=c.__importDefault(a(369));d=a(770);f=a(772);h=a(6).default;k=a(28).default;n=new h.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(q){function u(r,w,v){var x;x=q.call(this) || this;x.$p={};x.KT=0;x.AC=0;x.MS=[];x.Ay=0;x.TPa=!1;x.J=v;x.zOa=new m.default(v.M2);x.fT=new d.rda(!0);x.LS=new d.rda(!1);x.Rqb=v.t$;x.hpb=v.jMb;x.ipb=v.kMb;v.aXa && (x.RL=new f.HIa(x.J));x.reset();x.BPa=r;x.wn=w;x.cPa=h.op.name();x.wn.Oaa(x.cPa);h.events.on("networkchange",x.ITb.bind(x));return p=x;}c.__extends(u,q);u.instance=function(){return p;};u.reset=function(){p && p.reset();};u.prototype.ITb=function(r){this.cPa=r;this.wn.Oaa(r);};u.prototype.gdb=function(){var r;if(!this.Aia){r=this.c0a();this.wn.EG(r.default.Ba,this.Yj);r["initial-throughput-ewma"] && this.wn.BG(r["initial-throughput-ewma"].Ba);this.wn.ZJ(r.Bu?r.Bu.B$:void 0,r.Bu?r.Bu.FZb:void 0);g.Fb(this.Wc) || (this.Aia=!0);}};Object.defineProperties(u.prototype,{startTime:{get:function(){return this.Tf;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{confidence:{get:function(){return this.Yj;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{bq:{get:function(){return this.dL;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{WQa:{get:function(){return this.MS;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{OOb:{get:function(){return this.fPa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{location:{get:function(){return this.dG;},enumerable:!1,configurable:!0}});u.prototype.fob=function(){var r,w,v,x;r=this.J;w=r.vob.concat(r.Eob);v=r.Zga;x=this.zOa;return w.reduce(function(y,z){y[z]=x.create(z,v);return y;},{});};u.prototype.reset=function(){var r,w,v,x;r=this.J.Zga;w=this.zOa;v=this.J;this.dG=null;this.$p=this.fob();if(this.J.dXa){x=this.J.Ybb;this.$p.G2b=new l.default(x.numB * x.bSizeMs,x.bSizeMs);}this.fT.reset();this.LS.reset();this.Vy=w.create("respconn-ewma",r);this.Ky=w.create("respconn-ewma",r);this.RL && this.RL.reset();this.Yj=k.ig.HAVE_NOTHING;this.tsb=this.gdb.bind(this);this.O3=void 0;this.Ly=this.Wc=this.Tf=null;this.Ay=this.J3=this.Qc=0;this.TPa=!1;v.M9a && (this.AC=this.KT=this.dL=0,this.MS=[]);};u.prototype.QP=function(r){var w;w=this.$p;if(r !== this.dG){g.ka(this.O3) || (clearInterval(this.O3),this.O3=void 0);g.Fb(this.dG) && (this.J3=0,this.Tf=null);if(!g.Fb(r)){this.Yj=k.ig.HAVE_NOTHING;for(var v in w){w[v] && w[v].reset && w[v].reset();}this.Vy.reset();this.Ky.reset();}g.Fb(this.Tf) || (this.J3+=(g.Fb(this.Wc)?h.time.ga():this.Wc) - this.Tf);this.Wc=this.Tf=null;this.Qc=0;this.dG=r;this.wn.QP(r);}};u.prototype.Oaa=function(r){this.wn.Oaa(r);};u.prototype.atb=function(r){this.$p.QoEEvaluator?n.warn("monitor (QoEEvaluator) already existed."):this.$p.QoEEvaluator=r;};u.prototype.uYb=function(){delete this.$p.QoEEvaluator;};u.prototype.RC=function(r,w,v,x){var y,z;this.fPa=Math.max(this.fPa || 0,v);this.AC-=r;y=this.J;z=this.$p;if(!0 === x.JQ)(x=z["throughput-wssl"]) && x.add(r,w,v,!0);else if(g.ka(w))n.warn("addDataReceived called with undefined start time");else {this.RL && this.RL.RC(r,w,v,x);if(x.cJ)if(this.hpb){if(x.cJ.o4a(r,w,v,this.Rqb))return;}else if(this.ipb && x.cJ.r8())return;y.Dob && 10 > v - w?w=v - 10:0 === v - w && (w=v - 1);this.fT.RC(r,w,v,x);this.LS.RC(r,w,v,x);for(var A in z){z[A] && z[A].add && z[A].add(r,w,v,x);}this.Yj=Math.max(this.Yj,k.ig.YB);g.Fb(this.Tf) && (this.Tf=w,this.Wc=null,this.Aia=!1,this.Qc=0);g.Fb(this.Wc) || (w > this.Wc && (this.Tf+=w - this.Wc),this.Wc=null,this.Aia=!1);this.Qc+=r;this.Yj < k.ig.ey && (v - this.Tf > y.Rpb || this.Qc > y.Qpb) && (this.Yj=k.ig.ey);this.Yj < k.ig.yR && (v - this.Tf > y.hrb || this.Qc > y.grb) && (!this.TPa || this.Ay > y.Ppb) && (this.Yj=k.ig.yR,this.gdb(),this.O3=setInterval(this.tsb,y.Apb));g.Fb(this.Ly) || (w - this.Ly > y.CPa?this.BPa.Q1a(this.Ly,w):v - w > y.CPa && this.BPa.Q1a(w,v));this.Ly=this.Ly?Math.max(v,this.Ly):v;}};u.prototype.cz=function(r){this.Vy.add(r);this.wn.cz(r);};u.prototype.az=function(r){this.Ky.add(r);this.wn.az(r);};u.prototype.start=function(r){var w;g.Fb(this.Ly) && !g.Fb(this.Wc) && (this.Ly=r);w=this.$p;if(this.J.Sxa)for(var v in w){w[v] && w[v].start && w[v].start(r);}};u.prototype.stop=function(r){var w,v;w=this.$p;for(v in w){w[v] && w[v].stop && w[v].stop(r);}this.Wc=g.Fb(this.Wc)?r:Math.min(this.Wc,r);this.Ly=null;};u.prototype.flush=function(){var r,w;r=this.$p;for(w in r){r[w] && r[w].flush && r[w].flush();}};u.prototype.EZa=function(){var r,w;r=this.$p.ecc;if(r){w=r.awb();r.reset();}return w;};u.prototype.c0a=function(){var r,w,v,x,y,z,A;r=h.time.ga();w=this.$p;v=this.J;x=v.kob;y=v.Orb;z={};for(A in w){w[A] && w[A].get && (z[A]=w[A].get(r,this.AC),"iqr" === w[A].type && (z.Bu=z[A]),"tdigest" === w[A].type && (z.Nk=z[A]),"wssl" === w[A].type && (z.JQ=z[A]));}z.cdnavtp=this.fT.Fm();z.activecdnavtp=this.LS.Fm();z.default=x && z[x]?z[x]:z["throughput-ewma"];"none" !== v.Qwa && "none" !== y && (z.s$a=y && z[y]?z[y]:z["throughput-sw"]);return z;};u.prototype.f7=function(){return this.RL?this.RL.f7():void 0;};u.prototype.get=function(){var r,w,v,x,y,z;r=this.c0a();w=r.default;v=this.Vy.get();x=this.Ky.get();y=this.J;if(r.s$a){z=r.s$a;w=g.Fa(w.Ba) && g.Fa(z.Ba) && w.Ba > z.Ba && 0 < z.Ba?z:w;}r.confidence=this.Yj;r.Ua=w;r.D1a=r["initial-throughput-ewma"];!y.Lma || !w || g.Fb(w.Ba) || isNaN(w.Ba) || !r.JQ || g.Fb(r.JQ.Ba) || isNaN(r.JQ.Ba) || ("max" === y.teb?r.Ua.Ba=Math.max(r.JQ.Ba,w.Ba):"sum" === y.teb && (r.Ua.Ba+=r.JQ.Ba));r.Gk=v;r.Tw=x;this.J.dXa && (w=this.J.Ybb,r.Mfc=this.$p.G2b.get(w.fillS,w.fillHl));w=this.J3 + (g.Fb(this.Tf)?0:(g.Fb(this.Wc)?h.time.ga():this.Wc) - this.Tf);r.time=w;return r;};u.prototype.uKb=function(){var r,w,v;r={};w=this.get();if(w.confidence && w.Ua){r.aseavtp=Number(w.Ua.Ba).toFixed(2);r.asevartp=Number(w.Ua.ih).toFixed(2);if(w.Bu){v=w.Bu.B$;!v || void 0 === v.pl || void 0 === v.ol || void 0 === v.Bj || isNaN(v.pl || 0) || isNaN(v.ol) || isNaN(v.Bj) || (r.aseniqr=0 < v.Bj?Number((v.pl - v.ol) / v.Bj).toFixed(2):-1,r.aseiqr=Number(v.pl - v.ol).toFixed(2),r.asemedtp=Number(v.Bj).toFixed(2));r.iqrsamples=w.Bu.FZb;}w.Nk && w.Nk.bA && (r.tdigest=w.Nk.bA());}return r;};u.prototype.yP=function(r,w){var v;v=w.requestId;1 === ++this.dL && (this.emit("active",r),this.start(r));v && this.MS.push(v);this.AC+=w.fa || 0;this.fT.yP(r,w);this.LS.yP(r,w);};u.prototype.D9a=function(){++this.KT;};u.prototype.jZ=function(r,w,v){var x;x=v.requestId;w && --this.KT;--this.dL;this.AC=Math.max((this.AC || 0) - ((v.fa || 0) - (v.bytesReceived || 0)),0);this.J.M9a && (this.dL=Math.max(this.dL,0),this.KT=Math.max(this.KT,0));0 === this.dL && (this.stop(r),this.emit("inactive",r));x && (w=this.MS.indexOf(x),0 <= w && this.MS.splice(w,1));this.fT.jZ(r,v);this.LS.jZ(r,v);};return u;})(t.EventEmitter);b.default=a;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);return m;})(Error);b.assert=function(l,m){if(!l)throw new g(m || "Assertion failed");};},function(t){var c,g;function b(){var l,m;if(DataView.prototype && DataView.prototype.uu && !g){try{l=new ArrayBuffer(4);m=new DataView(l);m.Gq(0,4,1);}catch(d){return;}try{l=new ArrayBuffer(4);m=new DataView(l);m.Gq(1,2,2);}catch(d){DataView.prototype.Gq=a(DataView.prototype.Gq,DataView.prototype.getUint8,Uint8Array);DataView.prototype.eA=a(DataView.prototype.eA,DataView.prototype.getUint16,Uint16Array);DataView.prototype.uu=a(DataView.prototype.uu,DataView.prototype.getUint32,Uint32Array);DataView.prototype.CH=a(DataView.prototype.CH,DataView.prototype.getInt8,Int8Array);DataView.prototype.AH=a(DataView.prototype.AH,DataView.prototype.getInt16,Int16Array);DataView.prototype.BH=a(DataView.prototype.BH,DataView.prototype.getInt32,Int32Array);}c.Cpa=function(d,f,h,k,n){return h?d.Gq(f,h,k || 1,n):new Uint8Array(0);};c.Apa=function(d,f,h,k,n){return h?d.eA(f,h,k || 2,n):new Uint16Array(0);};c.Bpa=function(d,f,h,k,n){return h?d.uu(f,h,k || 4,n):new Uint32Array(0);};c.FIb=function(d,f,h,k,n){return h?d.CH(f,h,k || 1,n):new Int8Array(0);};c.DIb=function(d,f,h,k,n){return h?d.AH(f,h,k || 2,n):new Int16Array(0);};c.EIb=function(d,f,h,k,n){return h?d.BH(f,h,k || 4,n):new Int32Array(0);};g=!0;}}function a(l,m,d){return function(f,h,k,n){var p;k=k || d.BYTES_PER_ELEMENT;if(f + h * k > this.byteLength){p=new d(h);p.set(l.call(this,f,h - 1,k,n));p[h - 1]=m.call(this,f + (h - 1 * k),n);return p;}return l.call(this,f,h,k,n);};}c={Gq:function(l,m,d,f,h){var k;k=new Uint8Array(d);f=f || 1;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getUint8(m,h);}return k;},eA:function(l,m,d,f,h){var k;k=new Uint16Array(d);f=f || 2;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getUint16(m,h);}return k;},uu:function(l,m,d,f,h){var k;k=new Uint32Array(d);f=f || 4;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getUint32(m,h);}return k;},CH:function(l,m,d,f,h){var k;k=new Int8Array(d);f=f || 1;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getInt8(m,h);}return k;},AH:function(l,m,d,f,h){var k;k=new Int16Array(d);f=f || 2;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getInt16(m,h);}return k;},BH:function(l,m,d,f,h){var k;k=new Int32Array(d);f=f || 4;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getInt32(m,h);}return k;},fFb:b};g=!1;c.roa=function(){return g;};b();t.exports=c;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(231);t=(function(){function l(m,d,f){this.tag=m;this.view=d;this.u=f;this.startOffset=f.offset;}l.UY=function(m,d){var f,h;f=m.sb();h=m.Jva();m=new (g.qq[f] || l)(f,m.ooa(h),m);m.parse(d);return m;};Object.defineProperties(l.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});l.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.Wn=0;return !0;};l.prototype.OV=function(m){var d;d=[];this.tag === m && d.push(this);if(this.qq)for(var f=0;f < this.qq.length;f++){d=c.__spreadArrays(d,this.qq[f].OV(m));}return d;};l.prototype.Ol=function(m){for(m=this.OV(m);0 < m.length;){return m[0];}};l.prototype.IT=function(){for(this.qq=[];this.u.offset < this.startOffset + this.length;){this.qq.push(l.UY(this.u,this));}};return l;})();b.hF=t;t.prototype.skip=t.prototype.parse;},function(t,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Tk=b.Jfa=void 0;c=a(21);(function(d){d[d.absolute=0]="absolute";d[d.f9a=1]="relative";})(g=b.Jfa || (b.Jfa={}));m=(function(){function d(f,h){this.type=f;this.timestamp=h;}d.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + g[this.type];};Object.defineProperties(d,{eb:{get:function(){l || (l=new d(g.f9a,c.R.eb));return l;},enumerable:!1,configurable:!0}});return d;})();t=(function(){function d(){}d.FQ=function(f){return new m(g.absolute,f);};Object.defineProperties(d,{G5b:{get:function(){return m.eb;},enumerable:!1,configurable:!0}});d.aK=function(f){return new m(g.f9a,f);};d.Eza=new m(g.absolute,c.R.OD);return d;})();b.Tk=t;},function(t,b,a){var l,m,d,f,h,k,n;function c(p){return p && "function" === typeof p.Oh?!0:!1;}function g(p){return c(p) && (p=typeof p.uNb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.wgb=b.iFb=b.tNb=b.afb=b.AsyncIterator=void 0;l=a(2);m=a(20);f=(function(){function p(q){var u;u=this;this.epb=q;this.pT=!1;this.krb=function(r){return u.VWb(r);};this.VUa();}p.qOb=function(q,u){function r(){var w;w=q.next();w.then(function(v){g(q) && q.uNb || u(v);});w.then(function(v){return !v.done && r();});}r();};Object.defineProperties(p.prototype,{uA:{get:function(){return this.pT;},enumerable:!1,configurable:!0}});p.CZa=function(){return new h([]);};p.spa=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{eO:{get:function(){return this.gm || !1;},enumerable:!1,configurable:!0}});p.prototype.Oh=function(){this.cancel();};p.prototype.cancel=function(){this.PPa();this.gm=!0;return this.xga;};p.prototype.next=function(){return this.gm?this.xga:Promise.race([this.xga,this.epb()]).then(this.krb);};p.prototype.VWb=function(q){q.done && (this.pT=!0,this.Oh());this.eO || (this.PPa(),this.VUa());return q;};p.prototype.VUa=function(){var q;q=this;this.xga=new Promise(function(u){q.PPa=function(){u({done:!0});};});};return p;})();b.AsyncIterator=f;h=(function(p){function q(u){var r;r=p.call(this,function(){return r.hJb();}) || this;r.gz=u;r.index=0;return r;}l.__extends(q,p);q.prototype.Oh=function(){c(this.gz) && this.gz.Oh();p.prototype.Oh.call(this);};q.prototype.hJb=function(){return this.gz.length > this.index?Promise.resolve({value:this.gz[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(f);b.afb=h;b.tNb=c;b.iFb=g;k=(function(p){function q(u,r,w){var v;v=p.call(this,function(){return v.sta();}) || this;v.console=r;v.Fl=w;v.pva=!1;Array.isArray(u)?v.zT=new h(u):v.zT=u;return v;}l.__extends(q,p);q.prototype.XWb=function(u){var r;this.pva=!1;r=this.console;m.ia && r && r.trace("CompoundIterator: processNextOuterIterator");if(u.done)return u;u=u.value;if(this.GL)return (c(u) && u.Oh(),f.spa());Array.isArray(u)?this.Fl=new h(u):this.Fl=u;return this.sta();};q.prototype.WWb=function(u){var r;r=this.console;m.ia && r && r.trace("CompoundIterator: processNextInnerResult",this.GL,u.done);if(!u.done || this.GL)return u;this.Fl=void 0;return this.sta();};q.prototype.Oh=function(){var u;u=this.console;m.ia && u && u.trace("CompoundIterator: dispose");this.GL=!0;p.prototype.Oh.call(this);c(this.zT) && this.zT.Oh();c(this.Fl) && this.Fl.Oh();};q.prototype.toString=function(){return "CompoundIterator " + this.GL + " " + this.zT + " " + this.Fl;};q.prototype.sta=function(){var u,r;u=this;r=this.console;m.ia && r && r.trace("CompoundIterator: nextImpl");if(this.Fl)return (m.ia && r && r.trace("CompoundIterator: getNextInner"),this.Fl.next().then(function(w){return u.WWb(w);}));this.pva=!0;m.ia && r && r.trace("CompoundIterator: getNextOuter");return this.zT.next().then(function(w){return u.XWb(w);});};return q;})(f);b.wgb=k;b.map=function(p,q,u){return new n(p,q,u);};n=(function(p){function q(u,r,w){var v;v=p.call(this,function(){return v.Sob();}) || this;v.source=u;v.wsa=r;v.hyb=w;return v;}l.__extends(q,p);q.prototype.Oh=function(){c(this.source) && this.source.Oh();p.prototype.Oh.call(this);};q.prototype.Sob=function(){var u,r,w;u=this.hyb;r=this.wsa;w=this.source;m.ia && u && u.trace("MappedIterator: Requesting next");return w.next().then(function(v){return v.done?v:r(v.value);});};return q;})(f);b.flatten=function(p,q,u){return new k(p,q,u);};},function(t,b,a){var l,m,d,f,h,k,n,p;function c(q,u,r,w){var v;return u === h.Jv.tV?(u=m.R.eb,(null === w || void 0 === w?void 0:w.hfc) === p.end && (u=m.R.Oa(null !== (v=r.zQ.ma.V[q].Ca) && void 0 !== v?v:0),d.assert(0 < u.U,"EndTime must be non null")),r.ep.$M({offset:u,ha:q}).ha):r.ep.vQ({offset:m.R.eb,ha:q}).ha;}function g(q,u,r){return u === h.Jv.Yya?r.ep.vQ(q):r.ep.$M(q);}Object.defineProperties(b,{__esModule:{value:!0}});b.sE=void 0;l=a(2);m=a(21);d=a(4);t=a(899);f=a(256);h=a(181);k=a(40);n=a(903);a=f.g$a();a=t.gTa()({k4a:"combinedPlaygraph",rZ:{hA:a()({map:g,bD:n.r2a}),Yf:a()({map:function(q,u,r,w){var v;v=(null === w || void 0 === w?0:w.fr)?n.W6(q,w.fr):q.position;u=g(v,u,r);q=n.Yka(q,null === w || void 0 === w?void 0:w.fr);(null === w || void 0 === w?0:w.fr)?n.U$a(q,w.fr,u):q.position=u;return q;},bD:function(q,u,r){return (null === r || void 0 === r?0:r.fr)?n.W6(q,r.fr):n.Yf(q);}}),Kza:a()({map:function(q,u,r,w){if(u === h.Jv.tV)return q.inner;u=n.Yka(q,null === w || void 0 === w?void 0:w.fr);u.inner || (u.inner=q);return u;},bD:function(q,u,r){return (null === r || void 0 === r?0:r.fr)?"object" === typeof n.W6(q,r.fr):"object" === typeof q;}}),ha:a()({map:c,bD:n.w2a}),Baa:a()({map:function(q,u,r,w){u=c(q.ha,u,r,w);return l.__assign(l.__assign({},q),{ha:u});},bD:n.A0a}),IUa:a()({map:function(q,u,r){u === h.Jv.tV?(q=k.IM(r.zQ.ma,q.S,q.In,{q$a:!0}),d.assert(void 0 !== q,"Graph position must exist in ux playgraph"),q=r.ep.$M(q),u=q.ha,q=q.offset,u=r.qg.ma.V[u],r=u.S,u=u.Aa,q=m.R.Oa(u).add(q)):(q=k.IM(r.qg.ma,q.S,q.In,{q$a:!0}),d.assert(void 0 !== q,"Graph position must exist in combined playgraph"),q=r.ep.vQ(q),u=q.ha,q=q.offset,u=r.zQ.ma.V[u],r=u.S,u=u.Aa,q=m.R.Oa(u).add(q));return {In:q,S:r};},bD:n.a2a}),Evb:a()({bD:n.X1a,map:function(q,u,r){var w,v,x,y,z;if(u === h.Jv.tV){u={ha:q.H.id,offset:m.R.eb};x=r.ep.$M(u);u=r.qg.ma.V[x.ha];r=r.zQ.ma.V[q.H.id];y=u.Ca;z=u.Aa;y=null !== (w=y && y - z) && void 0 !== w?w:0;r=q.Ge.add(m.R.Oa(u.Aa - r.Aa));return {Ge:r,rE:q.Is.add(m.R.Oa(y)),Is:q.Is,H:{id:x.ha,Mf:m.R.Oa(u.Aa),$i:m.R.Oa(null !== (v=u.Ca) && void 0 !== v?v:0)}};}u={ha:q.H.id,offset:m.R.eb};v=r.ep.vQ(u);z=r.U5a.Y9;u=z.V[q.H.id];x=r.zQ.ma.V[v.ha];w=m.R.Oa(null !== (y=x.Ca && x.Ca - x.Aa) && void 0 !== y?y:0);x.Ca && Infinity !== x.Ca || (y=r.ep.PIb(v),z=z.V[y],z.Ca && (w=r.ep.vQ({ha:y,offset:m.R.Oa(z.Ca - z.Aa)}).offset));y=q.Is.Ka(v.offset);z=y.add(w);r=q.Ge.add(m.R.Oa(x.Aa - u.Aa));q=m.R.Oa(x.Aa);u=w.add(q);return {Ge:r,rE:z,Is:y,H:{id:v.ha,Mf:q,$i:u}};}})}});(function(q){q[q.fbc=0]="beginning";q[q.end=1]="end";})(p || (p={}));b.sE=a;},function(t,b,a){var c,g,l;c=a(131);g=a(53);l=a(184);t.exports=function(m){return function n(f,h,k){switch(arguments.length){case 0:return n;case 1:return l(f)?n:g(function(p,q){return m(f,p,q);});case 2:return l(f) && l(h)?n:l(f)?g(function(p,q){return m(p,h,q);}):l(h)?g(function(p,q){return m(f,p,q);}):c(function(p){return m(f,h,p);});default:return l(f) && l(h) && l(k)?n:l(f) && l(h)?g(function(p,q){return m(p,q,k);}):l(f) && l(k)?g(function(p,q){return m(p,h,q);}):l(h) && l(k)?g(function(p,q){return m(f,p,q);}):l(f)?c(function(p){return m(p,h,k);}):l(h)?c(function(p){return m(f,p,k);}):l(k)?c(function(p){return m(f,h,p);}):m(f,h,k);}};};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);g=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);return m;})(Error);b.assert=function(l,m){if(!l)throw new g(m || "Assertion failed");};},function(t){var c,g;function b(){var l,m;if(DataView.prototype && DataView.prototype.uu && !g){try{l=new ArrayBuffer(4);m=new DataView(l);m.Gq(0,4,1);}catch(d){return;}try{l=new ArrayBuffer(4);m=new DataView(l);m.Gq(1,2,2);}catch(d){DataView.prototype.Gq=a(DataView.prototype.Gq,DataView.prototype.getUint8,Uint8Array);DataView.prototype.eA=a(DataView.prototype.eA,DataView.prototype.getUint16,Uint16Array);DataView.prototype.uu=a(DataView.prototype.uu,DataView.prototype.getUint32,Uint32Array);DataView.prototype.CH=a(DataView.prototype.CH,DataView.prototype.getInt8,Int8Array);DataView.prototype.AH=a(DataView.prototype.AH,DataView.prototype.getInt16,Int16Array);DataView.prototype.BH=a(DataView.prototype.BH,DataView.prototype.getInt32,Int32Array);}c.Cpa=function(d,f,h,k,n){return h?d.Gq(f,h,k || 1,n):new Uint8Array(0);};c.Apa=function(d,f,h,k,n){return h?d.eA(f,h,k || 2,n):new Uint16Array(0);};c.Bpa=function(d,f,h,k,n){return h?d.uu(f,h,k || 4,n):new Uint32Array(0);};c.FIb=function(d,f,h,k,n){return h?d.CH(f,h,k || 1,n):new Int8Array(0);};c.DIb=function(d,f,h,k,n){return h?d.AH(f,h,k || 2,n):new Int16Array(0);};c.EIb=function(d,f,h,k,n){return h?d.BH(f,h,k || 4,n):new Int32Array(0);};g=!0;}}function a(l,m,d){return function(f,h,k,n){var p;k=k || d.BYTES_PER_ELEMENT;if(f + h * k > this.byteLength){p=new d(h);p.set(l.call(this,f,h - 1,k,n));p[h - 1]=m.call(this,f + (h - 1 * k),n);return p;}return l.call(this,f,h,k,n);};}c={Gq:function(l,m,d,f,h){var k;k=new Uint8Array(d);f=f || 1;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getUint8(m,h);}return k;},eA:function(l,m,d,f,h){var k;k=new Uint16Array(d);f=f || 2;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getUint16(m,h);}return k;},uu:function(l,m,d,f,h){var k;k=new Uint32Array(d);f=f || 4;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getUint32(m,h);}return k;},CH:function(l,m,d,f,h){var k;k=new Int8Array(d);f=f || 1;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getInt8(m,h);}return k;},AH:function(l,m,d,f,h){var k;k=new Int16Array(d);f=f || 2;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getInt16(m,h);}return k;},BH:function(l,m,d,f,h){var k;k=new Int32Array(d);f=f || 4;for(var n=0;n < d;(++n,m+=f)){k[n]=l.getInt32(m,h);}return k;},fFb:b};g=!1;c.roa=function(){return g;};b();t.exports=c;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);g=a(270);t=(function(){function l(m,d,f){this.tag=m;this.view=d;this.u=f;this.startOffset=f.offset;}l.UY=function(m,d){var f,h;f=m.sb();h=m.Jva();m=new (g.qq[f] || l)(f,m.ooa(h),m);m.parse(d);return m;};Object.defineProperties(l.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});l.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.Wn=0;return !0;};l.prototype.OV=function(m){var d;d=[];this.tag === m && d.push(this);if(this.qq)for(var f=0;f < this.qq.length;f++){d=c.__spreadArrays(d,this.qq[f].OV(m));}return d;};l.prototype.Ol=function(m){for(m=this.OV(m);0 < m.length;){return m[0];}};l.prototype.IT=function(){for(this.qq=[];this.u.offset < this.startOffset + this.length;){this.qq.push(l.UY(this.u,this));}};return l;})();b.hF=t;t.prototype.skip=t.prototype.parse;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vJa="PboPlaydataServicesSymbol";b.rS="PboPlaydataServicesProviderSymbol";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.oK=b.xhb=void 0;c=a(26);b.xhb=function(){this.IG=[];this.dn=[];this.xRa=[];this.Cja=c.zv.Cv;this.Rba=c.nj.Cv;};b.oK="DeviceCapabilitiesConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.CS="SourceBufferTypeProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hS="MslProviderSymbol";},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.lQb=b.j7a=b.OUb=b.oZa=b.WUb=b.$E=b.bca=b.ot=b.LQ=b.KQ=b.Pk=void 0;c=a(24);g=a(22);b.Pk="$attributes";b.KQ="$children";b.LQ="$name";b.ot="$text";b.bca="$parent";b.$E="$sibling";b.WUb=/^\s*<\?xml.*\?>/i;b.oZa=function(l,m,d){for(var f=2;f < arguments.length;++f){;}for(f=1;(m=arguments[f++]) && (l=l[m]);){;}return l;};b.OUb=function(l,m){var d;l?d=(0,c.Je)(l[b.ot]):void 0 !== m && (d=m);(0,g.fV)(d);return d;};b.j7a=function(l,m){var d;l?d=l[b.ot]:void 0 !== m && (d=m);(0,g.CVa)(d);return d;};b.lQb=function(l,m){var d;d={};d[b.Pk]=l;d[b.ot]=m;return d;};},function(t){function b(m,d){return m.some(function(f){return f.id === d;});}function a(m,d){return m.filter(c.bind(null,d)).map(g).reduce(l,0);}function c(m,d){return m.id === d.id && m.displayTime + m.duration === d.displayTime;}function g(m){return m.duration;}function l(m,d){return m + d;}t.exports={Xxb:function(m,d,f){for(var h=0;h < m.length;h++){if(m[h] !== d[h])return (f.error("indexId mismatch in sidx",{sIndexId:m,mIndexId:d}),!1);}return !0;},Fla:function(m,d,f){var h;h={};h.displayTime=m.displayTime;h.duration=m.duration;h.originX=m.oUb;h.originY=m.pUb;h.sizeX=m.S0b;h.sizeY=m.T0b;h.imageData=d;h.id=m.QH;h.rootContainerExtentX=f.tZb;h.rootContainerExtentY=f.uZb;return h;},toa:function(m,d){return "o_" + m + "s_" + d;},g5b:function(m,d){d("P" === String.fromCharCode(m[1]));d("N" === String.fromCharCode(m[2]));d("G" === String.fromCharCode(m[3]));},$c:function(m){return "undefined" !== typeof m;},ffc:b,Zbc:a,kW:function(m,d){var f,h;f=Object.create({});for(h in m){f[h]=m[h];}m instanceof Error && (f.message=m.message,f.stack=m.stack);f.errorString=d;return f;},assert:function(m,d){if(!m)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},e1a:function(m){return m && 0 < m.entries.length && 0 === m.images.length;},S1b:function(m,d){for(var f=d.entries.length,h,k=0;k < f;k++){if((h=d.entries[k],h.displayTime <= m && h.displayTime + h.duration >= m))return !0;}return !1;},T1b:function(m,d,f){for(var h=f.entries.length,k,n,p=0;p < h;p++){k=f.entries[p];n=k.displayTime;k=n + k.duration;if(d < n)break;if(n <= m && k >= m || n > m && n <= d)return !0;}return !1;},AUa:function(m){return m.map(function(d,f){d.duration+=a(m.slice(f + 1),d);return d;}).reduce(function(d,f){b(d,f.id) || d.push(f);return d;},[]);},kpa:function(m){return m.reduce(function(d,f){return d + f.entries.reduce(function(h,k){return k.kqa + h;},0);},0);},kDb:function(m,d){return m && m.xx <= d && m.Xq >= d;},nIb:function(m){if(m)return m.endTime;},OIb:function(m){try{return String.fromCharCode.apply(String,m);}catch(d){}return "";}};},function(t,b,a){var g,l;function c(m){switch(m){case g.M.PR:return "http";case g.M.RR:return "connectiontimeout";case g.M.nF:return "readtimeout";case g.M.EEa:return "corruptcontent";case g.M.ZB:return "abort";case g.M.SR:case g.M.Gda:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.dpa=b.Toa=b.Poa=void 0;g=a(3);l=a(11);b.Poa=c;b.Toa=function(m,d){m={errorcode:m + (d.errorCode || g.N.em)};d.sa && (m.errorsubcode=d.sa);d.wf && (m.errorextcode=d.wf);d.Tma && (m.erroredgecode=d.Tma);d.yb && (m.errordetails=d.yb);d.tk && (m.httperr=d.tk);d.O9 && (m.aseneterr=d.O9);d.qH && (m.errordata=d.qH);d.EX && (m.mediaerrormessage=d.EX);(d=c(Number(d.sa))) && (m.nwerr=d);return m;};b.dpa=function(){return {screensize:l.Mv.width + "x" + l.Mv.height,screenavailsize:l.Mv.availWidth + "x" + l.Mv.availHeight,clientsize:nb.innerWidth + "x" + nb.innerHeight,devicePixelRatio:l.UHa};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.MF="PlaygraphConfigSymbol";},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Pt=b.cfb=void 0;b.cfb=a;b.Pt=new a();},function(t,b,a){var g,l,m;function c(d,f,h,k){f=m.Ki.call(this,d,f,k) || this;f.context=d;f.ana=h;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.xr=void 0;t=a(1);g=a(0);l=a(68);m=a(75);a(191);na(c,m.Ki);c.prototype.tg=function(d,f){var h,k;h=this;k=this.B4(f);!1;!1;return this.send(d,{url:f.href,name:l.Bg.events,vp:l.Bg.events + "/" + this.ana},k).then(function(){return f;}).catch(function(n){throw h.Qn(n);});};c.prototype.zq=function(d,f,h){var k,n,p;k=this;n=this.B4(h);!1;!1;p={url:f.nW("events").href,name:l.Bg.events,vp:l.Bg.events + "/" + this.ana};return this.send(d,p,n).then(function(q){f.gRa(q.result.links);return h;}).catch(function(q){throw k.Qn(q);});};c.prototype.B4=function(d){return {event:this.ana,xid:d.ca,position:d.position || 0,clientTime:d.NU,sessionStartTime:d.CZ,videoTrackId:d.DQ,audioTrackId:d.Dn,timedTextTrackId:d.oQ,mediaId:d.BO,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.Rvb(d.wY),sessionParams:d.Vm,mdxControllerEsn:d.Ksa};};c.prototype.jka=function(d){return {downloadableId:d.Dc,duration:d.duration};};c.prototype.Rvb=function(d){var f;f={total:d.total,audio:d.audio.map(this.jka),video:d.video.map(this.jka),text:d.text.map(this.jka)};d.total !== d.OJ && (f.totalContentTime=d.OJ);return f;};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.$m)()),t.__param(1,(0,g.$m)()),t.__param(2,(0,g.$m)()),t.__param(3,(0,g.$m)())],a);b.xr=a;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z;function c(A){var B,E;B=this;this.H$=new z.kfa();this.createPlaygraphPlayer=function(D,F,G){var C;D=w.rKa.encode(D);C=d.pa.get(v.IK);G=G?C.create(G):void 0;C=d.pa.get(q.nfa).create(D);return C.dBb(D.Pd,B.H$.usa(B.vSa(F,C.P6())),G);};this.closeAllPlayers=function(D){D=void 0 === D?function(){}:D;(0,m.ffa)(D);};this.init=function(D){B.SC.tO(function(F){F.aa?(l.config.Haa?B.k_b().then(function(){(0,g.KJa)();}).catch(function(G){d.log.error("Unable to initialize the playdata services",G);}):Promise.resolve()).then(function(){Object.assign(B,c.kU);D(Object.assign({success:!0},c.kU));}):D({success:!1,error:(0,d.hKa)(F.errorCode || h.N.Lda,F)});});};this.applyConfig=function(D){B.hdb(D);(0,l.jla)(D);};this.prepare=function(D,F){var G;D=B.b8a.DCb(D) || [];G=new Set();D=D.filter(function(C){var H;H=G.has(C.K);G.add(C.K);return !H;});if(l.config.sx && B.Gd)try{B.Gd.OI(D,F);}catch(C){d.log.warn("Prepare call failed",C);}};this.ppmUpdate=function(D){nb._cad_global.playerPredictionModel?(D=B.b8a.FCb(D)) && nb._cad_global.playerPredictionModel.update(D):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(D){(0,d.EN)().a_().then(function(F){return D(F.result);}).catch(function(){return D(!1);});};this.supportsUltraHd=function(D){(0,d.EN)().b_().then(D).catch(function(){return D(!1);});};this.supportsDolbyAtmos=function(D){(0,d.EN)().ZZ().then(D).catch(function(){return D(!1);});};this.supportsDolbyVision=function(D){(0,d.EN)().hba().then(function(F){return D(F.result);}).catch(function(){return D(!1);});};this.close=function(){};this.deviceThroughput=function(){var D;D=d.pa.get(n.C1).zla();return D?Promise.resolve(D.Fm()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var D;D=d.pa.get(n.C1).zla();return D?Promise.resolve(D.lJb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return l.config.wEb;};this.hdb(A);d.pa.get(y.cAa);this.b8a=d.pa.get(f.MJa);this.SC=d.pa.get(r.mh);E=d.pa.get(x.HJa).apply();(0,l.xUa)([A],E);this.Gd=d.pa.get(u.VF);(0,d.EN)().b_();}Object.defineProperty(b,"__esModule",{value:!0});b.$K=void 0;g=a(303);l=a(14);m=a(61);d=a(8);f=a(516);h=a(3);k=a(37);n=a(289);p=a(156);q=a(308);u=a(121);r=a(31);w=a(57);v=a(133);x=a(320);y=a(494);z=a(560);c.prototype.vSa=function(A,B){var E,D,F,G;A=void 0 === A?{}:A;G=null !== (D=null === (E=A.playbackState) || void 0 === E?void 0:E.currentTime) && void 0 !== D?D:B.Aa;return Object.assign(Object.assign({startPts:G,uiPlayStartTime:Date.now()},A),{endPts:null !== (F=B.Ca) && void 0 !== F?F:void 0,isPlaygraph:!0});};c.prototype.hdb=function(A){d.pa.get(k.UR).tRb(A);};c.prototype.k_b=function(){return d.pa.get(p.rS)().catch(function(A){d.log.error("Unable to initialize the playdata services",A);throw A;}).then(function(A){return A.send(Infinity);}).catch(function(A){d.log.error("Unable to send deferred playdata",A);});};b.$K=c;c.kU={};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VB="BrowserInfoSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.apa=function(){return this.buffer.length - this.position;};a.prototype.hB=function(){return this.buffer[this.position++];};a.prototype.Zh=function(c){var g;g=this.position;this.position+=c;return this.gOb(this.buffer)?this.buffer.subarray(g,this.position):this.buffer.slice(g,this.position);};a.prototype.gOb=function(c){return void 0 !== c.subarray;};a.prototype.Yq=function(c){for(var g=0;c--;){g=256 * g + this.buffer[this.position++];}return g;};a.prototype.Hva=function(c){for(var g="";c--;){g+=String.fromCharCode(this.buffer[this.position++]);}return g;};a.prototype.Bh=function(){return this.Yq(2);};a.prototype.Zq=function(){return this.Yq(4);};a.prototype.oP=function(){return this.Yq(8);};a.prototype.yx=function(c){for(var g,l="";c--;){g=this.hB();l+=("0123456789ABCDEF")[g >>> 4] + ("0123456789ABCDEF")[g & 15];}return l;};a.prototype.Kva=function(c){for(var g=0,l=0;l < c;l++){g+=this.hB() << (l << 3);}return g;};a.prototype.nP=function(){return this.Kva(4);};a.prototype.Y_=function(c){this.IQ(c,2);};a.prototype.OB=function(c){this.IQ(c,4);};a.prototype.aca=function(c){this.buffer[this.position++]=c;};a.prototype.IQ=function(c,g){this.position+=g;for(var l=1;l <= g;l++){this.buffer[this.position - l]=c & 255;c=Math.floor(c / 256);}};a.prototype.NB=function(c){for(var g=0;g < c.length;g++){this.buffer[this.position++]=c.charCodeAt(g);}};a.prototype.X_=function(c){for(var g=c.length,l=0;l < g;l++){this.buffer[this.position++]=c[l];}};a.prototype.HQ=function(c,g){this.X_(c.Zh(g));};a.prototype.seb=function(c){c=new a(c);for(var g,l;;){if((g=c.apa(),l=g >>> 14))(l=Math.min(4,l),this.aca(192 | l),this.HQ(c,16384 * l));else {128 > g?this.aca(g):this.IQ(g | 32768,2);this.HQ(c,g);break;}}};a.prototype.I8a=function(){var l;for(var c=[],g=new a(c);;){l=this.hB();if(l & 128){if(128 == (l & 192))(l&=63,l=(l << 8) + this.hB(),g.HQ(this,l));else if((l&=63,0 < l && 4 >= l)){g.HQ(this,16384 * l);continue;}else throw Error("bad asn1");}else g.HQ(this,l);break;}return new Uint8Array(c);};return a;})();b.lR=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.u0="CannedChallengeProvider";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jLa="ReportSyncSymbol";b.hLa="ReportApiErrorSyncSymbol";b.eEa="FtlProbeConfigSymbol";b.gEa="FtlProbeSymbol";},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.aLa=b.W1=b.U6=void 0;c=a(40);g=a(3);b.U6=function(l){return l === c.Ub.Al.Yb?g.M.mea:g.M.nea;};b.W1=50;b.aLa=1E3;},function(t,b){function a(c){var g;g={profile:c.spoofedProfile || c.profile,Sna:c.max_framerate_value,Rna:c.max_framerate_scale,maxWidth:c.maxWidth,maxHeight:c.maxHeight,qVb:c.pixelAspectX,rVb:c.pixelAspectY,channels:c.channels,sampleRate:c.channels?48E3:void 0};c.spoofedProfile && (g.yec=c.profile);return g;}Object.defineProperties(b,{__esModule:{value:!0}});b.i_a=b.h_a=void 0;b.h_a=function(c,g,l){var m;m=[{},{}];(0 === l?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,f){c[d].some(function(h,k){return k === g[f]?(m[f]=a(h),!0):!1;});});return m;};b.i_a=a;},function(t,b){function a(c){return c && "object" === typeof c?Array.isArray(c)?c.map(a):Object.keys(c).reduce(function(g,l){g[l]=a(c[l]);return g;},{}):c;}Object.defineProperty(b,"__esModule",{value:!0});b.sy=void 0;t=(function(){function c(g){g && (this.rJ(g.Pd),this.yxa(g.ae),this.sxa(g.V));}c.prototype.rJ=function(g){this.Pd=g;return this;};c.prototype.yxa=function(g){this.ae=g;return this;};c.prototype.aab=function(g){this.Cd=g;return this;};c.prototype.Yk=function(g,l){this.V || (this.V={});this.V[g]=a(l);return this;};c.prototype.sxa=function(g,l){void 0 === l && (l=function(){return !0;});this.V={};this.qRa(g,l);};c.prototype.qRa=function(g,l){var m;m=this;void 0 === l && (l=function(){return !0;});Object.keys(g).filter(function(d){return l(g[d]);}).forEach(function(d){return m.Yk(d,g[d]);});};c.prototype.uLb=function(g){var l;return !(null === (l=this.V) || void 0 === l || !l[g]);};c.prototype.ti=function(){var g;if(!this.V)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Pd)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.V[this.Pd])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");g={Pd:this.Pd,V:this.V};this.ae && (g.ae=this.ae);this.Cd && (g.Cd=this.Cd);return g;};return c;})();b.sy=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Wx=void 0;c=a(223);g=a(4);t=(function(){function l(m){this.config=m;this.reset();}l.instance=function(){g.assert(void 0 !== l.EL);return l.EL;};l.myb=function(m){l.EL=new l(m);};l.prototype.push=function(m){this.Nk && this.Nk.push(m);};l.prototype.Hb=function(){if(this.Nk)return (this.Nk.zz(),this.Nk.Ej([.25,.5,.75,.9,.95,.99]).map(function(m){return m?parseFloat(m.toFixed(1)):0;}));};l.prototype.reset=function(){this.config.cXa && this.config.Sda && (this.Nk=new c.fac(this.config.Sda.c,this.config.Sda.maxc));};return l;})();b.Wx=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(32);t=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(d){d=l.prototype.parse.call(this,d);this.u.offset+=8;this.Dka=this.u.ad();this.Iwa=this.u.ad();this.u.offset+=4;this.samplerate=this.u.ad();this.u.offset+=2;g.ia && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.Dka + ", samplesize: " + this.Iwa + ", samplerate: " + this.samplerate);return d;};m.Ra=!1;return m;})(a(230).default);b.default=t;},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.yv=void 0;a(4);t=(function(){function c(g,l){c.Eb(this,g,l);}c.Eb=function(g,l,m){g.pd=l;g.Qc=m.fa;g.Se=m.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.pd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{fa:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Se;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{P:{get:function(){return this.pd.P;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{K:{get:function(){return this.pd.K;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.pd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Sa:{get:function(){return this.pd.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.pd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.pd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.pd.W;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{JO:{get:function(){return this.pd.JO;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{va:{get:function(){return this.pd.va;},enumerable:!1,configurable:!0}});c.prototype.toJSON=function(){return {movieId:this.K,streamId:this.Sa,offset:this.offset,bytes:this.fa};};return c;})();b.yv=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Vfa=b.qn=void 0;c=a(149);(function(l){l[l.pending=0]="pending";l[l.vaa=1]="running";l[l.complete=2]="complete";l[l.XM=3]="destroyed";})(g=b.qn || (b.qn={}));t=(function(){function l(m,d){void 0 === d && (d=0);this.name=m;this.priority=d;this.Sc=g.pending;}Object.defineProperties(l.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{iNb:{get:function(){return this.Sc === g.pending || this.Sc === g.vaa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Oe:{get:function(){return this.ow;},enumerable:!1,configurable:!0}});l.prototype.zub=function(m){var d;null === (d=this.ow) || void 0 === d?void 0:d.ewa(this);this.ow=m;};l.prototype.Bx=function(){this.Sc=g.vaa;this.tg();this.V9() === c.Tk.Eza && (this.Sc=g.complete);};l.prototype.Jb=function(){var m;this.Sc=g.XM;null === (m=this.ow) || void 0 === m?void 0:m.ewa(this);};return l;})();b.Vfa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.e2=void 0;t=(function(){function a(c){this.parent=c;}Object.defineProperties(a.prototype,{$2a:{get:function(){var c,g;return null !== (c=this.DLb) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.$2a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gX:{get:function(){var c,g;return null !== (c=this.FSb) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.gX;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Gu:{get:function(){var c,g;return null !== (c=this.Dh) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.Gu;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{e3a:{get:function(){var c,g,l,m;return null !== (c=this.Le) && void 0 !== c?c:(null === (g=this.track) || void 0 === g?0:g.equals(null === (l=this.parent) || void 0 === l?void 0:l.track))?null === (m=this.parent) || void 0 === m?void 0:m.Le:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{h3a:{get:function(){var c,g;return null !== (c=this.v1b) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.h3a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Era:{get:function(){var c,g;return null !== (c=this.w1b) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.Era;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.f_b;},enumerable:!1,configurable:!0}});a.prototype.Jb=function(){this.parent=void 0;};a.prototype.V$a=function(c){this.DLb=c;};a.prototype.R_b=function(c){this.FSb=c;};a.prototype.iab=function(c){this.Dh=c;};a.prototype.IZ=function(c){this.Le=c;};a.prototype.b0b=function(c){this.v1b=c;};a.prototype.kab=function(c){this.w1b=c;};a.prototype.KZ=function(c){this.f_b=c;};return a;})();b.e2=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});t=a(848);c=a(395);a=a(850);b.default={STARTING:a.v$a,BUFFERING:t.Eaa,REBUFFERING:t.Eaa,PLAYING:c.Cx,PAUSED:c.Cx};},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.LN=b.iK=void 0;c=a(860);g=a(861);l=a(250);Object.defineProperties(b,{iK:{enumerable:!0,get:function(){return l.iK;}}});b.LN=function(m,d){switch(m.xsa){case "manifold":return new c.fHa(m,d);default:return new g.XLa(m,d);}};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Jv=void 0;t=b.Jv || (b.Jv={});t[t.Yya=0]="up";t[t.tV=1]="down";},function(t,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Rv=void 0;c=a(2);g=a(20);l=a(9);m=a(56);t=(function(){function d(f,h){this.Gh=f;this.options=c.__assign({Fxb:!0},h);}Object.defineProperties(d.prototype,{jx:{get:function(){return "trace-" + this.Gh.source;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{th:{get:function(){return this.jx;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return g.ia;},enumerable:!1,configurable:!0}});d.prototype.Rn=function(f){var h,k;if(f.bj === m.de.uq || f.bj === m.de.po){h=l.LVa(this.Gh.tOb);k=this.Gh.KLb;f.bj === m.de.uq && this.options.Fxb && this.Gh.clear();f=h;Object.keys(k).length && (f=c.__spread(h,[k]));return f;}};d.prototype.Jb=function(){this.Gh.Jb();};return d;})();b.Rv=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t.exports=function(a){return {minInitVideoBitrate:a.ix,minHCInitVideoBitrate:a.bta,maxInitVideoBitrate:a.JA,minInitAudioBitrate:a.MX,maxInitAudioBitrate:a.xX,minHCInitAudioBitrate:a.LX,minAcceptableVideoBitrate:a.v9,minRequiredBuffer:a.qI,minPrebufSize:a.zj,minCheckBufferingCompleteInterval:a.z9,rebufferingFactor:a.Pva,useMaxPrebufSize:a.pza,maxPrebufSize:a.dE,maxRebufSize:a.Hsa,maxBufferingTime:a.Es,minAudioMediaRequestSizeBytes:a.w9,minVideoMediaRequestSizeBytes:a.F9,initialBitrateSelectionCurve:a.V7,initSelectionLowerBound:a.z1a,initSelectionUpperBound:a.A1a,throughputPercentForAudio:a.l_,bandwidthMargin:a.Pja,bandwidthMarginContinuous:a.Qja,bandwidthMarginCurve:a.Rja,conservBandwidthMargin:a.mla,switchConfigBasedOnInSessionTput:a.pya,conservBandwidthMarginTputThreshold:a.UU,conservBandwidthMarginCurve:a.nla,switchAlgoBasedOnHistIQR:a.Jbb,switchConfigBasedOnThroughputHistory:a.QE,maxPlayerStateToSwitchConfig:a.Gsa,lowEndMarkingCriteria:a.hsa,IQRThreshold:a.Nda,histIQRCalcToUse:a.cqa,maxTotalBufferLevelPerSession:a.Ju,highWatermarkLevel:a.P0a,toStableThreshold:a.qcb,toUnstableThreshold:a.rba,skipBitrateInUpswitch:a.Jxa,watermarkLevelForSkipStart:a.Hza,highStreamRetentionWindow:a.Xpa,lowStreamTransitionWindow:a.isa,highStreamRetentionWindowUp:a.Zpa,lowStreamTransitionWindowUp:a.ksa,highStreamRetentionWindowDown:a.Ypa,lowStreamTransitionWindowDown:a.jsa,highStreamInfeasibleBitrateFactor:a.Wpa,lowestBufForUpswitch:a.CA,lockPeriodAfterDownswitch:a.Q8,lowWatermarkLevel:a.msa,lowestWaterMarkLevel:a.DA,lowestWaterMarkLevelBufferRelaxed:a.nsa,mediaRate:a.Psa,maxTrailingBufferLen:a.g9,audioBufferTargetAvailableSize:a.nU,videoBufferTargetAvailableSize:a.L_,maxVideoTrailingBufferSize:a.J4a,maxAudioTrailingBufferSize:a.r4a,fastUpswitchFactor:a.i6,fastDownswitchFactor:a.ina,maxMediaBufferAllowed:a.KA,simulatePartialBlocks:a.Hxa,simulateBufferFull:a.Gab,considerConnectTime:a.ola,connectTimeMultiplier:a.lla,lowGradeModeEnterThreshold:a.N3a,lowGradeModeExitThreshold:a.O3a,maxDomainFailureWaitDuration:a.t4a,maxAttemptsOnFailure:a.q4a,exhaustAllLocationsForFailure:a.AXa,maxNetworkErrorsDuringBuffering:a.z4a,maxBufferingTimeAllowedWithNetworkError:a.Z8,fastDomainSelectionBwThreshold:a.IXa,throughputProbingEnterThreshold:a.Wbb,throughputProbingExitThreshold:a.Xbb,locationProbingTimeout:a.B3a,finalLocationSelectionBwThreshold:a.QXa,throughputHighConfidenceLevel:a.Ubb,throughputLowConfidenceLevel:a.Vbb,locationStatisticsUpdateInterval:a.Tra,enablePerfBasedLocationSwitch:a.bXa,probeServerWhenError:a.av,probeRequestTimeoutMilliseconds:a.jva,allowSwitchback:a.dz,probeDetailDenominator:a.TI,maxDelayToReportFailure:a.a9,countGapInBuffer:a.RUa,bufferThresholdForAbort:a.ZSa,allowCallToStreamSelector:a.DRa,pipelineScheduleTimeoutMs:a.Gua,maxPartialBuffersAtBufferingStart:a.LA,maxActiveRequestsSABCell100:a.X8,maxStreamingSkew:a.Isa,maxPendingBufferPercentage:a.Esa,headerRequestSize:a.D7,estimateHeaderSize:a.Xma,minBufferLenForHeaderDownloading:a.JX,reserveForSkipbackBufferMs:a.nZ,numExtraFragmentsAllowed:a.Hta,pipelineEnabled:a.Tq,maxParallelConnections:a.zO,socketReceiveBufferSize:a.Pab,audioSocketReceiveBufferSize:a.m4,videoSocketReceiveBufferSize:a.CQ,headersSocketReceiveBufferSize:a.Upa,updatePtsIntervalMs:a.Iba,bufferTraceDenominator:a.bka,bufferLevelNotifyIntervalMs:a.tM,aseReportDenominator:a.nM,aseReportIntervalMs:a.g4,enableAbortTesting:a.XDb,abortRequestFrequency:a.Isb,streamingStatusIntervalMs:a.gya,prebufferTimeLimit:a.$A,minBufferLevelForTrackSwitch:a.y9,penaltyFactorForLongConnectTime:a.yua,longConnectTimeThreshold:a.fsa,additionalBufferingLongConnectTime:a.aja,additionalBufferingPerFailure:a.bja,rebufferCheckDuration:a.XY,enableLookaheadHints:a.ZWa,lookaheadFragments:a.K3a,enableOCSideChannel:a.Rz,OCSCBufferQuantizationConfig:a.E1,updateDrmRequestOnNetworkFailure:a.ddb,deferAseScheduling:a.SVa,maxDiffAudioVideoEndPtsMs:a.s4a,defaultHeaderCacheSize:a.u5,defaultHeaderCacheDataPrefetchMs:a.t5,neverWipeHeaderCache:a.xI,networkFailureResetWaitMs:a.qta,networkFailureAbandonMs:a.pta,maxThrottledNetworkFailures:a.f9,throttledNetworkFailureThresholdMs:a.lba,lowThroughputThreshold:a.lsa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.cna,mp4ParsingInNative:a.u5a,sourceBufferInOrderAppend:a.Rab,requireAudioStreamToEncompassVideo:a.BE,allowAudioToStreamPastVideo:a.CRa,enableManagerDebugTraces:a.vi,managerDebugMessageInterval:a.$3a,managerDebugMessageCount:a.Z3a,bufferThresholdToSwitchToSingleConnMs:a.aka,bufferThresholdToSwitchToParallelConnMs:a.$ja,netIntrStoreWindow:a.nSb,minNetIntrDuration:a.LRb,fastHistoricBandwidthExpirationTime:a.sFb,bandwidthExpirationTime:a.gvb,failureExpirationTime:a.pFb,historyTimeOfDayGranularity:a.JLb,expandDownloadTime:a.bFb,minimumMeasurementTime:a.XRb,minimumMeasurementBytes:a.WRb,throughputMeasurementTimeout:a.D2b,initThroughputMeasureDataSize:a.KMb,throughputMeasureWindow:a.C2b,throughputIQRMeasureWindow:a.B2b,IQRBucketizerWindow:a.zjb,connectTimeHalflife:a.nyb,responseTimeHalflife:a.lZb,historicBandwidthUpdateInterval:a.ILb,throughputWarmupTime:a.H2b,minimumBufferToStopProbing:a.VRb,throughputPredictor:a.E2b,ase_stream_selector:a.nub,enableFilters:a.bEb,filterDefinitionOverrides:a.JFb,defaultFilter:a.dCb,secondaryFilter:a.TZb,defaultFilterDefinitions:a.eCb,initBitrateSelectorAlgorithm:a.xqa,bufferingSelectorAlgorithm:a.gka,ase_ls_failure_simulation:a.EVa,ase_dump_fragments:a.Sla,ase_location_history:a.Ula,ase_throughput:a.FVa,ase_simulate_verbose:a.HVa,secondThroughputEstimator:a.Qwa,secondThroughputMeasureWindowInMs:a.r$a,marginPredictor:a.xsa,networkMeasurementGranularity:a.rta,HistoricalTDigestConfig:a.OEa,maxIQRSamples:a.w4a,minIQRSamples:a.i5a,periodicHistoryPersistMs:a.C$,saveVideoBitrateMs:a.xaa,needMinimumNetworkConfidence:a.RX,biasTowardHistoricalThroughput:a.Uja,maxFastPlayBufferInMs:a.b9,maxFastPlayBitThreshold:a.Csa,minAudioMediaRequestDuration:a.hx,minVideoMediaRequestDuration:a.QA,minAudioMediaRequestDurationCache:a.hx,minVideoMediaRequestDurationCache:a.QA,addHeaderDataToNetworkMonitor:a.Sia,hindsightDenominator:a.bqa,hindsightDebugDenominator:a.aqa,hindsightParam:a.H7,minimumTimeBeforeBranchDecision:a.hE,minimumTimeBeforeDelayedSeekToQueuedSegment:a.n5a,enableSessionHistoryReport:a.GV,earlyStageEstimatePeriod:a.Fma,lateStageEstimatePeriod:a.j3a,maxNumSessionHistoryStored:a.d9,minSessionHistoryDuration:a.E9,appendMediaRequestOnComplete:a.TRa,waitForDrmToAppendMedia:a.Xba,forceAppendHeadersAfterDrm:a.s6,startMonitorOnLoadStart:a.Sxa,reportFailedRequestsToNetworkMonitor:a.mwa,reappendRequestsOnSkip:a.BXb,maxActiveRequestsPerSession:a.cx,limitAudioDiscountByMaxAudioBitrate:a.Ora,appendFirstHeaderOnComplete:a.mja,maxAudioFragmentOverlapMs:0,editVideoFragments:a.NDb,declareBufferingCompleteAtSegmentEnd:a.Vla,applyProfileTimestampOffset:a.HG,applyProfileStreamingOffset:a.qm,requireDownloadDataAtBuffering:a.laa,requireSetupConnectionDuringBuffering:a.maa,recordFirstFragmentOnSubBranchCreate:a.Sva,earlyAppendSingleChildBranch:a.M5,selectStartingVMAFMethod:a.IP,activateSelectStartingVMAF:a.dU,minStartingVideoVMAF:a.Ou,minAcceptableVMAF:a.IX,minAllowedVmaf:a.pI,alwaysNotifyEOSForPlaygraph:a.Xtb,enableNewAse:a.hN,useNewApi:a.H_,enableCombinedPlaygraphs:a.O5,enableDiscontiguousBuffering:a.P5,forceImmediateTransitionTypeForTitles:a.Mna,forceImmediateTransitionExitZone:a.Lna,useBufferSizeLimiter:a.lza,useLegacyFragmentRounding:a.oza,waitForDrmToAppendHeadersWhenClearAndEncryptedContent:a.Cza,enableHudsonFieldTest:a.fEb,hudsonTitles:a.YLb,maxPartialBuffersAtHudson:a.PQb,numberOfChunksPerSegment:a.dTb,targetContentLatency:a.q2b,targetLongContentLatency:a.r2b,minimumTimeDelay:a.YRb,enableWsslEstimate:a.Lma,maxAllowedOutstandingRequests:a.Y8,alwaysRunUnderflowTimer:a.iM,minStreamableConcurrencyWindow:a.cta,streamableConcurrencyFactor:a.dya,bufferingConcurrencyWindow:a.GU,singleStreamablePerBranch:a.R0b,enableResolutionVMAFStreamFilter:a.R5,resolutionVMAFCappingRuleList:a.qaa,percentCapTitlesForResolutionVMAFStreamFilter:a.Aua,useExitZones:a.mza,perFragmentVMAFConfig:a.aP,enableInitialTputLogging:a.XWa,maxResponsesInitialTput:a.RQb};};},function(t){t.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);g=a(33);t=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(d){d=l.prototype.parse.call(this,d);this.u.offset+=8;this.Dka=this.u.ad();this.Iwa=this.u.ad();this.u.offset+=4;this.samplerate=this.u.ad();this.u.offset+=2;g.ia && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.Dka + ", samplesize: " + this.Iwa + ", samplerate: " + this.samplerate);return d;};m.Ra=!1;return m;})(a(269).default);b.default=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZR="LogblobBuilderFactorySymbol";b.cea="LogblobBuilderCommonSymbol";},function(t,b,a){var g,l,m,d,f,h;function c(k,n,p,q){var u;u=m.gR.call(this,k,n,g.Vj.qNa,q) || this;u.config=k;u.yj=n;u.is=p;u.k9=q;u.type=g.nj.Cv;u.R_=d.Hd.qVa();return u;}Object.defineProperty(b,"__esModule",{value:!0});b.so=void 0;g=a(26);l=a(45);m=a(457);t=a(114);d=a(113);f=a(276);h=a(106);new t.nC();na(c,m.gR);c.prototype.Gx=function(){return Promise.resolve(!1);};c.prototype.ru=function(){return Promise.resolve("");};c.prototype.S6=function(){return Promise.resolve("");};c.prototype.a_=function(){return this.config().Jma?this.k9.Qqa()?this.k9.Uz(l.O.xK).then(function(k){return {result:k,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.hba=function(){return this.config().Jma?this.k9.Qqa()?this.k9.Uz(l.O.kR).then(function(k){return {result:k,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.b_=function(){return Promise.resolve(!1);};c.prototype.ZZ=function(){return Promise.resolve(!1);};c.prototype.zN=function(k){return this.R_[k];};c.prototype.Qia=function(){};c.prototype.f4a=function(k){switch(k){case g.Rj.sF:return "1.4";case g.Rj.Hv:return "2.2";}};c.prototype.So=function(){return f.O0.So();};c.prototype.G_a=function(){return (0,h.Tcb)(function(k,n){return k.name === n.name;},this.config().xRa,this.config().dn);};c.prototype.KN=function(){return Promise.resolve(void 0);};c.prototype.g7=function(){return Promise.resolve(void 0);};c.prototype.YU=function(k){var n;n=[];this.is.Mg(k) && n.push(this.f4a(k));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:n,isHdcpEngaged:! !n.length}];};b.so=c;c.tQ="video/mp4;codecs={0};";},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.$e=void 0;b.$e=a;a.sEa=/^hevc-main/;a.qEa=/^hevc-hdr-|hevc-dv/;a.fy=/^hevc-hdr-/;a.st=/^hevc-dv/;a.uR=/-h264mpl/;a.wK=/-h264mpl30/;a.kF=/-h264mpl31/;a.RB=/-h264hpl/;a.pC=/^vp9-/;a.zl=/^av1-/;a.ZK=/-L5[0-1]-/;a.a0=/^heaac-2-/;a.xEa=/^heaac-2hq-dash/;a.WF=/^xheaac-dash/;a.zgb=/ddplus-2/;a.Agb=/ddplus-5/;a.Bgb=/ddplus-atmos/;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zkb="NativeLocalStorageSymbol";b.VHa="NativeLocalStorageFactorySymbol";b.YEa="IDBFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XEa="IDBDatabaseFactorySymbol";b.BFa="IndexedDBFactorySymbol";b.Pda="IndexedDBStorageFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ida=void 0;(b.ida || (b.ida={})).Hlb="PboDebugEvent";b.yCa={hkb:"Manifest",Event:"Event",P8b:"Logblob"};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XR="LicenseProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vK=void 0;b.vK=function(){return "";};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mda=b.TCa=void 0;b.TCa=function(){this.Yb=0;this.Pb=1;this.nib=2;this.tg=function(){};};b.mda="DownloadTrackConstructorFactorySymbol";},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.yc=void 0;b.yc=a;a.Pe={hIa:"mr1",gIa:"mr2",iIa:"mr3",lS:"mr4",Ikb:"mr5",GF:"mr6"};a.Vc={UNSENT:0,OPENED:1,wy:2,uy:3,DONE:5,uK:6,QQ:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.T0={NO_ERROR:-1,dhb:0,qCa:1,phb:2,hhb:3,ggb:4,rBa:5,pBa:6,hgb:7,igb:8,jgb:9,dgb:10,fgb:11,qBa:12,egb:13,cgb:14,vib:15,CEa:16,BEa:17,Dda:18,Fda:19,Eda:20,FEa:21,xib:22,k1:23,DEa:24,wib:25,khb:26,ehb:27,qmb:28,Vgb:29,Wgb:30,Xgb:31,Ygb:32,Zgb:33,$gb:34,ahb:35,bhb:36,chb:37,fhb:38,ghb:39,ihb:40,jhb:41,lhb:42,mhb:43,nhb:44,ohb:45,qhb:46,rhb:47,pmb:48,TIMEOUT:49,yEa:50,zEa:51,uib:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Rc={pZ:{Geb:!0,BS:!1,ukb:!0}};},function(t,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.pk=void 0;c=a(12);g=a(14);t=a(3);l=a(22);m=a(8);d=a(487);f=a(11);h=a(31);k=a(35);n=m.pa.get(h.mh);n.register(t.N.Mda,function(p){var q,u,r,w;q=m.pa.get(k.Dl);(0,l.jb)(g.config);(0,l.jb)(f.fC && f.fC.getDeviceId || f.x1 || q.xN);u=m.pa.get(d.JCa);r=(0,m.aj)("Device");n.Ed("devs");w=m.pa.get(k.hC);u.create({deviceId:g.config.deviceId,xN:q.xN,cWa:"deviceid",gl:g.config.gl,Yo:w.U0,nV:q.nV,userAgent:f.gC,Wra:g.config.Wra,qoa:g.config.qoa,MCb:w.ada || !1,Xub:g.config.wSa.e,fec:g.config.Jw?"mslstoretest":"mslstore",xQ:g.config.xQ}).then(function(v){b.pk=v;nb._cad_global.device=b.pk;r.info("Esn source: " + b.pk.Y5);n.Ed("devdone");p(c.af);}).catch(function(v){v.aa=void 0;p(v);});});},function(t){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof nb && (b=nb);}t.exports=b;},function(t,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.pF=void 0;c=/^\S+$/;a.prototype.fH=function(g){return void 0 !== g;};a.prototype.Mg=function(g){return null !== g && void 0 !== g;};a.prototype.jM=function(g){return a.IRa(g);};a.prototype.Gia=function(g){return !(!g || !a.IRa(g));};a.prototype.ez=function(g){return Array.isArray(g);};a.prototype.JRa=function(g){return !(!g || g.constructor != Uint8Array);};a.prototype.Qi=function(g,l,m){return a.SQa(g,l,m);};a.prototype.Fia=function(g){return a.Fia(g);};a.prototype.kja=function(g,l,m){return a.Z3(g,l,m) && 0 === g % 1;};a.prototype.hU=function(g,l,m){return a.Z3(g,l || 0,m);};a.prototype.$T=function(g){return a.Z3(g,1);};a.prototype.Gsb=function(g){return a.Z3(g,0,255);};a.prototype.Hsb=function(g){return g === +g && (0 === g || g !== (g | 0)) && !0;};a.prototype.KRa=function(g){return !(!g || !c.test(g));};a.prototype.aq=function(g){return a.TQa(g);};a.prototype.Bn=function(g){return !(!a.TQa(g) || !g);};a.prototype.ZT=function(g){return !0 === g || !1 === g;};a.prototype.Q3=function(g){return "function" == typeof g;};a.TQa=function(g){return "string" == typeof g;};a.SQa=function(g,l,m){return "number" == typeof g && !isNaN(g) && isFinite(g) && (void 0 === l || g >= l) && (void 0 === m || g <= m);};a.Fia=function(g){return "number" == typeof g && isNaN(g);};a.Z3=function(g,l,m){return a.SQa(g,l,m) && 0 === g % 1;};a.IRa=function(g){return "object" == typeof g;};b.pF=new a();},function(t,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.dc=void 0;t=a(0);c=a(95);g=a(596);l=a(205);m=a(612);d=a(619);f=a(630);a=a(1275);b.dc=new t.y0({vJ:!0});(0,f.u3a)(b.dc);b.dc.load(g.platform);b.dc.load(m.config);l.dN.load(d.NWa);b.dc.load(a.PRa);b.dc.load(a.profile);b.dc.bind(c.FFa).Mj(b.dc);},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(201);t=(function(){function g(l){this.Gc=l;}g.prototype.kx=function(l){this.Gc.kx=l;return new c.Kca(this.Gc);};return g;})();b.q0=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(200);a(318);t=(function(){function g(l){this.Gc=l;}g.prototype.when=function(l){this.Gc.XG=l;return new c.q0(this.Gc);};g.prototype.U_=function(){this.Gc.XG=function(l){return null !== l.target && !l.target.Vqa() && !l.target.ira();};return new c.q0(this.Gc);};return g;})();b.Kca=t;},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ux=void 0;b.Ux=a;a.Glb="PSK";a.Rjb="MGK";a.MFa="JWEJS_RSA";a.q1="JWK_RSA";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.afa="PlatformEmeSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rfa="StringUtilsSymbol";},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.dN=b.eme=void 0;t=a(0);c=a(124);g=a(321);l=a(206);m=a(207);d=a(607);f=a(608);h=a(70);k=a(139);n=a(609);p=a(169);q=a(610);b.eme=new t.rd(function(u){u(g.XCa).to(l.WCa).ba();u(m.Vca).to(d.zBa).ba();u(c.Q0).s_(f.u8a);u(h.xt).TE(function(r){b.dN.parent=r.fb;return b.dN.get(h.xt);});u(k.dS).Af(function(){return function(){return new n.vHa();};});u(p.u0).to(q.ABa).ba;});b.dN=new t.y0({vJ:!0});},function(t,b,a){var l;function c(){}function g(m){m?(this.active=!1,this.Vna(m)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.WCa=b.P0=void 0;t=a(1);a=a(0);g.prototype.Vna=function(m){this.xe=m.keySessionData?m.keySessionData.map(function(d){return {id:d.id,gI:d.licenseContextId,nX:d.licenseId};}):[];this.ca=m.xid;this.K=m.movieId;};g.prototype.Hx=function(){return JSON.parse(JSON.stringify({keySessionData:this.xe?this.xe.map(function(m){return {id:m.id,licenseContextId:m.gI,licenseId:m.nX};}):[],xid:this.ca,movieId:this.K}));};b.P0=g;c.prototype.create=function(){return new g();};c.prototype.load=function(m){return new g(m);};l=c;l=t.__decorate([(0,a.T)()],l);b.WCa=l;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vca="CachedDrmDataSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ly='video/mp4; codecs="avc1.640028"';b.GK='audio/mp4; codecs="mp4a.40.5"';b.Fhb="DrmTraitsSymbol";},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u;function c(r,w,v,x,y,z){this.QX=r;this.is=w;this.Xc=v;this.ce=x;this.tq=y;this.di=z;(0,m.lp)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Pv=void 0;t=a(1);l=a(0);m=a(59);d=a(3);f=a(39);h=a(27);k=a(96);n=a(29);p=a(36);q=a(69);a=a(78);c.prototype.aA=function(){if(this.wb)return this.wb.sessionId;};c.prototype.RYb=function(r,w){return this.QX.requestMediaKeySystemAccess(r,w);};c.prototype.createMediaKeys=function(r){return r.createMediaKeys();};c.prototype.createSession=function(r,w){this.wb=r.createSession(w);};c.prototype.e5=function(){return Promise.reject(new k.oh(d.N.S0));};c.prototype.YNb=function(){return ! !this.wb;};c.prototype.setServerCertificate=function(r,w){return this.is.Q3(r.setServerCertificate)?r.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(r,w){return this.wb?this.wb.generateRequest(r,w[0]):Promise.reject(new k.oh(d.N.S0,d.M.sK,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(r){return this.wb?this.wb.update(r[0]):Promise.reject(new k.oh(d.N.sDa,d.M.sK,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(r){return this.wb?this.wb.load(r):Promise.reject(new k.oh(d.N.Phb,d.M.sK,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var r;this.$ka=void 0;if(!this.wb)return Promise.reject(new k.oh(d.N.iDa,d.M.sK,void 0,"Unable to close a key session, key session is not valid"));r=Promise.resolve();this.aA() && (r=this.wb.close());this.wb=void 0;return r;};c.prototype.remove=function(){return this.wb?this.wb.remove():Promise.reject(new k.oh(d.N.Rhb,d.M.sK,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.YI=function(){return Promise.reject(new k.oh(d.N.pda,void 0,"Unable to renew a key session, not supported"));};c.prototype.jRa=function(r){if(!this.wb)throw ReferenceError("Unable to add message handler, key session is not valid");this.wb.addEventListener(g.wDa,r);};c.prototype.dRa=function(r){if(!this.wb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.wb.addEventListener(g.vDa,r);};c.prototype.bRa=function(r){if(!this.wb)throw ReferenceError("Unable to add error handler, key session is not valid");this.wb.addEventListener(g.uDa,r);};c.prototype.Wsb=function(r){var w;w=this;if(!this.wb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.$ka=r;this.wb.closed.then(function(v){var x;return null === (x=w.$ka) || void 0 === x?void 0:x.call(w,v);});};c.prototype.m9a=function(r){if(!this.wb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.wb.removeEventListener(g.wDa,r);};c.prototype.k9a=function(r){if(!this.wb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.wb.removeEventListener(g.vDa,r);};c.prototype.i9a=function(r){if(!this.wb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.wb.removeEventListener(g.uDa,r);};u=g=c;u.wDa="message";u.vDa="keystatuseschange";u.uDa="error";u=g=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(f.NK)),t.__param(1,(0,l.l)(h.hg)),t.__param(2,(0,l.l)(p.Ji)),t.__param(3,(0,l.l)(n.jg)),t.__param(4,(0,l.l)(q.Ev)),t.__param(5,(0,l.l)(a.Uv))],u);b.Pv=u;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mqa=b.Dv=void 0;(function(a){a.ydb="usable";a.hu="expired";a.released="released";a.L6a="output-restricted";a.AUb="output-downscaled";a.p1b="status-pending";a.YMb="internal-error";})(b.Dv || (b.Dv={}));b.Mqa=function(a){return ! !a && ! !a.keyStatuses;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.i2="TimeoutMonitorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rn="_ANY_";b.KDa="EnricherSymbol";},function(t,b,a){var g,l,m;function c(d,f,h,k){this.Ea=d;this.C4=f;this.lo=h;this.Ro=void 0 === k?"General":k;this.cla={};}Object.defineProperty(b,"__esModule",{value:!0});b.DK=void 0;g=a(7);l=a(345);m=a(659);c.prototype.ZQa=function(d,f){this.cla[d]=f;};c.prototype.fatal=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.OC(g.Sj.aib,d,this.AQ(d,h));};c.prototype.error=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.OC(g.Sj.Qf,d,this.AQ(d,h));};c.prototype.warn=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.OC(g.Sj.ega,d,this.AQ(d,h));};c.prototype.info=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.OC(g.Sj.Kda,d,this.AQ(d,h));};c.prototype.trace=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.OC(g.Sj.yMa,d,this.AQ(d,h));};c.prototype.debug=function(d,f){for(var h=1;h < arguments.length;++h){;}!1;};c.prototype.log=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.debug.apply(this,[d].concat(ha(h)));};c.prototype.write=function(d,f,h){for(var k=[],n=2;n < arguments.length;++n){k[n - 2]=arguments[n];}this.OC(d,f,this.AQ(f,k));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Ro};};c.prototype.Bla=function(d){return new c(this.Ea,this.C4,this.lo,d);};c.prototype.OC=function(d,f,h){d=new l.aea(d,this.Ro,this.Ea.$b(),f,h);f=ba(this.lo.lo);for(h=f.next();!h.done;h=f.next()){h=h.value;h(d);}};c.prototype.IHb=function(d){return 0 < Object.keys(this.cla).length?[this.cla].concat(ha(d)):d;};c.prototype.AQ=function(d,f){var h;d && "null" !== d && "undefined" !== d || f.push({StackTrace:null !== (h=Error("Empty message").stack) && void 0 !== h?h:"nostack"});return (0,m.fTa)(this.C4,this.IHb(f));};b.DK=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kfa="SegmentManagerFactorySymbol";},function(t,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.C1b=b.P8a=b.Nva=void 0;b.Nva=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.P8a=a;b.C1b=function(c){return "IStreamable: " + c.identifier + " [" + c.mediaType + "] " + c.groupId + " p:" + (JSON.stringify(c.dh) + " sp:" + c.pB + " pssp:") + (c.IY + " state:") + (c.Ff + " path-complete:" + c.YA + " streaming:") + (c.Zs + " current:" + c.ds);};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.U4a=b.r9=b.Df=void 0;b.Df=[0,1];b.r9=function(a,c){return a || c?c?[1]:[0]:[0,1];};b.U4a=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.JK=void 0;c=a(40);t=(function(){function g(l,m){this.console=l;this.config=m;this.Bdb=!1;}g.prototype.Cm=function(l,m,d,f){void 0 === d && (d=c.R.eb);void 0 === f && (f=!1);return this.Bdb || d.U >= this.config.JQb || !1 === f?l.filter(this.BDb):l.filter(this.Gxb);};g.prototype.Kbb=function(){this.Bdb=!0;};g.prototype.BDb=function(l){return l.ll;};g.prototype.Gxb=function(l){return !l.ll;};return g;})();b.JK=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Eea=void 0;t=(function(){function a(c,g,l,m){var d;d=this;this.properties=c;this.transform=g;this.JU=l;this.state=m;this.$ta=function(){var f,h;f=d.state;h=d.properties.map(function(k){return k.value;});d.state=d.transform(h);(d.b2a(d.state) && d.b2a(f)?d.state.equal(f):f === d.state) || d.JU(d.state);};c.forEach(function(f){return f.addListener(d.$ta);});this.$ta();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(g){return g.removeListener(c.$ta);});};a.prototype.b2a=function(c){return void 0 !== c.equal;};return a;})();b.Eea=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pj=void 0;t=b.Pj || (b.Pj={});t[t.CLOSED=0]="CLOSED";t[t.OPEN=1]="OPEN";t[t.mj=2]="STREAMING";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.SF=void 0;t=(function(){function a(c){this.oQa=c;}Object.defineProperties(a.prototype,{eO:{get:function(){return this.mpb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.oQa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Awa:{get:function(){var c;c=this;return this.oQa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.mpb=!0;};a.prototype.Vta=function(c,g){var l;l=this;this.result.then(function(m){l.eO?g && g(m):c(m);});return this;};return a;})();b.SF=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.IM=b.qFb=b.wz=b.IE=void 0;c=a(2);g=a(21);l=a(57);Object.defineProperties(b,{IE:{enumerable:!0,get:function(){return l.IE;}}});Object.defineProperties(b,{wz:{enumerable:!0,get:function(){return l.wz;}}});b.qFb=function(m,d){var f,q,u;m=Math.max(m.duration - 3E4,3E4);for(var h={},k,n=0,p=0;p < m;p+=3E4){q="s" + n++;u={S:d,Aa:p,Ca:p + 3E4 < m?p + 3E4:null};void 0 !== k && (k.next=(f={},f[q]={weight:1},f),k.Md=q);k=h[q]=u;}return {Pd:"s0",V:h,ae:"lazy"};};b.IM=function(m,d,f,h){var k,n,p,r,w,v;void 0 === h && (h={});p=g.R.max(f,g.R.eb);try{for(var q=c.__values(Object.keys(m.V)),u=q.next();!u.done;u=q.next()){r=u.value;w=m.V[r];if(w.S === d){v=g.R.Oa(w.Aa);if(p.ps(v) && (!isFinite(null !== (n=w.Ca) && void 0 !== n?n:NaN) || p.lessThan(g.R.Oa(w.Ca))))return {ha:r,offset:f.Ka(v)};}}}catch(y){var x;x={error:y};}finally{try{u && !u.done && (k=q.return) && k.call(q);}finally{if(x)throw x.error;}}if(h.q$a && (w=Object.keys(m.V).map(function(y){return {key:y,H:m.V[y]};}).filter(function(y){return y.H.S === d;}).map(function(y){var z,A;z=g.R.abs(f.Ka(g.R.Oa(y.H.Aa)));if(y.H.Ca && isFinite(y.H.Ca)){A=g.R.abs(f.Ka(g.R.Oa(y.H.Ca)));z=g.R.min(z,A);}return c.__assign(c.__assign({},y),{Wo:z});}),w.sort(function(y,z){return y.Wo.U - z.Wo.U;}),v=c.__read(w,1)[0]))return (w=v.H,h=v.key,v=g.R.Oa(w.Aa),{ha:h,offset:f.Ka(v)});};},function(t,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mK=void 0;t=a(2);c=a(174);g=t.__importDefault(a(224));l=t.__importDefault(a(769));m=t.__importDefault(a(145));d=a(4);b.mK=(function(){function h(k,n){var p;p=this;this.Vh=new g.default(k,n);this.Xn=new l.default(k);this.Wb=new m.default(this.Xn,this.Vh,k);c.Wx.myb(k);k.C$ && setInterval(function(){p.Vh.save();p.Xn.save();},k.C$);}h.v_a=function(k,n){void 0 === f?(h.config=k,h.SE=n,f=new h(k,n)):(d.assert(h.config === k),d.assert(h.SE === n));return f;};h.reset=function(){h.config=void 0;f=h.SE=void 0;};return h;})();},function(t,b,a){var d;function c(f,h,k){this.YM=!1 === f;this.Wo=f || .01;this.Tda=void 0 === h?25:h;this.xBa=void 0 === k?1.1:k;this.Vi=new d(g);this.reset();}function g(f,h){return f.vg > h.vg?1:f.vg < h.vg?-1:0;}function l(f,h){return f.ex - h.ex;}function m(f){this.config=f || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?f.Wo:!1);this.OCb=this.config.ratio || .9;this.PCb=this.config.Ffc || 1E3;this.M9=0;}d=a(749).Xlb;c.prototype.reset=function(){this.Vi.clear();this.Lra=this.n=0;};c.prototype.size=function(){return this.Vi.size;};c.prototype.Bp=function(f){var h;h=[];f?(this.I2(!0),this.Vi.tf(function(k){h.push(k);})):this.Vi.tf(function(k){h.push({vg:k.vg,n:k.n});});return h;};c.prototype.summary=function(){return [(this.YM?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Ej(0),"Q1  = " + this.Ej(.25),"Q2  = " + this.Ej(.5),"Q3  = " + this.Ej(.75),"max = " + this.Ej(1)].join("\n");};c.prototype.push=function(f,h){h=h || 1;f=Array.isArray(f)?f:[f];for(var k=0;k < f.length;k++){this.qOa(f[k],h);}};c.prototype.yva=function(f){f=Array.isArray(f)?f:[f];for(var h=0;h < f.length;h++){this.qOa(f[h].vg,f[h].n);}};c.prototype.I2=function(f){var h;if(!(this.n === this.Lra || !f && this.xBa && this.xBa > this.n / this.Lra)){h=0;this.Vi.tf(function(k){k.ex=h + k.n / 2;h=k.NM=h + k.n;});this.n=this.Lra=h;}};c.prototype.bGb=function(f){var h,k;if(0 === this.size())return null;h=this.Vi.lowerBound({vg:f});k=null === h.data()?h.SI():h.data();return k.vg === f || this.YM?k:(h=h.SI()) && Math.abs(h.vg - f) < Math.abs(k.vg - f)?h:k;};c.prototype.PL=function(f,h,k){this.Vi.Iq({vg:f,n:h,NM:k});this.n+=h;};c.prototype.s2=function(f,h,k){h !== f.vg && (f.vg+=k * (h - f.vg) / (f.n + k));f.NM+=k;f.ex+=k / 2;f.n+=k;this.n+=k;};c.prototype.qOa=function(f,h){var k,n,p;k=this.Vi.min();n=this.Vi.max();p=this.bGb(f);p && p.vg === f?this.s2(p,f,h):p === k?this.PL(f,h,0):p === n?this.PL(f,h,this.n):this.YM?this.PL(f,h,p.NM):(k=p.ex / this.n,Math.floor(4 * this.n * this.Wo * k * (1 - k)) - p.n >= h?this.s2(p,f,h):this.PL(f,h,p.NM));this.I2(!1);!this.YM && this.Tda && this.size() > this.Tda / this.Wo && this.zz();};c.prototype.Cvb=function(f){var h,k;this.Vi.tn=l;h=this.Vi.upperBound({ex:f});this.Vi.tn=g;k=h.SI();f=k && k.ex === f?k:h.next();return [k,f];};c.prototype.Ej=function(f){var h;h=(Array.isArray(f)?f:[f]).map(this.Yqb,this);return Array.isArray(f)?h:h[0];};c.prototype.Yqb=function(f){var h,k;if(0 !== this.size()){this.I2(!0);this.Vi.min();this.Vi.max();f*=this.n;h=this.Cvb(f);k=h[0];h=h[1];return h === k || null === k || null === h?(k || h).vg:this.YM?f <= k.NM?k.vg:h.vg:k.vg + (f - k.ex) * (h.vg - k.vg) / (h.ex - k.ex);}};c.prototype.zz=function(){var f;if(!this.tUa){f=this.Bp();this.reset();for(this.tUa=!0;0 < f.length;){this.yva(f.splice(Math.floor(Math.random() * f.length),1)[0]);}this.I2(!0);this.tUa=!1;}};m.prototype=Object.create(c.prototype);m.prototype.constructor=m;m.prototype.push=function(f){c.prototype.push.call(this,f);this.mxb();};m.prototype.PL=function(f,h,k){this.M9+=1;c.prototype.PL.call(this,f,h,k);};m.prototype.s2=function(f,h,k){1 === f.n && --this.M9;c.prototype.s2.call(this,f,h,k);};m.prototype.mxb=function(){!("auto" !== this.mode || this.size() < this.PCb) && this.M9 / this.size() > this.OCb && (this.mode="cont",this.YM=!1,this.Wo=this.config.Wo || .01,this.zz());};t.exports={TDigest:c,Digest:m};},function(t,b,a){var d,f,h,k,n,p;function c(q){var u;u=q.Zga;this.J=q;this.Yj=f.ig.HAVE_NOTHING;this.M2=q.M2;q=new n(this.M2);this.TT=q.create("throughput-location-history",u);this.Z2=q.create("throughput-location-history",u);this.Vy=q.create("respconn-location-history",u);this.Ky=q.create("respconn-location-history",u);this.H3=q.create("throughput-tdigest-history",u);this.a3=q.create("throughput-iqr-history",u);this.Cb=null;}function g(q,u,r,w,v){this.Iy=new c(v);this.Sr=[];this.Npb=h.time.ga() - Date.now() % 864E5;this.cw=null;this.J=v;for(q=0;q < w;++q){this.Sr.push(new c(v));}}function l(q,u,r){return d.has(q,u)?q[u]:q[u]=r;}function m(q,u){var r;this.J=q;this.EQa=u;this.TEb();this.BL=new c(this.J);this.tT();r=q.Ula;r && (r={confidence:f.ig.yR,Ua:{Ba:parseInt(r,10),ih:0},Gk:{Ba:0,ih:0},Tw:{Ba:0,ih:0}},this.get=function(){return r;});}d=a(10);f=a(28).default;b=a(9);h=a(6).default;k=b.jEa;n=a(761).iib;new h.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:f.ig.HAVE_NOTHING};c.prototype.EG=function(q,u){this.Yj=u;this.TT.add(q);this.H3.add(q);this.Cb=h.time.ga();};c.prototype.BG=function(q){this.Z2.add(q);};c.prototype.ZJ=function(q,u){this.a3.set(q,u);};c.prototype.cz=function(q){this.Vy.add(q);};c.prototype.az=function(q){this.Ky.add(q);};c.prototype.getState=function(){var q,u,r,w,v,x,y;q=this.TT.getState();u=this.Z2.getState();r=this.Vy.getState();w=this.Ky.getState();v=this.a3.getState();x=this.H3.getState();if(d.Fb(q) && d.Fb(r) && d.Fb(w))return null;y={c:this.Yj,t:h.time.jta(this.Cb)};d.Fb(q) || (y.tp=q);d.Fb(u) || (y.itp=u);d.Fb(r) || (y.rt=r);d.Fb(w) || (y.hrt=w);d.Fb(v) || (y.iqr=v);d.Fb(x) || (y.td=x);return y;};c.prototype.Me=function(q){var u;u=h.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > f.ig.yR || q.t > u || !this.TT.Me(q.tp))return (this.Yj=f.ig.HAVE_NOTHING,this.cw=this.Cb=null,this.TT.Me(null),this.Vy.Me(null),this.Ky.Me(null),!1);this.Yj=q.c;this.Cb=h.time.Gta(q.t);this.Vy.Me(d.has(q,"rt")?q.rt:null);this.Ky.Me(d.has(q,"hrt")?q.hrt:null);this.Z2.Me(d.has(q,"itp")?q.itp:null);d.has(q,"iqr") && this.a3.Me(q.iqr);d.has(q,"td") && this.H3.Me(q.td);return !0;};c.prototype.get=function(){var q,u,r,w,v,x,y;q=this.J;if(d.Fb(this.Cb))return p;u=(h.time.ga() - this.Cb) / 1E3;u > q.gpb?this.Yj=f.ig.HAVE_NOTHING:u > q.Hob && (this.Yj=Math.min(this.Yj,f.ig.YB));q=this.TT.get();r=this.Z2.get();w=this.Vy.get();v=this.Ky.get();x=this.a3.get();y=this.H3.get();u={pm:u,confidence:this.Yj,Ua:q,D1a:r,Gk:w,Tw:v,Bu:x,Nk:y};q && (u.Hfc=k.prototype.Xua.bind(q));w && (u.Xec=k.prototype.Xua.bind(w));v && (u.Vcc=k.prototype.Xua.bind(v));return u;};c.prototype.time=function(){return this.Cb;};g.prototype.Ce=function(){return ((h.time.ga() - this.Npb) / 1E3 / 3600 / (24 / this.Sr.length) | 0) % this.Sr.length;};g.prototype.getState=function(){var q;q={g:this.Iy.getState(),h:this.Sr.map(function(u){return u.getState();})};d.Fb(this.cw) || (q.f=h.time.jta(this.cw));return q;};g.prototype.Me=function(q){var u,r;if(!this.Iy.Me(q.g))return !1;u=this.Sr.length;r=!1;this.Sr.forEach(function(w,v){r=!w.Me(q.h[v * q.h.length / u | 0]) || r;});this.cw=d.has(q,"f")?h.time.Gta(q.f):null;return r;};g.prototype.EG=function(q,u){this.Iy.EG(q,u);this.Sr[this.Ce()].EG(q,u);this.cw=null;};g.prototype.BG=function(q){this.Iy.BG(q);this.Sr[this.Ce()].BG(q);this.cw=null;};g.prototype.ZJ=function(q,u){this.Iy.ZJ(q,u);this.Sr[this.Ce()].ZJ(q,u);};g.prototype.cz=function(q){this.Iy.cz(q);this.Sr[this.Ce()].cz(q);};g.prototype.az=function(q){this.Iy.az(q);this.Sr[this.Ce()].az(q);};g.prototype.fail=function(q){this.cw=q;};g.prototype.get=function(){var q,u;if(!d.Fb(this.cw)){if((h.time.ga() - this.cw) / 1E3 < this.J.Gob)return {confidence:f.ig.HAVE_NOTHING,iu:!0};this.cw=null;}q=this.Sr[this.Ce()].get();u=this.Iy.get();q=q.confidence >= u.confidence?q:u;q.iu=!1;return q;};g.prototype.time=function(){return this.Iy.time();};m.prototype.LOa=function(q,u){var r;r=this.J;q=l(this.nT,q,{});return l(q,u,new g(r.ZOa || 14400,r.YOa || 100,r.XOa || 100,r.QPa || 4,r));};m.prototype.tT=function(){var q,u;q=h.storage.get("lh");u=h.storage.get("gh");q && this.nia(q);u && this.Vrb(u);};m.prototype.hha=function(){var q;q={};d.tf(this.nT,function(u,r){d.tf(u,function(w,v){l(q,r,{})[v]=w.getState();},this);},this);return q;};m.prototype.Vrb=function(q){this.BL.Me(q);};m.prototype.nia=function(q){var u,r;u=null;r=this.J;d.tf(q,function(w,v){d.tf(w,function(x,y){var z;z=new g(r.ZOa || 14400,r.YOa || 100,r.XOa || 100,r.QPa || 4,r);z.Me(x)?(l(this.nT,v,{})[y]=z,u=!0):d.Fb(u) && (u=!1);},this);},this);return d.Fb(u)?!0:u;};m.prototype.save=function(){var q;q=this.hha();h.storage.set("lh",q);h.storage.set("gh",this.BL.getState());this.EQa && this.EQa.mxa(this.BL.getState());};m.prototype.TEb=function(){this.nT={};this.tL=this.mOa="";this.wn=null;};m.prototype.QP=function(q){this.mOa=q;this.wn=null;};m.prototype.Oaa=function(q){this.tL=q;this.wn=null;};m.prototype.jT=function(){d.Fb(this.wn) && (this.wn=this.LOa(this.mOa,this.tL));return this.wn;};m.prototype.EG=function(q,u){this.jT().EG(q,u);this.BL.EG(q,u);};m.prototype.BG=function(q){this.jT().BG(q);this.BL.BG(q);};m.prototype.ZJ=function(q,u){q && q.ol && q.Bj && q.pl && (this.jT().ZJ(q,u),this.BL.ZJ(q,u));};m.prototype.cz=function(q){this.jT().cz(q);};m.prototype.az=function(q){this.jT().az(q);};m.prototype.fail=function(q,u){this.LOa(q,this.tL).fail(u);};m.prototype.get=function(q,u){var r,w,v,x;q=(q=this.nT[q])?q[this.tL]:null;r=null;if(q && (r=q.get(),r.confidence > f.ig.HAVE_NOTHING))return r;if(!1 === u)return p;w=r=null;v=!1;x=null;d.tf(this.nT,function(y){d.tf(y,function(z,A){var B;if(!v || A == this.tL){B=z.get();B && (!w || w <= B.confidence) && (!x || w < B.confidence || x < z.time()) && (w=B.confidence,v=A == this.tL,x=z.time(),r=B);}},this);},this);return r?r:p;};t.exports=m;},function(t,b,a){var m;function c(d){this.cM=d;this.reset();}function g(d){this.hk=new c(d);this.Se=0;this.Wc=null;}function l(d,f){this.cM=d;this.uPa=f;this.reset();}m=a(10);c.prototype.$Pa=function(d,f){this.Cb+=d;this.Zj+=d;this.Qc+=f;this.Ko.push({d:d,b:f});};c.prototype.GT=function(){var d;for(;this.Zj > this.cM;){d=this.Ko.shift();this.Qc-=d.b;this.Zj-=d.d;}};c.prototype.reset=function(){this.Ko=[];this.Cb=null;this.Zj=this.Qc=0;};c.prototype.setInterval=function(d){this.cM=d;this.GT();};c.prototype.start=function(d){m.Fb(this.Cb) && (this.Cb=d);};c.prototype.add=function(d,f,h){m.Fb(this.Cb) && (this.Cb=f);f > this.Cb && this.$Pa(f - this.Cb,0);this.$Pa(h > this.Cb?h - this.Cb:0,d);this.GT();};c.prototype.get=function(){return {Ba:Math.floor(8 * this.Qc / this.Zj),ih:0};};g.prototype.reset=function(){this.hk.reset();this.Se=0;this.Wc=null;};g.prototype.add=function(d,f,h){!m.Fb(this.Wc) && h > this.Wc && (f > this.Wc && (this.Se+=f - this.Wc),this.Wc=null);this.hk.add(d,f - this.Se,h - this.Se);};g.prototype.start=function(d){!m.Fb(this.Wc) && d > this.Wc && (this.Se+=d - this.Wc,this.Wc=null);this.hk.start(d - this.Se);};g.prototype.stop=function(d){this.Wc=m.Fb(this.Wc)?d:Math.min(d,this.Wc);};g.prototype.get=function(){return this.hk.get();};g.prototype.setInterval=function(d){this.hk.setInterval(d);};l.prototype.reset=function(){this.Ko=[];this.Qc=this.Zj=0;};l.prototype.add=function(d,f,h,k){void 0 !== k && !0 === k && (f=h - f,this.Zj+=f,this.Qc+=d,this.Ko.push({d:f,b:d}),this.GT());};l.prototype.GT=function(){var d;for(;this.Zj > this.cM || this.Ko.length > this.uPa;){d=this.Ko.shift();this.Qc-=d.b;this.Zj-=d.d;}};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.get=function(){return {Ba:Math.floor(8 * this.Qc / this.Zj),ih:0};};l.prototype.setInterval=function(d,f){this.cM=d;this.uPa=f;this.GT();};t.exports={d7b:c,zhb:g,anb:l};},function(t){(function(){var R8;R8=2;for(;R8 !== 8;){switch(R8){case 2:var D3Z="1S";D3Z+="IYb";D3Z+="Zr";D3Z+="NJCp9";b.prototype.start=function(a){var b00;b00=2;for(;b00 !== 1;){switch(b00){case 2:this.Tf?a < this.Tf?(this.EC+=this.Tf - a,this.Tf=a):a > this.Cb && (this.Cb=this.Tf=a):this.Cb=this.Tf=a;b00=1;break;}}};b.prototype.stop=function(a){var c00;c00=2;for(;c00 !== 1;){switch(c00){case 2:this.Cb && a > this.Cb && (this.EC+=a - this.Cb,this.Cb=a);c00=1;break;}}};b.prototype.add=function(a,c,g){var d00;d00=2;for(;d00 !== 4;){switch(d00){case 7:this.Qc*=a;d00=1;break;d00=4;break;case 2:this.start(c);this.stop(g);d00=5;break;case 5:this.Qc+=a;d00=4;break;}}};b.prototype.get=function(){var e00;e00=2;for(;e00 !== 1;){switch(e00){case 2:return {Ba:this.EC?Math.floor(8 * this.Qc / this.EC):null,H5:this.EC?this.EC:0};break;}}};t.exports=b;D3Z;R8=8;break;}}function b(){var a00;a00=2;for(;a00 !== 5;){switch(a00){case 2:this.EC=this.Qc=0;this.Cb=this.Tf=void 0;a00=5;break;}}}})();},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Cca=void 0;c=a(2);g=a(18);l=a(780);t=a(82);m=a(781);d=a(807);f=a(810);h=a(241);k=a(16);n=c.__importDefault(a(6));p=a(4);a(9);q=a(25);a(172);u=(function(){return function(r){var w;w=r.v2a;r=r.Pqa;this.BX=this.replace=w;this.Ie=r;};})();a=(function(r){function w(v,x){var y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,O,N,P,S,U;y=x.Qb;z=x.oa;A=x.rp;B=x.Cd;E=x.M4a;D=x.Wi;F=x.config;G=x.K0a;C=x.BP;H=x.D6;K=x.Wb;M=x.Vh;I=x.YX;Q=x.sXa;x=x.wJ;L=r.call(this) || this;L.S=v;L.E7=!1;L.aPa=[];L.sPa=[];L.ki=[];L.jD=[];L.vn=!1;L.Qb=y;L.wT=z;L.rp=A;L.oc=function(Z){return 0 <= B.indexOf(Z);};L.config=F;L.console=new n.default.Console("ASEJS","media|asejs","<" + String(L.S) + ">");G && (v=G.yD,L.Zf=new f.JEa(L,L.console,L.config,G.$n,G.wW,v,G.h8,G.If,G.Xl,G.xh,G.JD),L.yD=v);L.zu=new g.EventEmitter();L.D6=H;L.Wb=K;L.YX=I;L.Jm=new h.Zda(L.oa,K,M,L.config,null === Q || void 0 === Q?void 0:Q.$n);Q && (G=Q.qs,H=Q.Vn,L.Xp=Q.eh,L.Vn=H,L.qs=G,L.Tga=new d.LDa(L.Jm,L.config,L.SKb.bind(L),L.RKb.bind(L)));L.BP=C;L.wJ=x;L.pf=new u(E);L.Wi=D;J=[[],[]];O=[{},{}];N=[0,0];P=!1;S=L.oc(0);U=L.oc(1);["audio_tracks","video_tracks"].forEach(function(Z,ja){var ya;ya=0 === ja;ya && !S || 1 === ja && !U || L.oa[Z].forEach(function(ra,Y){if(0 !== ra.type || !1 !== ra.yi)(ra=new m.Bca({P:L,Hu:ra,mediaType:ja,Ie:E.Pqa,UE:Y,PC:Y + (ya?L.oa.video_tracks.length:0)},L.config,L.console),J[ja].push(ra),O[ja]=c.__assign(c.__assign({},O[ja]),ra.BD()),ra.maxBitrate > N[ra.mediaType] && (N[ra.mediaType]=ra.maxBitrate),P=P || ra.Sw);});});L.gL=J;L.bya=O;L.Eha=N;L.Sw=P;return L;}c.__extends(w,r);Object.defineProperties(w.prototype,{oa:{get:function(){return this.wT;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{AX:{get:function(){var v;return !(null === (v=this.gL[1][0]) || void 0 === v || !v.AX);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{dx:{get:function(){return this.Eha;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{zh:{get:function(){return this.aPa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{KQb:{get:function(){return this.sPa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{K:{get:function(){return this.oa.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Fn:{get:function(){return this.oa.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{duration:{get:function(){return this.oa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{vk:{get:function(){return this.vn;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{vq:{get:function(){p.assert(this.Tga,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Tga;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mN:{get:function(){return this.vq.events;},enumerable:!1,configurable:!0}});w.prototype.Jb=function(){this.close();this.fd();};w.prototype.close=function(){var v;this.jD=[];null === (v=this.Tga) || void 0 === v?void 0:v.Jb();this.Jm.Jb();this.vn=!0;};w.prototype.fd=function(){this.Zf && this.Zf.fd();};w.prototype.Ox=function(v){var x,y,z,A,B,E,D;x=this;y=v.oa;z=v.Ie;A=void 0 === z?!1:z;z=v.Cd;B=void 0 === z?k.Df:z;p.assert(v.Wi === this.Wi,"Updating Viewable clearplay not supported");k.Df.forEach(function(F){p.assert(x.oc(F) === 0 <= B.indexOf(F),"Updating Viewable media types not supported");});p.assert(y.movieId === this.oa.movieId,"Changing Viewable manifest movieId unsupported");E=this.oc(0);D=this.oc(1);["audio_tracks","video_tracks"].forEach(function(F,G){var C,H,K;C=0 === G;if(!(C && !E || 1 === G && !D)){H=y[F];K=x.gL[G];p.assert(K.every(function(M){var I;I=H[M.UE];return I && I.rQ === M.trackId && (1 === I.type || !1 !== I.yi);}),"Existing tracks must still exist and be hydrated in updated manifest");H.forEach(function(M,I){var Q,L;if(0 !== M.type || !1 !== M.yi){Q=x.getTrackById(M.rQ);if(Q){M=M.streams;L=Object.keys(Q.BD());p.assert(M.length === L.length,"Expected updated manifest track to have same number of streams");M.forEach(function(J){p.assert(-1 !== L.indexOf(J.downloadable_id),"Changing Viewable track streams unsupported");});}else (Q=new m.Bca({P:x,Hu:M,mediaType:G,Ie:A,UE:I,PC:I + (C?x.oa.video_tracks.length:0)},x.config,x.console),K.push(Q),x.bya[G]=c.__assign(c.__assign({},x.bya[G]),Q.BD()),Q.maxBitrate > x.Eha[Q.mediaType] && (x.Eha[Q.mediaType]=Q.maxBitrate),p.assert(x.Sw || !Q.Sw,"Can not update clear viewable with drm track."));}});}});this.wT=y;this.Jm.hM(this.oa);};w.prototype.EE=function(v){var x,y,z;x=v.Fs;y=v.ca;z=v.mD;v=v.Zn;x && y?(this.Taa=new l.ULa(x,{ca:String(y),mD:! !z,ZQb:this.config.E1.mx,Jvb:this.config.E1.lv},v),this.vq.EE(this.Taa)):v("SideChannel: pbcid/xid is missing.");};w.prototype.Vw=function(){return void 0 !== this.Fn;};w.prototype.getTracks=function(v){return this.gL[v];};w.prototype.getTrackById=function(v){var x;this.gL.some(function(y){return y.some(function(z){if(z.trackId === v)return (x=z,!0);});});x || this.console.warn("getTrackById not found:",v,"length:",this.gL.length);return x;};w.prototype.wKb=function(v,x){var y;y=this.gL[v];if(0 > x || x >= y.length)this.console.warn("getTrackByIndex out of range:",x,"length:",y.length,"mediaType:",v);else return y[x];};w.prototype.Rw=function(v,x){return (v=this.BD(v)) && v[x];};w.prototype.BD=function(v){return this.bya[v];};w.prototype.c4b=function(v,x){this.aPa[v]=x;x.stream.Y && this.kdb(v,x.stream.Y);};w.prototype.hOb=function(v){var x,y;if(void 0 === v.W$ || void 0 === v.hva){x=this.Jm.SA.filter(function(z){return void 0 !== z.streams[v.Sa];})[0];y=x.children.filter(function(z){return z.urls.some(function(A){return A.stream.id === v.Sa;});})[0];v.W$=x.id;v.hva=y.id;}return {nra:v.location === v.W$,iOb:v.Pc === v.hva};};w.prototype.rxa=function(v,x,y){void 0 !== x && void 0 !== y && (this.v9a(v.mediaType,x),v.rxa(x,y));};w.prototype.v9a=function(v,x){var y,z;z=this.config.rta;("location" === z || "video_location" === z && 1 === v) && this.Wb.QP(x);null === (y=this.D6) || void 0 === y?void 0:y.call(this).JTb(v,x);};w.prototype.eh=function(v,x,y,z,A,B){p.assert(this.Xp,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Xp(v,x,y,z,A,B);};w.prototype.bn=function(){var v,x,y;v=this;x=[];if(this.vk)return (this.console.error("updateRequestUrls, closed Viewable:",this.S),!1);k.Df.forEach(function(z){v.oc(z) && v.u4b(z) && (z=v.j4b(z),0 < z.length && x.push.apply(x,z));});y=this.d4b();0 < y.length && x.push.apply(x,y);return this.eZb(x);};w.prototype.Dm=function(v,x){var y;y=this.getTracks(1)[0];p.assert(y);if(y.bO)return y.Dm(v,x);};w.prototype.u4b=function(v){var x;x=this;return this.vk?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.oc(v)?this.ki.reduce(function(y,z){return q.e4(y,z.fg.filter(function(A){return A.mediaType === v;}));},[]).map(function(y){return x.Jm.E_(x.S,y.$d);}).every(function(y){return y;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",v),!1);};w.prototype.d4b=function(){p.assert(this.Zf,"Headers not available on old architecture prefetch viewables.");return this.Zf.bn();};w.prototype.j4b=function(v){var x,y,B;y=[];if(this.vk)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),y);if(!this.oc(v))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",v),y);try{for(var z=c.__values(this.ki),A=z.next();!A.done;A=z.next()){B=A.value.bn(v);B.length && y.push.apply(y,B);}}catch(D){var E;E={error:D};}finally{try{A && !A.done && (x=z.return) && x.call(z);}finally{if(E)throw E.error;}}return y;};w.prototype.eZb=function(v){var x,y,z;x=this;if(0 === v.length)return !0;y=0;z=[];v.forEach(function(A){var B;if(A.dd){B=A.P;B.Qb > x.Qb && (z.push({P:B,track:A.stream.track}),++y);}});z.forEach(function(A){var B;B=A.track;A.P.AP([0 === B.mediaType?B:void 0,1 === B.mediaType?B:void 0],void 0,B.mediaType);});return y === v.length;};w.prototype.Dk=function(){var v;v=this;this.Jm.Dk();this.vq.Dk();this.Taa && (p.assert(this.yD),k.Df.forEach(function(x){x=v.yD(x);v.Taa.Ywa("rebuffer",x.Kra);}));};w.prototype.Uta=function(){this.vq.Uta();};w.prototype.hza=function(v,x){p.assert(this.Zf,"Headers not available on old architecture prefetch viewables.");this.Zf.hza(v,x);};w.prototype.y7=function(){p.assert(this.Zf,"Headers not available on old architecture prefetch viewables..");return this.Zf.y7();};w.prototype.Uka=function(){p.assert(this.Zf,"Headers not available on old architecture prefetch viewables.");this.Zf.Uka();};w.prototype.PP=function(v){p.assert(this.Zf,"Headers not available on old architecture prefetch viewables.");this.Zf.PP(v);};w.prototype.Pya=function(){p.assert(this.Zf,"Headers not available on old architecture prefetch viewables.");return this.Zf.Pya();};w.prototype.jl=function(v,x){p.assert(this.Zf,"Headers not available on old architecture prefetch viewables.");return this.Zf.jl(v,x);};w.prototype.ZUa=function(v,x,y){p.assert(this.Zf,"Headers not available on old architecture prefetch viewables.");this.Zf.Bba(v,x,y,!0);};w.prototype.R3=function(v,x,y){p.assert(this.Zf,"Headers not available on old architecture prefetch viewables.");return this.Zf.R3(v,x,! !y);};w.prototype.E_b=function(v,x){this.jD.push({stream:v,mKb:x});};w.prototype.nYb=function(){this.jD=[];};w.prototype.tYb=function(v){this.jD=this.jD.filter(function(x){return x.stream !== v;});};w.prototype.sYb=function(v){this.jD=this.jD.filter(function(x){return x !== v;});};w.prototype.ON=function(){var v;v=this;p.assert(this.Vn,"Streamables not available on old architecture prefetch viewables.");return this.Vn()?[]:this.jD.map(function(x){var y,z;y=x.stream;z=x.mKb;z=z();return {identifier:y.S + "-" + y.mediaType + "-" + y.bitrate,mediaType:y.mediaType,dh:z.dh,Ff:z.Ff,YA:z.YA,Zs:z.Zs,ds:z.ds,eva:0,dva:Infinity,IY:1,pB:1,hYa:0,groupId:"" + v.S,VD:!0,xs:!1,G2a:function(){return {result:!0};},K2a:function(){if(y.VE())return (v.tYb(y),{Hm:!0,reason:"success"});v.sYb(x);return {Hm:!1,reason:"viewableTryIssueHeaderRequest"};}};});};w.prototype.VE=function(v,x){p.assert(this.Zf,"Headers not available on old architecture prefetch viewables.");return this.Zf.VE(v,x);};w.prototype.fM=function(v,x){p.assert(this.Zf,"Headers not available on old architecture prefetch viewables.");return this.Zf.fM(v,x);};w.prototype.zwa=function(v){p.assert(this.Zf,"Headers not available on old architecture prefetch viewables.");return this.Zf.zwa(v);};w.prototype.AP=function(v,x,y){p.assert(this.Zf,"Headers not available on old architecture prefetch viewables.");return this.Zf.AP(v,x,y);};w.prototype.UKb=function(v){var x,y,z;x=v.Sa;y=v.mediaType;this.kdb(y,v.stream.Y);x=this.Rw(y,x);z=this.Vw()?this.config.v4a:0;x.bdb(n.default.$o()[y],z);this.zu.emit("onHeaderFragments",v);};w.prototype.Wva=function(v){this.ki.push(v);};w.prototype.Xya=function(v){v=this.ki.indexOf(v);p.assert(-1 !== v,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.ki.splice(v,1);};w.prototype.p$=function(v){var x;null === (x=this.BP) || void 0 === x?void 0:x.bz(v);};w.prototype.WA=function(v){this.vk?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",v):void 0 !== v.location && this.v9a(v.mediaType,v.location);};w.prototype.EI=function(v){this.vk?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",v):this.vq.Eba({timestamp:v.yf,url:v.url});};w.prototype.Ek=function(v){var x;null === (x=this.BP) || void 0 === x?void 0:x.XI(v);p.assert(this.Vn && this.YX,"Requests cannot be handled on old architecture prefetch viewables.");this.vk?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",v):this.Vn() || (this.vq.Eba({timestamp:v.yf,mediaRequest:v}),this.YX(v));};w.prototype.iY=function(v,x,y){var z;y && (null === (z=this.BP) || void 0 === z?void 0:z.XI(v));};w.prototype.jY=function(v){this.vk?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",v):(this.vq.Ns({url:v.url},v.status,v.wh,v.Aj),this.bn() || this.eh(v.pN || "unknown","NFErr_MC_StreamingFailure",v.wh,v.status,v.Aj));};w.prototype.kdb=function(v,x){this.sPa[v]=x.Dsa;};w.prototype.SKb=function(v){var x,y,z;if(!this.vn){x=v.PNb;y=v.sUb;z=v.tUb;v=v.uUb;this.console.warn("Streaming failure, is permanent: " + x + ", last error code: " + y + ", last http code: " + z + ", last native code: " + v);x?(this.console.warn(" > Permanent failure, done"),x=this.eh("Permanent failure","NFErr_MC_StreamingFailure",y,z,v)):(this.console.warn(" > We are buffering, calling it!"),x=this.eh("Temporary failure while buffering","NFErr_MC_StreamingFailure",v,z,v,!0));x || (this.console.warn(" > Resetting failures"),this.vq.naa());}};w.prototype.RKb=function(){p.assert(this.qs,"Error handling not available on old architecture prefetch viewables.");this.vn || (this.bn(),this.qs());};return w;})(t.xv);b.Cca=a;},function(t,b,a){var G,C,H,K,M,I,Q,L,J,O,N,P,S,U,Z,ja,ya,ra,Y,pa,T,R,ea,sa,la,Ka,Ua,$a,Za,cb,Va,Qa;function c(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function g(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function l(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function m(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);this.uJ=xa.config.uJ;this.vd=this.sizes=void 0;}function d(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function f(){for(var xa=new DataView(this),Da="",Na,Xa=0;Xa < this.byteLength;Xa++){Na=xa.getUint8(Xa);Da+=("00" + Na.toString(16)).slice(-2);}return Da;}function h(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function k(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function n(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function p(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function q(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function u(xa){function Da(Na,Xa,hb,wb,Eb){K.call(this,Na,Xa,hb,wb,Eb);this.TX=xa;}Da.Ra=!1;Da.prototype=new K();Da.prototype.constructor=Da;Object.defineProperties(Da.prototype,{jR:{get:function(){return this.TX;}}});Da.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.TX + "'");this.u.offset=this.startOffset + 4;this.na.W_(this.jR);this.type=this.jR;return !0;};return Da;}function r(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function w(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function v(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function x(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function y(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function z(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function A(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function B(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function E(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function D(xa,Da,Na,Xa,hb){K.call(this,xa,Da,Na,Xa,hb);}function F(xa,Da){xa.forEach(function(Na){Da[Na.Zb]=Na;});}G=a(146).assert;b=a(101);C=a(229).R;H=a(375);a(147);a(83);a(83);a(83);K=a(32).Fc;M=a(783).default;I=a(784).default;Q=a(785).default;L=a(786).default;J=a(787).default;O=a(788).default;N=a(789).default;P=a(790).default;S=a(791).default;a(230);a(175);U=a(376).fca;Z=a(376).oda;ja=a(792).default;ya=a(793).default;ra=a(84).default;Y=a(84).pca;pa=a(84).qca;T=a(84).rca;R=a(84).sca;ea=a(794).default;sa=a(795).default;la=a(84).Hda;Ka=a(84).Bda;Ua=a(84).Xeb;$a=a(796).default;Za=a(797).default;cb=a(798).default;Va=a(377).default;Qa=a(378).default;a(148);a(233);a(234);a(232);a=a(799).default;c.Ra=!0;c.prototype=new K();c.prototype.constructor=c;g.Ra=!0;g.prototype=new K();g.prototype.constructor=g;l.Ra=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.parse=function(){var xa;this.Bc();1 === this.version?(this.u.Vd(),this.u.Vd(),this.W=this.u.Da(),this.duration=this.u.Vd()):(this.u.Da(),this.u.Da(),this.W=this.u.Da(),this.duration=this.u.Da());xa=this.u.ad() & 32767;this.language=String.fromCharCode(96 + (xa >>> 10),96 + (xa >>> 5 & 31),96 + (xa & 31));return !0;};m.Ra=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.Uha=function(){this.Bc();this.u.Da();this.W=this.u.Da();0 === this.version?(this.zV=this.u.Da(),this.TV=this.u.Da()):(this.zV=this.u.Vd(),this.TV=this.u.Vd());this.L9a=this.u.ad();this.ZY=this.u.ad();};m.prototype.Hga=function(xa,Da){var Na,Xa,hb;Na=this.W;xa=xa && xa.W || Na;Xa=xa / Na;Na=this.u.fB(Da,12,!1);hb=1 === Xa?this.u.fB(Da,12,!1):H.from(Uint32Array,{length:Da},function(){var wb;wb=Math.round(this.u.Da() * Xa);this.u.offset+=8;return wb;},this);this.zia(Da,hb,Na,xa);};m.prototype.zia=function(xa,Da,Na,Xa){if(this.uJ){Xa=this.uJ * Xa / 1E3;for(var hb=0,wb=1;wb < xa;wb++){Math.abs(Da[hb] - Xa) > Math.abs(Da[hb] + Da[wb] - Xa)?(Da[hb]+=Da[wb],Na[hb]+=Na[wb]):(++hb,hb !== wb && (Da[hb]=Da[wb],Na[hb]=Na[wb]));}++hb;Da=new Uint32Array(Da.buffer.slice(0,4 * hb));Na=new Uint32Array(Na.buffer.slice(0,4 * hb));}this.sizes=Na;this.vd=Da;};m.prototype.parse=function(xa){var Da,Na,Xa,hb;this.Uha();this.va=xa.va;Da=this.W;Na=this.va && this.va.W || Da;Xa=this.ZY;hb=this.startOffset + this.length + this.TV;Da=new C(this.zV,Da).dg(Na).pc;this.Y={W:Na,vl:Da,offset:hb};this.Hga(this.va,Xa);this.Y.vd=this.vd;this.Y.sizes=this.sizes;xa.Ws=this;return !0;};d.Ra=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var xa;this.Hi=[];this.Fua=[];xa=(this.length - 11) / 2;this.u.sb();this.u.sb();this.u.sb();for(var Da=0;Da < xa;Da++){this.Hi.push(this.u.sb());this.Fua.push(this.u.sb());}return !0;};h.Ra=!1;h.prototype=new K();h.prototype.constructor=h;h.prototype.parse=function(){this.Bc();this.u.offset+=4;this.aI=this.u.offset;this.uj=this.u.Iva(16);this.uj.toString=f;return !0;};k.Ra=!1;k.prototype=new K();k.prototype.constructor=k;k.prototype.parse=function(){this.Bc();this.sg=this.u.ad();this.Jsa=this.u.fB(this.sg,void 0,!0);return !0;};n.Ra=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(xa){var Da,Na,Xa,hb,wb,Eb;Da=xa.Ws;G(Da);xa=xa.va;Na=Da.W;Da=Da.ZY;G(xa);G(Na);G(Da);this.Bc();G(2 > this.version);this.sg=this.u.ad();this.Vu=new Uint16Array(Da + 1);Xa=xa.n7(Na);hb=Xa / Na;wb=xa.dg(Xa).pc;if(0 === this.version)for((this.jv=new Uint16Array(),this.Ud=new Uint32Array(),xa=Na=0);xa <= Da;++xa){if((this.Vu[xa]=Na,xa < this.sg)){Eb=this.u.sb();if(0 !== Eb)for(Xa=0;Xa < Eb;(++Xa,++Na)){this.jv[Na]=Math.floor((this.u.Da() + 1) * hb) / wb;this.Ud[Na]=this.u.Da();}}}else if(1 === this.version)for((Xa=this.u.Eva(this.sg,10,!1),this.u.offset+=4,this.Ud=this.u.fB(this.sg,10,!1),this.u.offset-=8,this.jv=H.from(Uint16Array,{length:this.sg},function(){var Fb;Fb=Math.floor((this.u.Da() + 1) * hb) / wb;this.u.offset+=6;return Fb;},this),Na=xa=0);xa <= Da;++xa){for(;Na < Xa.length && Xa[Na] < xa;){++Na;}this.Vu[xa]=Na;}this.ri={Vu:this.Vu,jv:this.jv,Ud:this.Ud};return !0;};p.Ra=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Ra=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.ju=function(){var xa;xa=this.ci("tfhd");xa && (this.ik=xa.zU?xa.ik:this.parent.startOffset);return !0;};r.Ra=!1;r.prototype=new K();r.prototype.constructor=r;r.prototype.parse=function(){var xa,Cb;xa=this.u.offset;this.Bc();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var Da=this.u.offset,Na=this.u.sb(),Xa=this.u.sb(),hb=this.u.sb(),wb=this.u.sb(),Eb=this.u.ad(),Fb=[],Nb=0;Nb < Eb;++Nb){Fb=this.u.sb();}Nb=(Na & 240) >>> 4;Cb=(Na & 14) >>> 1;Na&=1;hb=16 === hb?1:0;Xa != wb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Xa + " and matrixCoefficients " + wb + " should be the same value!");wb=2;switch(Xa){case 1:wb=2;break;case 6:wb=1;break;case 9:wb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Xa + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.na.MB(this.version,xa);this.na.MB(Nb << 4 | wb,Da++);this.na.MB(Cb << 4 | hb << 1 | Na,Da++);Eb+=2;Fb.push(0,0);this.na.Lza(Eb,!1);Da+=2;Fb.forEach(function(Kb){this.na.MB(Kb,Da++);});}return !0;};w.Ra=!1;w.prototype=new K();w.prototype.constructor=w;w.Zb="tfhd";Object.defineProperties(w.prototype,{zU:{get:function(){return this.flags & 1;}},Gwa:{get:function(){return this.flags & 2;}},bma:{get:function(){return this.flags & 8;}},ema:{get:function(){return this.flags & 16;}},cma:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(){this.Bc();this.SJ=this.u.Da();this.ik=this.zU?this.u.Vd():void 0;this.Gwa && this.u.Da();this.Gz=this.bma?this.u.Da():void 0;this.Iz=this.ema?this.u.Da():void 0;this.Hz=this.cma?this.u.Da():void 0;return !0;};v.Ra=!1;v.prototype=new K();v.prototype.constructor=v;v.prototype.parse=function(){this.Bc();this.kz=1 === this.version?this.u.Vd():this.u.Da();return !0;};v.prototype.ya=function(xa){var Da;Da=this.startOffset + 12;this.kz+=xa;1 === this.version?this.na.Mza(this.kz,Da):this.na.jh(this.kz,Da);};x.Ra=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{dV:{get:function(){return this.flags & 1;}},uH:{get:function(){return this.flags & 4;}},nB:{get:function(){return this.flags & 256;}},oB:{get:function(){return this.flags & 512;}},sZ:{get:function(){return this.flags & 1024;}},jJ:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.Bc();this.DU=this.u.offset;this.Ob=this.u.Da();this.nk=this.dV?this.u.WI():0;this.uH && this.u.Da();this.hv=(this.nB?4:0) + (this.oB?4:0) + (this.sZ?4:0) + (this.jJ?4:0);this.Xz=this.u.offset;G(this.dV,"Expected data offset to be present in Track Run");G(this.length - (this.u.offset - this.startOffset) === this.Ob * this.hv,"Expected remaining data in box to be sample information");return !0;};x.prototype.Jt=function(xa,Da,Na){var Xa,hb,wb;Xa=this.nB?this.u.Da():xa.Gz;hb=this.oB?this.u.Da():xa.Iz;xa=this.sZ?this.u.Da():xa.Hz;wb=0 === this.version?this.jJ?this.u.Da():0:this.jJ?this.u.WI():0;return {Fwa:wb,GZb:xa,GWb:Na + wb - (void 0 !== Da?Da:wb),Ik:hb,kv:Xa};};x.prototype.ya=function(xa,Da,Na,Xa,hb,wb,Eb){var Fb,Nb,Cb,Kb;Fb=0;Nb=0;this.na.offset=this.Xz;for(Xa=0;Xa < hb;++Xa){Cb=this.Jt(Da,Kb,Nb);if(0 == Xa)Kb=Cb.Fwa;Fb+=Cb.Ik;Nb+=Cb.kv;}Xa=hb;hb=this.u.offset;Cb=this.Jt(Da,Kb,Nb);this.jr=Xa;this.Mxa=Nb;if(Eb){if((this.$q=this.nk + Fb,this.hj=0,Xa === this.Ob))return !0;}else if((this.$q=this.nk,this.hj=Fb,0 === Xa))return !0;if(0 === Xa || Xa === this.Ob)return !1;this.Pz=!0;if(Eb){this.hj+=Cb.Ik;for(Eb=Xa + 1;Eb < this.Ob;++Eb){Cb=this.Jt(Da,Kb,Nb);this.hj+=Cb.Ik;}this.na.offset=this.DU;this.Ob=Xa;this.na.jh(this.Ob);this.na.cK(wb);this.uH && (this.u.offset+=4);this.Ke(this.length - (hb - this.startOffset),hb);}else (Da=hb - this.Xz,this.na.offset=this.DU,this.Ob-=Xa,this.na.jh(this.Ob),this.nk+=Fb,this.na.cK(wb,this.nk),this.uH && (this.u.offset+=4),this.Ke(Da,this.na.offset));Na.Ke(this.hj,xa.ik + this.$q);return !0;};x.prototype.jwa=function(xa,Da,Na,Xa,hb,wb){var Fb;if(Xa){Xa=this.$q;for(var Eb=this.Ob - 1;0 <= Eb && this.Ob - Eb <= hb;--Eb){this.na.offset=this.Xz + Eb * this.hv;Fb=this.Jt(Da);if(Fb.kv != wb.duration){this.u.console.warn("Could not replace sample of duration " + Fb.kv + " with silence of duration " + wb.duration);break;}if(this.oB)(this.na.offset-=this.hv - (this.nB?4:0),this.na.jh(wb.Mk.byteLength));else if(wb.Mk.byteLength !== Fb.Ik){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Xa-=Fb.Ik;Na.gv(Fb.Ik,wb.Mk,xa.ik + Xa);}}else for((Xa=this.$q + this.hj,Eb=0);Eb < this.Ob && Eb < hb;++Eb){this.na.offset=this.Xz + (Eb + this.jr) * this.hv;Fb=this.Jt(Da);if(Fb.kv != wb.duration){this.u.console.warn("Could not replace sample of duration " + Fb.kv + " with silence of duration " + wb.duration);break;}if(this.oB)(this.na.offset-=this.hv - (this.nB?4:0),this.na.jh(wb.Mk.byteLength));else if(wb.Mk.byteLength !== Fb.Ik){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Na.gv(Fb.Ik,wb.Mk,xa.ik + Xa);Xa+=Fb.Ik;}};y.Ra=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{En:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.Bc();this.En && this.u.Ul();this.En && this.u.Da();this.dma=this.u.sb();this.Ob=this.u.Da();this.u.gB(this.Ob);return !0;};y.prototype.ya=function(xa,Da){if(xa && 0 === this.dma){xa=Da?this.Ob - xa:xa;this.na.offset=this.startOffset + 13 + (this.En?8:0);this.Ob-=xa;this.na.jh(this.Ob);this.hJ=0;if(Da)this.na.offset+=this.Ob;else {for(Da=0;Da < xa;++Da){this.hJ+=this.na.sb();}this.na.offset-=xa;}this.Ke(xa,this.u.offset);}return !0;};z.Ra=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{En:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.Bc();this.En && this.u.Ul();this.En && this.u.Da();this.sg=this.u.Da();G(1 === this.sg,"Expected a single entry in Sample Auxiliary Information Offsets box");this.nk=0 === this.version?this.u.WI():this.u.Lva();return !0;};z.prototype.ya=function(xa,Da){this.nk+=xa;this.na.offset=this.startOffset + 16 + (this.En?8:0) + (0 === this.version?0:4);this.na.cK(Da,this.nk);return !0;};A.Ra=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{mY:{get:function(){return this.flags & 1;}},uza:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(){this.Bc();this.mY && (this.u.Da(),this.u.gB(16));this.Ob=this.u.Da();return !0;};A.prototype.ya=function(xa,Da){var Na,Xa;Na=Da?this.Ob - xa:xa;this.na.offset=this.startOffset + 28 + (this.mY?20:0);this.Ob-=Na;this.na.jh(this.Ob);xa=this.na.offset;if(this.uza)for(Na=Da?this.Ob:Na;0 < Na;--Na){this.na.offset+=8;Xa=this.na.ad();this.na.offset+=6 * Xa;}else this.na.offset+=8 * (Da?this.Ob:Na);Da?this.Ke(this.length - (this.u.offset - this.startOffset),this.u.offset):this.Ke(this.u.offset - xa,xa);};B.Ra=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Bc();return !0;};B.prototype.ya=function(xa,Da,Na){Na?this.Ke(Da - xa,this.startOffset + 12 + xa):this.Ke(xa,this.startOffset + 12);return !0;};E.Ra=!1;E.prototype=Object.create(K.prototype);E.prototype.constructor=E;E.prototype.parse=function(){this.Bc();this.u.Ul();1 === this.version && this.u.Da();this.sg=this.u.Da();this.mv=[];for(var xa=0;xa < this.sg;++xa){for(var Da=this.u.Da(),Na=this.u.Da(),Xa=0;Xa < Da;++Xa){this.mv.push(Na);}}return !0;};E.prototype.ya=function(xa,Da){this.mv=Da?this.mv.slice(0,xa):this.mv.slice(xa);xa=this.mv.reduce(function(Na,Xa){0 !== Na.length && Na[Na.length - 1].group === Xa || Na.push({group:Xa,count:0});++Na[Na.length - 1].count;return Na;},[]);this.na.offset=this.startOffset + 16 + (1 === this.version?4:0);this.na.jh(xa.length);xa.forEach((function(Na){this.na.jh(Na.count);this.na.jh(Na.group);}).bind(this));this.sg > xa.length && this.Ke(8 * (this.sg - xa.length));this.sg=xa.length;return !0;};D.Ra=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;ra={Xa:{moov:g,trak:c,mdia:c,mdhd:l,minf:c,encv:ra,schi:c,sidx:m,sinf:c,stbl:c,tenc:h,mvex:c,moof:p,traf:q,tfhd:w,trun:x,sbgp:E,sdtp:B,saiz:y,saio:z,tfdt:v,mdat:D,vmaf:d},Jya:{vpcC:r,SmDm:u("smdm"),CoLL:u("coll")},x_:{schm:ea},iJ:{}};F([sa,O,N,P,la,Ka,Ua,M,L,Va,Qa,J,S,I,Q,a],ra.Xa);F([U,ja,Y,pa,T,R,Z,ya,Za,$a],ra.iJ);F([sa,ea],ra.x_);ra.Xa[b.nS]=h;ra.Xa[b.oy]=k;ra.Xa[b.ny]=n;ra.Xa[b.mS]=A;ra.iJ[b.CF]=cb;ra.Fc=K;t.exports={Pq:ra};},function(t,b){function a(c,g){var l,m,d,f,h;if("number" !== typeof c || "number" !== typeof g)c=!1;else if(c && g){l=Math;m=l.abs;f=Math.abs(c);for(d=Math.abs(g);d;){h=d;d=f % d;f=h;}c=m.call(l,c * g / f);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function c(g,l){"object" === typeof g?(this.mc=g.pc,this.ob=g.W):(this.mc=g,this.ob=l);}c.Oa=function(g){return new c(g,1E3);};c.r_=function(g,l){return Math.floor(1E3 * g / l);};c.lta=function(g,l){return Math.floor(g * l / 1E3);};c.max=function(){for(var g=[],l=0;l < arguments.length;l++){g[l]=arguments[l];}return g.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var g=[],l=0;l < arguments.length;l++){g[l]=arguments[l];}return g.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{pc:{get:function(){return this.mc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.ob;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return 1E3 * this.mc / this.ob;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ch:{get:function(){return this.mc / this.ob;},enumerable:!0,configurable:!0}});c.prototype.dg=function(g){g/=this.W;return new c(Math.floor(this.pc * g),Math.floor(this.W * g));};c.prototype.add=function(g){var l;if(this.W === g.W)return new c(this.pc + g.pc,this.W);l=a(this.W,g.W);return this.dg(l).add(g.dg(l));};c.prototype.Ka=function(g){return this.add(new c(-g.pc,g.W));};c.prototype.vI=function(g){return new c(this.pc * g,this.W);};c.prototype.Nl=function(g){var l;if(this.W === g.W)return this.pc / g.pc;l=a(this.W,g.W);return this.dg(l).Nl(g.dg(l));};c.prototype.n7=function(g){return a(this.W,g);};c.prototype.Rva=function(){return new c(this.W,this.pc);};c.prototype.compare=function(g,l){var m;if(this.W === l.W)return g(this.pc,l.pc);m=a(this.W,l.W);return g(this.dg(m).pc,l.dg(m).pc);};c.prototype.equal=function(g){return this.compare(function(l,m){return l === m;},g);};c.prototype.a$=function(g){return this.compare(function(l,m){return l !== m;},g);};c.prototype.lessThan=function(g){return this.compare(function(l,m){return l < m;},g);};c.prototype.greaterThan=function(g){return this.compare(function(l,m){return l > m;},g);};c.prototype.qO=function(g){return this.compare(function(l,m){return l <= m;},g);};c.prototype.ps=function(g){return this.compare(function(l,m){return l >= m;},g);};c.prototype.toJSON=function(){return {ticks:this.pc,timescale:this.W};};c.prototype.toString=function(){return this.pc + "/" + this.W;};c.eb=new c(0,1);c.nx=new c(1,1E3);return c;})();b.R=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.u.offset+=6;this.u.ad();return !0;};return l;})(a(32).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});t=a(2);t.__exportStar(a(148),b);t.__exportStar(a(232),b);t.__exportStar(a(233),b);t.__exportStar(a(234),b);t=a(233);c=a(234);a=a(232);b.qq={3:a.sR,4:t.mR,5:c.jda};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var m;this.u.ad();m=this.u.sb();this.aya=! !(m & 128);this.Yfa=! !(m & 64);this.Cea=! !(m & 32);this.aya && this.u.ad();this.Yfa && this.u.gB(this.u.sb());this.Cea && this.u.ad();this.IT();return !0;};l.tag=3;return l;})(a(148).hF);b.sR=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.Mta=this.u.sb();this.u.sb();this.u.ad();this.u.sb();this.maxBitrate=this.u.Da();this.Mja=this.u.Da();this.IT();return !0;};l.tag=4;return l;})(a(148).hF);b.mR=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=a(148);g=a(231);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.VY=function(){15 !== this.u.Ac(4) || this.u.Ac(24);};m.prototype.parse=function(d){if(this.Kqa(d) && 64 === d.Mta)switch((this.Cn=this.TY(),this.VY(),this.u.Ac(4),this.dna=5 === this.Cn || 29 === this.Cn?5:-1,0 < this.dna && (this.VY(),this.Cn=this.TY(),22 === this.Cn && this.u.Ac(4)),this.Cn)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.$V=this.u.Ac(1),(this.jma=this.u.Ac(1)) && this.u.Ac(14),this.u.Ac(1),this.Yz=3 === this.Cn?256:23 === this.Cn?this.$V?480:512:this.$V?960:1024);}this.skip();return !0;};m.prototype.TY=function(){var d;d=this.u.Ac(5);31 === d && (d=32 + this.u.Ac(6));return d;};m.prototype.Kqa=function(d){return d.tag === g.mR.tag;};m.tag=5;return m;})(t.hF);b.jda=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var g;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(l,m){return l + m.byteLength;},0);g=new Uint8Array(c);a.reduce(function(l,m){g.set(new Uint8Array(m),l);return l + m.byteLength;},0);return g.buffer;};},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(380);g=a(228);l=a(381);t=(function(){function m(d,f,h){this.console=d;this.stream=f;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}m.prototype.parse=function(d){var f;f=new l.nR(this.view.byteLength);this.wc=new c.eF(g.Pq.Xa,f,this.view,this.console,{II:!0});d=this.wc.parse(d);this.Xa=this.wc.Xa;return d;};return m;})();b.Dr=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.UB=void 0;t=a(43);a=a(103);c=(function(){function g(l,m){this.yC=l;this.rL=m.Za;this.Xv=m.tb;}Object.defineProperties(g.prototype,{Za:{get:function(){return void 0 !== this.rL?this.rL:this.yC.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{tb:{get:function(){return void 0 !== this.Xv?this.Xv:this.yC.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{W:{get:function(){return this.yC.W;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Gj:{get:function(){return this.yC.Gj;},enumerable:!1,configurable:!0}});g.prototype.FZ=function(l){this.Xv=l;};g.prototype.Tka=function(){this.Xv=void 0;};return g;})();b.UB=c;t.Bf(a.Tx,c);t.Bf(a.TB,c);},function(t,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.TFa=b.Bfa=void 0;a=(function(){function g(){var l;l=this;this.MT=[];this.zYb=function(m){m=l.MT.indexOf(m);0 <= m && l.MT.splice(m,1);};}Object.defineProperties(g.prototype,{fz:{get:function(){return 0 !== this.MT.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{m6a:{get:function(){return this.MT.length;},enumerable:!1,configurable:!0}});g.prototype.add=function(){var l;l=new c(this.zYb);this.MT.push(l);return l;};g.prototype.Jza=function(l){var m;m=this.add();try{return Promise.resolve(l()).then(function(d){m.release();return d;},function(d){m.release();return Promise.reject(d);});}catch(d){return (m.release(),Promise.reject(d));}};return g;})();b.Bfa=a;c=(function(){function g(l){this.trb=l;}g.prototype.release=function(){this.trb(this);};return g;})();t=(function(){function g(l,m){this.XTb=l;this.console=m;this.counter=new a();}g.prototype.$y=function(){var l,m;l=this;this.console.trace("Acquiring lease, total count",this.counter.m6a + 1);m=this.counter.add();return {release:function(){m.release();l.console.trace("Releasing lease, total count",l.counter.m6a);l.XTb(function(){return !l.counter.fz;});}};};return g;})();b.TFa=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.UQ=void 0;c=a(2);t=c.__importDefault(a(126));g=a(119);l=a(176);a=(function(m){function d(f,h,k,n,p,q,u){h=m.call(this,f,h,k,n,p,q,u) || this;l.yv.Eb(h,f,n);return h;}c.__extends(d,m);return d;})(g.n0);b.UQ=a;t.default(l.yv.prototype,a.prototype);},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.hK=void 0;c=a(2);g=c.__importDefault(a(28));l=c.__importDefault(a(6));t=(function(m){function d(f,h,k,n,p){var q;q=m.call(this,k) || this;q.W3=!1;d.Eb(q,f,h,k,n,p);return q;}c.__extends(d,m);d.Eb=function(f,h,k,n,p,q){f.df=n;f.kZ=h;f.jf=p;f.dG=h.location || k.location;f.PT=h.Pc || k.re;f.fxa=h.fxa || k.fxa;f.nba=l.default.time.ga();f.I=q;};Object.defineProperties(d.prototype,{console:{get:function(){return this.I;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{location:{get:function(){return this.dG;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{re:{get:function(){return this.PT;},enumerable:!1,configurable:!0}});d.prototype.Eb=function(f){this.Ta=f;};d.prototype.rxa=function(f,h){this.dG=f;this.PT=h;};d.prototype.dia=function(f){var h,k,n;h={type:"logdata",target:"endplay",fields:{}};k=this.mediaType === g.default.Wa.Yb?"audioedit":"videoedit";n=[this.wN === this.$?this.Mc:this.gd,this.wN === this.$?-this.duration:this.duration];f && f.HE && n.push(f.HE);h.fields[k]={type:"array",value:n};return h;};d.prototype.iza=function(){var f,h;if(this.complete)return 0;f=this.kZ;h=f.P;return f.url?this.url === f.url || (h.rxa(this,f.location,f.Pc),this.iba(f.url))?0:(this.I.warn("swapUrl failed: ",this.pN),2):(this.I.warn("updateurl, missing url for streamId:",f.Sa,"mediaRequest:",this,"stream:",f),1);};return d;})(a(82).xv);b.hK=t;},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(812),b);},function(t,b,a){var g,l,m,d,f,h,k,n,p;function c(q){return q.Ka(d.R.Oa(q.gJ));}Object.defineProperties(b,{__esModule:{value:!0}});b.Mca=b.Pu=void 0;g=a(2);t=a(18);l=g.__importDefault(a(28));m=g.__importDefault(a(6));d=a(21);f=a(4);h=a(813);k=a(119);n=a(67);p=a(25);b.Pu=c;a=(function(q){function u(r,w,v,x,y,z,A,B,E){var D,F;F=q.call(this) || this;F.I=r;F.Ug=w;F.mg=v;F.sd=x;F.J=y;F.tqb=z;F.X=A;F.ow=B;F.xh=E;F.QQa=!1;F.wOa=!1;F.Vk=F.I.error.bind(F.I);F.Tb=F.I.warn.bind(F.I);F.An=F.I.trace.bind(F.I);null === (D=x.events) || void 0 === D?void 0:D.addListener("ready",function(){F.Vv();});F.T4a=new h.CHa(F.J,F.Ug,F.mg.Rc,F.I);F.reset();return F;}g.__extends(u,q);Object.defineProperties(u.prototype,{endOfStream:{get:function(){return this.dT;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{z4:{get:function(){return this.sd?this.sd.z4:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{H5b:{get:function(){return this.om.length;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{IOb:{get:function(){return this.$j;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Dbb:{get:function(){return ! !this.sd.JEb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{zB:{get:function(){return ! !this.sd.reset;},enumerable:!1,configurable:!0}});u.prototype.reset=function(r){var w,v,x;null === (w=this.GPa) || void 0 === w?void 0:w.Jb();this.ck=!1;r || (this.om=[]);this.$j=this.cha=this.JL=void 0;this.Nga=!1;this.KL=void 0;this.dT=!1;this.vQa(d.R.eb);null === (x=(v=this.sd).reset) || void 0 === x?void 0:x.call(v);this.T4a.reset();};u.prototype.nYa=function(){this.cha=!0;};u.prototype.pause=function(){this.ck=!0;};u.prototype.resume=function(){this.ck=!1;this.Vv();};u.prototype.Oz=function(){this.wOa=!0;this.ck || this.Vv();};u.prototype.GE=function(r){this.QQa=r;};u.prototype.Foa=function(){var r;return null === (r=this.$j) || void 0 === r?void 0:r.oe;};u.prototype.Eub=function(r){var w;if(this.J.VWa){f.assert(r.Ta);w=r.Ta.ib;f.assert(void 0 !== r.gd);f.assert(void 0 !== w.Mc);if(r.gd >= w.Mc)return;}this.om.push(r);this.Vv();};u.prototype.ht=function(){this.Vv();};u.prototype.jaa=function(r){r=this.om.indexOf(r);-1 !== r && this.om.splice(r,1);};u.prototype.Y5a=function(r,w){this.J.mja && w && void 0 === this.$j && this.TNa(r,0);this.Vv();};u.prototype.d$=function(r){var w,v,x;w=this;if(!this.dT && (this.dT=!0,this.Vv(),!this.Dbb))if(r && this.ow && this.J.pCb){x=d.R.Oa(this.J.bcb);r=r.Ka(x);x=n.Zba(this.ow,r,!0);r=x.nr;x=x.promise;null === (v=this.GPa) || void 0 === v?void 0:v.Jb();this.GPa=r;x.then(function(){w.dT && w.sd.endOfStream();});}else this.sd.endOfStream();};u.prototype.Kaa=function(){return JSON.stringify(this.om);};u.prototype.vQa=function(r){var w;null !== (w=this.GQa) && void 0 !== w && w.equal(r) || (this.GQa=r,this.sd.g0b(r.pc,r.W));};u.prototype.Vv=function(){var r,w,v,x,y,z,A,B,E;w=this.J;if(this.om.length || this.$j && !this.$j.hf)if(!this.sd || !1 === this.sd.ready)this.SL("@" + m.default.time.ga() + ", append: not appending, sourceBuffer not ready");else if(!this.$j || this.$j.hf || this.$j.Cu())if(this.$j && !this.$j.hf || this.om.length)if(this.ck){v=this.$j && !this.$j.hf?this.$j:this.om[0];this.SL("@" + m.default.time.ga() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(v));}else if((!this.$j || this.$j.hf || (this.rOa(this.$j),this.$j.hf)) && this.om.length)if((v=this.om[0],v.aborted))(this.Tb("aborted MediaRequest should not appear in the toAppend list:",v.toString(),"complete:",v.complete),this.SL("@" + m.default.time.ga() + ", append: removing aborted request from toAppend: " + v.toString()),this.om.shift());else {x=v.stream;y=x.P;if(x.Zg)if(this.v0b(x,v.index))(this.cha=!1,this.TNa(x,v.index));else {z=this.X.ip(y);x=this.pMb(x);if(z || x || !this.Nga && !w.Xba)if((z=this.I_a(v),this.Ug !== l.default.Wa.Yb || !v.Mq && !v.Yw || !v.ya || w.BE || this.dT || 1 !== this.om.length || !(z > w.NX) || null !== (r=v.nJ) && void 0 !== r && r.t8)){if(w.VWa || w.iEb){r=v.Ta.ib;A=this.JCb();if(A){B=r.cl;E=v.Mc >= A;z=z > w.NX;if(A < r.Mc && E && z && !B)return;}}if(w.YUb && this.xh && (w=this.xh(y.Qb)) && !w.jU)this.pause();else {this.Nga || (this.Nga=x);this.om.shift();try{this.tnb(v);}catch(D){throw (this.I.error(D),D);}}}else this.PZb();}}};u.prototype.PZb=function(){var r;r=this;this.ow && (this.ora?this.ora.iNb || this.ora.Tm():this.ora=this.ow.bH(function(){return r.xOb();},"JIT Appender"));};u.prototype.xOb=function(){var r,w,v,x;return g.__generator(this,function(y){switch(y.label){case 0:if(1 !== this.om.length)return [3,3];r=this.om[0];if(!r.Mq && !r.Yw || (null === (x=r.nJ) || void 0 === x?0:x.t8))return [2];w=this.I_a(r);v=this.J.NX;return w > v?[4,n.Tk.aK(d.R.Oa(w - v))]:[3,2];case 1:(y.xc(),y.label=2);case 2:return (this.Vv(),[3,0]);case 3:return [2];}});};u.prototype.I_a=function(r){return r.zd - this.X.Ue();};u.prototype.v0b=function(r,w){if(this.cha || void 0 === this.JL || r.Sa !== this.JL.Sa)return !0;r=r.Zg;f.assert(r);return 1 < r.length?p.bSa(r,function(v){return v.Bd <= w;}) !== this.JL.g2a:!1;};u.prototype.pMb=function(r){if(0 === r.mediaType || !r.ll)return !0;if(void 0 === this.JL)return !1;if(!r.track.AX)return !r.ll;r=r.Zg;f.assert(r);return !1 === r[this.JL.g2a].fl;};u.prototype.JCb=function(){throw Error("not supported");};u.prototype.TNa=function(r,w){var v;if(!this.QQa || this.wOa){v=r.Zg.reduce(function(x,y,z){return y.Bd <= w?z:x;},0);if(this.sd.appendBuffer(r.Zg[v].data,{dd:!0,profile:r.profile,bitrate:r.bitrate,Sa:r.id}))(this.SL("@" + m.default.time.ga() + ", header appended, streamId: " + r.Sa),this.JL={Sa:r.Sa,g2a:v},this.Brb(r.P.Qb || 0,r.Sa,v),this.Vv());else throw (this.Tb("appendHeader error: " + this.sd.error),this.SL("@" + m.default.time.ga() + ", appendHeader error: " + this.sd.error),Error("appendHeaderError"));}};u.prototype.tnb=function(r){var w,v,x,y;x=r.tva || d.R.eb;y=r.Ta.ib.H;y.La && Infinity !== y.La && (x=new d.R(y.La,1E3).add(x).Ch,Infinity === this.mg.duration || this.mg.duration < x) && (this.mg.duration=x);x=void 0 !== r.rv?d.R.Oa(r.rv).add(r.tva):void 0;y=null === (w=this.om[0]) || void 0 === w?void 0:w.Og;w={endOfStream:this.endOfStream || !(null === (v=r.nJ) || void 0 === v || !v.t8),q9:x,UX:y};v=this.T4a.append(r,w);this.vQa(v);this.rOa(r);};u.prototype.rOa=function(r){var w,v,x,y,z;y=r.GG(this.sd,this.mg.Rc,this.$j);z=y.status;(y=y.zk) && this.emit(y.type,y);z !== k.Oj.Qf?(this.$j=r,z === k.Oj.Zx && (void 0 === this.KL || this.Ug !== l.default.Wa.Yb || r.Og.equal(this.KL) || (this.wrb(r,this.KL),this.KL=void 0),this.SL("@" + m.default.time.ga() + ", request appended, type: " + r.mediaType + ", streamId: " + r.Sa + ", pts: " + r.zd + "-" + r.oe),r.Mq || r.Yw?(this.KL=r.ye,this.Nnb(r,this.GQa || d.R.eb),null === (v=(w=this.sd).JEb) || void 0 === v?void 0:v.call(w,r.nJ),(null === (x=r.nJ) || void 0 === x?0:x.t8) && this.tqb && this.d$(r.ye)):this.KL=void 0,this.Crb(r),this.Vv())):this.snb(r);};u.prototype.snb=function(r){if(void 0 !== this.sd.error){if("done" === this.sd.error)return;this.Vk("failure to append queued mediaRequest:",null === r || void 0 === r?void 0:r.toString(),"err:",JSON.stringify(this.sd.error));throw this.sd.error;}r=Error("failure to append queued mediaRequest: " + (null === r || void 0 === r?void 0:r.toString()) + " err: " + this.sd.error);this.Vk(r.message);throw r;};u.prototype.Nnb=function(r,w){var v,x;v=r.stream.va;x=r.Sd;this.J.qm && r.stream.zf && (x=x.Ka(r.stream.zf));c(x.Ka(v)).add(c(v)).add(c(w));};u.prototype.Brb=function(r,w,v){r={type:"headerAppended",mediaType:this.Ug,manifestIndex:r,streamId:w,isIndex:v};this.emit(r.type,r);};u.prototype.Crb=function(r){r={type:"requestAppended",mediaType:this.Ug,request:r};this.emit(r.type,r);};u.prototype.SL=function(r){r={type:"managerdebugevent",message:r};this.emit(r.type,r);};u.prototype.wrb=function(r,w){var v;v=r.gd;r=r.Og.Ka(w).U;v={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[v,r]}}};this.emit(v.type,v);};return u;})(t.EventEmitter);b.Mca=a;},function(t,b,a){var g;function c(l,m){return l < m?-1:l > m?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.u1=void 0;g=a(2);t=(function(){function l(m,d){this.data=null !== m && void 0 !== m?m:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(m=(this.length >> 1) - 1;0 <= m;m--){this.Pga(m);}}Object.defineProperties(l.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});l.prototype.push=function(m){this.data.push(m);this.yia(this.length - 1);};l.prototype.pop=function(){var m,d;if(!this.empty){m=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Pga(0));return m;}};l.prototype.px=function(){return this.data[0];};l.prototype.LWb=function(m){m=this.data.indexOf(m);-1 !== m && this.yia(m);};l.prototype.map=function(m){return this.data.map(m);};l.prototype.find=function(m){return g.__read(this.data.filter(m),1)[0];};l.prototype.clear=function(){this.data=[];};l.prototype.remove=function(m){var d,f,h;d=this.data;m=d.indexOf(m);if(-1 !== m){f=d.pop();if(m < d.length){d[m]=f;h=m - 1 >> 1;d=d[h];0 <= h && 0 > this.compare(f,d)?this.yia(m):this.Pga(m);}}};l.prototype.Vub=function(){for(var m=this.data,d=1;d < m.length;d++){if(0 > this.compare(m[d],m[d - 1 >> 1]))throw Error("Audit failed at position " + d + " of " + m);}};l.prototype.contains=function(m){return 0 <= this.data.indexOf(m);};l.prototype.yia=function(m){for(var d=this.data,f=this.compare,h=d[m],k,n;0 < m;){k=m - 1 >> 1;n=d[k];if(0 <= f(h,n))break;d[m]=n;m=k;}d[m]=h;};l.prototype.Pga=function(m){for(var d=this.data,f=this.compare,h=this.length >> 1,k=d[m],n,p,q;m < h;){n=(m << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > f(d[p],q) && (n=p,q=d[p]);if(0 <= f(q,k))break;d[m]=q;m=n;}d[m]=k;};return l;})();b.u1=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.N$=void 0;c=a(16);b.N$=function(g){switch(g){case c.ta.xd:g=c.Kc.xd;break;case c.ta.Rf:g=c.Kc.Rf;break;case c.ta.Ih:case c.ta.lj:case c.ta.Ir:g=c.Kc.lj;break;default:g=c.Kc.mj;}return g;};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.KK=void 0;c=a(4);g=a(25);t=(function(){function l(m){var d;d=this;void 0 === m && (m=[]);this.items=m;m.forEach(function(f){return d.dza(f);});}Object.defineProperties(l.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{KY:{get:function(){var m;return null !== (m=this.video) && void 0 !== m?m:this.audio;},enumerable:!1,configurable:!0}});l.prototype.get=function(m){return 1 === m?this.video:this.audio;};l.prototype.every=function(m){return this.items.every(m);};l.prototype.some=function(m){return this.items.some(m);};l.prototype.forEach=function(m){this.items.forEach(m);};l.prototype.find=function(m){return g.he(this.items,m);};l.prototype.reduce=function(m,d){return this.items.reduce(m,d);};l.prototype.filter=function(m){return new l(this.items.filter(m));};l.prototype.replace=function(m,d){var f;f=this.items.indexOf(m);c.assert(-1 < f);c.assert(m.mediaType === d.mediaType);this.items[f]=d;this.dza(d);};l.prototype.z_b=function(m,d){(m=this.get(m))?this.replace(m,d):this.add(d);};l.prototype.add=function(m){this.items.push(m);this.dza(m);};l.prototype.remove=function(m){var d;d=this.items.indexOf(m);if(-1 === d)return !1;this.items.splice(d,1);this.Cxb(m.mediaType);return !0;};l.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};l.prototype.dza=function(m){1 === m.mediaType?this.video=m:this.audio=m;};l.prototype.Cxb=function(m){1 === m?this.video=void 0:this.audio=void 0;};return l;})();b.KK=t;},function(t,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.l0=void 0;c=a(2);a(4);t=a(43);g=c.__importDefault(a(28));l=c.__importDefault(a(126));m=c.__importDefault(a(6));d=a(247);f=a(102);h=a(119);k=m.default.Cr;n=a(836);a=c.__importDefault(a(837));m=(function(p){var f00;f00=2;for(;f00 !== 9;){switch(f00){case 2:c.__extends(q,p);q.create=function(u,r,w,v,x,y,z,A){var i00,B,E;i00=2;for(;i00 !== 11;){switch(i00){case 2:i00=!r.fh && v.ya && u.mediaType === g.default.Wa.Pb && k.Rc && k.Rc.pZ.BS?1:5;break;case 1:return new n.gAa(u,w,v,x,y,r,z,A);break;case 5:i00=v.AO && v.fa > v.AO?4:12;break;case 4:B=Math.ceil(v.fa / v.AO);y=v.offset;E=v.fa;x=new d.bF(u,v,x,r,z,A);i00=7;break;case 13:return x;break;case 14:var r3Z="s";r3Z+="ubreque";r3Z+="s";r3Z+="t";(B={offset:y,fa:Math.min(E,A),responseType:v.responseType},y+=B.fa,E-=B.fa,x.push(new h.n0(u,w,r3Z,B,x,r,z)));i00=6;break;case 7:A=Math.ceil(v.fa / B);i00=6;break;case 6:i00=0 < E?14:13;break;case 12:return new q(u,w,v,x,y,r,z,A);break;}}};q.prototype.toString=function(){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:var V9Z="I";V9Z+="D:";V9Z+=" ";return V9Z + this.wi() + ":" + f.gn.prototype.toString.call(this);break;}}};q.prototype.toJSON=function(){var k00;k00=2;for(;k00 !== 1;){switch(k00){case 2:return {ID:this.wi(),request:f.gn.prototype.toJSON.call(this)};break;}}};return q;break;}}function q(u,r,w,v,x,y,z,A){var g00,B;g00=2;for(;g00 !== 6;){switch(g00){case 3:void 0 === w.responseType && (w.responseType=w.ya || k.Rc && !k.Rc.pZ.BS?0:1);B=p.call(this,u,r,B,w,v,y,z) || this;f.gn.Eb(B,u,w,A);return B;break;case 2:var m9Z="ed";m9Z+="i";m9Z+="t";var h9Z="c";h9Z+="ach";h9Z+="e";var R9Z="1SIYbZrNJC";R9Z+="p";R9Z+="9";B=this;R9Z;B=[h9Z,m9Z].filter(function(E,D){var h00;h00=2;for(;h00 !== 1;){switch(h00){case 4:return [x,w.ya][D];break;h00=1;break;case 2:return [x,w.ya][D];break;}}});B=B.length?"(" + B.join(",") + ")":"";g00=3;break;}}}})(h.n0);b.l0=m;l.default(a.default,m.prototype);t.Bf(f.gn,m,!1);},function(t,b,a){var c,g,l,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.bF=void 0;c=a(2);g=a(4);t=a(43);l=a(9);m=a(25);d=a(385);f=a(102);h=a(119);a=(function(k){function n(p,q,u,r,w,v){u=k.call(this,p,q,u,r,w) || this;f.gn.Eb(u,p,q,v);u.Qc=0;u.ya || u.Lk();u.hf=!1;return u;}c.__extends(n,k);Object.defineProperties(n.prototype,{dd:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(p){this.Qc+=p.fa;k.prototype.push.call(this,p);};n.prototype.Cu=function(){var p;return !this.hf && ! !this.Ha.length && !(null === (p=m.he(this.Ha,function(q){return !q.hf;})) || void 0 === p || !p.Cu());};n.prototype.GG=function(p,q){var u,r;g.assert(!this.hf);u=h.Oj.tkb;r=l.Nq(this);this.hf=this.Ha.every(function(w){if(w.hf)return !0;if(!w.Cu())return !1;u=w.GG(p,q,void 0,r).status;return u === h.Oj.Zx;});u !== h.Oj.Zx || this.hf || (u=h.Oj.Pkb);return {status:u};};n.prototype.lYb=function(){this.Ha.forEach(function(p){p.aZ();});};n.prototype.wi=function(){return this.Ha?this.Ha[0].wi() + "-" + this.Ha[this.Ha.length - 1].wi():"empty";};n.prototype.toString=function(){return "ID: " + this.wi() + ":" + f.gn.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.wi(),request:k.prototype.toJSON.call(this)};};return n;})(d.vca);b.bF=a;t.Bf(f.gn,a);},function(t,b,a){var l,m,d,f,h,k,n,p;function c(q,u){return q.done?q:{value:{value:q.value,VQa:u}};}function g(q){q.VQa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.Yub=b.Wlb=b.p0=void 0;l=a(2);t=a(18);m=a(150);d=a(20);f=l.__importDefault(a(6));h=a(9);k=a(4);a=a(43);n=(function(){function q(u,r){this.console=u;this.eg=r;this.Zpb=this.aT=0;this.Dg=[];this.console=h.Oq(f.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{xCb:{get:function(){return this.aT;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pUa:{get:function(){var u,r,w;for(r=0;r < this.Dg.length;r++){w=this.Dg[r];if(!w.XW || (null === (u=w.item) || void 0 === u?0:u.done))break;}return r;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.eg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{uA:{get:function(){return 0 === this.eg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rwa:{get:function(){var u;for(u=0;u < this.Dg.length && this.Dg[u].gra;u++){;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var u;u=l.__read(this.Dg,1)[0];return (u=u && u.item) && !u.done && u.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tta:{get:function(){var u;for(u=0;u < this.Dg.length && this.Dg[u].XW;u++){;}return u;},enumerable:!1,configurable:!0}});q.prototype.U5=function(){var u;if(void 0 === this.eg){u=this.console;d.ia && u && u.trace("QueueIterator: enqueueEnd");this.bza(this.tta - (this.eg || 0));}};q.prototype.Bp=function(){return this.Dg.map(function(u){return u.item;});};q.prototype.sba=function(){this.Ef || (this.Ef=this.Dg.filter(function(u){return (null === u || void 0 === u?void 0:u.item) && !u.item.done;}).map(function(u){return u.item.value;}));return this.Ef;};q.prototype.bza=function(u){var r;d.ia && this.console.trace("updateCount",{tec:this.eg,Wo:u});if(void 0 !== this.eg){r=this.Dg[this.eg];r && this.Dqa(r);}this.eg=void 0 === this.eg?u:void 0 === u?u:this.eg + u;void 0 !== this.eg && (this.eg=Math.max(0,this.eg),(r=this.Dg[this.eg]) && r.$H.resolve({done:!0}));};q.prototype.enqueue=function(u){var r;d.ia && this.console.trace("Enqueue called");r=this.tta;this.O4();return this.gXb(r,{value:u,done:!1}).YVa.promise;};q.prototype.P9a=function(){d.ia && this.console.trace("resetEnd");this.bza(void 0);};q.prototype.clear=function(u){var r,w,v;d.ia && this.console.trace("clear");this.x8a();r=this.rwa;w=this.Dg.length - r;if(0 < w){v={index:r,Ita:w};d.ia && this.console.trace("Removing items",v);this.Dg.splice(r,w);this.O4();this.emit("onRemoved",v);}for(w=1;w < r;w++){this.Dqa(this.Dg[w]);}this.eg=void 0;this.bza(u?u + r:u);this.aT && (this.aT=0);};q.prototype.getIterator=function(){var u,r;u=this;r=h.Oq(f.default,this.console,"QueueIteratorInstance::");return new p(this,function(w){return u.o_a(w);},r);};q.prototype.VM=function(){var u;if(0 < this.rwa){u=l.__read(this.Dg,1)[0];if(u.XW)return (d.ia && this.console.trace("dequeue",u.id),this.x8a(1),this.emit("onDequeue",u.$H.promise));}};q.prototype.remove=function(u){var r,w,v;for(r=0;r < this.Dg.length;r++){w=this.Dg[r];v=w.item;if(v && !v.done && v.value === u){this.Dg.splice(r,1);this.eg && this.eg > r && this.eg--;this.O4();d.ia && this.console.trace("removed",{id:w.id});this.emit("onRemoved",{index:r,Ita:1});break;}}};q.prototype.x8a=function(u){var r;u=u || Math.min(this.rwa,this.tta);if(0 < u){r=this.Dg.splice(0,u);this.O4();this.eg && (this.eg-=u);d.ia && this.console.trace("pruned",u);Promise.resolve().then(function(){r.forEach(function(w){w.YVa.resolve();});});this.emit("onRemoved",{index:0,Ita:u});this.aT+=u;}};q.prototype.o_a=function(u){var r;d.ia && this.console.trace("getNextItemCalled",{offset:u});if(void 0 === this.count || 0 < this.count){this.y1a(u);r=this.Dg[u];r.ZYb.resolve();u=r.$H.promise;d.ia && this.console.trace("getNextItem:return",{id:r.id});}else (d.ia && this.console.trace("getNextItem:returnDone"),u=Promise.resolve({done:!0}));return u;};q.prototype.gXb=function(u,r){var w;w=!r.done && r.value;w=w && w.toJSON?w.toJSON():w;d.ia && this.console.trace("Providing result",{iub:u,item:w});this.y1a(u);u=this.Dg[u];w=u.$H.resolve;w(r);return u;};q.prototype.y1a=function(u){var r;if(void 0 === this.Dg[u]){r={};this.Dqa(r);this.Dg[u]=r;u === this.eg && r.$H.resolve({done:!0});d.ia && this.console.trace("Item initialized",{iub:u});}};q.prototype.Dla=function(u){var r;r={};r.promise=new Promise(function(w,v){r.resolve=function(x){w(x);u && u(x);};r.reject=v;});return r;};q.prototype.Dqa=function(u){var r;r=this;u.$H=this.Dla(function(w){u.item=w;u.XW=!0;d.ia && r.console.trace("Item resolved",{id:u.id});});u.id && u.gra && !u.XW && (u.$H.resolve({done:!0}),d.ia && this.console.warn("Overwriting requested queue item",u.id));u.YVa=this.Dla();u.ZYb=this.Dla(function(){u.gra=!0;d.ia && r.console.trace("Item requested",{id:u.id});});u.id=this.Zpb++;u.gra=!1;u.XW=!1;u.item=void 0;};q.prototype.O4=function(){this.Ef=void 0;};q.prototype.kHb=function(){var u,r,w;u=this;r=h.Oq(f.default,this.console,"QueueIteratorInstance::");w=new p(this,function(v){var x,y;if(0 === u.count)return m.AsyncIterator.spa();x=u.o_a(v);y=u.Dg[0];return x.then(function(z){return c(z,function(){w.eO || (y === u.Dg[0]?u.VM():k.assert(!u.Dg.filter(function(A){return A.$H.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},r);return w;};return q;})();b.p0=n;a.Bf(t.EventEmitter,n);p=(function(q){function u(r,w,v){var x;x=q.call(this,function(){d.ia && x.console.trace("Next item requested",{index:x.index});return x.vZb(x.index++);}) || this;x.parent=r;x.vZb=w;x.console=v;x.GL=!1;x.index=0;x.nha=!1;x.w6a=function(y){var z;z=y.index;y=y.Ita;x.index >= z && (x.index=Math.max(z,x.index - y));z=x.console;d.ia && z && z.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}l.__extends(u,q);u.prototype.Oh=function(){this.console.trace("disposed");this.GL=!0;this.fd();q.prototype.Oh.call(this);};u.prototype.next=function(){this.eO || this.dO();return q.prototype.next.call(this);};u.prototype.cancel=function(){this.fd();return q.prototype.cancel.call(this);};u.prototype.fd=function(){this.parent.UA("onRemoved",this.w6a);this.nha=!1;};u.prototype.dO=function(){this.nha || (this.nha=!0,this.parent.on("onRemoved",this.w6a));};return u;})(m.AsyncIterator);b.Wlb=p;b.Yub=function(q){return m.map(q,g);};},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(843),b);},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.iK=void 0;c=a(100);g=a(398);l=a(40);t=(function(){var l00;function m(d,f){var m00,h;m00=2;for(;m00 !== 8;){switch(m00){case 2:h=this;this.config=d;this.yO=f;this.Eja=null;m00=3;break;case 3:var J9Z="1SIYbZr";J9Z+="NJC";J9Z+="p9";this.EY=function(k,n,p){var n00;n00=2;for(;n00 !== 5;){switch(n00){case 2:k=h.Fm(k,p);return h.config.HSa?(n=c.Zma(h.config.GSa,n.lk - n.zc,1),k * (1 - n)):k * h.config.l_ / 100;break;}}};J9Z;m00=8;break;}}}l00=2;for(;l00 !== 8;){switch(l00){case 2:m.prototype.iWa=function(d,f){var o00,h;o00=2;for(;o00 !== 3;){switch(o00){case 2:h=null === this.Eja?d * (100 - this.config.l_) / 100:g.oja(d,this.Eja);f=null !== f && void 0 !== f?f:this.yO;this.config.Ora && f?(d=g.oja(d,f),d=Math.max(d,h)):d=h;return d;break;}}};m.prototype.Cab=function(d){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 2:return this.config.hEb && (d === l.ta.Ih || d === l.ta.xd);break;}}};l00=5;break;case 9:return m;break;case 5:m.prototype.Fm=function(d,f){var q00,h,k,n;q00=2;for(;q00 !== 5;){switch(q00){case 2:return this.Cab(f)?(null === (h=d.D1a) || void 0 === h?void 0:h.Ba) || (null === (k=d.Ua) || void 0 === k?void 0:k.Ba) || 0:(null === (n=d.Ua) || void 0 === n?void 0:n.Ba) || 0;break;}}};m.prototype.OP=function(d){var r00;r00=2;for(;r00 !== 1;){switch(r00){case 2:this.Eja=d;r00=1;break;}}};m.prototype.$ya=function(d){var s00;s00=2;for(;s00 !== 1;){switch(s00){case 2:this.config=d;s00=1;break;}}};l00=9;break;}}})();b.iK=t;},function(t,b,a){var m,d;function c(){}function g(f,h){this.um=f;void 0 !== h?(d(h <= f.Um,"require remain_sec <= chunk.sec but has " + h + " and " + f.Um),this.sl=h):this.sl=f.Um;}function l(f){var h;void 0 === f && (f=[]);this.Ls=[];this.Fh=this.$l=0;try{for(var k=m.__values(f),n=k.next();!n.done;n=k.next()){this.add(n.value,void 0);}}catch(q){var p;p={error:q};}finally{try{n && !n.done && (h=k.return) && h.call(k);}finally{if(p)throw p.error;}}}m=a(2);d=a(4).assert;c.prototype=Error();g.prototype.constructor=g;g.prototype.Yt=function(){return new g(this.um,this.sl);};l.prototype.constructor=l;l.prototype.add=function(f,h){f=new g(f,h);this.Ls.push(f);this.Fh+=f.sl;this.$l+=f.um.gA() * f.sl;};l.prototype.Yt=function(){var f,h,p;h=new l(void 0);try{for(var k=m.__values(this.Ls),n=k.next();!n.done;n=k.next()){p=n.value;h.add(p.um,p.sl);}}catch(u){var q;q={error:u};}finally{try{n && !n.done && (f=k.return) && f.call(k);}finally{if(q)throw q.error;}}return h;};l.prototype.wu=function(){try{return this.Ls[0];}catch(f){}};l.prototype.G7a=function(f){var h;for(d(0 <= f,"unexpected play_for_x_sec: x=" + f);0 < f;){if(void 0 === this.wu())throw new c();if(f < this.wu().sl){h=this.wu().um.gA() * f;this.wu().sl-=f;this.Fh-=f;this.$l-=h;f=0;}else (h=this.Ls.shift(),this.Fh-=h.sl,this.$l-=h.um.gA() * h.sl,f-=h.sl);}};l.prototype.BVb=function(f){var k;d(0 <= f,"unexpected play_y_kb: y=" + f);for(var h=0;0 < f;){if(void 0 === this.wu())throw new c();if(f < this.wu().sl * this.wu().um.gA()){k=f / this.wu().um.gA();this.wu().sl-=k;this.Fh-=k;this.$l-=f;h+=k;f=0;}else (k=this.Ls.shift(),this.Fh-=k.sl,this.$l-=k.um.gA() * k.sl,h+=k.sl,f-=k.um.gA() * k.sl);}return h;};t.exports={bBa:l,Vfb:c};},function(t){var h,k,n,p,q,u;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(r){if(h === setTimeout)return setTimeout(r,0);if((h === b || !h) && setTimeout)return (h=setTimeout,setTimeout(r,0));try{return h(r,0);}catch(w){try{return h.call(null,r,0);}catch(v){return h.call(this,r,0);}}}function g(r){if(k === clearTimeout)return clearTimeout(r);if((k === a || !k) && clearTimeout)return (k=clearTimeout,clearTimeout(r));try{return k(r);}catch(w){try{return k.call(null,r);}catch(v){return k.call(this,r);}}}function l(){p && q && (p=!1,q.length?n=q.concat(n):u=-1,n.length && m());}function m(){var r;if(!p){r=c(l);p=!0;for(var w=n.length;w;){q=n;for(n=[];++u < w;){q && q[u].Bx();}u=-1;w=n.length;}q=null;p=!1;g(r);}}function d(r,w){this.MGb=r;this.gz=w;}function f(){}t=t.exports={};h="function" === typeof setTimeout?setTimeout:b;k="function" === typeof clearTimeout?clearTimeout:a;n=[];p=!1;u=-1;t.mec=function(r){var w;w=Array(arguments.length - 1);if(1 < arguments.length)for(var v=1;v < arguments.length;v++){w[v - 1]=arguments[v];}n.push(new d(r,w));1 !== n.length || p || c(m);};d.prototype.Bx=function(){this.MGb.apply(null,this.gz);};t.title="browser";t.kbc=!0;t.qXa={};t.Wac=[];t.version="";t.Yfc={};t.on=f;t.addListener=f;t.once=f;t.UA=f;t.removeListener=f;t.removeAllListeners=f;t.emit=f;t.FY=f;t.f8a=f;t.listeners=function(){return [];};t.gbc=function(){throw Error("process.binding is not supported");};t.Fbc=function(){return "/";};t.ubc=function(){throw Error("process.chdir is not supported");};t.Qfc=function(){return 0;};},function(t){t.exports={MGa:{code:-1,description:"MediaCache is not supported."},w$b:{code:100,description:"Resource was not found"},Qjb:{code:101,description:"Resource Metadata was not found"},SK:{code:102,description:"Read failed",wr:function(b,a){return {code:this.code,description:b,cause:a};}},q2:{code:200,description:"Daily write limit exceeded"},jK:{code:201,description:"Capacity has been exceeded"},p2:{code:202,description:"Write failed, cause unknown",wr:function(b,a){return {code:this.code,description:b,cause:a};}},uac:{code:203,description:"Write failed, cause unknown"},Sgb:{code:300,description:"Failed to delete resource",wr:function(b,a){return {code:this.code,description:b,cause:a};}},aC:{code:900,description:"Invalid partition name"},qjb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},pCa:{code:701,description:"Failed to initialize underlying disk cache."},Pjb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(t){t.exports={k0a:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var g;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(l){c.error && c.error.code == l.error.code && c.error.description === l.error.description && (g=l);});g?g.resources.push(c.dr):a.push({error:c.error,resources:[c.dr]});});return a;}},gZa:function(b){var a;a={freeSize:b.Pn,dailyBytesRemaining:b.SM,bytesWritten:b.Zk,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.nl,itemBytes:c.y8,error:c.error};}));return a;},ux:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.EH=void 0;c=a(2).__importDefault(a(6));g=a(897);b.EH=function(){var m;if(!l){m=new c.default.Console("ASEJS","media|asejs");l=new g.Xza(m);}return l;};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.g$a=b.b_a=b.map=void 0;c=a(2);a(900);b.map=function(g){return function(l,m){void 0 === m && (m=!1);return function(d,f,h){var k,n,p,q,u,r,w,v;u=Reflect.w_a(g,d,f) || ({});w="number" === typeof h;v=m;(r=w?null !== (n=(null !== (k=u.zb) && void 0 !== k?k:{})[h]) && void 0 !== n?n:{}:v?u.return:u.Wsa) || (r={rules:[]});k=c.__assign(c.__assign(c.__assign({},r),l),{rules:c.__spread(null !== (p=r.rules) && void 0 !== p?p:[],null !== (q=l.rules) && void 0 !== q?q:[])});w?(u.zb || (u.zb={}),u.zb[h]=k):v?u.return=k:u.Wsa=k;Reflect.x5(g,u,d,f);};};};b.b_a=function(g){return function(l,m){return Reflect.w_a(g,l.constructor.prototype,m);};};b.g$a=function(){return function(){return function(g){return g;};};};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.c2=void 0;t=a(18);c=a(43);g=a(21);a=(function(){function l(m){void 0 === m && (m={xk:!1,currentTime:g.R.eb,speed:1});this.Sc={xk:function(){return "function" === typeof m.xk?m.xk():m.xk;},currentTime:function(){return "function" === typeof m.currentTime?m.currentTime():m.currentTime;},speed:function(){return "function" === typeof m.speed?m.speed():m.speed;}};}Object.defineProperties(l.prototype,{xk:{get:function(){return this.Sc.xk();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{currentTime:{get:function(){return this.Sc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{speed:{get:function(){return this.Sc.speed();},enumerable:!1,configurable:!0}});return l;})();b.c2=a;c.Bf(t.EventEmitter,a);},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.k7=b.cp=b.isEqual=b.bX=void 0;c=a(9);g=a(221);b.bX=function(l){return ! !l.S;};b.isEqual=function(l,m){var d,f;d=b.bX(l);f=b.bX(m);return d === f?d?l.S === m.S:l.ma === m.ma:!1;};b.cp=function(l){if(b.bX(l))return l.S;l=l.ma;return l.V[l.Pd].S;};b.k7=function(l,m){var d;return l.t4?l.t4 instanceof c.R?(l=g.IM(m,b.cp(l.key),l.t4),(null === l || void 0 === l?0:l.offset.greaterThan(c.R.eb))?l:{offset:c.R.eb,ha:null !== (d=null === l || void 0 === l?void 0:l.ha) && void 0 !== d?d:m.Pd}):l.t4:{offset:c.R.eb,ha:m.Pd};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uea="PboPlaydataFactorySymbol";},function(t){t.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(t,b,a){var l,m,d,f;function c(h,k,n){for(var p=n.next();!p.done;){if((k=h["@@transducer/step"](k,p.value)) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p=n.next();}return h["@@transducer/result"](k);}function g(h,k,n,p){return h["@@transducer/result"](n[p](d(h["@@transducer/step"],h),k));}l=a(984);m=a(986);d=a(987);f="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";t.exports=function(h,k,n){"function" === typeof h && (h=m(h));if(l(n)){for(var p=0,q=n.length;p < q;){if((k=h["@@transducer/step"](k,n[p])) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p+=1;}return h["@@transducer/result"](k);}if("function" === typeof n["fantasy-land/reduce"])return g(h,k,n,"fantasy-land/reduce");if(null != n[f])return c(h,k,n[f]());if("function" === typeof n.next)return c(h,k,n);if("function" === typeof n.reduce)return g(h,k,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(t){t.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,g){return a.apply(this,arguments);};case 3:return function(c,g,l){return a.apply(this,arguments);};case 4:return function(c,g,l,m){return a.apply(this,arguments);};case 5:return function(c,g,l,m,d){return a.apply(this,arguments);};case 6:return function(c,g,l,m,d,f){return a.apply(this,arguments);};case 7:return function(c,g,l,m,d,f,h){return a.apply(this,arguments);};case 8:return function(c,g,l,m,d,f,h,k){return a.apply(this,arguments);};case 9:return function(c,g,l,m,d,f,h,k,n){return a.apply(this,arguments);};case 10:return function(c,g,l,m,d,f,h,k,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lfa="PlaybackSegmentDataFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pea="ManifestParserFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cda="HLSConfigSymbol";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});t=a(267);c=a(154);b.whb=c;c=a(441);b.YK=c;c=a(445);b.Sub=c;b.b2=t.Pq.Xa.sidx;t=a(1027);b.Fr=t.Fr;t=a(275);b.Dr=t.Dr;t=a(1031);b.Er=t.Er;b.GA=t.GA;t=a(1032);b.BK=t.BK;t=a(90);b.Co=t.Co;a=a(1033);b.Vj=a.Vj;},function(t,b,a){var G,C,H,K,M,I,Q,L,J,O,N,P,S,U,Z,ja,ya,ra,Y,pa,T,R,ea,sa,la,Ka,Ua,$a,Za,cb,Va;function c(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function g(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function l(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function m(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);this.uJ=Qa.config.uJ;this.vd=this.sizes=void 0;}function d(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function f(){for(var Qa=new DataView(this),xa="",Da,Na=0;Na < this.byteLength;Na++){Da=Qa.getUint8(Na);xa+=("00" + Da.toString(16)).slice(-2);}return xa;}function h(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function k(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function n(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function p(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function q(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function u(Qa){function xa(Da,Na,Xa,hb,wb){K.call(this,Da,Na,Xa,hb,wb);this.TX=Qa;}xa.Ra=!1;xa.prototype=new K();xa.prototype.constructor=xa;Object.defineProperties(xa.prototype,{jR:{get:function(){return this.TX;}}});xa.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.TX + "'");this.u.offset=this.startOffset + 4;this.na.W_(this.jR);this.type=this.jR;return !0;};return xa;}function r(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function w(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function v(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function x(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function y(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function z(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function A(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function B(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function E(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function D(Qa,xa,Da,Na,Xa){K.call(this,Qa,xa,Da,Na,Xa);}function F(Qa,xa){Qa.forEach(function(Da){xa[Da.Zb]=Da;});}G=a(153).assert;b=a(107);C=a(268).R;H=a(441);a(154);a(90);a(90);a(90);K=a(33).Fc;M=a(1010).default;I=a(1011).default;Q=a(1012).default;L=a(1013).default;J=a(1014).default;O=a(1015).default;N=a(1016).default;P=a(1017).default;S=a(1018).default;a(269);a(185);U=a(442).fca;Z=a(442).oda;ja=a(1019).default;ya=a(1020).default;ra=a(108).default;Y=a(108).pca;pa=a(108).qca;T=a(108).rca;R=a(108).sca;ea=a(1021).default;sa=a(1022).default;la=a(108).Hda;Ka=a(108).Bda;Ua=a(1023).default;$a=a(1024).default;Za=a(1025).default;cb=a(443).default;Va=a(444).default;a(155);a(272);a(273);a(271);a=a(1026).default;c.Ra=!0;c.prototype=new K();c.prototype.constructor=c;g.Ra=!0;g.prototype=new K();g.prototype.constructor=g;l.Ra=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.parse=function(){var Qa;this.Bc();1 === this.version?(this.u.Vd(),this.u.Vd(),this.W=this.u.Da(),this.duration=this.u.Vd()):(this.u.Da(),this.u.Da(),this.W=this.u.Da(),this.duration=this.u.Da());Qa=this.u.ad() & 32767;this.language=String.fromCharCode(96 + (Qa >>> 10),96 + (Qa >>> 5 & 31),96 + (Qa & 31));return !0;};m.Ra=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.Uha=function(){this.Bc();this.u.Da();this.W=this.u.Da();0 === this.version?(this.zV=this.u.Da(),this.TV=this.u.Da()):(this.zV=this.u.Vd(),this.TV=this.u.Vd());this.L9a=this.u.ad();this.ZY=this.u.ad();};m.prototype.Hga=function(Qa,xa){var Da,Na,Xa;Da=this.W;Qa=Qa && Qa.W || Da;Na=Qa / Da;Da=this.u.fB(xa,12,!1);Xa=1 === Na?this.u.fB(xa,12,!1):H.from(Uint32Array,{length:xa},function(){var hb;hb=Math.round(this.u.Da() * Na);this.u.offset+=8;return hb;},this);this.zia(xa,Xa,Da,Qa);};m.prototype.zia=function(Qa,xa,Da,Na){if(this.uJ){Na=this.uJ * Na / 1E3;for(var Xa=0,hb=1;hb < Qa;hb++){Math.abs(xa[Xa] - Na) > Math.abs(xa[Xa] + xa[hb] - Na)?(xa[Xa]+=xa[hb],Da[Xa]+=Da[hb]):(++Xa,Xa !== hb && (xa[Xa]=xa[hb],Da[Xa]=Da[hb]));}++Xa;xa=new Uint32Array(xa.buffer.slice(0,4 * Xa));Da=new Uint32Array(Da.buffer.slice(0,4 * Xa));}this.sizes=Da;this.vd=xa;};m.prototype.parse=function(Qa){var xa,Da,Na,Xa;this.Uha();this.va=Qa.va;xa=this.W;Da=this.va && this.va.W || xa;Na=this.ZY;Xa=this.startOffset + this.length + this.TV;xa=new C(this.zV,xa).dg(Da).pc;this.Y={W:Da,vl:xa,offset:Xa};this.Hga(this.va,Na);this.Y.vd=this.vd;this.Y.sizes=this.sizes;Qa.Ws=this;return !0;};d.Ra=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var Qa;this.Hi=[];this.Fua=[];Qa=(this.length - 11) / 2;this.u.sb();this.u.sb();this.u.sb();for(var xa=0;xa < Qa;xa++){this.Hi.push(this.u.sb());this.Fua.push(this.u.sb());}return !0;};h.Ra=!1;h.prototype=new K();h.prototype.constructor=h;h.prototype.parse=function(){this.Bc();this.u.offset+=4;this.aI=this.u.offset;this.uj=this.u.Iva(16);this.uj.toString=f;return !0;};k.Ra=!1;k.prototype=new K();k.prototype.constructor=k;k.prototype.parse=function(){this.Bc();this.sg=this.u.ad();this.Jsa=this.u.fB(this.sg,void 0,!0);return !0;};n.Ra=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(Qa){var xa,Da,Na,Xa,hb,wb;xa=Qa.Ws;G(xa);Qa=Qa.va;Da=xa.W;xa=xa.ZY;G(Qa);G(Da);G(xa);this.Bc();G(2 > this.version);this.sg=this.u.ad();this.Vu=new Uint16Array(xa + 1);Na=Qa.n7(Da);Xa=Na / Da;hb=Qa.dg(Na).pc;if(0 === this.version)for((this.jv=new Uint16Array(),this.Ud=new Uint32Array(),Qa=Da=0);Qa <= xa;++Qa){if((this.Vu[Qa]=Da,Qa < this.sg)){wb=this.u.sb();if(0 !== wb)for(Na=0;Na < wb;(++Na,++Da)){this.jv[Da]=Math.floor((this.u.Da() + 1) * Xa) / hb;this.Ud[Da]=this.u.Da();}}}else if(1 === this.version)for((Na=this.u.Eva(this.sg,10,!1),this.u.offset+=4,this.Ud=this.u.fB(this.sg,10,!1),this.u.offset-=8,this.jv=H.from(Uint16Array,{length:this.sg},function(){var Eb;Eb=Math.floor((this.u.Da() + 1) * Xa) / hb;this.u.offset+=6;return Eb;},this),Da=Qa=0);Qa <= xa;++Qa){for(;Da < Na.length && Na[Da] < Qa;){++Da;}this.Vu[Qa]=Da;}this.ri={Vu:this.Vu,jv:this.jv,Ud:this.Ud};return !0;};p.Ra=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Ra=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.ju=function(){var Qa;Qa=this.ci("tfhd");Qa && (this.ik=Qa.zU?Qa.ik:this.parent.startOffset);return !0;};r.Ra=!1;r.prototype=new K();r.prototype.constructor=r;r.prototype.parse=function(){var Qa,Nb;Qa=this.u.offset;this.Bc();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var xa=this.u.offset,Da=this.u.sb(),Na=this.u.sb(),Xa=this.u.sb(),hb=this.u.sb(),wb=this.u.ad(),Eb=[],Fb=0;Fb < wb;++Fb){Eb=this.u.sb();}Fb=(Da & 240) >>> 4;Nb=(Da & 14) >>> 1;Da&=1;Xa=16 === Xa?1:0;Na != hb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Na + " and matrixCoefficients " + hb + " should be the same value!");hb=2;switch(Na){case 1:hb=2;break;case 6:hb=1;break;case 9:hb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Na + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.na.MB(this.version,Qa);this.na.MB(Fb << 4 | hb,xa++);this.na.MB(Nb << 4 | Xa << 1 | Da,xa++);wb+=2;Eb.push(0,0);this.na.Lza(wb,!1);xa+=2;Eb.forEach(function(Cb){this.na.MB(Cb,xa++);});}return !0;};w.Ra=!1;w.prototype=new K();w.prototype.constructor=w;w.Zb="tfhd";Object.defineProperties(w.prototype,{zU:{get:function(){return this.flags & 1;}},Gwa:{get:function(){return this.flags & 2;}},bma:{get:function(){return this.flags & 8;}},ema:{get:function(){return this.flags & 16;}},cma:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(){this.Bc();this.SJ=this.u.Da();this.ik=this.zU?this.u.Vd():void 0;this.Gwa && this.u.Da();this.Gz=this.bma?this.u.Da():void 0;this.Iz=this.ema?this.u.Da():void 0;this.Hz=this.cma?this.u.Da():void 0;return !0;};v.Ra=!1;v.prototype=new K();v.prototype.constructor=v;v.prototype.parse=function(){this.Bc();this.kz=1 === this.version?this.u.Vd():this.u.Da();return !0;};v.prototype.ya=function(Qa){var xa;xa=this.startOffset + 12;this.kz+=Qa;1 === this.version?this.na.Mza(this.kz,xa):this.na.jh(this.kz,xa);};x.Ra=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{dV:{get:function(){return this.flags & 1;}},uH:{get:function(){return this.flags & 4;}},nB:{get:function(){return this.flags & 256;}},oB:{get:function(){return this.flags & 512;}},sZ:{get:function(){return this.flags & 1024;}},jJ:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.Bc();this.DU=this.u.offset;this.Ob=this.u.Da();this.nk=this.dV?this.u.WI():0;this.uH && this.u.Da();this.hv=(this.nB?4:0) + (this.oB?4:0) + (this.sZ?4:0) + (this.jJ?4:0);this.Xz=this.u.offset;G(this.dV,"Expected data offset to be present in Track Run");G(this.length - (this.u.offset - this.startOffset) === this.Ob * this.hv,"Expected remaining data in box to be sample information");return !0;};x.prototype.Jt=function(Qa,xa,Da){var Na,Xa,hb;Na=this.nB?this.u.Da():Qa.Gz;Xa=this.oB?this.u.Da():Qa.Iz;Qa=this.sZ?this.u.Da():Qa.Hz;hb=0 === this.version?this.jJ?this.u.Da():0:this.jJ?this.u.WI():0;return {Fwa:hb,GZb:Qa,GWb:Da + hb - (void 0 !== xa?xa:hb),Ik:Xa,kv:Na};};x.prototype.ya=function(Qa,xa,Da,Na,Xa,hb,wb){var Eb,Fb,Nb,Cb;Eb=0;Fb=0;this.na.offset=this.Xz;for(Na=0;Na < Xa;++Na){Nb=this.Jt(xa,Cb,Fb);if(0 == Na)Cb=Nb.Fwa;Eb+=Nb.Ik;Fb+=Nb.kv;}Na=Xa;Xa=this.u.offset;Nb=this.Jt(xa,Cb,Fb);this.jr=Na;this.Mxa=Fb;if(wb){if((this.$q=this.nk + Eb,this.hj=0,Na === this.Ob))return !0;}else if((this.$q=this.nk,this.hj=Eb,0 === Na))return !0;if(0 === Na || Na === this.Ob)return !1;this.Pz=!0;if(wb){this.hj+=Nb.Ik;for(wb=Na + 1;wb < this.Ob;++wb){Nb=this.Jt(xa,Cb,Fb);this.hj+=Nb.Ik;}this.na.offset=this.DU;this.Ob=Na;this.na.jh(this.Ob);this.na.cK(hb);this.uH && (this.u.offset+=4);this.Ke(this.length - (Xa - this.startOffset),Xa);}else (xa=Xa - this.Xz,this.na.offset=this.DU,this.Ob-=Na,this.na.jh(this.Ob),this.nk+=Eb,this.na.cK(hb,this.nk),this.uH && (this.u.offset+=4),this.Ke(xa,this.na.offset));Da.Ke(this.hj,Qa.ik + this.$q);return !0;};x.prototype.jwa=function(Qa,xa,Da,Na,Xa,hb){var Eb;if(Na){Na=this.$q;for(var wb=this.Ob - 1;0 <= wb && this.Ob - wb <= Xa;--wb){this.na.offset=this.Xz + wb * this.hv;Eb=this.Jt(xa);if(Eb.kv != hb.duration){this.u.console.warn("Could not replace sample of duration " + Eb.kv + " with silence of duration " + hb.duration);break;}if(this.oB)(this.na.offset-=this.hv - (this.nB?4:0),this.na.jh(hb.Mk.byteLength));else if(hb.Mk.byteLength !== Eb.Ik){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Na-=Eb.Ik;Da.gv(Eb.Ik,hb.Mk,Qa.ik + Na);}}else for((Na=this.$q + this.hj,wb=0);wb < this.Ob && wb < Xa;++wb){this.na.offset=this.Xz + (wb + this.jr) * this.hv;Eb=this.Jt(xa);if(Eb.kv != hb.duration){this.u.console.warn("Could not replace sample of duration " + Eb.kv + " with silence of duration " + hb.duration);break;}if(this.oB)(this.na.offset-=this.hv - (this.nB?4:0),this.na.jh(hb.Mk.byteLength));else if(hb.Mk.byteLength !== Eb.Ik){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Da.gv(Eb.Ik,hb.Mk,Qa.ik + Na);Na+=Eb.Ik;}};y.Ra=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{En:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.Bc();this.En && this.u.Ul();this.En && this.u.Da();this.dma=this.u.sb();this.Ob=this.u.Da();this.u.gB(this.Ob);return !0;};y.prototype.ya=function(Qa,xa){if(Qa && 0 === this.dma){Qa=xa?this.Ob - Qa:Qa;this.na.offset=this.startOffset + 13 + (this.En?8:0);this.Ob-=Qa;this.na.jh(this.Ob);this.hJ=0;if(xa)this.na.offset+=this.Ob;else {for(xa=0;xa < Qa;++xa){this.hJ+=this.na.sb();}this.na.offset-=Qa;}this.Ke(Qa,this.u.offset);}return !0;};z.Ra=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{En:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.Bc();this.En && this.u.Ul();this.En && this.u.Da();this.sg=this.u.Da();G(1 === this.sg,"Expected a single entry in Sample Auxiliary Information Offsets box");this.nk=0 === this.version?this.u.WI():this.u.Lva();return !0;};z.prototype.ya=function(Qa,xa){this.nk+=Qa;this.na.offset=this.startOffset + 16 + (this.En?8:0) + (0 === this.version?0:4);this.na.cK(xa,this.nk);return !0;};A.Ra=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{mY:{get:function(){return this.flags & 1;}},uza:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(){this.Bc();this.mY && (this.u.Da(),this.u.gB(16));this.Ob=this.u.Da();return !0;};A.prototype.ya=function(Qa,xa){var Da,Na;Da=xa?this.Ob - Qa:Qa;this.na.offset=this.startOffset + 28 + (this.mY?20:0);this.Ob-=Da;this.na.jh(this.Ob);Qa=this.na.offset;if(this.uza)for(Da=xa?this.Ob:Da;0 < Da;--Da){this.na.offset+=8;Na=this.na.ad();this.na.offset+=6 * Na;}else this.na.offset+=8 * (xa?this.Ob:Da);xa?this.Ke(this.length - (this.u.offset - this.startOffset),this.u.offset):this.Ke(this.u.offset - Qa,Qa);};B.Ra=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Bc();return !0;};B.prototype.ya=function(Qa,xa,Da){Da?this.Ke(xa - Qa,this.startOffset + 12 + Qa):this.Ke(Qa,this.startOffset + 12);return !0;};E.Ra=!1;E.prototype=Object.create(K.prototype);E.prototype.constructor=E;E.prototype.parse=function(){this.Bc();this.u.Ul();1 === this.version && this.u.Da();this.sg=this.u.Da();this.mv=[];for(var Qa=0;Qa < this.sg;++Qa){for(var xa=this.u.Da(),Da=this.u.Da(),Na=0;Na < xa;++Na){this.mv.push(Da);}}return !0;};E.prototype.ya=function(Qa,xa){this.mv=xa?this.mv.slice(0,Qa):this.mv.slice(Qa);Qa=this.mv.reduce(function(Da,Na){0 !== Da.length && Da[Da.length - 1].group === Na || Da.push({group:Na,count:0});++Da[Da.length - 1].count;return Da;},[]);this.na.offset=this.startOffset + 16 + (1 === this.version?4:0);this.na.jh(Qa.length);Qa.forEach((function(Da){this.na.jh(Da.count);this.na.jh(Da.group);}).bind(this));this.sg > Qa.length && this.Ke(8 * (this.sg - Qa.length));this.sg=Qa.length;return !0;};D.Ra=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;ra={Xa:{moov:g,trak:c,mdia:c,mdhd:l,minf:c,encv:ra,schi:c,sidx:m,sinf:c,stbl:c,tenc:h,mvex:c,moof:p,traf:q,tfhd:w,trun:x,sbgp:E,sdtp:B,saiz:y,saio:z,tfdt:v,mdat:D,vmaf:d},Jya:{vpcC:r,SmDm:u("smdm"),CoLL:u("coll")},x_:{schm:ea},iJ:{}};F([sa,O,N,P,la,Ka,M,L,cb,Va,J,S,I,Q,a],ra.Xa);F([U,ja,Y,pa,T,R,Z,ya,$a,Ua],ra.iJ);F([sa,ea],ra.x_);ra.Xa[b.nS]=h;ra.Xa[b.oy]=k;ra.Xa[b.ny]=n;ra.Xa[b.mS]=A;ra.iJ[b.CF]=Za;ra.Fc=K;t.exports={Pq:ra};},function(t,b){function a(c,g){var l,m,d,f,h;if("number" !== typeof c || "number" !== typeof g)c=!1;else if(c && g){l=Math;m=l.abs;f=Math.abs(c);for(d=Math.abs(g);d;){h=d;d=f % d;f=h;}c=m.call(l,c * g / f);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function c(g,l){"object" === typeof g?(this.mc=g.pc,this.ob=g.W):(this.mc=g,this.ob=l);}c.Oa=function(g){return new c(g,1E3);};c.r_=function(g,l){return Math.floor(1E3 * g / l);};c.lta=function(g,l){return Math.floor(g * l / 1E3);};c.max=function(){for(var g=[],l=0;l < arguments.length;l++){g[l]=arguments[l];}return g.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var g=[],l=0;l < arguments.length;l++){g[l]=arguments[l];}return g.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{pc:{get:function(){return this.mc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.ob;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return 1E3 * this.mc / this.ob;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ch:{get:function(){return this.mc / this.ob;},enumerable:!0,configurable:!0}});c.prototype.dg=function(g){g/=this.W;return new c(Math.floor(this.pc * g),Math.floor(this.W * g));};c.prototype.add=function(g){var l;if(this.W === g.W)return new c(this.pc + g.pc,this.W);l=a(this.W,g.W);return this.dg(l).add(g.dg(l));};c.prototype.Ka=function(g){return this.add(new c(-g.pc,g.W));};c.prototype.vI=function(g){return new c(this.pc * g,this.W);};c.prototype.Nl=function(g){var l;if(this.W === g.W)return this.pc / g.pc;l=a(this.W,g.W);return this.dg(l).Nl(g.dg(l));};c.prototype.n7=function(g){return a(this.W,g);};c.prototype.Rva=function(){return new c(this.W,this.pc);};c.prototype.compare=function(g,l){var m;if(this.W === l.W)return g(this.pc,l.pc);m=a(this.W,l.W);return g(this.dg(m).pc,l.dg(m).pc);};c.prototype.equal=function(g){return this.compare(function(l,m){return l === m;},g);};c.prototype.a$=function(g){return this.compare(function(l,m){return l !== m;},g);};c.prototype.lessThan=function(g){return this.compare(function(l,m){return l < m;},g);};c.prototype.greaterThan=function(g){return this.compare(function(l,m){return l > m;},g);};c.prototype.qO=function(g){return this.compare(function(l,m){return l <= m;},g);};c.prototype.ps=function(g){return this.compare(function(l,m){return l >= m;},g);};c.prototype.toJSON=function(){return {ticks:this.pc,timescale:this.W};};c.prototype.toString=function(){return this.pc + "/" + this.W;};c.eb=new c(0,1);c.nx=new c(1,1E3);return c;})();b.R=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.u.offset+=6;this.u.ad();return !0;};return l;})(a(33).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});t=a(23);t.__exportStar(a(155),b);t.__exportStar(a(271),b);t.__exportStar(a(272),b);t.__exportStar(a(273),b);t=a(272);c=a(273);a=a(271);b.qq={3:a.sR,4:t.mR,5:c.jda};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var m;this.u.ad();m=this.u.sb();this.aya=! !(m & 128);this.Yfa=! !(m & 64);this.Cea=! !(m & 32);this.aya && this.u.ad();this.Yfa && this.u.gB(this.u.sb());this.Cea && this.u.ad();this.IT();return !0;};l.tag=3;return l;})(a(155).hF);b.sR=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.Mta=this.u.sb();this.u.sb();this.u.ad();this.u.sb();this.maxBitrate=this.u.Da();this.Mja=this.u.Da();this.IT();return !0;};l.tag=4;return l;})(a(155).hF);b.mR=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=a(155);g=a(270);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.VY=function(){15 !== this.u.Ac(4) || this.u.Ac(24);};m.prototype.parse=function(d){if(this.Kqa(d) && 64 === d.Mta)switch((this.Cn=this.TY(),this.VY(),this.u.Ac(4),this.dna=5 === this.Cn || 29 === this.Cn?5:-1,0 < this.dna && (this.VY(),this.Cn=this.TY(),22 === this.Cn && this.u.Ac(4)),this.Cn)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.$V=this.u.Ac(1),(this.jma=this.u.Ac(1)) && this.u.Ac(14),this.u.Ac(1),this.Yz=3 === this.Cn?256:23 === this.Cn?this.$V?480:512:this.$V?960:1024);}this.skip();return !0;};m.prototype.TY=function(){var d;d=this.u.Ac(5);31 === d && (d=32 + this.u.Ac(6));return d;};m.prototype.Kqa=function(d){return d.tag === g.mR.tag;};m.tag=5;return m;})(t.hF);b.jda=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var g;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(l,m){return l + m.byteLength;},0);g=new Uint8Array(c);a.reduce(function(l,m){g.set(new Uint8Array(m),l);return l + m.byteLength;},0);return g.buffer;};},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(446);g=a(267);l=a(447);t=(function(){function m(d,f,h){this.console=d;this.stream=f;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}m.prototype.parse=function(d){var f;f=new l.nR(this.view.byteLength);this.wc=new c.eF(g.Pq.Xa,f,this.view,this.console,{II:!0});d=this.wc.parse(d);this.Xa=this.wc.Xa;return d;};return m;})();b.Dr=t;},function(t,b,a){var g,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.O0=void 0;g=a(45);l=a(113);c.So=function(){var m;m={};m[g.O.wK]="avc1.4D401E";m[g.O.kF]="avc1.4D401F";m[g.O.Ada]="avc1.4D4028";m[g.O.pib]="hev1.2.6.L90.B0";m[g.O.qib]="hev1.2.6.L93.B0";m[g.O.rib]="hev1.2.6.L120.B0";m[g.O.sib]="hev1.2.6.L123.B0";m[g.O.b1]="hev1.2.6.L90.B0";m[g.O.d1]="hev1.2.6.L93.B0";m[g.O.f1]="hev1.2.6.L120.B0";m[g.O.h1]="hev1.2.6.L123.B0";m[g.O.KR]="hev1.2.6.L150.B0";m[g.O.MR]="hev1.2.6.L153.B0";m[g.O.c1]="hev1.2.6.L90.B0";m[g.O.e1]="hev1.2.6.L93.B0";m[g.O.g1]="hev1.2.6.L120.B0";m[g.O.i1]="hev1.2.6.L123.B0";m[g.O.LR]="hev1.2.6.L150.B0";m[g.O.NR]="hev1.2.6.L153.B0";m[g.O.zR]="hev1.2.6.L90.B0";m[g.O.BR]="hev1.2.6.L93.B0";m[g.O.xK]="hev1.2.6.L120.B0";m[g.O.ER]="hev1.2.6.L123.B0";m[g.O.GR]="hev1.2.6.L150.B0";m[g.O.IR]="hev1.2.6.L153.B0";m[g.O.AR]="hev1.2.6.L90.B0";m[g.O.CR]="hev1.2.6.L93.B0";m[g.O.DR]="hev1.2.6.L120.B0";m[g.O.FR]="hev1.2.6.L123.B0";m[g.O.HR]="hev1.2.6.L150.B0";m[g.O.JR]="hev1.2.6.L153.B0";m[g.O.B0]=l.Hd.A0;m[g.O.D0]=l.Hd.dda;m[g.O.kR]=l.Hd.eda;m[g.O.G0]=l.Hd.fda;m[g.O.I0]=l.Hd.gda;m[g.O.K0]=l.Hd.hda;m[g.O.C0]=l.Hd.A0;m[g.O.E0]=l.Hd.dda;m[g.O.F0]=l.Hd.eda;m[g.O.H0]=l.Hd.fda;m[g.O.J0]=l.Hd.gda;m[g.O.L0]=l.Hd.hda;m[g.O.pEa]="avc1.640016";m[g.O.vR]="avc1.64001E";m[g.O.wR]="avc1.64001F";m[g.O.zda]="avc1.640028";m[g.O.$fa]=l.Hd.IS;m[g.O.JS]=l.Hd.IS;m[g.O.KS]=l.Hd.IS;m[g.O.m2]=l.Hd.IS;m[g.O.Uza]=l.Hd.zl;m[g.O.Vza]=l.Hd.zl;m[g.O.PB]=l.Hd.zl;m[g.O.QB]=l.Hd.zl;m[g.O.f0]=l.Hd.zl;m[g.O.g0]=l.Hd.zl;m[g.O.h0]=l.Hd.zl;m[g.O.i0]=l.Hd.zl;return m;};b.O0=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ed=void 0;t=b.ed || (b.ed={});t.wvb="bitraterestriction";t.yTa="cdnsel";t.DM="chgstrm";t.debug="debug";t.fDb="dlreport";t.oH="endplay";t.Hqa="intrplay";t.fE="midplay";t.J$="playbackaborted";t.q9a="renderstrmswitch";t.wP="repos";t.EP="resumeplay";t.s_b="serversel";t.ME="startplay";t.fbb="statechanged";t.transition="transition";t.oub="asereport";t.sSa="audioswitch";t.QSa="blockedautoplay";t.config="config";t.uma="dlreq";t.ucc="ftlProbeError";t.U1b="subtitleerror";t.V1b="subtitleqoe";t.O2b="timedtextrebuffer";t.jcb="timedtextswitch";t.Uab="speedchanged";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.KFa="IsTypeSupportedProviderFactorySymbol";b.IJa="PlatformIsTypeSupportedSymbol";},function(t,b,a){var g,l,m,d,f,h;function c(k,n,p,q,u){var r;r=l.so.call(this,k,n,p,u) || this;r.cast=q;r.type=m.nj.Wca;k=c.Qmb;r.R_[m.ue.ZK]=d.Hd.xR + "; " + k;r.R_[m.ue.fy]=d.Hd.fy + "; " + k;k=d.Hd.rgb.find(function(w){return r.qz(h(c.tQ,w));});r.R_[m.ue.st]=k;return r;}Object.defineProperty(b,"__esModule",{value:!0});b.DBa=b.v0=b.Xca=void 0;g=a(45);l=a(187);m=a(26);t=a(114);d=a(113);f=a(188);h=new t.nC().format;na(c,l.so);c.xla=function(k,n){return (n=c.V9a(n))?{isTypeSupported:n}:k;};c.V9a=function(k){var n;if("undefined" !== typeof k){if(k.framework && k.framework.CastReceiverContext && k.framework.CastReceiverContext.getInstance){n=k.framework.CastReceiverContext.getInstance();if(n && n.canDisplayType)return n.canDisplayType.bind(n);}if(k.framework && k.framework.platform && k.framework.platform.canDisplayType)return k.framework.platform.canDisplayType;if(k.receiver && k.receiver.platform && k.receiver.platform.canDisplayType)return k.receiver.platform.canDisplayType;if(k.__platform__ && k.__platform__.canDisplayType)return k.__platform__.canDisplayType;}};c.prototype.Gx=function(k){var n,p;n=this.cast.__platform__.display && this.cast.__platform__.display.getHdcpVersion;if(this.config().Edb){p={};if(n)return (p[m.Rj.sF]="1.4",p[m.Rj.Hv]="2.2",n().then(function(q){return q === p[k];}));n=this.f4a(k);n=h(c.tQ,d.Hd.xR) + " hdcp=" + n;n=this.qz.bind(this,n);return Promise.resolve(n());}return Promise.resolve(!1);};c.prototype.zN=function(k){return this.R_[k];};c.prototype.KN=function(){var k;k=this;return this.config().Edb?this.Gx(m.Rj.Hv).then(function(n){return n?Promise.resolve(m.Rj.Hv):k.Gx(m.Rj.sF).then(function(p){return p?Promise.resolve(m.Rj.sF):Promise.resolve(void 0);});}).then(function(n){return k.YU(n);}):Promise.resolve(void 0);};c.prototype.So=function(){var k,n;k=l.so.prototype.So.call(this);n=c.wLb;k[g.O.Ada]=["avc1.4D4028","width=1920; height=1080; "];k[g.O.KR]=["hev1.2.6.L150.B0","width=3840; height=2160; "];k[g.O.MR]=["hev1.2.6.L153.B0","width=3840; height=2160; "];k[g.O.LR]=["hev1.2.6.L150.B0","width=3840; height=2160; "];k[g.O.NR]=["hev1.2.6.L153.B0","width=3840; height=2160; "];k[g.O.zR]=["hev1.2.6.L90.B0",n];k[g.O.BR]=["hev1.2.6.L93.B0",n];k[g.O.xK]=["hev1.2.6.L120.B0",n];k[g.O.ER]=["hev1.2.6.L123.B0",n];k[g.O.GR]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[g.O.IR]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];k[g.O.AR]=["hev1.2.6.L90.B0",n];k[g.O.CR]=["hev1.2.6.L93.B0",n];k[g.O.DR]=["hev1.2.6.L120.B0",n];k[g.O.FR]=["hev1.2.6.L123.B0",n];k[g.O.HR]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[g.O.JR]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];return k;};c.prototype.mZa=function(){return [f.$e.a0,f.$e.xEa,f.$e.wK,f.$e.kF];};c.prototype.Cqa=function(){l.so.prototype.Cqa.call(this);!c.V9a(this.cast) && this.io.push(f.$e.fy);};b.Xca=c;c.wLb="eotf=smpte2084";c.Qmb="width=3840; height=2160; ";b.v0="CastSDKSymbol";b.DBa="CastEmeSymbol";},function(t,b,a){var g,l,m;function c(){this.type=g.zv.my;}Object.defineProperty(b,"__esModule",{value:!0});b.cC=void 0;g=a(26);t=a(114);l=a(112);m=new t.nC();c.xla=function(){return {isTypeSupported:function(d){var f;try{if(-1 == d.toLowerCase().indexOf("codec"))return nb.MSMediaKeys.isTypeSupported(d,"video/mp4");f=d.split("|");return 1 === f.length?nb.MSMediaKeys.isTypeSupported(l.Lb.ry,d):"probably" === c.nya(f[0],f[1]);}catch(h){return !1;}}};};c.d5=function(d,f,h){f=m.format(c.tQ,f);if(0 === h.length)return f;h=m.format('features="{0}"',h.join());return m.format("{0}|{1}{2}",d,f,h);};c.nya=function(d,f){var h;try{h=nb.MSMediaKeys.isTypeSupportedWithFeatures?nb.MSMediaKeys.isTypeSupportedWithFeatures(d,f):"";}catch(k){h="exception";}return h;};b.cC=c;c.tQ='video/mp4;codecs="{0},mp4a";';},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wda=b.XB=void 0;t=b.XB || (b.XB={});t.Vmb="unknown";t.Wza="absent";t.RKa="present";t.Error="error";b.wda="ExternalDisplayLogHelperSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.l2="TransportConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kQb=b.xO=b.iQb=void 0;b.iQb=function(a){return a;};b.xO=function(a){return a;};b.kQb=function(a){return Object.assign({},a);};},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v;function c(x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,O,N,P,S){this.j=x;this.trackId=y;this.tA=z;this.ec=A;this.yi=B;this.Lg=E;this.Dc=D;this.Hw=F;this.vma=G;this.Uf=C;this.displayName=H;this.yl=K;this.EJ=M;this.variant=I;this.VI=Q;this.profile=L;this.Lu=J;this.PO=O;this.xGb=N;this.p8=P;this.yu=S;this.type=d.Li.pba;this.jt=void 0;this.wk=!(!L || L != h.El.LK);this.Wh={bcp47:C,trackId:y,downloadableId:D,isImageBased:this.wk};this.log=(0,f.Sh)(x,"TimedTextTrack");this.state=v.B1;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.QF=void 0;g=a(1);l=a(74);m=a(14);d=a(91);f=a(8);h=a(45);k=a(22);n=a(17);p=a(1088);q=a(15);u=a(3);r=a(1089);w=a(1092);(function(x){x[x.B1=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.rF=2]="LOADED";x[x.WR=3]="LOAD_FAILED";})(v || (v={}));c.prototype.U7=function(){var x;x=this;if(this.j.state.value === q.Sb.CLOSED || this.j.state.value === q.Sb.CLOSING)return Promise.reject({aa:!1});if(this.wk)return this.QMb();this.yWa || (this.yWa=this.AWa());return this.yWa.then(function(y){return x.RMb(y);});};c.prototype.getState=function(){return this.state;};c.prototype.Jq=function(){return this.PO;};c.prototype.jp=function(){return this.xGb;};c.prototype.ms=function(x,y){var z;try{return null === (z=this.iya) || void 0 === z?void 0:z.ms(x,y);}catch(A){this.log.error("error in getSubtitlesCount",A,{start:x,end:y,isImageBased:this.wk});}};c.prototype.jKb=function(){var x,y,z;if(!(0,n.$c)(this.$))try{z=null === (y=null === (x=this.iya) || void 0 === x?void 0:x.yH(0)) || void 0 === y?void 0:y[0];this.$=null === z || void 0 === z?void 0:z.displayTime;}catch(A){this.log.error("exception in getStartPts",A);}return this.$;};c.prototype.Raa=function(x){return this.j.state.value === q.Sb.CLOSING || this.j.state.value === q.Sb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.kc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.nVa=function(x){var y,z,A;y=this;z=(0,f.Sh)(this.j,"TimedTextTrack");z.warn=z.trace.bind(z);z.info=z.debug.bind(z);z=(0,p.oVa)(this.j,z,this.request,this);A=new (m.config.N4b && !this.wk?r.cGa:w.default)(z,x);A.on("ready",function(){y.iya=A;});return A;};c.prototype.QMb=function(){var x,y,z,A,B,E,D;x=this;if(!this.F1a){this.state=v.LOADING;y={profile:"nflx-cmisc",url:"",ASa:!1,Zsa:this.Lu.offset,c5a:this.Lu.length,Fd:this.j.mediaTime.value || 0,bufferSize:m.config.nMb,Caa:{V:this.j.eW()}};z=(this.vma || []).filter(function(F){return (F.id in x.Hw);}).sort(function(F,G){return F.ec - G.ec;}).map(function(F){return F.id;});A=0;B={};E=!0;D=function(F,G){var C;if((0,n.$c)(F)){if(E || x.Raa(x.su(x.cu,"","image"))){E=!1;x.Lu.url=x.Hw[x.cu];y.url=x.Lu.url;B[F]=(B[F] || 0) + 1;C=x.nVa(y);C.on("ready",function(){G({aa:!0,track:x});});C.on("error",function(H){var K;H=Object.assign({aa:!1},H);K=x.su(x.cu,x.Lu.url,"image");K.details={midxoffset:x.Lu.offset,midxsize:x.Lu.length};K.errorstring=H.errorString;B[F] <= m.config.icb?(x.o6(K,!0,"retry with current cdn"),x.Nja(B[F]).then(function(M){x.log.trace("retry timed text download after " + M,x.su(x.cu,"","image"));D(x.cu,G);})):(x.cu=z[A++],x.cu?(x.o6(K,!0,"retry with next cdn"),x.Nja(B[F]).then(function(M){x.log.trace("retry timed text download after " + M,x.su(x.cu,"","image"));D(x.cu,G);})):(x.o6(K,!1,"all cdns tried"),G({aa:!1,fSb:"all cdns failed for image subs",track:x})));});C.start();}else G({aa:!1,aborted:!0});}else (G({aa:!1,fSb:"cdnId is not defined for image subs downloadUrl"}),x.o6(x.su(0,"","image"),!1,"cdnId is undefined"));};this.cu=z[A++];this.F1a=new Promise(function(F,G){D(x.cu,function(C){C.aa?(x.log.info("Loaded image subtitle manager"),x.state=v.rF,F(C)):(x.log.error("Unable to load image subtitles manager",C),x.state=v.WR,G(C));});});}return this.F1a;};c.prototype.RMb=function(x){var y,z;y=this;z=this.j.JB;(0,k.jb)(z);return new Promise(function(A,B){var E;E=y.nVa({profile:y.profile,xml:x,vh:m.config.Aya,preferences:m.config.oba,Fd:y.j.mediaTime.value || 0,ASa:!1,videoSize:z});E.on("ready",function(){A(E);}).on("error",function(D){B({aa:!1,error:D});}).start();}).then(function(){y.state=v.rF;return {aa:!0,track:y};}).catch(function(A){y.log.error("Unable to parse timed text track",(0,u.Fv)(A),y.Wh,{url:A.url});y.state=v.WR;A.reason="parseerror";A.track=y;throw A;});};c.prototype.o6=function(x,y,z){x=Object.assign({},x,{agc:y,status:z});this.j.fireEvent(q.ea.gQ,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,y){var z;z=this;this.log.trace("Downloading",x);x={url:x.url,offset:x.offset,length:x.size,jt:this.jt,responseType:l.LW,headers:{},uc:this.ioa(this.cu)};this.j.L7.download(x,function(A){z.log.trace("imgsub: request status " + A.aa);A.aa?y(null,new Uint8Array(A.content)):y({sa:A.sa,wf:A.wf});});};c.prototype.su=function(x,y,z){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.Dc,subtitletype:z,bcp47:this.Uf,trackId:this.trackId,cdnCount:Object.keys(this.Hw).length,isImageBased:this.wk};};c.prototype.ioa=function(x){return (this.vma || []).find(function(y){return y.id === x;});};c.prototype.AWa=function(){var A,B;function x(E){return g.__awaiter(A,void 0,void 0,function F(){var G,C,H;C=this;return Ja(F,function(K){G=z();H=C.su(E.uc.id,E.url,"text");H.errorstring=E.reason;return G && C.Raa(H)?K.return(C.Nja(B[G.id]).then(y)):K.return(Promise.reject({aa:!1,aborted:!0}));});});}function y(){return g.__awaiter(A,void 0,void 0,function D(){var F,G,C;G=this;return Ja(D,function(H){C=(F=z()) && G.Hw[F.id];return F && C?(B[F.id]=(B[F.id] || 0) + 1,H.return(G.oDb(C,F).catch(x))):H.return(Promise.reject({}));});});}function z(){return (A.vma || []).find(function(E){return ! !((B[E.id] || 0) < m.config.icb && A.Hw[E.id]);});}A=this;this.state=v.LOADING;B={};return y();};c.prototype.Nja=function(x){return new Promise(function(y){var z;z=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(z);},z);});};c.prototype.oDb=function(x,y){var z;z=this;this.log.trace("Downloading",y && ({uc:y.id}),this.su(y.id,x,"text"));return new Promise(function(A,B){var E;E={responseType:l.eqa,url:x,track:z,uc:y,kD:"tt-" + z.Uf};z.j.L7.download(E,function(D){D.aa?A(D.content):(D.reason="downloadfailed",D.url=E.url,D.track=z,D.uc=y,B(D));});});};b.QF=c;c.lC=v;},function(t,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Oza=void 0;c=a(8);g=a(3);l=a(481);m=a(482);d=a(63);b.Oza=function(f,h){var k,n;try{n=(0,l.ueb)(f);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.Wf)(function(){if(n && n.documentElement)try{k=(0,m.veb)(n);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.Wf)(function(){k?h({aa:!0,object:k}):h({aa:!1,sa:g.M.XDa});});});};},function(t){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},apa:function(){return this.buffer.length - this.position;},hB:function(){return this.buffer[this.position++];},Zh:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Yq:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},Hva:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Bh:function(){return this.Yq(2);},Zq:function(){return this.Yq(4);},oP:function(){return this.Yq(8);},yx:function(a){for(var c,g="";a--;){c=this.hB();g+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return g;},Kva:function(a){for(var c=0,g=0;g < a;g++){c+=this.hB() << (g << 3);}return c;},nP:function(){return this.Kva(4);},Y_:function(a){this.IQ(a,2);},OB:function(a){this.IQ(a,4);},aca:function(a){this.buffer[this.position++]=a;},IQ:function(a,c){this.position+=c;for(var g=1;g <= c;g++){this.buffer[this.position - g]=a & 255;a=Math.floor(a / 256);}},NB:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},X_:function(a){for(var c=a.length,g=0;g < c;g++){this.buffer[this.position++]=a[g];}},HQ:function(a,c){this.X_(a.Zh(c));}};t.exports=b;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wGa="LogMessageRulerConfigSymbol";b.yGa="LogMessageRulerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vea="MilestonesEventBuilderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.C1="NetworkMonitorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sea="PboLicenseResponseTransformerSymbol";},function(t,b,a){var d,f,h,k,n,p;function c(q,u,r,w){this.za=q;this.AW=u;this.Ea=r;this.profile=w;}function g(){}function l(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.rJa=b.L1=void 0;t=a(1);d=a(0);f=a(38);h=a(5);k=a(13);n=a(19);a=a(95);m.prototype.encode=function(q){return {downloadableId:q.Dc,duration:q.duration};};m.prototype.decode=function(q){return {Dc:q.downloadableId,duration:q.duration};};l.prototype.encode=function(q){return {total:q.total,totalContentTime:q.OJ,audio:q.audio.map(new m().encode),video:q.video.map(new m().encode),text:q.text.map(new m().encode)};};l.prototype.decode=function(q){var u;return {total:q.total,OJ:null !== (u=q.totalContentTime) && void 0 !== u?u:q.total,audio:q.audio.map(new m().decode),video:q.video.map(new m().decode),text:q.text.map(new m().decode)};};g.prototype.encode=function(q){return {type:q.type,href:q.href,xid:q.ca,movieId:q.K,position:q.position,clientTime:q.NU,sessionStartTime:q.CZ,videoTrackId:q.DQ,audioTrackId:q.Dn,timedTextTrackId:q.oQ,mediaId:q.BO,playTimes:new l().encode(q.wY),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.Vm,mdxControllerEsn:q.Ksa,profileId:q.profileId};};g.prototype.decode=function(q){return {type:q.type,href:q.href,ca:q.xid,K:q.movieId,position:q.position,NU:q.clientTime,CZ:q.sessionStartTime,DQ:q.videoTrackId,Dn:q.audioTrackId,oQ:q.timedTextTrackId,BO:q.mediaId,wY:new l().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,Vm:q.sessionParams,Ksa:q.mdxControllerEsn,profileId:q.profileId};};b.L1=g;c.prototype.create=function(q){var u,r,w,v,x;x=Object.assign(Object.assign({},null !== (u=q.bb.Vm) && void 0 !== u?u:{}),{uiVersion:this.AW().sq.Lx});return {href:q.oa && q.oa.yk?q.oa.yk.nW("events").href:"",type:"online",ca:q.ca.toString(),K:q.K,position:Math.floor(q.k5 || 0),NU:this.za.AZ.da(h.la),CZ:q.UH?q.UH.da(h.la):-1,DQ:null === (r=q.Ag.value) || void 0 === r?void 0:r.trackId,Dn:null === (w=q.tc.value) || void 0 === w?void 0:w.trackId,oQ:null === (v=q.kc.value) || void 0 === v?void 0:v.trackId,BO:void 0,wY:this.CJb(q),trackId:void 0 !== q.Nj?q.Nj.toString():"",sessionId:this.AW().sessionId || this.Ea.id,appId:this.AW().appId || this.Ea.id,Vm:x,profileId:this.profile};};c.prototype.GAb=function(q,u){return Object.assign({},this.create(q),{Ksa:u && u.Z4});};c.prototype.load=function(q){return new g().decode(q);};c.prototype.Woa=function(q){return q.map(function(u){return {Dc:u.downloadableId,duration:u.duration};});};c.prototype.CJb=function(q){return (q=q.Tl)?(q=q.BJb(),{total:q.total,OJ:q.totalContentTime,audio:this.Woa(q.audio),video:this.Woa(q.video),text:this.Woa(q.timedtext)}):{total:0,OJ:0,video:[],audio:[],text:[]};};p=c;p=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(f.gi)),t.__param(1,(0,d.l)(k.bd)),t.__param(2,(0,d.l)(n.md)),t.__param(3,(0,d.l)(a.xS))],p);b.rJa=p;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xJa="PboPlaydataValidatorSymbol";b.oJa="PboPlaydataArrayValidatorSymbol";b.qJa="PboPlaydataCollectionValidatorSymbol";},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.w0=void 0;g=a(11);c.ula=function(l){var m;if(g.Be.queryCommandSupported && g.Be.queryCommandSupported("copy")){m=g.Be.createElement("textarea");m.textContent=l;m.style.position="fixed";g.Be.body.appendChild(m);m.select();try{g.Be.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{g.Be.body.removeChild(m);}}};b.w0=c;},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.dea=void 0;b.dea=a;a.Ugb="display";a.kgb="console";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.iX=void 0;b.iX=function(a,c,g){var l;if(g.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");l=g.get;g.get=function(){var m,d;m=l.apply(this,arguments);d={enumerable:g.enumerable,value:m};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return m;};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qfa=b.RK=void 0;t=b.RK || (b.RK={});t.v2b="taskstart";t.t2b="taskabort";t.u2b="taskfail";t.w2b="tasksuccess";b.qfa="PreparerTaskSchedulerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uca="CacheManagerFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qAa="AsePrefetcherAdapterSymbol";b.rAa="AsePrefetcherProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vea="PboPublisherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zca=b.de=void 0;t=b.de || (b.de={});t[t.yp=0]="startPlayback";t[t.uq=1]="endPlayback";t[t.po=2]="underflow";b.zca="AseIntegrationFactorySymbol";},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.AJ=void 0;c=a(12);g=a(14);l=a(62);m=a(51);d=a(3);f=a(22);h=a(8);k=a(24);n=a(11);p=a(302);q=a(17);t=a(31);h.pa.get(t.mh).register(d.N.kFa,function(u){var v,x,y;function r(){var z;r=c.Bl;z=setInterval(w,g.config.OPb);l.we.addListener(l.Ql,function(A){A && A.isPopStateEvent?v.trace("popstate event, Lock timers can stay"):((0,k.ve)(x,function(B,E){localStorage.removeItem(E.As);}),clearInterval(z));},c.HF);}function w(){var z;z=(0,m.P4)();(0,k.ve)(x,function(A,B){!1;A=localStorage.getItem(B.As);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:y,count:1};localStorage.setItem(B.As,JSON.stringify(A));});}(0,f.jb)(p.storage);v=(0,h.aj)("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.AJ={$y:function(z,A,B){var D,F,G,C,H,K,M,I,Q,L;function E(J){localStorage.setItem(G,JSON.stringify(J));J={As:G};x[G]=J;v.trace("Lock acquired",{Name:J.As});r();A({aa:!0,S8:J});}D=this;B=void 0 === B?!1:B;if(localStorage){F=(0,m.P4)();G="lock-" + z;C={updated:F,sessionId:y,count:1};try{if((G in localStorage)){H=localStorage.getItem(G);K=0;M=JSON.parse(H);(0,q.vA)(M.updated) && (K=M.updated);I=(0,n.xF)(F - K) * c.cm;Q=y === M.sessionId;if(I < g.config.D3a){if(Q)(M.count+=1,v.debug("Incremented lock count for existing playbackSession",{id:y,count:M.count}),M.updated=F,E(M));else if(B){L=g.config.D3a - I + c.cm;v.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:M.count,Epoch:F,LockEpoch:K,waitTimeoutMs:L});nb.setTimeout(function(){return D.$y(z,A,!1);},L);}else A({aa:!1});}else (v.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:K}),E(C));}else E(C);}catch(J){v.error("Error acquiring Lock",{errorSubCode:d.M.Qk,errorDetails:(0,k.wd)(J)});A({aa:!0});}}else (n.Rra?v.error("Local storage access exception",{errorSubCode:d.M.vmb,errorDetails:(0,k.wd)(n.Rra)}):v.error("No localstorage",{errorSubCode:d.M.wmb}),A({aa:!0}));},release:function(z,A){var B,E;(0,f.jb)(x[z.As] == z);if(localStorage){try{B=localStorage.getItem(z.As);E=JSON.parse(B);1 < E.count?(--E.count,localStorage.setItem(z.As,JSON.stringify(E)),v.trace("Lock count decremented",{Name:z.As,count:E.count})):(localStorage.removeItem(z.As),delete x[z.As],v.trace("Lock released",{Name:z.As}));}catch(D){v.error("Unable to release Lock",{Name:z.As},D);}A && A(c.af);}}};g.config.S5?b.AJ.$y("session",function(z){b.AJ.K$a=z;u(c.af);}):u(c.af);});},function(t,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(14);g=a(12);l=a(533);t=a(3);m=a(534);d=a(536);f=a(8);a=a(31);b.storage=b.storage || void 0;f.pa.get(a.mh).register(t.N.jFa,function(h){var k;switch(c.config.u1b){case "idb":k=m.ibb;break;case "none":k=l.kbb;break;case "ls":k=d.jbb;}k(function(n){n.aa?(b.storage=n.storage,h(g.af)):h(n);});});},function(t,b,a){var l,m,d,f,h,k,n,p,q,u,r,w;function c(v,x){var z;function y(){function A(B,E){return E.xe && 0 !== E.xe.length && E.xe[0].gI?(0,l.jB)(v,E).then(function(){z.trace("Successfully released license for session",JSON.stringify(E));return B?B.dZ(E):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({cc:E,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.dZ(E):Promise.resolve());}g(z).then(function(B){var E;E=B.L5.filter(function(D){return !1 === D.active;}).map(function(D){return A(B,D);});Promise.all(E).then(function(){z.info("release drm session completed for " + E.length + " entries");x(m.af);}).catch(function(D){D=D || ({});D.DrmCacheSize=E.length;z.error("Unable to release one or more DRM session data",D);x(m.af);});}).catch(function(B){z.error("Unable to load DRM session data",B);x(m.af);});}z=(0,k.aj)("PlayDataManager");x=x || m.Bl;d.config.Dp?x(m.af):y();}function g(v){var x;if(!b.yma){x=k.pa.get(n.Vca);b.yma=new Promise(function(y,z){x.K8a().then(function(){y(x);}).catch(function(A){v.error("Unable to load DRM data for license release",A);z(A);});});}return b.yma;}Object.defineProperty(b,"__esModule",{value:!0});b.KJa=b.JJa=b.yma=void 0;l=a(304);m=a(12);d=a(14);f=a(62);h=a(35);k=a(8);t=a(3);n=a(207);p=a(156);q=a(15);u=a(50);r=a(31);w=a(203);b.JJa=function(v){var z,A,B,E,D,F;function x(){A || (v.Ed("pdsb"),A=k.pa.get(p.rS)().then(function(G){E=G;v.Ed("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);v.Ed("pdse");throw G;}));return A;}function y(){B=!0;E && E.close();f.we.removeListener(f.Ql,y);}z=(0,k.Sh)(v,"PlayDataManager");B=!1;D=k.pa.get(h.hC);if(!D.tK || !D.rK){F=k.pa.get(w.afa)();D.tK=F.cc;D.rK=F.request;}v.Ed("pdctor");v.addEventListener(q.ea.pg,function(){f.we.removeListener(f.Ql,y);});v.addEventListener(q.ea.oX,function(){var G;if(!d.config.Dp && v.uf){G=v.Y4.XUa();g(z).then(function(C){return C.aRa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});v.addEventListener(q.ea.pg,function(){var G;if(!B){v.E5b();G=[(function(){return d.config.Dp || !v.uf?Promise.resolve():new Promise(function(C){var H;z.info("Sending the expedited playdata");H=v.Y4.XUa();v.uf.BXa(H).then(function(){z.info("Sent the expedited playdata");return g(z);}).then(function(K){return K?K.dZ(H):Promise.resolve();}).then(function(){C(void 0);}).catch(function(K){z.error("Unable to send the expedited playdata",K);C();});});})(),(function(){return x().then(function(C){return C.WZ(v.ja);}).then(function(){z.info("Sent the playdata");}).catch(function(C){z.error("Unable to send the playdata",C);});})(),(function(){return new Promise(function(C){k.pa.get(u.kn).flush(!1).catch(function(){z.error("Unable to send logblob");C(void 0);}).then(function(){C(void 0);});});})()];Promise.all(G).then(function(){v.c$();}).catch(function(){v.c$();});}});f.we.addListener(f.Ql,y);return {j_b:function(G){v.Ed("pdpb");d.config.Haa || x().then(function(C){return C.send(v.K);}).then(function(){d.config.Dp?(v.Ed("pdpc"),G(m.af)):c(v,function(){v.Ed("pdpc");G(m.af);});}).catch(function(){v.Ed("pdpe");G(m.af);});}};};b.KJa=function(){return new Promise(function(v){c({},function(x){v(x);});});};k.pa.get(r.mh).register(t.N.$B,function(v){v(m.af);});},function(t,b,a){var l,m,d,f,h,k,n,p;function c(q){this.j=q;this.p3a=!1;this.log=(0,m.Sh)(this.j,"Playback");this.sO=m.pa.get(n.XR);(0,d.jb)(l.config);l.config.Dp || (this.zDb=m.pa.get(f.XCa));}function g(q,u){var w;function r(v){return v && 0 < v.length && v[0].gI;}w=m.pa.get(n.XR);return q.ca && r(q.xe)?w.release({ca:q.ca,xe:q.xe}).then(function(){}):u.ca && r(u.xe)?w.release(u).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.jB=b.bCa=void 0;l=a(14);m=a(8);d=a(22);f=a(321);h=a(64);k=a(17);n=a(192);p=a(15);c.prototype.DH=function(q){var u;u=this;return new Promise(function(r,w){var v,x,y;v=h.vo.OUa(q.$f);x=q.jk.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,m.UC)(z.data)};});y=u.j.EJb(q.jk[0].sessionId);v={Ai:y.Ai,$f:k.is.Bn(q.$f)?q.$f:v,K5:[y.Am],jk:x,ca:y.ca,Xo:q.Xo,yk:y.oa.yk};u.j.JM && u.j.JM.Z4 && (v.CX=u.j.JM.Z4);u.sO.$y(v).then(function(z){u.j.xe=z.xe;r(z);u.cGb(y);}).catch(w);});};c.prototype.release=function(q){return g(this.j,q);};c.prototype.XUa=function(){var q;q=this.zDb.create();q.xe=this.j.xe;q.ca=this.j.ca;q.K=this.j.K;return q;};c.prototype.cGb=function(q){this.p3a || (this.p3a=!0,this.j.fireEvent(p.ea.oX,{K:q.K}));};b.bCa=c;b.jB=g;},function(t,b,a){var l,m,d,f,h,k,n,p,q,u,r,w;function c(v){v=Error.call(this,v);this.message=v.message;("stack" in v) && (this.stack=v.stack);this.name="CodecSwitchingError";}function g(v,x,y,z,A){var B,E;B=this;this.j=v;this.type=x;this.UNa=z;this.log=A;this.b3=new f.ic(!1);this.ZF={data:[],state:"",operation:""};this.mimeType=this.EXa((this.type === l.Ub.Wa.Pb?this.j.Ag.value:this.j.tc.value).streams);this.Ft=new h.Rk();this.Cha={Type:this.type};if(d.config.ZD){E=!0;this.Bna=new f.ic(!1);}this.log.trace("Adding source buffer",this.Cha,{TypeId:this.mimeType});this.sd=y.addSourceBuffer(this.mimeType);this.sd.addEventListener("updatestart",function(){!1;B.ZF.state="updatestart";});this.sd.addEventListener("update",function(){!1;B.ZF.state="update";});this.sd.addEventListener("updateend",function(){var D;!1;B.b3.set(!1);B.bOa && B.bOa();B.ZF.state="updateend";D=0;try{D=B.sd.buffered.length;}catch(F){}E && D && (E=!1,B.Bna.set(!0),!1);});this.sd.addEventListener("error",function(D){var F;!1;try{F=D.target.error && D.target.error.message;(D.message || F) && A.error("error event received on sourcebuffer",{mediaErrorMessage:D.message});}catch(G){}v.Ld(n.N.zlb,(0,m.U6)(B.type));});this.sd.addEventListener("abort",function(){!1;});v.addEventListener(u.ea.closed,function(){B.sd=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.vgb=b.sea=void 0;l=a(40);m=a(171);d=a(14);f=a(80);h=a(73);k=a(8);a(104);n=a(3);a(5);p=a(22);q=a(17);u=a(15);r=a(158);w=a(195);g.prototype.Rh=function(){return this.b3.value;};g.prototype.updating=function(){return this.sd?this.sd.updating:!1;};g.prototype.Naa=function(v){this.bOa=v;};g.prototype.P6=function(){return this.ZF;};g.prototype.buffered=function(){return this.sd.buffered;};g.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};g.prototype.toJSON=function(){return {type:this.type};};g.prototype.J6=function(){var v,x,y,z,A,B,E;try{v=this.sd.buffered;x=0;if(v){y=[];z=0;A=v.length;for(z=0;z < A;z++){B=v.start(z);E=v.end(z);x+=E - B;(0,p.jb)(E > B);y.push(B + "-" + E);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(D){}};g.prototype.SRa=function(v,x){!1;try{(0,p.jb)(this.sd.buffered && 1 >= this.sd.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.J6()));}catch(y){}(0,p.jb)(!this.Rh());this.uab("append",v);x=x && x.dv / 1E3;(0,q.Fa)(x) && this.sd.timestampOffset !== x && (!1,this.sd.timestampOffset=x);this.sd.appendBuffer(v);!1;this.b3.set(!0);};g.prototype.remove=function(v,x){(0,p.jb)(!this.Rh());try{this.uab("remove");!1;this.sd.remove(v,x);this.b3.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.Cha);}};g.prototype.uab=function(v,x){this.ZF.data=x || [];this.ZF.state="init";this.ZF.operation=v;};g.prototype.g0b=function(v,x){this.VOb=Math.floor(1E3 * v / x);};g.prototype.Swb=function(v){var x;if(this.sd){if((v=this.EXa([{type:this.yyb,Kg:v}]),v !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v);if(!this.sd.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.sd.changeType(v);this.mimeType=v;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.Cha,{From:x,To:v}),new c(y.message));}}}else this.log.info("No SourceBuffer");};g.prototype.appendBuffer=function(v,x){!x || x.dd?this.nja(v,x):this.b4(v,x);return !0;};g.prototype.nja=function(v,x){this.j.cg.nja(this,v,x || ({}));};g.prototype.b4=function(v,x){v=this.ryb(v,x);!1;this.j.cg.b4(v);};g.prototype.ryb=function(v,x){var y;y=this.VOb || 0;return {OTa:function(){this.response=void 0;},wi:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:w.yc.Vc.DONE,eB:x.$,vx:x.$ + x.duration,hs:x.duration,dv:y,mk:x.mk,ha:x.ha,Sa:x.Sa,re:+x.re,location:x.location,xM:x.offset,wM:x.offset + x.fa - 1,bitrate:x.bitrate,response:v,v0a:v && 0 < v.byteLength,TD:!0,get dd() {return !this.TD;},u$a:this.Zj - y || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.ha,isHeader:this.dd,ptsStart:this.eB,ptsOffset:this.dv,responseType:this.Mac,duration:this.hs,readystate:this.Lh};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};g.prototype.endOfStream=function(){var v;this.j.DG("EndOfStream");null === (v=this.j.cg) || void 0 === v?void 0:v.d$(this.mediaType);};g.prototype.addEventListener=function(v,x,y){this.Ft.addListener(v,x,y);};g.prototype.removeEventListener=function(v,x){this.Ft.removeListener(v,x);};g.prototype.EXa=function(v){var x;x=k.pa.get(r.CS);return this.type === l.Ub.Wa.Pb?x.f5(v):x.c5(v);};Ya.Object.defineProperties(g.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},z4:{configurable:!0,enumerable:!0,get:function(){return this.UNa.z4;}},OZ:{configurable:!0,enumerable:!0,get:function(){return this.UNa.OZ;}},yyb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.sea=g;na(c,Error);b.vgb=c;},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});b.tVa=b.osa=void 0;c=a(22);g=a(24);l=a(17);(function(){var d,f,h;function m(k){(0,c.jb)(void 0 !== d[k]);return d[k];}d={'"':'""',"\r":"","\n":" "};f=/["\r\n]/g;h=/[", ]/;b.tVa=function(k){return (0,l.$c)(k)?(0,l.Fa)(k)?k:(0,l.Ve)(k)?k.replace(f,m):(0,l.Jqa)(k)?k:isNaN(k)?"NaN":"":"";};b.osa=function(k){var n,p;n=b.tVa;p="";(0,g.ve)(k,function(q,u){q=n(q) + "=" + n(u);h.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uj=void 0;t=b.Uj || (b.Uj={});t[t.Tab=1]="sourceopen";t[t.pq=2]="currentTimeChanged";t[t.vZ=3]="seeked";t[t.o3a=5]="licenseadded";t[t.Sab=6]="sourceBuffersAdded";t[t.l$=7]="onNeedKey";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nfa="PlaygraphManagerFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pfa="PlaygraphVideoPlayerFactorySymbol";},function(t,b,a){var g;function c(l,m){var d;d=this;this.dj=l;this.bh=m;this.addEventListener=function(f,h,k){return d.bh.addListener(f,d.KVa(f,h),k);};this.removeEventListener=function(f,h){return d.bh.removeListener(f,d.KVa(f,h));};this.getReady=function(){return d.bh.isReady();};this.getXid=function(){return d.Db().fA();};this.getMovieId=function(){return d.Db().n_a();};this.getPlaygraphId=function(){return d.bh.GJb();};this.getElement=function(){return d.bh.Sn();};this.isPlaying=function(){return d.Db().Kq();};this.isPaused=function(){return d.Db().ZW();};this.isMuted=function(){return d.Db().Uqa();};this.isReady=function(){return d.Db().isReady();};this.isBackground=function(){return d.Db().V1a();};this.setBackground=function(f){return d.Db().hxa(f);};this.startInactivityMonitor=function(){return d.Db().bQ();};this.setTransitionTime=function(f){return d.Db().xxa(f);};this.getDiagnostics=function(){return d.Db().pZa();};this.getTextTrackList=function(f){return d.Db().m7(f);};this.getMaxRecommendedTextIndex=function(f){return d.Db().Hoa(f);};this.getTextTrack=function(){return d.Db().tpa();};this.setTextTrack=function(f){return d.Db().txa(f);};this.getVolume=function(){return d.Db().i0a();};this.isEnded=function(){return d.Db().Nqa();};this.getBusy=function(){return d.Db().Rh();};this.getError=function(){return d.Db().getError();};this.getCurrentTime=function(){return d.Db().tu();};this.getBufferedTime=function(){return d.Db().VYa();};this.getSegmentTime=function(){return d.Db().M6();};this.getDuration=function(){return d.Db().moa();};this.getVideoSize=function(){return d.Db().h0a();};this.getAudioTrackList=function(){return d.Db().doa();};this.getMaxRecommendedAudioIndex=function(){return d.Db().g_a();};this.getAudioTrack=function(){return d.Db().MYa();};this.getTimedTextTrackList=function(f){return d.Db().m7(f);};this.getMaxRecommendedTimedTextIndex=function(f){return d.Db().Hoa(f);};this.getTimedTextTrack=function(){return d.Db().tpa();};this.shouldUseProjectSalsaUI=function(){return d.Db().Dab();};this.getAdditionalLogInfo=function(){return d.Db().JYa();};this.getTrickPlayFrame=function(f){return d.Db().e0a(f);};this.getSessionSummary=function(){return d.Db().jpa();};this.getTimedTextSettings=function(){return d.Db().zW();};this.setMuted=function(f){return d.Db().bab(f);};this.setVolume=function(f){return d.Db().pab(f);};this.getPlaybackRate=function(){return d.Db().ap();};this.setPlaybackRate=function(f){return d.Db().cab(f);};this.setAudioTrack=function(f){return d.Db().N$a(f);};this.setTimedTextTrack=function(f){return d.Db().txa(f);};this.setTimedTextSettings=function(f){return d.Db().TP(f);};this.prepare=function(){return d.Db().OI();};this.load=function(){return d.Db().load();};this.close=function(f){return d.VRa(d.bh.close(),f);};this.play=function(){return d.Db().play();};this.pause=function(){return d.Db().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(f,h){return d.VRa(d.Db().jN(f),h);};this.induceError=function(f){return d.Db().v1a(f);};this.loadCustomTimedTextTrack=function(f,h,k,n){return d.Db().v3a(f,h,k,n);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return d.Db().N6();};this.getCropAspectRatioXandY=function(){return d.Db().jZa();};this.generateScreenshots=function(f){return d.Db().EYa(f);};this.getCurrentSegmentId=function(){return d.bh.lZa();};this.getPlaygraphMap=function(){return d.bh.HH();};this.updatePlaygraphMap=function(f){return d.bh.GB(f);};this.$ma=new Map();this.log=(0,g.aj)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.n2=void 0;g=a(8);a(104);c.prototype.Db=function(){return this.bh.Db();};c.prototype.KVa=function(l,m){var d;this.$ma.has(l) || this.$ma.set(l,new Map());d=this.$ma.get(l);d.has(m) || d.set(m,this.$Bb(l,m));return d.get(m);};c.prototype.$Bb=function(l,m){var d;d=this;return function(f){return m(Object.assign({},f,{type:l,target:d}));};};c.prototype.VRa=function(l,m){return m?l.then(m,m):l;};b.n2=c;},function(t,b,a){b=a(252);t.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.ga:Date.now;},function(t){t.exports={Xx:{Ufa:0,vLa:1,Cl:2,name:["transient","semiTransient","permanent"]},Sx:{WDa:0,uLa:1,V1:2,oS:3,qy:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},sac:{hac:0,V8b:1,Y6b:2,qy:100,name:["trailer","montage","content"]},Iv:{SFa:0,bLa:1,Umb:2,shb:3,qy:100,name:["left","right","up","down"]},VR:{pgb:0,V1:1,r8b:2,P7b:3,p6b:4,q8b:5,gfb:6,qy:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},AK:{oS:0,mCa:1,qy:100,name:["playFocused","detailsOpened"]}};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);t=(function(){function g(){}g.prototype.hZa=function(l){var m;m=Reflect.getMetadata(c.Gea,l);l=Reflect.getMetadata(c.vMa,l);return {mUa:m,X4b:l || ({})};};g.prototype.KJb=function(l){return Reflect.getMetadata(c.wMa,l) || [];};return g;})();b.uea=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);b.x2a=function(g){return g instanceof RangeError || g.message === c.rmb;};},function(t,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);g=a(44);l=a(66);m=a(94);t=(function(){function d(f){this.Pnb=f;}d.prototype.X3b=function(){return this.Pnb();};return d;})();b.Xda=t;b.l=function(d){return function(f,h,k){var n;if(void 0 === d)throw Error(c.Smb(f.name));n=new l.Metadata(g.TR,d);"number" === typeof k?m.GJ(f,h,k,n):m.h_(f,h,n);};};},function(t,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);g=a(110);l=a(66);m=a(577);t=(function(){function d(f,h,k,n){this.id=g.id();this.type=f;this.Qg=k;this.name=new m.Vlb(h || "");this.Ic=[];f=null;"string" === typeof n?f=new l.Metadata(c.dC,n):n instanceof l.Metadata && (f=n);null !== f && this.Ic.push(f);}d.prototype.B0a=function(f){for(var h=0,k=this.Ic;h < k.length;h++){if(k[h].key === f)return !0;}return !1;};d.prototype.isArray=function(){return this.B0a(c.vF);};d.prototype.BQb=function(f){return this.zsa(c.vF)(f);};d.prototype.Vqa=function(){return this.B0a(c.dC);};d.prototype.ira=function(){return this.Ic.some(function(f){return f.key !== c.TR && f.key !== c.vF && f.key !== c.w1 && f.key !== c.GS && f.key !== c.dC;});};d.prototype.o2a=function(){return this.zsa(c.kIa)(!0);};d.prototype.fJb=function(){return this.Vqa()?this.Ic.filter(function(f){return f.key === c.dC;})[0]:null;};d.prototype.PHb=function(){return this.ira()?this.Ic.filter(function(f){return f.key !== c.TR && f.key !== c.vF && f.key !== c.w1 && f.key !== c.GS && f.key !== c.dC;}):null;};d.prototype.zsa=function(f){var h;h=this;return function(k){var q;for(var n=0,p=h.Ic;n < p.length;n++){q=p[n];if(q.key === f && q.value === k)return !0;}return !1;};};return d;})();b.h2=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(200);g=a(201);t=(function(){function l(m){this.Gc=m;this.QS=new g.Kca(this.Gc);this.rga=new c.q0(this.Gc);}l.prototype.when=function(m){return this.QS.when(m);};l.prototype.U_=function(){return this.QS.U_();};l.prototype.kx=function(m){return this.rga.kx(m);};return l;})();b.cF=t;},function(t,b,a){var l;function c(m){return function(d){function f(h){return null !== h && null !== h.target && h.target.zsa(m)(d);}f.Y4a=new l.Metadata(m,d);return f;};}function g(m,d){m=m.XA;return null !== m?d(m)?!0:g(m,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});t=a(44);l=a(66);b.Fcb=g;b.Nbb=c;a=c(t.dC);b.C5a=a;b.Mcb=function(m){return function(d){var f;if(null !== d){f=d.AU[0];return "string" === typeof m?f.Qg === m:m === d.AU[0].Gm;}return !1;};};},function(t,b,a){var l;function c(m,d){this.zg=d;this.EA=Math.floor(m);this.display=this.EA + " " + this.zg.name;}function g(m,d,f){this.zg=m;this.name=d;this.Jl=f?f:this;(0,l.lp)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.vt=b.HS=void 0;l=a(59);g.prototype.IV=function(m){return this.zg == m.zg;};g.prototype.toJSON=function(){return this.name;};b.HS=g;c.prototype.da=function(m){return this.zg.IV(m)?this.EA:Math.floor(this.EA * this.zg.zg / m.zg);};c.prototype.Z7a=function(m){return this.zg.IV(m)?this.EA:this.EA * this.zg.zg / m.zg;};c.prototype.as=function(m){return new c(this.da(m),m);};c.prototype.to=function(m){return new c(this.da(m),m);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.EA,units:this.zg.name};};c.prototype.add=function(m){return this.gUa(m);};c.prototype.Ka=function(m){return this.gUa(m,function(d){return -d;});};c.prototype.scale=function(m){return new c(this.da(this.zg.Jl) * m,this.zg.Jl);};c.prototype.Ll=function(m){return this.da(this.zg.Jl) - m.da(this.zg.Jl);};c.prototype.IV=function(m){return 0 == this.Ll(m);};c.prototype.H2a=function(){return 0 == this.EA;};c.prototype.Wqa=function(){return 0 > this.EA;};c.prototype.SNb=function(){return 0 < this.EA;};c.prototype.gUa=function(m,d){d=void 0 === d?function(f){return f;}:d;return new c(this.da(this.zg.Jl) + d(m.da(this.zg.Jl)),this.zg.Jl);};b.vt=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.HJa="PlatformConfigOverridesSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XCa="DrmDataFactorySymbol";},function(t,b,a){var g,l;function c(m,d,f,h,k){this.version=m;this.bP=d;this.nbb=f;this.no=h;this.Hx=k;this.yw=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Oda=void 0;g=a(3);l=a(41);c.prototype.load=function(m){return this.APb(m);};c.prototype.add=function(m){this.yw.push(m);return this.Bua();};c.prototype.remove=function(m,d){m=this.YYa(this.yN(m,d));return 0 <= m?(this.yw.splice(m,1),this.Bua()):Promise.resolve();};c.prototype.update=function(m,d){d=this.YYa(this.yN(m,d));return 0 <= d?(this.yw[d]=m,this.Bua()):Promise.resolve();};c.prototype.APb=function(m){var d;d=this;this.w3a || (this.w3a=new Promise(function(f,h){function k(n){d.qCb().then(function(){h(n);}).catch(function(){h(n);});}d.lpa().then(function(n){d.storage=n;return d.storage.load(d.bP);}).then(function(n){var p;n=n.value;try{p=m(n);d.version=p.version;d.yw=p.data;f();}catch(q){k(q);}}).catch(function(n){n.sa !== g.M.mC?h(n):f();});}));return this.w3a;};c.prototype.Bua=function(){var m,d,f,h,k;m=this;if(!this.nbb)return Promise.resolve();if(this.aba){h=new Promise(function(n,p){d=n;f=p;});k=function(){m.aba=h;m.lbb().then(function(){d();}).catch(function(n){f(n);});};this.aba.then(k).catch(k);return h;}return this.aba=this.lbb();};c.prototype.lbb=function(){var m,d;m=this;d=this.Hx();return new Promise(function(f,h){m.lpa().then(function(k){return k.save(m.bP,d,!1);}).then(function(){f();}).catch(function(k){h(c.V2b(g.N.jlb,k));});});};c.prototype.qCb=function(){var m;m=this;return this.nbb?new Promise(function(d,f){m.lpa().then(function(h){return h.remove(m.bP);}).then(function(){d();}).catch(function(h){f(h);});}):Promise.resolve();};c.prototype.lpa=function(){return this.storage?Promise.resolve(this.storage):this.no.create();};c.prototype.yN=function(m,d){for(var f=0;f < this.yw.length;++f){if(d(this.yw[f],m))return this.yw[f];}};c.prototype.YYa=function(m){return m?this.yw.indexOf(m):-1;};c.V2b=function(m,d){var f;if(d.sa && d.cause)return new l.od(m,d.sa,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.Ec){f=d.message?d.message + " ":"";d.code=m;d.message="" === f?void 0:f;return d;}return d instanceof Error?new l.od(m,g.M.Qk,void 0,void 0,void 0,void 0,d.stack,d):new l.od(m,g.M.em,void 0,void 0,void 0,void 0,void 0,d);};b.Oda=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vfa="QueryStringDataProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.YHa="NetworkMonitorConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZCa="DrmProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DDa="EmeSessionFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ADa=b.TF=void 0;t=b.TF || (b.TF={});t[t.Request=0]="Request";t[t.fLa=1]="Renewal";b.ADa="EmeApiSymbol";},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.a2=void 0;a.EMb=function(c){return "ID" + (c + 1);};a.ubb=function(c){return Number(c.substr(2)) - 1;};b.a2=a;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F;function c(G,C,H,K,M,I,Q,L){var J;J=this;this.Ea=C;this.jz=H;this.config=K;this.Mh=M;this.am=I;this.Xo=Q;this.up=L;this.keyStatuses=new z.ic({});this.Zta=function(O){var N,P,S,U,Z,ja;try{P=J.am.tla(O);S=P.mI;U=P.messageType;Z=P.sessionId;J.Xw=J.Xw || P.Xw;J.DZ(Z);J.log.trace("Received " + O.type + " event",{sessionId:Z,messageType:U,keyIds:J.Xw});if(U === b.jea){if(J.config.rma){J.log.trace("Disabling license renewal");return;}J.log.trace("Received a renewal request");J.$f=n.ji.Mp;J.nl=E.ZI;}J.nl === E.$g && J.cq(p.tt.W8a);J.nl === E.ZI && J.cq(p.tt.X8a);ja={jk:S,ATa:U,$f:J.$f};null === (N=J.GTb) || void 0 === N?void 0:N.call(J,ja);J.mX && (J.Ppa(S)?J.XD(new y.od(m.N.oDa)):(J.mX.resolve(ja),J.mX=void 0));}catch(ya){J.XD(ya);}};this.Xta=function(O){var N,P,S,U,Z,ja,Y,pa,T,R,ea,sa,la,$a,Za,cb,Va,Qa;S=O.target;U=S.keyStatuses;J.DZ(S.sessionId);J.log.trace("Received event: " + O.type);try{ja=null === (P=null === (N=J.context) || void 0 === N?void 0:N.$u) || void 0 === P?void 0:P.reduce(function(xa,Da){xa[Da.uj]=Da.eJ.height;return xa;},{});O=[];for(var ya=ba(U),ra=ya.next();!ra.done;ra=ya.next()){Y=ba(ra.value);pa=Y.next().value;T=Y.next().value;R=J.jz.encode(new Uint8Array(pa));O.push({uj:R,status:T,height:null === ja || void 0 === ja?void 0:ja[R]});}O.sort(function(xa,Da){return (xa.height || 0) - (Da.height || 0);});ea=O.map(function(xa){return xa.uj;});sa=O.map(function(xa){return xa.height;});la=O.map(function(xa){return xa.status;});J.log.trace("KeyStatus: " + ea + ", " + sa + ", " + la);ja={};for(var Ka=ba(U),Ua=Ka.next();!Ua.done;Ua=Ka.next()){$a=ba(Ua.value);Za=$a.next().value;cb=$a.next().value;Va=J.jz.encode(new Uint8Array(Za));Qa=D[cb];ja[Va]=Qa.status;J.l8(Va,Qa.error) && (Z=new v.oh(Qa.error));}J.keyStatuses.set(ja);}catch(xa){Z=new v.oh(m.N.tlb);Z.mV(xa);}Z?J.zs?J.w8(Z):J.cX(Z):(J.am.U4() || J.J2a(),J.$f !== n.ji.wo || J.am.Ija() || (J.config.rma?J.log.trace("Disabling license renewal"):J.EYb()));};this.ao=function(O){var N;N=J.am.Bz(O);J.log.error("Received event: " + O.type,N);J.XD(N);J.w8(N);J.Bq || J.zs || J.cX(N);};this.zTb=function(O){J.log.error("MediaKeySession closed unexpectedly: " + O);J.cX(new y.od(m.N.qDa,F[O]));};this.XD=function(O){var N;J.Bq && J.close().then(function(){var P;J.log.trace("Issuing a generate challenge error");null === (P=J.Bq) || void 0 === P?void 0:P.reject(O);J.Bq=void 0;},function(P){var S;J.log.error("EmeSession closed with an error.",J.am.Bz(P));null === (S=J.Bq) || void 0 === S?void 0:S.reject(O);J.Bq=void 0;});null === (N=J.mX) || void 0 === N?void 0:N.reject(O);};this.oOb=function(){var O;null === (O=J.Bq) || void 0 === O?void 0:O.resolve();J.Bq=void 0;};this.w8=function(O){J.log.error("Failed to add license",O);return J.close().then(function(){var N;J.log.trace("Issuing a license error");J.Bq=void 0;null === (N=J.zs) || void 0 === N?void 0:N.reject(O);J.zs=void 0;},function(N){var P;J.log.error("EmeSession closed with an error.",J.am.Bz(N));J.nl === E.ZI && J.cq(p.tt.pRa);J.Bq=void 0;null === (P=J.zs) || void 0 === P?void 0:P.reject(O);J.zs=void 0;}).then(function(){throw O;});};this.J2a=function(){J.zs && (J.log.info("Successfully added license"),J.nl === E.$g?J.cq(p.tt.fRa):J.nl === E.ZI && J.cq(p.tt.oRa),J.zs.resolve(),J.zs=void 0);};this.cX=function(O){J.close().then(function(){var N;J.log.trace("Issuing a CDM error");J.Bq=void 0;J.zs=void 0;null === (N=J.r6a) || void 0 === N?void 0:N.call(J,O);},function(N){var P;J.log.error("EmeSession closed with an error.",J.am.Bz(N));J.Bq=void 0;J.zs=void 0;null === (P=J.r6a) || void 0 === P?void 0:P.call(J,O);});};this.cq=function(O){J.Tc.push({time:J.Ea.$b(),HX:O});};this.r9a=!1;this.log=G.mb("EmeSession");this.nl=E.Q3b;this.Tc=[];}Object.defineProperty(b,"__esModule",{value:!0});b.EDa=b.jea=b.kea=void 0;t=a(1);g=a(0);l=a(5);m=a(3);d=a(19);f=a(7);h=a(36);k=a(69);n=a(60);p=a(330);q=a(210);u=a(138);r=a(208);w=a(327);v=a(96);x=a(65);y=a(41);z=a(80);A=a(628);B=a(55);(function(G){G[G.Q3b=0]="unknown";G[G.create=1]="create";G[G.load=2]="load";G[G.$g=3]="license";G[G.ZI=4]="renewal";G[G.stop=5]="stop";G[G.closed=6]="closed";})(E || (E={}));b.kea="license-request";b.jea="license-renewal";D={usable:{status:q.Dv.ydb},expired:{status:q.Dv.hu,error:m.N.Kea},released:{status:q.Dv.released},"output-not-allowed":{status:q.Dv.L6a,error:m.N.zIa},"output-restricted":{status:q.Dv.L6a,error:m.N.Lea},"output-downscaled":{status:q.Dv.AUb},"status-pending":{status:q.Dv.p1b},"internal-error":{status:q.Dv.YMb,error:m.N.slb}};F={"internal-error":m.M.Mhb,"closed-by-application":m.M.Ihb,"release-acknowledged":m.M.Qhb,"hardware-context-reset":m.M.lDa,"resource-evicted":m.M.Shb};c.prototype.ru=function(){return (0,B.Eoa)(this.kRb);};c.prototype.aA=function(){return this.sessionId;};c.prototype.close=function(){var G;G=this;this.nl=E.closed;this.Tc=[];return this.Mh.YNb()?(this.log.trace("Closing the session"),this.Mh.m9a(this.Zta),this.Mh.k9a(this.Xta),this.Mh.i9a(this.ao),this.mediaKeys=void 0,this.up.cr(this.config.MRa,this.Mh.close()).then(function(){G.log.info("Closed the session");}).catch(function(C){G.log.error("Close failed",C);G.am.Bz(C).code=m.N.vlb;throw C;})):Promise.resolve(void 0);};c.prototype.qu=function(){return this.Xo;};c.prototype.B7=function(){return void 0 !== this.vj;};c.prototype.createSession=function(G,C,H,K){var M;M=this;this.context=K;this.kRb=G;this.$f=H;this.nl=E.create;this.cq(p.tt.n3a);return (C.w0a()?Promise.resolve():this.up.cr(this.config.NRa,this.Mh.createMediaKeys(G)).then(function(I){M.log.trace("Created media keys");return M.gub(I).then(function(){return C.hRa(I);}).catch(function(Q){return Promise.reject(M.lva(Q,m.N.Thb));});})).then(function(){M.mediaKeys=C.mediaKeys;try{M.Mh.createSession(M.mediaKeys,"temporary");M.Mh.jRa(M.Zta);M.Mh.dRa(M.Xta);M.Mh.bRa(M.ao);M.Mh.Wsb(M.zTb);M.DZ(M.Mh.aA());}catch(I){return Promise.reject(M.lva(I,m.N.Jhb));}}).catch(function(I){return Promise.reject(M.lva(I,m.N.qR));});};c.prototype.U_b=function(G){this.cj=G;this.log.ZQa("xid",G.ca);};c.prototype.TGb=function(G){var C;C=this;return this.generateRequest(G).then(function(){C.log.trace("Returning the challenge promise");return C.mX.promise;});};c.prototype.UGb=function(G){this.generateRequest(G);return this.Bq.promise;};c.prototype.eRa=function(G){this.xe=G.xe;G=G.vj.map(function(C){return C.data;});this.Ppa(G)?(this.log.error("The license buffer is empty"),this.XD(new v.oh(m.N.nDa,m.M.kDa))):(this.nl === E.$g && (this.cq(p.tt.V8a),this.vj=G,this.FWa=this.am.FN(this.Xw,G),this.oOb()),this.nl === E.ZI && (this.cq(p.tt.Y8a),this.vj=G,this.FWa=this.am.FN(this.Xw,G),this.qja()));};c.prototype.gtb=function(G){this.nl === E.ZI?(this.cq(p.tt.Z8a),this.cX(G)):this.XD(G);};c.prototype.qja=function(){var G,C;G=this;if(!this.vj)return this.w8(new v.oh(m.N.nDa,m.M.rDa));this.zs=new A.M1();C=this.vj;this.vj=void 0;this.up.cr(this.config.RRa,this.Mh.update(C,this.nl === E.$g?w.TF.Request:w.TF.fLa,this.Xw)).then(function(){G.am.U4() && G.J2a();}).catch(function(H){H=G.am.Bz(H);H.code=m.N.J1;H.message="Unable to update the EME";G.log.error(H.message,H);G.w8(H);});return this.zs.promise;};c.prototype.N_b=function(G){this.GTb=G;};c.prototype.H_b=function(G){this.r6a=G;};c.prototype.FN=function(){return this.FWa;};c.prototype.generateRequest=function(G){var C;C=this;this.nl=E.$g;this.log.trace("Generating a license challenge");this.Bq=new A.M1();this.mX=new A.M1();return G?this.Ppa(G)?(G=new v.oh(m.N.mDa,m.M.kDa),this.XD(G),Promise.reject(G)):this.up.cr(this.config.ORa,this.Mh.generateRequest(this.am.mW(),G)).then(function(){C.DZ(C.Mh.aA());}).catch(function(H){var K,M;K=new v.oh(m.N.S0,H instanceof x.Jr?m.M.rR:m.M.Qk);try{M=C.am.Bz(H);K.Nd=M.Nd;K.message="Unable to generate request.";K.mV(H);}catch(I){}C.log.error("Unable to generate a license request",K);C.XD(K);return Promise.reject(K);}):(G=new v.oh(m.N.mDa,m.M.rDa),this.XD(G),Promise.reject(G));};c.prototype.gub=function(G){var C,H;C=this;H=this.am.joa();return H?(H=this.jz.decode(H),this.up.cr(this.config.QRa,this.Mh.setServerCertificate(G,H)).then(function(K){C.log.trace("Set the server certificate",{result:K});})):Promise.resolve();};c.prototype.DZ=function(G){G && G !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + G),this.sessionId=G,this.log.ZQa("sessionId",G));};c.prototype.EYb=function(){var G;G=this;this.r9a || (this.r9a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.ZD}),setTimeout(function(){G.YI();},this.config.ZD.da(l.la)));};c.prototype.fOb=function(G){var C,H;return !(null === (H=null === (C=this.context) || void 0 === C?void 0:C.$u) || void 0 === H || !H.some(function(K){return K.uj === G && 1080 < K.eJ.height;}));};c.prototype.l8=function(G,C){return C === m.N.Lea?this.fOb(G)?this.config.N6a:this.config.M6a:! !C;};c.prototype.YI=function(){this.log.trace("Initiating a renewal request");this.$f=n.ji.Mp;this.nl=E.ZI;this.am.wka()?this.am.Eqa(this.Mh):this.e5();};c.prototype.e5=function(){var G;G=this;this.Mh.e5(this.mediaKeys,"temporary",this.Zta,this.Xta,this.ao).then(function(){G.log.debug("Creating session to renew license");G.DZ(G.Mh.aA());}).catch(function(){G.cX(new v.oh(m.N.S0));});};c.prototype.Ppa=function(G){return 0 === G.length || G.reduce(function(C,H){return C || 0 === H.length;},!1);};c.prototype.lva=function(G,C){var H,K;if((null === G || void 0 === G?0:G.code) && (null === G || void 0 === G?0:G.Ec))return G;K=(0,B.Soa)(null === G || void 0 === G?void 0:G.message);return new v.oh(C,G instanceof x.Jr?m.M.rR:m.M.Qk,null === (H=null === K || void 0 === K?void 0:K.toString(16)) || void 0 === H?void 0:H.toUpperCase(),null === G || void 0 === G?void 0:G.message,G);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(f.ub)),t.__param(1,(0,g.l)(d.md)),t.__param(2,(0,g.l)(h.Ji)),t.__param(3,(0,g.l)(k.Ev)),t.__param(4,(0,g.l)(w.ADa)),t.__param(5,(0,g.l)(r.Fhb)),t.__param(6,(0,g.l)(u.cDa)),t.__param(7,(0,g.l)(x.ty))],a);b.EDa=a;},function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.GWa=b.tt=void 0;(function(c){c[c.n3a=0]="licenseStarted";c[c.W8a=1]="receivedLicenseChallenge";c[c.V8a=2]="receivedLicense";c[c.X8a=3]="receivedRenewalChallengeComplete";c[c.Y8a=4]="receivedRenewalLicenseComplete";c[c.Z8a=5]="receivedRenewalLicenseFailed";c[c.EXb=6]="receivedIndivChallengeComplete";c[c.FXb=7]="receivedIndivLicenseComplete";c[c.fRa=8]="addLicenseComplete";c[c.oRa=9]="addRenewalLicenseComplete";c[c.pRa=10]="addRenewalLicenseFailed";})(a=b.tt || (b.tt={}));b.GWa=function(c){switch(c){case a.n3a:return "lg";case a.W8a:return "lc";case a.V8a:return "lr";case a.X8a:return "renew_lc";case a.Y8a:return "renew_lr";case a.Z8a:return "renew_lr_failed";case a.EXb:return "ilc";case a.FXb:return "ilr";case a.fRa:return "ld";case a.oRa:return "renew_ld";case a.pRa:return "renew_ld_failed";default:return "unknown";}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PBa="ClockConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mIa="OneWayCounterFactorySymbol";},function(t,b,a){var g,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ica=void 0;t=a(1);a=a(0);g={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(m){for(var d=new Uint8Array(m.length / 2),f=0;f < d.length;f++){d[f]=this.rcb(m.substr(2 * f,2));}return d;};c.prototype.encode=function(m){var k;for(var d="",f=m.length,h=0;h < f;h++){k=m[h];d+=("0123456789ABCDEF")[k >>> 4] + ("0123456789ABCDEF")[k & 15];}return d;};c.prototype.wH=function(m,d){var f;f="";for(d<<=1;d--;){f=(("0123456789ABCDEF")[m & 15] || "0") + f;m>>>=4;}return f;};c.prototype.rcb=function(m){var d;d=m.length;if(7 < d)throw Error("hex to long");for(var f=0,h=0;h < d;h++){f=16 * f + g[m[h]];}return f;};l=c;l=t.__decorate([(0,a.T)()],l);b.Ica=l;},function(t,b,a){var g,l;function c(){this.yq={};this.id="$es$" + g.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Rk=void 0;t=a(1);a=a(0);c.prototype.addListener=function(m,d,f){var h,k;h="$netflix$player$order" + this.id + "$" + m;if(this.yq){k=this.yq[m]?this.yq[m].slice():[];f && (d[h]=f);0 > k.indexOf(d) && (k.push(d),k.sort(function(n,p){return (n[h] || 0) - (p[h] || 0);}));this.yq[m]=k;}};c.prototype.removeListener=function(m,d){if(this.yq && this.yq[m]){for(var f=this.yq[m].slice(),h;0 <= (h=f.indexOf(d));){f.splice(h,1);}this.yq[m]=f;}};c.prototype.Hc=function(m,d,f){var h;if(this.yq){h=this.woa(m);for(m={eK:0};m.eK < h.length;(m={eK:m.eK},m.eK++)){f?(function(k){return function(){var n;n=h[k.eK];setTimeout(function(){n(d);},0);};})(m)():h[m.eK].call(this,d);}}};c.prototype.Oh=function(){this.yq=void 0;};c.prototype.on=function(m,d,f){this.addListener(m,d,f);};c.prototype.woa=function(m){var d;return null !== (d=this.yq && (this.yq[m] || (this.yq[m]=[]))) && void 0 !== d?d:[];};l=g=c;l.counter=0;l=g=t.__decorate([(0,a.T)()],l);b.Rk=l;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.iCa="CsvEncoderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kda="DecoderTimeoutPathologistSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xea=b.nkb=void 0;b.nkb=function(){};b.xea="MseConfigSymbol";},function(t,b,a){var g;function c(l){this.spb=void 0 === l?!1:l;this.ff={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.sfa=void 0;t=a(1);a=a(0);c.prototype.add=function(l,m){var d;m=void 0 === m?0:m;d=this.ff[m];d?this.spb && -1 !== d.indexOf(l) || d.push(l):this.ff[m]=[l];};c.prototype.remove=function(l,m){this.Sy(l,void 0 === m?0:m);};c.prototype.removeAll=function(l){this.Sy(l);};c.prototype.flatten=function(){var l;l=this;return Object.keys(this.ff).sort().reduce(function(m,d){return m.concat(l.ff[d]);},[]);};c.prototype.Sy=function(l,m){Object.entries(this.ff).forEach(function(d){var f,h;f=ba(d);d=f.next().value;f=f.next().value;if(void 0 === m || m === parseInt(d)){-1 < (h=f.indexOf(l)) && f.splice(h,1);}});};g=c;g=t.__decorate([(0,a.T)()],g);b.sfa=g;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hNa="UrlFactorySymbol";},function(t,b,a){var g,l,m;function c(d,f,h,k,n,p,q){this.debug=d;this.config=f;this.platform=h;this.o9=k;this.debug.assert(n && n != l.N.em,"There should always be a specific error code");this.errorCode=n || l.N.em;p && "object" === typeof p?(this.sa=p.sa || p.Ec,this.wf=p.wf || p.Nd,this.Tma=p.Tma || p.Ln,this.yb=p.yb || p.details,this.rV=p.sk,this.W5=p.W5 || p.eec || p.RA,this.qH=p.qH || p.data,p.EX && (this.EX=p.EX),this.tk=p.tk,this.method=p.method,this.O9=p.O9,this.alert=p.alert,this.fja=p.fja,this.PH=p.PH,!this.yb && this.PH && (this.yb=JSON.stringify(this.PH)),this.debug.assert(!this.tk || this.tk == this.wf)):(this.sa=p,this.wf=q);this.stack=[this.errorCode];this.sa?this.stack.push(this.sa):this.wf && this.stack.push(l.M.em);this.wf && this.stack.push(this.wf);this.E5=this.platform.wq + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.iKa=void 0;g=a(12);l=a(3);m=a(17);a(24);c.prototype.dab=function(d){this.JVb=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.E5 + "]";this.yb && (d+=" " + this.yb);this.rV && (d+=" (CustomMessage: " + this.rV + ")");return d;};c.prototype.t_=function(){var d,f,h,k;this.rV && (h=["streaming_error"]);h || this.o9.qu() !== g.R0 || ("80080017" == this.wf && (h=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.wf && (h=["pause_timeout"]));h || this.o9.qu() !== g.nda || this.errorCode !== l.N.jDa && this.errorCode !== l.N.qR || (h=["no_cdm","platform_error","plugin_error"]);h || this.errorCode !== l.N.qDa || this.sa !== l.M.lDa || (h=["pause_timeout"]);this.$Nb() && (h=["received_soad"]);k=this.CHb();k && (h=[k],this.rV=void 0);if(!h)switch(this.errorCode){case l.N.I1:case l.N.n1:case l.N.Teb:case l.N.Kea:this.JVb && (h=["pause_timeout"]);break;case l.N.sFa:case l.N.tFa:h=this.sa?["platform_error"]:["multiple_tabs"];break;case l.N.Ijb:case l.N.zmb:case l.N.hjb:case l.N.gjb:case l.N.jjb:h=["should_signout_and_signin"];break;case l.N.Mda:case l.N.DIa:case l.N.Mea:case l.N.xIa:h=["platform_error","plugin_error"];break;case l.N.pS:h=["no_cdm","platform_error","plugin_error"];break;case l.N.sDa:case l.N.Hr:case l.N.J1:switch(this.wf){case "FFFFD000":h=["device_needs_service","platform_error"];break;case "48444350":h=["unsupported_output","platform_error"];break;case "00000024":h=["private_mode"];}break;case l.N.zIa:case l.N.Lea:h=["unsupported_output"];}!h && (0,l.NDa)(this.sa) && (h=this.sa == l.M.QR?["geo"]:["internet_connection_problem"]);h || this.errorCode !== l.N.qR || this.sa !== l.M.Qk || "S" !== this.platform.wq || (h=["private_mode"]);if(!h)switch(this.xbb(this.sa)){case l.M.fga:h=["should_upgrade"];break;case l.M.uIa:h=["should_reset_device"];break;case l.M.tIa:h=["should_reload_device"];break;case l.M.sIa:h=["should_exit_device"];break;case l.M.pkb:case l.M.RGa:h=["should_signout_and_signin"];break;case l.M.qkb:h=["internet_connection_problem"];break;case l.M.oCa:h=["platform_error","plugin_error"];break;case l.M.nCa:case l.M.$Ea:case l.M.aFa:h=["private_mode"];break;case l.M.hea:h=["should_reload_with_preferred_locales"];}h=h || [];h.push(this.platform.wq + this.errorCode);if(this.sa)switch(this.xbb(this.sa)){case l.M.vIa:h.push("incorrect_pin");break;default:h.push("" + this.sa);}h={display:{code:this.E5,text:this.rV},messageIdList:h,alert:this.alert,alertTag:this.fja,preferredAudioLocale:null === (d=this.PH) || void 0 === d?void 0:d.Y0a,preferredTextLocale:null === (f=this.PH) || void 0 === f?void 0:f.Z0a};this.config().gFb && (h.debugData=this.qH);return h;};c.prototype.xbb=function(d){var f;f=parseInt(d,10);return isNaN(f)?d:f;};c.prototype.$Nb=function(){var d;d=(0,m.Fa)(this.wf)?this.wf.toString():(0,m.Ve)(this.wf)?this.wf:"";return this.W5 === l.v1.Zfa && (d.endsWith("2018") || d.endsWith("2020"));};c.prototype.CHb=function(){if(this.errorCode === l.N.CK && (this.sa === l.M.Hea || this.sa === l.M.rIa))return this.DHb(this.sa === l.M.Hea);};c.prototype.DHb=function(d){var f,h,k,n;k=this.config().browserInfo || ({});n=null === (f=k.os) || void 0 === f?void 0:f.name;f=((null === (h=k.os) || void 0 === h?void 0:h.version) || "").split(".");h=parseInt(f && f[0]);f=parseInt(f && f[1]);switch(n){case "windows":return 6 > h || 6 === h && 1 > f?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > h || 10 === h && 10 > f?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.iKa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rea="MediaElementHelpersSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tR="EventSourceFactorySymbol";},function(t,b,a){var g,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.tR=b.RDa=void 0;t=a(1);g=a(334);a=a(0);c.prototype.create=function(){return new g.Rk();};l=c;l=t.__decorate([(0,a.T)()],l);b.RDa=l;b.tR="EventSourceFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uCa="DebouncerFactorySymbol";},function(t,b,a){var g;function c(l,m,d,f,h,k){this.level=l;this.Ro=m;this.timestamp=d;this.message=f;this.jc=h;this.index=void 0 === k?0:k;this.Ejb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.aea=void 0;g=a(5);c.prototype.qba=function(l,m){var d;d="" + this.message;this.jc.forEach(function(f){d+=f.NJ(l,m);});return (this.timestamp.da(g.la) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Ejb[this.level] || this.level) + "|" + this.Ro + "| " + d;};b.aea=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.NHa="MomentObserverFactory";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.LLa="SegmentConfigFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VJa="PlaybackFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tNa="VideoPlayerFactorySymbol";},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(2);t.__exportStar(a(672),b);t.__exportStar(a(673),b);t.__exportStar(a(674),b);t.__exportStar(a(675),b);t.__exportStar(a(676),b);t.__exportStar(a(677),b);t.__exportStar(a(678),b);t.__exportStar(a(679),b);t.__exportStar(a(680),b);t.__exportStar(a(681),b);t.__exportStar(a(682),b);t.__exportStar(a(683),b);t.__exportStar(a(687),b);t.__exportStar(a(215),b);t.__exportStar(a(688),b);t.__exportStar(a(216),b);t.__exportStar(a(689),b);t.__exportStar(a(690),b);t.__exportStar(a(691),b);t.__exportStar(a(692),b);t.__exportStar(a(693),b);t.__exportStar(a(694),b);t.__exportStar(a(695),b);t.__exportStar(a(696),b);t.__exportStar(a(697),b);t.__exportStar(a(698),b);t.__exportStar(a(699),b);t.__exportStar(a(700),b);t.__exportStar(a(701),b);t.__exportStar(a(702),b);t.__exportStar(a(703),b);t.__exportStar(a(704),b);t.__exportStar(a(705),b);t.__exportStar(a(706),b);t.__exportStar(a(715),b);t.__exportStar(a(718),b);t.__exportStar(a(719),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pja=void 0;b.pja=function(a,c,g){var l,m;l=!0;g.forEach(function(d){var f;if(l && a === d.profile){f=d.ranges;l=void 0 === f?c >= d.min && c <= d.max:f.some(function(h){return c >= h.min && c <= h.max;});!l && d.disallowed && d.disallowed.some(function(h){if(h.stream.bitrate === c)return (m=h.disallowedBy,!0);});}});return {inRange:l,D5:m};};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FF=void 0;b.FF={Cm:function(a){return a;}};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.At=b.VK=void 0;c=a(352);(function(l){l[l.jP=0]="primary";l[l.tH=1]="fallback";})(g=b.VK || (b.VK={}));t=(function(){function l(m,d){var f,h;h=this;void 0 === d && (d=!1);this.Awb=d;this.filters=(f={},f[g.jP]=[],f[g.tH]=[],f);Array.isArray(m)?m.forEach(function(k){return h.and(k,g.jP);}):this.and(m);}l.prototype.and=function(m,d){void 0 === d && (d=g.jP);m !== c.FF && this.filters[d].push({filter:m,zUa:!0});return this;};l.prototype.or=function(m,d){void 0 === d && (d=g.jP);this.filters[d].push({filter:m,zUa:!1});return this;};l.prototype.filter=function(m){var d;d=this;[g.jP,g.tH].forEach(function(f){d.filters[f]=d.filters[f].filter(function(h){return m(f,h.filter);});});};l.prototype.Cm=function(m,d,f,h){var k;k=this;return [g.jP,g.tH].reduce(function(n,p){return k.filters[p].reduce(function(q,u){u.zUa?q=u.filter.Cm(q,d,f,h):0 === q.length && (q=u.filter.Cm(m,d,f,h));return q;},n);},m);};return l;})();b.At=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Gr=b.bmb=void 0;c=a(2);g=a(218);t=(function(){function l(m,d){this.G=m;this.kA=d?[d]:[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});l.prototype.addListener=function(m){-1 === this.kA.indexOf(m) && (this.kA=this.kA.slice(),this.kA.push(m));};l.prototype.removeListener=function(m){m=this.kA.indexOf(m);-1 !== m && (this.kA=this.kA.slice(),this.kA.splice(m,1));};return l;})();b.bmb=t;t=(function(l){function m(d,f){return l.call(this,d,f) || this;}c.__extends(m,l);m.Fza=function(d,f,h){return new g.Eea(d,f,h,!1);};Object.defineProperties(m.prototype,{value:{get:function(){return this.G;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});m.prototype.set=function(d){var f;f=this.G;f !== d && (this.G=d,this.kA.forEach(function(h){return h({oldValue:f,newValue:d});}));};return m;})(t);b.Gr=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.TJa=void 0;c=a(2);t=(function(g){function l(m,d){m=g.call(this,m) || this;m.tXa=d;m.name="PlaybackError";return m;}c.__extends(l,g);l.RNb=function(m){return m && m.message && m.stack && m.tXa?"PlaybackError" === (null === m || void 0 === m?void 0:m.name):!1;};return l;})(Error);b.TJa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.de=void 0;t=a(2);t.__exportStar(a(357),b);t.__exportStar(a(734),b);t.__exportStar(a(219),b);t.__exportStar(a(735),b);t.__exportStar(a(736),b);t.__exportStar(a(737),b);t.__exportStar(a(358),b);t.__exportStar(a(739),b);c=a(56);Object.defineProperties(b,{de:{enumerable:!0,get:function(){return c.de;}}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ro=b.VQ=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.bQb=2]="lowCpuPlaybackStarting";})(b.VQ || (b.VQ={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.ro || (b.ro={}));},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.assert=b.AssertionError=void 0;c=a(1);g=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);return m;})(Error);b.AssertionError=g;b.assert=function(l,m){if(!l)throw new g(m || "Assertion failed");};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.l6=b.ZXa=b.sna=void 0;c=a(361);b.sna=function(g,l){var m;m=void 0;return Object.keys(g.V).some(function(d){var f;return null === (f=(m=g.V[d]).next) || void 0 === f?void 0:f[l];})?m:void 0;};b.ZXa=function(g,l){return c.he(Object.keys(g.V),function(m){var d;return null === (d=g.V[m].next) || void 0 === d?void 0:d[l];});};b.l6=function(g,l){return Object.keys(g.V).filter(function(m){var d;return null === (d=g.V[m].next) || void 0 === d?void 0:d[l];});};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.he=void 0;b.he=function(a,c){for(var g=0;g < a.length;g++){if(c(a[g],g,a))return a[g];}};},function(t){function b(){}function a(c){this.IQa=c;this.Qp=[];this.Hg=null;}b.prototype.clear=function(){this.ff=null;this.size=0;};b.prototype.find=function(c){var l;for(var g=this.ff;null !== g;){l=this.tn(c,g.data);if(0 === l)return g.data;g=g.yh(0 < l);}return null;};b.prototype.lowerBound=function(c){var d;for(var g=this.ff,l=this.iterator(),m=this.tn;null !== g;){d=m(c,g.data);if(0 === d)return (l.Hg=g,l);l.Qp.push(g);g=g.yh(0 < d);}for(d=l.Qp.length - 1;0 <= d;--d){if((g=l.Qp[d],0 > m(c,g.data)))return (l.Hg=g,l.Qp.length=d,l);}l.Qp.length=0;return l;};b.prototype.upperBound=function(c){for(var g=this.lowerBound(c),l=this.tn;null !== g.data() && 0 === l(g.data(),c);){g.next();}return g;};b.prototype.min=function(){var c;c=this.ff;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.ff;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.tf=function(c){for(var g=this.iterator(),l;null !== (l=g.next());){c(l);}};a.prototype.data=function(){return null !== this.Hg?this.Hg.data:null;};a.prototype.next=function(){var c;if(null === this.Hg){c=this.IQa.ff;null !== c && this.zPa(c);}else if(null === this.Hg.right){do {if((c=this.Hg,this.Qp.length))this.Hg=this.Qp.pop();else {this.Hg=null;break;}}while(this.Hg.right === c);}else (this.Qp.push(this.Hg),this.zPa(this.Hg.right));return null !== this.Hg?this.Hg.data:null;};a.prototype.SI=function(){var c;if(null === this.Hg){c=this.IQa.ff;null !== c && this.vPa(c);}else if(null === this.Hg.left){do {if((c=this.Hg,this.Qp.length))this.Hg=this.Qp.pop();else {this.Hg=null;break;}}while(this.Hg.left === c);}else (this.Qp.push(this.Hg),this.vPa(this.Hg.left));return null !== this.Hg?this.Hg.data:null;};a.prototype.zPa=function(c){for(;null !== c.left;){this.Qp.push(c);c=c.left;}this.Hg=c;};a.prototype.vPa=function(c){for(;null !== c.right;){this.Qp.push(c);c=c.right;}this.Hg=c;};t.exports=b;},function(t,b){function a(c){var g,l;g=Math.abs(c);l=1 / (1 + g / 2);g=l * Math.exp(-g * g - 1.26551223 + l * (1.00002368 + l * (.37409196 + l * (.09678418 + l * (-.18628806 + l * (.27886807 + l * (-1.13520398 + l * (1.48851587 + l * (-.82215223 + .17087277 * l)))))))));return 0 <= c?g:2 - g;}Object.defineProperties(b,{__esModule:{value:!0}});b.JV=b.c1a=b.UEb=void 0;b.UEb=a;b.c1a=function(c){var g,l,d;if(2 <= c)return -100;if(0 >= c)return 100;g=1 > c?c:2 - c;l=Math.sqrt(-2 * Math.log(g / 2));l=-.70711 * ((2.30753 + .27061 * l) / (1 + l * (.99229 + .04481 * l)) - l);for(var m=0;2 > m;m++){d=a(l) - g;l+=d / (1.1283791670955126 * Math.exp(-(l * l)) - l * d);}return 1 > c?l:-l;};b.JV=function(c){return 1 - a(c);};},function(t){function b(a){this.Fha=a;this.ng=[];this.Tr=!1;this.tG=void 0;this.dk={};}b.prototype.S3=function(a){this.ng.length === this.Fha && this.ng.shift();Array.isArray(a)?this.ng=this.ng.concat(a):this.ng.push(a);this.Tr=!0;};b.prototype.MN=function(){return this.ng.length;};b.prototype.qka=function(){var a;a=this.ng;return 0 < a.length?a.reduce(function(c,g){return c + g;},0) / this.ng.length:void 0;};b.prototype.I4=function(){var a,c;a=this.ng;if(0 < a.length){c=this.qka();a=a.reduce(function(g,l){return g + l * l;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.Ut=function(a){var c,g,l;if(this.Tr || void 0 === this.tG)(this.tG=this.ng.slice(0).sort(function(m,d){return m - d;}),this.dk={},this.Tr=!1);if(void 0 === this.dk[a]){c=this.tG;g=Math.floor(a / 100 * (c.length - 1) + 1) - 1;l=(a / 100 * (c.length - 1) + 1) % 1;this.dk[a]=g === c.length - 1?c[g]:c[g] + l * (c[g + 1] - c[g]);}return this.dk[a];};t.exports=b;},function(t,b,a){var m;function c(d){this.reset();this.T_b(d);}function g(d){this.setInterval(d);this.reset();}function l(d){this.sC=new g(d);this.Se=0;this.Wc=null;}m=a(10);c.prototype.T_b=function(d){this.fL=Math.pow(.5,1 / d);this.kT=d;};c.prototype.reset=function(d){d && d.Ba && m.Fa(d.Ba)?d.ih && m.Fa(d.ih)?(this.Yv=this.jpb,this.Rp=d.Ba,this.qC=d.ih + d.Ba * d.Ba):(this.Yv=this.jpb,this.Rp=d.Ba,this.qC=d.Ba * d.Ba):this.qC=this.Rp=this.Yv=0;};c.prototype.add=function(d){var f;if(m.Fa(d)){this.Yv++;f=this.fL;this.Rp=f * this.Rp + (1 - f) * d;this.qC=f * this.qC + (1 - f) * d * d;}};c.prototype.get=function(){var d,f,h;if(0 === this.Yv)return {Ba:0,ih:0};d=this.Rp;f=this.qC;h=1 - Math.pow(this.fL,this.Yv);d/=h;f/=h;h=d * d;return {Ba:Math.floor(d),ih:Math.floor(f > h?f - h:0)};};c.prototype.getState=function(){return 0 === this.Yv?null:{a:Number(this.Rp.toPrecision(6)),s:Number(this.qC.toPrecision(6)),n:this.Yv};};c.prototype.Me=function(d){if(m.Fb(d) || !m.has(d,"a") || !m.has(d,"s") || !m.isFinite(d.a) || !m.isFinite(d.s))return (this.qC=this.Rp=this.Yv=0,!1);this.Rp=d.a;this.qC=d.s;m.has(d,"n") && m.Fa(d.n)?this.Yv=d.n:this.Yv=16 * this.kT;return !0;};g.prototype.setInterval=function(d){this.kT=d;this.fL=-Math.log(.5) / d;};g.prototype.reset=function(d){this.Cb=this.Tf=null;d && m.isFinite(d.Ba)?this.Rp=d.Ba:this.Rp=0;};g.prototype.start=function(d){m.Fb(this.Tf) && (this.Cb=this.Tf=d);};g.prototype.add=function(d,f,h){var k,n,p;m.Fb(this.Tf) && (this.Cb=this.Tf=f);this.Tf=Math.min(this.Tf,f);f=Math.max(h - f,1);k=this.fL;n=Math.max(h,this.Cb);p=n - this.Cb;h=n - h;this.Rp=this.Rp * (0 < p?Math.exp(-k * p):1) + 8 * d / f * (1 - Math.exp(-k * f)) * (0 < h?Math.exp(-k * h):1);this.Cb=n;};g.prototype.get=function(d){var f;d=Math.max(d,this.Cb);f=this.Rp * Math.exp(-this.fL * (d - this.Cb));d=1 - Math.exp(-this.fL * (d - this.Tf));0 < d && (f/=d);return {Ba:Math.floor(f)};};g.prototype.toString=function(){return "ewmav(" + this.kT + ")";};l.prototype.setInterval=function(d){this.sC.setInterval(d);};l.prototype.reset=function(d){this.sC.reset(d);this.Se=0;this.Wc=null;};l.prototype.start=function(d){!m.Fb(this.Wc) && d > this.Wc && (this.Se+=d - this.Wc,this.Wc=null);this.sC.start(d - this.Se);};l.prototype.add=function(d,f,h){!m.Fb(this.Wc) && h > this.Wc && (this.Se+=f > this.Wc?f - this.Wc:0,this.Wc=null);this.sC.add(d,f - this.Se,h - this.Se);};l.prototype.stop=function(d){this.Wc=Math.max(m.Fb(this.sC.Cb)?0:this.sC.Cb + this.Se,m.Fb(this.Wc)?d:Math.min(this.Wc,d));};l.prototype.get=function(d){return this.sC.get((m.Fb(this.Wc)?d:this.Wc) - this.Se);};l.prototype.toString=function(){return this.sC.toString();};t.exports={Ahb:c,e7b:g,yhb:l};},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.OCa=b.DCa=void 0;c=a(2);g=a(765);l=(function(){function m(d,f,h,k,n){this.alpha=d;this.Ba=f;this.ih=h;this.weight=k;this.Dya=n;}m.prototype.update=function(d,f,h){var k,n,p,q;k=this.alpha;n=this.weight;p=this.Dya;q=k * (d - p);5 < q && (this.weight/=Math.exp(q),this.Dya=p=d);d=Math.exp(k * (f - p)) - Math.exp(k * (d - p));f=this.weight+=d;k=this.Ba;this.Ba=p=k + d * (h - k) / f;this.ih=n?this.ih * (f - d) / n + d * (h - p) * (h - k):0;};return m;})();t=(function(){var t00;t00=2;for(;t00 !== 7;){switch(t00){case 2:m.prototype.reset=function(){var v00;v00=2;for(;v00 !== 4;){switch(v00){case 2:this.Xb=new l(-Math.log(.5) / this.v7,0,0,0,0);this.Kx=this.jQ=null;this.vra=[];v00=4;break;}}};m.prototype.start=function(d){var w00;w00=2;for(;w00 !== 1;){switch(w00){case 2:null === this.Kx && (this.Kx=d);w00=1;break;}}};m.prototype.add=function(d,f,h){var x00,k,n,p,q;x00=2;for(;x00 !== 20;){switch(x00){case 2:k=this.Kx;this.Kx=k=null === k?f:Math.min(k,f);n=this.jQ;x00=4;break;case 4:this.jQ=null === n?h:Math.max(n,h);n=this.vra;n.push([f,h,d]);x00=8;break;case 8:n=this.b4b(n);d=this.FQb;x00=6;break;case 6:f=this.Xb;x00=14;break;case 14:x00=n && n.length > d?13:10;break;case 11:f.update(p,q,(q - p) / h[2]);x00=14;break;case 10:this.vra=n;x00=20;break;case 13:x00=(h=n.shift())?12:14;break;case 12:(p=h[0] - k,q=h[1] - k);x00=11;break;}}};t00=4;break;case 9:m.prototype.toString=function(){var C00;C00=2;for(;C00 !== 1;){switch(C00){case 2:var P9Z="Deliv";P9Z+="eryDis";P9Z+="t(";return P9Z + this.v7 + ")";break;}}};return m;break;case 4:m.prototype.b4b=function(d){var y00,x,y,n,p,q,u,r,w,v,f,h,k;y00=2;for(;y00 !== 22;){switch(y00){case 20:(x=f[n + 1],y=Math.min(x,r) - Math.max(f[n],u));0 < y && (y=y * w / v,q[n]=q[n]?q[n] + y:y);y00=18;break;case 27:n=0;y00=26;break;case 5:n=d[k];f.push(n[0]);y00=3;break;case 26:y00=n < p?25:23;break;case 1:y00=k < h?5:8;break;case 15:d=[];y00=27;break;case 10:y00=n < p?20:16;break;case 8:f=f.filter(function(z,A,B){var z00;z00=2;for(;z00 !== 1;){switch(z00){case 4:return B.indexOf(z) != A;break;z00=1;break;case 2:return B.indexOf(z) === A;break;}}}).sort(function(z,A){var i9R=a000;var A00;A00=2;for(;A00 !== 1;){switch(A00){case 2:i9R.O3Z(0);return i9R.Q3Z(z,A);break;case 4:i9R.q3Z(1);return i9R.Q3Z(z,A);break;A00=1;break;}}});(p=f.length - 1,q=Array(p));y00=6;break;case 13:n=d[k];(u=n[0],r=n[1],w=n[2],v=r - u);y00=11;break;case 25:(h=q[n],0 < h && d.push([f[n],f[n + 1],h]));y00=24;break;case 18:y00=r <= x?16:17;break;case 3:f.push(n[1]);y00=9;break;case 23:return d;break;case 16:k++;y00=14;break;case 6:k=0;y00=14;break;case 14:y00=k < h?13:15;break;case 24:n++;y00=26;break;case 11:n=0;y00=10;break;case 9:k++;y00=1;break;case 17:n++;y00=10;break;case 2:(f=[],h=d.length,k=0);y00=1;break;}}};m.prototype.get=function(d,f){var B00,w,h,k,n,p,q,u,r,v,x,y;B00=2;for(;B00 !== 11;){switch(B00){case 5:r=new l(r.alpha,r.Ba,r.ih,r.weight,r.Dya);B00=4;break;case 4:w=0;B00=3;break;case 3:B00=w < k?9:6;break;case 12:r=this.Xb;B00=14;break;case 1:B00=0 < k || q > u?5:12;break;case 2:(h=this.vra,k=h.length,n=this.Kx || 0,p=this.jQ || 0,q=d - p,u=this.KRb,r=this.Xb);B00=1;break;case 9:(v=h[w],x=v[0] - n,y=v[1] - n);r.update(x,y,(y - x) / v[2]);B00=7;break;case 7:w++;B00=3;break;case 6:0 < q && (void 0 === f && (f=this.g5a),q >= u && (f=Math.min(f,this.g5a)),h=f * r.Ba,k=Math.pow(f,2) * r.ih / r.weight,0 === k?q=Math.max(q,h):(u=g.S1a(q,h,k),u=h - u,w=1 - g.R1a(q,h,k),q=1E-11 < w?Math.max(u / w,q):q + 2 * k / h),r.update(p - n,d - n,q / f));B00=14;break;case 14:d=r.weight;return {Ba:d?r.Ba:null,ih:d?r.ih / d:null};break;}}};t00=9;break;}}function m(d){var u00,f,h,k;u00=2;for(;u00 !== 7;){switch(u00){case 2:var u9Z="1SI";u9Z+="Y";u9Z+="bZrNJ";u9Z+="C";u9Z+="p9";u9Z;(f=d.max_n,h=d.min_b,k=d.min_iv);this.v7=d.hl;this.FQb=f;this.g5a=h;u00=9;break;case 9:this.KRb=k;this.reset();u00=7;break;}}}})();b.DCa=t;t=(function(m){function d(f){f=m.call(this,f) || this;f.reset();return f;}c.__extends(d,m);d.prototype.reset=function(){m.prototype.reset.call(this);this.offset=0;this.UJ=null;};d.prototype.start=function(f){var h;h=this.UJ;null !== h && f > h && (this.offset+=f - h,this.UJ=null);m.prototype.start.call(this,f - this.offset);};d.prototype.add=function(f,h,k){var n;n=this.UJ;null !== n && k > n && (this.offset+=Math.max(h - n,0),this.UJ=null);n=this.offset;m.prototype.add.call(this,f,h - n,k - n);};d.prototype.stop=function(f){var h,k;h=this.jQ;k=this.UJ;this.UJ=Math.max(null === h?0:h + this.offset,null === k?f:Math.min(k,f));};d.prototype.get=function(f,h){var k;k=this.UJ;return m.prototype.get.call(this,(null === k?f:k) - this.offset,h);};return d;})(t);b.OCa=t;},function(t,b,a){var g,l;function c(m,d,f,h){g.call(this,f,h);this.gw=new l(m);this.Opb=d;}g=a(144);l=a(364);c.prototype=Object.create(g.prototype);c.prototype.shift=function(){var m;m=this.px(0);g.prototype.shift.call(this);null !== m && this.gw.S3(m);return m;};c.prototype.flush=function(){var m;m=this.get();this.gw.S3(m);g.prototype.reset.call(this);return m;};c.prototype.get=function(){var m;m=this.uW();return {sampleSize:this.MN(),B$:m,XX:m.Bj?(m.pl - m.ol) / m.Bj:void 0};};c.prototype.MN=function(){return this.gw.MN();};c.prototype.uW=function(){return this.gw.MN() < this.Opb?{ol:void 0,Bj:void 0,pl:void 0,sampleSize:void 0,Ej:void 0}:{ol:this.gw.Ut(25),Bj:this.gw.Ut(50),pl:this.gw.Ut(75),sampleSize:this.gw.MN(),Ej:this.gw.Ut.bind(this.gw)};};c.prototype.toString=function(){return "biqr(" + this.dM + "," + this.Jd + "," + this.hk + ")";};t.exports=c;},function(t,b,a){var g,l;function c(m){this.J={zX:m.maxc || 25,ila:m.c || .5,O5b:m.w || 15E3,mz:m.b || 5E3};g.call(this,this.J.O5b,this.J.mz);this.NT();}g=a(144);l=a(223).TDigest;c.prototype=Object.create(g.prototype);c.prototype.shift=function(){var m;m=this.px(0);g.prototype.shift.call(this);null !== m && (this.gf.push(m,1),this.Tr=!0);return m;};c.prototype.flush=function(){var m;m=this.get();this.gf.push(m,1);this.Tr=!0;g.prototype.reset.call(this);return m;};c.prototype.get=function(){return this.b0a();};c.prototype.bA=function(){var m;m=this.b0a();return {min:m.min,p10:m.r$,p25:m.ol,p50:m.Bj,p75:m.pl,p90:m.s$,max:m.max,centroidSize:m.Owb,sampleSize:m.sampleSize,centroids:m.Vi};};c.prototype.b0a=function(){var m;if(0 === this.gf.size())return null;m=this.gf.Ej([0,.1,.25,.5,.75,.9,1]);if(m[2] === m[4])return null;if(this.Tr || !this.kg)(this.Tr=!1,this.kg={min:m[0],r$:m[1],ol:m[2],Bj:m[3],pl:m[4],s$:m[5],max:m[6],Ej:this.gf.Ej.bind(this.gf),Owb:this.gf.size(),sampleSize:this.gf.n,Vi:this.FHb(),bA:this.bA.bind(this)});return this.kg;};c.prototype.FHb=function(){var m;if(0 === this.gf.size())return null;if(!this.Tr && this.kg)return this.kg.centroids;m=this.gf.Ej([.25,.75]);if(m[0] === m[1])return null;this.gf.size() > this.J.zX && this.gf.zz();m=this.gf.Bp(!1).map(function(d){return {mean:d.vg,n:d.n};});return JSON.stringify(m);};c.prototype.Y_a=function(){return this.gf.summary();};c.prototype.size=function(){return this.gf.size();};c.prototype.toString=function(){return "btdtput(" + this.dM + "," + this.Jd + "," + this.hk + "): " + this.gf.summary();};c.prototype.NT=function(){this.gf=new l(this.J.ila,this.J.zX);};t.exports=c;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r;function c(w){this.lob=w;}b=a(365);g=b.Ahb;l=b.yhb;m=a(225).zhb;d=a(366).OCa;f=a(225).anb;h=a(367);k=a(368);n=a(370).CMa;p=a(766);q=a(767);u=a(226);r=a(768).lKa;c.prototype.constructor=c;c.prototype.create=function(w,v){var x,y,z,A;x=this.lob[w];y=v[w];z={};x && Object.keys(x).forEach(function(B){z[B]=x[B];});y && Object.keys(y).forEach(function(B){z[B]=y[B];});switch(z.type){case "slidingwindow":A=new m(z.mw);break;case "discontiguous-ewma":A=new l(z.mw);break;case "initial-discontiguous-ewma":A=new r(new l(z.mw),z.playerStates);break;case "wssl":A=new f(z.mw,z.max_n);break;case "iqr":A=new h(z.mx,z.mn,z.bw,z.iv);break;case "tdigest":A=new k(z);break;case "discrete-ewma":A=new g(z.hl);break;case "tdigest-history":A=new n(z);break;case "iqr-history":A=new p(z);break;case "avtp":A=new u();break;case "entropy":A=new q(z);break;case "deliverytime":A=new d(z);}A && (A.type=z.type);return A;};t.exports=c;},function(t,b,a){var g,l;function c(m){this.J={zX:m.maxc || 25,ila:m.c || .5,GXb:m.rc || "none",v7:m.hl || 7200};this.NT();this.srb=this.J.GXb;this.kT=this.J.v7;this.qga=Math.exp(Math.log(2) / this.kT);this.qga=Math.max(this.qga,1);this.H2=1;}g=a(10);l=a(223).TDigest;new (a(6).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var m;if(0 === this.gf.size())return null;m=this.gf.Ej([.25,.75]);if(m[0] === m[1])return null;this.gf.size() > this.J.zX && this.gf.zz();m=this.gf.Bp(!1).reduce((function(d,f){g.Fa(f.vg) && g.Fa(f.n) && d.push({mean:f.vg,n:f.n / this.H2});return d;}).bind(this),[]);return {tdigest:JSON.stringify(m)};};c.prototype.Me=function(m){var d;if(g.Fb(m) || !g.has(m,"tdigest") || !g.Ve(m.tdigest))return !1;try{d=JSON.parse(m.tdigest);}catch(f){return !1;}d.forEach(function(f){g.isFinite(f.n) || (f.n=1);});m=d.map(function(f){return {vg:f.mean,n:f.n};});this.H2=1;this.gf.yva(m);void 0 === this.gf.Ej(0) && this.NT();};c.prototype.get=function(){var m,d;m=this.gf;d=m.Ej([0,.1,.25,.5,.75,.9,1]);return {min:d[0],r$:d[1],ol:d[2],Bj:d[3],pl:d[4],s$:d[5],max:d[6],Vi:m.Bp(!1)};};c.yJb=function(m){var d;d=new c({});g.Fb(m) || g.ka(m) || !g.isArray(m.Vi) || (d.gf.yva(m.Vi),void 0 === d.gf.Ej(0) && d.NT());m=d.gf.Ej([.25,.75]);return m[0] === m[1]?null:function(f){return d.gf.Ej(f);};};c.prototype.add=function(m){var d;d=1;"ewma" === this.srb && (this.H2=d=this.H2 * this.qga);this.gf.push(m,d);};c.prototype.toString=function(){return "TDigestHist(" + this.gf.summary() + ")";};c.prototype.NT=function(){this.gf=new l(this.J.ila,this.J.zX);};t.exports={CMa:c};},function(t,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.NEa=b.Jda=void 0;c=a(2);g=c.__importStar(a(10));l=c.__importDefault(a(6));m=a(776);d=a(777);f=(function(){return function(){this.s4=new d.sS(100);this.R9=new d.sS(100);};})();t=(function(){function h(k,n,p){var q,u,r;this.J=n;this.I=p;this.w3=k;q=this.UL=this.jL=this.iL=0;u=0;r=0;this.w3.length >= this.J.C9 && (this.w3.forEach(function(w){!(w=w.get().pGb) || g.ka(w.avtp) || g.ka(w.neuhd) || (q+=w.avtp,u+=1 * w.neuhd,r++);}),this.UL=r,this.iL=q / r,this.jL=u / r);}Object.defineProperties(h.prototype,{bvb:{get:function(){return this.iL;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dvb:{get:function(){return this.jL;},enumerable:!1,configurable:!0}});h.prototype.n8=function(){return this.UL >= this.J.C9 && this.iL >= this.J.baselineHighAndStableThreshold.bwThreshold && this.jL < this.J.baselineHighAndStableThreshold.nethreshold;};return h;})();b.Jda=t;t=(function(h){function k(n,p,q){n=h.call(this,n,p,q) || this;n.hga=[];n.yFb={};n.Tbb=[];n.Dz=new f();n.w3.length >= n.J.C9 && (n.NQa("avtp",n.Dz.s4),n.NQa("neuhd",n.Dz.R9));return n;}c.__extends(k,h);k.prototype.n8=function(){var n;this.xJb();n=new m.FGa(this.I,this.Tbb,this.qvb);n.Zua(this.hga);n=n.yxb(this.J.F7.Jec);return this.M4b && 1 === n && this.UL >= this.J.C9;};k.prototype.hW=function(){var n,p,q,u;n={};p=l.default.time.now();q=new Date(p);u=q.getHours();n.currentMonoTime=p;n.currentTime=q.getTime();n.currentHour=u;return n;};k.prototype.qZa=function(n,p,q){n="avtp" === n?this.iL:this.jL;for(var u=p.I4(),r=0,w="skew" === q?3:4,v=0;v < p.ng.length;v++){g.ka(n) || g.ka(u) || (r+=Math.pow(p.ng[v] - n,w));}r/=p.ng.length;return !g.ka(u) && 0 < u?r / Math.pow(u,w) - 3 * ("skew" === q?0:1):NaN;};k.prototype.KZa=function(n,p,q){var u;u=0;"lte" === q?u=n.reduce(function(r,w){return w <= p?r + 1:r;},0) / (1 * n.length):"gte" === q && (u=n.reduce(function(r,w){return w >= p?r + 1:r;},0) / (1 * n.length));return u;};k.prototype.dJb=function(n){var p,q;p=n.Ut(25);q=n.Ut(50);n=n.Ut(75);return g.ka(p) || g.ka(q) || g.ka(n)?NaN:0 < q?(n - p) / q:NaN;};k.prototype.wHb=function(n,p){n="avtp" === n?this.iL:this.jL;p=p.I4();return !g.ka(p) && !g.ka(n) && (0 < p || 0 < n) && 0 < n?(n - p) / (n + p):NaN;};k.prototype.uW=function(n,p){n=n.Ut(p);return g.ka(n)?NaN:n;};k.prototype.normalize=function(n,p,q){return !isNaN(n) && 0 < q?(n - p) / q:NaN;};k.prototype.xJb=function(){var n,p,q,u,r,w,v,x,y,z,A,B;n=this;p=this.J.F7.S3a.udc;q=this.J.F7.S3a.sdc;u=this.J.F7.S3a.tdc;x=[];B=0;this.M4b=!Object.keys(p).some(function(E){var D;A=NaN;if(!(p.hasOwnProperty(E) && q.hasOwnProperty(E) && u.hasOwnProperty(E) && !g.ka(n.Dz) && n.Dz.s4 && n.Dz.R9) || 1 > n.UL || "number" !== typeof p[E] || "number" !== typeof q[E] || "number" !== typeof u[E])return !0;r=p[E];w=q[E];v=u[E];x=E.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":D=n.Dz.s4;break;case "neuhd":D=n.Dz.R9;break;default:D=void 0;}if("avtp" === y || "neuhd" === y){if(D)switch(z){case "last":A=D.ng[n.UL - 1];break;case "mean":A="avtp" === y?n.iL:n.jL;break;case "niqr":A=n.dJb(D);break;case "skew":A=n.qZa(y,D,"skew");break;case "kurtosis":A=n.qZa(y,D,"kurtosis");break;case "std":A=D.I4();break;case "b":A=n.wHb(y,D);break;default:-1 !== E.search("[p][1-9]?[1-9]") && (A=n.uW(D,Number(E.split("_p",2)[1])));}}else switch(E){case "fracAbove20Mbps":D=n.Dz.s4;A=g.ka(D)?NaN:n.KZa(D.ng,2E4,"gte");break;case "fracBelow20p":D=n.Dz.R9;A=g.ka(D)?NaN:n.KZa(D.ng,.15,"lte");break;case "hour_current":A=n.hW().currentHour;break;case "session_ct":A=n.UL;break;case "intercept":(A=r,n.qvb=A);}A=n.normalize(A,w,v);if(isNaN(A))return !0;"intercept" !== E && (n.hga.push(A),n.Tbb.push(r),n.yFb[E]=B,B+=1);});};k.prototype.NQa=function(n,p){this.w3.forEach(function(q){q=q.get().pGb;!q || "avtp" !== n && "neuhd" !== n || g.ka(q[n]) || p.S3(Number(q[n]));});};return k;})(t);b.NEa=t;},function(t,b,a){var g,l,m,d;function c(f){return function(){for(var h=Array(this.length),k=0;k < this.length;++k){h[k]=f.call(this,k);}return h;};}Object.defineProperties(b,{__esModule:{value:!0}});b.jub=b.$w=b.Xfa=b.RMa=void 0;t=a(2);g=a(4);t=t.__importDefault(a(6));l=a(21);m=new t.default.Console("FRAGMENTS","media|asejs");d=(function(){function f(h,k){this.qd=h;this.Ce=k;}Object.defineProperties(f.prototype,{index:{get:function(){return this.Ce;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Yc:{get:function(){return new l.R(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Sd:{get:function(){return new l.R(this.tb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Za:{get:function(){return this.qd.A3 + this.qd.LC[this.Ce];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{tb:{get:function(){return this.Za + this.qd.Mr[this.Ce];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{eu:{get:function(){return this.qd.Mr[this.Ce];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{va:{get:function(){return this.qd.va;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{W:{get:function(){return this.qd.W;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$:{get:function(){return Math.floor(1E3 * this.Za / this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{La:{get:function(){return Math.floor(1E3 * (this.Za + this.eu) / this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{duration:{get:function(){return this.La - this.$;},enumerable:!1,configurable:!0}});f.prototype.toJSON=function(){return {startPts:1E3 * this.Za / this.va.W,endPts:1E3 * this.tb / this.va.W,duration:1E3 * this.eu / this.va.W,index:this.index};};return f;})();b.RMa=d;a=(function(){function f(h,k,n,p){this.mediaType=h;this.length=n.vd.length;this.ob=n.W;this.Mr=n.vd;this.U3=p && p.Vu;this.wRa=p && p.jv;this.AL=k;this.Vya=this.Wya=this.rPa=void 0;this.A3=n.vl;this.LC=new Uint32Array(this.length + 1);if(this.length){for(k=h=0;k < this.length;++k){this.LC[k]=h;h+=this.Mr[k];}this.LC[k]=h;this.pga=Math.floor((this.La - this.$) / this.length);}}Object.defineProperties(f.prototype,{vl:{get:function(){return this.cbb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Pma:{get:function(){return this.cbb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$:{get:function(){return this.Ij(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{La:{get:function(){return this.Ij(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$i:{get:function(){return new l.R(this.Pma,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Dsa:{get:function(){return this.rPa || this.Mnb();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{va:{get:function(){return this.AL;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{W:{get:function(){return this.ob;},enumerable:!1,configurable:!0}});f.prototype.cbb=function(h){return this.A3 + this.LC[h];};f.prototype.Ij=function(h){return Math.floor(1E3 * (this.A3 + this.LC[h]) / this.W);};f.prototype.HV=function(h){return this.Ij(h + 1);};f.prototype.vd=function(h){return this.HV(h) - this.Ij(h);};f.prototype.get=function(h){return new d(this,h);};f.prototype.On=function(h,k,n){if(0 === this.length || h < this.Ij(0))return -1;h=Math.max(h,k || 0);for(var p=0,q=this.length - 1,u,r;q >= p;){if((u=p + (q - p >> 1),r=this.Ij(u),h < r))q=u - 1;else if(h >= r + this.vd(u))p=u + 1;else {for(;k && u < this.length && this.Ij(u) < k;){++u;}return u < this.length?u:n?this.length - 1:-1;}}return n?this.length - 1:-1;};f.prototype.m6=function(h,k,n){h=this.On(h,k,n);return 0 <= h?this.get(h):void 0;};f.prototype.vla=function(h,k){var n,p;n=Math.floor(k * this.W / 1E3);k=Math.min(h + Math.ceil(k / this.pga),this.length);p=this.LC[k] - this.LC[h];if(p > n){for(;p >= n;){--k;p-=this.Mr[k];}return k - h + 1;}for(;p < n && k <= this.length;){p+=this.Mr[k];++k;}return k - h;};f.prototype.subarray=function(h,k){g.assert(void 0 === h || 0 <= h && h < this.length);g.assert(void 0 === k || k > h && k <= this.length);return new f(this.mediaType,this.va,{W:this.W,vl:this.A3 + this.LC[h],vd:this.Mr.subarray(h,k)},this.U3 && ({Vu:this.U3.subarray(h,k + 1),jv:this.wRa}));};f.prototype.forEach=function(h){for(var k=0;k < this.length;++k){h(this.get(k),k,this);}};f.prototype.map=function(h){for(var k=[],n=0;n < this.length;++n){k.push(h(this.get(n),n,this));}return k;};f.prototype.reduce=function(h,k){for(var n=0;n < this.length;++n){k=h(k,this.get(n),n,this);}return k;};f.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.pga};};f.prototype.dump=function(){var k;m.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.pga + "ms");for(var h=0;h < this.length;++h){k=this.get(h);m.trace("TrackFragments: " + h + ": [" + k.$ + "-" + k.La + "]");}};f.prototype.Mnb=function(){for(var h=0,k=0;k < this.length;k++){h=Math.max(this.Mr[k],h);}return this.rPa=h;};return f;})();b.Xfa=a;b.$w=c;a.prototype.bbb=c(a.prototype.Ij);c(a.prototype.HV);c(a.prototype.vd);b.jub=function(f){return "[" + Array(f.length).map(function(h,k){return f[k].toString();}).join(",") + "]";};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iXa=b.Vz=b.Dm=b.V6=void 0;c=a(4);g=a(143);b.V6=function(l,m){return l.On(m,void 0,!0);};b.Dm=function(l,m,d,f,h,k){var n,p,q,u;g.en.Dq(l);c.assert(d.Y,"findFirstFragment called without stream fragments");n=d.Y;f=Math.max(d.Y.Ij(0),f);0 === l && !k && m.qm && !m.HG && d.zf && (f=Math.max(d.Y.Ij(0),f + d.zf.U));p=b.V6(n,f);q=d.il(p);if(q.La < f)return q;u=q.vna(f);u?(0 < u.tl && q.Lk({start:u.tl}),0 !== l || m.Rsa || (0 > u.Fd && q.Lk({start:u.tl}),u.Fd < (m.qm && !m.HG && d.zf?Math.floor(d.zf.U):0) && q.Bma())):f >= q.La && p < n.length - 1 && (q=d.il(p + 1));1 === l && h && q.La === h && p < n.length - 1 && (q=d.il(p + 1));0 === l && !q.ya && (m.L1a || m.LDb) && k && q.Lk({});q.SP(f);return q;};b.Vz=function(l,m,d,f,h,k){var n,p;g.en.Dq(l);n=d.Y;void 0 === f && (f=n.La);if(h && (h=h.TFb(d,f,l,m,k)))return h;h=n.va;k=f?f + b.iXa(l,h,m.BE,m.zaa):n.HV(n.length - 1);n=n.On(k,void 0,!0);h=d.il(n);0 === n || h.$ !== f || 1 !== l && m.BE || (--n,h=d.il(n));k=1 === l?k:f;if(k < h.La){p=h.una(k);p && 0 !== p.tl?h.Lk({end:p.tl}):0 === l && (p || k < h.$) && 0 !== n?h=d.il(n - 1):1 !== l || (d.nNb || m.oza) && !p || 0 === n || (h=d.il(n - 1));}0 === l && !h.ya && m.L1a && h.Lk();h.SP(f);return h;};b.iXa=function(l,m,d,f){var h;return 1 === l || f?0:d?null !== (h=null === m || void 0 === m?void 0:m.U) && void 0 !== h?h:0:m?-m.U:0;};},function(t,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.wAa=void 0;c=a(782);g=a(21);l=a(4);m=a(102);t=(function(){function d(f,h,k){var n,p,q;this.J=h;this.I=k;this.gk=f.track;this.$L=f.Of;this.Cs=f.Cs;this.npb=f.Cs.ll;this.DL=this.Qa=void 0;h=f.Du;this.Du=void 0 === h?!0:h;this.D5=f.D5;this.zL=void 0;this.tPa=this.Fg=0;this.url=this.pJ=this.Pc=this.Ts=this.Ura=this.location=this.Ua=this.Hb=void 0;this.lA=!1;this.nra=this.lf=void 0;h=(f=this.J) && "object" === typeof f.q8a && f.q8a[this.profile];"object" === typeof h && (h=h[this.bitrate]) && (this.nrb=new g.R(h.ticks,h.timescale));this.aqb=0 <= (null === (n=f.Qub) || void 0 === n?void 0:n.indexOf(this.profile));if((null === (p=f.aP) || void 0 === p?0:p.acc) && 1 === this.mediaType && (n=this.Cs,0 < (null === (q=n.er) || void 0 === q?void 0:q.length))){q=n.er.splice(0,n.er.length);n=new Uint8Array(q.length);for(p=0;p < q.length;p++){n[p]=q[p].xb;}this.er=n;}}Object.defineProperties(d.prototype,{ke:{get:function(){return ! !this.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{P:{get:function(){return this.gk.P;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{S:{get:function(){return this.P.S;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{K:{get:function(){return this.gk.K;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mediaType:{get:function(){return this.gk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{va:{get:function(){return this.gk.va;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{W:{get:function(){return this.gk.W;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{JO:{get:function(){return this.gk.JO;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{trackId:{get:function(){return this.gk.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{track:{get:function(){return this.gk;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Of:{get:function(){return this.$L;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Sa:{get:function(){return this.Cs.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{id:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ll:{get:function(){return this.npb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bitrate:{get:function(){return this.Cs.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xb:{get:function(){return this.Cs.vmaf || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{gZb:{get:function(){return this.Cs.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{paa:{get:function(){return this.Cs.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{profile:{get:function(){return this.Cs.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Kg:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ws:{get:function(){return this.Cs.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zf:{get:function(){return this.nrb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rLb:{get:function(){return this.aqb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Y:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{MA:{get:function(){return this.Qa && this.Qa.MA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Sna:{get:function(){return this.gk.Sna;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Rna:{get:function(){return this.gk.Rna;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{lu:{get:function(){return void 0 !== this.zL?this.zL:this.bOb();},set:function(f){this.zL=f;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Fu:{get:function(){return this.Du && !this.lA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zg:{get:function(){return this.DL;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nNb:{get:function(){l.assert(! !this.Y,"Initial header should have been received already");return this.P.Vw() && -1 < this.Kg.indexOf("h264mpl") && void 0 === this.Y.dja;},enumerable:!1,configurable:!0}});d.prototype.jl=function(){return this.P.jl(this.mediaType,this.Sa);};d.prototype.X6=function(){var f;f=this.jl();return f && f.stream.Y;};d.prototype.VE=function(f){return this.P.VE(this,f);};d.prototype.j$=function(){this.track.j$();};d.prototype.i$=function(){this.track.i$();};d.prototype.h$=function(f,h,k,n,p,q,u){n && void 0 !== n.vl && (this.track.ke || void 0 !== n.vd && n.vd.length) && void 0 !== n.offset && void 0 !== n.sizes && n.sizes.length?(this.J.qm && this.zf && 0 === n.vl && (n.vl+=this.zf.dg(n.W).pc),this.DL=f,this.ke || (this.track.h$(this,h,k,n,q),this.Qa=new c.nMa(this.$L,this.track.Cp,n,p,q,u,this.K),this.track.ETb(this))):n?this.I.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== n.vl) + "," + this.track.ke + "," + this.track.gva + "," + (void 0 !== n.vd) + "," + !(!n.vd || !n.vd.length) + "," + (void 0 !== n.offset) + "," + (void 0 !== n.sizes) + "," + !(!n.sizes || !n.sizes.length)):this.I.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};d.prototype.b5=function(f){this.ke || (this.track.Hyb(f.track),this.Qa=f.Y,this.DL=f.Zg);};d.prototype.il=function(f){return new m.gn(this,this.Y.get(f));};d.prototype.FZa=function(f){var h;h=this.il(f.index);f.ya && (h.Lk(f.ya),h.SP(f.rv));return h;};d.prototype.bdb=function(f,h){this.Fg=f;this.tPa=h;};d.prototype.Hxb=function(){this.Ua=this.Hb=this.Pc=this.location=this.url=void 0;};d.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,streamId:this.Sa,bitrate:this.bitrate,streamIndex:this.Of,isAvailable:this.Du,fittable:this.lu,vmaf:this.xb,resolutionWidth:this.gZb,resolutionHeight:this.paa};};d.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Sa + ":" + this.bitrate;};d.prototype.bOb=function(){var f,h,k,n,p;if(!this.ke)return !0;if(this.track.$pa >= this.bitrate)return this.zL=!0;if(this.track.Q3a <= this.bitrate)return this.zL=!1;p=this.Qa.fwb(this.J.qI,this.Fg,null !== (h=null === (f=this.P) || void 0 === f?void 0:f.wJ.U) && void 0 !== h?h:0,null !== (n=null === (k=this.P) || void 0 === k?void 0:k.wJ.fa) && void 0 !== n?n:0,this.tPa);p?this.track.gva && !this.ll && this.track.Sw || (this.track.$pa=this.bitrate):this.track.Q3a=this.bitrate;return this.zL=p;};return d;})();b.wAa=t;},function(t){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,g){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),g * a.byteLength / a.length);}:function(a,c,g){a.set(c,g);};t.exports={from:function(a,c,g,l){a=new a(c.length);for(var m="function" === typeof g,d=0;d < c.length;++d){a[d]=m?g.call(l,c[d],d,c):c[d];}return a;},set:b};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){var m;m=null !== g && g.apply(this,arguments) || this;m.Yz=1536;return m;}c.__extends(l,g);l.Ra=!0;return l;})(a(175).default);b.default=t;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="ac-3";return l;})(t);b.fca=a;t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="ec-3";return l;})(t);b.oda=t;},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(101);t=a(32);l=g.DF;t=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.Bc();this.fileSize=this.u.Vd();this.W=this.u.Vd();this.duration=this.u.Vd(!1,!0);this.Nta=this.u.Vd();this.u.Vd();this.Rta=this.u.Vd();this.uta=this.u.Da();this.Ota=this.u.Vd();this.Hna=this.u.Da();this.u.iB();this.Xe={moof:{offset:this.Nta},sidx:{offset:this.Ota,size:this.Hna}};this.Xe[g.iS]={offset:this.Rta,size:this.uta};this.u.offset - this.startOffset <= this.length - 24 && (this.Qta=this.u.Vd(),this.ota=this.u.Da(),this.Pta=this.u.Vd(),this.mta=this.u.Da(),this.Xe[g.oy]={offset:this.Qta,size:this.ota},this.Xe[g.ny]={offset:this.Pta,size:this.mta});return !0;};d.Zb=l;d.Ra=!1;return d;})(t.Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=a(101);a=a(32);g=t.EF;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){var d,k,n;this.Bc();1 <= this.version && this.u.iB();d=this.u.Da();this.Xe={};for(var f=this.startOffset + this.length,h=0;h < d;++h){k=this.u.Ul();"uuid" === k && (k=this.u.iB());n=this.u.Vd();this.Xe[k]={offset:f,size:n};f+=n;}return !0;};m.Zb=g;m.Ra=!1;return m;})(a.Fc);b.default=a;},function(t){var b,a,c,g;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Mk:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Mk:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Mk:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};g={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Mk:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};t.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":g},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":g};},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(32);l=a(83);t=(function(m){function d(f,h,k,n,p){k=m.call(this,k,n,p) || this;k.Vja=f;k.mr=h;k.Xa={};return k;}c.__extends(d,m);d.prototype.parse=function(f){var h,k,n,p,q,u;this.offset=0;h=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;n=this.Da();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=l.Co(this.Da());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.iB();}if(0 === h.length && this.mr.ZV(p,k,n))break;if(k + n > this.view.byteLength)break;q=this.Vja[p];u=void 0;if(q){if((u=new q(this,p,k,n,h[0]),(h[0] || this).Mt(u),u.parse(f)))this.config.II && q.Ra?h.unshift(u):this.offset=k + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=k + n;for(;h.length && this.offset > h[0].byteOffset + h[0].fo - 8;){u=h.shift();if(!u.ju(f))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.fo;}if(0 === h.length && this.mr.sV(p,k,n,u))break;}return !this.mr.done && (f=this.mr.endOffset?this.mr.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,SX:f}:{done:!0,offset:Math.min(this.mr.endOffset || Infinity,this.offset)};};d.prototype.Mt=function(f){g.Fc.Mt(this,f);};return d;})(a(802).bga);b.eF=t;},function(t,b,a){var g;function c(l,m){l=m.indexOf(l);-1 !== l && m.splice(l,1);}Object.defineProperty(b,"__esModule",{value:!0});g=a(101);t=(function(){function l(m){this.endOffset=m;this.done=!1;}l.prototype.ZV=function(){return this.done;};l.prototype.sV=function(m,d,f){return this.done=d + f >= this.endOffset;};return l;})();b.nR=t;t=(function(){function l(m,d,f,h){void 0 === d && (d=[]);void 0 === f && (f=[]);void 0 === h && (h=!1);this.$h=m;this.Kz=d;this.j_=f;this.qY=h;this.done=!1;this.Xe={};}l.prototype.ZV=function(m,d,f){-1 !== l.Spa.indexOf(m) && (this.Xe[m]={offset:d,size:f});if(-1 !== this.j_.indexOf(m)){if((this.Xe[m]={offset:d,size:f},this.qY))this.endOffset=d + f;else return (this.endOffset=d,this.done=!0);}else this.$h && -1 !== this.$h.indexOf(m)?(m=1 < this.$h.length?4096:0,this.endOffset=Math.max(d + f + m,this.endOffset || 0)):-1 !== this.Kz.indexOf(m) && (m=this.$h?4096:0,this.endOffset=Math.max(d + f + m,this.endOffset || 0));return this.done;};l.prototype.sV=function(m,d,f,h){var k;k=this;if(-1 !== this.j_.indexOf(m))return this.done=!0;m === g.DF && this.HZ(h.Xe);m === g.EF && this.HZ(h.Xe);this.$h && c(m,this.$h);c(m,this.Kz);return this.$h && 0 === this.$h.length && !this.Kz.some(function(n){return k.Xe[n];})?this.done=!0:this.done;};l.prototype.HZ=function(m){var d;d=this;this.Xe=m;this.endOffset=(this.$h || []).concat(this.Kz).reduce(function(f,h){return d.Xe[h]?(h=d.Xe[h],Math.max(h.offset + (h.size || 4096),f)):f;},this.endOffset || 0);};l.Spa=["moov","sidx"];return l;})();b.Ida=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Lfa=void 0;c=a(2);g=a(118);a(4);c.__importDefault(a(34));t=(function(){function l(m,d,f,h,k,n){this.vd=m;this.BJ=f;this.W=k;this.lPa=!1;this.length=Math.min(m.length,d.length,f.length);this.fk=d;h.length !== this.length?(m=new Uint8Array(this.length),g.YK.set(m,h.subarray(0,this.length),0),this.Lt=m):this.Lt=h;this.Qc=n;}Object.defineProperties(l.prototype,{fa:{get:function(){return void 0 !== this.Qc?this.Qc:this.Qc=this.wga();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{sizes:{get:function(){return this.fk;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Hi:{get:function(){return this.Lt;},enumerable:!1,configurable:!0}});l.prototype.subarray=function(m,d){return new l(this.vd.subarray(m,d),this.sizes.subarray(m,d),this.BJ.subarray(m,d),this.Hi.subarray(m,d),this.W);};l.prototype.concat=function(){var f,h,k,n;for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}d=[this];m=d.concat.apply(d,c.__spread(m));d=m.reduce(function(p,q){return p + q.length;},0);f=new Uint32Array(d);h=new Uint32Array(d);k=new Uint8Array(d);n=new Uint8Array(d);d=m[0].W;m.reduce(function(p,q){g.YK.set(f,q.vd,p);g.YK.set(h,q.sizes,p);g.YK.set(k,q.BJ,p);g.YK.set(n,q.Hi,p);return p + q.length;},0);return new l(f,h,k,n,d);};l.prototype.wga=function(){for(var m=this.sizes,d=this.length,f=0,h=0;h < d;++h){f+=m[h];}return f;};l.prototype.$Qb=function(){this.lPa || (this.lPa=!0,this.fk=new Uint32Array(this.fk),this.Lt=new Uint8Array(this.Lt),this.bM=new Uint8Array(this.Lt.length));};l.prototype.aRb=function(){void 0 === this.bM && (this.bM=new Uint8Array(this.Lt.length));};l.prototype.upgrade=function(m,d){var f;this.$Qb();m.aRb();f=m.sizes[d];void 0 !== this.Qc && (this.Qc+=f - this.sizes[d]);this.bM[d]=1;m.bM[d]=1;this.BJ[d]=m.BJ[d];this.Hi[d]=m.Hi[d];this.sizes[d]=f;};l.prototype.d2a=function(m){return void 0 === this.bM?!1:0 < this.bM[m];};return l;})();b.Lfa=t;},function(t,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.yca=void 0;c=a(2);g=a(118);t=a(18);l=c.__importDefault(a(6));m=a(9);d=a(43);f=a(4);h=a(239);k=a(384);a=a(385);n=l.default.MediaSource;a=(function(p){function q(u,r,w,v,x,y,z){r=p.call(this,u,v,x,r,z) || this;k.m0.x1a(r,u,v,z);r.Ls=w;r.track=w.track;r.Mw=! !v.Mw;r.KO=! !v.KO;r.nD=! !v.nD;r.qUb=v.fa;r.ZP=! !v.ZP;r.wha=(y?"(cache)":"") + r.Sa + " header";w=v.offset;y=v.fa;r.un && (w+=r.un.byteLength,y-=r.un.byteLength);r.XL(u.url || v.url,w,y);return r;}c.__extends(q,p);Object.defineProperties(q.prototype,{dd:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rY:{get:function(){return this.Vqb;},enumerable:!1,configurable:!0}});q.prototype.fd=function(){var u;if(!this.complete){u={type:"headerRequestCancelled",request:this};this.emit(u.type,u);}p.prototype.fd.call(this);};q.prototype.YV=function(u){this.stream.j$();p.prototype.YV.call(this,u);};q.prototype.uN=function(u,r,w){this.stream.i$();p.prototype.uN.call(this,u,r,w);};q.prototype.Ek=function(u){this.un=this.un?m.fD(this.un,u.response):u.response;u.aZ();this.stream.i$();this.Tqb()?p.prototype.Ek.call(this,u):this.RNa?(this.XL(u.url,u.offset + u.fa,this.RNa),this.stream.j$(),p.prototype.Ek.call(this,u)):this.w6(this);};q.prototype.XL=function(u,r,w){u=new h.UQ(this.stream,this.track,this.wha + " (" + this.Ha.length + ")",{offset:r,fa:w,url:u,location:this.location,re:this.re,responseType:0},this,this.jf,this.I);this.push(u);this.Qc=this.Ha.reduce(function(v,x){return v + x.fa;},0);};q.prototype.Tqb=function(){var u,r,w,v,x,y,z;v=this.jf;x=new g.Fr(q.cSb,this.stream,this.un,["sidx"],!0,{ofc:this.stream.track.gva,x$:void 0 === this.va,yba:!n.Rc || !n.Rc.bUa,zba:v.zba,qm:v.qm,HB:this.jf.HB,$9a:!0,KE:!n.Rc || !n.Rc.y5a});y=x.parse({va:this.va});this.W4b=v.HB && x.y0a;if(y.Nm){f.assert(y.Zg);this.DL=y.Zg;this.Vqb=y.rY;this.xOa=! !y.gXa;void 0 === this.va && void 0 === y.va && this.I.error("No frame duration available for " + this.Sa);x=y.va?new m.R(y.va):this.va;z=void 0;if(1 === this.kZ.mediaType && (null === (u=v.aP) || void 0 === u?0:u.enabled))if(null === (r=this.kZ.er) || void 0 === r?0:r.length)z=this.kZ.er;else if((u=this.kZ.Cs.er,0 < (null === u || void 0 === u?void 0:u.length)))for((z=new Uint8Array(u.length),w=0);w < u.length;w++){z[w]=u[w].xb;}else if(null === (w=y.Hi) || void 0 === w?0:w.length)for((z=new Uint8Array(y.Hi.length),w=0);w < y.Hi.length;w++){z[w]=y.Hi[w];}this.stream.h$(y.Zg,y.W,x,y.Y,y.tI,y.ri,z);this.un=void 0;}else this.RNa=y.vRa || 0;return ! !y.Nm;};q.cSb=new l.default.Console("MP4","media|asejs");return q;})(a.vca);b.yca=a;d.Bf(k.m0,a,!1,!1);d.Bf(t.EventEmitter,a);},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.m0=void 0;c=a(2);g=a(4);l=a(176);t=(function(m){function d(f,h,k){var n;n=m.call(this,f,h) || this;n.ZP=!1;n.Mw=!1;n.KO=!1;n.nD=!1;n.Ls=void 0;d.x1a(n,f,h,k);return n;}c.__extends(d,m);d.x1a=function(f,h,k,n){l.yv.Eb(f,h,k);f.DL=k.Zg;f.un=k.qua;f.xOa=k.fl;f.I=n;};Object.defineProperties(d.prototype,{dd:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zg:{get:function(){return this.DL;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qua:{get:function(){return this.un;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fl:{get:function(){return this.xOa;},enumerable:!1,configurable:!0}});d.prototype.fd=function(){};d.prototype.iza=function(){};d.prototype.Ltb=function(f){g.assert(this.pd.Sa === f.Sa);!f.ke && this.pd.ke && f.b5(this.pd);!f.location && this.pd.location && (f.location=this.pd.location,f.Pc=this.pd.Pc,f.pJ=this.pd.pJ,f.url=this.pd.url,f.Hb=this.pd.Hb);this.pd=f;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},m.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.Y});};return d;})(l.yv);b.m0=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vca=void 0;c=a(2);c.__importDefault(a(6));a(4);t=(function(g){function l(m,d,f,h,k){m=g.call(this,m,d,f,h,k) || this;m.HOa=!1;m.GOa=!1;m.hT=!1;m.Ha=[];m.Io=!1;m.MPa=!1;m.bPa=!1;m.cf=!1;m.lm=!1;m.Mi=!1;m.bL=!1;m.IL=void 0;m.aw=void 0;return m;}c.__extends(l,g);Object.defineProperties(l.prototype,{Xqa:{get:function(){return this.Io && !this.hT;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{active:{get:function(){return this.cf;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Qva:{get:function(){return this.lm;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{complete:{get:function(){return this.Mi || (this.Mi=this.Ha.every(function(m){return m.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{aborted:{get:function(){return this.bL;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hh:{get:function(){return this.Ha.reduce(function(m,d){return m + d.hh;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bytesReceived:{get:function(){return this.Ha.reduce(function(m,d){return m + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{yf:{get:function(){return this.IL || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{url:{get:function(){return this.Ha[0] && this.Ha[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{readyState:{get:function(){return this.Lh || this.Ha.reduce(function(m,d){return Math.min(m,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{status:{get:function(){return this.aw && this.aw.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wh:{get:function(){return this.aw && this.aw.wh;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{pN:{get:function(){return this.aw && this.aw.pN;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Aj:{get:function(){return this.aw && this.aw.Aj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Eu:{get:function(){return ! !this.Ha.length && this.Ha[0].Eu;},enumerable:!1,configurable:!0}});l.prototype.push=function(m){this.bPa && m.Eb(this.Ta);this.Ha.push(m);this.Io && m.WO();};l.prototype.Eb=function(m){g.prototype.Eb.call(this,m);this.Ha.forEach(function(d){return d.Eb(m);});this.bPa=!0;};l.prototype.WO=function(){this.MPa=!0;(this.Io=this.Ha.every(function(m){return m.WO();})) && this.YV(this);this.MPa=!1;return this.Io;};l.prototype.fd=function(){7 !== this.readyState && 5 !== this.readyState && (this.I.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Ha.forEach(function(m){return m.fd();});};l.prototype.iba=function(m){this.Lh=this.aw=void 0;return this.Ha.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.iba(m):!0;});};l.prototype.abort=function(){var m,d,f;m=this.active;d=this.aborted;this.Lh=7;this.bL=!0;this.lm=this.cf=!1;f=this.Ha.map(function(h){return h.abort();}).every(function(h){return h;});d || this.uN(this,m,this.Xqa);return f;};l.prototype.getResponseHeader=function(m){var d;d=null;this.Ha.some(function(f){return ! !(d=f.getResponseHeader(m));});return d;};l.prototype.getAllResponseHeaders=function(){var m;m=null;this.Ha.some(function(d){return ! !(m=d.getAllResponseHeaders());});return m;};l.prototype.p$=function(){};l.prototype.WA=function(m){this.cf || (this.cf=!0);this.HOa || (this.HOa=!0,this.Ks=0,this.IL=this.Zu=m.yf,this.vN(this));};l.prototype.DI=function(m){this.lm || (this.lm=!0);this.GOa || (this.GOa=!0,this.IL=m.yf,this.sD(this));};l.prototype.EI=function(m){this.IL=m.yf;this.vH(this);this.Ks=this.bytesReceived;this.Zu=m.yf;};l.prototype.Ek=function(m){this.IL=m.yf;this.complete?(this.Mi=!0,this.Lh=5,this.lm=this.cf=!1,this.hT=!0,this.pu(this)):this.vH(this);this.Ks=this.bytesReceived;this.Zu=m.yf;};l.prototype.jY=function(m){this.IL=m.yf;this.aw=m;this.Lh=6;this.w6(this);};l.prototype.iY=function(){};l.prototype.wi=function(){return this.Ha[0].wi() + "-" + this.Ha[this.Ha.length - 1].wi();};l.prototype.toString=function(){return "Compound[" + this.Ha.map(function(m){return m.toString();}).join(",") + "]";};l.prototype.toJSON=function(){return {requests:this.Ha};};return l;})(a(240).hK);b.vca=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rna=void 0;b.rna=function(a,c){for(var g,l,m=a.length - 1;0 <= m;--m){if((l=a[m],l.Fu)){if(l.bitrate <= c)return m;g=m;}}return g;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Moa=b.Stb=void 0;b.Stb=function(a){return a.zaa;};b.Moa=function(a,c){return void 0 !== a.FO?a.FO:c && void 0 !== c.FO?c.FO:100;};},function(t,b,a){var l;function c(m,d){this.Xqb=m.aP && m.aP.enabled;this.D3=void 0;this.Lpb=d;this.jia=[];this.Eia=[];this.Sha=[];m=m.jQa || [];d=m.map(function(f){return f.Mbc;});d.unshift(1);this.drb=m;this.erb=d;this.Xha=[];this.kg=[];}function g(m,d){var u,r,w,v;for(var f=[],h=[],k=0;k < m.length;k++){for(var n=m[k],p=[],q=0;q < n.length;q++){u=n[q] - (h[q] || 0);r=d && d[q];w=p;v=w.push;1 <= r && (void 0 === r && (r=0),r=Math.pow(10,r),u=Math.round(u * r) / r);v.call(w,u);}f.push(p);h=n;}return f;}l=a(34).YH;c.prototype.reset=function(m){this.D3=void 0;this.jia=[];this.Eia=[];this.Sha=[];this.Xha=[];m && (this.kg=[]);};c.prototype.add=function(m,d){var f,h,k,n;f=d.filter(function(p,q){return l(p) || q === m.Le;});h=f.map(function(p){return p.bitrate;});d=d[m.Le];f=f.indexOf(d);k=this.D3;if(k && (k.length !== h.length || k.some(function(p,q){return p !== h[q];}))){n=this.kZa();n && (this.kg.push(n),this.reset(!1));}void 0 === k && (this.D3=h);this.jia.push([f,m.Kx,m.Cc,m.ika,m.eTa,m.hWb,m.iTb,m.We,m.bq,m.mk,m.jQ - m.Kx,m.OVb]);void 0 !== m.ox && this.Sha.push([m.Kx,m.ox.XP,m.ox.HM,m.ox.qP]);f=d && d.Y;this.Xqb && void 0 !== f && (k=f.On(m.mk),-1 != k && (f=f.get(k),k=f.duration,d=f.xb || d.xb,void 0 !== d && this.Eia.push({$:f.$,duration:k,xb:d})));(d=m.jWb) && d.length && (d.unshift(m.Kx),this.Xha.push(d));};c.prototype.kZa=function(){var m,d;m=g(this.jia);if(0 !== m.length){m={dltype:this.Lpb,bitrates:this.D3,seltrace:m,vmaftrace:this.Eia,paceratetrace:g(this.Sha)};d=g(this.Xha,this.erb);d && d.length && (m.predtrace={config:this.drb,data:d});return m;}};c.prototype.get=function(){var m,d;m=this.kZa();d=this.kg;m && d.push(m);if(0 !== d.length)return d;};t.exports=c;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aCa=void 0;c=a(827);t=(function(){var D00;D00=2;function g(l){var E00;E00=2;for(;E00 !== 5;){switch(E00){case 2:var U9Z="1SIYbZr";U9Z+="NJCp";U9Z+="9";this.I=l;U9Z;E00=5;break;case 3:this.I=l;"";E00=4;break;E00=5;break;}}}for(;D00 !== 3;){switch(D00){case 2:g.prototype.vnb=function(l,m){var F00,d;F00=2;for(;F00 !== 14;){switch(F00){case 2:m=c.JUa(m,l);d=l.steeringAdditionalInfo;F00=5;break;case 5:F00=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 3:l=l.cdnResponseData;F00=9;break;case 9:F00=!l?8:7;break;case 4:var F9Z="app";F9Z+="lying man";F9Z+="ifest based streamingClientConfig";return (l=d.streamingClientConfig,this.I.trace(F9Z + JSON.stringify(l)),this.NPa(m,l));break;case 8:return m;break;case 7:var s9Z="usin";s9Z+="g sab ";s9Z+="cell >= 100, pi";s9Z+="pelineEnabled: ";var S9Z="using sab cell >= 200, pipe";S9Z+="lineE";S9Z+="nabled: ";var e9Z=", ";e9Z+="allowSwi";e9Z+="t";e9Z+="ch";e9Z+="back";var o9Z=", probe";o9Z+="Detail";o9Z+="Denominato";o9Z+="r:";o9Z+=" ";var z9Z="using sab";z9Z+=" cell >= 300, probeSer";z9Z+="verWhe";z9Z+="nError: ";var x9Z=", a";x9Z+="ll";x9Z+="owSwitchback";var w9Z=", p";w9Z+="robeDetail";w9Z+="Denom";w9Z+="i";w9Z+="nator: ";var f9Z="using sab";f9Z+=" ce";f9Z+="ll >= 400, probeServerWhenError";f9Z+=":";f9Z+=" ";(l=l.sessionABTestCell) && (l=l.split(".")) && 1 < l.length && (l=parseInt(l[1].replace(/cell/i,""),10),400 <= l?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!0})):(m.av=!0,m.TI=1,m.dz=!0),this.I.trace(f9Z + m.av + w9Z + m.TI + x9Z + m.dz)):300 <= l?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!1})):(m.av=!0,m.TI=1,m.dz=!1),this.I.trace(z9Z + m.av + o9Z + m.TI + e9Z + m.dz)):200 <= l?(m.set?m.set({pipelineEnabled:!1}):m.Tq=!1,this.I.trace(S9Z + m.Tq)):100 <= l && (m.set?(m.set({pipelineEnabled:!0}),m.set({maxParallelConnections:1}),m.set({maxActiveRequestsPerSession:m.X8}),m.set({maxPendingBufferLen:m.B4a})):(m.Tq=!0,m.zO=1,m.cx=m.X8,m.e9=m.B4a),this.I.trace(s9Z + m.Tq)));return m;break;}}};g.prototype.wnb=function(l,m){var G00;G00=2;for(;G00 !== 9;){switch(G00){case 2:G00=!m.sla || l === this.tpb?1:5;break;case 5:this.tpb=l;for(var d in m.sla){new RegExp(d).test(l) && (m=this.NPa(m,m.sla[d]));}return m;break;case 1:return m;break;}}};g.prototype.NPa=function(l,m){var H00,d,f,h;H00=2;for(;H00 !== 4;){switch(H00){case 2:for(f in m){if(m.hasOwnProperty(f)){var n9Z="I";n9Z+="nv";n9Z+="alid k";n9Z+="e";n9Z+="y";h=m[f];l.set?0 === l.set((d={},d[f]=h,d)) && this.I.trace(n9Z + f):l[f]=h;}}return l;break;}}};return g;break;}}})();b.aCa=t;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.VFa=b.zS=void 0;c=a(2);g=a(18);l=c.__importStar(a(10));m=c.__importDefault(a(85));d=a(16);f=a(244);h=a(21);t=a(43);k=c.__importDefault(a(6));n=a(832);p=a(392);(function(u){u[u.tYa=0]="forwards";u[u.Oja=1]="backwards";u[u.PO=2]="none";})(q=b.zS || (b.zS={}));a=(function(u){function r(w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I){var Q,L,J;L=u.call(this,void 0,v,y,D.P,w,D,void 0,F,H,h.R.Oa(G),B.Ue.bind(B),C,I,void 0,new g.EventEmitter(),void 0) || this;L.wb=w;L.mi=x;L.qc=z;L.P2=A;L.X=B;L.VL=E;L.yg=C;L.dW=K;L.Rg=M;L.Uk=I;L.active=!1;L.UOa=[];L.Yha=0;null === (Q=L.P) || void 0 === Q?void 0:Q.Wva(L);L.children=Object.create(null);L.Jx=[];L.me=void 0;void 0 === H && (H=h.R.Oa(D.$));J=[L.J.qSa,L.J.cya];F.forEach(function(O){var N;N=O.mediaType;O=new p.r1(w,L.mi,L.I,L,O,H.U,J[N],v,L.P2,L.Rg,L.dha[N],null === C || void 0 === C?void 0:C.kb(N));L.ee.z_b(N,O);});L.It=L.ee.KY;return L;}c.__extends(r,u);Object.defineProperties(r.prototype,{K:{get:function(){return this.P.K;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Sm:{get:function(){var w,v,x,y;return [null !== (v=null === (w=this.kb(0)) || void 0 === w?void 0:w.Sm) && void 0 !== v?v:0,null !== (y=null === (x=this.kb(1)) || void 0 === x?void 0:x.Sm) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Hn:{get:function(){var w,v,x,y;return [null !== (v=null === (w=this.kb(0)) || void 0 === w?void 0:w.Hn) && void 0 !== v?v:{U:0,fa:0},null !== (y=null === (x=this.kb(1)) || void 0 === x?void 0:x.Hn) && void 0 !== y?y:{U:0,fa:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Daa:{get:function(){return this.H.$;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Pua:{get:function(){return this.Daa + this.Fe;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Mc:{get:function(){return this.H.La;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{oe:{get:function(){return this.Mc + this.Fe;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{oc:{get:function(){return this.P.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{weight:{get:function(){return this.H.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{H:{get:function(){return this.Zp;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ql:{get:function(){return this.ee;},enumerable:!1,configurable:!0}});r.prototype.sf=function(){var w;this.Nh || (this.active=!1,this.yg && (delete this.yg.children[this.H.id],this.yg=void 0),l.tf(this.children,function(v){v && v.yg && (v.yg=void 0);}),this.children=Object.create(null),this.pL=void 0,u.prototype.sf.call(this),null === (w=this.P) || void 0 === w?void 0:w.Xya(this),this.ee.clear());};r.prototype.uwa=function(w,v){void 0 === v && (v=q.Oja);this.ql.forEach(function(x){(l.ka(w) || x.mediaType === w) && x.reset();});switch(v){case q.Oja:this.yg && this.yg.uwa(w,v);break;case q.tYa:this.children && l.tf(this.children,function(x){x && x.uwa(w,v);});}};r.prototype.VW=function(w){var v,x,y;if(!this.active)return !1;v=this.yg;if(v){x=v.kb(w);y=x.Ta.s7a;if(0 !== y && (v.pM(w),y=x.Ta.s7a,0 !== y))return !1;}return !0;};r.prototype.Td=function(w){return this.ql.get(w);};r.prototype.qLb=function(){return this.ql.every(function(w){return 0 === w.lB;});};r.prototype.toJSON=function(){return c.__assign(c.__assign({},u.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.zd,playerEndPts:this.oe,pipelines:this.ql,previousBranch:this.yg});};r.prototype.oab=function(w,v){this.P.Xya(this);this.P=this.H.P=w;this.qxa(this.P);this.P.Wva(this);this.ql.forEach(function(x){var y;y=v[x.mediaType];y && x.KZ(y);});};r.prototype.FJb=function(w){return this.Uk[w];};r.prototype.kb=function(w){return this.ql.get(w);};r.prototype.TJb=function(w){return this.kb(w).lB;};r.prototype.oxa=function(w,v,x){var y,z,A,B;y=this;z=this.H;w=this.H4(z.$,this.P,w,this.K === (w?w.K:this.qc.Zc.K));A=w.lP;B=w.Wz;void 0 === v && (v=[0,1]);0 === B.length || v.forEach(function(E){var D,F;D=y.kb(E);x && (D.je=B[E]);F=y.PV(z.La);D.Paa(F[E]);});return A;};r.prototype.c9a=function(w,v){var x,y,z;x=this.wb;y=this.kb(0);void 0 === v && (v=y.PMb);this.yg && (z=this.yg.Td(0));x=new p.r1(x,this.mi,this.I,this,w,v,y.LP,this.J,this.P2,this.Rg,this.dha[0],z);this.ee.replace(y,x);this.It=this.ee.KY;this.oxa(this.yg,[0],!0);x.sJ(v,! !this.yg);y.sf();l.tf(this.children,function(A){A && A.c9a(w);});};r.prototype.ku=function(w,v){if(v=this.kb(v))return v.Ta.ku(w);};r.prototype.pM=function(w){void 0 === w?this.ql.forEach(function(v){v.pM();}):this.kb(w).pM();};r.prototype.OY=function(w,v,x){(w=this.kb(w)) && w.Ta.OY(v,x);};r.prototype.j7=function(w,v){(v=this.kb(v)) && v.Ta.j7(w);};r.prototype.uQb=function(w){this.UOa[w]=!0;};r.prototype.$wb=function(){var w;w=this;return [0,1].every(function(v){return !w.oc(v) || w.UOa[v];});};r.prototype.Xwb=function(w,v,x,y){var z,A,B,E,D,F,G,C,H;z=this.J;A=this.wb;B=this.X.getState();E=B === d.ta.xd || B === d.ta.Rf;if(!E && void 0 === x)return {Te:!0};if(B === d.ta.Rf && k.default.time.ga() < this.Yha + z.fta)return {Te:!1};D=this.kb(0);F=this.kb(1);G=this.qc.zw(this,0);C=this.qc.zw(this,1);H=f.N$(B);G=!D || D.ETa(H,this.X.Ue(),v,G,this.X.ap(),y);C=!F || F.ETa(H,this.X.Ue(),w,C,this.X.ap(),y);void 0 !== x && G && (x=x.trackId,w=this.P.getTrackById(x),this.Cnb(x,w.UE),A.iz=void 0);if(G && C)return (this.VL(),this.FU=k.default.time.ga(),B === d.ta.Rf && (this.Yha=k.default.time.ga()),{Te:!0,Tt:F?F.KG:D.KG});G=this.Qh(0);C=this.Qh(1);if(E){A=!F || C > z.zj;if((!D || G > z.zj) && A && (D=this.dW(),D >= z.$A))return (this.Tb("buffering longer than limit: " + D + " >= " + z.$A + ", audio buffer: " + G + " ms, video buffer: " + C + " ms"),this.VL(),this.FU=k.default.time.ga(),B === d.ta.Rf && (this.Yha=k.default.time.ga()),{Te:!0,Tt:"prebufferTimeLimit"});this.mi.fqb();}return {Te:!1};};r.prototype.Ika=function(w,v){var x,y,z,A,B,E;x=this.J;y=this.kb(0);z=this.kb(1);v?(v=this.Qh(0,w),w=this.Qh(1,w)):(v=this.qc.zw(this,0,w),w=this.qc.zw(this,1,w));A=x.zj;B=!this.oc(0) || y.hi && 0 === y.Ta.nE && 0 === y.Ta.ft;y=!this.oc(1) || z.hi && 0 === z.Ta.nE && 0 === z.Ta.ft;E=B && y;x=!B && v < x.zj;if(!E && (x || !y && w < A))return !1;if(z && z.Te || !this.oc(1))return !0;if(E)if(this.wb.m3 && 0 === v && 0 === w)this.Tb("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};r.prototype.Maa=function(w,v){var x,y;x=this;y=this.J;this.ql.forEach(function(z){z.seeking=void 0;});w && y.vi && this.ql.forEach(function(z){var A;if(z){A=x.qc.OG(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.Hn.fa + ", completedMs: " + z.FM + ", completedBytes: " + A + ", partials: " + z.Ta.nE + ", streamingPts: " + z.Cc + ", completeStreamingPts: " + z.nq + ", fragments: " + JSON.stringify(z.Ta.Y) + ", toAppend: " + v(z.mediaType);x.mi.Mm(z);}});};r.prototype.LE=function(w,v,x){var y,z,A;y=this;z=k.default.time.ga();A={};l.tf(this.children,function(B){var E,D,F,G;if(B){if(B.me){B.me.yDb=z - B.me.W7;B.me.W7=void 0;E=B.me.weight;}else E=y.qc.P_a(y.H.id,B.H.id);D=B.uD();F=y.kb(0) && 0 === D.Ur;G=y.kb(1) && 0 === D.qo;A[B.H.id]={weight:E,Zr:D,HW:!F && !G};}});x={ar:z,Ye:w,fma:x,Waa:this.H.id,me:A};w || (w=v.Ue(),x.$P=w - (this.H.$ + this.Fe),x.$P=Math.max(0,x.$P),x.y5=0,x.startTime=z);this.Jx.unshift(x);return x;};r.prototype.byb=function(w){var v,x;v=this.Jx[0];v.Ye && (v.$P=this.Mc - this.H.$,v.$P=Math.max(0,v.$P));v.Ccb={};x=w.uD();m.default(x,v.Ccb);v.HW=w.Hn.every(function(y){return 0 < y.U;});this.Jx=[];return v;};r.prototype.mo=function(w){var v;v=this.H;w-=this.Fe;if(v.$ < w && w < v.La)this.Jx.shift();else if(v=this.Jx[0])v.mo=!0;};r.prototype.H4=function(w,v,x,y){var z,A,B,E;z=this;void 0 === v && (v=this.P);A=!1;if(x){A=!0;B=x.kb(1).Jf;x=x.kb(0).Jf;if(!B || !x)return {lP:[],Wz:[]};B=B.La;y || (B=void 0);}E=this.UXa(w,B,A,v);v.Qb === this.qc.CBb && [1,0].forEach(function(D){var F;F=z.kb(D);F && (F.je=E[D]);});return {lP:E.map(function(D){return D.$;}),Wz:E};};r.prototype.UXa=function(w,v,x,y){var z;z=this;void 0 === y && (y=this.P);return this.PQa(y)?[1,0].map(function(A){var B;if(!z.oc(A))return {};B=y.zh[A];A=z.kb(A).Dm(B.stream,w,v,x);w=A.$;return A;}).reverse():[];};r.prototype.PV=function(w,v){var x;x=this;void 0 === v && (v=this.P);return this.PQa(v)?[1,0].map(function(y){var z;if(!x.oc(y))return {};z=v.zh[y].stream;y=x.kb(y).Vz(z,w);w=x.J.fh?new h.R(y.tb,z.va.W).U:y.La;return y;}).reverse():[];};r.prototype.g4b=function(w,v){var x;x=this.H.La;x && x < v && (w=this.PV(x));v=this.Td(1);x=this.Td(0);v && v.Paa(w[1]);x && x.Paa(w[0]);};r.prototype.PQa=function(w){var v;v=w.zh;if(!v)return !1;w=v[1];w=!this.oc(1) || w && w.stream.ke;v=v[0];v=!this.oc(0) || v && v.stream.ke;return w && v?!0:!1;};r.prototype.Cnb=function(w,v){this.mi.dqb(w,v);};return r;})(n.$Fa);b.VFa=a;t.Bf(g.EventEmitter,a);},function(t,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Bea=b.kib=void 0;c=a(2);g=c.__importDefault(a(6));l=a(20);m=a(833);d=a(9);t=(function(){return function(f,h,k){var n;this.J=h;k=d.Oq(g.default,k,"[" + f + "]");this.k5a=1 === f?h.F9:h.w9;n=g.default.$o()[f];this.yX=1 === f?h.WQb:h.EQb;this.yX=Math.min(h.NQb * n,this.yX);l.ia && k.trace("This pipeline's buffer size ",n,this.yX);this.B9=(1 === f?h.QA:h.hx) || h.B9;this.c9=(1 === f?h.VQb:h.DQb) || h.c9;this.hja=h.hja;};})();b.kib=t;t=(function(f){function h(k,n,p){return f.call(this,k,n,p) || this;}c.__extends(h,f);h.prototype.qIb=function(k,n,p,q){var u,r,w,v,x;w=n === p.je.index;v=n === p.Jf.index;if(!v || w && p.je.ya){if(w){x=k.FZa(p.je);x.SP(p.je.rv);v && (p.je.ya || p.Jf.ya) && x.Lk({start:null === (u=x.ya) || void 0 === u?void 0:u.start,end:null === (r=p.Jf.ya) || void 0 === r?void 0:r.end});}else x=k.il(n);}else (x=k.FZa(p.Jf),x.SP(p.Jf.rv));x.LO=n + 1;if(u=m.H_a(p,p.Cc))(l.ia && p.An("getFragmentForRequest pts:",p.Cc,"in region:",u,"previous region:",p.xra),m.LWa(p.I,x,u,{zNb:w,FNb:v,MNb:void 0 === p.xra || p.xra !== u.region}));v && (x.l4a(),x.Z_b(p.ib.H));w=k.Y.Dx;if(!(x.LO === n || null !== w && void 0 !== w && w.d2a(n) || q || !this.hja && x.ya))for(++n;n < k.Y.length && n < p.Jf.index && (x.fa < this.k5a || x.duration < this.B9) && (1 === x.stream.Zg.length || this.xwb(k,n));++n){q=k.il(n);if(null === w || void 0 === w?0:w.d2a(n))break;if(m.c2a(p,q))break;if(x.duration + q.duration > this.c9)break;if(x.fa + q.fa > this.yX)break;x.X3(q);x.LO=n + 1;l.ia && p.An("getFragmentForRequest: extended fragment startPts:",x.$,"to duration:",x.duration,"size:",x.fa,"min request size:",this.k5a,"max request size:",this.yX,"min request duration:",this.B9,"max request duration:",this.c9,"edit:",x.ya);}l.ia && p.An("getFragmentForRequest(" + n + ") returning:",x,"stream:",x.stream,"firstRequestInRegion:",x.Ena,"lastRequestInRegion:",x.Yw,"nextIndex:",x.LO);return x;};h.prototype.xwb=function(k,n){return !k.Zg.some(function(p){return n === p.Bd;});};return h;})(t);b.Bea=t;},function(t,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.r1=void 0;c=a(2);t=a(393);g=c.__importDefault(a(28)).default.Wa;l=a(373);m=a(16);d=c.__importDefault(a(6));f=a(180);h=a(4);k=a(21);n=a(862);a=(function(p){function q(u,r,w,v,x,y,z,A,B,E,D,F){w=p.call(this,v,A,w,v,v,x,k.R.Oa(y),z,D,!1,null === F || void 0 === F?void 0:F.Pf) || this;w.wb=u;w.mi=r;w.rg=B;w.Rg=E;w.fka=0;w.rD=[];w.Cy=!1;w.Lo.zdb=!1;w.gT=new n.WFa(v,w.Rg,A,w.I,w.mediaType,w.mi,w.Ta,w.wb);w.TOb=d.default.time.ga();w.MOb=void 0;w.lI=A.zqa;w.i8a=d.default.time.ga();r=f.LN(A);u=r.EY;r=r.S$;w.iWb=0 === w.mediaType?u:r;w.KZ(x);return w;}c.__extends(q,p);Object.defineProperties(q.prototype,{Nt:{get:function(){return this.Ta.Nt;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{FM:{get:function(){return this.Ta.FM;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{eD:{get:function(){return this.Ta.eD;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lB:{get:function(){return this.Ta.lB;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{hi:{get:function(){return this.gT.hi;},set:function(u){this.gT.hi=u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zr:{get:function(){return this.gT.zr;},set:function(u){this.gT.zr=u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{N8:{get:function(){return this.Yd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{PMb:{get:function(){return this.$Oa.U;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{LP:{get:function(){return this.Kj.LP;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{dKb:{get:function(){return this.wb.bia;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Te:{get:function(){return this.Cy;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{KG:{get:function(){return this.aOa;},enumerable:!1,configurable:!0}});q.prototype.reset=function(){this.seeking=void 0;this.connected=this.hi=!1;this.Lo.reset();};q.prototype.sf=function(){this.reset();p.prototype.sf.call(this);};q.prototype.Vz=function(u,r){return l.Vz(this.gk.mediaType,this.J,u,r,this.fh,this.wb.mRb);};q.prototype.Dm=function(u,r,w,v){return l.Dm(this.gk.mediaType,this.J,u,r,w,v);};q.prototype.mo=function(){this.lI=this.J.zqa;};q.prototype.pM=function(){this.Ta.Cba();};q.prototype.KZ=function(u){var r,w;r=this.wb;w=this.mediaType;h.assert(u.mediaType === w);h.assert(u.P === this.ib.P);this.gk=u;this.ib.P.hza(w,u.$d);r.bpb(this,u.Hu);this.gwb(u.$d);this.Pf.KZ(u);this.ib.P.Uka();this.hi=!1;};q.prototype.ona=function(u){var r;r=this.ib.P.zh[this.mediaType];if(r && r.stream.ke && (u=r.stream.Y.On(u),-1 !== u))return u;};q.prototype.sJ=function(u,r){var w,v,x;if(this.je && this.je.$ === u){r=this.je.index;w=u;}else {v=this.ib.P;x=v.zh[this.mediaType];if(!x || !x.stream.ke){this.JI=u;this.fVb=r;return;}w=x.stream.Y;this.je=this.Dm(x.stream,u,void 0,r);if(void 0 === this.je){if((r=w.length - 1,w=w.Ij(r),this.Tb("setStreamingPts out of range of fragments, pts:",u,"last startPts:",w,"fragment index:",r,"fastplay:",v.pf.Ie),v.pf.Ie)){this.JI=u;return;}}else (r=this.je.index,w=this.je.$);}this.Yn=r;this.ST=w;this.JI=void 0;};q.prototype.k5b=function(u){var r,w;r=this.gk.Rw(u);w="verifying streamId: " + u + " stream's track: " + (r?r.Sa:"unknown") + " currentTrack: " + this.gk.trackId;return r?!0:(this.mi.Mm(w),this.mi.Mm("unknown streamId: " + u),!1);};q.prototype.gwb=function(u){this.HLb=u.reduce(function(r,w){return w.Fu && w.bitrate > r.bitrate?w:r;},u[0]);};q.prototype.Paa=function(u){this.Jf=u;};q.prototype.mQb=function(u,r,w,v,x){this.Icb(u,r,v,x);w && ++this.fka;this.wb.ek();};q.prototype.WA=function(u){u.La && u.$ && (this.lI-=u.La - u.$);p.prototype.WA.call(this,u);};q.prototype.Ek=function(u){this.o0a(u);this.pu(u);};q.prototype.i4b=function(u){var r;r=d.default.time.ga();this.lI+=u * (r - this.i8a);this.i8a=r;};q.prototype.fZb=function(){this.lI=this.J.zqa;};q.prototype.CM=function(u){this.Ta.Eka();this.fh || this.gT.CM(u,this.Mc);};q.prototype.o0a=function(u){var r,w,v;w=this.N8;v=this.wb;this.rg.AQa() || (this.mi.Cqb(u.mediaType,u.P.Qb,u.stream.track.PC,this.nq,this.ha),null === (r=this.fh) || void 0 === r?void 0:r.BMb(u),r=w.X.Ue() || 0,v.Bb.Ey() || (w=w.kb(g.Pb)) && !w.Te && w.z7 && v.Bb.mpa(w),this.CM(r),this.wb.n0a(u),this.rg.C2(this) && this.rg.ek());};q.prototype.gua=function(u){this.wb.w7(u);};q.prototype.ETa=function(u,r,w,v,x,y){var z,A;z=this.J;A=z.zj;if(w >= z.zj && (z.laa && (A=w + 1E3),z.maa && !this.connected))return !1;if(this.fh)return this.fh.vz();w=this.hi && 0 === this.Ta.pua && 0 === this.Ta.ft;return !w && v < A?!1:w?y && 0 === v?(this.Tb("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.hxb(u,r,x);};q.prototype.Q_b=function(u){this.ST=u;};q.prototype.Maa=function(u){this.Cy=!0;this.aOa=u;};q.prototype.Ska=function(){this.Cy=!1;this.aOa=void 0;};q.prototype.hxb=function(u,r,w){if(this.Te || 0 === this.mediaType)return !0;if(void 0 === this.Gu)return !1;r=this.Oob(r,u);this.track.P.Jm.E_(this.track.P.S,this.track.$d);this.Kj.$ua([this.Gu],!1,m.M$(u),r,this.iWb);u=this.Kj.vz(r,u,w,this.Gu,this.ib.P.vq);u.complete?this.Maa(u.reason):(this.Ska(),this.aE=u.aE,this.progress=u.progress);return this.Te;};q.prototype.Oob=function(u,r){var w,v,x,y,z;y=d.default.$o()[this.mediaType];z=this.Ta.j7();u={Aw:y,$:null !== (w=z.zd) && void 0 !== w?w:0,zc:u,Cc:null !== (v=z.gP || u) && void 0 !== v?v:0,lk:null !== (x=z.TU || u) && void 0 !== x?x:0,hh:z.hh,Dj:z.Dj,wYa:z.Y.length,Y:z.Y};"number" !== typeof u.$?(u.$=0,u.Cc=0):r === m.Kc.xd && u.zc !== u.$ && (u.zc=u.$);return u;};return q;})(t.Xea);b.r1=a;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Xea=void 0;c=a(2);g=a(18);l=a(834);m=a(82);d=a(835);f=a(842);h=a(178);k=a(249);n=a(9);p=a(4);q=a(21);u=c.__importDefault(a(6));t=a(103);r=a(43);w=a(397);v=a(127);a=(function(x){function y(z,A,B,E,D,F,G,C,H,K,M,I,Q){var L;L=x.call(this,z) || this;L.J=A;L.Yd=D;L.gk=F;L.$Oa=G;L.Mob=H;L.lw=Q;L.events=new g.EventEmitter();L.connected=!1;L.Opa=!1;L.gm=!1;L.I=n.Oq(u.default,B,"[" + L.mediaType + "]");L.Vk=L.I.error.bind(L.I);L.Tb=L.I.warn.bind(L.I);L.An=L.I.trace.bind(L.I);L.ST=G.U;"string" === typeof C || void 0 === C?(z=0 === L.mediaType && A.Hma || 1 === L.mediaType && A.Ima,L.sia=new k.Qfa(C,A,new h.e2(M),z)):L.sia=C;L.xn=new l.FJa(L,E,L.J,L.I,L.mediaType);L.Lo=new d.pLa(L,A,L.I,L.xn,L.Yd,L.mediaType,L.lw,function(){return L.Gj;});A.fh && (L.fh=new f.eMa(A.fh,L.I));K && (L.Kf=null !== I && void 0 !== I?I:w.au(L.mediaType,L.track.P,L.J,L.I,L.xn.zGb.bind(L.xn),function(){}),L.Kf.on("created",function(){return L.events.emit("requestQueueCreated");}));return L;}c.__extends(y,x);Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.gk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{track:{get:function(){return this.gk;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ib:{get:function(){return this.Yd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ha:{get:function(){return this.Yd.H.id;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ta:{get:function(){return this.Lo;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{$d:{get:function(){return this.gk.$d;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Hn:{get:function(){return this.Lo.Hn;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Sm:{get:function(){return this.Lo.Sm;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Cc:{get:function(){return this.ST;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Yaa:{get:function(){var z;return null !== (z=this.Og) && void 0 !== z?z:this.ws;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{SU:{get:function(){var z;return null !== (z=this.Ta.SU) && void 0 !== z?z:this.Yaa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Mia:{get:function(){return this.Ta.SU;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{nq:{get:function(){return this.Ta.nq;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{gla:{get:function(){return this.Ta.gla;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{JOb:{get:function(){var z;z=this.Ta.KOb;return null === z || void 0 === z?void 0:z.Sd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Zw:{get:function(){return ! !this.Jf && (this.Yn > this.Jf.index || this.ST >= this.Jf.Mc);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Il:{get:function(){return this.Zw && 0 === this.Lo.nE;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Nt:{get:function(){return this.Ta.Nt;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{qr:{get:function(){return this.ye?q.R.max(this.ye.Ka(this.PE),q.R.eb):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{sN:{get:function(){return this.ib.sN;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{uVa:{get:function(){return this.Ta.Y.kH;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Kj:{get:function(){return this.sia;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Pf:{get:function(){return this.Kj.Pf;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Gu:{get:function(){return this.Kj.Pf.Gu;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{W:{get:function(){var z,A;return null !== (A=null === (z=this.je) || void 0 === z?void 0:z.W) && void 0 !== A?A:1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Za:{get:function(){var z;return null === (z=this.je) || void 0 === z?void 0:z.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{tb:{get:function(){var z;return null === (z=this.Jf) || void 0 === z?void 0:z.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Gj:{get:function(){return this.ib.Ge.dg(this.W).pc;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{z7:{get:function(){return this.Ta.z7;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Fx:{get:function(){return this.Ta.Fx;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Txa:{get:function(){return this.Ta.Txa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ws:{get:function(){return this.$Oa.add(this.ib.Ge);},enumerable:!1,configurable:!0}});y.prototype.aU=function(){var z;z=this;this.Lo.aU(void 0,function(A){var B;B=A[0];A=B.gd;B=B.index;B < z.Yn && z.RP(A,B);});};y.prototype.reset=function(){this.Ta.reset();this.je && this.RP(this.je.gd,this.je.index);this.Kf && this.ib.P.fM(this.mediaType,this.Kf);};y.prototype.sf=function(){var z;this.gm=!0;this.Lo.sf();null === (z=this.sia) || void 0 === z?void 0:z.Pf.Jb();this.Kf && (this.ib.P.fM(this.mediaType,this.Kf),v.Hp.instance.WM(this.Kf),this.Kf.removeAllListeners(),this.Kf=void 0);};y.prototype.toJSON=function(){return {started:this.Fx,startOfSequence:this.Txa,segmentId:this.ha,requestedBufferLevel:this.Sm,viewableId:this.Yd.P.S,hasFragments:this.z7};};y.prototype.bn=function(){return this.Ta.bn();};y.prototype.RP=function(z,A){this.ST=z;this.Yn=A;};y.prototype.dA=function(){return this.Ta.dA();};y.prototype.nH=function(){this.Ta.close();};y.prototype.YG=function(z){return (z=this.Ta.ku(z.U))?z.complete:!1;};Object.defineProperties(y.prototype,{dh:{get:function(){return this.Yd.dh;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{PE:{get:function(){var z,A,B,E;return null !== (E=null !== (z=this.Ta.PE) && void 0 !== z?z:null === (B=null === (A=this.je) || void 0 === A?void 0:A.Yc) || void 0 === B?void 0:B.add(this.ib.Ge)) && void 0 !== E?E:this.ws;},enumerable:!1,configurable:!0}});y.prototype.Jcb=function(z,A,B){var E;p.assert(this.Kf);p.assert(!this.gm,"pipeline.tryIssueRequest on disabled pipeline");E=z.X6();return E?this.Icb(z,E,this.Kf,A,B):(z=z.VE(this.Kf))?{Hm:z,reason:"success"}:{Hm:z,reason:"pipelineTryIssueHeaderRequest"};};y.prototype.a8=function(z,A){z && (this.je=z);A && (this.Jf=A);p.assert(this.je);p.assert(this.Jf);p.assert(void 0 === this.Yn);this.RP(this.je.gd,this.je.index);};y.prototype.truncate=function(z){var A;A=this;p.assert(this.je,"expected first fragment to exist on updateStreaming");this.Jf=z;this.Zw && (z=c.__read(this.Lo.Jsb(z),2),this.RP(z[0],z[1]),this.xs() && (this.Ta.M$a(),this.Ta.Eka(),Promise.resolve(function(){A.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:A.mediaType});})));};y.prototype.VD=function(){return this.xs()?!1:this.Ah()?!0:this.track.N9;};y.prototype.Ah=function(){return void 0 !== this.je && void 0 !== this.Jf;};y.prototype.xs=function(){return this.gm || this.Zw;};Object.defineProperties(y.prototype,{g8a:{get:function(){var z;z=!0;this.J.maa && (z=this.connected);this.J.laa && (z=z && this.Opa);return z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{CUb:{get:function(){return void 0 !== this.fh;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{O6a:{get:function(){var z;return (null === (z=this.fh) || void 0 === z?0:z.vz())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});y.prototype.Ek=function(z){this.xn.PSb(z);"oncomplete" === this.J.u1a && (this.Opa=!0);this.pu(z);};y.prototype.WA=function(z){z.dd || this.xn.c6a(z.stream,z.$,z.gd);this.xn.LSb(this.ha,z.stream,z.dd);this.vN(z);};y.prototype.DI=function(z){z.W3 || (this.connected=!0);"onfirstbyte" === this.J.u1a && (this.Opa=!0);this.sD(z);};y.prototype.LZa=function(z){var A,B;A=this.Ta.Y;if(0 === A.length)return {Y:[],y$:0,Dj:0};B=A.rN(z.U);0 > B && (B=void 0 === A.$ || z.U <= A.$?0:A.length);return {Y:A.c_b(B),y$:Math.max(0,A.qUa - B),Dj:A.Dj};};y.prototype.Icb=function(z,A,B,E,D){var F,G,C,H,K,M;C=this.Yd;H=C.P;K=this.mediaType;M=this.Yn;if(M >= A.length)return (this.Tb("makeRequest nextFragmentIndex:",M,"past fragments length:",A.length),{Hm:!1,reason:"insufficientFragments"});if(!this.je || !this.Jf)return (this.Tb("makeRequest delayed, first or last fragment not set","first:",! !this.je,"last:",! !this.Jf),{Hm:!1,reason:"noFirstOrLastFragment"});A=this.Mob.qIb(z,M,this,H.Vw());this.xra=A.region;A.xZ=D;null === (F=this.fh) || void 0 === F?void 0:F.DMb(A,z);A.Mq && 1 === K && this.xn.Lha(C.H,A.La);this.J.AO && (A.AO=this.J.AO);void 0 !== z && (A.location=z.location,A.re=z.Pc,A.fxa=z.Ts);if(D=C.P.Taa)(K=0 === K && this.J.Hma || 1 === K && this.J.Ima,F=this.J.vEb && 1 === this.mediaType && this.J.Tq,A.cJ=K?E:void 0,A.Uaa=D.$t({kq:C.Qh(this.mediaType),W9:this.J.qEb?this.J.W9:void 0,lcb:String(u.default.time.ga()),WU:K?E:void 0,Wja:F?{start:A.offset,size:A.fa}:void 0}));u.default.time.ga();B=this.Ta.gBb(A,B,z);if(!B.WO()){this.Tb("MediaRequest.open error: " + B.wh + " native: " + B.Aj);if(7 === B.readyState)return {Hm:!1,reason:"requestAborted"};this.Tb("makeRequest caught:",B.wh);H.eh("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Hm:!1,reason:"openAseMediaRequest"};}null === (G=this.fh) || void 0 === G?void 0:G.MEb(B,A,z);this.xn.QSb(B);this.RP(B.Mc,A.LO);this.xs() && (this.Ta.M$a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {Hm:!0,reason:"success"};};return y;})(m.xv);b.Xea=a;r.Bf(t.TB,a);r.Bf(t.Tx,a);},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.i9=b.j9=void 0;c=a(2).__importDefault(a(34)).default.console;b.j9=g;b.i9=l;(function(){var I00;I00=2;for(;I00 !== 4;){switch(I00){case 2:var W9Z="1SIY";W9Z+="b";W9Z+="Z";W9Z+="rNJCp";W9Z+="9";b.j9=g=function(d,f,h,k,n){var K00,u,r,p,w,v,x,q;K00=2;for(;K00 !== 18;){switch(K00){case 6:(u=h.Hi[k],r=h.sizes[k]);K00=14;break;case 20:q++;K00=7;break;case 3:K00=-1 === q?9:8;break;case 9:var C9Z="m";C9Z+="aybeUpgradeLowVmafFragments: invalid";C9Z+=" ";C9Z+="s";C9Z+="treams";c.error(C9Z);K00=18;break;case 11:K00=v > u || v === u && x > r?10:20;break;case 12:K00=!u || !v?19:11;break;case 1:p=[];K00=5;break;case 19:k++;K00=5;break;case 14:K00=!f[q].Y?19:13;break;case 8:q+=1;K00=7;break;case 7:K00=h.Hi[k] < d.KX && q < f.length?6:19;break;case 5:K00=k < n?4:18;break;case 13:(w=f[q].Y.Dx,v=w.Hi[k],x=w.sizes[k]);K00=12;break;case 4:q=m(f,p,h.BJ[k]);K00=3;break;case 10:(m(f,p,w.BJ[k]),h.upgrade(w,k));K00=20;break;case 2:K00=d.KX && 0 < d.KX?1:18;break;}}};b.i9=l=function(d,f,h,k){var L00,n,p,q,u,r,w;L00=2;for(;L00 !== 8;){switch(L00){case 2:L00=1;break;case 1:L00=d.KX && !(0 >= d.KX)?5:8;break;case 5:var a9Z="min_";a9Z+="fragment_";a9Z+="vmaf";(r=[],w=k.Dh);d=m(f,r,w.Of);w=null === (p=null === (n=w.Y) || void 0 === n?void 0:n.Dx) || void 0 === p?void 0:p.BJ[h];void 0 !== w && (n=m(f,r,w),-1 !== n && (n !== d && (k.h5a=d,k.Dh=f[n],k.reason=a9Z),(null === (u=null === (q=k.Dh) || void 0 === q?void 0:q.Y) || void 0 === u?0:u.get) && k.Dh.Y.get(h)));L00=8;break;}}};W9Z;I00=4;break;}}function m(d,f,h){var J00,k;J00=2;for(;J00 !== 7;){switch(J00){case 5:J00=k < d.length?4:9;break;case 2:J00=0 === f.length?1:9;break;case 8:return void 0 !== d?d:-1;break;case 4:f[d[k].Of]=k;J00=3;break;case 1:k=0;J00=5;break;case 3:k++;J00=5;break;case 9:d=f[h];J00=8;break;}}}})();},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Cx=void 0;t=a(2);c=t.__importStar(a(10));g=a(25);l=a(102);m=t.__importDefault(a(28));d=t.__importDefault(a(34));f=t.__importDefault(a(849));h=a(16);k=a(394);n=d.default.assert;p=d.default.Np;b.Cx=q;(function(){var M00;M00=2;for(;M00 !== 5;){switch(M00){case 2:var g9Z="1SI";g9Z+="YbZ";g9Z+="r";g9Z+="N";g9Z+="JCp9";b.Cx=q=function(v,x,y,z,A,B,E){var w9R=a000;var S00,H,K,M,I,Q,L,J,O,N,P,S,U,G,ya,ra,C,Z,ja,Y,pa;S00=2;for(;S00 !== 30;){switch(S00){case 6:S00=E?14:13;break;case 19:S00=J === m.default.a1.Tmb || !A.Ua?18:17;break;case 23:A=g.he(y.slice(z + 1,E),function(T,R){var V00;V00=2;for(;V00 !== 1;){switch(V00){case 2:return F(T,y[z + R],H,ya,ra,!1,x.playbackRate);break;}}});S00=22;break;case 27:S00=F(A,y[Math.max(z - 1,0)],A,G,U,!1,x.playbackRate)?26:34;break;case 26:S00=z + 1 < y.length && E > v.CA && (void 0 === this.H8 || this.Jra && this.Jra > this.H8 || I - this.H8 > v.Q8 && E > v.msa)?25:22;break;case 14:return (A=w(y,z,A.Ua || 0,v.KXa,x.playbackRate),null !== (G=A.Y) && void 0 !== G && G.length || (A.bba=!0),C.Dh=A,C);break;case 13:(H=A,K=x.buffer.$,M=x.buffer.zc,I=x.buffer.Cc,Q=x.buffer.lk,L=x.Bd);w9R.O3Z(0);E=w9R.Q3Z(Q,M);(J=this.Pf.$2a || m.default.a1.Ih,O=x.state === h.ta.Lc || x.state === h.ta.ph?x.buffer.Dj:0,N=v.g9,P=v.DA?v.DA:1E3);G=D(A,L,v.Xpa);w9R.O3Z(3);U=D(A,w9R.Q3Z(L,G),v.isa);S00=19;break;case 22:C.Dh=A || H;k.i9(v,y,L,C);return C;break;case 2:var X9Z="M";X9Z+="u";X9Z+="st have at least one sel";X9Z+="ected stream";n(!c.ka(z),X9Z);void 0 === x.Bd && (x.Bd=0);S00=4;break;case 25:E=v.Jxa && E >= v.Hza?y.length:z + 2;(ya=D(A,L,v.Zpa),ra=D(A,L + ya,v.ksa));S00=23;break;case 4:var A9Z="n";A9Z+="u";A9Z+="m";A9Z+="be";A9Z+="r";var y9Z="nu";y9Z+="mb";y9Z+="er";var H9Z="i";H9Z+="nvalid ";H9Z+="player fragment";H9Z+="In";H9Z+="dex";n(c.Fa(x.Bd),H9Z);n(y9Z === typeof x.buffer.Aw);n(A9Z === typeof x.wV);C=new p();A=y[z];S00=6;break;case 17:A.Y && A.Y.length || (A.bba=!0);(Z=l.gn.kVa(x.buffer.Y),ja=x.buffer.Aw - Z.fa);J=y[0];S00=27;break;case 18:return r.call(this,x,v,y,A);break;case 33:(Y=D(A,L,v.Ypa),pa=D(A,L + Y,v.jsa));S00=32;break;case 34:S00=A.Y && A.Y.length?33:22;break;case 31:A=J;S00=22;break;case 32:S00=(A=g.he(y.slice(0,z).reverse(),function(T,R){var W00;W00=2;for(;W00 !== 1;){switch(W00){case 2:return F(T,y[Math.max(z - R - 2,0)],H,Y,pa,!0,x.playbackRate);break;}}})) && A.Of < J.Of || !A?31:22;break;}}function D(T,R,ea){var T00;T00=2;for(;T00 !== 1;){switch(T00){case 2:return T.Y?T.Y.vla(R,ea):0;break;}}}function F(T,R,ea,sa,la,Ka,Ua){var U00,$a,Za,cb;U00=2;for(;U00 !== 20;){switch(U00){case 14:return !0;break;case 4:Ka || Za || (T.bba=!0);U00=3;break;case 2:($a=T.Ua || 0,Za=T.Y && T.Y.length,cb=Ka?v.ina:Za?v.i6:v.KXa);U00=1;break;case 6:U00=$a >= T.bitrate * Ua * cb?14:13;break;case 3:U00=!Ka || !Za?9:13;break;case 13:ea=!v.ola || T === ea || T.Pc === ea.Pc && B?0:(ea=T.Hb) && ea.Gk && ea.Gk.Ba?ea.Gk.Ba + v.lla * (ea.Gk.ih?Math.sqrt(ea.Gk.ih):0):0;(R=u(v,y,T,R,Z,M + ea - K,N,Q - K,I - K,L,Z.length,O,ja,sa,la,P,x.wV,x.playbackRate,! !x.L3a)) && R.result && (C.rdc=R.tX);S={j6:R && R.result,Ua:$a,bitrate:T.bitrate};return R && R.result;break;case 8:U00=$a >= Math.max(T.MA * Ua,T.bitrate * Ua * cb) && T.lu?7:13;break;case 7:return !0;break;case 1:U00=S && !S.j6 && S.Ua >= $a && S.bitrate <= T.bitrate?5:4;break;case 9:U00=Za && !v.YZ?8:6;break;case 5:return !1;break;}}}};g9Z;M00=5;break;}}function w(v,x,y,z,A){var Q00,B;Q00=2;for(;Q00 !== 3;){switch(Q00){case 2:a000.O3Z(2);B=a000.Q3Z(y,A,z);y=g.gq(v,function(E){var R00;R00=2;for(;R00 !== 1;){switch(R00){case 2:return E.bitrate > B;break;}}});y=0 < y?y - 1:0 === y?0:v.length - 1;return v[Math.max(x,y)];break;}}}function u(v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,O){function N(ya,ra,Y){var O00;O00=2;for(;O00 !== 5;){switch(O00){case 2:k.j9(v,x,ya,ra,Y);ja.push(ya.subarray(ra,Y));O00=5;break;}}}var N00,ja,P,S,U,Z;N00=2;for(;N00 !== 15;){switch(N00){case 17:return 0 < M || 0 < I?f.default({Y:A.concat(ja),blocks:C + M + I,zc:B,lk:D,V0b:E,Dj:H,Cc:F,Bd:C,iGb:C + M,wV:L,BYa:K,Ua:P / J,x9:Q,qI:v.qI,jOb:v.YZ,ZDb:!1}):P > y.MA?{result:!0,tX:0,lu:!0}:{result:!1,tX:0,lu:!0};break;case 12:S=void 0;N00=11;break;case 18:(S=Math.min(O,z.Y.length - G),N(z.Y.Dx,G,G + S),O-=S,G+=S,G >= z.Y.length && (G=0));N00=19;break;case 7:Z || (z=y);ja=[];N00=14;break;case 13:O=M;N00=12;break;case 10:(S=Math.min(O,y.Y.length - G),N(y.Y.Dx,G,G + S),O-=S,G+=S,G >= y.Y.length && (G=0));N00=11;break;case 11:N00=0 < O?10:20;break;case 4:n(A.length === C);v.nsa && (Q=Math.min(Q,S));N00=9;break;case 2:var c9Z="S";c9Z+="ec";c9Z+="ond stream und";c9Z+="efined";var N9Z="First stream undef";N9Z+="ine";N9Z+="d";n(y,N9Z);n(z,c9Z);(P=y.Ua,S=D - B,U=y.Y && y.Y.length,Z=z.Y && z.Y.length);N00=4;break;case 8:return !1;break;case 14:N00=O?13:16;break;case 19:N00=0 < O?18:17;break;case 9:N00=!P || P < y.bitrate * J * v.Wpa || !U?8:7;break;case 20:O=I;N00=19;break;case 16:(M=Math.max(0,Math.min(M,y.Y.length - G)),I=Math.max(0,Math.min(I,z.Y.length - G - M)),0 < M && N(y.Y.Dx,G,G + M),0 < I && N(z.Y.Dx,G + M,G + M + I));N00=17;break;}}}function r(v,x,y){var P00;P00=2;for(;P00 !== 4;){switch(P00){case 2:v=new p();v.Dh=y[0];return v;break;}}}})();},function(t,b,a){var l,m,d,f,h,k;function c(n,p,q,u){f(!l.ka(u),"Must have at least one selected stream");return new k(u);}function g(n,p,q,u){f(!l.ka(u),"Must have at least one selected stream");return new k(u);}l=a(10);b=a(34);m=b.console;d=b.debug;f=b.assert;h=b.YH;k=b.Np;t.exports={STARTING:function(n,p,q){var r,w,v,x;function u(y,z){var A,B,E,D;A=y.id;B=y.bitrate;E=y.Ua || 0;D=! !E;d && m.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!y.Fu)return (d && !y.Du && m.log("  Not available"),d && y.lA && m.log("  Failed"),!1);if(B > n.xX)return (d && m.log("  Above maxInitAudioBitrate (" + n.xX + " Kbps)"),!1);if(!(B * n.D9 / 8 < p.buffer.Aw))return (d && m.log("  audio buffer too small to handle this stream"),!1);if(D){d && m.log("  Have throughput history = " + D + " : available throughput = " + E + " Kbps");if(B * p.playbackRate < E / w)return (d && m.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && m.log(" bitrate requires more than available throughput");return !1;}y=n.MX;p.Rqa && (y=Math.max(y,n.LX));if(B <= y)return (d && m.log("  Bitrate is less than max of minInitAudioBitrate (" + n.MX + " Kbps) " + (p.Rqa?" and also minHCInitAudioBitrate (" + n.LX + " Kbps)":"")),d && m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && m.log("  No throughput history");return !1;}r=new k();w=n.Yac || 1;for(v=q.length - 1;0 <= v;--v){x=q[v];if(u(x,v)){r.Le=v;break;}h(x) && (r.Le=v);}return r;},BUFFERING:c,REBUFFERING:c,PLAYING:g,PAUSED:g};},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.au=void 0;c=a(20);g=a(127);l=a(4);b.au=function(m,d,f,h,k,n){var p;c.ia && h.trace("AsePlaygraph.createRequestQueue()");p=g.Hp.instance.au(m,d.K,!0,!1,{Qz:f.Qz},f);p.ah.on(p,"networkfailing",function(){var q;c.ia && h.trace("requestQueue OnNetworkFailing: ",p);p.h6 && (l.assert(p.NV),null === (q=d.vq) || void 0 === q?void 0:q.Ns(p.NV,void 0,p.wh,p.Aj));d.bn();});p.ah.on(p,"error",function(){n(p.wh,p.Aj);});p.on("transportreport",k);p.Eb();return p;};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oja=b.EY=b.vXa=void 0;c=a(2).__importDefault(a(100)).default.Zma;b.vXa=function(g,l,m){var d,f,h;d=0;if(m){g.some(function(k){var n;n=k.b;k=k.m;if(l <= n)return (d=h && n !== f?h + (k - h) / (n - f) * (l - f):k,!0);f=n;d=h=k;return !1;});}else g.some(function(k){d=k.m;return l <= k.b;});return d;};b.EY=function(g,l,m){var d;l=(null === (d=l.Ua) || void 0 === d?void 0:d.Ba) || 0;return g.HSa?(g=c(g.GSa,m.lk - m.zc,1),l * (1 - g)):l * g.l_ / 100;};b.oja=function(g,l){return g < 2 * l?g / 2:g - l;};},function(t,b,a){var c,g,l,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Aca=void 0;c=a(2);t=a(18);g=a(20);l=c.__importDefault(a(6));m=a(9);d=a(864);f=a(150);h=a(865);k=a(21);n=a(868);p=a(869);a=(function(q){function u(){var r;r=null !== q && q.apply(this,arguments) || this;r.kQa=0;r.gia=0;r.D2=0;r.Fga=0;return r;}c.__extends(u,q);u.prototype.pwa=function(r){var w,v;q.prototype.pwa.call(this,r);this.kQa++;this.gia++;this.FQa=l.default.time.ga();this.yL || (this.yL={Mc:r.Mc,gd:r.gd,index:r.index},this.T2 || (this.T2=this.yL));w=this.f3;v=!1;w && 100 > Math.abs(w.oe - r.zd) && (this.D2+=r.oe - w.oe,this.Fga++,v=!0);v || (this.D2=r.hs,this.Fga=1);this.f3=r;};u.prototype.stop=function(){q.prototype.stop.call(this);this.gia=0;this.yL=void 0;};u.prototype.TZa=function(){var r,w,v,x;r=this.Uy;w=r.j5;if(w){x=w.kb(this.Ug);x && x.Ta && (v=x.Ta.Zoa());return {RM:v,currentBranch:{sId:w.H && w.H.id,cancelled:w.Nh},currentReceivedCount:r && r.ABb,totalReceivedCount:this.kQa,currentState:r && r.vVa || "Uninitialized",lastRequestPushed:this.f3 && ({contentEndPts:this.f3.Mc,fragmentIndex:this.f3.index}),tslp:this.FQa && l.default.time.ga() - this.FQa,cpts:this.D2,crq:this.Fga,rslp:this.gia,firstRequestSSPushed:this.yL && ({contentStartPts:this.yL.gd,fragmentIndex:this.yL.index}),firstRequestPushed:this.T2 && ({contentStartPts:this.T2.gd,fragmentIndex:this.T2.index})};}};return u;})((function(q){function u(r,w,v,x,y,z,A,B,E){var D;D=q.call(this) || this;D.Eg=r;D.Ug=w;D.J=x;D.I=y;D.wC=new m.Gr(!1);D.vC=new m.Gr(k.R.Oa(-Infinity));D.I=m.Oq(l.default,D.I,"AsePlayerBuffer [" + w + "]:");D.Uy=new d.XAa(D.I,v,w);D.resume();z && A && B && (D.bva=new h.TKa(w,y,z,D.Eg,z.events,A,B,E),r=new n.TDa(null === z || void 0 === z?void 0:z.Js,k.R.Oa(D.J.NX),y),D.Uy.mRa(r),D.J.URa && (y=new p.JIa(null === z || void 0 === z?void 0:z.Js,D.J.URa,k.R.Oa(D.J.dub),y),D.Uy.mRa(y)));D.Eg.on("requestAppended",function(F){D.wC.set(!0);F.request.ye && D.vC.set(F.request.ye);D.emit("requestAppended");});return D;}c.__extends(u,q);Object.defineProperties(u.prototype,{OA:{get:function(){return this.wC;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{eX:{get:function(){return this.vC;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{kNb:{get:function(){return this.Uy.xk;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{zB:{get:function(){return this.Eg.zB;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{mediaType:{get:function(){return this.Ug;},enumerable:!1,configurable:!0}});u.prototype.TZa=function(){};u.prototype.resume=function(){g.ia && this.I.trace("resume");this.Qxa();};u.prototype.Z1a=function(r){return this.Eg.Foa() > r;};Object.defineProperties(u.prototype,{Fub:{get:function(){return this.hL;},enumerable:!1,configurable:!0}});u.prototype.reset=function(r){var w;void 0 === r && (r=!1);g.ia && this.I.trace("reset");this.stop();this.Eg.reset(r);this.wC.set(!1);this.vC.set(k.R.Oa(-Infinity));r || (this.hL=void 0);r || (null === (w=this.bva) || void 0 === w?void 0:w.reset());};u.prototype.Tm=function(r){void 0 === r && (r=!1);g.ia && this.I.trace("restart");this.reset(r);this.Qxa(!0);};u.prototype.stop=function(){g.ia && this.I.trace("stop");this.Uy.gbb();};u.prototype.close=function(){var r;g.ia && this.I.trace("start");null === (r=this.bva) || void 0 === r?void 0:r.close();};u.prototype.Jb=function(){this.stop();this.close();};u.prototype.dY=function(){this.J.s6 && this.Eg.nYa();this.Eg.Oz();};u.prototype.GE=function(r){this.Eg.GE(r);};u.prototype.jGb=function(r){this.Eg.Y5a(r,!0);};u.prototype.Ui=function(r){var w;return !(null === (w=this.bva) || void 0 === w || !w.Ui(r));};u.prototype.Qxa=function(r){if(!this.Uy.xk || r)(this.Uy.nZb(),f.AsyncIterator.qOb(this.Uy,this.A8.bind(this)));};u.prototype.A8=function(r){r.done || this.pwa(r.value);};u.prototype.pwa=function(r){g.ia && this.I.trace("requestReceived: " + r.toString());this.Eg.endOfStream?g.ia && this.I.error("Buffer manager has declared EOS, ignoring request",r.toString()):(this.hL?(this.hL.NOb=r.Mc,this.hL.POb=r.oe,this.hL.d3a=r.ye):this.hL={ncc:r.gd,occ:r.zd,NOb:r.Mc,POb:r.oe,d3a:r.ye},this.Eg.Eub(r));};return u;})(t.EventEmitter));b.Aca=a;},function(t,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rfa=void 0;c=a(2);g=a(18);l=a(9);m=a(20);d=a(67);f=l.R.Oa(1E3);t=(function(){function h(k,n,p,q,u,r,w,v,x){var y,z,A;y=this;this.mediaType=k;this.console=n;this.Ja=p;this.events=u;this.kw=r;this.Oe=w;this.k3b=v;this.np=[];this.rua=f.add(l.R.Oa(null !== (A=null === (z=r.WP) || void 0 === z?void 0:z.U) && void 0 !== A?A:0));this.listeners=new g.ii();this.listeners.on(p.X,"skipped",function(){return y.fY();});this.listeners.on(q,"requestAppended",function(B){return y.OA(B.request);});this.QT=!0;this.BV=w.bH(function(){return y.UDb();},"Presentation Emit",x);this.Z$=w.bH(function(){return y.jXb();},"Presentation Prune");}h.prototype.fY=function(){this.trace("skipped, scheduler clock " + this.Oe.za.currentTime.Zd());this.QT=!0;this.BV.Tm();};h.prototype.UDb=function(){var k,n;return c.__generator(this,function(p){switch(p.label){case 0:(this.RI=this.vSb(this.QT),k=this.H5a(),p.label=1);case 1:if(!k)return [3,3];n=this.QT?this.Ja.Xg:null === k || void 0 === k?void 0:k.timestamp;this.trace("queuing task for " + k.TJ + (" at player time " + k.timestamp.Zd()) + (" scheduler clock is " + this.Oe.za.currentTime.Zd()));return [4,d.Tk.FQ(k.timestamp)];case 2:return (p.xc(),this.trace("executing task for " + k.TJ + (" at player time " + k.timestamp.Zd()) + (" scheduler clock is " + this.Oe.za.currentTime.Zd())),this.QT=!1,this.QWa(k,n),this.RI++,k=this.H5a(),n=null === k || void 0 === k?void 0:k.timestamp,[3,1]);case 3:return [2];}});};h.prototype.H5a=function(){if(void 0 !== this.RI)return this.np[this.RI];};h.prototype.vSb=function(k){var n,p,u;void 0 === k && (k=!1);for(var q=k?0:null !== (n=this.RI) && void 0 !== n?n:0;q < this.np.length;q++){n=this.np[q];u=l.R.Oa(null !== (p=this.kw.Oua) && void 0 !== p?p:0);if(n.timestamp.greaterThan(this.Ja.Xg.add(u)))return k && 0 < q?q - 1:q;}return Math.max(this.np.length - 1,0);};h.prototype.jXb=function(){var k,n;return c.__generator(this,function(p){switch(p.label){case 0:if(!(1 < this.np.length))return [3,2];k=c.__read(this.np,2);n=k[1];this.trace("queuing pruning task for " + n.TJ + (" at player time " + this.rua.add(n.timestamp).Zd()) + (" scheduler clock is " + this.Oe.za.currentTime.Zd()));return [4,d.Tk.FQ(this.rua.add(n.timestamp))];case 1:return (p.xc(),this.trace("executing pruning task for " + n.TJ + (" at player time " + this.rua.add(n.timestamp).Zd()) + (" scheduler clock is " + this.Oe.za.currentTime.Zd())),this.np.shift(),this.RI && this.RI--,[3,0]);case 2:return [2];}});};h.prototype.reset=function(){this.np=[];m.ia && this.trace("reset");this.QT=!0;this.E8=void 0;this.RI=0;this.Z$.Tm();this.BV.Tm();};h.prototype.close=function(){this.BV.Jb();this.Z$.Jb();this.listeners.clear();};h.prototype.Ui=function(k){var n;m.ia && this.trace("canSkip() " + k);if(0 === this.np.length)return (m.ia && this.trace("canSkip false, no media sequence"),!1);n=this.np[0];return n.timestamp.greaterThan(k)?(m.ia && this.trace("canSkip false, before earliest item at " + n.timestamp),!1):void 0 === this.E8 || this.E8.lessThan(k)?(m.ia && this.trace("canSkip false, later than last appended at " + this.E8),!1):!0;};h.prototype.trace=function(k){m.ia && this.console.trace("PresentationTracker [" + this.mediaType + "] " + this.k3b + ": " + k);};h.prototype.iRa=function(k,n,p){p && (this.E8=p);p=this.np.length?this.np[this.np.length - 1]:void 0;return void 0 === p || p.TJ !== k?(this.np.push({TJ:k,timestamp:n}),this.BV.state === d.qn.complete && this.BV.Tm(),this.Z$.state === d.qn.complete && this.Z$.Tm(),!0):!1;};return h;})();b.rfa=t;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Lca=void 0;t=a(2);c=t.__importStar(a(10));g=t.__importDefault(a(85));l=t.__importDefault(a(6));m=a(870);d=a(16);f=a(248);h=a(9);k=a(4);n=a(21);p=a(351);q=a(390);a=(function(){function u(r,w,v,x,y,z,A,B,E,D){this.wb=r;this.mi=w;this.I=v;this.VL=x;this.J=A;this.P2=B;this.SPa=E;this.dW=D;this.Tb=this.I.warn.bind(this.I);this.An=this.I.trace.bind(this.I);this.Ig=this.I.log.bind(this.I);this.ki=[];this.qh={};y.Fn?(k.assert(!y.rp),this.tga=!0,this.Uqb(y,y.Fn,z)):(this.Eo=this.Fy(y.rp || "",y,0,void 0,void 0,{},!0),this.Eo.Rq=!0,this.Eo.La=Infinity,this.I3=[this.Eo]);this.Yd=this.F2(this.Eo,void 0,z);this.Yd.active=!0;r=h.Oq(l.default,this.I,"BranchQueue::");this.oj=new f.p0(r);this.oj.enqueue(this.Yd);this.Zha=this.qT=void 0;}u.Yna=function(r){return "m" + r;};Object.defineProperties(u.prototype,{Vw:{get:function(){return ! !this.tga;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{vk:{get:function(){return this.Yd.Nh;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Pd:{get:function(){return this.Eo;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Yg:{get:function(){return this.Yd.H.id;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{CBb:{get:function(){return this.Yd.P.Qb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Zc:{get:function(){return this.Yd;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ib:{get:function(){return this.ki;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Fe:{get:function(){return this.Yd.Fe;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Rg:{get:function(){return this.wb.Rg;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Bi:{get:function(){return this.qT?this.qT:this.Ib[0];},enumerable:!1,configurable:!0}});u.prototype.Jb=function(){this.ki.forEach(function(r){r.sf();});this.ki=[];this.oj.clear();};u.prototype.mf=function(r){return this.qh[r];};u.prototype.Q_a=function(){return this.oj.getIterator();};u.prototype.P_a=function(r,w){var v;v=this.qh[r];if(v)return (r=v.Ml[w]) && r.weight;this.Tb("getSegmentWeight, unknown segment:",r);};u.prototype.$Jb=function(r){var w;w=this.qh[r];if(w)return w.$;this.Tb("getSegmentStartPts, unknown segment:",r);};u.prototype.ZJb=function(r){var w;w=this.qh[r];if(!w)this.Tb("getSegmentDuration, unknown segment:",r);else if(c.Fa(w.La) && isFinite(w.La) && c.Fa(w.$) && isFinite(w.$))return w.La - w.$;};u.prototype.$va=function(r){var w;w=-1;this.ki.some(function(v,x){return v === r?(w=x,!0):!1;});-1 !== w?this.ki.splice(w,1):this.Tb("Unable to find branch:",r,"in branches array");};u.prototype.OG=function(r,w){var v;v=0;this.Nob(r).forEach(function(x){(x=x.Td(w)) && (v+=x.eD);});return v;};u.prototype.zw=function(r,w,v){var x;if(!r.oc(w))return 0;x=r.kb(w);for(x=v?x.Cc:x.nq;void 0 === x;){if(!r.yg)return 0;r=r.yg;x=r.kb(w);x=v?x.Cc:x.nq;}r=this.SPa.Ue();return Math.max(x - r,0);};u.prototype.mna=function(r){return this.ki.filter(function(w){if(w.P.Qb === r)return !0;});};u.prototype.QFb=function(r,w){return this.AOa(r,!1,w);};u.prototype.PFb=function(r,w){return this.AOa(r,!0,w);};u.prototype.GYb=function(r,w,v){c.tf(this.ki,function(x){x.P === r && x.oab(w,v);});c.tf(this.qh,function(x){x.P === r && (x.P=w);});};u.prototype.Q9a=function(){var r;r=this;c.tf(this.ki,function(w){var v;v=r.wb.xh(w.P.Qb);w.Nx(n.R.Oa(v.ax));});};u.prototype.gr=function(r){var w;w=this;c.tf(this.ki,function(v){v.kb(1).track.$d.forEach(function(x){var y;y=p.pja(x.Kg,x.bitrate,r,w.I);g.default(y,x);});});};u.prototype.ku=function(r,w,v,x){var y;for(;w;){y=w.ku(r,v);if(y)return y;if(x)break;w=w.yg;}};u.prototype.AVa=function(r){var w,v;w=this;void 0 === r && (r=!1);v=this.ki;r && (v=v.filter(function(x){return x !== w.Yd;}));v.forEach(function(x){x.active=!1;w.oj.remove(x);});r || this.oj.clear();return v;};u.prototype.iXb=function(){var r;for(;0 < this.ki.length;){r=this.ki[0];r.kb(0);r.kb(1);if(!r.active)break;if(r === this.Yd)break;if(!r.qLb())break;r.sf();this.ki.shift();}};u.prototype.OY=function(r,w,v,x,y){if(v > x){for(v-=x;r;){r.OY(w,v,y);r=r.yg;}return v;}};u.prototype.X3a=function(r,w){for(var v={TU:null,gP:null,zd:null,Dj:0,hh:0,Y:[]};r;){r.j7(v,w);r=r.yg;}return v;};u.prototype.Pxb=function(r){var w,v,x;w=this.Yd;if(w.M3a)v=w.M3a;else {x=this.Yd.Fe;v=this.F2(w.H,w);d.Df.forEach(function(y){var z;z=v.Td(y);z && (z.sJ(0),y=w.Td(y),z.Paa(y.Jf));});v.Nx(n.R.Oa(x + r));w.M3a=v;}this.cL(v,w);};u.prototype.rtb=function(r,w,v){var x,y;k.assert(!r.Vw());if(!this.tga){this.tga=!0;this.qT=this.Bi;x=this.Eo.id || u.Yna(0);this.Eo.id=x;this.qh[x]=this.Eo;this.Eo.La=this.wb.CIb().VZa();this.Eo.vE=!0;}y=void 0 !== r.rp?r.rp:u.Yna(r.Qb);r=this.Fy(y,r,w,v,void 0,{},!0);r.vE=!0;this.I3.forEach(function(z){z.Ml={};z.Ml[y]={weight:100};z.iV=y;z.sv=!1;});this.I3=[r];};u.prototype.$r=function(r,w){var v,x,y,z;v=this.Bi;x=v.LE(w,this.wb.X);y=v.H;z=v.children[r];if(w){if(!y.Ml[r])return (this.Yd.Tb("chooseNextSegment, invalid destination:",r,"for current segment:",y.id),!1);if(v.cl)return v.cl === r;v.cl=r;z && v.v6 && this.cL(z,v);return !0;}if(void 0 !== v.cl)return !1;if(!z)return (x.D5a=!0,!1);x.D5a=!z.Ika();this.wb.hia(void 0,q.zS.PO);v.v6=void 0;v.cl=r;this.cL(z,v);v.nH();this.wb.OT();return !0;};u.prototype.LLb=function(r,w){var v,x,y,z;v=this;z=r.H;w && !r.cl && (r.cl=z.iV,r.LE(!0,this.wb.X,!0));r.children=Object.create(null);c.tf(z.Ml,function(A,B){r.cl && B !== r.cl || (x=v.qh[B],y=v.eob(x,r),r.children[B]=y);});r.cl && (w=r.children[r.cl]) && this.cL(w,r);r.v6=!0;};u.prototype.d3b=function(){var r;r=0;c.tf(this.ki,function(w){d.Df.forEach(function(v){w.oc(v) && (v=w.Td(v),r+=v.Ta.bq);});});return r;};u.prototype.i2b=function(r,w){var v,x,y;v=this;x=this.Kob(r,w);if(x){if(x !== this.Yd.H){this.AVa();y=this.F2(x,this.Yd,r);y.yg=void 0;y.oxa(void 0,void 0,!0);this.knb(this.Yd);this.cL(y,this.Yd);}else this.AVa(!0).forEach(function(z){z.sf();v.$va(z);v.oj.remove(z);});x === this.Bi.H && (this.Bi.Jx.shift(),y && (y.Jx=this.Bi.Jx,y.cl=this.Bi.cl));this.mi.j3(x,this.Yd.Fe);this.Yd.v6=void 0;}else this.Tb("findSegment no segment for manifestIndex:",w);};u.prototype.W3a=function(r,w){var v;v=r.H;w || (w=v.iV);r.cl || (r.cl=w,r.LE(!0,this.wb.X,!0));(w=r.children[r.cl]) && this.cL(w,r);};u.prototype.R$a=function(r,w){if(this.Yd !== r){if(w)for(w=this.Yd;w && w !== r;){w.active=!1;this.oj.remove(w);w=w.yg;}this.Yd=r;}};u.prototype.ht=function(r,w){var v,x,y,z,A;v=this;if(this.Vw){x=this.J;y=this.Bi;z=y.H;A=h.ZZb(z.id);!y.cl && !z.sv && y.Mc - w <= x.hE && (this.Tb(A + "updatePts making fork decision at playerPts:",r,"contentPts:",w),this.W3a(y));}d.Df.forEach(function(B){v.Yd.oc(B) && v.Rg[B].ht();});};u.prototype.RSb=function(r,w){var v,x;if(this.Vw){v=this.qT;if(!(this.J.lMb && r && this.Zha && r.$ === this.Zha || (r=r.Ta.ib,v && r.H.id === v.H.id))){x=null === v || void 0 === v?void 0:v.Td(1);x=null === x || void 0 === x?void 0:x.Jf;this.Zha=null === x || void 0 === x?void 0:x.$;this.qT=r;this.Gnb(v);v=v && v.byb(r);this.mi.yqb(r.H,w,v);}}};u.prototype.X9=function(r,w,v){w.Rq || (w.$=this.p_a(r,w.$,!0),v || (w.La=this.p_a(r,w.La,!1)),w.Rq=!0,!1);};u.prototype.wQ=function(r,w){var v;v=this.qh[r];v?c.tf(v.Ml,function(x,y){x.weight=w[y] || 0;}):this.Tb("updateChoiceMapEntry, unknown segment:",r);};u.prototype.p_a=function(r,w,v){r=v?r.UXa(w):r.PV(w);if(!r.length)return w;w=r[1];return v?w.$:w.La;};u.prototype.dPa=function(r,w,v){var x;x=w?v.Mc:v.oe;return (w?v.Daa:v.Pua) <= r && r < x;};u.prototype.AOa=function(r,w,v){var A;for(var x=this.wb,y=this.Yd;y;){if((!c.Fa(v) || x.Oqa(v,y.P.Qb)) && this.dPa(r,w,y))return y;y=y.yg;}if(w){y=Object.keys(this.Yd.children);for(var z=0;z < y.length;z++){A=this.Yd.children[y[z]];if((!c.Fa(v) || x.Oqa(v,A.P.Qb)) && this.dPa(r,w,A))return A;}}};u.prototype.eob=function(r,w){var v,x;v=this.F2(r,w);x=v.oxa(w,void 0,this.J.Sva);d.Df.forEach(function(y){var z,A,B;if(v.oc(y)){z=v.Td(y);A=w.Td(y);B=x[y];1 === y && v.Nx(n.R.Oa(A.Cc + w.Fe - B));z.sJ(B);}});this.mi.j3(r,v.Fe);return v;};u.prototype.knb=function(r){for(var w=[r.H.id];r.yg;){r=r.yg;w.unshift(r.H.id);}this.kga(r);};u.prototype.kga=function(r){var w,v;w=this;v=r.H;c.tf(r.children,function(x){x && w.kga(x);});this.oj.remove(r);r.sf();this.$va(r);this.mi.Mha(v);};u.prototype.cL=function(r,w){var v,x,y,z;v=this;x=w.H;w.P !== r.P && this.wb.pPa(r.P.Qb);r.active=!0;this.oj.enqueue(r);r.pM();y=l.default.time.ga();z={};c.tf(w.children,function(A){var B,E;if(A){if(A.me){B=A.Td(0);E=A.Td(1);A.me.kq=[B?B.Hn.U:0,E?E.Hn.U:0];A.me.yDb=y - A.me.W7;A.me.W7=void 0;z[A.H.id]=A.me;}A.H.id !== r.H.id && v.kga(A);}});w.children=Object.create(null);w.children[r.H.id]=r;w.pL=void 0;this.R$a(r);this.mi.wqb(r.H,z);1 < Object.keys(x.Ml).length && r.Ika();};u.prototype.Gnb=function(r){var w,v;if(r){w=l.default.time.ga();v=r.Jx[0];v && void 0 === v.y5?v.y5=w - v.ar:v || (this.Tb("missing metrics for branch:",r.H.id),v={Waa:r.H.id,Ye:!0,y5:0,me:{}},r.Jx.unshift(v));void 0 === v.startTime && (v.startTime=w);}};u.prototype.Kob=function(r,w){var x,y,z,A;k.assert(0 <= r);for(var v in this.qh){x=this.qh[v];if(this.wb.Oqa(x.P.Qb,w)){if(x.$ <= r && (Infinity === x.La || void 0 === x.La || r < x.La))return x;y=Math.min(Math.abs(r - x.$),Math.abs(r - x.La));if(c.ka(z) || y < z)(z=y,A=x);}}return A;};u.prototype.Fy=function(r,w,v,x,y,z,A,B,E){w=new m.JLa(r,w,v,x,y,z,A,B,void 0,E);return this.qh[r]=w;};u.prototype.Uqb=function(r,w,v){var x,y,z;x=this;this.Eo=void 0;this.I3=[];y=null;z=null;c.tf(w.segments,function(A,B){var E,D,F,G,C;E=A.startTimeMs;D=A.endTimeMs;F={};c.tf(A.next,function(H,K){F[K]={weight:H.weight || 0,r3b:H.transitionHint || A.transitionHint,$bc:"number" === typeof H.earliestSkipRequestOffset?H.earliestSkipRequestOffset:A.earliestSkipRequestOffset};});G=A.defaultNext;c.ka(G) && (G=Object.keys(F)[0]);C=c.ka(G);G=x.Fy(B,r,E,D,G,F,C,A.exitZones,A.transitionHint);E <= v && (v < D || c.ka(D))?x.Eo=G:E > v && (!y || E < z) && (y=B,z=E);C && x.I3.push(G);});this.Eo || (this.Eo=y?this.qh[y]:this.qh[w.initialSegment]);};u.prototype.F2=function(r,w,v){var x,y,z,A;x=r.P;y=this.wb.xh(x.Qb);z=y.ax;A=[];[0,1].forEach(function(B){x.oc(B) && A.push(y.Cq(B));});r=new q.VFa(this.wb,this.J,this.mi,this.I,this,this.P2,this.SPa,this.VL,r,A,z,w,v?n.R.Oa(v):void 0,this.dW,this.wb.Rg,this.wb.jw);this.lnb(r);this.ki.push(r);return r;};u.prototype.lnb=function(r){var v;function w(x){v.wb.emit(x.type,x);}v=this;r.addListener("locationSelected",w);r.addListener("logdata",w);r.addListener("serverSwitch",w);r.addListener("streamSelected",w);r.addListener("lastSegmentPts",w);r.addListener("managerdebugevent",w);r.addListener("requestCreated",function(x){x=x.request;v.wb.lia(x.mediaType,x.$);});};u.prototype.Nob=function(r){for(var w=[r];r.yg;){r=r.yg;w.push(r);}return w;};return u;})();b.Lca=a;},function(t,b,a){var m,d,f,h;function c(k,n,p){this.uE=n;this.Kl=p;this.wB=this.QW=this.vua=this.p7a=this.o7a=this.RO=this.$d=this.GVb=this.Kl=this.Xm=this.Cc=this.$=this.kt=this.qo=this.Y=this.J1a=this.vU=void 0;}function g(k,n,p){this.La=n;this.t2a=p;this.ZRa=this.geb=this.Ur=this.qo=this.jI=this.Iw=void 0;}function l(k,n,p,q,u,r,w){var v;v=new c(p,n,k.Kl);k.forEach(function(x){var y,z;y=x.buffer;z=y.Y;x.mediaType === d.Wa.Yb?v.vU=z.length?z[0].bitrate:void 0:x.mediaType === d.Wa.Pb && (v.J1a=z.length?z[0].bitrate:void 0,v.Y=z,v.qo=y.lk - y.zc,v.kt=y.hh,v.$=y.zc,v.Cc=y.Cc,v.Xm=x.Bd,v.Kl=x.Kl,v.GVb=n - x.Kl,v.$d=x.$d,v.RO=z.filter(function(A){return v.$ <= A.vx;}).length);});this.Jj=v;this.gu=void 0;this.GVa=q;this.Ax=u;this.XSa=r;this.Ova=this.caa=this.D6a=this.BB=this.kM=this.RXa=this.Px=this.$d=this.gu=void 0;this.Ptb=w;this.Uua={};}m=a(2);d=a(28).default;f=a(34).assert;h=a(16).ta;c.prototype.constructor=c;g.prototype.constructor=g;l.prototype.constructor=l;l.prototype.ju=function(k,n){var p,q,u,r,w,v,x,y,z,A,B,E,D,H,K,M,I,Q,L;p=this.Jj;q=[];u=k[d.Wa.Pb];r=k[d.Wa.Yb];if(void 0 === u || void 0 === r)return !1;w=u.buffer;v=r.buffer;x=p.$d.filter(function(J){return J.X6();});if(void 0 === w || void 0 === v || void 0 === x || 0 === x.length)return !1;y=new g(n?h[n]:"maxbitratechanged",u.zc,n === h.Rf);z=0;A=0;B=0;E=0;D=p.$;k=k[d.Wa.Pb].zc;for(var F=p.Y,G=p.RO,C=0;C < G;C++){H=F[C];K=H.offset;M=H.offset + H.fa - 1;I=H.hs;Q=H.eB;L=Q + I;H && Q <= k && L > D && (I=H.hs,Q=Math.min(I,Math.min(k,L) - Math.max(Q,D) + 1),E+=Q,z+=Q / I * (M - K + 1),A+=H.bitrate * Q,B+=H.xb * Q);}p.o7a=z;p.p7a=E;p.vua=0 < E?A / E:0;p.dVb=0 < E?B / E:0;p.QW || (p.QW=0,x.some(function(J,O){if(J.bitrate === p.J1a)return (p.QW=O,!0);}));x.forEach(function(J){var O,P;J=J.X6();O=[];p.wB || (p.wB=J.On(p.$,void 0,!0));y.Iw || (y.Iw=J.On(y.La,void 0,!0),y.jI=J.length - 1);p.Xm !== p.wB + p.RO && (p.Xm=p.wB + p.RO);G=Math.min(y.jI,y.Iw + 1);for(var N=p.wB;N <= G;N++){P=J.get(N);O[N]=P;}q.push(O);});n === h.Rf && (y.qo=w.lk - w.zc,y.Ur=v.lk - v.zc,y.geb=u.S8a,y.ZRa=r.S8a);this.gu=y;this.$d=x;this.Px=q;return this.RXa=!0;};l.prototype.bA=function(){var k,n,p,q,u,r,w,v,x,y,z,D,F,G,C,H,I,Q;if(this.zk)return this.zk;p=this.BB;q=this.Jj;u=this.gu;r=this.$d;w=this.D6a;v=this.Ptb;f(void 0 !== p,"throughput object must be defined before retrieving the logdata from PlaySegment");if(p.trace && 0 === p.trace.length || void 0 === p.timestamp){if(u.t2a)(x=!1,y=!0);else u.Iw - q.wB + 1 <= q.RO?y=x=!0:(x=!0,y=!1);z=!0;}if(w)for(var A=w.c8,B=w.nN,E=0;E < v.length;E++){D=v[E];(p=w[D]) && p.vta && (y=!0);}u={bst:q.Kl,pst:q.uE,s:q.wB,e:u.Iw,prebuf:q.RO,brsi:q.Xm,pbdlbytes:q.o7a,pbdur:q.p7a,pbtwbr:q.vua,pbvmaf:q.dVb};this.Ax && (u.fragmentsPrebuffered=q.Y);z && (u.nt=z);y && (u.nd=y);A && (u.invalid=A);B && (u.exception=B);this.Ova && (u.rr=this.Ova);this.caa && (u.ra=this.caa);if(!y && !A && !B && (this.GVa || this.Ax)){u.bitrate=r.map(function(L){return L.bitrate;});p=this.BB;D=p.trace;F=[];C=0;D.forEach(function(L){L=Number(L).toFixed(0);F.push(L - C);C=L;});u.tput={ts:p.timestamp,trace:F,bkms:p.mz};}if(y || z || A || B)u.feasible=x;else for((u.sols={},u.elapsed=w.ODb,E=0);E < v.length;E++){D=v[E];p=w[D];y={};if(p && p.kr){y.algelapsed=p.Otb;y.maxHeapTotal=p.IA;y.f=p && p.SD || !1;y.dltwbr=p.mWa;y.dlvmaf=p.pWa;y.dlvdur=p.oWa;y.dlvbytes=p.nWa;y.dlabytes=p.kWa;if(this.GVa || this.Ax){G=p.kr.filter(function(L){return L;}).map(function(L){return L.Le;});C=0;H=[];G.forEach(function(L){H.push(L - C);C=L;});y.strmsel=H;}if(this.Ax){z=[];x=this.Jj.Xm;try{for(var K=(k=void 0,m.__values(G)),M=K.next();!M.done;M=K.next()){I=M.value;Q=this.Px[I][x];Q.Of=I;z.push(Q);x++;}}catch(L){k={error:L};}finally{try{M && !M.done && (n=K.return) && n.call(K);}finally{if(k)throw k.error;}}y.fragsel=z;y.streamList=this.$d;y.pause_dlnd_sec=p.kr.filter(function(L){return L;}).map(function(L){return L.sua;});y.buffer_sec=p.kr.filter(function(L){return L;}).map(function(L){return L.dka;});y.buffer_kb=p.kr.filter(function(L){return L;}).map(function(L){return L.cka;});y.buffer_frags=p.kr.filter(function(L){return L;}).map(function(L){return L.aTa;});y.elapsed_secs=p.kr.filter(function(L){return L;}).map(function(L){return L.MWa;});y.throughput=p.kr.filter(function(L){return L;}).map(function(L){return L.Ua;});}}u.sols[D]=y;}return this.zk=u;};l.prototype.ZFb=function(k){var q;if(void 0 !== this.Uua[k])return this.Uua[k];for(var n=this.Px[this.Jj.QW],p=0;p < n.length;p++){q=n[p];if(q && q.$ <= k && q.$ + q.duration > k)return this.Uua[k]=q;}throw Error("findPlayingFragment: missing");};t.exports=l;},function(t,b,a){var l,m;function c(d,f,h){this.fa=d;this.Um=f;this.quality=h;}function g(d,f){this.rsa=f;void 0 === f && (this.rsa=!0);this.vm=d;this.xnb();}l=a(2);m=a(4).assert;c.prototype.constructor=c;c.prototype.gA=function(){return 8 * this.fa / 1E3 / this.Um;};g.prototype.constructor=g;g.prototype.Yt=function(d,f,h,k,n){void 0 === f && (f=0);void 0 === h && (h=d.TN());void 0 === k && (k=0);void 0 === n && (n=d.vm.length);for(var p=[],q,u=k;u < n;u++){k=[];for(var r=f;r < h;r++){q=d.vm[u][r];k.push(q);}p.push(k);}return new g(p,d.rsa);};g.prototype.xnb=function(){var d,f,n;f=this.vm[0].length;try{for(var h=l.__values(this.vm.slice(1)),k=h.next();!k.done;k=h.next()){n=k.value;m(n.length === f,"expect chunk.length === n but got " + n.length + " and " + f);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (d=h.return) && d.call(h);}finally{if(p)throw p.error;}}this.rsa && this.ynb();this.znb();};g.prototype.TN=function(){return this.vm[0].length;};g.prototype.ynb=function(){for(var d=0;d < this.vm.length - 1;d++){for(var f=0;f < this.TN();f++){m(this.vm[d][f].fa <= this.vm[d + 1][f].fa,"Chunk size for epoch " + f + " is not monotonic");}}};g.prototype.znb=function(){for(var d=0;d < this.vm.length - 1;d++){for(var f=0;f < this.TN();f++){m(1E-8 > Math.abs(this.vm[d][f].Um - this.vm[d + 1][f].Um),"Chunk duration for epoch " + f + " is not consistent");}}};g.prototype.KKb=function(){var d;d=[];this.vm[0].forEach(function(f){d.push(f.Um);});return d;};t.exports={sgb:c,tgb:g};},function(t,b,a){var m;function c(){}function g(d,f,h){void 0 === h && (h=!1);m(d.length === f.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8 < l(d),"bitrate zero, won't be able to send anything.");this.WC=d;this.IWa=f;this.repeat=h;this.ym=this.Vo=0;}function l(d){return d.reduce(function(f,h){return f + h;},0);}m=a(4).assert;c.prototype=Error();g.prototype.constructor=g;g.prototype.Yt=function(){var d;d=new g(this.WC,this.IWa,this.repeat);d.Vo=this.Vo;d.ym=this.ym;return d;};g.prototype.Epa=function(){return this.WC[this.Vo % this.WC.length];};g.prototype.ED=function(){return this.IWa[this.Vo % this.WC.length];};g.prototype.uDb=function(d){m(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.Vo && this.Vo < this.WC.length))throw new c();m(this.ym < this.ED(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f;;){f=this.ED() - this.ym;f=d < f?d:f;d-=f;this.ym+=f;if(this.ym < this.ED())break;this.ym-=this.ED();this.Vo+=1;if(!this.repeat && this.Vo >= this.WC.length){if(0 < d)throw new c();break;}}};g.prototype.m7a=function(d){this.uDb(d);};g.prototype.vDb=function(d){m(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.Vo && this.Vo < this.WC.length))throw new c();m(this.ym < this.ED(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f,h=0;;){f=this.ED() - this.ym;f=d < f * this.Epa()?d / this.Epa():f;d-=this.Epa() * f;h+=f;this.ym+=f;if(this.ym < this.ED())return h;this.ym-=this.ED();this.Vo+=1;if(!this.repeat && this.Vo >= this.WC.length){if(0 < d)throw new c();return h;}}};t.exports={Omb:g,Pmb:c};},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Bmb=b.tea=b.Dmb=b.iMa=void 0;t=a(2);c=t.__importStar(a(10));g=t.__importDefault(a(6));l=t.__importDefault(a(34)).default.YH;m=t.__importStar(a(9)).Oq;d=t.__importDefault(a(402));f=a(386);h=a(216);k=a(16);n=a(25);p=a(4);q=a(99);u=a(244);a=(function(){function x(y,z,A,B,E,D,F,G,C,H,K){var M;M=this;this.I=y;this.Cg=z;this.J=A;this.oc=B;this.X=E;this.NP=D;this.Wb=F;this.Gb=G;this.rg=C;this.w4=H;this.nG=K;this.C3=[];this.qia=[];this.yPa=[];this.VNa=void 0;[0,1].forEach(function(I){M.oc(I) && (M.C3[I]=new v(M.I,I),M.qia[I]=new r(I),M.yPa[I]=new w(I));});this.Wdb=new q.UF(this.I);this.KB=q.hD(this.J,this.Wdb);this.Fja=q.gD();this.$F=void 0;}Object.defineProperties(x.prototype,{Nf:{get:function(){return this.C3;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{xB:{get:function(){return this.qia;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{gx:{get:function(){return this.yPa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{iz:{get:function(){return this.VNa;},set:function(y){this.VNa=y;},enumerable:!1,configurable:!0}});x.prototype.gr=function(y,z){this.Wdb.gr(y,z);};x.prototype.qsa=function(y){var z,A,B,E,D,F;z=this.J;A=y.mediaType;B=g.default.$o()[A];E=z.J4b?0 === A?z.nU:z.L_:1 === A?z.nU:z.L_;D=this.X.getState();F=this.X.Ue();z=y.Ta.ib;A=this.w4.X3a(z,A);B={Aw:B,$:A.zd,zc:F,Cc:A.gP || F,lk:A.TU || F,hh:A.hh,Dj:A.Dj,wYa:A.Y.length,Y:[]};E={state:D,Kq:this.X.Kq(),Bd:y.Yn,buffer:B,wV:E,L3a:! !this.NP.V8,eN:! !this.NP.Os,bq:this.Wb && this.Wb.bq,daa:y.dKb,playbackRate:this.X.ap()};void 0 === E.Bd && (E.Bd=y.ona(B.Cc));E.FU=z.FU;B.Y=A.Y;c.Fa(B.$)?y.seeking && B.zc != B.$ && (B.zc=B.$):(B.$=0,B.Cc=0);this.Cg.cxb(E);this.Cg.qtb(E);return E;};x.prototype.Hka=function(y,z,A){var G,C;y=this.C3[y];for(var B=y.maxBitrate,E="manifest",D=0,F=z.length - 1;0 <= F;F--){G=z[F];C=G.bitrate;if(l(G)){D=Math.max(D,C);break;}else this.J.YZ && !G.lu?E="bc":G.Du?G.lA && (E="hf"):E="av";}if(void 0 === B || D !== B)(y.maxBitrate=D,this.Gb.MSb(B,D,E,A));};x.prototype.bKb=function(y){return this.mpa(y).Of;};x.prototype.mpa=function(y){var z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,O,N,P;z=this.J;A=y.mediaType;B=1 == A;E=0;D=this.C3[A];F=this.qia[A];if(!D.Kf)return {Of:void 0};G=this.qsa(y);C=y.Pf;H=C.Gu;K=y.N8.P;M=y.track.$d;if(!K.Jm.E_(K.S,M))return (y.Vk("location selector did not find any urls"),{Of:void 0});I=u.N$(G.state);Q=B?this.KB:this.Fja;try{L=Q.Cm(M,I);}catch(S){this.I.error("StreamFilters: filterStreams: " + S);L=[M[0]];}0 === L.length && (this.I.error("StreamFilters: empty list"),L=[M[0]]);if(this.nG.js && (y.rD.length !== L.length || 0 < n.Ot(y.rD,L).length || 0 < n.Ot(L,y.rD).length)){try{this.$F && this.OFb();}catch(S){this.Gb.Zn("Hindsight: Error when handling maxbitrate chagned: " + S);}y.rD=L;}I=H?H.Of:D.Gna;try{if(H && (E=H.bitrate,H && C.track && !H.track.equals(C.track))){J=f.rna(L,E) || 0;O=L[J];if(H.bitrate !== O.bitrate || 1 === A)G.state=k.ta.Ih;H=O;I=M.indexOf(O);}}catch(S){this.I.error("StreamFilters: track change: " + S);}if(!B && (E=z.iQ,!(E && 0 < E.length) && I && M[I] && H && H.location === M[I].location))return {Of:I};try{N=this.Cg.LN(A);P=y.Kj.Xwa(G,L,void 0,N,D.Kf.config.rx,K.vq);if(!P)return (y.Vk("stream selector did not find a stream"),{Of:void 0});}catch(S){this.I.error("StreamFilters: stream selector: " + S);P={Le:0};}P.Le=M.indexOf(L[P.Le]);this.NP.Os && this.NP.Os.ttb(y.mediaType,P,M);B && this.Hka(A,L,y.Cc);G=P.Le;H=M[G];L=H.bitrate;G != I && (B && z.gN && this.rg.NNa(y,L),B || this.Cg.OP(L));c.Fa(D.Gna) || (D.Gna=G);y.Te || (P.Te?(p.assert(void 0 !== P.x4),y.Maa(P.x4),F.Tt=P.x4):(y.aE=P.aE,y.dJ=P.dJ,y.progress=P.progress));this.Ey();if(B)if(P.Lz)K.PP(P.Lz);else if(!K.y7() && !z.Mab)for(y=0;y < M.length;++y){if((z=M[y],z.Fu && !K.jl(A,z.Sa))){K.PP([z.Sa]);break;}}P.tSa && this.Gb.TSb(P.tSa);return {Sa:H.Sa,Of:G,ox:P.ox};};x.prototype.Ey=function(){var y,z,A,B,E,D;A=this.Nf[0];B=this.Nf[1];E=this.xB[1];D=this.xB[0];A=this.w4.Zc.Xwb(null !== (y=null === B || void 0 === B?void 0:B.Wu) && void 0 !== y?y:0,null !== (z=null === A || void 0 === A?void 0:A.Wu) && void 0 !== z?z:0,this.iz,this.NP.BY);A.Tt && (this.NP.cn && E?E.Tt=A.Tt:D && (D.Tt=A.Tt));return A.Te;};x.prototype.lna=function(y,z){var A,B,E,D;A=this;if(this.$F){B=this.$F;E=this.X.Ue();D=[];z && (E=z.La);h.Df.forEach(function(F){var G,C;G=A.w4.Zc.Td(F);if(G){C=A.qsa(G);C.mediaType=F;C.zc=E;y === k.ta.Rf && (C.S8a=G.Ta.lja(E));D[F]=C;}});B.RXa || B.ju(D,y) || this.twa();return B;}};x.prototype.OFb=function(){var y,z;y=this.$F;z=this.J;y && (this.lna(void 0),y && !y.kM && this.Cg.zva.Yma(y));this.dVa(z);};x.prototype.twa=function(){this.$F=void 0;};x.prototype.m4b=function(y){var z,A,B;z=y.oldValue;y=y.newValue;A=this.$F;B=this.J;y === k.ta.Lc && z !== k.ta.Lc?(A && this.I.warn("override an existing play segment!"),this.dVa(B,z,!0)):y !== k.ta.Lc && z === k.ta.Lc && A && (this.lna(y),A && !A.kM && this.Cg.zva.Yma(A),this.twa());};x.prototype.dVa=function(y,z,A){var B,E,D;B=this;E=[];h.Df.forEach(function(F){var G,C,H;G=B.w4.Zc.Td(F);if(G){C=B.qsa(G);if(A){H=B.Nf[F];H.Lxa?(C.Kl=H.Lxa,H.Lxa=void 0):C.Kl=H.Kl;}else C.Kl=g.default.time.ga();C.$d=G.rD;C.mediaType=F;E[F]=C;}});D=g.default.$o();D={Sac:D[0],Udb:D[1],Edc:y.E4a,KA:y.KA};this.$F=new d.default(E,g.default.time.ga(),z,this.nG.DV,y.Ax,D,y.G7);};return x;})();b.iMa=a;r=(function(){function x(y){this.mediaType=y;this.HU=this.Nw=this.qA=this.Tt=this.rA=void 0;}x.prototype.q4b=function(y,z,A){this.rA=y?y:this.rA;this.Tt=this.Tt;this.qA=z?z:this.qA;this.Nw=A?A:this.Nw;};return x;})();b.Dmb=r;w=(function(){return function(x){this.mediaType=x;this.Dra=this.Kra=this.Fra=this.fI=void 0;};})();b.tea=w;v=(function(){return function(x,y){this.mediaType=y;this.I=m(g.default,x,"[" + y + "]");this.Vk=this.I.error.bind(this.I);this.Tb=this.I.warn.bind(this.I);this.An=this.I.trace.bind(this.I);this.Ig=this.I.log.bind(this.I);this.I.debug.bind(this.I);this.Gna=this.Kl=this.No=this.Kf=void 0;this.CY=this.Wu=0;this.GQ=!1;this.maxBitrate=void 0;};})();b.Bmb=v;},function(t,b,a){var q,u,r,w,v,x,y,z,A,B,E,D,F;function c(){}function g(G,C){var H,K,M,I;H=q.kd(C)?C:c;this.J=G || ({});(function(Q,L,J){this.bk[Q].De[L]=J;}).bind(this);(function(Q,L){return this.bk[Q].De?this.bk[Q].De[L]:void 0;}).bind(this);this.on=this.addEventListener=D.addEventListener;this.removeEventListener=D.removeEventListener;this.emit=this.Ya=G.dcc?D.Ya:c;K=w.AAb(G);M=this.J.dailyDiskCacheWriteLimit;if(K){this.$v=K;I=k(G.Sdc || F,w.WHb());this.Zy=function(Q){return q.ka(I) || null === I || void 0 === this.bk[Q]?!1:!q.ka(I[Q]);};I?(this.bk={},C=u.Promise.all(Object.keys(I).map(function(Q){return new u.Promise(function(L,J){var O;O=I[Q];O.Idb=G.Idb;new v(Q,K,O,function(N,P){N?J(N):L(P);},M);});})).then((function(Q){Q.map((function(L){var J;J=L.iw;this.bk[J]=L;I[J].DGb=I[J].Aw - L.Yy;this.bk[J].on(v.Pe.REPLACE,(function(O){O=O || ({});O.partition=J;O.type="save";this.Ya("mediacache",O);}).bind(this));this.bk[J].on(v.Pe.CNa,(function(O){O=O || ({});O.partition=J;O.type="save";this.Ya("mediacache",O);}).bind(this));this.bk[J].on(v.Pe.Qf,(function(O){O=O || ({});O.partition=J;O.type=v.Pe.Qf;this.Ya("mediacache-error",O);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(Q){f(K,u.storage.jS,Object.keys(I));return Q;}).bind(this)).then((function(Q){Object.keys(Q.bk).map(function(L){Q.bk[L].xoa().map(function(J){Q.delete(L,J);});});Q.Un=!0;H(null,Q);}).bind(this)).catch((function(Q){r.error("Failed to initialize media cache ",Q);this.VH=B.pCa;H(this.VH,this);}).bind(this)),E.ux(C)):(this.VH=B.qjb,H(this.VH,this));}else (this.VH=B.pCa,H(this.VH,this));}function l(G,C,H,K,M,I){var Q;Q=I?"mediacache-error":"mediacache";C={partition:H,type:C,resource:K,time:u.time.now()};I && (C.error=I);M && (q.Fa(M.duration) && (C.duration=M.duration),q.Fa(M.oz) && (C.bytesRead=M.oz));try{G.Ya(Q,C);}catch(L){r.warn("caught exception while emitting basic event",L);}}function m(G,C,H,K,M){var I;I=M?"mediacache-error":"mediacache";C={partition:H,type:C,resources:K,time:u.time.now()};M && (C.error=M);try{G.Ya(I,C);}catch(Q){r.warn("caught exception while emitting basic event",Q);}}function d(G){return !x.kO(G) && !z.ENb(G);}function f(G,C,H){G.query(C,"",function(K,M){K || Object.keys(M).filter(function(I){return 0 > H.indexOf(I.slice(0,I.indexOf(".")));}).map(function(I){G.remove(C,I,c);});});}function h(G,C,H){var M,I;function K(Q){G.delete(M,function(L){L?H(L):(delete G.De[I],L=Object.keys(Q.resourceIndex),L=u.Promise.all(L.map(function(J){return new u.Promise(function(O,N){G.delete(J,function(P){P?N(P):O(J);});});})).then(function(){H();},function(J){H(J);}),E.ux(L));});}if(x.kO(C))(M=C,I=x.g6(C));else (M=x.yla(C),I=C);(C=G.De[I])?K(C):G.read(M,function(Q,L){Q?H(Q):K(L);});}function k(G,C){var H,K,M;H={};K=G.partitions.reduce(function(I,Q){return I + Q.capacity;},0);M=C / K;G.partitions.map(function(I){var Q;Q=I.key;H[Q]={};H[Q].Aw=Math.floor(M * I.capacity);H[Q].DBb=I.dailyWriteFactor || 1;H[Q].zec=I.owner;H[Q].YEb=I.evictionPolicy;});return H;}function n(G,C,H){if(H)return z.aDb(G,C).reduce(function(K,M){Object.keys(M).map(function(I){K[I]=M[I];});return K;},{});H={};H[G]=C;return H;}function p(G,C,H,K,M,I,Q,L,J,O,N){return function(P,S){P?q.isArray(P)?(S=P.map(function(U){return U.error;}),S.some(function(U){return U.code === B.jK.code;}) && !S.some(function(U){return U.code === B.q2.code;})?N(O,P,function(){J.save(C,H,K,M,I,Q);}):(O.delete(L),delete O.De[H],I({error:P[0].error,Qu:P[0].Qu,type:P[0].type,BRa:P}))):I({error:P,Qu:C,type:"save"}):(P=S.items.filter(function(U){return 0 <= Object.keys(G).indexOf(U.key);}).reduce(function(U,Z){return U + Z.y8;},0),O.De[H].jab(P),P={DGb:S.Pn,Hbc:S.SM,Zk:0,items:S},0 < S.Zk && (P.Zk=S.Zk),0 < S.duration && (P.duration=S.duration),I(null,P));};}q=a(10);u=a(129);r=new u.Console("MEDIACACHE","media|asejs");w=a(884);v=a(885);x=a(407);y=a(130);z=a(892);A=a(893);B=a(253);E=a(254);D=a(408).EventEmitter;F={Eec:[]};g.prototype.QY=function(G,C,H){var K;K=q.kd(H)?H:c;this.Zy(G)?this.bk[G].query(C,function(M,I){M?(r.error("Failed to query resources",M),K([])):K(I.filter(d));}):K([]);};g.prototype.read=function(G,C,H){var K,M,I,Q;K=q.kd(H)?H:c;if(this.Zy(G)){M=this.bk[G];I=M.De[C];if(!x.kO(C) && this.J.iRb){Q=(function(L){M.baa(Object.keys(L),(function(J,O,N){J?K(B.SK.wr("Failed to read " + C,J)):(l(this,"read",G,C,N),K(null,z.XMb(O)));}).bind(this),L);}).bind(this);I?Q(I.resourceIndex):this.wXb(G,C,function(L,J){L?K(B.SK.wr("Failed to read " + C,L)):Q(J.resourceIndex);});}else M.read(C,(function(L,J,O){L?K(B.SK.wr("Failed to read " + C,L)):(I && I.convertToBinaryData && (J=A.Eyb(J)),l(this,"read",G,C,O),K(null,J));}).bind(this));}else K(B.aC);};g.prototype.baa=function(G,C,H){var K,M;K=q.kd(H)?H:c;if(this.Zy(G)){M={};C=u.Promise.all(C.map((function(I){return new u.Promise((function(Q,L){this.read(G,I,function(J,O){J?(O={},O[I]=J,L(O)):(M[I]=O,Q());});}).bind(this));}).bind(this))).then(function(){K(null,M);},function(I){K(I);});E.ux(C);}else K(B.aC);};g.prototype.l$a=function(G,C,H){var K;K=q.kd(H)?H:c;this.Zy(G)?"[object Object]" !== Object.prototype.toString.call(C)?K(B.p2.wr("items must be a map of keys to objects")):(H=new u.Promise((function(M){var I,Q;I=this.bk[G].xoa();Q=Object.keys(C);(I=I.filter(function(L){return -1 === Q.indexOf(L);})) && 0 < I.length?this.WVa(G,I,function(){M();}):M();}).bind(this)).then((function(){return u.Promise.all(Object.keys(C).map((function(M){return new u.Promise((function(I,Q){this.save(G,M,C[M].dr,C[M].Ic,function(L,J){L?(r.error("Received an error saving",M,L),Q(L)):I(J);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(M){var I,Q,L;try{I=Number.MAX_VALUE;Q=Number.MAX_VALUE;L=M.reduce(function(J,O){O.Pn && O.Pn < I && (I=O.Pn);O.SM && O.SM < Q && (Q=O.SM);I < Number.MAX_VALUE && (J.freeSize=I);Q < Number.MAX_VALUE && (J.dailyBytesRemaining=Q);q.Fa(O.Zk) && (J.bytesWritten+=O.Zk);q.Fa(O.duration) && (J.duration+=O.duration);return J;},{partition:G,type:"saveMultiple",keys:Object.keys(C),time:u.time.now(),bytesWritten:0,duration:0});this.Ya("mediacache",L);K(null,L);}catch(J){K(err);}}).bind(this),(function(M){q.isArray(M.BRa)?M.BRa.forEach((function(I){this.Ya("mediacache-error",{partition:G,type:"saveMultiple",error:I.error,resources:I.resources});}).bind(this)):this.Ya("mediacache-error",{partition:G,type:"saveMultiple",error:M});K(M);}).bind(this)),E.ux(H)):(q.kd(H)?H:c)(B.aC);};g.prototype.save=function(G,C,H,K,M,I){var Q,L,J,O,N,P,S,U,Z;Q=q.kd(M)?M:c;if(this.Zy(G)){L=this.bk[G];J=x.yla(C);M=L.xoa();M=M.filter(function(ja){return ja !== C;});if(q.ka(K) || q.Fb(K) || !q.Fa(K.lifespan))Q(B.Pjb);else {O=n(C,H,this.J.iRb);N=L.De[C] || ({});P=N.resourceIndex;P && Object.keys(P).map(function(ja){q.ka(O[ja]) && L.delete(ja);});K.convertToBinaryData && (H=A.Fyb(O),O=n(C,H,!1));P=u.time.now();S={};S.partition=G;S.resourceIndex=Object.keys(O).reduce(function(ja,ya){ja[ya]=y.zpa(O[ya]);return ja;},{});S.creationTime=N.creationTime || P;S.lastRefresh=P;S.lifespan=K.lifespan;S.lastMetadataUpdate=P;S.size=N.size;S.convertToBinaryData=K.convertToBinaryData;U=(function(ja,ya,ra){ja.uCb((function(Y,pa){Y && r.error("Evicting","Failed to delete some orphaned records",Y);pa.Uva?ra():(Y=ja.iIb())?this.delete(ja.iw,Y,(function(T){T?(I || (q.isArray(ya)?ya.forEach((function(R){m(this,"save",ja.eJb,R.resources,R.error);}).bind(this)):l(this,"save",ja.iw,C,void 0,ya)),Q(ya)):ra();}).bind(this)):Q(B.jK);}).bind(this));}).bind(this);Z=(function(){var ja,ya,ra;ja=this.bk;ya=0;ra=u.time.now();if(!q.ka(ja))for(var Y in ja){ya+=ja[Y].xHb(ra);}return ya;}).bind(this);this.WVa(G,M,(function(){L.replace(J,S,(function(ja,ya){ya?(L.De[C]=x.Una(S),L.HYb(O,p(O,G,C,H,K,Q,I,J,this,L,U),I,Z)):ja.code === B.jK.code?U(L,ja,(function(){this.save(G,C,H,K,Q,I);}).bind(this)):Q(ja);}).bind(this),I,Z);}).bind(this));}}else Q(B.aC);};g.prototype.delete=function(G,C,H){var K;K=q.kd(H)?H:c;this.Zy(G)?h(this.bk[G],C,(function(M){l(this,"delete",G,C,void 0,M);K(M);}).bind(this)):K(B.aC);};g.prototype.WVa=function(G,C,H){var K,M;K=q.kd(H)?H:c;if(this.Zy(G)){M=this.bk[G];H=u.Promise.all(C.map((function(I){return new u.Promise((function(Q){h(M,I,(function(L){Q({aa:q.ka(L),error:L,dr:I});}).bind(this));}).bind(this));}).bind(this))).then((function(I){var N,P;for(var Q=[],L=[],J=[],O=0;O < I.length;O++){N=I[O];N.aa?Q.push(N.dr):N.error && L.push(N);}0 < Q.length && m(this,"delete",G,Q);if(0 < L.length){J=L.map(function(S){return S.dr;});I=E.k0a(L);P=I[0];I.forEach((function(S){r.error("Failed to delete resources ",S.error,S.resources);m(this,"delete",G,S.resources,S.error);}).bind(this));}I={};I.Vec=Q;0 < J.length && (I.Wec=J);P?K(P,I):K(void 0,I);}).bind(this),(function(I){m(this,"delete",G,C,I);K(I);}).bind(this));E.ux(H);}else K(B.aC);};g.prototype.clear=function(G,C){var H;H=q.kd(C)?C:c;this.Zy(G)?this.bk[G].clear(function(K){H(K.filter(d));}):H(B.aC);};g.prototype.wXb=function(G,C,H){var K,M;K=q.kd(H)?H:c;if(this.Zy(G)){M=this.bk[G];M.read(x.yla(C),function(I,Q){var L;if(I)K(B.Qjb);else {L=x.Una(Q) || ({});M.x_a(Object.keys(L.xwa),function(J){L.size=J;(J=M.De[C]) && (L.lastMetadataUpdate && J.lastMetadataUpdate && J.lastMetadataUpdate <= L.lastMetadataUpdate?M.De[C]=L:J.lastMetadataUpdate && (J.lastMetadataUpdate > L.lastMetadataUpdate || q.ka(L.lastMetadataUpdate)) && (L=J));K(null,L);});}});}else K(B.aC);};g.prototype.constructor=g;t.exports=g;},function(t,b,a){var m,d;function c(f,h,k,n,p,q){return new l(f,h,k,n,p,q);}function g(f){return f && 0 <= f.indexOf(".__metadata__");}function l(f,h,k,n,p,q){this.partition=f;this.lifespan=k;this.resourceIndex=h;this.size=n;this.creationTime=p;this.lastRefresh=q;return this.tcb();}m=a(10);d=a(129);a(130);new d.Console("MEDIACACHE","media|asejs");l.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.tcb();};l.prototype.jab=function(f){this.size=f;};l.prototype.uUa=function(){var f;f=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - f) / 1E3;};l.prototype.tcb=function(){this.lastMetadataUpdate=d.time.now();return this;};l.prototype.constructor=l;t.exports={create:c,Una:function(f){var h;h=f;"string" === typeof f && (h=JSON.parse(f));if(h && h.partition && !m.ka(h.lifespan) && h.resourceIndex && h.creationTime && h.lastRefresh)return (f=c(h.partition,h.resourceIndex,h.lifespan,-1,h.creationTime,h.lastRefresh),h.lastMetadataUpdate && (f.lastMetadataUpdate=h.lastMetadataUpdate),!m.ka(h.size) && 0 <= h.size && f.jab(h.size),f.uUa(),f.convertToBinaryData=h.convertToBinaryData,f);},yla:function(f){return f + ".__metadata__";},g6:function(f){return g(f)?f.slice(0,f.length - 13):f;},kO:g};},function(t,b,a){t.exports={EventEmitter:a(888),ii:a(889)};},function(t){t.exports="4.1.1895";},function(t,b,a){var p,q,u;function c(r){return r.Zs - r.ds;}function g(r,w){return Math.exp(-(Math.log(2) / r) * w);}function l(r,w){r=Math.log(2) * w / r;return (1 - Math.exp(-r)) / r;}function m(r,w){var v,x,y,z,A;v=w.eva;x=w.dva;y=w.IY;if(0 === w.dh.length)return {V3:!1};z=w.dh[0];w=z.Ye;A=z.MD;z=z.duration;if(!A || 1 === y)return {V3:!1};q.assert(z,"duration should be defined when immediate probability is included in probabilities array");q.assert(0 < y,"presenting segment seamless probability cannot be zero");x-=z;if(v < x)return {V3:!1};x=v - x;v=y + x / z * (1 - y);z-=x;A=A * (1 - v) / (1 - y);r=w * v / y * g(r,z) + A * l(r,z);q.assert(1 >= r);return {V3:!0,Gtb:r};}function d(r){var w,v,x,y,z;w=r.hs;v=r.qbb;x=r.pB;y=r.Zs;z=r.ds;r=r.hYa;q.assert(void 0 !== v);q.assert(void 0 !== w);x=1 - x;y-=z;r?(z=v - r - y,w-=r,0 >= z?r=Math.max(0,(v - r) / w):(v=w - z,r=0 < v?y / v:0,x*=0 < v?v / w:1)):(z=v - y,0 >= z?r=v / w:(v=w - z,r=0 < v?y / v:0,x*=0 < v?v / w:1));q.assert(0 <= r);q.assert(1 >= r);q.assert(0 <= x);q.assert(1 >= x);return 1 - r * x;}function f(r,w){r=Math.log(2) / r.T8a;return h(w) * Math.exp(-r * c(w));}function h(r){var w;return (null !== (w=r.JH) && void 0 !== w?w:1) * r.dh.reduce(function(v,x){var y;y=x.MD;return v * (x.Ye + (void 0 === y?0:y));},1);}function k(r){var w,v,x,y;if(0 === r.dh.length)return 0;v=0;if(1 > r.IY){v=r.eva;x=r.dva;y=null !== (w=r.dh[0].duration) && void 0 !== w?w:0;v=Math.max(0,Math.min(y,v - (x - y)));}return r.dh.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - v;}function n(r){return r.dh.filter(function(w){return !w.MD;}).reduce(function(w,v){return w * v.Ye;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.tka=b.uTa=b.pwb=b.tTa=b.twb=void 0;p=a(16);q=a(4);u=a(20);b.twb=c;b.tTa=function(r,w,v){var x,y,z,A,B,E,D,F;if(!r.P5 || p.hp(w.Ff))return f(r,w);y=r.T8a;r=c(w);z=k(w);A=n(w);B=m(y,w);E=B.V3;B=B.Gtb;B=void 0 === B?1:B;D=1 > w.pB?d(w):1;F=(null !== (x=w.JH) && void 0 !== x?x:1) * A * g(y,r - z) * B * D * w.dh.filter(function(G,C){return G.MD && (0 < C || !E);}).reduce(function(G,C){var H,K;H=C.MD;K=C.duration;K=void 0 === K?0:K;H=void 0 === H?0:H;C=C.Ye * g(y,K) + H * l(y,K);return G * C;},1);u.ia && (null === v || void 0 === v?void 0:v.log("{" + w.groupId + "} [" + w.mediaType + "] calculateStreamablePriority: sp: " + (w.pB + ", pssp: ") + (w.IY + ", streamingDuration: ") + (w.qbb + ", duration: ") + (w.hs + ", seamlessProbability: ") + (A + ", distance: ") + (r + ", immediateDistance: " + z + ", risk:") + (g(y,r - z) + ", adjustedFirstTerm: ") + (B + ", streamingAdjustment: " + D + ", probabilities: ") + (JSON.stringify(w.dh) + " => " + F)));return F;};b.pwb=f;b.uTa=h;b.tka=n;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.TQ=void 0;c=a(2);g=a(18);l=a(9);m=a(4);d=c.__importDefault(a(6));f=a(67);h=a(25);t=a(151);k=a(904);n=a(413);p=a(906);q=t.sE.$la;a=(function(u){function r(w,v,x){var y;y=u.call(this) || this;y.X=w;y.Cd=v;y.kw=x;y.yV=[];y.Wg=void 0;y.Vga=new g.ii();y.Or=void 0;y.DC=void 0;y.I=new d.default.Console("ASEJS","media|asejs");y.Vga.on(y.X,"underflow",function(){return y.Dk();});y.VS=new p.gKa(w);y.Vga.on(y.X,"skipped",function(){return y.fY();});y.lw=new f.FS(y.VS,y.I,"player");y.Gza=new l.d2();return y;}c.__extends(r,u);Object.defineProperties(r.prototype,{Ix:{get:function(){var w;return null === (w=this.Wg) || void 0 === w?void 0:w.Ix;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Js:{get:function(){return this.lw;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Ib:{get:function(){var w,v;return null !== (v=null === (w=this.Wg) || void 0 === w?void 0:w.Zz()) && void 0 !== v?v:[];},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{qa:{get:function(){var w;return null === (w=this.Wg) || void 0 === w?void 0:w.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{za:{get:function(){return this.VS;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{zB:{get:function(){var w;return !(null === (w=this.Wg) || void 0 === w || !w.zB);},enumerable:!1,configurable:!0}});r.prototype.GZ=function(w){-1 === this.yV.indexOf(w) && this.yV.push(w);this.Wg && this.Wg.dY(w);this.events.emit("drmReady",{viewableId:w});};r.prototype.kxa=function(w){w=this.yV.indexOf(w);-1 !== w && this.yV.splice(w,1);};r.prototype.ip=function(w){var v;return -1 !== this.yV.indexOf(w) || !(null === (v=h.he(this.Ib,function(x){return x.VN && x.P.S === w;})) || void 0 === v || !v.P.Wi);};r.prototype.GE=function(w){var v;null === (v=this.Wg) || void 0 === v?void 0:v.GE(w);};r.prototype.reset=function(){var w;this.Gza=new l.d2();u.prototype.reset.call(this);this.DC=void 0;null === (w=this.Wg) || void 0 === w?void 0:w.reset();};r.prototype.oZ=function(w){var v;u.prototype.oZ.call(this,w);null === (v=this.Wg) || void 0 === v?void 0:v.oZ(w);};r.prototype.QG=function(){var w;null === (w=this.Wg) || void 0 === w?void 0:w.QG();};r.prototype.pause=function(w){this.zJ(w);u.prototype.pause.call(this,null !== w && void 0 !== w?w:this.Cd);};r.prototype.resume=function(w){var v;null === (v=this.Wg) || void 0 === v?void 0:v.resume(w);u.prototype.resume.call(this,null !== w && void 0 !== w?w:this.Cd);};r.prototype.Jb=function(){this.Or=this.C7()?this.Tn():void 0;this.Wg && this.lma(this.Wg.qa);this.VS.Jb();this.lw.Jb();this.Vga.clear();u.prototype.Jb.call(this);};r.prototype.DN=function(){var w,v;if(null === (w=this.Wg) || void 0 === w?0:w.JWb){w=this.X.zc;if(this.za.xk){if(this.DC){if(this.DC.greaterThan(w))return (w=this.DC.Ka(w),this.Gza.push(w.U),this.DC);if(this.Ib.length){v=this.Wg.XOb;if(v && v.lessThan(w))return (this.events.emit("logdata",{type:"logdata",target:"endplay",jc:{clockdrift:{type:"count"}}}),this.DC);}}this.DC=w;}return w;}return u.prototype.DN.call(this);};r.prototype.ap=function(){var w;w=this.X.playbackRate;void 0 === w && (w=u.prototype.ap.call(this));return w;};r.prototype.C7=function(){return ! !this.Or || 0 < this.Ib.length;};r.prototype.Tn=function(){if(this.Or)return this.Or;m.assert(0 < this.Ib.length,"Could not find presenting branch. Player has no branches.");return this.Bi;};r.prototype.lma=function(w){var v;m.assert(w === this.qa);null === (v=this.Wg) || void 0 === v?void 0:v.Jb();this.Wg=void 0;};r.prototype.k4=function(w,v){this.Or=void 0;if(v=u.prototype.k4.call(this,w,v))(this.Wg=new k.BAa(w,this,this.I,w.config,this.kw,this.events,this.Cd,this.lw,this.wC,this.vC),this.zJ(this.ZO));return v;};r.prototype.Rma=function(){var x;for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}x=this.Wg;m.assert(x);w.forEach(function(y){return x.LEb(y);});};r.prototype.Ui=function(w){var v,x,y;if(!this.Wg)return !1;v=this.F6(w);if(!v)return !1;x=v.H;y=l.R.Oa(this.kw.hE);return x.$i.Ka(y).lessThan(w) || !v.YG(w)?!1:this.Wg.Ui(w);};r.prototype.Dk=function(){var w,v,x;v=this.Xg;m.assert(this.qa);x=this.qp(v);m.assert(x);null === (w=this.Wg) || void 0 === w?void 0:w.Dk();w=this.F6(v);null === w || void 0 === w?void 0:w.P.Dk();this.qa.Dk(x);};r.prototype.fY=function(){this.DC=void 0;};r.prototype.eoa=function(){var w;return null === (w=this.Wg) || void 0 === w?void 0:w.eoa();};r.prototype.zJ=function(w){var v;null === (v=this.Wg) || void 0 === v?void 0:v.zJ(w);};r.prototype.Hya=function(w){m.assert(this.qa && this.Wg);return u.prototype.Hya.call(this,w);};c.__decorate([q.return.Evb(),q.return.oo],r.prototype,"Tn",null);return r;})(n.mfa);b.TQ=a;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.uaa=void 0;c=a(2);g=a(4);l=a(181);b.uaa=function(m,d,f,h,k,n){var p,q;void 0 === k && (k=l.Jv.tV);p=m();if(h && p){q=h.jja;m=h.oo;h=h.rules.map(function(u){return ["function" === typeof u.Wl?u.Wl(f):f[u.Wl],u.config];});q || g.assert(d,"Param is null");n && h.push([{map:n,bD:function(){return !0;}},void 0]);n=h.filter(function(u){u=c.__read(u,2);return u[0].bD(d,p,u[1]);});m && g.assert(n.length,"No rules matched for " + d);if(n.length)return n.reduce(function(u,r){r=c.__read(r,2);return r[0].map(u,k,p,r[1]);},d);}return d;};},function(t,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mfa=void 0;c=a(2);g=a(18);l=a(9);m=a(4);d=a(16);f=a(151).sE.$la;t=(function(){function h(){this.ZO=[];this.wC=new l.Gr(!1);this.vC=new l.Gr(l.R.Oa(-Infinity));this.events=new g.EventEmitter();}Object.defineProperties(h.prototype,{Ix:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{playbackRate:{get:function(){return this.ap();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{OA:{get:function(){return this.wC;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{eX:{get:function(){return this.vC;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zB:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Yf:{get:function(){return this.UN;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Xg:{get:function(){return this.DN();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Yi:{get:function(){var k,n;k=this.Xg;n=this.qp(k);m.assert(n,"Could not find current branch for " + k.U);return n;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{NMb:{get:function(){return this.Ib[0];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bI:{get:function(){return this.UN?this.Ib[this.Ib.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bi:{get:function(){var k,n;k=this.Xg;n=this.F6(k);m.assert(n,"Could not find presenting branch for " + k.U);return n;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{UN:{get:function(){return 0 < this.Ib.length;},enumerable:!1,configurable:!0}});h.prototype.r0a=function(k){return -1 !== this.Ib.indexOf(k);};h.prototype.k4=function(){return void 0 !== this.qa?!1:!0;};h.prototype.Jb=function(){};h.prototype.KH=function(k){var n,p,q;n=this.Ib.filter(function(u){return u.H.id === k.ha;});if(0 !== n.length){p=this.DN();q=new l.R(Infinity,1);n.forEach(function(u){u=u.Is.add(k.offset);p.gWa(u).lessThan(p.gWa(q)) && (q=u);});return q;}};h.prototype.qp=function(k){var n,p,q;n=this.F6(k);if(n){p=n.H;q=p.id;k=k.Ka(p.Mf.add(n.Ge));return {ha:q,offset:k};}};h.prototype.reset=function(){};h.prototype.oZ=function(){};h.prototype.pause=function(k){void 0 === k && (k=d.Df);this.ZO=null === k || void 0 === k?void 0:k.reduce(function(n,p){-1 === n.indexOf(p) && n.push(p);return n;},this.ZO);};h.prototype.resume=function(k){var n;n=this;void 0 === k && (k=d.Df);k.forEach(function(p){p=n.ZO.indexOf(p);-1 !== p && n.ZO.splice(p,1);});};h.prototype.Hya=function(k){var n;m.assert(this.qa);m.assert(k !== this);this.zJ();n=k.k4(this.qa,this);n && (k.pause(this.ZO),k.Rma.apply(k,c.__spread(this.Ib)),this.lma(this.qa));return n;};h.prototype.DN=function(){return this.SZa();};h.prototype.SZa=function(){var k,n;m.assert(this.UN,"Attempted to get initial time before any branches were queued");n=c.__read(this.Ib,1)[0];m.assert(n);return null !== (k=n.Og) && void 0 !== k?k:n.ws;};h.prototype.ap=function(){return 1;};h.prototype.F6=function(k){var n;if(this.UN){n=this.SZa();return k.lessThan(n)?this.Ib[0]:l.bYa(this.Ib,k);}};h.prototype.KHb=function(){var k,n,u,r,w,v,x,y;n={};try{for(var p=c.__values(this.Ib),q=p.next();!q.done;q=p.next()){u=q.value;r=void 0;w=void 0;v=u.uD();for(r in v){x=r;y=v[x];y && (n[x]=(null !== (w=n[x]) && void 0 !== w?w:0) + y);}if(!u.Il)break;}}catch(A){var z;z={error:A};}finally{try{q && !q.done && (k=p.return) && k.call(p);}finally{if(z)throw z.error;}}return n;};c.__decorate([f.return.hA()],h.prototype,"Yi",null);c.__decorate([c.__param(0,f.hA())],h.prototype,"KH",null);c.__decorate([f.return.hA()],h.prototype,"qp",null);return h;})();b.mfa=t;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,O,N,P,S,U,Z,ja,ya;Object.defineProperties(b,{__esModule:{value:!0}});b.o0=void 0;c=a(2);g=a(18);l=a(219);m=a(16);d=a(907);f=a(9);h=a(908);k=a(912);n=c.__importDefault(a(6));p=a(4);q=a(913);u=a(25);r=a(67);w=a(99);v=a(56);x=a(417);y=a(257);z=a(182);A=a(914);B=a(86);E=c.__importDefault(a(145));D=a(915);F=a(916);G=a(418);C=a(917);H=a(918);K=a(919);M=a(920);I=a(923);Q=a(925);L=a(926);J=a(927);O=a(928);N=a(929);P=a(931);S=a(932);U=a(933);Z=a(934);ja=a(935);ya=a(151).sE.$la;t=(function(){function ra(Y,pa,T,R,ea,sa,la,Ka,Ua,$a){var Za;Za=this;this.Py=Y;this.RQa=pa;this.config=T;this.id=R;this.fia=sa;this.Iob=la;this.$k=Ka;this.vxb=Ua;this.FG="2.0";this.zn=void 0;this.Sc=l.Pj.CLOSED;this.bha=!0;this.oM=!1;this.Aza=this.sU=void 0;this.USa=new g.ii();this.oD=0;this.cba=!1;this.mE=function(cb){var Va,Qa;cb=Za.navigator.mf(cb.position.ha);if((cb=Za.Qoa(cb)) && Za.X.Yf){Qa=Za.X.Bi;null === (Va=Za.X.Ix) || void 0 === Va?void 0:Va.LE({H:Qa.H,get xba() {return Qa.Sd.Ka(Qa.H.Mf);}},cb,Za.Yi.offset,!0,!1);}Za.iq.start();};this.dY=function(){Za.$k("onDrmReady");};this.console=new n.default.Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.Gh=new B.Sv({NA:10,Sq:this,source:"AsePlaygraph"});this.eab(Y);this.Ib=new I.oKa();this.Zi=new Z.qKa(this.console);this.events=new g.EventEmitter();this.Hpa=new C.nEa(this.config,f.R.Oa(this.config.g9),{parent:this.T_a.bind(this)},this.events,this.console);this.dba=new k.qMa(this.console,this.events);this.EU={RH:T.Ju || Infinity};this.X=new q.Zea(this);this.Js=new r.FS(this.X.za,this.console,"playgraph");this.mt=new r.FS(new y.c2({xk:!0,currentTime:function(){return f.R.Oa(n.default.time.ga());},speed:1}),this.console,"wallclock");this.Vf=new Q.cBa(this.console,T,ea,this.events,this,this.mt);this.v4=new O.WAa(this.Js,this.mt,this.config,this.Ei.bind(this),this.Ff,this.console);this.f$=this.Vf.f$.bind(this.Vf);this.gY=this.Vf.gY.bind(this.Vf);this.o$=this.Vf.o$.bind(this.Vf);this.Gaa=this.Gaa.bind(this);this.vP=new v.Cfa(T);S.UUa({Vf:this.Vf,mt:this.mt},r.Tk.aK(f.R.Oa(this.config.$A)),function(){Za.X.Yf && Za.X.Bi && (Za.Vf.state.value === m.Kc.Rf || Za.Vf.state.value === m.Kc.xd) && Za.Qr(Za.X.Bi);},"buffering");this.vP.rh(new z.Rv(this.Vf.Gh));this.vP.rh(new A.GJa(this.zJb.bind(this)));this.vP.rh(new z.Rv(this.Gh));this.vP.rh(new D.nKa(this.Ib));this.pbb=new U.pMa(this,this.console,$a);this.F3a=new F.AGa(this.mt,this.console,this.events);this.iq=new ja.tKa(this.faa.bind(this));this.Qaa(w.hD(this.config),w.gD());}Object.defineProperties(ra.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{NH:{get:function(){return !(this.X instanceof q.Zea);},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{ma:{get:function(){return this.Py;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{weight:{get:function(){return this.RQa;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{HP:{get:function(){p.assert(this.HD,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.zn.position;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{t$a:{get:function(){p.assert(this.HD,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.iA(this.HP).In;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Ff:{get:function(){return this.Vf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{We:{get:function(){return this.Vf.We;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{HD:{get:function(){return void 0 !== this.zn;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Yi:{get:function(){return this.X.Yf?this.X.Yi:this.HP;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Xg:{get:function(){return this.X.Yf?this.X.Xg:this.t$a;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Fja:{get:function(){return this.Bnb;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{KB:{get:function(){return this.zsb;},enumerable:!1,configurable:!0}});ra.prototype.open=function(){this.bha=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Sc !== l.Pj.CLOSED)return !1;this.Sc=l.Pj.OPEN;return !0;};ra.prototype.Jb=function(){this.mt.Jb();this.Js.Jb();this.Sc !== l.Pj.CLOSED && (this.sf(),this.iq.Jb(),this.Vf.stop(),this.Sc=l.Pj.CLOSED);};ra.prototype.FE=function(Y,pa){var T,R,ea;T=this;this.sU=Y;this.Aza=pa;pa=L.wXa(this.Ib,this.Gaa.bind(this));Y=pa.Uwb;pa=pa.Gvb;if(0 === Y.length)return !0;if(1 !== Y.length || 0 !== Y[0])return !1;R=this.Yi;Y.forEach(function(sa){return T.X.oZ(sa);});ea=this.iA(R).In;pa.forEach(function(sa){var la;la=sa.ib;la.FE(sa.fg,R.ha === la.H.id?ea:void 0,void 0 !== T.Ib.Xoa(la));});this.Vf.gUb(R,pa[0].fg);return !0;};ra.prototype.gD=function(Y){return w.gD(this.config,Y);};ra.prototype.hD=function(Y){return w.hD(this.config,Y);};ra.prototype.JN=function(Y,pa){var T,R;T=this.navigator.mf(Y);R=this.navigator.mf(pa);return {Sdb:T.pLb(pa),uM:pa !== Y && this.Ib.has(pa) && this.Ib.Zz(pa)[0].Ah,gd:R.Mf.U,MO:this.Qoa(T)};};ra.prototype.Ei=function(Y,pa,T,R){var ea,sa,la,Ka;ea=this;void 0 === R && (R=!0);if(!pa)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(R && this.Zi.get(Y))T || this.Zi.set(Y,pa);else {la=this.H6(Y)[0];Ka=this.navigator.mf(Y);this.Yi.ha === Y && la && (null === (sa=this.X.Ix) || void 0 === sa?void 0:sa.LE({H:la.H,get xba() {return la.Sd.Ka(la.H.Mf);}},pa,this.Yi.offset,R,T));R || (Y={offset:f.R.eb,ha:pa},this.zn={position:Y,Ah:!0,Vcb:Y});T?this.Zi.D_b(Ka.id,pa):this.Zi.set(Ka.id,pa);this.iq.start();R && Ka.zx && 0 < Ka.zx.length && (p.assert(la),la.Qya(Ka.zx) && this.H6(pa).forEach(function(Ua){return ea.Nx(la,Ua);}));R || this.Vf.B6a(this.HP);}};ra.prototype.Nx=function(Y,pa){var T;T=this;Y=Y.ye.Ka(pa.H.Mf);pa.Nx(Y);this.Ib.HHb(pa).forEach(function(R){return T.Nx(pa,R);});};ra.prototype.Gi=function(Y){this.navigator.Gi(Y);this.iq.start();};ra.prototype.Qaa=function(Y,pa){this.Bnb=Y;this.zsb=pa;this.state === l.Pj.mj && this.$k("setStreamFilters");};ra.prototype.Y_b=function(Y){this.fia=Y;};ra.prototype.qB=function(Y,pa){var T,R,ea,sa,la,Ka;T=this;la=G.Tdb(this.ma,Y);if(la.aX){Ka=this.waa(Y);if(void 0 === Ka)this.eh("Invalid seekPosition after sanitization to " + Y.ha + ("(" + Y.offset.U + "ms), reason: ") + la.reason,null === (R=this.ma.V[Y.ha]) || void 0 === R?void 0:R.S);else if(void 0 === this.sU || void 0 === this.Aza)this.eh("No track selectors available");else if(this.NH && this.X.UN || !G.j0a(null === (ea=this.zn) || void 0 === ea?void 0:ea.Vcb,Ka)){this.HD && (R=this.navigator.mf(this.Yi.ha),null === (sa=this.X.Ix) || void 0 === sa?void 0:sa.LE({H:R,xba:R.duration},Ka.ha,this.Yi.offset,!1),this.Yi.ha === Y.ha?this.Zi.Axb(Y.ha):this.Zi.Qka());Y=this.Ib.map(function(Ua){return T.fia(Ua.H.S).M8;});try{this.sf(!0);this.zxb();this.zn={position:Ka,Vcb:Ka,Ah:!1,NVb:pa};this.Vf.B6a();this.Sc=l.Pj.mj;this.iq.start();}finally{Y.forEach(function(Ua){return Ua.release();});}}}else this.eh("Invalid seekPosition to " + (null === Y || void 0 === Y?void 0:Y.ha) + ("(" + Y.offset.U + "ms), reason: ") + la.reason,null === (Ka=this.ma.V[Y.ha]) || void 0 === Ka?void 0:Ka.S);};ra.prototype.sf=function(Y){var pa,T,R;R=this.IKb();this.Ib.reset();if(!Y && (this.Zi.Qka(),R.length))try{for(var ea=c.__values(R),sa=ea.next();!sa.done;sa=ea.next()){sa.value.nYb();}}catch(Ka){var la;la={error:Ka};}finally{try{sa && !sa.done && (pa=ea.return) && pa.call(ea);}finally{if(la)throw la.error;}}this.Js.reset();this.mt.reset();this.X.reset();this.zn=void 0;this.v4.reset();null === (T=this.USa) || void 0 === T?void 0:T.clear();this.Sc === l.Pj.mj && (this.Sc=l.Pj.OPEN);};ra.prototype.H6=function(Y){return this.Ib.Zz(Y);};ra.prototype.Dk=function(Y){this.Vf.Dk(Y);p.assert(this.X.bI,"Must have an appended branch on underflow");this.v4.Fya(this.X.bI,this.Xg);this.$k("onUnderflow");this.events.emit("underflow");};ra.prototype.rh=function(Y){this.vP.rh(Y);};ra.prototype.lU=function(Y){this.rh(new x.oLa(Y));return this.Cub(Y);};ra.prototype.Cub=function(Y){if(!this.X.Hya(Y))return (this.eh("player in use"),!1);this.X=Y;this.Js.jSa(this.X.za);this.X.events.on("segmentPresenting",this.mE);this.X.events.on("drmReady",this.dY);return !0;};ra.prototype.iA=function(Y){var pa,T;pa=Y.offset;T=this.navigator.mf(Y.ha);Y=T.S;pa=T.Mf.add(pa);return {S:Y,In:pa};};ra.prototype.qp=function(Y,pa){var T;T=this.X.qp(Y);if(void 0 !== T)return T;T=this.X.bI;return G.qp(Y,{qa:this,OMb:T && ({id:T.H.id,$Zb:T.Is})},pa);};ra.prototype.KH=function(Y){return this.X.KH(Y);};ra.prototype.waa=function(Y){var pa;pa=this.ma.V[Y.ha];if(void 0 !== pa)return null === pa.Ca || void 0 === pa.Ca?{ha:Y.ha,offset:f.R.max(f.R.eb,Y.offset)}:{ha:Y.ha,offset:f.R.max(f.R.eb,f.R.min(Y.offset,f.R.Oa(pa.Ca - pa.Aa)))};};ra.prototype.Dm=function(Y,pa){Y="string" === typeof Y?{S:this.ma.V[Y].S,In:f.R.Oa(pa)}:Y;return this.Iob(Y);};ra.prototype.d7=function(){return N.RYa(this.Ib,this.g8.bind(this));};ra.prototype.g8=function(Y){Y=this.Ib.Xoa(Y);return void 0 === Y || Y.Il && this.g8(Y);};ra.prototype.c7=function(){return this.EU.RH;};ra.prototype.eIb=function(Y){return P.X_a(this.Ib,Y);};ra.prototype.Qh=function(Y){var pa,T,R;pa=this;this.Ib.WV(function(ea){var sa,la;sa=ea.yW(0);la=ea.yW(1);if(ea.H.sv || !pa.Ib.Lpa(ea) || !ea.Il){if(!T || sa < T)T=sa;if(!R || la < R)R=la;}return ea.Il;});return {u_:T?Math.max(T - Y.U,0):0,v_:R?Math.max(R - Y.U,0):0};};ra.prototype.Ow=function(){var Y,pa,T,R;T=this.HD?this.Qh(this.Xg):{u_:0,v_:0};R=E.default.instance().get();return {totalabuflmsecs:T.u_,totalvbuflmsecs:T.v_,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (pa=Number(0 < R.confidence) && (null === (Y=R.Ua) || void 0 === Y?void 0:Y.Ba)) && void 0 !== pa?pa:0};};ra.prototype.ON=function(){var Y,pa,T,R,ea,sa,la,Ka;Y=this;if(this.Vn())return (this.Gh.rw({isStreamingFailureReported:!0}),[]);T=this.Ib.size;this.Gh.rw({branchCount:T});if(!this.HD || 0 === T)return [];R=this.Xg;ea=this.Yi;sa=[];T=this.navigator.mf(this.Yi.ha);la=T.duration;Ka=this.Zi.get(T.id)?1:null !== (pa=T.pB) && void 0 !== pa?pa:1;pa=this.Ib.reduce(function(Ua,$a,Za){var cb,Va,Da,Na,Xa;try{for(var Qa=c.__values($a.b7()),xa=Qa.next();!xa.done;xa=Qa.next()){Da=xa.value;if(!Da.xs()){Na="p" + Y.id + "-" + Za + "-" + (null === (Va=$a.Og) || void 0 === Va?void 0:Va.U);Xa=Y.S_a(Da);Ua.push(Y.iBb(Da,Xa.U,Na,la.U,Ka,R.U,ea));}!Da.VD() && Y.Gh.enabled && sa.push({segmentId:Da.ha,isDoneStreaming:Da.xs(),isNormalized:Da.Ah(),needsHeaderRequest:Da.track.N9});}}catch(wb){var hb;hb={error:wb};}finally{try{xa && !xa.done && (cb=Qa.return) && cb.call(Qa);}finally{if(hb)throw hb.error;}}return Ua;},[]);this.Gh.rw({nonStreamables:sa});return pa;};ra.prototype.S_a=function(Y){var pa;if(Y.Mia)return Y.Mia;pa=this.T_a(Y);return !pa || this.config.P5 && this.navigator.nLb(pa.ib.H,Y.ha)?Y.SU:this.S_a(pa);};ra.prototype.T_a=function(Y){var pa;return null === (pa=this.Ib.Xoa(Y.ib)) || void 0 === pa?void 0:pa.IN(Y.mediaType);};ra.prototype.iUb=function(Y){var pa,T;if(!this.dba.Vn()){pa=void 0;T=this.X.Yi;T && (pa=this.navigator.mf(T.ha).S);this.eh("BufferingStateTracker: Temporary failure while buffering",pa,"NFErr_MC_StreamingFailure",null === Y || void 0 === Y?void 0:Y.wh,null === Y || void 0 === Y?void 0:Y.LD,null === Y || void 0 === Y?void 0:Y.Aj);}};ra.prototype.eh=function(Y,pa,T,R,ea,sa,la){void 0 === la && (la=!1);"string" === typeof Y?this.dba.eh(Y,T,{networkErrorCode:R,httpCode:ea,nativeCode:sa,viewableId:pa,temporaryFailure:la}):this.dba.MYb(Y);};ra.prototype.A_=function(Y,pa){pa=this.a7(pa);this.events.emit("logdata",{type:"logdata",target:Y,fields:pa});};ra.prototype.a7=function(Y){var pa;this.F3a.fPb(Y);pa=this.vP.Rn(Y);Y === v.de.uq && (Y=this.Ow(),pa.vbuflmsec=Y.totalvbuflmsecs,pa.abuflmsec=Y.totalabuflmsecs,pa.vbuflbytes=Y.vbuflbytes,pa.abuflbytes=Y.abuflbytes);return pa;};ra.prototype.adb=function(Y){this.EU=Y;this.$k("updateBudget");};ra.prototype.Vn=function(){return this.dba.Vn();};ra.prototype.tdb=function(Y){Y !== this.weight && (this.RQa=Y,this.events.emit("weightUpdated"));};ra.prototype.GB=function(Y){var pa,T,R,ea,sa,la,$a,Za,cb,Va,Qa,xa,Da,Na,Xa,hb;R=M.pTa(this.ma,Y);ea=R.sP;sa=R.Twb;la=R.O3b;if([R.ztb,ea,sa].every(function(Eb){return !Eb.length;}))return {aa:!0,reason:m.Tv.llb};if(0 === sa.length && 0 === la.length && this.NH && this.X.Yf)return {aa:!1,reason:m.Tv.wkb};if(this.NH){if(this.X.Ib.some(function(Eb){return -1 < ea.indexOf(Eb.H.id);}))return {aa:!1,reason:m.Tv.imb};this.HD && !this.X.Yf && -1 < ea.indexOf(this.HP.ha) && (this.zn=void 0);}try{for(var Ka=c.__values(sa),Ua=Ka.next();!Ua.done;Ua=Ka.next()){$a=Ua.value;Za=this.ma.V[$a];cb=Za.Aa;Va=Za.Ca;Qa=Za.S;xa=Y.V[$a];Da=xa.Ca;Na=xa.Aa;Xa=xa.S;if(this.Yi.ha === $a && Da !== Va){if(!Da)return {aa:!1,reason:m.Tv.jmb};hb=f.R.Oa(Da - Na);if(null === (T=this.Yi.offset) || void 0 === T?0:T.greaterThan(hb))return {aa:!1,reason:m.Tv.Eeb};}if(cb !== Na)return {aa:!1,reason:m.Tv.Whb};if(Qa !== Xa)return {aa:!1,reason:m.Tv.Xhb};}}catch(Eb){var wb;wb={error:Eb};}finally{try{Ua && !Ua.done && (pa=Ka.return) && pa.call(Ka);}finally{if(wb)throw wb.error;}}this.eab(Y);this.iq.start();return {aa:!0,reason:m.Tv.klb};};ra.prototype.eab=function(Y){this.Py=Y;this.navigator=new K.yKa(Y);this.NKb=M.BUa(this.navigator);};ra.prototype.dua=function(Y,pa){this.p9a(Y);Y.mN.addListener("criticalNetworkError",this.f$);Y.mN.addListener("temporaryNetworkError",this.gY);Y.mN.addListener("updatingLastSuccessEvent",this.o$);this.Sc === l.Pj.mj && pa && this.o$a();};ra.prototype.eua=function(Y){0 === this.Ib.filter(function(pa){return pa.VN && pa.P === Y;}).length && this.p9a(Y);};ra.prototype.p9a=function(Y){Y.mN.removeListener("criticalNetworkError",this.f$);Y.mN.removeListener("temporaryNetworkError",this.gY);Y.mN.removeListener("updatingLastSuccessEvent",this.o$);};ra.prototype.XQa=function(Y){var pa;p.assert(Y.Ah,"expected branch to be normalized on addBranchToPlayer");this.X.UN || (null === (pa=this.zn) || void 0 === pa?0:pa.Ah) || this.gGb(Y);this.Vf.Jba(Y.fg);this.X.Rma(Y);this.v4.Fya(Y,this.Xg);};ra.prototype.gGb=function(Y){p.assert(Y.Yc,"Normalized branch should have a defined content start timestamp");p.assert(this.zn,"AsePlaygraph should have a seek position on first branch normalization");p.assert(!this.zn.Ah,"Seek position should not already be normalized on first branch normalization");this.zn=c.__assign(c.__assign({},this.zn),{position:{ha:Y.H.id,offset:Y.Yc.Ka(Y.H.Mf)},Ah:!0});this.Vf.y_b(this.zn.position,Y.fg.filter(function(pa){return 0 === pa.mediaType;})[0]);};ra.prototype.zxb=function(){var Y;this.v4.reset();this.X.QG();this.zn=void 0;null === (Y=this.USa) || void 0 === Y?void 0:Y.clear();};ra.prototype.iBb=function(Y,pa,T,R,ea,sa,la){var Ka,Ua,$a,Za;Ka=this;Za=null !== ($a=null === (Ua=Y.ib.Og) || void 0 === Ua?void 0:Ua.U) && void 0 !== $a?$a:Y.ib.ws.U;Ua=Y.PE.U;$a=this.Zi.get(Y.ha)?1:Y.ib.H.pB;return {identifier:Y.ha,mediaType:Y.mediaType,dh:Y.dh,Ff:this.Ff.value,YA:pa,Zs:Ua,ds:sa,hYa:Y.sN.U,eva:la.offset.U,dva:R,IY:ea,pB:$a,hs:Y.ib.kH.U,qbb:Math.max(Ua - Za,0),VD:Y.VD(),xs:Y.xs(),groupId:T,G2a:function(cb,Va){cb=Ka.pbb.Bwb(cb,Y.mediaType,1 > Va || !Ka.g8(Y.ib));1 === Va && "global" === m.Nva(cb.reason) && Ka.Vf.DTb(Y.mediaType,Ka.Qh(Ka.Xg));return cb;},K2a:function(){var cb,Va,Qa,xa,Da,Na,Xa,hb,wb,Eb;xa=Y.mediaType;Da=Ka.Hpa.e_b(Ka.Ff.value,Ka.Xg,Y.PE,Ka.X.playbackRate,Y,0 === xa?Ka.Fja:Ka.KB,Ka.oM);Na=Da.stream;Xa=Da.PZ;hb=Da.cO;wb=Da.xZ;Eb=Da.ox;Da=Da.reason;if(!Na)return {Hm:!1,reason:Da || "selectLocationsAndStream"};if(Ka.Ff.value === m.Kc.mj && Y.ib && Y.ib.P.Sw && !Y.ib.P.AX && !Ka.X.ip(Y.ib.P.S)){Da=Y.PE.U - Ka.Xg.U;if(!Y.ib.P.pf.Ie && Da > Ka.config.Asa)return {Hm:!1,reason:"maxBufferingCompleteBufferInMs"};if(!Na.ll && 1 === Na.mediaType && Da >= Ka.config.b9)return {Hm:!1,reason:"maxFastPlayBufferInMs"};}Da=1;if(null === (cb=Y.ib) || void 0 === cb?0:cb.fg.every(function(Fb){return 0 === Fb.mediaType;}))Da=0;Ka.Vf.ug && xa === Da && Ka.Vf.L_b(Y.Kj.LP,Na.bitrate,hb);Ka.PP(Xa);cb=null === (Va=Y.ib.qr) || void 0 === Va?void 0:Va.U;Va=Y.Jcb(Na,Eb,wb);Va.Hm && (Ka.bha && (Ka.km("firstDriveStreaming"),Ka.bha=!1),0 < Ka.oD && (Na=null === (Qa=Y.ib.qr) || void 0 === Qa?void 0:Qa.U,cb && Na && (Ka.oD-=cb - Na,0 >= Ka.oD && Ka.o$a())));return Va;}};};ra.prototype.PP=function(Y){var pa;pa=this;Y.forEach(function(T){T.P.E_b(T,function(){var R,ea;p.assert(pa.HD,"Speculative header callback after streaming is cancelled");R=pa.Xg.U;ea=R + pa.config.JX;return {dh:[],Ff:pa.Vf.state.value,YA:ea,Zs:ea,ds:R};});});};ra.prototype.o$a=function(){var Y;Y=this;this.iq.Wba(ja.tF.cy,function(){return Y.iq.start();});};ra.prototype.faa=function(){var Y,pa,T,R,ea;Y=this;if(this.Sc === l.Pj.mj){pa=this.Yi;T=this.navigator.mf(pa.ha);R=this.Ib.AKb();ea=this.cHb(pa.ha).map(function(sa){return sa.H.id;});T=H.faa(this.console,this.NKb,T,R,this.Zi,ea,f.R.Oa(this.config.Dvb),this.config.gta,f.R.Oa(this.config.Xja));R=T.G9a;this.oD=T.oD || 0;this.Ib.$3b(R,function(sa,la){var Ka;Ka=Y.navigator.mf(sa);sa=sa === pa.ha?Ka.Mf.add(pa.offset):Ka.Mf;return Y.D3b(Ka,sa,la);}).sP.forEach(function(sa){sa.sf();Y.Zi.clear(sa.H.id);Y.X.r0a(sa) || Y.iq.Wba(ja.tF.cy,function(){return Y.Mha(sa.H.id);});});this.d9a();this.GTa();this.iq.Wba(ja.tF.cy,function(){Y.$k("reevaluateBranches");Y.iq.HX(ja.tF.yS);});}};ra.prototype.cHb=function(Y){var pa;pa=!1;return this.X.Ib.filter(function(T){T.H.id === Y && (pa=!0);return pa;});};ra.prototype.IKb=function(){return u.aSa(this.Ib.filter(function(Y){return Y.VN;}).map(function(Y){return Y.P;}));};ra.prototype.d9a=function(){var Y;if(this.Sc === l.Pj.mj){if(!this.X.bI){Y=c.__read(this.Ib.Zz(this.HP.ha),1)[0];(null === Y || void 0 === Y?0:Y.Ah) && this.XQa(Y);}if(this.X.bI)for(;;){Y=this.Qoa(this.X.bI.H);if(!Y)break;Y=c.__read(this.Ib.Zz(Y),1)[0];if(null === Y || void 0 === Y || !Y.Ah)break;else if(this.X.r0a(Y))break;this.XQa(Y);}}};ra.prototype.Qoa=function(Y){var pa;pa=this.Zi.get(Y.id);if(void 0 !== pa)return pa;Y=this.navigator.VHb(Y);if(1 === Y.length)return Y[0].id;};ra.prototype.GTa=function(){var Y;Y=0 !== this.YGb();Y || this.cba?Y && this.cba && (this.cba=!1):(this.Vf.ug && (Y=this.Qh(this.Xg),this.Vf.Te("complete",Y.u_,Y.v_)),this.Aqb(),this.cba=!0);};ra.prototype.YGb=function(){return this.Ib.filter(function(Y){return !Y.Il;}).length;};ra.prototype.Qr=function(Y){this.g8(Y) && this.Vf.Kka(this.Xg,this.X.playbackRate,Y,{Jka:this.Hpa.Jka.bind(this.Hpa,this.pbb)});};ra.prototype.tTb=function(Y,pa){var T,R;T=this;if(pa.didNormalizeSegment){R=J.MLa.HKb(Y);p.assert(R,"Segment should be normalized");Promise.resolve().then(function(){return T.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Y.H.id,normalizedStart:pa.segmentContentStart,normalizedEnd:pa.branchContentEnd,viewableContentEnd:R.y5b,viewableEarliestContentEnd:R.A5b});});}Promise.resolve().then(function(){T.d9a();});this.$k("branchNormalized");};ra.prototype.uTb=function(){this.GTa();};ra.prototype.sTb=function(){this.iq.start();};ra.prototype.D3b=function(Y,pa,T){var R,ea,sa,la,Ka;R=this;if(this.vxb(Y,pa))throw Error("Not implemented");Ka=new d.ZAa(Y.S,this.fia,function(Ua,$a,Za){R.state !== l.Pj.CLOSED && (R.dua($a,Za),R.iq.Wba(ja.tF.yS,function(){R.j3(Ua.H.id,$a,Ua.Ge);}));},this.eua.bind(this));Y=new h.VAa(this.config,this.console,this.events,Y,this.Gaa,pa,null !== (la=null === (sa=null === (ea=this.zn) || void 0 === ea?void 0:ea.NVb) || void 0 === sa?void 0:sa.Ka(this.t$a)) && void 0 !== la?la:f.R.eb,function(){return R.Xg.U;},T,this.Ff,this.Js,Ka);Y.events.on("needsRequest",this.$k.bind(this,"branchNeedsHeader"));Y.events.on("branchNormalized",this.tTb.bind(this,Y));Y.events.on("lastRequestIssued",this.sTb.bind(this,Y));Y.events.on("branchStreamingComplete",this.uTb.bind(this,Y));Y.events.on("checkBufferingProgress",this.Qr.bind(this,Y));void 0 === T && (this.km("createDlTracksStart"),Y.events.once("requestQueuesCreated",function(){R.km("createDlTracksEnd");}));Y.Eb();return Y;};ra.prototype.zJb=function(Y){if(this.X.Yf)return this.X.Bi.kb(Y);};ra.prototype.Gaa=function(Y){return [[0,this.sU,"audio_tracks"],[1,this.Aza,"video_tracks"]].map(function(pa){var T,R;T=c.__read(pa,3);R=T[1];pa=T[2];p.assert(R,"Expected mediaType " + T[0] + " track selector to be defined");T=R.Ss(Y.oa,Y.oa[pa]);if(void 0 !== T)return Y.getTrackById(Y.oa[pa][T].rQ);}).filter(u.Z9);};ra.prototype.j3=function(Y,pa,T){Y={type:"segmentStarting",segmentId:Y,contentOffset:T.U,maxBitrates:{audio:pa.dx[0],video:pa.dx[1]}};this.events.emit(Y.type,Y);};ra.prototype.Mha=function(Y){Y={type:"segmentAborted",segmentId:Y};this.events.emit(Y.type,Y);};ra.prototype.Aqb=function(){var Y;Y={type:"streamerEnd",time:n.default.time.ga()};this.events.emit(Y.type,Y);};ra.prototype.km=function(Y){Y={type:"startEvent",event:Y,time:n.default.time.ga()};this.events.emit(Y.type,Y);};c.__decorate([c.__param(0,ya.hA())],ra.prototype,"qB",null);c.__decorate([ya.return.IUa(),c.__param(0,ya.hA())],ra.prototype,"iA",null);c.__decorate([ya.return.hA()],ra.prototype,"qp",null);c.__decorate([c.__param(0,ya.hA())],ra.prototype,"KH",null);c.__decorate([ya.return.hA(),c.__param(0,ya.hA())],ra.prototype,"waa",null);c.__decorate([c.__param(0,ya.IUa()),c.__param(0,ya.ha())],ra.prototype,"Dm",null);c.__decorate([B.Rb({methodName:"getStreamables",el:!0})],ra.prototype,"ON",null);return ra;})();b.o0=t;},function(t,b,a){var l,m,d;function c(f,h,k,n,p){var q,u;k=null !== (q=h.je) && void 0 !== q?q:h.track.Dm(f,k.U,void 0,p);f=null !== (u=h.Jf) && void 0 !== u?u:h.track.Vz(f,null === n || void 0 === n?void 0:n.U,h.fh);return [!h.Ah(),k,f];}function g(f,h){var B,E;for(var k=[],n=0,p=f[n],q=null === p || void 0 === p?void 0:p[0],u=null === p || void 0 === p?void 0:p[1],r=h.Jf.index,w=h.track.Cp,v=0,x=h.je.Yc,y=h.je.Sd.U > p[0],z=y,A=h.je.index;A <= r;++A){B=!1;if(p){E=w.get(A);y && (E.Yc.U >= u?(y=!1,++n >= f.length?u=q=p=void 0:(p=f[n],q=null === p || void 0 === p?void 0:p[0],u=null === p || void 0 === p?void 0:p[1])):z?z=!1:(k.push(new m.U1(v,x,E.Yc)),x=E.Yc,B=!0));!y && p && E.Sd.U > q && (y=!0,B=E.Yc,(E=h.track.bO.il(A).aYa(q)) && 0 !== E.tl && (B=d.R.Oa(E.Fd)),k.push(new m.U1(v,x,B)),x=B,B=!0);}B && ++v;}k.push(new m.U1(v,x,h.Jf.Sd));return k;}Object.defineProperties(b,{__esModule:{value:!0}});b.yQb=b.m4a=b.T5a=b.R5a=b.iwa=void 0;l=a(2);m=a(416);d=a(9);b.iwa=function(f,h,k){var n,p,q;q=h.get(0);h=h.get(1);h=null === h || void 0 === h?void 0:h.track.Vz(f,null === k || void 0 === k?void 0:k.U,h.fh);return [null === q || void 0 === q?void 0:q.track.Vz(f,null !== (p=null === (n=null === h || void 0 === h?void 0:h.Sd) || void 0 === n?void 0:n.U) && void 0 !== p?p:null === k || void 0 === k?void 0:k.U,q.fh),h];};b.R5a=function(f,h,k,n,p){var q,u,r,w;q=h.get(0);h=h.get(1);u=l.__read(h?c(f,h,k,n,p):[!1],3);r=u[0];w=u[1];u=u[2];n=l.__read(q?c(f,q,r && void 0 !== (null === w || void 0 === w?void 0:w.$)?d.R.Oa(w.$):k,void 0 !== (null === u || void 0 === u?void 0:u.La)?d.R.Oa(null === u || void 0 === u?void 0:u.La):n,p):[!1],3);f=n[0];k=n[1];n=n[2];f && (null === q || void 0 === q?void 0:q.a8(k,n));r && (null === h || void 0 === h?void 0:h.a8(w,u));return [f,r];};b.T5a=function(f,h,k){return h.track.Dm(f,k.U,void 0,!0).Yc;};b.m4a=function(f,h,k){var n;n=h.H;if(!n.Aq || 0 === n.Aq.length)return [];f=n.Aq.map(function(p){return [n.Aa + p[0],n.Aa + p[1]];});return g(f,k.KY);};b.yQb=g;},function(t,b,a){var g,l,m;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.DKa=b.U1=b.f2a=void 0;g=a(2);l=a(9);m=a(4);b.f2a=c;t=(function(){function d(f,h,k){this.region=f;this.Yc=h;this.Sd=k;}d.prototype.toJSON=function(){return {region:this.region,$:this.Yc.NI,La:this.Sd.NI};};return d;})();b.U1=t;t=(function(){function d(f,h,k){var n,p,q;n=this;this.id=f;this.H=h;this.DPa=!1;this.RN=function(u){var r,w,v,x;return (null === (r=n.zx) || void 0 === r?0:r.length)?"immediate":null !== (x=null === (v=null === (w=n.H.next) || void 0 === w?void 0:w[u]) || void 0 === v?void 0:v.ae) && void 0 !== x?x:n.ae;};this.RT=new l.R(h.Aa,1E3);this.eT=void 0 !== h.Ca && null !== h.Ca?new l.R(h.Ca,1E3):l.R.OD;this.nsb=null !== (q=null !== (p=h.ae) && void 0 !== p?p:k) && void 0 !== q?q:"lazy";this.H1a();m.assert(this.RT.lessThan(this.eT),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{S:{get:function(){return this.H.S;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Rq:{get:function(){return this.DPa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mf:{get:function(){return this.RT;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$i:{get:function(){return this.eT;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.eT.Ka(this.RT);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$:{get:function(){return this.RT.U;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{La:{get:function(){return this.eT.U;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{vE:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sv:{get:function(){return this.TA.length?!this.H.Md && 0 === this.OO.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wSb:{get:function(){return this.xC;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{TA:{get:function(){var f,h;return Object.keys(null !== (h=null === (f=this.H) || void 0 === f?void 0:f.next) && void 0 !== h?h:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{OO:{get:function(){var f;f=this;return this.TA.filter(function(h){return ! !f.xC[h];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kya:{get:function(){var f;return null !== (f=this.BQa) && void 0 !== f?f:this.BQa=this.uwb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fba:{get:function(){var f;return null !== (f=this.CQa) && void 0 !== f?f:this.CQa=this.vwb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pB:{get:function(){return this.H.weight?this.H.weight / (this.H.weight + this.fba):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ae:{get:function(){var f;return (null === (f=this.zx) || void 0 === f?0:f.length)?"immediate":this.nsb;},enumerable:!1,configurable:!0}});d.prototype.normalize=function(f,h,k){this.RT=f;this.eT=h;this.zx=k;this.DPa=!0;this.neb();};d.prototype.nZa=function(){var f;return this.OO.length?null !== (f=this.OO.map(this.RN).reduce(function(h,k){return h === k?k:void 0;})) && void 0 !== f?f:this.ae:this.ae;};d.prototype.Gi=function(f){this.H1a(f);};d.prototype.kwb=function(f){var h,k;if(this.kya){h=(this.xC[f] || 0) / this.kya;if(void 0 === this.H.weight || 0 === this.fba)return {Ye:h};k=this.pB;return 1 !== k && c(this.RN(f)) && this.xC[f]?{Ye:k * h,MD:this.xC[f] / this.fba * (1 - k)}:{Ye:k * h};}return {Ye:(null === (h=this.H.next) || void 0 === h?0:h[f])?1 / this.TA.length:0};};d.prototype.pLb=function(f){return -1 < this.TA.indexOf(f);};d.prototype.kub=function(){return this.Rq?g.__assign(g.__assign({},this.H),{Aa:this.Mf.U,Ca:this.$i.U}):this.H;};d.prototype.H1a=function(f){var h;if(void 0 === this.H.next)this.xC={};else {h=this.H.next;this.xC=Object.keys(h).reduce(function(k,n){var p;p=f?f[n] || 0:h[n].weight;void 0 !== p && null !== p && 0 <= p && (k[n]=p);return k;},{});}this.neb();};d.prototype.uwb=function(){var f;f=this;return this.OO.reduce(function(h,k){return h + f.xC[k];},0);};d.prototype.vwb=function(){var f;f=this;return this.OO.filter(function(h){return c(f.RN(h));}).reduce(function(h,k){return h + f.xC[k];},0);};d.prototype.neb=function(){this.CQa=this.BQa=void 0;};return d;})();b.DKa=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SYa=b.y_a=b.hoa=b.oLa=void 0;c=a(2);g=a(20);l=a(56);t=(function(){function m(d){this.Ja=d;}Object.defineProperties(m.prototype,{th:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jx:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return g.ia;},enumerable:!1,configurable:!0}});m.prototype.Rn=function(d){var f,h,p;d=d.bj;if(d === l.de.uq || d === l.de.po)if(d=this.Ja.eoa()){h={};try{for(var k=c.__values(d.HVb),n=k.next();!n.done;n=k.next()){p=n.value;h[p.mediaType]=this.sQb(p);}}catch(u){var q;q={error:u};}finally{try{n && !n.done && (f=k.return) && f.call(k);}finally{if(q)throw q.error;}}return {branchQueue:b.SYa(d.sXb),playerIterator:h,driftStats:this.Ja.Gza};}};m.prototype.sQb=function(d){return null === d || void 0 === d?void 0:d.TZa();};return m;})();b.oLa=t;b.hoa=function(m){var d,f;if(m){d=m.H;f={};m.Eq().forEach(function(h){f[h.mediaType]=b.y_a(h);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:m.Nh,RM:f};}return m;};b.y_a=function(m){var d,f,h;if(m && m.Ta)return c.__assign(c.__assign({},m.Ta.Zoa()),{unsentRequests:m.Ta.ft,lastFragmentContentEndPts:null === (d=m.Jf) || void 0 === d?void 0:d.Mc,trackProfile:null === (h=null === (f=m.track) || void 0 === f?void 0:f.Hu) || void 0 === h?void 0:h.profile});};b.SYa=function(m){return m.map(function(d){return b.hoa(d);});};},function(t,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Pka=b.qp=b.j0a=b.Tdb=void 0;c=a(9);g=a(4);l=a(20);b.Tdb=function(d,f){d=d.V[f.ha];if(void 0 === d)return {aX:!1,reason:"Segment " + f.ha + " was not found"};if(void 0 === d.Ca || null === d.Ca)throw Error("Cannot validate graph position without endTimeMs");d=d.Ca - d.Aa;return 0 > f.offset.U?{aX:!1,reason:"Offset " + f.offset.U + " was negative"}:f.offset.U >= d?{aX:!1,reason:"Offset " + f.offset.U + " was greater than segment duration " + d}:{aX:!0};};m=c.R.Oa(100);b.j0a=function(d,f){if(d === f)return !0;if(d && f && d.ha === f.ha){if(d.offset === f.offset)return !0;d=c.R.abs(d.offset.Ka(f.offset));if(m.greaterThan(d))return !0;}return !1;};b.qp=function(d,f,h){var k,n,p,q;p=f.qa;f=f.OMb;void 0 === h && (h={});q=p.ma;p=p.navigator;q=p.mf(null !== (k=null === f || void 0 === f?void 0:f.id) && void 0 !== k?k:q.Pd);k=null !== (n=null === f || void 0 === f?void 0:f.$Zb) && void 0 !== n?n:q.Mf;if(k.greaterThan(d))return h.Nab?{offset:d.Ka(k),ha:q.id}:void 0;f=p.rOb(q);for(p=f.next();!p.done;){n=p.value;p=n.$i.Ka(n.Mf);q=k;k=q.add(p);if(k.greaterThan(d))return (d=d.Ka(q),l.ia && g.assert(d.ps(c.R.eb) && d.lessThan(p)),{ha:n.id,offset:d});p=f.next();if(p.done && h.Oab)return {ha:n.id,offset:d.Ka(q)};}};b.Pka=function(d,f){f=f.V[d.ha];return d.offset.lessThan(c.R.eb)?{N4:c.R.eb,Wo:d.offset}:f.Ca && (f=c.R.Oa(f.Ca - f.Aa),f.isFinite() && d.offset.greaterThan(f))?{N4:f,Wo:d.offset.Ka(f)}:{N4:d.offset,Wo:c.R.eb};};},function(t,b){var g,l,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.LNa);}function c(d){return (a(d)?d:Object.defineProperties(d,{LNa:{value:{},configurable:!1,enumerable:!1}})).LNa;}Object.defineProperties(b,{__esModule:{value:!0}});b.wfa=void 0;l=null !== (g=Number.MAX_SAFE_INTEGER) && void 0 !== g?g:1E9;m=Date.now() % l;t=(function(){function d(){this.id=m=(m + 1) % l;}d.prototype.get=function(f){return a(f)?c(f)[this.id]:void 0;};d.prototype.set=function(f,h){c(f)[this.id]=h;return this;};d.prototype.has=function(f){return a(f) && void 0 !== c(f)[this.id];};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};return d;})();b.wfa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fS=void 0;t=(function(){function a(){this[0]=0;this[1]=0;}Object.defineProperties(a.prototype,{total:{get:function(){return this[0] + this[1];},enumerable:!1,configurable:!0}});a.prototype.add=function(c){this[0]+=Math.max(c[0] || 0,0);this[1]+=Math.max(c[1] || 0,0);};a.prototype.Tia=function(c,g){this[c]+=Math.max(g || 0,0);};return a;})();b.fS=t;0;1;},function(t,b,a){var g,l,m,d;function c(){return g.__awaiter(this,void 0,void 0,function(){var f;return g.__generator(this,function(h){switch(h.label){case 0:return [4,Promise.resolve().then(function(){return g.__importStar(a(255));})];case 1:return (f=h.xc().EH,[2,f()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.sW=void 0;g=a(2);l=a(945);m=g.__importDefault(a(6));b.sW=function(f){var h;h=new m.default.Console("ASEJS","media|asejs");d || (d=new l.MKa(function(){return c();},f,h));return d;};},function(t,b,a){var g,l,m,d;function c(f,h){return h && !Array.isArray(h) && -1 === h.yXa.indexOf(f)?h.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.wla=void 0;g=a(2);t=a(18);l=a(181);m=a(412);d=(function(f){function h(k,n){var p;p=f.call(this) || this;p.rQb=k;p.K1a=n;p.Xga={};return p;}g.__extends(h,f);h.prototype.emit=function(k){for(var n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return f.prototype.emit.call(this,k,this.rQb(k,n[0]));};h.prototype.subscribe=function(k){var n,p;n=this;if(!this.listeners(k).length){p=function(){for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}return n.emit.apply(n,g.__spread([k],q));};this.Xga[k]=p;this.K1a.addListener(k,p);}};h.prototype.addListener=function(k,n){this.subscribe(k);f.prototype.addListener.call(this,k,n);return this;};h.prototype.removeListener=function(k,n){f.prototype.removeListener.call(this,k,n);this.listeners(k).length || (this.K1a.removeListener(k,this.Xga[k]),delete this.Xga[k]);return this;};h.prototype.on=function(k,n){this.addListener(k,n);return this;};h.prototype.UA=function(k,n){this.removeListener(k,n);return this;};h.prototype.once=function(k,n){var q;function p(){for(var u=[],r=0;r < arguments.length;r++){u[r]=arguments[r];}q.removeListener(k,p);n.apply(void 0,g.__spread(u));}q=this;this.addListener(k,p);return this;};h.prototype.FY=function(k,n){this.subscribe(k);f.prototype.FY.call(this,k,n);return this;};h.prototype.f8a=function(k,n){var q;function p(){for(var u=[],r=0;r < arguments.length;r++){u[r]=arguments[r];}q.removeListener(k,p);n.apply(void 0,g.__spread(u));}q=this;this.FY(k,p);return this;};return h;})(t.EventEmitter);b.wla=function(f,h,k,n){return new d(function(p,q){var u,r;r=c(p,n["*"]);p=null !== (u=n[p]) && void 0 !== u?u:[];u=r.concat(p).filter(function(w){return "object" === typeof w;});r=g.__read(p.filter(function(w){return "function" === typeof w;}),1)[0];return u.length?m.uaa(f,q,k,{rules:u,oo:!1,jja:!0},l.Jv.Yya,r):q;},h);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.TMa="TransitionLoggerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.LCa="DiagnosticsFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ia="PboGenerateScreenshotsCommandSymbol";},function(t){t.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(t,b,a){var c,g,l,m,d,f;b=a(53);c=a(428);g=a(983);l=a(426);m=a(261);d=a(988);f=a(431);a=b(c(["filter"],d,function(h,k){return l(k)?m(function(n,p){h(k[p]) && (n[p]=k[p]);return n;},{},f(k)):g(h,k);}));t.exports=a;},function(t,b,a){var c,g;c=a(429);g=a(982);t.exports=function(l,m,d){return function(){var f,h;if(0 === arguments.length)return d();f=Array.prototype.slice.call(arguments,0);h=f.pop();if(!c(h)){for(var k=0;k < l.length;){if("function" === typeof h[l[k]])return h[l[k]].apply(h,f);k+=1;}if(g(h))return m.apply(null,f)(h);}return d.apply(this,arguments);};};},function(t){t.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(t){t.exports={Eb:function(){return this.Z_["@@transducer/init"]();},result:function(b){return this.Z_["@@transducer/result"](b);}};},function(t,b,a){var c,g,l,m,d;b=a(131);c=a(260);g=a(989);l=!({toString:null}).propertyIsEnumerable("toString");m=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(f){var h,k,n,p;if(Object(f) !== f)return [];h=[];k=d && g(f);for(n in f){!c(n,f) || k && "length" === n || (h[h.length]=n);}if(l)for(k=m.length - 1;0 <= k;){n=m[k];if(p=c(n,f)){a:{for(p=0;p < h.length;){if(h[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (h[h.length]=n);--k;}return h;}:function(f){return Object(f) !== f?[]:Object.keys(f);});t.exports=a;},function(t){t.exports=function(b,a){for(var c=0,g=a.length,l=Array(g);c < g;){l[c]=b(a[c]);c+=1;}return l;};},function(t,b,a){var c,g,l;c=a(262);g=a(131);b=a(53);l=a(992);a=b(function(m,d){return 1 === m?g(d):c(m,l(m,[],d));});t.exports=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uEa="HLSPlaylistBuilderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kKa="PlayerPlaydataMonitorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pfa="StreamChangeDetectorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bS="HLSLogblobMonitorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.IEa="HeaderFetcherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.SEa="HttpDispatcherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.MEa="HLSHeaderParserFactorySymbol";},function(t){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,g){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),g * a.byteLength / a.length);}:function(a,c,g){a.set(c,g);};t.exports={from:function(a,c,g,l){a=new a(c.length);for(var m="function" === typeof g,d=0;d < c.length;++d){a[d]=m?g.call(l,c[d],d,c):c[d];}return a;},set:b};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){var m;m=null !== g && g.apply(this,arguments) || this;m.Yz=1536;return m;}c.__extends(l,g);l.Ra=!0;return l;})(a(185).default);b.default=t;a=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="ac-3";return l;})(t);b.fca=a;t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="ec-3";return l;})(t);b.oda=t;},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);g=a(107);t=a(33);l=g.DF;t=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.Bc();this.fileSize=this.u.Vd();this.W=this.u.Vd();this.duration=this.u.Vd(!1,!0);this.Nta=this.u.Vd();this.u.Vd();this.Rta=this.u.Vd();this.uta=this.u.Da();this.Ota=this.u.Vd();this.Hna=this.u.Da();this.u.iB();this.Xe={moof:{offset:this.Nta},sidx:{offset:this.Ota,size:this.Hna}};this.Xe[g.iS]={offset:this.Rta,size:this.uta};this.u.offset - this.startOffset <= this.length - 24 && (this.Qta=this.u.Vd(),this.ota=this.u.Da(),this.Pta=this.u.Vd(),this.mta=this.u.Da(),this.Xe[g.oy]={offset:this.Qta,size:this.ota},this.Xe[g.ny]={offset:this.Pta,size:this.mta});return !0;};d.Zb=l;d.Ra=!1;return d;})(t.Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=a(107);a=a(33);g=t.EF;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){var d,k,n;this.Bc();1 <= this.version && this.u.iB();d=this.u.Da();this.Xe={};for(var f=this.startOffset + this.length,h=0;h < d;++h){k=this.u.Ul();"uuid" === k && (k=this.u.iB());n=this.u.Vd();this.Xe[k]={offset:f,size:n};f+=n;}return !0;};m.Zb=g;m.Ra=!1;return m;})(a.Fc);b.default=a;},function(t){var b,a,c,g;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Mk:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Mk:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Mk:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};g={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Mk:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};t.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":g},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":g};},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);g=a(33);l=a(90);t=(function(m){function d(f,h,k,n,p){k=m.call(this,k,n,p) || this;k.Vja=f;k.mr=h;k.Xa={};return k;}c.__extends(d,m);d.prototype.parse=function(f){var h,k,n,p,q,u;this.offset=0;h=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;n=this.Da();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=l.Co(this.Da());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.iB();}if(0 === h.length && this.mr.ZV(p,k,n))break;if(k + n > this.view.byteLength)break;q=this.Vja[p];u=void 0;if(q){if((u=new q(this,p,k,n,h[0]),(h[0] || this).Mt(u),u.parse(f)))this.config.II && q.Ra?h.unshift(u):this.offset=k + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=k + n;for(;h.length && this.offset > h[0].byteOffset + h[0].fo - 8;){u=h.shift();if(!u.ju(f))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.fo;}if(0 === h.length && this.mr.sV(p,k,n,u))break;}return !this.mr.done && (f=this.mr.endOffset?this.mr.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,SX:f}:{done:!0,offset:Math.min(this.mr.endOffset || Infinity,this.offset)};};d.prototype.Mt=function(f){g.Fc.Mt(this,f);};return d;})(a(1029).bga);b.eF=t;},function(t,b,a){var g;function c(l,m){l=m.indexOf(l);-1 !== l && m.splice(l,1);}Object.defineProperty(b,"__esModule",{value:!0});g=a(107);t=(function(){function l(m){this.endOffset=m;this.done=!1;}l.prototype.ZV=function(){return this.done;};l.prototype.sV=function(m,d,f){return this.done=d + f >= this.endOffset;};return l;})();b.nR=t;t=(function(){function l(m,d,f,h){void 0 === d && (d=[]);void 0 === f && (f=[]);void 0 === h && (h=!1);this.$h=m;this.Kz=d;this.j_=f;this.qY=h;this.done=!1;this.Xe={};}l.prototype.ZV=function(m,d,f){-1 !== l.Spa.indexOf(m) && (this.Xe[m]={offset:d,size:f});if(-1 !== this.j_.indexOf(m)){if((this.Xe[m]={offset:d,size:f},this.qY))this.endOffset=d + f;else return (this.endOffset=d,this.done=!0);}else this.$h && -1 !== this.$h.indexOf(m)?(m=1 < this.$h.length?4096:0,this.endOffset=Math.max(d + f + m,this.endOffset || 0)):-1 !== this.Kz.indexOf(m) && (m=this.$h?4096:0,this.endOffset=Math.max(d + f + m,this.endOffset || 0));return this.done;};l.prototype.sV=function(m,d,f,h){var k;k=this;if(-1 !== this.j_.indexOf(m))return this.done=!0;m === g.DF && this.HZ(h.Xe);m === g.EF && this.HZ(h.Xe);this.$h && c(m,this.$h);c(m,this.Kz);return this.$h && 0 === this.$h.length && !this.Kz.some(function(n){return k.Xe[n];})?this.done=!0:this.done;};l.prototype.HZ=function(m){var d;d=this;this.Xe=m;this.endOffset=(this.$h || []).concat(this.Kz).reduce(function(f,h){return d.Xe[h]?(h=d.Xe[h],Math.max(h.offset + (h.size || 4096),f)):f;},this.endOffset || 0);};l.Spa=["moov","sidx"];return l;})();b.Ida=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wEa="HLSPlaylistTransformerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.JBa="CdnPartitionerSymbol";},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.lda=void 0;g=a(45);c.So=function(){var l;l={};l[g.ze.lF]="mp4a.40.2";l[g.ze.rEa]="mp4a.40.2";l[g.ze.mF]="mp4a.40.2";l[g.ze.WF]="mp4a.40.42";l[g.ze.hR]="ec-3";l[g.ze.Zca]="ec-3";l[g.ze.iR]="ec-3";return l;};b.lda=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q8b="LogblobBuilderSymbol";b.ZR="HLSLogblobBuilderFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.HMa="ThroughputTrackerConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.KMa="ThroughputTrackerSymbol";b.IMa="ThroughputTrackerFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VDa="ExtraPlatformInfoProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.CBa="CapabilityDetectorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.EAa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(t,b,a){var g,l,m,d;function c(f,h,k,n){this.config=f;this.yj=h;this.mediaType=k;this.fx=n;this.Ssa={};this.Ssa[g.Vj.Audio]="audio";this.Ssa[g.Vj.qNa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.gR=void 0;g=a(26);t=a(114);l=a(188);m=a(11);d=new t.nC().format;c.prototype.$_a=function(f){return this.KCb(this.JJb(this.G_a(),f));};c.prototype.qz=function(f){return this.yj.isTypeSupported(f);};c.prototype.mZa=function(){return [l.$e.a0,l.$e.xEa,l.$e.uR];};c.prototype.Cqa=function(){this.io=[];this.bv=[];this.config().DUb && this.bv.push(l.$e.WF);this.config().S6a && this.bv.push(l.$e.sEa);this.config().R6a && this.bv.push(l.$e.qEa);this.config().Q6a && this.bv.push(l.$e.st);this.config().HI && this.bv.push(l.$e.RB);this.config().T6a && this.bv.push(l.$e.pC);this.config().P6a && this.bv.push(l.$e.zl);this.bv=this.bv.concat(this.mZa());!this.config().DEb && this.io.push(l.$e.WF);!this.config().UWa && this.io.push(l.$e.zgb);!this.config().TWa && this.io.push(l.$e.Agb);!this.config().CV && this.io.push(l.$e.Bgb);!this.config().rEb && this.io.push(/prk$/);this.config().Q6a || this.config().aEb || this.io.push(l.$e.st);this.config().S6a || this.config().cEb || this.io.push(l.$e.sEa);this.config().R6a || this.config().Jma || this.io.push(l.$e.qEa);this.config().HI || this.config().fN || this.io.push(l.$e.RB);this.config().T6a || this.config().BEb || this.io.push(l.$e.pC);this.config().P6a || this.config().WDb || this.io.push(l.$e.zl);!this.config().zEb && this.io.push(l.$e.ZK);};c.prototype.JJb=function(f,h){var k;k=m.Qe.hardwareConcurrency && m.Qe.hardwareConcurrency;return f.filter(function(n){return void 0 !== n.minimumCores && k < n.minimumCores || void 0 !== n.restrictToUILabels && (void 0 === (null === h || void 0 === h?void 0:h.Wd) || !n.restrictToUILabels.includes(h.Wd))?!1:!0;}).map(function(n){return n.name;});};c.prototype.PXa=function(f){var h,k;h=this;k=f.map(function(n){for(var p=ba(h.bv),q=p.next();!q.done;q=p.next()){if(q.value.test(n))return Promise.resolve(!0);}p=ba(h.io);for(q=p.next();!q.done;q=p.next()){if(q.value.test(n))return Promise.resolve(!1);}return h.Uz(n).catch(function(){return !1;});});return Promise.all(k).then(function(n){return f.filter(function(p,q){return n[q];});});};c.prototype.Uz=function(f){return this.config().nEb?this.fx.Uz(f):this.LFb(f);};c.prototype.LFb=function(f){var h;f=this.LY[f];h="";return f?(Array.isArray(f) && (h=1 < f.length?" " + f[1]:"",f=f[0]),f=d("{0}/mp4;codecs={1};{2}",this.Ssa[this.mediaType],f,h),f=this.qz(f),Promise.resolve(f)):Promise.resolve(!1);};c.prototype.KCb=function(f){var h;h={};this.Cqa();return this.PXa(f).then(function(k){return k.map(function(n){return h[n]=1;});}).then(function(){return Object.keys(h);});};Ya.Object.defineProperties(c.prototype,{LY:{configurable:!0,enumerable:!0,get:function(){this.ZPa || (this.ZPa=this.So());return this.ZPa;}}});b.gR=c;},function(t,b,a){var g,l,m,d,f;function c(h,k,n){n=l.gR.call(this,h,k,g.Vj.Audio,n) || this;n.config=h;n.yj=k;n.type=g.zv.Cv;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.N0=void 0;g=a(26);l=a(457);m=a(113);t=a(114);d=a(450);f=new t.nC().format;na(c,l.gR);c.prototype.ZZ=function(){var h;h=f(c.tQ,m.Hd.ygb);return Promise.resolve(this.config().CV && this.yj.isTypeSupported(h));};c.prototype.So=function(){return d.lda.So();};c.prototype.G_a=function(){return this.config().IG;};b.N0=c;c.tQ="audio/mp4;codecs={0};";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kHa="MediaCapabilitiesDetectorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oHa="MediaCapabilitiesSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nHa="MediaCapabilitiesLogHelperSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.SKa="PresentationAPISymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.p1="IndexedDBConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ofa="Storage";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eCa="CorruptedStorageValidatorConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kGa="LocalStorageSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.HHa="MemoryStorageSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.SAa="BookmarkSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.QAa="BookmarkConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PAa="BookmarkConfigParserSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.iBa="CDMAttestedDescriptorProvider";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ga="ManifestProviderConfigSymbol";},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sfa=void 0;g=a(11);c.F_a=function(){var l;l=g.Mv && g.Mv.height;return l?1080 <= l?1080:720:720;};b.Sfa=c;},function(t,b,a){var g;function c(l){this.log=l;}Object.defineProperty(b,"__esModule",{value:!0});b.eS=void 0;g=a(475);c.prototype.Bcb=function(l,m){var d,f;d=this;if(!l)return (this.log.warn("There are no media streams for " + m.type + " track - " + m.trackId),[]);f=l.map(function(h){var k,n,p,q,u,r,w;w=new g.MediaStream(m,m.type,h.gs,h.bitrate,h.xb,h.size,d.ZHb(h.urls),h.ZG,h.AYa / h.zYa,h.ll,h.wl);w.j0b(h.K9a,h.J9a,h.A7a,h.z7a);w.A_b(null !== (k=h.yBb) && void 0 !== k?k:void 0,null !== (n=h.zBb) && void 0 !== n?n:void 0,null !== (p=h.xBb) && void 0 !== p?p:void 0,null !== (q=h.wBb) && void 0 !== q?q:void 0,null !== (u=h.A7a) && void 0 !== u?u:void 0,null !== (r=h.z7a) && void 0 !== r?r:void 0);m.Am && (w.Am=m.Am);h.ZG && (w.Kg=h.ZG);return w;});f.sort(function(h,k){return h.bitrate - k.bitrate;});f.forEach(function(h,k){h.lower=f[k - 1];h.GLb=f[k + 1];});return f;};c.prototype.ZHb=function(l){return l.reduce(function(m,d){m[d.mq]=d.url;return m;},{});};b.eS=c;},function(t,b,a){var g,l,m;function c(d,f,h,k,n,p,q,u,r,w,v){this.track=d;this.type=f;this.Dc=h;this.bitrate=k;this.xb=n;this.size=p;this.Hw=q;this.Kg=u;this.framerate=r;this.ll=w;this.wl=v;this.Wh={Type:f,Bitrate:k,DownloadableId:h};}Object.defineProperty(b,"__esModule",{value:!0});b.qgb=b.MediaStream=void 0;g=a(12);l=a(17);m=a(91);c.prototype.toJSON=function(){return this.Wh;};c.prototype.j0b=function(d,f,h,k){(0,l.$c)(d) && (0,l.$c)(f) && (this.width=d,this.height=f,(0,l.Fa)(h) && (0,l.Fa)(k) && (this.eja=h / k * d),this.Wh.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.A_b=function(d,f,h,k,n,p){(0,l.$c)(d) && (0,l.$c)(f) && (0,l.$c)(h) && (0,l.$c)(k) && (this.Ila=d,this.i5=f,this.h5=h,this.g5=k);(0,l.$c)(n) && (0,l.$c)(p) && (this.B7a=n,this.C7a=p);};b.MediaStream=c;b.qgb=function(d,f,h,k,n){if(d == g.s1 || d === m.Li.audio)return f;if(d == g.HK || d === m.Li.video)return h;if(d == m.Li.pba)return k;if(d == m.Li.Mya)return n;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mKa="PlayerTextTrackFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZMa="TrickPlayFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dHa="ManifestVerifyErrorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fJa="PboLinksManagerSymbol";b.dJa="PboLinksManagerFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WGa="ManifestEnricherSymbol";},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.ueb=void 0;c=a(8);g=a(17);b.ueb=function(l){var m,d;if((0,g.wA)(l)){m=new DOMParser().parseFromString(l,"text/xml");d=m.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:l.slice(0,300),fileSize:l.length});}catch(f){}throw Error("xml parser error");}return m;}throw Error("bad xml text");};},function(t,b,a){var g;function c(l){var m,d,f,h,k,n,p;d={};d[g.LQ]=l.localName;f={};d[g.Pk]=f;h=[];d[g.KQ]=h;k=l.attributes;n=k.length;for(m=0;m < n;m++){p=k[m];f[p.localName]=p.value;}l=l.childNodes;n=l.length;f={};for(m=0;m < n;m++){switch((k=l[m],k.nodeType)){case b.yeb:k=c(k);p=k[g.LQ];k[g.bca]=d;h.push(k);d[p]?f[p][g.$E]=k:d[p]=k;f[p]=k;break;case b.zeb:case b.web:(k=k.text || k.nodeValue,h.push(k),d[g.ot] || (d[g.ot]=k));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.xeb=b.web=b.zeb=b.$5b=b.yeb=b.a6b=b.veb=void 0;g=a(160);b.veb=function(l){return c(l.nodeType == b.xeb?l.documentElement:l);};b.a6b=c;b.yeb=1;b.$5b=2;b.zeb=3;b.web=4;b.xeb=9;},function(t){t.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yea="MslReadyNotifierSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.GCa="DeviceIdGeneratorSymbol";},function(t,b){function a(c,g,l){if(null != l){if(0 < l(c,g))throw a.iVa(c,g);}else if(c.Ll && 0 < c.Ll(g))throw a.iVa(c,g);this.start=c;this.end=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Afa=void 0;a.iVa=function(c,g){return new RangeError("end [" + g + "] must be >= start [" + c + "]");};b.Afa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.JCa="DeviceProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gCa="CryptoKeysSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.QIa="PboBindDeviceCommandSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.CGa="LogblobSenderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.JHa="MessageQueueSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hJa="PboLogblobCommandSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nNa="UuidProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cAa="AppLogSinkSymbol";},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G;function c(C,H,K,M,I,Q,L,J,O,N,P,S,U,Z,ja,ya,ra,Y,pa,T){var R;R=this;this.j=C;this.xa=H;this.Zbb=K;this.ag=M;this.Msa=I;this.fna=Q;this.se=L;this.I5=J;this.nf=O;this.config=N;this.Gd=P;this.za=S;this.Ea=U;this.Uq=Z;this.BA=ja;this.fj=ya;this.ks=ra;this.oI=Y;this.vc=pa;this.eE=T;this.n_=[];this.Ysa=this.RD=this.iZ=0;this.aN=[];this.Xia=!1;this.ME=function(ea){var sa,la,Ka,Ua,$a,Za,cb;la={};try{la={playdelaysdk:(0,n.Xf)(R.j.IU()),applicationPlaydelay:(0,n.Xf)(R.j.pka()),playdelay:(0,n.Xf)(R.j.rka()),trackid:R.j.Nj,bookmark:(0,n.Xf)(R.j.xw || 0),pbnum:R.j.index,endianness:(0,d.DZa)()};R.config().CEb && (la.transitiontime=R.j.Zm,la.uiplaystarttime=R.j.bb.uQ,la.playbackrequestedat=R.j.dj.da(p.la),la.clockgettime=R.getTime(),la.clockgetpreciseepoch=R.za.kf.da(p.la),la.clockgetpreciseappepoch=R.Ea.zA.da(p.la),la.absolutestarttime=R.j.xH(),la.relativetime=R.j.$oa());R.C6(la,"startplay");}catch(Va){R.log.error("error in startplay log fields",Va);}R.j.si && (la.blocked=R.j.si);R.vc.j1a(la);R.k1a(la);if(R.config().Vba && R.j.bb.keb){Ka={};Object.entries(R.j.bb.keb).reverse().forEach(function(Va){var Qa;Qa=ba(Va);Va=Qa.next().value;Qa=Qa.next().value;Ka[Va.toLowerCase()]=Qa;});la.vui=Ka;}(0,z.Fa)(R.j.TSa) && (la.bookmarkact=(0,n.Xf)(R.j.TSa));Ua=R.j.Tc.at && R.j.Tc.ats?R.j.Tc.at - R.j.Tc.ats:void 0;Ua && (la.nccpat=Ua);(Ua=R.j.Tc.lr && R.j.Tc.lc?R.j.Tc.lr - R.j.Tc.lc:void 0) && (la.nccplt=Ua);(Ua=R.j.Tc.lc && R.j.Tc.lg?R.j.Tc.lc - R.j.Tc.lg:void 0) && (la.lct=Ua);(Ua=R.wDb()) && (la.downloadables=Ua);nb._cad_global.device && (0,z.$c)(nb._cad_global.device.Y5) && (la.esnSource=nb._cad_global.device.Y5);(0,n.bc)(la,R.Uq,{prefix:"pi_"});R.j.Po && R.j.Po.initBitrate && (la.initvbitrate=R.j.Po.initBitrate);R.j.Po && R.j.Po.selector && (la.selector=R.j.Po.selector);la.fullDlreports=R.Ddb;if(R.j.state.value >= y.Sb.te)try{$a=R.j.Zt();if($a){R.maxBitrate=(0,d.RQ)($a.map(function(Va){return Va.bitrate;}));R.F4a=(0,d.RQ)($a.map(function(Va){return Va.height;}));Za=0 < $a.length?(0,F.l0a)(function(Va,Qa){return Va.height === Qa.height;},$a).map(function(Va){return (0,A.Bsa)(Va,function(Qa){return Qa.bitrate;});}):void 0;la.maxbitrate=R.maxBitrate;la.maxresheight=R.F4a;}}catch(Va){R.log.error("Exception computing max bitrate",Va);}try{cb=(0,d.GH)();cb && (la.pdltime=cb);}catch(Va){}try{(0,n.bc)(la,R.j.Tc,{prefix:"sm_"});(0,n.bc)(la,R.j.q7(),{prefix:"vd_"});}catch(Va){}"undefined" !== typeof nrdp && nrdp.device && (la.firmware_version=nrdp.device.firmwareVersion);ea && R.j.cv && (la.pssh=R.j.cv);R.q1a(R.j,la);la.avtp=R.JJ.Fm().xya;(null === (sa=R.j.Ia) || void 0 === sa?0:sa.uC) && R.P7(la);if(R.j.kc.value)try{la.ttTrackFields=R.j.kc.value.Wh;}catch(Va){}R.vc.f1a(la,R.j.tc.value);R.vc.aO(la,R.j.Ag.value);R.j.oa && (la.packageId=R.j.oa.Nb.pp);R.j.oa && R.j.oa.Nb.Fn && (la.hasChoiceMap=!0);R.config().oYa && (la.forceL3WidevineCdm=!0);R.FOb(Za);R.EOb();ea && R.sqa(la);R.h1a(R.j,la);R.SH(R.j,la);R.TH(R.j,la);R.ND(R.j,la,R.Xia);R.sMb(R.j,la);R.tqa(la);R.uqa(la);R.vc.$N(la);R.n1a(la);R.g1a(la);R.vc.R7(la,R.xa);R.o1a(la);R.Jc(B.ed.ME,ea,G.Ae | G.yt | G.Ii | G.zt | G.fF | G.s0 | G.iF | G.Gp,la);};this.EP=function(ea,sa,la){sa={playdelay:(0,n.Xf)(ea),reason:la,intrplayseq:R.RD - 1,skipped:sa};"repos" === la && (sa.prstate=!0 === R.j.paused.value?"paused":"playing");R.TH(R.j,sa);R.Jc(B.ed.EP,!1,G.Ae | G.yt | G.Ii,sa);"rebuffer" !== la && "force_rebuffer" !== la || R.j.Tl.dtb(Number((0,n.Xf)(ea)));};this.DM=function(ea,sa,la,Ka){ea={moff:(0,n.Zo)(la),moffms:(0,n.Xf)(la),vbitrate:sa.bitrate,vbitrateold:ea.bitrate,vdlid:sa.Dc,vdlidold:ea.Dc,vheight:sa.height,vheightold:ea.height,vwidth:sa.width,vwidthold:ea.width,bw:Ka};R.TH(R.j,ea);R.ND(R.j,ea);R.Jc(B.ed.DM,!1,G.Ii,ea);};this.hwa=function(ea,sa,la){ea={moff:(0,n.Zo)(la),moffms:(0,n.Xf)(la),vdlidold:ea.Dc,vbitrateold:ea.bitrate};R.TH(R.j,ea);R.ND(R.j,ea);R.vc.Hq(ea,sa,R.j.qf.value && R.j.qf.value.stream);R.Jc(B.ed.q9a,!1,G.Ii,ea);};this.Iua=function(){var ea,sa;ea={waittime:(0,n.Xf)(R.j.$oa()),abortedevent:"startplay",trackid:R.j.Nj,prstate:R.cA(),paustate:R.j.paused.value};R.C6(ea,"endplay");R.ks.FV && (ea.eventlist_version=1,ea.eventlist=R.oI.A_a(R.j));R.j.Po && R.j.Po.initBitrate && (ea.initvbitrate=R.j.Po.initBitrate);try{sa=(0,d.GH)();sa && (ea.pdltime=sa);(0,n.bc)(ea,R.j.Tc,{prefix:"sm_"});}catch(la){}R.pqa(ea,!0);R.vc.R7(ea,R.xa);R.vc.aO(ea,R.j.Ag.value);R.sqa(ea);R.vc.Hq(ea,R.j.Ze.value,R.j.sh.value);R.q1a(R.j,ea);R.SH(R.j,ea);R.Jc(B.ed.J$,!1,G.Ae | G.Ii | G.fF | G.zt | G.Gp,ea);};this.Hua=function(ea,sa){ea={waittime:(0,n.Xf)(ea),abortedevent:"resumeplay",resumeplayreason:sa};R.j.Po && R.j.Po.initBitrate && (ea.initvbitrate=R.j.Po.initBitrate);R.vc.Hq(ea,R.j.Ze.value,R.j.sh.value);R.Jc(B.ed.J$,!1,G.Ae | G.Ii | G.Gp,ea);};this.Wxa=function(ea,sa){ea={newstate:sa?"Paused":"Playing",oldstate:ea?"Paused":"Playing"};R.TH(R.j,ea);R.ND(R.j,ea);R.vc.Hq(ea,R.j.pe.value && R.j.pe.value.stream,R.j.qf.value && R.j.qf.value.stream);R.Jc(B.ed.fbb,!1,G.Ae | G.Ii,ea);};this.Hqa=function(ea,sa,la){var Ka,Ua;ea=(0,n.bc)({vdlid:R.j.Ze.value.Dc,playingms:ea,pausedms:sa,intrplayseq:R.RD++,prstate:R.cA(),paustate:R.j.paused.value},la);R.C6(ea,"intrplay");sa=R.j.uc[g.Ub.Wa.Pb].value;la=R.j.uc[g.Ub.Wa.Yb].value;ea.cdnid=ea.vcdnid=sa && sa.id;ea.acdnid=la && la.id;ea.locid=R.fX && R.fX.Vra;ea.loclv=R.fX && R.fX.E3a;ea.avtp=R.JJ.Fm().xya;ea.mediabuffered=null === (Ka=R.j.cg) || void 0 === Ka?void 0:Ka.I6();if(null === (Ua=R.j.Ia) || void 0 === Ua?0:Ua.uC)(R.pqa(ea,!0),R.P7(ea),R.m1a(ea));try{(0,n.bc)(ea,R.j.q7(),{prefix:"vd_"});}catch($a){}R.TH(R.j,ea);R.ND(R.j,ea);R.vc.Hq(ea,R.j.pe.value && R.j.pe.value.stream,R.j.qf.value && R.j.qf.value.stream);R.Jc(B.ed.Hqa,!1,G.Ae | G.Ii,ea);};this.wP=function(ea,sa,la){ea={moffold:(0,n.Zo)(ea),reposseq:R.iZ++,prstate:R.cA(),paustate:R.j.paused.value};R.ND(R.j,ea);R.vc.Hq(ea,la && la.stream,sa && sa.stream);R.Jc(B.ed.wP,!1,G.Ae | G.Ii,ea);};this.Gja=function(){var ea,sa,la,Ka;sa=R.j.tc.value;la=R.j.sh.value.Dc;sa=sa?{trackId:sa.trackId,bcp47:sa.Uf,downloadableId:la,rank:sa.ec,chan:sa.channels}:{};la=R.xA;Ka=null === (ea=R.sra) || void 0 === ea?void 0:ea.Dc;ea=la?{trackId:la.trackId,bcp47:la.Uf,downloadableId:Ka,rank:la.ec,chan:la.channels}:{};R.Jc(B.ed.sSa,!1,G.Ae | G.Ii,{switchdelay:(0,n.Xf)(R.getTime() - R.tra),track:sa,oldtrack:ea});};this.QZ=function(ea){R.Jc(B.ed.Uab,!1,G.Ae | G.Ii,{speedold:Math.floor(1E3 * ea.oldValue),speed:Math.floor(1E3 * ea.newValue)});};this.mQ=function(){R.Jc(B.ed.O2b,!1,G.Ae | G.Ii,{track:R.j.kc.value.Wh});};this.AB=function(ea){var sa,la;sa=R.j.kc.value;if(ea.newValue || sa && sa.Jq() && !sa.jp()){la=(ea=null !== (la=ea.newValue) && void 0 !== la?la:sa)?{trackId:ea.trackId,bcp47:ea.Uf,downloadableId:ea.Dc,rank:ea.ec,isImageBased:ea.wk}:{};ea=(ea=R.Ira)?{trackId:ea.trackId,bcp47:ea.Uf,downloadableId:ea.Dc,rank:ea.ec,isImageBased:ea.wk}:{};la={switchdelay:(0,n.Xf)(R.getTime() - R.Hra),track:la,oldtrack:ea};R.vc.Hq(la,R.j.pe.value && R.j.pe.value.stream,R.j.qf.value && R.j.qf.value.stream);R.Jc(B.ed.jcb,!1,G.Ae | G.Ii,la);}};this.hq=function(ea){R.Jc(B.ed.wvb,!1,G.Ae | G.Ii,ea.newValue);};this.Mwb=function(ea,sa){var la,Ka;la=sa.serverid;Ka={locid:sa.location,loclv:sa.locationlv,selocaid:la,selcdnid:la,selocaname:sa.servername};Ka.mediatype=sa.mediatype;Ka.selreason=sa.selreason || "unknown";Ka.seldetail=sa.seldetail;Ka.cdnbwdata=JSON.stringify([{id:la}]);ea && (Ka.oldlocid=ea.Vra,Ka.oldloclv=ea.E3a,Ka.oldocaid=ea.q_b,Ka.oldocaname=ea.pJ);R.Jc(B.ed.yTa,!1,G.s0,Ka);};this.jWa=function(){var ea,sa,la;if(R.j.tj)try{ea=!1;R.Ddb || (ea=!0,R.aN=R.aN.filter(function(Ka){return !Ka.aa;}));if(0 < R.aN.length){sa=R.I5.construct(R.aN,R.j.dj.da(p.la));R.aN=[];sa.erroronly=ea;la={};(0,n.ve)(sa,function(Ka,Ua){la[Ka]=JSON.stringify(Ua);});R.Jc(B.ed.fDb,!1,G.Ii,la);}}catch(Ka){R.log.error("Exception in dlreport.",Ka);}};this.cA=function(){var ea;ea=R.j.Ab.value;return ea === y.hb.Lc?"playing":ea === y.hb.ph?"paused":ea === y.hb.yr?"ended":"waiting";};this.fE=function(){var ea,sa,la;if(R.j.state.value == y.Sb.te){la=R.yY();R.config().nwa && (la.avtp=R.JJ.Fm().xya,(null === (ea=R.j.Ia) || void 0 === ea?0:ea.uC) && R.P7(la));la.mediabuffered=null === (sa=R.j.cg) || void 0 === sa?void 0:sa.I6();la.midplayseq=R.Ysa++;la.prstate=R.cA();la.paustate=R.j.paused.value;R.config().n_b && R.ybb("midplay");R.config().sx && R.vqa(la);R.tqa(la);R.uqa(la);R.vc.$N(la);R.Jc(B.ed.fE,!1,G.Ae | G.Ii | G.fF | G.zt,la);}};this.ybb=function(ea){var sa,la;sa={};sa.trigger=ea;try{la=R.j.Uoa();sa.subtitleqoescore=R.j.pr.oKb(la);sa.metrics=JSON.stringify(R.j.pr.qpa(la));}catch(Ka){R.log.error("error getting subtitle qoe data",Ka);}R.Jc(B.ed.V1b,!1,G.Ae | G.fF | G.yt,sa);};this.transition=function(ea){R.ND(R.j,ea);R.Jc(B.ed.transition,!1,0,ea);};this.oH=function(ea){var sa,la,Ka,Ua,$a,Za,cb;la=R.yY();R.C6(la,"endplay");la.prstate=R.cA();la.paustate=R.j.paused.value;la.muted=R.j.muted.value;R.j.CB && "downloaded" === R.j.CB.l7() && (la.trickplay_ms=R.j.z_.offset,la.trickplay_res=R.j.z_.I9a);R.config().Ldb && (la.rtinfo=R.j.VJb());R.config().nwa && (null === (sa=R.j.Ia) || void 0 === sa?0:sa.uC) && R.P7(la);R.k1a(la);la.endreason=ea?"error":R.j.Ab.value === y.hb.yr?"ended":"stopped";sa=R.Uq;R.rMb(sa);sa && (0,n.bc)(la,sa,{prefix:"pi_"});try{(0,n.bc)(la,R.j.Tc,{prefix:"sm_"});}catch(xa){}R.j.oqa && (la.inactivityTime=R.j.oqa);R.pqa(la,ea);R.m1a(la);if(R.j.A4){sa=R.j.A4;Ka=R.config().tM;Ua=R.j.loadTime;$a={iv:Ka,seg:[]};Za=function(xa,Da,Na){return 0 === Da || void 0 === Na[Da - 1]?xa:xa - Na[Da - 1];};cb=sa.oU.map(Za);Za=sa.N_.map(Za);for(var Va,Qa=0;Qa < cb.length;Qa++){if(cb[Qa] || Za[Qa])Va?(Va.ams.push(cb[Qa]),Va.vms.push(Za[Qa])):Va={ams:[sa.oU[Qa]],vms:[sa.N_[Qa]],soffms:sa.startTime + Qa * Ka - Ua};Qa !== cb.length - 1 && cb[Qa] && Za[Qa] || !Va || ($a.seg.push(Va),Va=void 0);}la.bt=JSON.stringify($a);}ea && R.sqa(la);R.ybb("endplay");R.config().sx && R.vqa(la);R.vc.aO(la,R.j.Ag.value);R.h1a(R.j,la);R.SH(R.j,la);R.TH(R.j,la);R.ND(R.j,la,R.Xia);R.tqa(la);R.uqa(la);R.vc.$N(la);R.n1a(la);R.tMb(la);R.g1a(la);R.vMb(la);R.uMb(la);R.yMb(la);R.o1a(la);R.zMb(la);R.Jc(B.ed.oH,ea,G.Ae | G.yt | G.Ii | G.fF | G.zt | G.iF | G.Gp,la);};this.mDb=function(ea){R.aN.push(R.I5.Gyb(ea.response));};this.uma=function(ea){var sa,la,Ka,Ua,$a,Za;ea=ea.response;sa=ea.request;la=ea.request.PA;Ka=sa.track;if(Ka){Ua=!ea.aa && ea.sa != q.M.ZB;$a=Ka.type;Za=ea.Km;if(Ua || R.xa.$ra){la={dltype:$a,url1:sa.url,url2:ea.url || "",cdnid:sa.uc && sa.uc.id,tresp:(0,n.Xf)(Za.Di - Za.ar),brecv:(0,n.rYa)(Za.rla),trecv:(0,n.Xf)(Za.wp - Za.Di),sbr:la && la.bitrate};ea.Ms && (la.range=ea.Ms);switch($a){case f.Li.audio:la.adlid=sa.stream.Dc;break;case f.Li.video:la.vdlid=sa.stream.Dc;break;case f.Li.pba:la.ttdlid=Ka.Dc;}(sa=(0,E.Poa)(ea.sa)) && (la.nwerr=sa);ea.tk && (la.httperr=ea.tk);R.Jc(B.ed.uma,Ua,G.Ii,la);}}};this.si=function(){R.Jc(B.ed.QSa,!1,G.Ae | G.fF | G.Gp,{});};this.Txb=function(ea){var sa,la;sa=ea.response.Km;ea=(0,p.Nc)(sa.Di);la=(0,p.Nc)(sa.wp);sa=(0,r.fa)(sa.rla || 0);sa.H2a() || sa.Wqa() || (ea=new w.Afa(ea,la),R.JJ.Xsb(new v.PCa(ea,sa)));};this.z$=function(ea){var sa;sa=ea.newValue;ea.zm && ea.zm.zta && sa || sa == R.dI || (R.Wxa(R.dI,sa),R.dI=sa);};this.nz=function(ea){function sa(la){var Ka;if(R.j.ac && R.j.ac.sourceBuffers){Ka=R.j.ac.sourceBuffers.filter(function(Ua){return Ua.type === la;}).pop();if(Ka)return {busy:Ka.Rh(),updating:Ka.updating(),ranges:Ka.J6()};}}ea={cause:ea.cause};ea.cause && ea.cause === m.bfa && (ea.mediaTime=R.j.mediaTime.value,ea.buf_audio=sa(l.s1),ea.buf_video=sa(l.HK));R.Hqa(R.n_[y.hb.Lc] || 0,R.n_[y.hb.ph] || 0,ea);};this.vcb=function(ea){var sa;ea=ea.oldValue;sa=R.getTime();ea === y.hb.Sf?R.n_=[]:R.n_[ea]=(R.n_[ea] || 0) + (sa - R.QOb);R.QOb=sa;};this.rm=function(ea){R.tra=R.getTime();R.xA=ea.oldValue;};this.Zl=function(ea){R.Hra=R.getTime();R.Ira=ea.oldValue;};this.qU=function(ea){R.sra=ea.oldValue;};this.qX=function(ea){function sa(la,Ka){var Ua;if(!la || la.Vra !== Ka.location){Ua={Vra:Ka.location,E3a:Ka.locationlv,q_b:Ka.serverid,pJ:Ka.servername};R.Mwb(la,Ka);return Ua;}}if("audio" === ea.mediatype){if(ea=sa(R.LOb,ea))R.LOb=ea;}else if(ea=sa(R.fX,ea))R.fX=ea;};this.BZ=function(ea){var sa,la;sa=ea.mediatype;la=ea.reason;"video" === sa?"serverswitchaway" === la?(R.Lj.summary.heb++,R.Lj.J8=R.za.kf.da(p.la)):"serverswitchback" === la && (R.Lj.summary.ieb++,R.Lj.J8 && (R.Lj.summary.jeb.push(R.za.kf.da(p.la) - R.Lj.J8),R.Lj.J8=void 0)):"audio" === sa && ("serverswitchaway" === la?(R.Lj.summary.gSa++,R.Lj.D8=R.za.kf.da(p.la)):"serverswitchback" === la && (R.Lj.summary.hSa++,R.Lj.D8 && (R.Lj.summary.iSa.push(R.za.kf.da(p.la) - R.Lj.D8),R.Lj.D8=void 0)));R.Jc(B.ed.s_b,!1,G.Ae | G.Ii,{mediatype:ea.mediatype,server:ea.server,selreason:ea.reason,location:ea.location,bitrate:ea.bitrate,confidence:ea.confidence,throughput:ea.throughput,oldserver:ea.oldserver});};this.mM=function(ea){R.Jc(B.ed.oub,!1,G.Ii,{strmsel:ea.strmsel});};this.gQ=function(ea){ea=(0,u.UP)(ea);ea.details && (ea.details=JSON.stringify(ea.details));R.Jc(B.ed.U1b,!0,G.Ae | G.yt | G.s0,ea);};this.Xia=ya.sza || ya.Lba || ya.pYa;this.JJ=K();this.log=(0,h.Sh)(C,"LogblobBuilder");this.dI=C.paused.value;this.ca=this.xa.ca;this.Lj={summary:{heb:0,ieb:0,jeb:[],gSa:0,hSa:0,iSa:[]},J8:void 0,D8:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.$R=void 0;g=a(40);l=a(12);m=a(61);d=a(49);f=a(91);h=a(8);k=a(22);n=a(24);p=a(5);q=a(3);u=a(30);r=a(52);w=a(486);v=a(1123);x=a(11);y=a(15);z=a(17);A=a(1124);B=a(277);E=a(162);D=a(134);F=a(106);c.prototype.q1a=function(C,H){var K,M,I,Q,L,J,O,N,P,S,U,Z,ja,ya,ra,Y,pa;if(this.config().sx)try{K={};M=this.Gd.getStats(void 0,void 0,C.K);I=C.xH();Q=M.IJ.cyb || [];K.attempts=M.T$ || 0;K.num_completed_tasks=Q.length;L=this.se.HFb;J={};O=D.Sk.hQ;N=D.Sk.iu;P=D.Sk.yka;M.Pl && (J.scheduled=M.Pl - I);S=C.oa;S && (0,z.Fa)(S.aJ) && (J.preauthsent=S.aJ - C.loadTime,J.preauthreceived=S.zP - C.loadTime);U=Q.filter(function(T){return "manifest" === T.type;});K.mf_succ=U.filter(L("status",O)).length;K.mf_fail=U.filter(L("status",N)).length;Z=C.Tc;(0,z.$c)(Z.lg) && 0 > Z.lg && C.loadTime && (J.ldlsent=Z.lc,J.ldlreceived=Z.lr);ja=Q.filter(function(T){return "ldl" === T.type;});K.ldl_succ=ja.filter(L("status",O)).length;K.ldl_fail=ja.filter(L("status",N)).length;M=!0;I=[];"notcached" === C.NG && (M=!1,I.push("Missing cached manifest"));this.config().EV || (M=!1,I.push("LDL prefetch disabled"));ya=ja.filter(L("status",P)).length;this.config().EV && 0 === ya && (!J.ldlreceived || 0 <= J.ldlreceived) && (M=!1,I.push("LDL received after start"));if(this.config().$Wa)if(H.isPrefetchItem){ra=H.prefetchedAudioMs / H.bcABufferLevelMs;if(1 > H.prefetchedVideoMs / H.bcVBufferLevelMs || 1 > ra)(M=!1,I.push("Insufficient media fetched"));}else (M=!1,I.push("aseStats not initialized"));Y=Q.filter(function(T){return "getHeaders" === T.type;});K.header_succ=Y.filter(L("status",O)).length;K.header_fail=Y.filter(L("status",N)).length;pa=Q.filter(function(T){return "getMedia" === T.type;});K.media_succ=pa.filter(L("status",O)).length;K.media_fail=pa.filter(L("status",N)).length;K.hm_succ=K.header_succ + K.media_succ;K.hm_fail=K.header_fail + K.media_fail;(0,n.bc)(H,K,{prefix:"pr_"});this.ks.FV && (H.eventlist_version=1,H.eventlist=this.oI.A_a(C));(H.prefetchCompleted=M) || (H.prefetchFailed=I,(0,n.bc)(H,J,{prefix:"pe_"}));this.vqa(H);}catch(T){this.log.warn("error in collecting video prepare data",T);}};c.prototype.aKb=function(C,H){if(C=C.eW())if(H=C[H])return H.Aa;};c.prototype.h1a=function(C,H){C.bb.zi && (H.isBranching=!0);};c.prototype.SH=function(C,H){var K,M;M=(null === (K=C.oa) || void 0 === K?void 0:K.j2a) || "videopreparer" === C.MG;H.cachedManifest=C.NG;H.cachedLicense=C.MG;H.usedldl=this.config().EV?M.toString():"not_capable";};c.prototype.TH=function(C,H){var K,M;if(this.config().xMb){K=C.Voa();M=C.ja.oa;K && M && (H.segment=K,M=C.AD(),H.segmenttime=M,C=this.aKb(C,K),null !== M && void 0 !== C && (H.segmentoffset=M - C));}};c.prototype.ND=function(C,H,K){H.pxid=C.O$;(void 0 === K?0:K) && (H.playgraph_trace=C.T7a);};c.prototype.sMb=function(C,H){var K,M,I;if(null === (K=C.oa) || void 0 === K?0:K.Nb.Dw){H.hasContentPlaygraph=!0;M=C.iD;I=C.oa.Nb.Dw.ma;H.auxViewables=Object.keys(I.V).map(function(Q){return I.V[Q].S;}).filter(function(Q,L,J){return Q !== M && J.indexOf(Q) === L;});}};c.prototype.m1a=function(C){var H,K;H=this.j.Scc;K=H && H.Sec;H && H.XLb && (C.htwbr=H.XLb,C.pbtwbr=H.vua,C.hptwbr=H.Ucc);H && H.yZb && (C.rr=H.yZb,C.ra=H.Nec);H && K && 0 < (K.length || 0) && (C.qe=JSON.stringify(K));};c.prototype.sqa=function(C){var H,K,M;try{H=this.se.createElement("canvas");K=H.getContext("webgl") || H.getContext("experimental-webgl");if(K){M=K.getExtension("WEBGL_debug_renderer_info");M && (C.WebGLRenderer=K.getParameter(M.UNMASKED_RENDERER_WEBGL),C.WebGLVendor=K.getParameter(M.UNMASKED_VENDOR_WEBGL));}}catch(I){}};c.prototype.yMb=function(C){C.switchAwaySummary={vsa:this.Lj.summary.heb,vsb:this.Lj.summary.ieb,vsbt:this.Lj.summary.jeb,asa:this.Lj.summary.gSa,asb:this.Lj.summary.hSa,asbt:this.Lj.summary.iSa};};c.prototype.Fob=function(C){var H;H=[];return C?Object.keys(C).map(function(K){return +K;}):H;};c.prototype.wDb=function(){var C,H;C=this;if(this.j.Ep && this.j.Si){H=[];this.j.Ep.concat(this.j.Si).forEach(function(K){K.streams.forEach(function(M){H.push({dlid:M.Dc,type:M.type,bitrate:M.bitrate,vmaf:M.xb,cdn_ids:C.Fob(M.Hw)});});});return JSON.stringify(H);}};c.prototype.Lwb=function(){var H,K,M;function C(I,Q){var L,J,O;L=I.cdnId + "$" + I.correlationId;J=M[L];J || (J={cdnid:I.cdnId,pbcid:I.correlationId,dls:[]},M[L]=J,K.push(J));(0,k.TM)(I.bitrate);(0,k.TM)(I.duration);L={bitrate:I.bitrate,tm:(0,x.Tj)(I.duration)};O=I.vmaf;O && ((0,k.TM)(I.vmaf),L.vf=O);L[Q]=(0,n.Je)(I.downloadableId);J.dls.push(L);}H=this.j.Tl.hHb();K=[];M={};H.audio.forEach(function(I){C(I,"adlid");});H.video.forEach(function(I){C(I,"dlid");});return JSON.stringify(K);};c.prototype.yY=function(){var C,H,K,M,I,Q,L,J,O,N,P,S,U;C=this.j.Tl;H={totaltime:(0,n.Zo)(C.QN()),totalcontenttime:(0,n.Zo)(C.xpa()),cdndldist:this.Lwb(),reposcount:this.iZ,intrplaycount:this.RD};try{K={numskip:0,numlowqual:0};M=this.j.cg;I=M.wD();(0,z.Fa)(I) && (H.totfr=I,K.numren=I);I=M.zH();(0,z.Fa)(I) && (H.totdfr=I,K.numrendrop=I);I=M.gW();(0,z.Fa)(I) && (H.totcfr=I,K.numrenerr=I);H.playqualvideo=JSON.stringify(K);Q=this.j.Ze.value;Q && (H.videofr=Q.framerate.toFixed(3));L=C.foa();L && (H.abrdel=L);J=C.D0a() && C.PYa();J && (H.tw_vmaf=J);O=C.NYa();O && (0,n.bc)(H,O);H.rbfrs=this.RD;H.maxbitrate=this.maxBitrate;H.maxresheight=this.F4a;N=this.j.IH();for(C=0;C < N.length;C++){P=N[C];S=this.xa.DO.pv(P);if(S){(0,k.jb)(U);H.maxbitrate=U?U.bitrate:0;H.maxresheight=U?U.height:0;H.bitratefilters=S.join("|");break;}U=P;}this.j.CB && (H.trickplay=this.j.CB.l7());null !== this.j.pr.ESa && (H.avg_subt_delay=this.j.pr.ESa);}catch(Z){this.log.error("Exception reading some of the endplay fields",Z);}(0,n.bc)(H,this.j.q7(),{prefix:"vd_"});return H;};c.prototype.getTime=function(){return this.Ea.$b().da(p.la);};c.prototype.ipa=function(){return this.getTime() - this.xa.dj.da(p.la);};c.prototype.vqa=function(C){var H;try{H=this.Gd.getStats();C.pr_cache_size=JSON.stringify(H.cache);C.pr_stats=JSON.stringify(H.OGb);}catch(K){}};c.prototype.tqa=function(C){this.log.debug("httpstats",this.nf.Xb);(0,n.bc)(C,this.nf.Xb,{prefix:"http_"});};c.prototype.pqa=function(C,H){var K,M,I;K=this.config().DVa && !(this.ca % this.config().DVa);M=this.j.Ia;I=null === M || void 0 === M?void 0:M.li;K && I && (C.ASEstats=JSON.stringify(M.b8(H)));};c.prototype.P7=function(C){Object.assign(C,this.j.Ia.Wb.uKb());};c.prototype.uqa=function(C){var H;try{H=x.Lv.memory;(0,z.F2a)(H) && (C.totalJSHeapSize=H.totalJSHeapSize,C.usedJSHeapSize=H.usedJSHeapSize,C.jsHeapSizeLimit=H.jsHeapSizeLimit);}catch(K){}};c.prototype.n1a=function(C){var H;H=this.j.uf;this.config().Gwb && H && !this.config().Dp && (H=this.j.CSb(H.Acc()),C.keystatuses=H,this.log.trace("keystatuses",H));};c.prototype.g1a=function(C){var H;try{if(this.config().LU){H=this.j.rHb();C.battery=H;this.log.trace("batterystatuses",H);}}catch(K){}};c.prototype.tMb=function(C){this.j.p5 && (C.dqec=this.j.p5);};c.prototype.rMb=function(C){this.j.K4 && (0,n.bc)(C,{cast_interaction_counts:this.j.K4.Icc()});};c.prototype.o1a=function(C){var H,K,M;(null === (H=this.j.uf) || void 0 === H?0:H.ru)?C.keysys=this.j.uf.ru():(null === (M=null === (K=this.j.uf) || void 0 === K?void 0:K.mediaKeys) || void 0 === M?0:M.keySystem)?C.keysys=this.j.uf.mediaKeys.keySystem:this.eE.W2a && (C.keysys=this.eE.W2a);};c.prototype.uMb=function(C){this.ena && (C.externaldisplay=this.ena.LV);};c.prototype.vMb=function(C){var H,K;if(this.xza){H=this.xza.map(function(M){return M.Rc;}).filter(function(M){return void 0 !== M;});K=(0,A.Bsa)(H,function(M){return M.height;});K && (C.media_capabilities_smooth=K.smooth,C.media_capabilities_efficient=K.powerEfficient,C.media_capabilities_bitrate=K.bitrate,C.media_capabilities_height=K.height,C.media_capabilities_width=K.width);C.media_capabilities=H.map(function(M){return {smooth:M.smooth,efficient:M.powerEfficient,bitrate:M.bitrate,height:M.height,width:M.width};});}};c.prototype.k1a=function(C){var H,K;if(this.j.JM){H=this.j.JM;H.Z4 && (C.controllerESN=H.Z4);H.Dyb && (C.controllerUiVer=H.Dyb);if(H.Cyb)try{K=JSON.parse(H.Cyb);C.controllerGroupNames=K;}catch(M){this.log.error("Exception parsing controller group names",M);}}};c.prototype.zMb=function(C){C.didHydrateTracks=this.j.C5;};c.prototype.EOb=function(){void 0 === this.ena && (this.ena=this.fna.zFb());};c.prototype.FOb=function(C){var H;H=this;void 0 === this.xza && void 0 !== C && (this.xza=C.map(function(K){return H.Msa.kna(K);}));};c.prototype.C6=function(C,H){(H=this.j.bA(H)) && Object.entries(H).forEach(function(K){var M;M=ba(K);K=M.next().value;M=M.next().value;C[K]=M;});};c.prototype.Jc=function(C,H,K,M){var I;I=H?"error":"info";H && this.j.Ph && (0,q.sda)(this.j.Ph.errorCode,this.ipa()) && (I="info");this.Oia(M,this.j,H,K);C=this.BA.$t(C,I,M,this.xa);this.ag.Jc(C);};c.prototype.Oia=function(C,H,K,M){var I,Q,L,J,O;"undefined" !== typeof nrdp && nrdp.device && nrdp.device.deviceModel && (C.devmod=nrdp.device.deviceModel);this.vc.qMb(C,H);this.vc.i1a(C,H);M & G.Ae && ((0,k.jb)(!C || void 0 === C.moff),this.vc.p1a(C,H));M & G.yt && this.vc.r1a(C,H);M & G.Ii && (null === (I=H.Ia) || void 0 === I?0:I.li) && (C.abuflbytes=null !== (Q=C.abuflbytes) && void 0 !== Q?Q:H.Aja(),C.abuflmsec=null !== (L=C.abuflmsec) && void 0 !== L?L:H.mU(),C.vbuflbytes=null !== (J=C.vbuflbytes) && void 0 !== J?J:H.wza(),C.vbuflmsec=null !== (O=C.vbuflmsec) && void 0 !== O?O:H.K_());M & G.zt && this.vc.s1a(C,H.Pg);M & G.fF && (I=x.Qe.hardwareConcurrency,0 <= I && (C.numcores=I),I=this.xa.Dma) && (Q=I.mHb(),C.droppedFrames=JSON.stringify(Q),I=I.uW(this.config().HDb),(0,n.ve)(I,function(N,P){C["droppedFramesP" + N]=JSON.stringify(P);}));if(M & G.s0)try{H.tj && (C.cdninfo=JSON.stringify(H.tj.map(function(N){return {id:N.id,nm:N.name,rk:N.ec,wt:N.location.weight,lv:N.location.level};})));}catch(N){}K && M & G.iF && ((0,k.jb)(H.Ph),this.vc.l1a(C,H,H.Ph));M & G.Gp && this.vc.rqa(C);};Ya.Object.defineProperties(c.prototype,{Ddb:{configurable:!0,enumerable:!0,get:function(){return this.j.Qz || this.j.eN;}}});b.$R=c;(function(C){C[C.Ae=1]="MOFF";C[C.yt=2]="PRESENTEDSTREAMS";C[C.Ii=4]="BUFFER";C[C.zt=8]="SCREEN";C[C.fF=16]="CPU";C[C.s0=32]="CDN";C[C.iF=64]="FATALERROR";C[C.Gp=128]="BROWSERINFO";})(G || (G={}));},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.RCa="DownloadReportBuilderSymbol";},function(t,b,a){var g,l,m,d,f,h,k,n,p;function c(q){this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.QCa=void 0;t=a(1);g=a(162);l=a(91);m=a(24);d=a(3);f=a(22);h=a(11);k=a(17);n=a(0);a=a(13);c.prototype.construct=function(q,u){var r,w,v;r=this;w={};q.forEach(function(x){var y;y=x.url;w[y] || (w[y]=[]);w[y].push(x);});v=[];(0,m.ve)(w,function(x,y){v.push(r.CKb(y,u));});return {urls:v};};c.prototype.CKb=function(q,u){var r,w,v,x;r=this;w=q[0];v={url:w.url,bitrate:w.bitrate,cdnid:(0,k.Th)(w.uc)?w.uc.id:w.uc,dltype:w.hDb,id:w.Dc};x={};q.forEach(function(y){var z;z=r.xNb(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});(0,m.ve)(x,function(y,z){"fail" === y?v.failures=r.kIb(z,u):"success" === y && (v.downloads=r.aIb(z,u));});return v;};c.prototype.aIb=function(q,u){var r,w,v;r=this;w={};q.forEach(function(x){var y;y=x.Kxb;w[y] || (w[y]=[]);w[y].push(x);});v=[];(0,m.ve)(w,function(x,y){var z;z=[];y.forEach(function(A){z.push(A);r.hNb(A) && (v.push(r.rZa(z,u,x)),z=[]);});0 < z.length && v.push(r.rZa(z,u,x));});return v;};c.prototype.rZa=function(q,u,r){var w,v,x,y,A;w=q.sort(function(B,E){return B.Km.Di < E.Km.Di?-1:B.Km.Di > E.Km.Di?1:0;});v=w[0].Km;x=v.ar;y=v.Di;v=v.wp;for(var z=1;z < q.length;z++){A=q[z].Km;A.ar < x && (x=A.ar);A.Di < y && (y=A.Di);A.wp > v && (v=A.wp);}z=this.NJb(w);A=w[w.length - 1];return {time:x - u,tcpid:r?parseInt(r):-1,tresp:y - x,first:z,ranges:this.OJb(w,z),dur:v - y,trace:this.CD(q),status:this.l7(A)};};c.prototype.NJb=function(q){var u;u=0;q.forEach(function(r){r.Ms && (u=(0,h.Jp)(u,r.Ms[0]));});return u;};c.prototype.OJb=function(q,u){var r;r=[];q.forEach(function(w){w.Ms?r.push([w.Ms[0] - u,w.Ms[1] - u]):r.push([0,-1]);});return r;};c.prototype.CD=function(q){var u,r;u=[];q.forEach(function(w){var v;w=w.Km;if(r){v=w.ar - r.wp;0 < v && u.push([v,-2]);v=(0,h.xo)(r.wp,w.ar);v=w.Di - v;0 < v && u.push([v,-3]);}u.push([w.wp - w.Di,w.rla || 0]);r=w;});return u;};c.prototype.hNb=function(q){if(q.sa === d.M.ZB || q.sa === d.M.nF)return !0;};c.prototype.l7=function(q){if(q.aa)return "complete";if(q.sa === d.M.ZB)return "abort";if(q.sa === d.M.nF)return "stall";(0,f.jb)(!1,"download status should never be: other");return "other";};c.prototype.kIb=function(q,u){var r,w;r=this;w=[];q.forEach(function(v){var x;x=v.Km;v={time:x.Di - u,tresp:x.Di - x.ar,dur:x.wp - x.Di,range:v.Ms,reason:r.QJb(v),httpcode:v.tk,nwerr:(0,g.Poa)(v.sa)};w.push(v);});return w;};c.prototype.QJb=function(q){return q.tk || q.sa === d.M.PR?"http":q.sa === d.M.RR?"timeout":"network";};c.prototype.xNb=function(q){return q.aa || void 0 === q.aa || q.sa === d.M.ZB || q.sa === d.M.nF?!1:!0;};c.prototype.Gyb=function(q){var u,r,w,v,x,y;u=q.request;r=u.stream;w=u.track;v=u.url;x=this.YHb(w,v);switch(x){case l.Li.audio:case l.Li.video:y=u.stream.Dc;break;case l.Li.pba:case l.Li.Mya:y=w.Dc;}q={bitrate:r && r.bitrate,hDb:x,Dc:y,Km:q.Km,uc:u.uc,url:v,wf:q.wf,tk:q.tk,sa:q.sa,aa:q.aa,Kxb:this.mFb(q)};void 0 !== u.offset && void 0 != u.length && (q.Ms=[u.offset,u.offset + u.length - 1]);return q;};c.prototype.YHb=function(q,u){if(q)return q.type;if(0 <= u.indexOf("netflix.com")){if(0 <= u.indexOf("nccp"))return "nccp";if(0 <= u.indexOf("api"))return "api";}return "other";};c.prototype.mFb=function(q){if(q.headers && (q=q.headers["X-TCP-Info"] || q.headers["x-tcp-info"]))return (q=q.split(";").filter(function(u){return 0 == u.indexOf("port=");}).map(function(u){return u.split("=")[1];})[0])?(0,m.Je)(q):q;};p=c;p=t.__decorate([(0,n.T)(),t.__param(0,(0,n.l)(a.bd))],p);b.QCa=p;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bS="LogblobMonitorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.KNa="XhrFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ha="NetworkMonitorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cEa="FtlDataParserSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VEa="HttpRequesterSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.MIa="PboAcquireLicenseCommandSymbol";},function(t,b,a){var d,f,h,k,n,p;function c(q){var u;q=new h.lR(q);if(1481462272 != q.Zq())throw Error("Invalid header");u={XMR:{Version:q.Zq(),RightsID:q.yx(16)}};g(q,u.XMR,q.buffer.length);return u;}function g(q,u,r){var w,v,x,y,z;for(;q.position < r;){w=q.Bh();v=q.Zq();v-=8;switch(w){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:l(w)};z=u[x];z?(0,p.isArray)(z)?z.push(y):(u[x]=[],u[x].push(z),u[x].push(y)):u[x]=y;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:g(q,y,q.position + v);break;case 5:y.Reserved1=q.Bh();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.Bh();y.MinimumAnalogVideoOutputProtectionLevel=q.Bh();y.Reserved2=q.Bh();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.Bh();break;case 10:y.Reserved=q.yx(16);y.SymmetricCipherType=q.Bh();y.AsymmetricCipherType=q.Bh();v=q.Bh();y.EncryptedKeyLength=v;w=q.yx(v);y.EncryptedKeyData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:y.SignatureType=q.yx(2);v=q.Bh();w=q.yx(v);y.SignatureData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:y.Reserved=q.Bh();break;case 18:y.BeginDate=q.Zq();y.EndDate=q.Zq();break;case 42:y.CurveType=q.yx(2);v=q.Bh();w=q.yx(v);y.Key=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:y.ExpireAfterFirstPlay=q.Zq();break;case 50:y.Sequence=q.Zq();break;case 51:y.LicenseProcessingIndicator=q.Bh();break;case 52:y.MinimumSecurityLevel=q.Bh();break;case 57:y.PlayEnablerType=m(q.yx(16));break;case 85:break;default:y.OtherData=q.yx(v);}}}function l(q){return "0x" + q.toString(16);}function m(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.TBb=b.UBb=b.SBb=b.RBb=b.QBb=void 0;d=a(12);f=a(8);h=a(168);k=a(160);n=a(285);p=a(17);b.QBb=function(q,u,r){switch(u){case d.R0:q && (q=(0,f.ISa)(q),(0,n.Oza)(q,function(w){w.aa && (w=w.object) && (w=(0,k.oZa)(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=(0,k.j7a)(w)) && (w=(0,f.Yr)(w)) && (w=c(w)) && r(w);}));}};b.RBb=c;b.SBb=g;b.UBb=l;b.TBb=m;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.AJa="PboReleaseLicenseCommandSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bJa="PboLicenseRequestTransformerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.SIa="PboCachedPlaydataSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eKa="PlaydataConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rea={dX:"keepAlive",splice:"splice"};b.YIa="PboEventSenderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tJa="PboPlaydataPlaybackMonitorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dDa="DxDisplaySymbol";},function(t,b,a){var g,l,m,d,f;function c(h,k,n){this.ce=h;this.is=k;this.prefix=n;this.JY=this.isVisible=!1;this.qb=new d.YMa(k);}Object.defineProperty(b,"__esModule",{value:!0});b.ES=b.kK=b.wBa=b.vBa=b.uBa=void 0;t=a(1);g=a(0);l=a(29);m=a(27);d=a(1154);f=a(11);b.uBa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.vBa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.wBa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.kK="";c.prototype.show=function(){this.isVisible || (this.syb(),this.KM && f.Be.body.appendChild(this.KM),this.Pg && f.Be.body.appendChild(this.Pg),this.BU && f.Be.body.appendChild(this.BU),this.DJ && f.Be.getElementsByTagName("head")[0].appendChild(this.DJ),this.isVisible=!0,this.refresh());};c.prototype.rs=function(){this.isVisible && (this.Pg && f.Be.body.removeChild(this.Pg),this.BU && f.Be.body.removeChild(this.BU),this.KM && f.Be.body.removeChild(this.KM),this.DJ && f.Be.getElementsByTagName("head")[0].removeChild(this.DJ),this.DJ=this.g_=this.KM=this.BU=this.Pg=void 0,this.isVisible=!1);};c.prototype.toggle=function(){this.isVisible?this.rs():this.show();};c.prototype.$2b=function(){(this.JY=!this.JY) || this.refresh();};c.prototype.yHb=function(h){return "table." + h + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}table.' + (h + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}table.") + (h + "-display-table tr:nth-child(2n+3) {background-color: #fff;}table.") + (h + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}table.") + (h + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}table.") + (h + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}span.") + (h + "-display-indexheader {margin-left:5px;}span.") + (h + "-display-indexvalue {margin-left:5px;}span.") + (h + "-display-keyheader {margin-left:5px;}span.") + (h + "-display-keyvalue {margin-left:5px;}span.") + (h + "-display-valueheader {margin-left:5px;}ul.") + (h + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}ul.") + (h + "-display-tree li {list-style-type: none; position: relative;}ul.") + (h + "-display-tree li ul {display: none;}ul.") + (h + "-display-tree li.open > ul {display: block;}ul.") + (h + "-display-tree li a {color: black;text-decoration: none;}ul.") + (h + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}ul.") + (h + "-display-tree li > a:not(:last-child):before {content: '+';}ul.") + (h + "-display-tree li.open > a:not(:last-child):before {content: '-';}div.") + (h + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}button.") + (h + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}select.") + (h + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}ul.") + (h + "-display-item-inline {margin:0;padding:0}.") + (h + "-display-btn:hover, ." + h + "-display-btn:focus, ." + h + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }button.") + (h + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}.") + (h + "-display-btn-inline:hover, ." + h + "-display-btn-inline:focus, ." + h + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};c.prototype.syb=function(){var h;h=this;this.DJ=f.Be.createElement("style");this.DJ.type="text/css";this.DJ.innerHTML=this.yHb(this.prefix);this.BU=this.ce.createElement("div",b.uBa,void 0,{"class":this.prefix + "-display-blur"});this.Pg=this.ce.createElement("div",b.vBa,void 0,{"class":this.prefix + "-display"});this.KM=this.ce.createElement("div",b.wBa,void 0,{"class":this.prefix + "-display"});this.iZa().forEach(function(k){return h.KM.appendChild(k);});};c.prototype.uyb=function(h){h=this.ce.createElement("div","",h,{"class":this.prefix + "-display-tree1"});for(var k=h.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"),n=0;n < k.length;n++){k[n].addEventListener("click",function(p){var q,u;if(p=p.target.parentElement){q=p.classList;if(q.contains("open")){q.remove("open");try{u=p.querySelectorAll(":scope .open");for(p=0;p < u.length;p++){u[p].classList.remove("open");}}catch(r){}}else q.add("open");}});}return h;};c.prototype.refresh=function(){var h;h=this;return !this.isVisible || this.JY?Promise.resolve():this.e9a().then(function(k){if(k && (k=h.uyb(k),h.Pg)){h.g_ && (h.Pg.removeChild(h.g_),h.g_=void 0);h.g_=k;h.Pg.appendChild(h.g_);k=h.Pg.querySelectorAll("button." + h.prefix + "-display-btn-inline");for(var n=0;n < k.length;++n){k[n].addEventListener("click",h.d$a);}(k=h.Pg.querySelector("#" + h.prefix + "-display-close-btn")) && k.addEventListener("click",function(){h.toggle();});}});};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.jg)),t.__param(1,(0,g.l)(m.hg)),t.__param(2,(0,g.$m)())],a);b.ES=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gDa="DxManagerSymbol";b.fDa="DxManagerProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qGa="LogDisplayConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.GNa="WindowUtilsSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.MJa="PlayPredictionDeserializerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PKa="PreparerManifestFetcherSymbol";b.OKa="PreparerLicenseFetcherSymbol";b.NKa="PreparerLegacyLicenseFetcherSymbol";},function(t,b,a){var g,l,m,d;function c(f){this.Qm=f;}Object.defineProperty(b,"__esModule",{value:!0});b.ofa=b.CKa=void 0;t=a(1);g=a(14);l=a(0);m=a(122);d=a(57);c.prototype.i4a=function(f){var h,k;h=this;if(f.Qd.key.ma)return Promise.resolve(f.Qd.key.ma);k=f.Qd.key.S;return f.Qd.jj.Em(k).sr.then(function(n){n=n.oa;return n.Fn?(0,d.wz)(n.Fn,{config:g.config}):(0,d.IE)(k,h.Qm.ls(k));});};a=c;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(m.QK))],a);b.CKa=a;b.ofa="PlaygraphResolverSymbol";},function(t,b){function a(c){this.Kja=void 0 === c?function(){}:c;this.YE=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.dga=void 0;a.prototype.store=function(c,g){c=this.generateKey(c);this.YE.has(c) && this.X5a(this.YE.get(c),!0);this.YE.set(c,g);};a.prototype.Em=function(c,g){var l,m;m=null === (l=null === g || void 0 === g?void 0:g.r4) || void 0 === l?void 0:l.Ti;l={S:c,Ti:m};m && !this.has(l) && this.Kja(c,g);return this.get(l);};a.prototype.has=function(c){c=this.generateKey(c);return this.YE.has(c) && !this.YE.get(c).hu;};a.prototype.clear=function(){var c;c=this;this.YE.forEach(function(g){c.X5a(g,!1);});this.YE.clear();};a.prototype.get=function(c){return this.YE.get(this.generateKey(c));};a.prototype.generateKey=function(c){var g;g=c.Ti;return c.S.toString() + (g?":" + g:"");};a.prototype.X5a=function(c,g){var l;null === (l=c.events) || void 0 === l?void 0:l.emit("viewableEvicted",{type:"viewableEvicted"});c.Cbb=g;};b.dga=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tHa="MediaHttpSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pIa="OpenConnectSideChannelSymbol";b.AHa="MediaRequestDownloaderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yHa="MediaRequestConstructorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WIa="PboDispatcherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WMa="TransportFactorySymbol";b.SHa="MslTransportSymbol";b.dMa="SslTransportSymbol";},function(t,b,a){var h,k;function c(n){return !(!n || !n.pE && !n.pboc || !n.code && !n.code);}function g(n){return !(!n || !n.Ec);}function l(n){return ! !(n instanceof Error);}function m(n){switch(n){case "ACCOUNT_ON_HOLD":return k.M.Rkb;case "STREAM_QUOTA_EXCEEDED":return k.M.Vkb;case "INSUFFICICENT_MATURITY":return k.M.$kb;case "TITLE_OUT_OF_WINDOW":return k.M.glb;case "CHOICE_MAP_ERROR":return k.M.Ukb;case "BadRequest":return k.M.blb;case "Invalid_SemVer_Format":return k.M.alb;case "RESTRICTED_TO_TESTERS":return k.M.elb;case "AGE_VERIFICATION_REQUIRED":return k.M.Skb;case "BLACKLISTED_IP":return k.M.Tkb;case "DEVICE_EOL_WARNING":return k.M.Hea;case "DEVICE_EOL_FINAL":return k.M.rIa;case "INCORRECT_PIN":return k.M.vIa;case "MOBILE_ONLY":return k.M.dlb;case "MDX_CONTROLLER_CTICKET_INVALID":return k.M.clb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return k.M.hlb;case "RESET_DEVICE":return k.M.uIa;case "RELOAD_DEVICE":return k.M.tIa;case "EXIT_DEVICE":return k.M.sIa;case "FREE_PREVIEW_ENDED":return k.M.Zkb;case "STREAMING_LOCATION_DISALLOWED":return k.M.flb;case "EXTRA_MEMBER_STREAM_HOLD":return k.M.Ykb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return k.M.Xkb;default:return k.M.iEa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new h.od(n,m(p.code),"BadRequest" === p.code?k.m1.xfb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function f(n,p){return new h.od(n,p.Ec,p.Nd,void 0,p.RA,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.hTa=b.iTa=b.FGb=b.JGb=b.Qn=b.IGb=b.vNb=b.qNb=b.p2a=void 0;h=a(41);k=a(3);b.p2a=c;b.qNb=g;b.vNb=l;b.IGb=m;b.Qn=function(n,p){return g(p)?f(n,p):c(p)?d(n,p):l(p)?h.od.Tna(n,p):new h.od(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.JGb=d;b.FGb=f;b.iTa=function(n,p,q,u,r){var w,v,x,y;w=p.H$a[q];if(void 0 === w)throw {pE:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};v=w.version;if(void 0 === v)throw {pE:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};x=w.service;if(void 0 === x)throw {pE:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};y=w.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {pE:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return w.isPlayApiDirect?n.AJb(u) + "/" + y + "/" + x + "/" + v:n.oJb(u) + "/" + y + "/" + x + "/" + v + "/" + (void 0 === r?"router":r);};b.hTa=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.uRa && p && (q["X-Esn"]=p.gl);return q;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.CJa="PboRequestFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cNa="TrickPlayManagerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pp=void 0;t=b.Pp || (b.Pp={});t[t.B1=0]="NOT_LOADED";t[t.LOADING=1]="LOADING";t[t.rF=2]="LOADED";t[t.WR=3]="LOAD_FAILED";t[t.qIa=4]="PARSE_FAILED";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.JAa="BandwidthMeterFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XJa="PlaybackInfoPanelFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nLa="RepositionTraceSymbol";b.lLa="RepositionTraceFactorySymbol";},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,O,N,P,S,U,Z,ja,ya,ra,Y,pa;function c(T,R,ea,sa,la,Ka,Ua,$a,Za,cb,Va,Qa,xa,Da,Na,Xa,hb,wb,Eb,Fb,Nb,Cb,Kb,Ub,mc,Ec,Md,se,Nd,gd,qc,ec,hc,Xb){var tb,Vc;function nc(qb){qb.newValue !== P.hb.Sf && qb.newValue !== P.hb.ph && (tb.Ab.removeListener(nc),tb.UH=tb.za.AZ,tb.Vb.Hc(P.ea.Vq));}function dc(qb){qb.newValue !== P.hb.Sf && (tb.Ab.removeListener(dc),tb.Pm=!0,tb.zY=tb.za.kf.da(F.la),tb.Vb.Hc(P.ea.Pm));}tb=this;this.lb=la;this.Ok=Ka;this.nA=Ua;this.Ea=Za;this.SC=cb;this.za=Va;this.wX=Qa;this.tsa=Na;this.vO=Xa;this.Gd=hb;this.Yh=wb;this.fj=Eb;this.rM=Fb;this.AY=Nb;this.Ak=Cb;this.Lya=Kb;this.ag=Ub;this.se=mc;this.Jua=Ec;this.Om=Md;this.w9a=se;this.uja=Nd;this.oI=gd;this.tua=qc;this.lM=ec;this.K4=hc;this.T7a=[];this.Su=new Map();this.tc=new u.ic(null);this.Ag=new u.ic(null);this.kc=new u.ic(null);this.Ri=new u.ic(null);this.tv=new u.ic(void 0);this.Ze=new u.ic(null);this.sh=new u.ic(null);this.mediaTime=new u.ic(void 0);this.playbackRate=new ra.aKa(1,r.config.Fsa);this.Zya=function(qb){return tb.tc.set(qb.newValue);};this.A4b=function(qb){return tb.Ag.set(qb.newValue);};this.x4b=function(qb){return tb.kc.set(qb.newValue);};this.Y3b=function(qb){return tb.Ri.set(qb.newValue);};this.w4b=function(qb){return tb.tv.set(qb.newValue);};this.z4b=function(qb){return tb.Ze.set(qb.newValue);};this.Z3b=function(qb){return tb.sh.set(qb.newValue);};this.o4b=function(qb){return tb.pe.set(qb.newValue);};this.n4b=function(qb){return tb.qf.set(qb.newValue);};this.k4b=function(qb){return tb.mediaTime.set(qb.newValue);};this.Hba=function(qb){return tb.playbackRate.set(qb.newValue);};this.zk={};this.ywa=this.Eya=0;this.Vb=new w.Rk();this.M_={};this.UZ=this.K7a=this.Pm=!1;this.state=new u.ic(P.Sb.MK);this.Fj=new u.ic(!1);this.paused=new u.ic(!1);this.muted=new u.ic(!1);this.volume=new u.ic(r.config.mCb / 100);this.Ab=new u.ic(P.hb.Sf);this.Ff=new u.ic(P.Cf.xd);this.Xr=new u.ic(P.Cf.xd);this.Ym=new u.ic(P.Cf.xd);this.qf=new u.ic(null);this.pe=new u.ic(null);this.kka=new u.ic(null);this.L7=(0,p.TEa)(this);this.uc=[new u.ic(null),new u.ic(null)];this.Tja={};this.eN=!1;this.Ua=this.Gk=-1;this.fpa=function(qb,Sb){var bc;qb=void 0 === qb?null:qb;return (0,I.Fa)(qb)?Sb && !tb.uk(Sb).oa?qb:(null === (bc=tb.Ia) || void 0 === bc?0:bc.li)?tb.Ia.Xt(qb):qb:null;};this.q6a=function(){tb.Pxa();};this.iD=T;this.addEventListener=this.Vb.addListener;this.removeEventListener=this.Vb.removeListener;this.fireEvent=this.Vb.Hc;this.Via({S:T,ha:sa,bb:ea || ({})},r.config.sx?this.Gd.fA(T):void 0,R);this.log=(0,D.Sh)(this);this.A5=$a(this);this.ivb=xa(this);this.Pg=(0,O.createElement)("DIV",q.zfa,void 0,{id:this.K});this.HMb();Vc=Da((0,F.Ch)(1));this.jd=this.log.Bla("Playback");this.xVb=(0,d.JJa)(this);y.iC.t5a=this;y.iC.Dna || (y.iC.Dna=this);this.jd.info("Playback created",this.Wh);this.$ra?this.jd.info("Playback selected for trace playback info logging"):this.jd.trace("Playback not selected for trace playback info logging");r.config.sx && (this.Gd.$Kb(this.K),this.addEventListener(P.ea.Vq,function(){tb.Gd.aLb(tb.K);tb.kc.addListener(function(){tb.Gd.p0a();});tb.tc.addListener(function(){tb.Gd.p0a();});}),this.addEventListener(P.ea.pg,function(){tb.Gd.ZKb(tb.K);}));this.state.addListener(function(qb){tb.jd.info("Playback state changed",{From:qb.oldValue,To:qb.newValue});(0,C.jb)(qb.newValue > qb.oldValue);});x.we.addListener(x.Ql,this.q6a,q.H1);this.mediaTime.addListener(function(){tb.eGb();Vc.Xl(function(){return tb.dYa();});});this.Ab.addListener(function(qb){tb.jd.info("PresentingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:(0,H.kj)(tb.mediaTime.value)},tb.Ku());});this.Ab.addListener(function(){tb.Fj.set(tb.Ab.value === P.hb.Lc);});this.Ff.addListener(function(qb){tb.jd.info("BufferingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:(0,H.kj)(tb.mediaTime.value)},tb.Ku());});this.Xr.addListener(function(qb){tb.jd.info("AV BufferingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:(0,H.kj)(tb.mediaTime.value)},tb.Ku());});this.Ym.addListener(function(qb){tb.jd.info("Text BufferingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:(0,H.kj)(tb.mediaTime.value)},tb.Ku());});this.tc.addListener(function(qb){(0,C.jb)(qb.newValue && qb.newValue.yi);tb.jd.info("AudioTrack changed",qb.newValue && ({ToBcp47:qb.newValue.Uf,To:qb.newValue.trackId}),qb.oldValue && ({FromBcp47:qb.oldValue.Uf,From:qb.oldValue.trackId}),{MediaTime:(0,H.kj)(tb.mediaTime.value)});});this.kc.addListener(function(qb){(0,C.jb)(!qb.newValue || qb.newValue.yi);tb.jd.info("TimedTextTrack changed",qb.newValue?{ToBcp47:qb.newValue.Uf,To:qb.newValue.trackId}:{To:"none"},qb.oldValue?{FromBcp47:qb.oldValue.Uf,From:qb.oldValue.trackId}:{From:"none"},{MediaTime:(0,H.kj)(tb.mediaTime.value)});});this.Ab.addListener(dc,q.HF);this.Ab.addListener(nc);this.addEventListener(P.ea.Vq,function(){tb.UZ=!0;tb.Zab=tb.IU();tb.Ed("start");tb.Z7=tb.pe.value.stream.bitrate;});(0,E.SJa)(this);y.zo.push(this);r.config.fZ && (this.F$=this.Jua(this),this.I$=new A.cKa(this));y.gfa.forEach(function(qb){qb(tb);});this.ntb=function(){tb.addEventListener(P.ea.$I,function(qb){var Sb;qb=qb.cause;qb !== P.Re.gy && qb !== P.Re.UK && (null === (Sb=tb.Ia) || void 0 === Sb?void 0:Sb.stop());});tb.addEventListener(P.ea.Fk,function(qb){var Sb,bc,uc,Wc,fc,vc,Od,Xc,hd,te;tb.w9a.Fk(qb);uc=qb.cause;Wc=qb.skip;fc=qb.T9;vc=qb.Tta;Od=qb.K;Xc=qb.mk;tb.ja.Tl.Fta(vc,fc);if(uc !== P.Re.UK && uc !== P.Re.gy)if(Wc){if(null !== (Sb=tb.Ia) && void 0 !== Sb && Sb.Ui(fc)){tb.jd.trace("Repositioned. Skipping from " + vc + " to " + fc);qb=function(Yb){tb.log.error("streamingSession.skipped threw an exception",Yb);Yb=S.od.Tna(G.N.Keb,Yb);tb.Wq(Yb.code,Yb);};try{tb.Ia.mo(fc).then(function(Yb){var Yc;Yb.eO || (null === (Yc=tb.Ia) || void 0 === Yc?void 0:Yc.play());}).catch(qb);}catch(Yb){qb(Yb);}}else tb.log.error("can skip returned false");}else {tb.jd.trace("Repositioned. Seeking from " + vc + " to " + fc);try{hd=tb.lb.h7(tb.ja);te=Object.keys(hd.V).find(function(Yb){var Yc;Yb=hd.V[Yb];return Yb.S === Od && Yb.Aa <= Xc && (null !== (Yc=Yb.Ca) && void 0 !== Yc?Yc:Infinity) > Xc;});null === (bc=tb.Ia) || void 0 === bc?void 0:bc.Rs(Xc,te);}catch(Yb){tb.log.error("streamingSession.seekByContentPts threw an exception",Yb);fc=S.od.Tna(G.N.Ieb,Yb);tb.Wq(fc.code,fc);}}});};this.playbackRate.addListener(function(){var qb,Sb;if(null === (qb=tb.Ia) || void 0 === qb?0:qb.li)null === (Sb=tb.Ia) || void 0 === Sb?void 0:Sb.Lua();});this.addEventListener(P.ea.nz,function(qb){var Sb;qb.cause == y.cfa && (tb.Ff.set(P.Cf.xd),null === (Sb=tb.Ia) || void 0 === Sb?void 0:Sb.po(tb.cg.AZa()));});Xb && (this.ja.oa=Xb,this.Ak.XZ(T,Xb));}Object.defineProperty(b,"__esModule",{value:!0});b.WJa=void 0;g=a(1);l=a(40);m=a(301);d=a(303);f=a(164);h=a(537);k=a(1202);n=a(1203);p=a(540);q=a(12);u=a(80);r=a(14);w=a(73);v=a(541);x=a(62);y=a(61);z=a(109);A=a(543);B=a(1206);E=a(547);D=a(8);F=a(5);G=a(3);C=a(22);H=a(93);K=a(24);M=a(63);I=a(17);Q=a(548);L=a(106);J=a(307);O=a(30);N=a(105);P=a(15);S=a(41);U=a(304);Z=a(550);ja=a(132);ya=a(1209);ra=a(1210);Y=a(57);pa=a(51);c.prototype.Ed=function(T,R){var ea;R=void 0 === R?this.iD:R;null === (ea=this.Su.get(R)) || void 0 === ea?void 0:ea.Ed(T);};c.prototype.oA=function(T){this.ja.oA(T);};c.prototype.Npa=function(){var T;return !(null === (T=this.Ia) || void 0 === T || !T.qg);};c.prototype.HMb=function(){var T;T=this;this.tc.addListener(function(R){return T.ja.tc.set(R.newValue);});this.Ag.addListener(function(R){return T.ja.Ag.set(R.newValue);});this.kc.addListener(function(R){return T.ja.kc.set(R.newValue);});this.Ri.addListener(function(R){return T.ja.Ri.set(R.newValue);});this.tv.addListener(function(R){return T.ja.tv.set(R.newValue);});this.Ze.addListener(function(R){return T.ja.Ze.set(R.newValue);});this.sh.addListener(function(R){return T.ja.sh.set(R.newValue);});this.pe.addListener(function(R){return T.ja.pe.set(R.newValue);});this.qf.addListener(function(R){return T.ja.qf.set(R.newValue);});this.uc[l.Ub.Wa.Yb].addListener(function(R){return T.ja.uc[l.Ub.Wa.Yb].set(R.newValue);});this.uc[l.Ub.Wa.Pb].addListener(function(R){return T.ja.uc[l.Ub.Wa.Pb].set(R.newValue);});this.mediaTime.addListener(function(R){return T.ja.mediaTime.set(R.newValue);});this.playbackRate.addListener(function(R){return T.ja.playbackRate.set(R.newValue);});this.b$a();};c.prototype.b$a=function(){var T;T=this;this.ja !== this.Vwa && (this.ja.mediaTime.set(this.mediaTime.value),this.ja.playbackRate.set(this.playbackRate.value),this.vr(function(R){return R.tc;},this.Zya),this.vr(function(R){return R.Ag;},this.A4b),this.vr(function(R){return R.tv;},this.w4b),this.vr(function(R){return R.kc;},this.x4b),this.vr(function(R){return R.Ri;},this.Y3b),this.vr(function(R){return R.Ze;},this.z4b),this.vr(function(R){return R.sh;},this.Z3b),this.vr(function(R){return R.qf;},this.n4b),this.vr(function(R){return R.pe;},this.o4b),this.vr(function(R){return R.uc[l.Ub.Wa.Yb];},function(R){return T.uc[l.Ub.Wa.Yb].set(R.newValue);}),this.vr(function(R){return R.uc[l.Ub.Wa.Pb];},function(R){return T.uc[l.Ub.Wa.Pb].set(R.newValue);}),this.vr(function(R){return R.mediaTime;},this.k4b),this.vr(function(R){return R.playbackRate;},this.Hba),this.kc.set(this.ja.kc.value),this.tc.set(this.ja.tc.value,{HRa:!0}),this.Ag.set(this.ja.Ag.value),this.Ri.set(this.ja.Ri.value),this.tv.set(this.ja.tv.value),this.Ze.set(this.ja.Ze.value),this.sh.set(this.ja.sh.value),this.Vwa=this.ja);};c.prototype.vr=function(T,R){this.Vwa && T(this.Vwa).removeListener(R);T(this.ja).addListener(R);};c.prototype.load=function(T){var R,ea;R=this;this.load=function(){};this.W7a=T;if(this.state.value == P.Sb.MK){this.jd.info("Playback loading",this);this.JSb();this.Ed("asl_load_start");ea=this.SC;T=ea.startTime;ea=ea.endTime;(0,I.$c)(T)?(0,I.$c)(ea)?this.Ed("asl_ended"):this.Ed("asl_in_progress"):this.Ed("asl_not_started");this.SC.tO(function(sa){R.Ed("asl_load_complete");sa.aa?R.vAb():R.Wq(sa.errorCode || G.N.Lda,sa);});}};c.prototype.$Vb=function(){var T;try{if(this.state.value === P.Sb.LOADING){T={width:1,height:1,eja:1};this.IH().forEach(function(R){T.width * T.height < R.width * R.height && (T.width=R.width,T.height=R.height,T.eja=R.eja);});this.JB=T;this.xw=this.rM.Ftb({XJ:(0,F.Nc)(this.$),K:this.K,E$:this.Az,bb:this.bb}).da(F.la);this.rja();this.uBb();}}catch(R){this.Wq(G.N.ejb,{sa:G.M.Qk,yb:(0,K.wd)(R)});}};c.prototype.lx=function(){var T,R;R=this.lb.h7(this);this.eVa(R);null === (T=this.Ia) || void 0 === T?void 0:T.GB(R);};c.prototype.CI=function(T){var R,ea;(0,C.jb)(this.Ia,"ASE should be initialized");ea=this.lb.rW(T);ea?T === this.lb.Yg?this.Ia.$r(ea,!0,!0) || this.DW(ea,{}):null === (R=this.Ia) || void 0 === R?void 0:R.Ei(T,ea,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.DW=function(T,R,ea){var sa,la,Ka,Ua,$a;sa=this;ea=void 0 === ea?!0:ea;Ua=this.lb.mf(T);if(this.fj.Lba && this.lb.ja.S === Ua.S)return Promise.resolve(this.cg.seek(Ua.Aa,P.Re.kC,void 0));Ua=this.Ok.SN(Ua.S);R=(0,L.t9)(Ua.zb,R);if(null === (la=this.Ia) || void 0 === la || !la.li)throw (this.log.debug("No streaming session. Aborting transition"),Error("No streaming session"));this.log.debug("going to next segment: " + this.lb.Yg + " -> " + T);this.DG("Transition " + this.lb.Yg + "->" + T);$a=this.uk(T);$a.Zm=this.Ea.$b().da(F.la);$a.bb=R;return "seamless" !== (null !== (Ka=this.lb.mf(T).ae) && void 0 !== Ka?Ka:"seamless") || ea?(this.Ia.JN(T).uM?this.MKb(T,$a.K):this.uZ(T,$a.K)).then(function(){sa.wGb($a.K);}):Promise.resolve();};c.prototype.uZ=function(T,R){var ea;ea=this.lb.rl.V[T].Aa;this.log.debug("Segment is not pre-buffered - performing a regular seek");this.DG("NO DATA " + T + ", SEEKING " + ea + ", viewableId: " + R);return Promise.resolve(this.cg.seek(ea,P.Re.kC,T,!0));};c.prototype.MKb=function(T,R){var ea,sa,la,Ka,Ua;ea=this;sa=this.Ia;if(null === sa || void 0 === sa || !sa.li)throw Error("No streaming session");la=new Promise(function($a){function Za(){ea.log.debug("Stopped ASE");sa.removeEventListener("stop",Za);$a();}sa.addEventListener("stop",Za);});Ka=!1;Ua=new Promise(function($a){function Za(Va){ea.log.debug("Repositioned");ea.removeEventListener(P.ea.Fk,Za);Ka=Va.skip;$a();}function cb(){ea.log.debug("Repositioning");ea.removeEventListener(P.ea.$I,cb);sa.stop();}ea.addEventListener(P.ea.$I,cb);ea.addEventListener(P.ea.Fk,Za);});la=Promise.all([la,Ua]).then(function(){var $a;$a=!1;Ka && ($a=sa.$r(T,!1,!0));if(!$a)return (ea.DG("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),ea.uZ(T,R));});Ua=sa.LM(T,this.lb.rl.V[T].Aa);this.log.debug("Calling seek on internal player to " + Ua);this.cg.seek(Ua,P.Re.UK,T,!0);return la;};c.prototype.Via=function(T,R,ea){var sa,la,Ka,Ua,$a;R=void 0 === R?this.nA.Cz():R;ea=void 0 === ea?this.Ea.$b():ea;la=! !r.config.Vdb && !(R % r.config.Vdb);Ka=T.S;Ua=T.ha;$a=T.bb;T=T.rj;this.Su.has(Ka)?this.Su.get(Ka):(R=this.AY(y.iC.index++,Ka,Ua,$a,R,ea,la,this.ja,this.fpa,this.Npa,T),this.Su.set(Ka,R),1 < this.Su.size && (R.rX=this.vO.create(this,R,!1)),R.DO=new z.DHa(this,R),null === (sa=this.Ia) || void 0 === sa?void 0:sa.aV(R.ha,{ca:R.ca,Fs:R.Lg}));};c.prototype.VAb=function(T,R,ea){var sa;sa={s8:!0,zi:!1,uQ:Date.now()};(0,C.jb)(R.r4,"Auxiliary viewable config request options must have auxiliary options");R=R.r4;this.Via({rj:{Ti:R.Ti,hua:this.Ai,oY:R.oY},bb:sa,ha:"custom-ident-" + T,S:T},ea);};c.prototype.zD=function(T){if(!this.Su.has(T))throw Error("Playback segment not found: " + T);return this.Su.get(T);};c.prototype.uk=function(T){var ea,sa,la,Ka,Ua,$a;function R(Za){for(var cb=ba(ea.eP),Va=cb.next();!Va.done;Va=cb.next()){if((Va=Va.value,Va.ha === Za))return Va;}}ea=this;$a=R(T);return $a?$a:(null === (la=null === (sa=this.Ia) || void 0 === sa?void 0:sa.qg) || void 0 === la?0:la.V[T]) && (sa=null === (Ka=this.Ia) || void 0 === Ka?void 0:Ka.qg.V[T].ei) && this.lb.rB(sa)?(Ka=this.lb.mf(sa).S,T=null === (Ua=this.Ia) || void 0 === Ua?void 0:Ua.qg.V[T].S,Ka === T && ($a=R(sa)),null !== $a && void 0 !== $a?$a:this.zD(T)):this.ja;};c.prototype.EJb=function(T){for(var R,ea,sa=ba(this.eP),la=sa.next();!la.done;la=sa.next()){if((la=la.value,(null === (ea=null === (R=la.uf) || void 0 === R?void 0:R.Mb) || void 0 === ea?void 0:ea.sessionId) === T))return la;}return this.ja;};c.prototype.Ava=function(T){var R,ea;R=this;ea=T.K;this.Ok.J_b(ea);return this.zZ(T).then(function(sa){R.mva(sa,T);return (T.ZH?R.ac.Rl.x9a(T):Promise.resolve()).then(function(){return R.Ok.S$a(ea);});}).catch(function(sa){R.log.error("queueManifest failed",sa);R.Ok.I_b(ea,sa);throw R.Yh(sa.code,sa);});};c.prototype.jHb=function(){if((0,I.Fa)(this.Tc.ats) && (0,I.Fa)(this.Tc.at))return this.Tc.at - this.Tc.ats;};c.prototype.UYa=function(){var T,R;T=this.K_();R=this.mU();return Math.min(T,R);};c.prototype.bQ=function(){this.background || (this.jd.info("Starting inactivity monitor for movie " + this.K),new v.xFa(this));};c.prototype.close=function(T){T && (this.state.value == P.Sb.CLOSED?T():this.addEventListener(P.ea.closed,function(){T();}));this.Pxa();};c.prototype.Ld=function(T,R,ea){T=this.Yh(T,R,ea);this.TG(T,void 0);};c.prototype.TG=function(T,R){var ea,sa,la,Ka;ea=this;T.dab(this.Pm);if(this.state.value == P.Sb.MK)this.Ph || (this.Ph=T,this.load());else {R && (this.state.value == P.Sb.CLOSED?R():this.addEventListener(P.ea.closed,function(){R();}));sa=function(){ea.Pxa(T);};la=r.config.TVa && T && r.config.TVa[T.errorCode];Ka=-1;(0,I.wA)(la) && (Ka=(0,K.Je)(la));this.jd.error("Fatal playback error",{Error:"" + T,HandleDelay:"" + la});0 <= Ka?setTimeout(sa,Ka):sa();}};c.prototype.DG=function(T){var R;R=void 0 === R?this.ha:R;this.T7a.push(this.Ea.$b().da(F.la) + "-" + R + "-" + T);};c.prototype.oGb=function(){this.dYa();};c.prototype.Voa=function(){var T;if(null === (T=this.Ia) || void 0 === T?0:T.li)if((T=this.Ia.Tn().id,void 0 !== T))return T;return null;};c.prototype.AD=function(){var T,R;R=null === (T=this.Ia) || void 0 === T?void 0:T.li;return void 0 === this.ja.VU || R?this.fpa(this.mediaTime.value):this.ja.VU;};c.prototype.Uoa=function(){var T;T=this.fpa(this.cg.AZa());return null === T?null:Math.min(this.Az.da(F.la),Math.max(0,T));};c.prototype.eW=function(){var T,R;return null === (R=null === (T=this.oa) || void 0 === T?void 0:T.Nb.Fn) || void 0 === R?void 0:R.V;};c.prototype.Gba=function(T){this.bb=(0,L.t9)(this.bb,T);this.rja();};c.prototype.eHb=function(){return this.tc.value?this.tc.value.streams:[];};c.prototype.IH=function(T){T=void 0 === T?this.K:T;return (T=this.zD(T).Ag) && T.value?T.value.streams:[];};c.prototype.gLb=function(T){for(var R=ba(this.eP),ea=R.next();!ea.done;ea=R.next()){if(ea=(ea=ea.value.tj) && ea.find(function(sa){return sa.id === T;}))return ea;}};c.prototype.nWb=function(T){T=void 0 === T?this.ja:T;T.kc.value?this.pr.kWb(T.kc.value):Promise.resolve();};c.prototype.q0a=function(T){for(var R=ba(this.eP),ea=R.next();!ea.done;ea=R.next()){ea=ba(ea.value.Si);for(var sa=ea.next();!sa.done;sa=ea.next()){if(sa=sa.value.streams.find(function(la){return la.Dc === T;}))return sa;}}};c.prototype.C0a=function(T){for(var R=ba(this.eP),ea=R.next();!ea.done;ea=R.next()){ea=ba(ea.value.Ep);for(var sa=ea.next();!sa.done;sa=ea.next()){if(sa=(sa=sa.value) && sa.streams.find(function(la){return la.Dc === T;}))return sa;}}};c.prototype.Zt=function(){var T,R,ea;return null !== (ea=null === (R=null === (T=this.I$) || void 0 === T?void 0:T.XU) || void 0 === R?void 0:R.call(T)) && void 0 !== ea?ea:this.FAb().rD;};c.prototype.mab=function(T){var R,ea;null !== (R=this.Ia) && void 0 !== R && R.li && this.Su.has(T) && ((null === (ea=this.I$) || void 0 === ea?0:ea.XU)?this.I$.Zcb():(R=this.Hla(T),this.Ia.gr(R,T)));};c.prototype.eOb=function(){return "trailer" === this.Wd;};c.prototype.mNb=function(){return ! !this.Wd && 0 <= this.Wd.indexOf("billboard");};c.prototype.lOb=function(){return ! !this.Wd && 0 <= this.Wd.indexOf("video-merch");};c.prototype.JNb=function(){return ! !this.Wd && 0 <= this.Wd.indexOf("mini-modal");};c.prototype.nO=function(){return this.eOb() || this.mNb() || this.lOb() || this.JNb();};c.prototype.N6=function(){var la,Ka,Ua;if(this.Ep){for(var T,R=0;R < this.Ep.length;R++){for(var ea=this.Ep[R],sa=0;sa < ea.streams.length;sa++){la=ea.streams[sa];if((0,I.Fa)(la.Ila) && (0,I.Fa)(la.i5) && (0,I.Fa)(la.h5) && (0,I.Fa)(la.g5) && (0 < la.Ila || 0 < la.i5)){Ka=1;Ua=1;(0,I.Fa)(la.B7a) && (0,I.Fa)(la.C7a) && (Ka=la.B7a,Ua=la.C7a);la=la.g5 * Ua / (la.h5 * Ka);T=(0,I.Fa)(T)?Math.min(T,la):la;}}}return T;}};c.prototype.VJb=function(){return {tr:this.Eya,rt:this.ywa};};c.prototype.bA=function(T){return this.zk[T];};c.prototype.pka=function(){return this.Zm?this.Ea.$b().da(F.la) - this.Zm:this.za.kf.da(F.la) - this.xH();};c.prototype.IU=function(){var T;if(this.Zm)return this.Ea.$b().da(F.la) - this.Zm;T=this.Ea.zA;return this.zY - (this.dj.da(F.la) + T.da(F.la));};c.prototype.rka=function(){return this.Zm?this.Ea.$b().da(F.la) - this.Zm:this.zY - this.xH();};c.prototype.CSb=function(T){var R,ea;R=this.loadTime;ea={};(0,K.ve)(T,function(sa,la){ea[sa]=la.map(function(Ka){return Ka - R;});});return ea;};c.prototype.rHb=function(){var T,R;T=this.loadTime;R={};(0,K.ve)(this.Tja,function(ea,sa){R[ea]=sa.map(function(la){return la - T;});});return h.ww?{level:h.ww.XZa(),charging:h.ww.koa(),statuses:R}:null;};c.prototype.q7=function(){this.cYa();return this.M_;};c.prototype.xH=function(){var T;T=this.bb.uQ;T=(0,I.Fa)(T)?T:this.dj.da(F.la) + this.Ea.zA.da(F.la);(0,C.jb)((0,I.vA)(T));return T;};c.prototype.$oa=function(){return this.Ea.$b().da(F.la) - this.dj.da(F.la);};c.prototype.nab=function(T,R){this.M_[T]=R;};c.prototype.E5b=function(){this.I0b=!0;};c.prototype.c$=function(){this.g9a();};c.prototype.K_=function(){var T;T=this.h4();return T && T.vbuflmsec || 0;};c.prototype.mU=function(){var T;T=this.h4();return T && T.abuflmsec || 0;};c.prototype.wza=function(){var T;T=this.h4();return T && T.vbuflbytes || 0;};c.prototype.Aja=function(){var T;T=this.h4();return T && T.abuflbytes || 0;};c.prototype.zZ=function(T,R,ea){var sa,la,Ka,Ua;sa=this;T=void 0 === T?this.ja:T;ea=void 0 === ea?!0:ea;la=! !R;Ka=!la && T !== this.ja;Ua=r.config.$$.enabled?N.ln.Ulb:Ka?N.ln.JF:this.nO()?N.ln.Y1:N.ln.Mp;la=this.nO() || la?void 0:this.ac.Rl.Z6(Ka);return this.Ak.GN({ca:T.ca,bb:T.bb,S:T.K,ou:Ua,$f:la,vba:R,rj:T.rj},ea).then(function($a){$a.i2a && sa.fireEvent(P.ea.oX,{K:T.K});return $a;});};c.prototype.mva=function(T,R,ea){var sa,la,Ka;R=void 0 === R?this.ja:R;ea=void 0 === ea?!1:ea;if(R.bb.zi && !T.Nb.Fn)this.Ld(G.N.qfb);else {sa=this.wX.create(this);la=! !(R.rj && R.rj.Ti && R.rj.v$);if(ea){Ka=sa.aMb(R.oa,R.Uc,T);T=Ka.oa;Ka=Ka.Uc;}else (T=la?sa.HZb(T,null === (Ka=R.rj) || void 0 === Ka?void 0:Ka.v$):T,Ka=sa.i7a(T));R.oa=T;R.Uc=Ka;ea || (R.Ag.set(Ka.w5),R.tc.set(Ka.hV),R.kc.set(Ka.jV));}};c.prototype.wGb=function(T){this.mJ(T,!1);};c.prototype.t0a=function(T,R){if(!this.fj.sza)return !0;T=this.Uu.da(F.la) - T;return 0 > T || T > R;};c.prototype.oZb=function(){this.cg.seek(this.AD() || 0,P.Re.W0);};c.prototype.X0a=function(T,R){var ea,sa;ea=this;sa=this.ja;sa.C5=!0;return this.zZ(sa,{hua:sa.Ai,aZb:T,dZb:R},!1).then(function(la){var Ka;ea.mva(la,sa,!0);ea.Ak.XZ(sa.K,sa.oa);return null === (Ka=ea.Ia) || void 0 === Ka?void 0:Ka.Ox(ea.S7a);}).then(function(){var la,Ka;la=sa.Si.find(function(Ua){return Ua.trackId === T;});Ka=sa.bi.find(function(Ua){return Ua.trackId === R;});if(!(la && la.yi && Ka && Ka.yi))throw Error("Track hydration failed: requiredAudioTrackId=" + T + " requiredTextTrackId=" + R);ea.fireEvent(P.ea.zcb);return {tc:la,k_:Ka};});};c.prototype.mJ=function(T,R){var ea,sa;if(this.iP){if(T === this.iD){this.iP=T;return;}ea=this.zD(T);sa=ea.oa;sa && (0,I.$c)(sa.aJ) && (0,I.$c)(sa.zP) && ea.oA({pr_ats:sa.aJ,pr_at:sa.zP});this.fireEvent(P.ea.ssa,{K:this.iD});this.iD=T;this.rja();R || this.b$a();this.UH=this.za.AZ;this.ja.Zm || (this.ja.Zm=this.Ea.$b().da(F.la));}("boolean" === typeof this.bb.iN?this.bb.iN:r.config.iN) && !R && this.Lya.iN(this);R={K:T,l8:R,iP:this.iP};this.iP=T;this.fireEvent(P.ea.hI,R);};c.prototype.vAb=function(){try{this.ac=new k.rHa(this);this.Y4=new U.bCa(this);this.rX=this.vO.create(this,this.ja,!0);r.config.Hwb && new Z.SDa(this,this.ag,this.log);r.config.LU && this.LU(this);this.f5b();}catch(T){this.Wq(G.N.djb,{sa:G.M.Qk,yb:(0,K.wd)(T)});}};c.prototype.f5b=function(){this.Ph?this.TG(this.Ph):(0,I.ara)(this.K)?this.gxb():this.Wq(G.N.Qib,{yb:"" + this.K});};c.prototype.gxb=function(){var T;T=m.AJ.K$a;T?T.aa?this.Zka():this.Wq(G.N.tFa,T):((0,C.jb)(!r.config.S5),this.Jia());};c.prototype.Zka=function(){var T;T=this;!this.background && r.config.Zka?(0,y.ffa)(function(){T.Jia();},this):this.Jia();};c.prototype.Jia=function(){var T;T=this;this.state.value == P.Sb.LOADING && (r.config.Qma && !this.nO()?m.AJ.$y(y.RJa,function(R){R.aa?(T.S8=R.S8,r.config.Haa?T.Hja():T.axa()):T.Wq(G.N.sFa);},!0):r.config.Haa?this.Hja():this.axa());};c.prototype.axa=function(){var T;T=this;this.state.value == P.Sb.LOADING && (this.Ed("ic"),this.xVb.j_b(function(R){R.error && T.log.error("Error sending persisted playdata",(0,G.Fv)(R));try{T.Hja();}catch(ea){T.log.error("playback.authorize threw an exception",ea);T.Wq(G.N.Ueb,{sa:G.M.Qk,yb:(0,K.wd)(ea)});}}));};c.prototype.Hja=function(){var T,R,ea;T=this;if(this.state.value == P.Sb.LOADING){this.log.info("Authorizing",this);R=this.Ea.$b().da(F.la);this.Ed("ats");(0,C.TM)(this.K);(0,C.TM)(this.Nj);ea=this.YWb.bind(this,R);Promise.all([this.oa,r.config.sx && this.Ak.Kpa(this.K)?this.Ak.K6(this.K).catch(function(){}):void 0]).then(function(sa){var la,Ka;la=ba(sa);sa=la.next().value;la=la.next().value;sa && la?Ka=la.Nb.expiration > sa.Nb.expiration?la:sa:sa?Ka=sa:la && (Ka=la);Ka && 18E5 > Ka.Nb.expiration - (0,pa.Q4)() && (Ka=void 0);return Ka?(T.NG=Ka === sa?"ui":"videopreparer",Ka):T.zZ();}).then(function(sa){try{T.mva(sa);ea(q.af);T.K7a || (T.K7a=!0,T.tua.yp(T));}catch(la){T.log.error("Exception processing authorization response",la);ea({aa:!1,sa:G.M.Flb});}}).catch(ea);}};c.prototype.YWb=function(T,R){var ea,sa;ea=this;if(this.state.value == P.Sb.LOADING){this.Ed("at");sa=this.oa;this.oA({pr_ats:sa && (0,I.$c)(sa.aJ)?sa.aJ:T,pr_at:sa && (0,I.$c)(sa.zP)?sa.zP:this.Ea.$b().da(F.la)});R.aa?0 < this.Uc.tj.length && this.Uc.hV && this.Uc.w5 && this.Uc.jV?this.W7a?(this.log.info("Processing post-authorize",this),this.W7a(this,function(la){la.aa?ea.cdb():ea.Wq(G.N.ijb,la);})):this.cdb():this.Wq(G.N.HGa,this.tsa(this.Uc)):this.Wq(G.N.FK,R);}};c.prototype.cdb=function(){var T,R;g.__awaiter(this,void 0,void 0,function sa(){var la;la=this;return Ja(sa,function(Ka){if(la.state.value != P.Sb.LOADING)return Ka.return();(null === (T=la.ja.oa) || void 0 === T?0:T.Nb.Fn) && la.lb.reset((0,Y.wz)(null === (R=la.ja.oa) || void 0 === R?void 0:R.Nb.Fn,{config:r.config}));la.Ia=la.uja(la.lb,la);la.Ia.m0b({Pt:f.Pt,config:r.config,se:la.se,jd:la.jd,Ku:la.Ku.bind(la),aj:D.aj,EZ:la.EZ.bind(la),mJ:la.mJ.bind(la)});la.$Vb();Ka.yI=0;});});};c.prototype.uBb=function(){var T,R,ea,sa,la,Ka,Ua;T=this;try{if(this.state.value === P.Sb.LOADING){this.ac.open();R=new Promise(function($a){T.ac.addEventListener(J.Uj.Tab,$a);});this.cg=new Q.wHa(this);ea=this.Uc.hV.yl === ja.Op.NONE;sa={XE:this.Uc.hV.Jq || ea};la={ca:this.ca,Fs:this.Lg,Qz:this.Qz};try{if(this.state.value !== P.Sb.LOADING)return;Ka=this.Ia;Ka.a8({flags:sa,Fw:la,ha:this.S7a,Hla:this.Hla.bind(this)});Ua=this.lb.h7(this);this.eVa(Ua);Ka.GB(Ua);this.ntb();Ka.uvb({zk:this.zk,loadTime:this.loadTime});}catch($a){throw (this.log.error("Failed to initialize ASE streaming",{error:$a,startPts:this.$,flags:sa}),$a);}R.then(function(){var $a;T.state.value !== P.Sb.CLOSING && T.state.value !== P.Sb.CLOSED && (null === ($a=T.Ia) || void 0 === $a?void 0:$a.open());});this.mediaTime.set(this.$);this.pr=new n.NMa(this);if("boolean" === typeof this.bb.haa?this.bb.haa:r.config.haa)this.o_=new B.OMa(this);this.bQ();y.hfa.forEach(function($a){$a(T);});this.ISb();}}catch($a){this.Wq(G.N.fjb,{sa:G.M.Qk,yb:(0,K.wd)($a)});}};c.prototype.JSb=function(){(0,C.jb)(this.state.value == P.Sb.MK);this.loadTime=this.Ea.$b().da(F.la);this.state.set(P.Sb.LOADING);};c.prototype.Wq=function(T,R){this.done || (this.done=!0,R instanceof S.od?this.Ld(R.code,R):this.Ld(T,R));};c.prototype.LU=function(T){var ea,sa;function R(){var la,Ka;la=h.ww.koa() + "";Ka=T.Tja[la];Ka || (Ka=T.Tja[la]=[]);Ka.push(ea.Ea.$b().da(F.la));ea.log.trace("charging change event",{level:h.ww.XZa(),charging:h.ww.koa()});}ea=this;sa=h.ww.Zfb;h.ww.addEventListener(sa,R);T.addEventListener(P.ea.pg,function(){h.ww.removeEventListener(sa,R);});};c.prototype.Pxa=function(T){var R,ea;R=this;if(this.state.value == P.Sb.MK || this.state.value == P.Sb.LOADING || this.state.value == P.Sb.te){this.jd.info("Playback closing",this,T?{ErrorCode:T.E5}:void 0);this.DG("Closing");x.we.removeListener(x.Ql,this.q6a);this.Ph=T;this.ja.VU=this.AD();this.cYa();(null === (ea=this.Ia) || void 0 === ea?0:ea.li) && this.Ia.flush();try{this.Vb.Hc(P.ea.pg,{movieId:this.iD});}catch(sa){this.jd.error("Unable to fire playback closing event",sa);}this.state.set(P.Sb.CLOSING);this.Heb();this.I0b || (0,M.Wf)(function(){return R.g9a();});}};c.prototype.eGb=function(){this.Vb.Hc(P.ea.Xcb);};c.prototype.dYa=function(){var T;T=this.mediaTime.value;this.UOb != T && (!1,this.UOb=T,this.Vb.Hc(P.ea.vya));};c.prototype.g9a=function(){var T,R;T=this;(0,C.jb)(this.state.value == P.Sb.CLOSING);R=this.S8;this.S8=void 0;R?m.AJ.release(R,function(ea){(0,C.jb)(ea.aa);T.fla();}):this.fla();};c.prototype.Heb=function(){var T;null === (T=this.Ia) || void 0 === T?void 0:T.fd();delete this.Ia;};c.prototype.fla=function(){var T;this.fla=q.Bl;(0,C.jb)(this.state.value == P.Sb.CLOSING);T=y.zo.indexOf(this);(0,C.jb)(0 <= T);y.zo.splice(T,1);this.state.set(P.Sb.CLOSED);this.Vb.Hc(P.ea.closed,void 0,!0);this.Vb.Oh();delete this.uf;this.ja.c$();};c.prototype.rja=function(){this.bb.playbackState && ("number" === typeof this.bb.playbackState.volume && this.volume.set((0,H.Kp)(this.bb.playbackState.volume,0,1)),"boolean" === typeof this.bb.playbackState.muted && this.muted.set(this.bb.playbackState.muted),"number" === typeof this.bb.playbackState.playbackRate && this.playbackRate.set(this.bb.playbackState.playbackRate));};c.prototype.cYa=function(){this.Vb.Hc(P.ea.Bab,{M_:this.M_});};c.prototype.EZ=function(T,R,ea){var sa;T=this.uk(T);sa=T.tj.filter(function(la){return la.id === R;})[0];sa && T.uc[ea].set(sa);};c.prototype.Ku=function(){return {AudioBufferLength:this.mU(),VideoBufferLength:this.K_()};};c.prototype.h4=function(){var T;if(null === (T=this.Ia) || void 0 === T?0:T.li)return this.Ia.b8(!1);};c.prototype.ISb=function(){this.state.value == P.Sb.LOADING && this.state.set(P.Sb.te);};c.prototype.FAb=function(){var T,R,ea;T=void 0 === T?this.K:T;R=this.IH(T);ea=this.zD(T);return (0,ya.Zt)(R,function(sa){return ea.DO.pv(sa);});};c.prototype.Hla=function(T){var R,ea;T=void 0 === T?this.K:T;R=this.IH(T);ea=this.zD(T);return (0,ya.g0a)(R,function(sa){return ea.DO.pv(sa);});};c.prototype.eVa=function(T){var R;R=this;Object.keys(T.V).filter(function(ea){return !R.Su.has(T.V[ea].S);}).forEach(function(ea){var sa,la,Ka;la=T.V[ea];Ka=la.S;la=Object.assign(null !== (sa=R.Ok.SN(Ka).zb) && void 0 !== sa?sa:{},{$:la.Aa,La:la.Ca,zi:!1,uQ:Date.now(),s8:!0});R.Via({S:Ka,ha:ea,bb:la});});};Ya.Object.defineProperties(c.prototype,{eP:{configurable:!0,enumerable:!0,get:function(){return this.Su.values();}},ja:{configurable:!0,enumerable:!0,get:function(){return this.Su.get(this.iD);}},$:{configurable:!0,enumerable:!0,get:function(){var T,R;return void 0 !== this.xw?this.xw:null !== (R=null === (T=this.eP.next()) || void 0 === T?void 0:T.value.bb.$) && void 0 !== R?R:0;}},Uc:{configurable:!0,enumerable:!0,get:function(){return this.ja.Uc;},set:function(T){this.ja.Uc=T;}},t6:{configurable:!0,enumerable:!0,get:function(){return this.ja.bb.t6;}},u6:{configurable:!0,enumerable:!0,get:function(){return this.ja.bb.u6;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ja.index;}},ha:{configurable:!0,enumerable:!0,get:function(){return this.ja.ha;}},S7a:{configurable:!0,enumerable:!0,get:function(){return this.lb.tza?this.lb.Yg:this.ja.ha;}},uf:{configurable:!0,enumerable:!0,get:function(){return this.ja.uf;},set:function(T){this.ja.uf=T;}},Zm:{configurable:!0,enumerable:!0,get:function(){return this.ja.Zm;},set:function(T){this.ja.Zm=T;}},NG:{configurable:!0,enumerable:!0,get:function(){return this.ja.NG;},set:function(T){this.ja.NG=T;}},MG:{configurable:!0,enumerable:!0,get:function(){return this.ja.MG;},set:function(T){this.ja.MG=T;}},Z7:{configurable:!0,enumerable:!0,get:function(){return this.ja.Z7;},set:function(T){this.ja.Z7=T;}},oa:{configurable:!0,enumerable:!0,get:function(){return this.ja.oa;},set:function(T){this.ja.oa=T;}},xw:{configurable:!0,enumerable:!0,get:function(){return this.ja.xw;},set:function(T){this.ja.xw=T;}},e_:{configurable:!0,enumerable:!0,get:function(){return this.ja.e_;},set:function(T){this.ja.e_=T;}},bb:{configurable:!0,enumerable:!0,get:function(){return this.ja.bb;},set:function(T){this.ja.bb=T;}},rX:{configurable:!0,enumerable:!0,get:function(){return this.ja.rX;},set:function(T){this.ja.rX=T;}},Tl:{configurable:!0,enumerable:!0,get:function(){return this.ja.Tl;}},K:{configurable:!0,enumerable:!0,get:function(){return this.ja.K;}},Wd:{configurable:!0,enumerable:!0,get:function(){return this.ja.Wd;}},Si:{configurable:!0,enumerable:!0,get:function(){return this.ja.Si;}},Ep:{configurable:!0,enumerable:!0,get:function(){return this.ja.Ep;}},DB:{configurable:!0,enumerable:!0,get:function(){return this.ja.DB;}},bi:{configurable:!0,enumerable:!0,get:function(){return this.ja.bi;}},Ai:{configurable:!0,enumerable:!0,get:function(){return this.ja.Ai;}},ZH:{configurable:!0,enumerable:!0,get:function(){return this.ja.ZH;}},cv:{configurable:!0,enumerable:!0,get:function(){return this.ja.cv;}},Am:{configurable:!0,enumerable:!0,get:function(){return this.ja.Am;}},tj:{configurable:!0,enumerable:!0,get:function(){return this.ja.tj;}},Az:{configurable:!0,enumerable:!0,get:function(){return this.ja.Az;},set:function(T){this.ja.Az=T;}},ca:{configurable:!0,enumerable:!0,get:function(){return this.ja.ca;}},Nj:{configurable:!0,enumerable:!0,get:function(){return this.ja.Nj;}},dj:{configurable:!0,enumerable:!0,get:function(){return this.ja.dj;}},UH:{configurable:!0,enumerable:!0,get:function(){return this.ja.UH;},set:function(T){this.ja.UH=T;}},Lg:{configurable:!0,enumerable:!0,get:function(){return this.ja.Lg;}},qJ:{configurable:!0,enumerable:!0,get:function(){return this.ja.qJ;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ja.background;},set:function(T){this.ja.background=T;}},k5:{configurable:!0,enumerable:!0,get:function(){return this.ja.k5;}},Tc:{configurable:!0,enumerable:!0,get:function(){return this.ja.Tc;}},hq:{configurable:!0,enumerable:!0,get:function(){return this.ja.hq;}},Dma:{configurable:!0,enumerable:!0,get:function(){return this.ja.Dma;}},DO:{configurable:!0,enumerable:!0,get:function(){return this.ja.DO;}},Qz:{configurable:!0,enumerable:!0,get:function(){return 0 !== r.config.J5 && 0 === this.ja.ca % r.config.J5;}},C5:{configurable:!0,enumerable:!0,get:function(){return this.ja.C5;}},Wh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.K,TrackingId:this.Nj,Xid:this.ca};}},O$:{configurable:!0,enumerable:!0,get:function(){return this.lb.O$;}}});b.WJa=c;},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});b.kbb=void 0;c=a(12);g=a(8);l=a(3);a(24);b.kbb=function(m){var d;(0,g.aj)("Storage");d={};m({aa:!0,storage:{load:function(f,h){var k;if(d.hasOwnProperty(f)){k=d[f];!1;h({aa:!0,data:k,$aa:f});}else (!1,h({sa:l.M.mC}));},save:function(f,h,k,n){k && d.hasOwnProperty(f)?n({aa:!1}):(d[f]=h,!1,n && n({aa:!0,$aa:f}));},remove:function(f,h){delete d[f];!1;h && h(c.af);}}});};},function(t,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.ibb=void 0;c=a(8);g=a(79);l=a(29);m=a(535);b.ibb=function(d){c.pa.get(g.SB).create().then(function(f){d({aa:!0,storage:new m.Yda(f,c.pa.get(l.jg))});}).catch(function(f){d(f);});};},function(t,b){function a(c,g){this.uw=c;this.se=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Yda=void 0;a.prototype.load=function(c,g){var l;l=this;this.uw.load(c).then(function(m){g && g(a.Abb(m));}).catch(function(m){g && g(l.Wma(c,m));});};a.prototype.save=function(c,g,l,m){var d;d=this;this.uw.save(c,g,l).then(function(){m && m(a.Abb({key:c,value:g}));}).catch(function(f){m && m(d.Wma(c,f));});};a.prototype.remove=function(c,g){var l;l=this;this.uw.remove(c).then(function(){g && g({aa:!0,$aa:c});}).catch(function(m){g && g(l.Wma(c,m));});};a.Abb=function(c){return {aa:!0,data:c.value,$aa:c.key};};a.prototype.Wma=function(c,g){return {aa:!1,$aa:c,sa:g.sa,yb:g.cause?this.se.wd(g.cause):void 0};};b.Yda=a;},function(t,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.jbb=void 0;c=a(535);g=a(8);l=a(466);m=a(29);b.jbb=function(d){d({aa:!0,storage:new c.Yda(g.pa.get(l.kGa),g.pa.get(m.jg))});};},function(t,b,a){var c,g,l,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.ww=void 0;c=a(12);g=a(14);t=a(3);l=a(8);m=a(30);d=a(11);f=a(31);h=a(17);k=a(65);n=a(5);a=l.pa.get(f.mh);p=l.pa.get(k.ty);a.register(t.N.cFa,function(q){var v,x;function u(){q(c.af);u=m.Bl;}function r(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(z){if(!(0,h.kd)(y[z]))throw z + " is not a function";});}function w(){return Promise.resolve().then(function(){var y;y=d.Qe.getBattery();if(!(0,h.kd)(y.then))throw "getBattery did not return a promise";return y;});}v=(0,l.aj)("BatteryManager");b.ww={Zfb:"chargingchange",XZa:function(){return x?x.level:null;},koa:function(){return x?x.charging:null;},addEventListener:function(y,z){x && x.addEventListener(y,z);},removeEventListener:function(y,z){x && x.removeEventListener(y,z);}};g.config.LU && (0,h.kd)(d.Qe.getBattery)?p.cr((0,n.Nc)(g.config.qHb),w()).then(function(y){r(y);x=y;}).catch(function(y){v.error("getBattery failed",y);}).then(u):u();});},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eGa="LicenseBrokerFactorySymbol";},function(t,b){function a(c,g){var l;l=this;this.k_a=c;this.o6a=g;this.Bya=!1;this.VO=function(){l.Ap=void 0;l.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.PMa=void 0;a.prototype.update=function(c){var g,l,m,d,f;m=this.k_a();if(this.vdb !== m){d=null === (l=null === (g=this.mp) || void 0 === g?void 0:g.yH(m)) || void 0 === l?void 0:l[0];if(d && ("startTime" in d))if(d.startTime <= m && m <= d.endTime){f=d;this.jdb(d.endTime - m);}else this.jdb(d.startTime - m);this.vdb=m;this.Lia !== f && (this.Lia=f,!c && this.o6a && this.o6a());}};a.prototype.start=function(){this.Bya=!0;this.update();};a.prototype.Z$a=function(c){this.mp=c;this.Lia=this.vdb=void 0;c || this.stop();};a.prototype.stop=function(){this.Bya=!1;this.Ys();};a.prototype.ZGb=function(){this.update(!0);return this.Lia;};a.prototype.jdb=function(c){this.Ys();this.Bya && 0 < c && (this.Ap=setTimeout(this.VO,c + a.rkb));};a.prototype.Ys=function(){this.Ap && (clearTimeout(this.Ap),this.Ap=void 0);};b.PMa=a;a.rkb=10;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.TEa=void 0;c=a(15);g=a(74);b.TEa=function(l){function m(d){l.fireEvent(c.ea.hH,{response:d,K:l.ja.K});}return {download:function(d,f){d.j=l;d=g.nf.download(d,f);d.Nia(m);return d;}};};},function(t,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.xFa=void 0;c=a(14);g=a(51);l=a(3);m=a(542);d=a(11);f=a(17);h=a(15);k=a(8);n=a(211);b.xFa=function(p){var u,r,w,v;function q(){p.state.value !== h.Sb.te || p.Ab.value !== h.hb.ph && p.Ab.value !== h.hb.yr?r.Ys():r.pH();}u=c.config.ZUb;if(!p.nO() && u){r=k.pa.get(n.i2)(u,function(){p.fireEvent(h.ea.ZN,l.N.I1);});p.Ab.addListener(q);p.state.addListener(q);if(c.config.nqa){w=(0,g.kk)();v=new m.eLa(c.config.nqa,function(){var x,y;x=(0,g.kk)();y=x - w;y > u && (p.fireEvent(h.ea.ZN,l.N.n1),v.UTa());y > 2 * c.config.nqa && (p.oqa=(0,d.xo)(y,p.oqa || 0));w=x;});v.f0b();}p.addEventListener(h.ea.pg,function(){r.Ys();(0,f.$c)(v) && v.UTa();});}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eLa=void 0;b.eLa=function(a,c){var g;this.f0b=function(){g || (g=setInterval(c,a));};this.UTa=function(){g && (clearInterval(g),g=void 0);};};},function(t,b,a){var g,l,m,d,f,h,k;function c(n){var p,q,u,r;p=this;this.j=n;this.XU=void 0;this.Rga=(0,m.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Gga=(0,m.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.vga=(0,m.createElement)("DIV","width:100%;text-align:center");this.Anb=this.Iga("Audio Bitrate");this.Dia=this.Iga("Video Bitrate");this.yga=this.Iga("CDN");this.AT={};this.AW=d.pa.get(f.jn);this.Rga.appendChild(this.Gga);this.Gga.appendChild(this.vga);q=(0,m.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.unb.bind(this),!1);this.vga.appendChild(q);q=(0,m.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.Hrb.bind(this),!1);this.vga.appendChild(q);u=this.Pqb.bind(this);l.we.addListener(l.FD,u);n.addEventListener(k.ea.hI,function(){p.AT={};});n.addEventListener(k.ea.pg,function(){l.we.removeListener(l.FD,u);});r=this.urb.bind(this);n.uc.forEach(function(w){w.addListener(r);});n.tc.addListener(r);n.Ag.addListener(r);}Object.defineProperty(b,"__esModule",{value:!0});b.cKa=void 0;g=a(40);l=a(62);m=a(30);d=a(8);f=a(42);h=a(135);k=a(15);c.prototype.show=function(){this.YT || (this.iQa(),document.body.appendChild(this.Rga),this.YT=!0);};c.prototype.rs=function(){this.YT && (document.body.removeChild(this.Rga),this.YT=!1);};c.prototype.toggle=function(){this.YT?this.rs():this.show();};c.prototype.Zcb=function(){var q,u,r,w;function n(v,x,y){var z,A,B;A=[];x.filter(function(E){return E.Kg === v;}).forEach(function(E){0 <= y.indexOf(E)?(void 0 === B?B=E.bitrate:z=E.bitrate,void 0 === z && (z=E.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(v,x,y){var z;z=[];x.filter(function(A){return A.Kg === v;}).forEach(function(A){-1 === y.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}u=this.j.Zt();r=this.j.IH().sort(function(v,x){return v.bitrate - x.bitrate;});w=r.reduce(function(v,x){0 > v.indexOf(x.Kg) && v.push(x.Kg);return v;},[]).map(function(v){return {profile:v,ranges:n(v,r,u),disallowed:p(v,r,u)};});!1;null === (q=this.j.Ia) || void 0 === q?void 0:q.gr(w,this.j.K);};c.prototype.unb=function(){var q,u;this.AT={};for(var n=this.Dia.options,p=n.length;p--;){q=n[p];q.selected && (this.AT[q.value]=1);}this.XU=this.Znb.bind(this);this.Zcb();if(n=this.j.tj){u=this.yga.value;n=n.filter(function(r){return r.id == u;})[0];p=this.j.uc[g.Ub.Wa.Pb].value;n && n != p && (n.yTa={testreason:"streammanager",selreason:"userselection"},this.j.uc[g.Ub.Wa.Pb].set(n));}this.rs();};c.prototype.Hrb=function(){this.XU=void 0;this.j.mab(this.j.K);this.rs();};c.prototype.Znb=function(){var n;n=this;return this.j.IH().filter(function(p){return n.AT[p.bitrate];});};c.prototype.iQa=function(){var n,p,q,u;n=this;p=this.j.tc.value;q=this.j.Ag.value;u=this.j.tj;p && (u=u.slice(),u.sort(function(r,w){return r.ec - w.ec;}),this.mia(this.Anb,p.streams.map(function(r){return {value:r.bitrate,caption:r.bitrate,selected:r == n.j.sh.value};})));q && (this.mia(this.Dia,q.streams.map(function(r){var w,v;w=n.j.DO.pv(r);r=r.bitrate;v="" + r;w && (v+=" (" + w.join("|") + ")");return {value:r,caption:v,selected:n.XU?n.AT[r]:!w};})),this.Dia.removeAttribute("disabled"));u && (this.mia(this.yga,u.map(function(r){return {value:r.id,caption:"[" + r.id + "] " + r.name,selected:r == n.j.uc[g.Ub.Wa.Pb].value};})),this.yga.removeAttribute("disabled"));};c.prototype.urb=function(){this.YT && this.iQa();};c.prototype.Iga=function(n){var p,q;p=(0,m.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,m.createElement)("DIV",void 0,n);q=(0,m.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.Gga.appendChild(p);return q;};c.prototype.mia=function(n,p){n.innerHTML="";p.forEach(function(q){var u;u={title:q.caption};q.selected && (u.selected="selected");u=(0,m.createElement)("option",void 0,q.caption,u);u.value=q.value;n.appendChild(u);});};c.prototype.Pqb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == h.Gv.emb && this.AW.jra && this.toggle();};b.cKa=c;},function(t,b,a){var g,l,m,d,f;function c(h,k){this.Ina=h;this.lH={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,g.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.T$a(k);this.lYa=this.oIb(this.Ina);}Object.defineProperty(b,"__esModule",{value:!0});b.MMa=void 0;g=a(30);l=a(545);m=a(546);d=a(11);f=a(24);c.prototype.Sn=function(){return this.element;};c.prototype.v_b=function(h){this.wja=h;};c.prototype.F_b=function(h){this.entry=h;this.tP();};c.prototype.M_b=function(h){this.T$a(h);this.tP();};c.prototype.tP=function(){var h,k,n,p,q,u,r,w,v,x,y,A,B,E;h=this;k=this.Sn();n=k.parentElement;p=n && n.clientWidth || 0;q=n && n.clientHeight || 0;u=n=0;r={width:p,height:q};if(0 < p && 0 < q && this.entry){this.wja && (r=(0,g.tN)(p,q,this.wja),n=Math.round((p - r.width) / 2),u=Math.round((q - r.height) / 2));v=this.rwb(r);x=(0,g.tN)(v.width,v.height,this.wja);v=(w=this.entry.blocks) && w.map(function(D){var F;F=(0,m.Sma)(D,x,h.Ina,h.lYa);D=(0,m.nXa)(D) + ";position:absolute";return (0,g.createElement)("div",D,F,c.$ca);});}Object.assign(this.lH,{left:n + "px",right:n + "px",top:u + "px",bottom:u + "px"});k.style.display="none";k.style.direction=this.lH.direction;k.innerHTML="";if(v && v.length){p=r.width;n=r.height;y=r;this.CU && (y=this.Msb(r,this.CU,q,u));this.lH.margin=this.Ds?this.G4(r,"top") + "px " + this.G4(r,"right") + "px " + this.G4(r,"bottom") + "px " + this.G4(r,"left") + "px ":void 0;v.forEach(function(D){return k.appendChild(D);});q=(0,g.$G)(this.lH);k.style.cssText=q + ";visibility:hidden;z-index:-1";u=[];for(var z=v.length - 1;0 <= z;z--){A=v[z];B=w[z];E=this.Q5a(A,B,p,n);E.width > p && (A.innerHTML=(0,m.Sma)(B,r,this.Ina,this.lYa,p / E.width),E=this.Q5a(A,B,p,n));u[z]=E;}u=(0,l.Pcb)(u,y);if(z=w && w[0] && w[0].textNodes && w[0].textNodes[0] && w[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (A=Math.round(n / 50),r=(0,m.pXa)(w,u,A,y,r),r=(0,g.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,r,c.$ca),k.insertBefore(r,k.firstChild)));k.style.display="none";for(r=u.length - 1;0 <= r;r--){z=u[r];y=v[r].style;A=w[r].region;z=(0,m.oXa)(A,z,p,n,0);Object.assign(y,z);}k.style.cssText=q;}};c.prototype.uxa=function(h){this.CU=h;this.tP();};c.prototype.upa=function(){return this.CU;};c.prototype.vxa=function(h){this.Ds=h;this.tP();};c.prototype.vpa=function(){return this.Ds;};c.prototype.wpa=function(){return "block" === this.lH.display;};c.prototype.wxa=function(h){var k;k=h?"block":"none";this.element.style.display=k;this.lH.display=k;h && this.tP();};c.prototype.oIb=function(h){var k,n;k=this;n={};(0,f.ve)(h,function(p,q){n[p]=k.gRb(q);});return n;};c.prototype.T$a=function(h){this.lH.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.G4=function(h,k){if(this.Ds){if("left" === k || "right" === k)return h.width * (this.Ds[k] || 0);if("top" === k || "bottom" === k)return h.height * (this.Ds[k] || 0);}return 0;};c.prototype.rwb=function(h){return this.Ds?{height:h.height * (1 - (this.Ds.top || 0) - (this.Ds.bottom || 0)),width:h.width * (1 - (this.Ds.left || 0) - (this.Ds.right || 0))}:h;};c.prototype.gRb=function(h){var k;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,g.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.$ca);d.Be.body.appendChild(h);k={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};d.Be.body.removeChild(h);return k;};c.prototype.Q5a=function(h,k,n,p){var q,u,r,w,v;q=k.region;u=(q.marginTop || 0) * p;r=(q.marginBottom || 0) * p;w=(q.marginLeft || 0) * n;v=(q.marginRight || 0) * n;k=h.clientWidth || 1;h=h.clientHeight || 1;switch(q.verticalAlignment){case "top":p=u;break;case "center":p=(u + p - r - h) / 2;break;default:p=p - r - h;}switch(q.horizontalAlignment){case "left":n=w;break;case "right":n=n - v - k;break;default:n=(w + n - v - k) / 2;}return {top:p,left:n,width:k,height:h};};c.prototype.Msb=function(h,k,n,p){return {height:n - Math.max(p,k.bottom || 0) - Math.max(p,k.top || 0),width:h.width};};b.MMa=c;c.$ca={"class":"player-timedtext-text-container"};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Pcb=void 0;c=a(11);b.Pcb=function(g,l){function m(h,k,n){var r,v,x,y,z;if(h && 1 < h.length){for(var p=[],q=[],u=0;u < h.length;u++){p[u]=0;q[u]=0;}r=!1;for(u=0;u < h.length;u++){for(var w=u + 1;w < h.length;w++){v=h[u];x=h[w];if(0 > v.width || 0 > x.width || x.left > v.left + v.width || x.left + x.width < v.left || x.top > v.top + v.height?0:x.top + x.height >= v.top){y=(0,c.xo)(v.left,x.left);z=(0,c.xo)(v.top,x.top);y={width:(0,c.xo)((0,c.Jp)(v.left + v.width,x.left + x.width) - y,0),height:(0,c.xo)((0,c.Jp)(v.top + v.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,v=d(h[u]),x=d(h[w]),z && k || !z && !k))(y=(0,c.xo)(y.width / 2,.25),v.x <= x.x?(q[u]-=y,q[w]+=y):(q[w]-=y,q[u]+=y));else if(z && !k || !z && k)(v=(0,c.xo)(y.height / 2,.25),p[u]-=v,p[w]+=v);}}for(u=0;u < h.length;u++){if(-.25 > q[u] && 0 <= h[u].left + q[u] || .25 < q[u] && h[u].left + h[u].width + q[u] <= n.width)(h[u].left+=q[u],r=!0);if(-.25 > p[u] && 0 <= h[u].top + p[u] || .25 < p[u] && h[u].top + h[u].height + p[u] <= n.height)(h[u].top+=p[u],r=!0);}return r;}}function d(h){return {x:h.left + h.width / 2,y:h.top + h.height / 2};}g=g.map(function(h){return {top:h.top,left:h.left,width:h.width,height:h.height};});(function(h,k){h.forEach(function(n){0 > n.left && n.left + n.width < k.width?n.left+=(0,c.Jp)(-n.left,k.width - (n.left + n.width)):n.left + n.width > k.width && 0 < n.left && (n.left-=(0,c.Jp)(n.left + n.width - k.width,n.left));0 > n.top && n.top + n.height < k.height?n.top+=(0,c.Jp)(-n.top,k.height - (n.top + n.height)):n.top + n.height > k.height && 0 < n.top && (n.top-=(0,c.Jp)(n.top + n.height - k.height,n.top));});})(g,l);for(var f=0;50 > f && m(g,!0,l);f++){;}for(f=0;50 > f && m(g,!1,l);f++){;}return g;};},function(t,b,a){var f,h,k;function c(n,p,q,u,r){var w;w={};"right" == n.horizontalAlignment?w.right=100 * (q - p.left - p.width - r) / q + "%":w.left=100 * (p.left - r) / q + "%";"bottom" == n.verticalAlignment?w.bottom=100 * (u - p.top - p.height - r) / u + "%":w.top=100 * (p.top - r) / u + "%";return w;}function g(n,p){var q;if(n && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return n.width / n.fontSize / q;}}function l(n,p,q,u,r){var w,v;w=n.style;v=(0,h.KW)(n.text);for(n=n.lineBreaks;n--;){v="<br />" + v;}return m(v,w,p,q,u,r);}function m(n,p,q,u,r,w){var v;v=p.characterStyle;r=r[v];v=0 <= v.indexOf("MONOSPACE")?g(r,p.cellResolution) || r.lineHeight:r.lineHeight;u=p.characterSize * u.height / (v || 1);u=0 < w?(0,k.bC)(u * w):(0,k.Tj)(u);w={"font-size":u + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (w["font-style"]="italic");p.characterUnderline && (w["text-decoration"]="underline");p.characterColor && (w.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (w["background-color"]=d(p.backgroundColor,p.backgroundOpacity));u=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":w["text-shadow"]=u + " 0px 0px 7px";break;case "UNIFORM":w["text-shadow"]="-1px 0px " + u + ",0px 1px " + u + ",1px 0px " + u + ",0px -1px " + u;break;case "RAISED":w["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":w["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}w=(0,f.$G)(w);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (w+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (n='<span style="opacity:' + p + '">' + n + "</span>");return '<span style="' + w + '">' + n + "</span>";}function d(n,p){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.nXa=b.QEb=b.OEb=b.REb=b.PEb=b.oXa=b.pXa=b.Sma=void 0;f=a(49);h=a(24);k=a(11);b.Sma=function(n,p,q,u,r){var w;w="";n.textNodes.forEach(function(v){w+=l(v,q,p,u,r);});return w;};b.pXa=function(n,p,q,u,r){var w,v,y,z,A;w="";v=r.width;r=r.height;for(var x=p.length;x--;){y=p[x];z=n[x];z=z && z.region;A="position:absolute;background:" + u + ";width:" + (0,k.Tj)(y.width + 2 * q) + "px;height:" + (0,k.Tj)(y.height + 2 * q) + "px;";y=c(z,y,v,r,q);(0,h.ve)(y,function(B,E){A+=B + ":" + E + ";";});w+='<div style="' + A + '"></div>';}return w;};b.oXa=c;b.PEb=g;b.REb=l;b.OEb=m;b.QEb=d;b.nXa=function(n){var p;p={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,f.$G)(p);};},function(t,b,a){var c,g,l,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.SJa=void 0;c=a(12);g=a(14);l=a(51);m=a(93);d=a(11);f=a(63);h=a(17);k=a(15);b.SJa=function(n){var r,w,v,x,y,z;function p(){return n.state.value === k.Sb.LOADING || n.state.value === k.Sb.te && n.Ab.value === k.hb.Sf;}function q(){p()?z || (z=setInterval(u,100)):z && (clearInterval(z),z=void 0,(0,f.Wf)(u));}function u(){var A,B,E,D,F,G,C,H;A=(0,l.kk)();B=r.value;E=B?B.progress:0;D=n.state.value == k.Sb.LOADING || p() && A - w > g.config.Uvb;if(D && n.state.value == k.Sb.te){if(n.Ff.value === k.Cf.yLa)(F=E,G=!0);else {C=A;v=v || A;x=x || v + g.config.JRb + 1;(0,h.Fa)(C) && (C=(0,d.xo)(C,x),F=(0,d.Tj)(1E3 * (0,m.Kp)((A - v) / (C - v),0,.99)) / 1E3);}if(F < E)if(E - F < g.config.eXb / 100)(F=E,y=void 0);else if(y){if(A - y > g.config.dXb){H=!0;y=void 0;}else F=E;}else (y=A,F=E);}else y=x=v=void 0;A=D?{Xs:G,progress:F,fXb:H}:null;(!A || !r || !B || (0,h.Fa)(A.progress) && !(0,h.Fa)(B.progress) || (0,h.Fa)(A.progress) && (0,h.Fa)(B.progress) && .01 < (0,d.xF)(A.progress - B.progress) || A.Xs !== B.Xs) && r.set(A);}r=n.kka;w=0;n.state.addListener(function(){q();u();},c.H1);n.Ab.addListener(function(A){if(A.oldValue !== k.hb.Sf || A.newValue !== k.hb.Sf)w=(0,l.kk)();q();});n.Ff.addListener(function(){q();});n.Xr.addListener(function(){q();});n.Ym.addListener(function(){q();});z || (z=setInterval(u,100));};},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M;function c(I){var Q;Q=this;this.j=I;this.ac=this.j.ac;this.log=(0,n.Sh)(this.j,"MediaPresenterASE");this.Q9=this.o5=0;this.Z=this.ac.Z;this.E7a=this.v7a=this.u8=this.Kua=!1;this.l2b=n.pa.get(E.WK)((0,B.Nc)(z.W1));this.lM=void 0;this.xp=n.pa.get(F.GLa)(this.j);this.Qx={};this.R4a={};this.BW={};this.wg=new C.iHa(this.j);this.j2b=function(){var L,J,O;Q.j.e_=(0,k.kk)();if(!Q.vk() && Q.Un){L=Q.ac.O_a();L || (Q.hVb(),Q.wg.Oya(Q.mediaTime));Q.j.paused.value || !Q.wg.Yla(Q.mediaTime) || !Q.hka() || L || Q.xp.Yqa?Q.Dwa():Q.Kua || Q.Ewa();Q.gVb();if(!Q.ac.O_a() && !Q.u8){L=Q.ac.hW(!0);J=Q.j.Ab.value;O=Q.eyb();J !== O && !1;O === x.hb.yr?(Q.mediaTime=Q.j.Uu.da(B.la),Q.Dwa()):O !== x.hb.Sf && Q.l4b(L);Q.ndb();Q.wg.Fka(Q.mediaTime);Q.j.Ab.set(O);O !== x.hb.Sf || J !== x.hb.Lc && J !== x.hb.ph || Q.VTb();}}};this.Yl=(0,G.t8a)(this.j2b);this.mediaTime=I.$;this.j.si=!1;this.ac.addEventListener(A.Uj.Sab,function(){Q.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{Q.Eb();}catch(L){Q.log.error("Exception while initializing",L);Q.Ld(p.N.mlb);}});}Object.defineProperty(b,"__esModule",{value:!0});b.wHa=void 0;g=a(40);l=a(12);m=a(14);d=a(61);f=a(62);h=a(49);k=a(51);n=a(8);a(104);p=a(3);q=a(336);u=a(22);r=a(93);w=a(30);v=a(63);x=a(15);y=a(17);z=a(171);A=a(307);B=a(5);E=a(115);D=a(211);F=a(549);G=a(1207);C=a(1208);H=a(266);K=a(210);M=a(11);c.prototype.AZa=function(){return this.ac.hW(!1);};c.prototype.R6=function(){return this.ac.R6();};c.prototype.wD=function(){return this.ac.wD();};c.prototype.zH=function(){return this.ac.zH();};c.prototype.gW=function(){return this.ac.gW();};c.prototype.Eb=function(){var I;I=this;this.log.trace("Video element initializing");this.ac.sourceBuffers.forEach(function(Q){return I.wg.a0b(Q);});this.IMb(this.j.ZH);};c.prototype.IMb=function(I){var Q,L;Q=this;I?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.K}),null === (L=this.j.Ia) || void 0 === L?void 0:L.Oz(this.j.K));this.log.trace("Waiting for loadedmetadata");this.ac.addEventListener(A.Uj.o3a,function(J){var O;J=J.S;Q.j.Ed("ld",J);null === (O=Q.j.Ia) || void 0 === O?void 0:O.Oz(J);Q.j.fireEvent(x.ea.l3a);});(0,h.rRa)(this.Z,"loadedmetadata",function(){Q.log.trace("Video element event: loadedmetadata");Q.j.Ed("md");});f.we.addListener(f.Ql,this.BW[f.Ql]=function(){return Q.close();},l.HF);this.j.addEventListener(x.ea.pg,function(){return Q.close();},l.HF);this.j.addEventListener(x.ea.k$a,function(){return Q.Ewa();});this.j.addEventListener(x.ea.hI,function(){return Q.HTb();});this.j.paused.addListener(function(){return Q.Yl();});this.j.muted.addListener(function(){return Q.jza();});this.j.volume.addListener(function(){return Q.jza();});this.j.playbackRate.addListener(function(){return Q.Hba();});this.j.Xr.addListener(function(){return Q.Yl();});this.j.Ym.addListener(function(){return Q.Yl();});this.jza();this.Hba();this.wg.Naa(function(){return Q.n9();});this.n9();this.C3b();};c.prototype.b4=function(I){var Q;Q=this;!1;this.wg.cub(I);this.Rwb(I).then(function(){Q.n9();Q.j.fireEvent(x.ea.m9);}).catch(function(L){Q.Ld(p.N.qlb,{yb:(0,w.wd)(L)});});};c.prototype.nja=function(I,Q,L){L=void 0 === L?{}:L;Q=this.MDb(I,Q);this.wg.aub(I,Q,L);this.n9();this.v7a || I.type !== g.Ub.Al.Pb || (this.xp.Yqa || this.seek(this.j.$,x.Re.gy),this.v7a=!0);};c.prototype.C3b=function(){var I;I=this;this.ac.addEventListener(A.Uj.vZ,this.Qx[A.Uj.vZ]=function(){return I.$Tb();});this.ac.addEventListener(A.Uj.pq,this.Qx[A.Uj.pq]=function(){return I.g$();});this.Z.addEventListener("ended",this.Qx.ended=function(){return I.CTb();});this.Z.addEventListener("play",this.Qx.play=function(){return I.MTb();});this.Z.addEventListener("pause",this.Qx.pause=function(){return I.KTb();});this.Z.addEventListener("playing",this.Qx.playing=function(){return I.STb();});this.Un=!0;this.wg.Oya(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Ed("vi");m.config.UVa?setTimeout(function(){I.Sta=!0;I.Yl();},m.config.UVa):this.Sta=!0;this.g1b();(0,v.Wf)(function(){return I.Yl();});};c.prototype.g1b=function(){var L;function I(){var J;L.j.Ab.value !== x.hb.Lc || 0 !== (null === (J=L.j.cg) || void 0 === J?void 0:J.R6()) || M.Be.hidden?(L.P5a.Ys(),J="stopTimer"):(L.P5a.pH(),J="ensureTimer");L.log.trace("No render timer update: " + J,{presentingState:x.hb[L.j.Ab.value],hidden:M.Be.hidden});}function Q(J){var O,N;J=void 0 === J?!0:J;O=L.j.Ia;N=(null === O || void 0 === O?void 0:O.li) && O.B7();L.j.Ab.value == x.hb.Sf && L.j.state.value == x.Sb.te && L.j.Xr.value == x.Cf.te && L.j.Ym.value == x.Cf.te && !L.j.si && N?(J && L.q5.Ys(),L.q5.pH(),O="ensureTimer"):(L.q5.Ys(),O="stopTimer");L.log.trace("Timer update: " + O,{presentingState:x.hb[L.j.Ab.value],playbackState:x.Sb[L.j.state.value],avBufferingState:x.Cf[L.j.Xr.value],textBufferingState:x.Cf[L.j.Ym.value],autoplayWasBlocked:L.j.si,hasLicense:N,restartTimer:J});}L=this;m.config.JVa && ((0,u.jb)(!this.q5),this.q5=n.pa.get(D.i2)(m.config.JVa,function(){var J;J=n.pa.get(q.kda).dWa(L.j);L.Ld(J.code,J);}),this.j.Ab.addListener(function(){return Q();}),this.j.Xr.addListener(function(){return Q();}),this.j.Ym.addListener(function(){return Q();}),this.j.state.addListener(function(){return Q();}),this.j.addEventListener(x.ea.l3a,function(){return Q();}),this.j.addEventListener(x.ea.si,function(){return Q();}),this.j.addEventListener(x.ea.Jja,function(){return Q();}),this.j.addEventListener(x.ea.$I,function(){return Q(!0);}),Q());m.config.O5a && (this.P5a=n.pa.get(D.i2)(m.config.O5a,function(){var J;0 === (null === (J=L.j.cg) || void 0 === J?void 0:J.wD()) && (J=n.pa.get(q.kda).dWa(L.j),L.Ld(J.code,J));L.j.Ab.removeListener(I);f.we.removeListener(f.ns,L.BW[f.ns]);}),this.j.Ab.addListener(I),f.we.addListener(f.ns,this.BW[f.ns]=I),I());};c.prototype.MDb=function(I,Q){var L;L=this.j.uf;(L=(0,K.Mqa)(L)?L.FN():void 0) && I.type === g.Ub.Al.Pb && ((I=new H.BK(this.log,{mediaType:H.Vj.Pb,url:"http://some-url"},Q).ya(L))?Q=I:!1);return Q;};c.prototype.n9=function(){this.Un?this.Yl():m.config.bub && this.wg.Oya(this.mediaTime);this.wg.FTa();};c.prototype.m1b=function(){!1;this.j.Ab.set(x.hb.Sf);this.u8=!0;this.Yl();};c.prototype.ayb=function(){var I;I=this;this.u8 && (!1,this.u8=!1,(0,v.Wf)(function(){return I.USb();}));};c.prototype.I6=function(){return this.wg.I6();};c.prototype.USb=function(){var I,Q;I=this.j.AD() || 0;if(this.j.bb.zi){if(m.config.Hvb){I=I - (this.ac.Swa + 1) - m.config.Rwa;Q=this.j.Ia.Tn().gd;I=Math.max(I,Q);}}else (I-=m.config.VZb,I=Math.max(I,this.xp.Cra));this.seek(I,x.Re.g2);};c.prototype.d$=function(I){var Q;Q=this;this.wg.c0b(I);(0,v.Wf)(function(){return Q.Yl();});};c.prototype.HIb=function(){return {o5:this.o5,Q9:this.Q9};};c.prototype.Rwb=function(I){var Q;Q=this.ac && this.ac.j_a();this.j.Uu && Q && Infinity !== I.u$a && (I=I.u$a + I.dv,I > this.j.Uu.Z7a(B.la) && (this.j.Uu=(0,B.Nc)(I)));return Promise.resolve();};c.prototype.gVb=function(){var I;I=this;this.xp.A$ && (!1,this.hka() && this.wg.Yla(this.mediaTime) && (this.ac.seek(this.mediaTime),this.xp.A$=!1,(0,v.Wf)(function(){return I.Yl();})));};c.prototype.l4b=function(I){var Q;if(I < this.mediaTime){Q=this.mediaTime - I;m.config.iVb && I && Q > z.W1 && (I={ElementTime:(0,r.kj)(I),MediaTime:(0,r.kj)(this.mediaTime)},Q > z.aLa?this.Ld(p.N.Alb,{yb:Object.assign({Trace:this.ac.CD()},I)}):this.log.warn("VIDEO.currentTime became smaller",I));}else this.mediaTime=(0,r.Kp)(I,0,this.j.Uu.da(B.la));};c.prototype.hka=function(){return this.j.Xr.value === x.Cf.te && this.j.Ym.value === x.Cf.te;};c.prototype.eyb=function(){var I,Q,L;I=this;Q=this.j.Ab.value;L=Q;this.xp.Yqa?L=x.hb.Sf:this.Z && this.Z.ended?Q === x.hb.Lc && (L=x.hb.yr):this.hka() && this.wg.Yla(this.mediaTime)?this.ac.NCb()?L=this.Z && this.Z.paused?x.hb.ph:x.hb.Lc:this.l2b.Xl(function(){return I.k2b();}):L=this.j.Uu?this.j.t0a(this.mediaTime,this.wg.n5())?x.hb.Sf:x.hb.yr:x.hb.Sf;return L;};c.prototype.VTb=function(){var I;if(this.j.Ab.value === x.hb.Sf){I=this.wg.S2b() > this.wg.n5();this.j.Ym.value !== x.Cf.te?this.j.Ri.value?(this.j.fireEvent(x.ea.nz,{cause:d.QJa}),this.log.warn("rebuffer due to timed text",this.j.Ri.value.Wh)):this.j.fireEvent(x.ea.mQ):I?(this.o5++,this.j.fireEvent(x.ea.nz,{cause:d.bfa})):(this.Q9++,this.j.fireEvent(x.ea.nz,{cause:d.cfa}));}};c.prototype.k2b=function(){this.vk() || (m.config.YSb && this.wg.XSb(),this.Yl());};c.prototype.$Tb=function(){this.Yl();};c.prototype.g$=function(){this.Yl();this.j.fireEvent(x.ea.pq);};c.prototype.CTb=function(){this.log.trace("Video element event: ended");this.Yl();};c.prototype.MTb=function(){this.log.trace("Video element event: play");this.Yl();};c.prototype.KTb=function(){this.log.trace("Video element event: pause");this.Yl();};c.prototype.STb=function(){this.log.trace("Video element event: playing");this.Yl();};c.prototype.jza=function(){this.vk() || (this.Z && this.Z.volume !== this.j.volume.value && (this.Z.volume=this.j.volume.value),this.Z && this.Z.muted !== this.j.muted.value && (this.Z.muted=this.j.muted.value));};c.prototype.Hba=function(){!this.vk() && this.Z && (this.Z.playbackRate=this.j.playbackRate.value);};c.prototype.Ewa=function(){var I;I=this;this.vk() || !(0,y.$c)(this.Z) || this.Z.ended || !this.Sta || !this.BQ && void 0 !== this.BQ || (this.log.trace("Calling play on element"),Promise.resolve(this.Z.play()).then(function(){I.closed || (I.BQ=!1,I.Kua=!1,I.Z.style.display=null,I.j.si=!1,I.j.fireEvent(x.ea.Jja));}).catch(function(Q){"NotAllowedError" === Q.name?(I.log.warn("Playback is blocked by the browser settings",Q),I.j.si=!0,I.closed || (I.Kua=!0,I.Z.style.display="none",I.j.fireEvent(x.ea.si,{player:{play:function(){return I.Ewa();}}}))):I.closed || (I.BQ=!1,I.E7a || (I.E7a=!0,I.log.error("Play promise rejected",Q)));}));};c.prototype.HTb=function(){this.xp.Cra=this.j.AD() || 0;};c.prototype.Dwa=function(){this.vk() || !(0,y.$c)(this.Z) || this.Z.ended || !this.Sta || this.BQ && void 0 !== this.BQ || (this.log.trace("Calling pause on element"),this.Z.pause(),this.BQ=!0);};c.prototype.ndb=function(I){this.j.mediaTime.set(this.mediaTime);I && this.j.oGb();};c.prototype.seek=function(I,Q,L,J){var O,N;L=void 0 === L?this.j.ha:L;J=void 0 === J?!1:J;N=null === (O=this.j.Ia) || void 0 === O?void 0:O.li;!this.vk() && N && (this.j.fireEvent(x.ea.$I,{cause:Q}),this.xp.uY={time:I,cause:Q,ha:L,uGb:J},this.j.Ab.set(x.hb.Sf),this.Yl());};c.prototype.hVb=function(){var I,Q,L,J,O,N,P,S;if(this.xp.uY){I=this.xp.uY;Q=I.time;L=I.cause;J=I.ha;O=I.uGb;if(!this.wg.Rh() || L === x.Re.gy){I=this.j.uk(J).K;N=this.wg.Rh()?void 0:this.wg.vHb();N=this.xp.gJb(Q,L,J,O,N);J=N.T9;O=N.mk;P=N.LVb;N=N.Ui;this.wg.Fka(this.mediaTime);S=this.mediaTime;Q=(0,r.kj)(Q);this.j.DG("SEEKING: Requested: (" + I + ":" + L + ":" + Q + ") - Actual: (contentPts: " + O + ",playerPts: " + (P + ", newMediaTime: " + J + ")"));this.log.info("Seeking",{Requested:Q,Actual:(0,r.kj)(J),Cause:L,Skip:N});L === x.Re.gy || N || (this.wg.N9a(),this.wg.X_b());this.mediaTime=J;this.xp.Cra=O;Q=this.j.qf.value;P=this.j.pe.value;this.j.qf.set(null);this.j.pe.set(null);this.ndb(!0);this.xp.uY=void 0;this.xp.A$=!0;this.j.fireEvent(x.ea.Fk,{Tta:S,T9:J,mk:O,cause:L,skip:N,qf:Q,pe:P,K:I});N && this.wg.skip(J);}}};c.prototype.Ld=function(I,Q,L){this.closed || this.j.Ld(I,Q,L);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.wg.close();this.ac.removeEventListener(A.Uj.vZ,this.R4a[A.Uj.vZ]);this.ac.removeEventListener(A.Uj.pq,this.R4a[A.Uj.pq]);this.Z.removeEventListener("ended",this.Qx.ended);this.Z.removeEventListener("play",this.Qx.play);this.Z.removeEventListener("pause",this.Qx.pause);this.Z.removeEventListener("playing",this.Qx.playing);f.we.removeListener(f.Ql,this.BW[f.Ql]);f.we.removeListener(f.ns,this.BW[f.ns]);this.closed=!0;try{m.config.lSb && (this.Z.volume=0,this.Z.muted=!0);this.Dwa();this.ac.close();}catch(I){}this.Z=void 0;this.wg.N9a();}};c.prototype.vk=function(){return this.closed?!0:(0,y.$c)(this.Z)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.wHa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.GLa="SeekManagerFactorySymbol";},function(t,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.SDa=void 0;c=a(14);g=a(62);l=a(24);m=a(3);d=a(15);b.SDa=function(f,h,k){function n(q){var u,r;u=q.error || q;r=(0,l.wd)(u);k.error("uncaught exception",u,r);(u=(u=u && u.stack) && c.config.Rcb && c.config.P3b?0 <= u.indexOf(c.config.Rcb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),f.Ld(m.N.gNa));}function p(){g.we.removeListener(g.t7,n);f.removeEventListener(d.ea.pg,p);f.removeEventListener(d.ea.Vq,p);}try{g.we.addListener(g.t7,n);f.addEventListener(d.ea.pg,p);c.config.mMb && f.addEventListener(d.ea.Vq,p);}catch(q){k.error("exception in exception handler ",q);}};},function(t,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.U3a=void 0;c=a(14);g=a(12);l=a(51);t=a(3);m=a(11);d=a(17);f=a(8);a=a(31);f.pa.get(a.mh).register(t.N.gFa,function(h){var p,q,u,r,w;function k(){return (0,m.bC)((0,l.kk)() / u);}function n(){var v;v=k();if(v != w){for(var x=(0,m.Jp)(v - w,30);x--;){r.push(0);}(x=(0,m.xo)(r.length - 31,0)) && r.splice(0,x);w=v;}r[r.length - 1]++;}p=c.config.dQb;q=-6 / (p - 2 - 2);u=g.cm;r=[];w=k();(0,d.ara)(p) && (setInterval(n,1E3 / p),b.U3a={yIb:function(){var y;for(var v=[],x=r.length - 1;x--;){y=r[x];v.unshift(0 >= y?9:1 >= y?8:y >= p - 1?0:(0,m.Tj)((y - 2) * q + 7));}return v;}});h(g.af);});},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jfa="PlaybackMilestoneStoreSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jJa="PboManifestRequestTransformerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.OIa="PboBindCommandSymbol";},function(t,b,a){var g,l,m,d,f;function c(h,k){this.ac=h;this.j=k;this.kX=[];}Object.defineProperty(b,"__esModule",{value:!0});b.ZQ=void 0;t=a(1);g=a(3);l=a(0);m=a(17);d=a(30);f=a(8);c.prototype.p6=function(h){this.kX.forEach(function(k){return k(h);});};c.prototype.Ld=function(h,k,n){this.j.Ld(h,k,n);};c.prototype.ftb=function(h){-1 === this.kX.indexOf(h) && this.kX.push(h);};c.prototype.vYb=function(h){h=this.kX.indexOf(h);0 <= h && this.kX.splice(h,1);};c.prototype.f0a=function(h){var k,n;k={};(0,m.$c)(h.code)?k.sa=(0,g.PDa)(h.code):k.sa=g.M.Qk;try{n=h.message.match(/\((\d*)\)/)[1];k.wf=(0,f.Sja)(n,4);}catch(p){}k.yb=(0,d.wd)(h);return k;};a=c;a=t.__decorate([(0,l.T)()],a);b.ZQ=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.AKa="PlaygraphPlaybackStrategyFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.EKa="PlaygraphStateFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.aGa="LegacyPostPlayShimFactorySymbol";},function(t,b,a){var g;function c(l,m,d,f,h){var k;k=this;this.lb=l;this.Ok=m;this.nv=d;this.Vb=f;this.Qm=h;this.U$=new Map();this.o0b();this.Vb.addListener(g.Ga.loaded,function(){return k.e8a();});}Object.defineProperty(b,"__esModule",{value:!0});b.BF=void 0;g=a(15);c.prototype.tRa=function(l){var m,d;m=this;d=Object.keys(this.lb.rl.V).find(function(f){return m.lb.rl.V[f].S === l.K;});l.id || (l.id=null !== d && void 0 !== d?d:this.Qm.ls(l.K));d || (this.lb.rl=this.Qm.eub(this.lb.rl,l));d=this.QI(l.id);l.xj && this.lb.r4b(l.id,l.xj);return d;};c.prototype.Lcb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.Gpa=function(l,m){var d;d=this;m=void 0 === m?{}:m;return this.nv.transition(l,m).then(function(){d.lb.Yg=l;});};c.prototype.close=function(l){return this.nv.close(l);};c.prototype.isReady=function(){return this.nv.PJb();};c.prototype.Sn=function(){return this.nv.Sn();};c.prototype.FH=function(){return this.nv.FH();};c.prototype.QI=function(l){this.U$.has(l) || this.U$.set(l,this.nv.Yk(this.Tvb(l)));return this.U$.get(l);};c.prototype.o0b=function(){var l;l=this;this.nv.addListener(g.NF.wZ,function(){return l.Vb.Hc(g.NF.wZ);});Object.values(g.Ga).forEach(function(m){l.nv.addListener(m,function(d){return l.Vb.Hc(m,d);});});};c.prototype.lx=function(){this.e8a();};c.prototype.aua=function(l){this.nv.p4b({id:l,K:this.lb.mf(l).S,xj:this.lb.gKb(l)});};c.prototype.CI=function(){};c.prototype.e8a=function(){var l,m;if(this.isReady()){l=this.lb.Yg;m=this.lb.rW(l);m && !this.U$.has(m) && (this.aua(l),this.QI(m));}};c.prototype.Tvb=function(l){var m,d,f,h;d=this.lb.mf(l);f=this.Ok.SN(d.S);h=null === f || void 0 === f?void 0:f.zb;f=null === f || void 0 === f?void 0:f.oa;return {id:l,K:d.S,$:d.Aa,xj:null !== (m=null === h || void 0 === h?void 0:h.xj) && void 0 !== m?m:d.Ca,zb:h,oa:f};};b.BF=c;},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.kfa=void 0;a.prototype.usa=function(c){c=void 0 === c?{}:c;return {Nj:c.trackingId,p4:c.authParams,Vm:c.sessionParams,Wd:c.uiLabel,Nba:c.uxLabels,sma:c.disableTrackStickiness,uQ:c.uiPlayStartTime,t6:c.forceAudioTrackId,u6:c.forceTimedTextTrackId,zi:c.isBranching,keb:c.vuiCommand,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,iN:c.enableTrickPlay,Vpa:c.heartbeatCooldown,s8:c.isPlaygraph,O8:c.loadImmediately || !1,x7a:c.pin,DY:c.preciseSeeking,$:c.startPts,La:c.endPts,xj:c.logicalEnd,haa:c.renderTimedText,CXa:c.extraManifestParams,yja:c.assetId,Nub:c.audioLanguages,y2b:c.textLanguages,Zdb:c.videoLanguage,pp:c.packageId,$Va:c.desiredDownloadables,qwa:c.requestReference,Btb:c.additionalAudioAssets,Dtb:c.additionalTextAssets};};b.kfa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hEa=void 0;b.hEa=function(a){var l,m,d,f;function c(){if(d)for(var h;h=l.pop();){h(f);}}function g(h){d=!0;f=h;c();}l=[];return function(h){l.push(h);m || (m=!0,a(g));c();};};},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.wcb=void 0;c=a(74);g=a(12);l=a(14);m=a(49);d=a(51);f=a(8);h=a(3);k=a(24);n=a(71);p=a(11);q=a(125);u=a(31);r=a(39);w=a(35);v=a(19);b.wcb=(function(){var z,A,B,E;function x(D){var F,G,C;F="info";G="";C=f.pa.get(n.RF).a_a();D.aa || (F="error",G+="&errorcode=" + (D.errorCode || ""),G+="&errorsubcode=" + (D.sa || ""));G="type=startup&sev=" + F + G + "&" + (0,m.SO)((0,k.bc)({},C,{prefix:"m_"}));!1;y("startup",G,z);}function y(D,F,G){G && A && l.config.ycb[D] && (D=B + "&jsoffms=" + (0,d.kk)() + "&do=" + p.Qe.onLine + "&" + F + "&" + (0,m.SO)((0,k.bc)({},E.Tc,{prefix:"im_"})),!1,c.nf.download({url:G,Wua:D,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},kD:"track"},g.Bl));}A=!1;B="";(0,f.aj)("TrackingLog");E=f.pa.get(u.mh);E.register(h.N.lFa,function(D){var F,G,C;if(A=l.config.xcb && ! !l.config.Gya){z=f.pa.get(q.gK).host + l.config.Gya;F=f.pa.get(w.Dl);G=f.pa.get(w.hC);C=f.pa.get(v.md).id;B="cat=cadplayback&dev=" + encodeURIComponent(F.Mz) + "&ep=" + encodeURIComponent(G.U0) + "&ver=" + encodeURIComponent("6.0034.571.911") + "&jssid=" + C + "&browserua=" + p.gC;l.config.jA && (B+="&groupname=" + encodeURIComponent(l.config.jA));l.config.VJ && (B+="&uigroupname=" + encodeURIComponent(l.config.VJ));F=B;G=f.pa.get(r.tS);G=(0,k.bc)({},G,{prefix:"pi_"});G="&" + (0,m.SO)(G);B=F + G;E.tO(x);}D(g.af);});return y;})();},function(t,b,a){var g,l,m,d,f;function c(h){var k;(0,g.aj)("MediaSourceASE").trace("Inside MediaSourceASE");k=h.pW();this.readyState=f.Vc.CLOSED;this.sourceBuffers=k.sourceBuffers;this.addSourceBuffer=function(n){return k.addSourceBuffer(n);};this.T3=function(n){return k.T3(n);};this.removeSourceBuffer=function(n){return k.removeSourceBuffer(n);};this.rq=function(n){return k.rq(n);};this.OZ=d++;this.duration=void 0;k.u_b(this.OZ);this.readyState=f.Vc.OPEN;this.Rc=l.pa.get(m.jg).rI(f.Rc,{});}Object.defineProperty(b,"__esModule",{value:!0});b.BHa=void 0;g=a(8);l=a(8);m=a(29);d=0;Object.defineProperty(c.prototype,"duration",{get:function(){return this.Zj;},set:function(h){var k;this.Zj=h || Infinity;k=Math.floor(1E3 * h) || Infinity;this.sourceBuffers.forEach(function(n){n.Zj=k;});}});f={Vc:{CLOSED:0,OPEN:1,yr:2,name:["CLOSED","OPEN","ENDED"]},Rc:{bUa:!0,y5a:!0}};b.BHa=Object.assign(c,f);},function(t,b,a){var h,k,n,p,q,u,r,w;function c(v){return v.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function g(v){return v && "object" === typeof v?JSON.stringify(v):"string" === typeof v?'"' + v + '"':"" + v;}function l(v,x,y){var z;if("string" === typeof v)return l.call(this,c(v),x,y);z=0;Object.keys(v).forEach(function(A){var B,E,D;B=q[A];E=v[A];if(B){if(D=u[A] || w[typeof h[B]])try{E=D(E);}catch(F){y && y.error("Failed to convert value '" + E + "' for config '" + A + "' : " + F.toString());return;}D=p[B];this[B]=E;p[B] !== D && (y && y.debug("Config changed for '" + A + "' from " + g(D) + " (" + typeof D + ") to " + g(E) + " (" + typeof E + ")"),++z);}else x?(B=(B=r[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,E]),r[A]=B):y && y.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function m(){return Object.keys(q).reduce(function(v,x){var y,z;y=q[x];z=v[y];z?(z.push(x),v[y]=z.sort(function(A,B){return B.length - A.length;})):v[y]=[x];return v;},{});}function d(v,x){return v.hasOwnProperty(x)?g(v[x]):void 0;}function f(v,x){return "undefined" === typeof v?x:v;}b=a(85);a=a(1291).EventEmitter;h={};k=Object.create(h);n=Object.create(k);p=Object.create(n);q={};u={};r={};p.declare=function(v){Object.keys(v).forEach(function(x){var y,z,A,B;y=v[x];z=y[0];A=y[1];B=y[2];if(h.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(E){var D;if(q.hasOwnProperty(E))throw Error("The configuration value '" + E + "' has been declared more than once");h.hasOwnProperty(x) || ("function" === typeof A && (A=A()),h[x]=A);q[E]=x;"function" === typeof B && (u[E]=B);if(D=r[E])(D.forEach(function(F){var G,C;G=F[0];C={};C[E]=F[1];l.call(G,C,!1);}),delete r[E]);});});return p;};w={object:function(v){return "object" == typeof v?v:JSON.parse("" + v);},"boolean":function(v){return "boolean" == typeof v?v:!("0" === "" + v || "false" === ("" + v).toLowerCase());},number:function(v){if("number" == typeof v)return v;v=parseFloat("" + v);if(isNaN(v))throw Error("parseFloat returned NaN");return v;}};p.set=l.bind(k);p.lY=l.bind(n);p.dump=function(v,x){var z,A,B,E;function y(){E && v && v.log("===========================================");}z=Object.keys(r).sort();A={};B=m();x=f(x,!0);Object.keys(q).sort().forEach(function(D){var F,G,C;D=q[D];if(!A[D]){A[D]=!0;F=d(k,D);G=d(n,D);if(x || "undefined" !== typeof F || "undefined" !== typeof G){C=B[D].join(",");C+=" = " + g(p[D]) + " (" + typeof p[D] + ") [";C+=f(G,"<unset>") + ",";C+=f(F,"<unset>") + ",";C+=d(h,D) + "]";E || (E=!0,v && v.log("Current config values"),y());v && v.log(C);}}});(x || z.length) && v && v.log("<undeclared> :",z);y();};p.Yt=function(v){var x,y;x={};y={};Object.keys(q).forEach(function(z){z=q[z];y[z] || (y[z]=!0,x[z]=p[z]);});v && l.call(x,v);return x;};p.w7a=function(){var v;v=m();return Object.getOwnPropertyNames(k).reduce(function(x,y){x[v[y][0]]=k[y];return x;},{});};p.reset=function(){Object.keys(k).forEach(function(v){delete k[v];});};p.Ad={};b(a,p);t.exports=Object.freeze(p);},function(t,b,a){var g;function c(l){for(var m="",d=0;d < l.length;d++){m+=l[d].S + "|";}return m;}g=a(312);t.exports={assert:function(l,m){if(!l)throw Error("PlayPredictionModel assertion failed" + (m?" : " + m:""));},bdc:function(l,m,d){Array.prototype.splice.apply(l,[m,0].concat(d));},LHb:function(l){for(var m=[],d=0;d < l.length;d++){if(l[d].context === g.VR.pgb){m=l[d].list;break;}}return m;},sHb:function(l){for(var m=[],d=0;d < l.length;d++){if(l[d].context === g.VR.gfb){m=l[d].list;break;}}return m;},ICb:function(l,m){for(var d=0,f,h,k,n=0,p=l.length - 1;n < p;n++){f=c(l[n].list || []);k=!1;for(var q=0,u=m.length;q < u;q++){if((h=c(m[q].list || []),h == f)){k=!0;break;}}if(!1 === k){d=n;break;}}return d;},nTb:function(l,m,d){for(var f=[],h,k=0;k < Math.min(m,l.length);k++){h=l[k].list || [];f=f.concat(h.slice(0,d));}return f;},mTb:function(l,m){for(var d=[],f,h=0;h < l.length && (f=l[h].list || [],f=f.slice(0,Math.min(f.length,m)),m-=f.length,d=d.concat(f),0 !== m);h++){;}return d;},lTb:function(l,m,d){var f;m < l.length && 0 <= m && (l=l[m].list || [],d < l.length && (f=l[d]));return f;},XXa:function(l){for(var m={},d=l.length,f,h=0;h < d;h++){f=l[h].list || [];for(var k=0;k < f.length;k++){if(f[k].property === g.AK.oS || f[k].property === g.AK.mCa){m.Hk=h;m.wm=k;break;}}}void 0 === m.Hk && void 0 === m.wm && (m.Hk=0,m.wm=0);return m;}};},function(t,b,a){var m;function c(d,f,h,k,n,p,q){this.J_=k;this.Aeb=d;this.M5a=f;this.ita=h;this.nOb=p;this.DE=q;this.split=n;}function g(){this.L={};this.L["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.L["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.L["3"]=new c("7","8","7","10","1.5",0,0);this.L["7"]=new c("15","16","15","9","4.5",0,0);this.L["15"]=new c("31","32","31","2","5.5",0,0);this.L["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.L["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.L["123"]=new c("123","124","123","0","0",1,.207298);this.L["124"]=new c("123","124","123","0","0",1,.49076);this.L["64"]=new c("125","126","125","4","40.5",0,0);this.L["125"]=new c("125","126","125","0","0",1,-.00157835);this.L["126"]=new c("125","126","125","0","0",1,.934205);this.L["32"]=new c("65","66","65","135","5.5",0,0);this.L["65"]=new c("127","128","128","4","1272.5",0,0);this.L["127"]=new c("127","128","128","0","0",1,-.510333);this.L["128"]=new c("127","128","128","0","0",1,.18363);this.L["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.L["129"]=new c("129","130","129","0","0",1,-.0464542);this.L["130"]=new c("129","130","129","0","0",1,.458833);this.L["16"]=new c("33","34","34","10","2.00001",0,0);this.L["33"]=new c("67","68","67","0","29.5",0,0);this.L["67"]=new c("131","132","131","2","39.5",0,0);this.L["131"]=new c("131","132","131","0","0",1,-.37577);this.L["132"]=new c("131","132","131","0","0",1,.512087);this.L["68"]=new c("133","134","134","140","1.5",0,0);this.L["133"]=new c("133","134","134","0","0",1,.321272);this.L["134"]=new c("133","134","134","0","0",1,-.675396);this.L["34"]=new c("69","70","70","2","24.5",0,0);this.L["69"]=new c("135","136","136","9","28.5",0,0);this.L["135"]=new c("135","136","136","0","0",1,-.0573845);this.L["136"]=new c("135","136","136","0","0",1,-.507455);this.L["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.L["137"]=new c("137","138","137","0","0",1,-.503909);this.L["138"]=new c("137","138","137","0","0",1,.450886);this.L["8"]=new c("17","18","17","4","44189.5",0,0);this.L["17"]=new c("35","36","35","2","21.5",0,0);this.L["35"]=new c("71","72","72","0","19.5",0,0);this.L["71"]=new c("139","140","140","9","2.5",0,0);this.L["139"]=new c("139","140","140","0","0",1,.00403497);this.L["140"]=new c("139","140","140","0","0",1,-.312656);this.L["72"]=new c("141","142","141","135","96",0,0);this.L["141"]=new c("141","142","141","0","0",1,-.465786);this.L["142"]=new c("141","142","141","0","0",1,.159633);this.L["36"]=new c("73","74","73","130","89.5",0,0);this.L["73"]=new c("143","144","144","10","4.5",0,0);this.L["143"]=new c("143","144","144","0","0",1,-.76265);this.L["144"]=new c("143","144","144","0","0",1,-.580804);this.L["74"]=new c("145","146","146","10","16.5",0,0);this.L["145"]=new c("145","146","146","0","0",1,.296357);this.L["146"]=new c("145","146","146","0","0",1,-.691659);this.L["18"]=new c("37","38","38","9","1.5",0,0);this.L["37"]=new c("37","38","38","0","0",1,.993951);this.L["38"]=new c("75","76","75","0","19",0,0);this.L["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.L["147"]=new c("147","148","147","0","0",1,-.346535);this.L["148"]=new c("147","148","147","0","0",1,-.995745);this.L["76"]=new c("147","148","147","0","0",1,-.99978);this.L["4"]=new c("9","10","9","5","4.5",0,0);this.L["9"]=new c("19","20","19","2","4.5",0,0);this.L["19"]=new c("39","40","39","140","7.5",0,0);this.L["39"]=new c("77","78","78","134","6.5",0,0);this.L["77"]=new c("149","150","150","7","11.5",0,0);this.L["149"]=new c("149","150","150","0","0",1,.729843);this.L["150"]=new c("149","150","150","0","0",1,.383857);this.L["78"]=new c("151","152","151","133","4.5",0,0);this.L["151"]=new c("151","152","151","0","0",1,.39017);this.L["152"]=new c("151","152","151","0","0",1,.0434342);this.L["40"]=new c("79","80","79","133","3.5",0,0);this.L["79"]=new c("153","154","154","8","4.5",0,0);this.L["153"]=new c("153","154","154","0","0",1,-.99536);this.L["154"]=new c("153","154","154","0","0",1,-.00943396);this.L["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.L["155"]=new c("155","156","155","0","0",1,.266272);this.L["156"]=new c("155","156","155","0","0",1,.959904);this.L["20"]=new c("41","42","42","10","65.5",0,0);this.L["41"]=new c("81","82","82","7","10.5",0,0);this.L["81"]=new c("157","158","158","2","37.5",0,0);this.L["157"]=new c("157","158","158","0","0",1,-.701873);this.L["158"]=new c("157","158","158","0","0",1,.224649);this.L["82"]=new c("159","160","159","133","9.5",0,0);this.L["159"]=new c("159","160","159","0","0",1,.0955181);this.L["160"]=new c("159","160","159","0","0",1,-.58962);this.L["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.L["83"]=new c("161","162","161","135","31",0,0);this.L["161"]=new c("161","162","161","0","0",1,-.229692);this.L["162"]=new c("161","162","161","0","0",1,.88595);this.L["84"]=new c("163","164","164","1","13.5",0,0);this.L["163"]=new c("163","164","164","0","0",1,-.992157);this.L["164"]=new c("163","164","164","0","0",1,.922159);this.L["10"]=new c("21","22","22","4","486",0,0);this.L["21"]=new c("43","44","44","133","4.5",0,0);this.L["43"]=new c("85","86","86","10","4.5",0,0);this.L["85"]=new c("165","166","166","4","158.5",0,0);this.L["165"]=new c("165","166","166","0","0",1,-.127778);this.L["166"]=new c("165","166","166","0","0",1,.955189);this.L["86"]=new c("165","166","166","0","0",1,-.994012);this.L["44"]=new c("87","88","88","1","3.5",0,0);this.L["87"]=new c("167","168","168","135","7",0,0);this.L["167"]=new c("167","168","168","0","0",1,-.997015);this.L["168"]=new c("167","168","168","0","0",1,.400821);this.L["88"]=new c("169","170","169","130","36",0,0);this.L["169"]=new c("169","170","169","0","0",1,-.898638);this.L["170"]=new c("169","170","169","0","0",1,.56129);this.L["22"]=new c("45","46","45","9","2.5",0,0);this.L["45"]=new c("89","90","90","9","1.5",0,0);this.L["89"]=new c("171","172","171","10","10.5",0,0);this.L["171"]=new c("171","172","171","0","0",1,.573986);this.L["172"]=new c("171","172","171","0","0",1,-.627266);this.L["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.L["173"]=new c("173","174","173","0","0",1,.925273);this.L["174"]=new c("173","174","173","0","0",1,-.994805);this.L["46"]=new c("91","92","91","136","5.5",0,0);this.L["91"]=new c("175","176","175","10","10.5",0,0);this.L["175"]=new c("175","176","175","0","0",1,.548352);this.L["176"]=new c("175","176","175","0","0",1,-.879195);this.L["92"]=new c("177","178","178","8","14.5",0,0);this.L["177"]=new c("177","178","178","0","0",1,.457305);this.L["178"]=new c("177","178","178","0","0",1,-.998992);this.L["2"]=new c("5","6","5","10","2.5",0,0);this.L["5"]=new c("11","12","11","9","4.5",0,0);this.L["11"]=new c("23","24","24","10","4.00001",0,0);this.L["23"]=new c("47","48","48","133","5.5",0,0);this.L["47"]=new c("93","94","93","3","13.5",0,0);this.L["93"]=new c("179","180","179","138","15.5",0,0);this.L["179"]=new c("179","180","179","0","0",1,.658398);this.L["180"]=new c("179","180","179","0","0",1,-.927007);this.L["94"]=new c("181","182","182","3","15.5",0,0);this.L["181"]=new c("181","182","182","0","0",1,-.111351);this.L["182"]=new c("181","182","182","0","0",1,-.99827);this.L["48"]=new c("95","96","95","7","167",0,0);this.L["95"]=new c("183","184","183","132","36.5",0,0);this.L["183"]=new c("183","184","183","0","0",1,.895161);this.L["184"]=new c("183","184","183","0","0",1,-.765217);this.L["96"]=new c("185","186","186","137","6.00001",0,0);this.L["185"]=new c("185","186","186","0","0",1,-.851095);this.L["186"]=new c("185","186","186","0","0",1,.674286);this.L["24"]=new c("49","50","49","137","5.5",0,0);this.L["49"]=new c("97","98","97","5","23.5",0,0);this.L["97"]=new c("187","188","187","3","28.5",0,0);this.L["187"]=new c("187","188","187","0","0",1,.951654);this.L["188"]=new c("187","188","187","0","0",1,-.993808);this.L["98"]=new c("187","188","187","0","0",1,-.99705);this.L["50"]=new c("187","188","187","0","0",1,-.997525);this.L["12"]=new c("25","26","25","8","8.5",0,0);this.L["25"]=new c("51","52","52","10","4.00001",0,0);this.L["51"]=new c("99","100","100","133","5.5",0,0);this.L["99"]=new c("189","190","190","7","40.5",0,0);this.L["189"]=new c("189","190","190","0","0",1,.151839);this.L["190"]=new c("189","190","190","0","0",1,-.855517);this.L["100"]=new c("191","192","192","133","14.5",0,0);this.L["191"]=new c("191","192","192","0","0",1,.86223);this.L["192"]=new c("191","192","192","0","0",1,.544394);this.L["52"]=new c("101","102","101","135","47.5",0,0);this.L["101"]=new c("193","194","194","4","24.5",0,0);this.L["193"]=new c("193","194","194","0","0",1,.946185);this.L["194"]=new c("193","194","194","0","0",1,.811859);this.L["102"]=new c("193","194","194","0","0",1,-.991561);this.L["26"]=new c("53","54","54","132","6.5",0,0);this.L["53"]=new c("103","104","103","131","85",0,0);this.L["103"]=new c("195","196","196","134","16.5",0,0);this.L["195"]=new c("195","196","196","0","0",1,.0473538);this.L["196"]=new c("195","196","196","0","0",1,-.999401);this.L["104"]=new c("197","198","198","8","15.5",0,0);this.L["197"]=new c("197","198","198","0","0",1,.816129);this.L["198"]=new c("197","198","198","0","0",1,-.99322);this.L["54"]=new c("105","106","105","133","3.5",0,0);this.L["105"]=new c("105","106","105","0","0",1,-.998783);this.L["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.L["199"]=new c("199","200","199","0","0",1,.528588);this.L["200"]=new c("199","200","199","0","0",1,-.998599);this.L["6"]=new c("13","14","14","10","7.5",0,0);this.L["13"]=new c("27","28","28","133","7.5",0,0);this.L["27"]=new c("55","56","56","10","4.5",0,0);this.L["55"]=new c("107","108","107","3","3.5",0,0);this.L["107"]=new c("201","202","201","4","17.5",0,0);this.L["201"]=new c("201","202","201","0","0",1,-.379512);this.L["202"]=new c("201","202","201","0","0",1,.15165);this.L["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.L["203"]=new c("203","204","203","0","0",1,-.884606);this.L["204"]=new c("203","204","203","0","0",1,.265406);this.L["56"]=new c("109","110","109","136","6.5",0,0);this.L["109"]=new c("205","206","205","4","157.5",0,0);this.L["205"]=new c("205","206","205","0","0",1,-.0142737);this.L["206"]=new c("205","206","205","0","0",1,.691279);this.L["110"]=new c("205","206","205","0","0",1,-.998086);this.L["28"]=new c("57","58","58","138","11.5",0,0);this.L["57"]=new c("111","112","112","2","6.5",0,0);this.L["111"]=new c("207","208","208","7","67.5",0,0);this.L["207"]=new c("207","208","208","0","0",1,.763925);this.L["208"]=new c("207","208","208","0","0",1,-.309645);this.L["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.L["209"]=new c("209","210","209","0","0",1,-.306635);this.L["210"]=new c("209","210","209","0","0",1,.556696);this.L["58"]=new c("113","114","113","138","50.5",0,0);this.L["113"]=new c("211","212","212","8","25.5",0,0);this.L["211"]=new c("211","212","212","0","0",1,.508234);this.L["212"]=new c("211","212","212","0","0",1,.793551);this.L["114"]=new c("211","212","212","0","0",1,-.998438);this.L["14"]=new c("29","30","29","134","27.5",0,0);this.L["29"]=new c("59","60","60","7","17.5",0,0);this.L["59"]=new c("115","116","115","135","5.5",0,0);this.L["115"]=new c("213","214","214","137","5.5",0,0);this.L["213"]=new c("213","214","214","0","0",1,.401747);this.L["214"]=new c("213","214","214","0","0",1,.0367503);this.L["116"]=new c("215","216","216","8","5.5",0,0);this.L["215"]=new c("215","216","216","0","0",1,-.0241984);this.L["216"]=new c("215","216","216","0","0",1,-.999046);this.L["60"]=new c("117","118","117","0","12.5",0,0);this.L["117"]=new c("217","218","218","132","5.5",0,0);this.L["217"]=new c("217","218","218","0","0",1,-.997294);this.L["218"]=new c("217","218","218","0","0",1,.210398);this.L["118"]=new c("219","220","219","137","1.5",0,0);this.L["219"]=new c("219","220","219","0","0",1,-.55763);this.L["220"]=new c("219","220","219","0","0",1,.074493);this.L["30"]=new c("61","62","62","133","42.5",0,0);this.L["61"]=new c("119","120","119","135","5.5",0,0);this.L["119"]=new c("221","222","222","4","473.5",0,0);this.L["221"]=new c("221","222","222","0","0",1,-.920213);this.L["222"]=new c("221","222","222","0","0",1,-.17615);this.L["120"]=new c("223","224","224","5","144",0,0);this.L["223"]=new c("223","224","224","0","0",1,-.954295);this.L["224"]=new c("223","224","224","0","0",1,-.382538);this.L["62"]=new c("121","122","121","133","50",0,0);this.L["121"]=new c("225","226","226","10","18.5",0,0);this.L["225"]=new c("225","226","226","0","0",1,-.0731343);this.L["226"]=new c("225","226","226","0","0",1,.755454);this.L["122"]=new c("227","228","228","0","30",0,0);this.L["227"]=new c("227","228","228","0","0",1,.25);this.L["228"]=new c("227","228","228","0","0",1,-.997101);}function l(d,f,h,k,n,p){this.taa=n;this.T4=p;}b=a(564);m=a(311);a={};a.Hub=new (function(){this.Lob=m();this.G=0;this.update=function(){this.G=m() - this.Lob;};this.getValue=function(){return this.G;};this.type="num";})();a.iPb=new (function(){this.getValue=function(d,f,h){return this.G="becauseYouAdded" === h.ab[d].context || null;};this.type="cat";})();a.jPb=new (function(){this.getValue=function(d,f,h){return this.G="becauseYouLiked" === h.ab[d].context || null;};this.type="cat";})();a.lPb=new (function(){this.getValue=function(d,f,h){return this.G="billboard" === h.ab[d].context || null;};this.type="cat";})();a.mPb=new (function(){this.getValue=function(d,f,h){return this.G="continueWatching" === h.ab[d].context || null;};this.type="cat";})();a.kPb=new (function(){this.getValue=function(d,f,h){return this.G="bigRow" === h.ab[d].context || null;};this.type="cat";})();a.nPb=new (function(){this.getValue=function(d,f,h){return this.G="genre" === h.ab[d].context || null;};this.type="cat";})();a.oPb=new (function(){this.getValue=function(d,f,h){return this.G="netflixOriginals" === h.ab[d].context || null;};this.type="cat";})();a.pPb=new (function(){this.getValue=function(d,f,h){return this.G="newRelease" === h.ab[d].context || null;};this.type="cat";})();a.qPb=new (function(){this.getValue=function(d,f,h){return this.G="popularTitles" === h.ab[d].context || null;};this.type="cat";})();a.rPb=new (function(){this.getValue=function(d,f,h){return this.G="queue" === h.ab[d].context || null;};this.type="cat";})();a.sPb=new (function(){this.getValue=function(d,f,h){return this.G="recentlyAdded" === h.ab[d].context || null;};this.type="cat";})();a.tPb=new (function(){this.getValue=function(d,f,h){return this.G="similars" === h.ab[d].context || null;};this.type="cat";})();a.vPb=new (function(){this.getValue=function(d,f,h){return this.G="trendingNow" === h.ab[d].context || null;};this.type="cat";})();a.wPb=new (function(){this.getValue=function(d,f,h){return this.G="ultraHD" === h.ab[d].context || null;};this.type="cat";})();a.xPb=new (function(){this.getValue=function(d,f,h){return this.G="watchAgain" === h.ab[d].context || null;};this.type="cat";})();a.uPb=new (function(){this.getValue=function(d,f,h){return this.G="topTen" === h.ab[d].context || null;};this.type="cat";})();a.ovb=new (function(){this.update=function(d){for(var f in d.ab){if("becauseYouAdded" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.pvb=new (function(){this.update=function(d){for(var f in d.ab){if("becauseYouLiked" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.svb=new (function(){this.update=function(d){for(var f in d.ab){if("billboard" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Byb=new (function(){this.update=function(d){for(var f in d.ab){if("continueWatching" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.rvb=new (function(){this.update=function(d){for(var f in d.ab){if("bigRow" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.WGb=new (function(){this.update=function(d){for(var f in d.ab){if("genre" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.oSb=new (function(){this.update=function(d){for(var f in d.ab){if("netflixOriginals" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.qSb=new (function(){this.update=function(d){for(var f in d.ab){if("newRelease" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.YVb=new (function(){this.update=function(d){for(var f in d.ab){if("popularTitles" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Ls=new (function(){this.update=function(d){for(var f in d.ab){if("queue" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.HXb=new (function(){this.update=function(d){for(var f in d.ab){if("recentlyAdded" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.P0b=new (function(){this.update=function(d){for(var f in d.ab){if("similars" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.t3b=new (function(){this.update=function(d){for(var f in d.ab){if("trendingNow" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.N3b=new (function(){this.update=function(d){for(var f in d.ab){if("ultraHD" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.J5b=new (function(){this.update=function(d){for(var f in d.ab){if("watchAgain" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.c3b=new (function(){this.update=function(d){for(var f in d.ab){if("topTen" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Myb=new (function(){this.getValue=function(d,f,h){return this.G="AR" === h.$a || null;};this.type="cat";})();a.Nyb=new (function(){this.getValue=function(d,f,h){return this.G="AT" === h.$a || null;};this.type="cat";})();a.Oyb=new (function(){this.getValue=function(d,f,h){return this.G="AU" === h.$a || null;};this.type="cat";})();a.Pyb=new (function(){this.getValue=function(d,f,h){return this.G="AZ" === h.$a || null;};this.type="cat";})();a.Qyb=new (function(){this.getValue=function(d,f,h){return this.G="BB" === h.$a || null;};this.type="cat";})();a.Ryb=new (function(){this.getValue=function(d,f,h){return this.G="BE" === h.$a || null;};this.type="cat";})();a.Syb=new (function(){this.getValue=function(d,f,h){return this.G="BO" === h.$a || null;};this.type="cat";})();a.Tyb=new (function(){this.getValue=function(d,f,h){return this.G="BR" === h.$a || null;};this.type="cat";})();a.Uyb=new (function(){this.getValue=function(d,f,h){return this.G="BS" === h.$a || null;};this.type="cat";})();a.Vyb=new (function(){this.getValue=function(d,f,h){return this.G="CA" === h.$a || null;};this.type="cat";})();a.Wyb=new (function(){this.getValue=function(d,f,h){return this.G="CH" === h.$a || null;};this.type="cat";})();a.Xyb=new (function(){this.getValue=function(d,f,h){return this.G="CL" === h.$a || null;};this.type="cat";})();a.Yyb=new (function(){this.getValue=function(d,f,h){return this.G="CO" === h.$a || null;};this.type="cat";})();a.Zyb=new (function(){this.getValue=function(d,f,h){return this.G="CR" === h.$a || null;};this.type="cat";})();a.$yb=new (function(){this.getValue=function(d,f,h){return this.G="CW" === h.$a || null;};this.type="cat";})();a.azb=new (function(){this.getValue=function(d,f,h){return this.G="DE" === h.$a || null;};this.type="cat";})();a.bzb=new (function(){this.getValue=function(d,f,h){return this.G="DK" === h.$a || null;};this.type="cat";})();a.czb=new (function(){this.getValue=function(d,f,h){return this.G="DM" === h.$a || null;};this.type="cat";})();a.dzb=new (function(){this.getValue=function(d,f,h){return this.G="DO" === h.$a || null;};this.type="cat";})();a.ezb=new (function(){this.getValue=function(d,f,h){return this.G="EC" === h.$a || null;};this.type="cat";})();a.fzb=new (function(){this.getValue=function(d,f,h){return this.G="EE" === h.$a || null;};this.type="cat";})();a.gzb=new (function(){this.getValue=function(d,f,h){return this.G="EG" === h.$a || null;};this.type="cat";})();a.hzb=new (function(){this.getValue=function(d,f,h){return this.G="ES" === h.$a || null;};this.type="cat";})();a.izb=new (function(){this.getValue=function(d,f,h){return this.G="FI" === h.$a || null;};this.type="cat";})();a.jzb=new (function(){this.getValue=function(d,f,h){return this.G="FR" === h.$a || null;};this.type="cat";})();a.kzb=new (function(){this.getValue=function(d,f,h){return this.G="GB" === h.$a || null;};this.type="cat";})();a.lzb=new (function(){this.getValue=function(d,f,h){return this.G="GF" === h.$a || null;};this.type="cat";})();a.mzb=new (function(){this.getValue=function(d,f,h){return this.G="GP" === h.$a || null;};this.type="cat";})();a.nzb=new (function(){this.getValue=function(d,f,h){return this.G="GT" === h.$a || null;};this.type="cat";})();a.ozb=new (function(){this.getValue=function(d,f,h){return this.G="HK" === h.$a || null;};this.type="cat";})();a.pzb=new (function(){this.getValue=function(d,f,h){return this.G="HN" === h.$a || null;};this.type="cat";})();a.qzb=new (function(){this.getValue=function(d,f,h){return this.G="HR" === h.$a || null;};this.type="cat";})();a.rzb=new (function(){this.getValue=function(d,f,h){return this.G="HU" === h.$a || null;};this.type="cat";})();a.szb=new (function(){this.getValue=function(d,f,h){return this.G="ID" === h.$a || null;};this.type="cat";})();a.tzb=new (function(){this.getValue=function(d,f,h){return this.G="IE" === h.$a || null;};this.type="cat";})();a.uzb=new (function(){this.getValue=function(d,f,h){return this.G="IL" === h.$a || null;};this.type="cat";})();a.vzb=new (function(){this.getValue=function(d,f,h){return this.G="IN" === h.$a || null;};this.type="cat";})();a.wzb=new (function(){this.getValue=function(d,f,h){return this.G="IT" === h.$a || null;};this.type="cat";})();a.xzb=new (function(){this.getValue=function(d,f,h){return this.G="JE" === h.$a || null;};this.type="cat";})();a.yzb=new (function(){this.getValue=function(d,f,h){return this.G="JM" === h.$a || null;};this.type="cat";})();a.zzb=new (function(){this.getValue=function(d,f,h){return this.G="JP" === h.$a || null;};this.type="cat";})();a.Azb=new (function(){this.getValue=function(d,f,h){return this.G="KE" === h.$a || null;};this.type="cat";})();a.Bzb=new (function(){this.getValue=function(d,f,h){return this.G="KN" === h.$a || null;};this.type="cat";})();a.Czb=new (function(){this.getValue=function(d,f,h){return this.G="KR" === h.$a || null;};this.type="cat";})();a.Dzb=new (function(){this.getValue=function(d,f,h){return this.G="LU" === h.$a || null;};this.type="cat";})();a.Ezb=new (function(){this.getValue=function(d,f,h){return this.G="MK" === h.$a || null;};this.type="cat";})();a.Fzb=new (function(){this.getValue=function(d,f,h){return this.G="MU" === h.$a || null;};this.type="cat";})();a.Gzb=new (function(){this.getValue=function(d,f,h){return this.G="MX" === h.$a || null;};this.type="cat";})();a.Hzb=new (function(){this.getValue=function(d,f,h){return this.G="MY" === h.$a || null;};this.type="cat";})();a.Izb=new (function(){this.getValue=function(d,f,h){return this.G="NI" === h.$a || null;};this.type="cat";})();a.Jzb=new (function(){this.getValue=function(d,f,h){return this.G="NL" === h.$a || null;};this.type="cat";})();a.Kzb=new (function(){this.getValue=function(d,f,h){return this.G="NO" === h.$a || null;};this.type="cat";})();a.Lzb=new (function(){this.getValue=function(d,f,h){return this.G="NZ" === h.$a || null;};this.type="cat";})();a.Mzb=new (function(){this.getValue=function(d,f,h){return this.G="OM" === h.$a || null;};this.type="cat";})();a.Nzb=new (function(){this.getValue=function(d,f,h){return this.G="PA" === h.$a || null;};this.type="cat";})();a.Ozb=new (function(){this.getValue=function(d,f,h){return this.G="PE" === h.$a || null;};this.type="cat";})();a.Pzb=new (function(){this.getValue=function(d,f,h){return this.G="PF" === h.$a || null;};this.type="cat";})();a.Qzb=new (function(){this.getValue=function(d,f,h){return this.G="PH" === h.$a || null;};this.type="cat";})();a.Rzb=new (function(){this.getValue=function(d,f,h){return this.G="PK" === h.$a || null;};this.type="cat";})();a.Szb=new (function(){this.getValue=function(d,f,h){return this.G="PL" === h.$a || null;};this.type="cat";})();a.Tzb=new (function(){this.getValue=function(d,f,h){return this.G="PT" === h.$a || null;};this.type="cat";})();a.Uzb=new (function(){this.getValue=function(d,f,h){return this.G="PY" === h.$a || null;};this.type="cat";})();a.Vzb=new (function(){this.getValue=function(d,f,h){return this.G="QA" === h.$a || null;};this.type="cat";})();a.Wzb=new (function(){this.getValue=function(d,f,h){return this.G="RO" === h.$a || null;};this.type="cat";})();a.Xzb=new (function(){this.getValue=function(d,f,h){return this.G="RS" === h.$a || null;};this.type="cat";})();a.Yzb=new (function(){this.getValue=function(d,f,h){return this.G="RU" === h.$a || null;};this.type="cat";})();a.Zzb=new (function(){this.getValue=function(d,f,h){return this.G="SA" === h.$a || null;};this.type="cat";})();a.$zb=new (function(){this.getValue=function(d,f,h){return this.G="SE" === h.$a || null;};this.type="cat";})();a.aAb=new (function(){this.getValue=function(d,f,h){return this.G="SG" === h.$a || null;};this.type="cat";})();a.bAb=new (function(){this.getValue=function(d,f,h){return this.G="SV" === h.$a || null;};this.type="cat";})();a.cAb=new (function(){this.getValue=function(d,f,h){return this.G="SX" === h.$a || null;};this.type="cat";})();a.dAb=new (function(){this.getValue=function(d,f,h){return this.G="TH" === h.$a || null;};this.type="cat";})();a.eAb=new (function(){this.getValue=function(d,f,h){return this.G="TR" === h.$a || null;};this.type="cat";})();a.fAb=new (function(){this.getValue=function(d,f,h){return this.G="TT" === h.$a || null;};this.type="cat";})();a.gAb=new (function(){this.getValue=function(d,f,h){return this.G="TW" === h.$a || null;};this.type="cat";})();a.hAb=new (function(){this.getValue=function(d,f,h){return this.G="US" === h.$a || null;};this.type="cat";})();a.iAb=new (function(){this.getValue=function(d,f,h){return this.G="UY" === h.$a || null;};this.type="cat";})();a.jAb=new (function(){this.getValue=function(d,f,h){return this.G="VE" === h.$a || null;};this.type="cat";})();a.kAb=new (function(){this.getValue=function(d,f,h){return this.G="ZA" === h.$a || null;};this.type="cat";})();a.JXb=new (function(){this.getValue=function(d,f,h){return this.G=1 === h.Ci || null;};this.type="cat";})();a.KXb=new (function(){this.getValue=function(d,f,h){return this.G=10 === h.Ci || null;};this.type="cat";})();a.LXb=new (function(){this.getValue=function(d,f,h){return this.G=11 === h.Ci || null;};this.type="cat";})();a.MXb=new (function(){this.getValue=function(d,f,h){return this.G=12 === h.Ci || null;};this.type="cat";})();a.NXb=new (function(){this.getValue=function(d,f,h){return this.G=13 === h.Ci || null;};this.type="cat";})();a.OXb=new (function(){this.getValue=function(d,f,h){return this.G=14 === h.Ci || null;};this.type="cat";})();a.PXb=new (function(){this.getValue=function(d,f,h){return this.G=15 === h.Ci || null;};this.type="cat";})();a.QXb=new (function(){this.getValue=function(d,f,h){return this.G=16 === h.Ci || null;};this.type="cat";})();a.RXb=new (function(){this.getValue=function(d,f,h){return this.G=17 === h.Ci || null;};this.type="cat";})();a.SXb=new (function(){this.getValue=function(d,f,h){return this.G=18 === h.Ci || null;};this.type="cat";})();a.TXb=new (function(){this.getValue=function(d,f,h){return this.G=19 === h.Ci || null;};this.type="cat";})();a.UXb=new (function(){this.getValue=function(d,f,h){return this.G=2 === h.Ci || null;};this.type="cat";})();a.VXb=new (function(){this.getValue=function(d,f,h){return this.G=20 === h.Ci || null;};this.type="cat";})();a.WXb=new (function(){this.getValue=function(d,f,h){return this.G=21 === h.Ci || null;};this.type="cat";})();a.XXb=new (function(){this.getValue=function(d,f,h){return this.G=22 === h.Ci || null;};this.type="cat";})();a.YXb=new (function(){this.getValue=function(d,f,h){return this.G=23 === h.Ci || null;};this.type="cat";})();a.ZXb=new (function(){this.getValue=function(d,f,h){return this.G=3 === h.Ci || null;};this.type="cat";})();a.$Xb=new (function(){this.getValue=function(d,f,h){return this.G=4 === h.Ci || null;};this.type="cat";})();a.aYb=new (function(){this.getValue=function(d,f,h){return this.G=5 === h.Ci || null;};this.type="cat";})();a.bYb=new (function(){this.getValue=function(d,f,h){return this.G=6 === h.Ci || null;};this.type="cat";})();a.cYb=new (function(){this.getValue=function(d,f,h){return this.G=7 === h.Ci || null;};this.type="cat";})();a.dYb=new (function(){this.getValue=function(d,f,h){return this.G=8 === h.Ci || null;};this.type="cat";})();a.eYb=new (function(){this.getValue=function(d,f,h){return this.G=9 === h.Ci || null;};this.type="cat";})();a.W1b=new (function(){this.update=function(d){"down" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Y1b=new (function(){this.update=function(d){"right" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.X1b=new (function(){this.update=function(d){"left" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Z1b=new (function(){this.update=function(d){"up" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.XQb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.rowIndex);};this.getValue=function(){return this.G;};this.type="num";})();a.YQb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.bla);};this.getValue=function(){return this.G;};this.type="num";})();a.eRb=new (function(){this.ZS=this.G=0;this.update=function(d){this.ZS++;this.G=1 * (this.G + d.rowIndex) / this.ZS;};this.getValue=function(){return this.G;};this.type="num";})();a.fRb=new (function(){this.ZS=this.G=0;this.update=function(d){this.ZS++;return this.G=1 * (this.G + d.bla) / this.ZS;};this.getValue=function(){return this.G;};this.type="num";})();a.EWb=new (function(){this.getValue=function(d,f,h){return this.G=h.bla + f;};this.type="num";})();a.FWb=new (function(){this.getValue=function(d,f,h){return this.G=h.rowIndex + d;};this.type="num";})();g.prototype.DE=function(d){return this.qQa(this.L["0"].p$a(d),d);};g.prototype.qQa=function(d,f){return "string" == typeof d?this.qQa(this.L[d].p$a(f),f):d;};c.prototype.p$a=function(d){switch(this.nOb){case 0:switch(d.features[this.J_].type){case "cat":return null === d.features[this.J_].value?this.M5a:"missing" == d.features[this.J_].value?this.ita:this.Aeb;case "num":return null === d.features[this.J_].value?this.ita:d.features[this.J_].value < this.split?this.Aeb:this.M5a;default:return this.ita;}case 1:return this.DE;default:return this.DE;}};b.declare({OX:["modelSelector","modelone"],Sxb:["colEpisodeList",5],MLb:["holdDuration",15E3],c$a:["rowFirst",2],dUa:["colFirst",5],e$a:["rowScroll",2],eUa:["colScroll",6],xZb:["rowScrollHorizontal",6],SZb:["searchTop",3],zVa:["cwFirst",2],JW:["horizontalItemsFocusedMode",3],pOb:["itemsPerRank",1],OQb:["maxNumberPayloadsStored",10],A4a:["maxNumberTitlesScheduled",5],ccc:["enableDetailedLogging",!0],$ec:["rowStep",20],Bbc:["colStep",15],Bec:["pageRows",100],Aec:["pageColumns",75],ysa:["maskParamsList",new (function(){var d,f;this.ysa=[];this.Xe={};this.taa=20;this.T4=15;for(d=0;100 > d;d++){for(f=0;75 > f;f++){(Math.floor(d / this.taa) + "_" + Math.floor(f / this.T4) in this.Xe) || (this.Xe[Math.floor(d / this.taa) + "_" + Math.floor(f / this.T4)]=1,this.ysa.push(new l("grid",10,5,5,Math.floor(d / this.taa),Math.floor(f / this.T4))));}}})().ysa],L:["nodes",new g().L],mapping:["mapping",{YQb:"0",fRb:"1",XQb:"2",eRb:"3",Hub:"4",Z1b:"5",X1b:"6",Y1b:"7",W1b:"8",FWb:"9",EWb:"10",iPb:"11",jPb:"12",lPb:"13",mPb:"14",kPb:"15",nPb:"16",oPb:"17",pPb:"18",qPb:"19",rPb:"20",sPb:"21",tPb:"22",uPb:"23",vPb:"24",wPb:"25",xPb:"26",JXb:"27",KXb:"28",LXb:"29",MXb:"30",NXb:"31",OXb:"32",PXb:"33",QXb:"34",RXb:"35",SXb:"36",TXb:"37",UXb:"38",VXb:"39",WXb:"40",XXb:"41",YXb:"42",ZXb:"43",$Xb:"44",aYb:"45",bYb:"46",cYb:"47",dYb:"48",eYb:"49",Myb:"50",Nyb:"51",Oyb:"52",Pyb:"53",Qyb:"54",Ryb:"55",Syb:"56",Tyb:"57",Uyb:"58",Vyb:"59",Wyb:"60",Xyb:"61",Yyb:"62",Zyb:"63",$yb:"64",azb:"65",bzb:"66",czb:"67",dzb:"68",ezb:"69",fzb:"70",gzb:"71",hzb:"72",izb:"73",jzb:"74",kzb:"75",lzb:"76",mzb:"77",nzb:"78",ozb:"79",pzb:"80",qzb:"81",rzb:"82",szb:"83",tzb:"84",uzb:"85",vzb:"86",wzb:"87",xzb:"88",yzb:"89",zzb:"90",Azb:"91",Bzb:"92",Czb:"93",Dzb:"94",Ezb:"95",Fzb:"96",Gzb:"97",Hzb:"98",Izb:"99",Jzb:"100",Kzb:"101",Lzb:"102",Mzb:"103",Nzb:"104",Ozb:"105",Pzb:"106",Qzb:"107",Rzb:"108",Szb:"109",Tzb:"110",Uzb:"111",Vzb:"112",Wzb:"113",Xzb:"114",Yzb:"115",Zzb:"116",$zb:"117",aAb:"118",bAb:"119",cAb:"120",dAb:"121",eAb:"122",fAb:"123",gAb:"124",hAb:"125",iAb:"126",jAb:"127",kAb:"128",J5b:"129",HXb:"130",P0b:"131",Ls:"132",Byb:"133",WGb:"134",t3b:"135",c3b:"136",svb:"137",qSb:"138",N3b:"139",YVb:"140",ovb:"141",rvb:"142",pvb:"143",oSb:"144"}],features:["features",a],Jac:["_modelName","tree"],Eac:["_format","xgboost"],Iac:["_itemsToKeep",5],Hac:["_itemsThreshold",null],mbc:["cacheLimit",20]});t.exports={config:b,ydc:l,Gbc:c};},function(t,b,a){t.exports=a(568);},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(569);nb._cad_global={};nb.DEBUG=!1;a(12);a(11);a(17);a(24);a(49);a(93);a(1277);a(561);a(63);a(51);a(22);a(73);a(62);a(1278);a(306);a(340);a(1279);a(542);a(1280);a(539);a(546);a(544);a(545);a(562);a(533);a(534);a(536);a(302);a(301);a(1281);a(14);a(551);a(1282);a(196);a(74);a(540);a(160);a(481);a(482);a(285);a(1283);a(1284);a(504);a(1285);a(497);a(304);a(495);a(303);a(532);a(1286);a(305);a(548);a(194);a(563);a(164);a(1287);a(109);a(1294);a(1295);a(1296);a(1297);a(1299);a(1301);a(547);a(61);a(1302);a(543);a(475);a(541);a(550);a(1303);a(1304);a(310);a(166);a(1305);a(1306);a(1307);a(1309);a(1310);a(537);},function(t,b,a){(function(c){var g;(function(l){var G,C,H,K,M,I,Q,L,J;function m(O,N,P){var S;S=J.get(O);if(!S){if(!P)return;S=new Q();J.set(O,S);}O=S.get(N);if(!O){if(!P)return;O=new Q();S.set(N,O);}return O;}function d(O,N,P){if(f(O,N,P))return !0;N=v(N);return null !== N?d(O,N,P):!1;}function f(O,N,P){N=m(N,P,!1);return void 0 !== N && ! !N.has(O);}function h(O,N,P){if(f(O,N,P))return k(O,N,P);N=v(N);return null !== N?h(O,N,P):void 0;}function k(O,N,P){N=m(N,P,!1);return void 0 === N?void 0:N.get(O);}function n(O,N){var P,U;P=p(O,N);O=v(O);if(null === O)return P;N=n(O,N);if(0 >= N.length)return P;if(0 >= P.length)return N;O=new L();for(var S=0;S < P.length;S++){U=P[S];O.add(U);}for(P=0;P < N.length;P++){U=N[P];O.add(U);}return z(O);}function p(O,N){var P;O=m(O,N,!1);P=[];O && y(O,function(S,U){return P.push(U);});return P;}function q(O){return void 0 === O;}function u(O){return Array.isArray?Array.isArray(O):O instanceof Array || "[object Array]" === Object.prototype.toString.call(O);}function r(O){return "object" === typeof O?null !== O:"function" === typeof O;}function w(O){return "symbol" === typeof O?O:String(O);}function v(O){var N,P;N=Object.getPrototypeOf(O);if("function" !== typeof O || O === I || N !== I)return N;P=O.prototype;P=P && Object.getPrototypeOf(P);if(null == P || P === Object.prototype)return N;P=P.constructor;return "function" !== typeof P || P === O?N:P;}function x(O){O=O.next();return O.done?void 0:O;}function y(O,N,P){var S,U,Z;S=O.entries;if("function" === typeof S){S=S.call(O);try{for(;U=x(S);){Z=U.value;N.call(P,Z[1],Z[0],O);}}finally{U && (O=S["return"]) && O.call(S);}}else (S=O.forEach,"function" === typeof S && S.call(O,N,P));}function z(O){var N;N=[];y(O,function(P,S){N.push(S);});return N;}function A(O,N,P){var S;S=0;return {next:function(){var U;if((O || N) && S < (O || N).length){U=S++;switch(P){case "key":return {value:O[U],done:!1};case "value":return {value:N[U],done:!1};case "key+value":return {value:[O[U],N[U]],done:!1};}}N=O=void 0;return {value:void 0,done:!0};},"throw":function(U){if(O || N)N=O=void 0;throw U;},"return":function(U){if(O || N)N=O=void 0;return {value:U,done:!0};}};}function B(){var O;O={};return (function(){function N(){this.ef=[];this.Ef=[];this.Wv=O;this.Ct=-2;}Object.defineProperty(N.prototype,"size",{get:function(){return this.ef.length;},enumerable:!0,configurable:!0});N.prototype.has=function(P){return 0 <= this.Hy(P,!1);};N.prototype.get=function(P){P=this.Hy(P,!1);return 0 <= P?this.Ef[P]:void 0;};N.prototype.set=function(P,S){P=this.Hy(P,!0);this.Ef[P]=S;return this;};N.prototype.delete=function(P){var S;S=this.Hy(P,!1);if(0 <= S){P=this.ef.length;for(S+=1;S < P;S++){this.ef[S - 1]=this.ef[S];this.Ef[S - 1]=this.Ef[S];}this.ef.length--;this.Ef.length--;this.Wv=O;this.Ct=-2;return !0;}return !1;};N.prototype.clear=function(){this.ef.length=0;this.Ef.length=0;this.Wv=O;this.Ct=-2;};N.prototype.keys=function(){return A(this.ef,void 0,"key");};N.prototype.values=function(){return A(void 0,this.Ef,"value");};N.prototype.entries=function(){return A(this.ef,this.Ef,"key+value");};N.prototype.Hy=function(P,S){var U;if(this.Wv === P)return this.Ct;U=this.ef.indexOf(P);0 > U && S && (U=this.ef.length,this.ef.push(P),this.Ef.push(void 0));return (this.Wv=P,this.Ct=U);};return N;})();}function E(){return (function(){function O(){this.Tg=new Q();}Object.defineProperty(O.prototype,"size",{get:function(){return this.Tg.size;},enumerable:!0,configurable:!0});O.prototype.has=function(N){return this.Tg.has(N);};O.prototype.add=function(N){return (this.Tg.set(N,N),this);};O.prototype.delete=function(N){return this.Tg.delete(N);};O.prototype.clear=function(){this.Tg.clear();};O.prototype.keys=function(){return this.Tg.keys();};O.prototype.values=function(){return this.Tg.values();};O.prototype.entries=function(){return this.Tg.entries();};return O;})();}function D(){var S,U;function O(Z,ja){for(var ya=0;ya < ja;++ya){Z[ya]=255 * Math.random() | 0;}return Z;}function N(){var Z,ra;do {Z="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):O(new Uint8Array(16),16):O(Array(16),16);Z[6]=Z[6] & 79 | 64;Z[8]=Z[8] & 191 | 128;for(var ja="",ya=0;16 > ya;++ya){ra=Z[ya];if(4 === ya || 6 === ya || 8 === ya)ja+="-";16 > ra && (ja+="0");ja+=ra.toString(16).toLowerCase();}Z="@@WeakMap@@" + ja;}while(M.has(S,Z));S[Z]=!0;return Z;}function P(Z,ja){if(!G.call(Z,U)){if(!ja)return;Object.defineProperty(Z,U,{value:K()});}return Z[U];}S=K();U=N();return (function(){function Z(){this.Ht=N();}Z.prototype.has=function(ja){ja=P(ja,!1);return void 0 !== ja?M.has(ja,this.Ht):!1;};Z.prototype.get=function(ja){ja=P(ja,!1);return void 0 !== ja?M.get(ja,this.Ht):void 0;};Z.prototype.set=function(ja,ya){P(ja,!0)[this.Ht]=ya;return this;};Z.prototype.delete=function(ja){ja=P(ja,!1);return void 0 !== ja?delete ja[this.Ht]:!1;};Z.prototype.clear=function(){this.Ht=N();};return Z;})();}function F(O){O.Bac=1;delete O.Cac;return O;}G=Object.prototype.hasOwnProperty;C="function" === typeof Object.create;H=(function(){var N;function O(){}N={};O.prototype=N;return new O().__proto__ === N;})();K=C?function(){return F(Object.create(null));}:H?function(){return F({__proto__:null});}:function(){return F({});};(function(O){var N;N=!C && !H;O.has=N?function(P,S){return G.call(P,S);}:function(P,S){return (S in P);};O.get=N?function(P,S){return G.call(P,S)?P[S]:void 0;}:function(P,S){return P[S];};})(M || (M={}));I=Object.getPrototypeOf(Function);Q="function" === typeof Map?Map:B();L="function" === typeof Set?Set:E();J=new ("function" === typeof WeakMap?WeakMap:D())();l.fs=function(O,N,P,S){var Z;if(q(S)){if(q(P)){if(!u(O))throw new TypeError();if("function" !== typeof N)throw new TypeError();for(P=O.length - 1;0 <= P;--P){if((S=(0,O[P])(N),!q(S))){if("function" !== typeof S)throw new TypeError();N=S;}}return N;}if(!u(O))throw new TypeError();if(!r(N))throw new TypeError();P=w(P);for(S=O.length - 1;0 <= S;--S){(0,O[S])(N,P);}}else {if(!u(O))throw new TypeError();if(!r(N))throw new TypeError();if(q(P))throw new TypeError();if(!r(S))throw new TypeError();P=w(P);for(var U=O.length - 1;0 <= U;--U){Z=(0,O[U])(N,P,S);if(!q(Z)){if(!r(Z))throw new TypeError();S=Z;}}return S;}};l.Ic=function(O,N){return function(P,S){if(q(S)){if("function" !== typeof P)throw new TypeError();m(P,void 0,!0).set(O,N);}else {if(!r(P))throw new TypeError();S=w(S);m(P,S,!0).set(O,N);}};};l.x5=function(O,N,P,S){if(!r(P))throw new TypeError();q(S) || (S=w(S));m(P,S,!0).set(O,N);};l.oLb=function(O,N){var P;if(!r(N))throw new TypeError();q(P) || (P=w(P));return d(O,N,P);};l.Qpa=function(O,N){var P;if(!r(N))throw new TypeError();q(P) || (P=w(P));return f(O,N,P);};l.getMetadata=function(O,N,P){if(!r(N))throw new TypeError();q(P) || (P=w(P));return h(O,N,P);};l.w_a=function(O,N,P){if(!r(N))throw new TypeError();q(P) || (P=w(P));return k(O,N,P);};l.Bcc=function(O,N){if(!r(O))throw new TypeError();q(N) || (N=w(N));return n(O,N);};l.Dcc=function(O,N){if(!r(O))throw new TypeError();q(N) || (N=w(N));return p(O,N);};l.Jbc=function(O,N,P){var S;if(!r(N))throw new TypeError();q(P) || (P=w(P));S=m(N,P,!1);if(q(S) || !S.delete(O))return !1;if(0 < S.size)return !0;O=J.get(N);O.delete(P);if(0 < O.size)return !0;J.delete(N);return !0;};(function(O){if("undefined" !== typeof O.Reflect){if(O.Reflect !== l)for(var N in l){G.call(l,N) && (O.Reflect[N]=l[N]);}}else O.Reflect=l;})("undefined" !== typeof nb?nb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(g || (g={}));}).call(this,a(197));},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u;c=this && this.__awaiter || (function(r,w,v,x){return new (v || (v=Promise))(function(y,z){function A(D){try{E(x.next(D));}catch(F){z(F);}}function B(D){try{E(x["throw"](D));}catch(F){z(F);}}function E(D){D.done?y(D.value):new v(function(F){F(D.value);}).then(A,B);}E((x=x.apply(r,w || [])).next());});});g=this && this.__generator || (function(r,w){var y,z,A,B,E;function v(D){return function(F){return x([D,F]);};}function x(D){if(z)throw new TypeError("Generator is already executing.");for(;y;){try{if((z=1,A && (B=A[D[0] & 2?"return":D[0]?"throw":"next"]) && !(B=B.call(A,D[1])).done))return B;if((A=0,B))D=[0,B.value];switch(D[0]){case 0:case 1:B=D;break;case 4:return (y.label++,{value:D[1],done:!1});case 5:y.label++;A=D[1];D=[0];continue;case 7:D=y.co.pop();y.bm.pop();continue;default:if(!(B=y.bm,B=0 < B.length && B[B.length - 1]) && (6 === D[0] || 2 === D[0])){y=0;continue;}if(3 === D[0] && (!B || D[1] > B[0] && D[1] < B[3]))y.label=D[1];else if(6 === D[0] && y.label < B[1])(y.label=B[1],B=D);else if(B && y.label < B[2])(y.label=B[2],y.co.push(D));else {B[2] && y.co.pop();y.bm.pop();continue;}}D=w.call(r,y);}catch(F){D=[6,F];A=0;}finally{z=B=0;}}if(D[0] & 5)throw D[1];return {value:D[0]?D[1]:void 0,done:!0};}y={label:0,xc:function(){if(B[0] & 1)throw B[1];return B[1];},bm:[],co:[]};return (E={next:v(0),"throw":v(1),"return":v(2)},"function" === typeof Symbol && (E[Symbol.iterator]=function(){return this;}),E);});Object.defineProperty(b,"__esModule",{value:!0});l=a(571);m=a(58);d=a(76);a(44);f=a(313);h=a(572);k=a(579);n=a(581);p=a(110);q=a(136);a(584);u=a(585);t=(function(){function r(w){w=w || ({});if("object" !== typeof w)throw Error("" + m.ogb);if(void 0 === w.eH)w.eH=d.qt.k2;else if(w.eH !== d.qt.Mfa && w.eH !== d.qt.k2 && w.eH !== d.qt.Request)throw Error("" + m.mgb);if(void 0 === w.wU)w.wU=!1;else if("boolean" !== typeof w.wU)throw Error("" + m.lgb);if(void 0 === w.vJ)w.vJ=!1;else if("boolean" !== typeof w.vJ)throw Error("" + m.ngb);this.options={wU:w.wU,eH:w.eH,vJ:w.vJ};this.id=p.id();this.lL=new u.Jjb();this.$rb=[];this.parent=this.Iha=null;this.Mpb=new f.uea();}r.prototype.load=function(){var y,z;for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}v=this.JOa();for(var x=0;x < w.length;x++){y=w[x];z=v(y.id);y.Xva(z.KSa,z.Ocb,z.I2a,z.Q8a);}};r.prototype.tO=function(){for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}c(this,void 0,void 0,function(){var x,y,z,A,B;return g(this,function(E){switch(E.label){case 0:(x=this.JOa(),y=0,z=w,E.label=1);case 1:if(!(y < z.length))return [3,4];A=z[y];B=x(A.id);return [4,A.Xva(B.KSa,B.Ocb,B.I2a,B.Q8a)];case 2:(E.xc(),E.label=3);case 3:return (y++,[3,1]);case 4:return [2];}});});};r.prototype.bind=function(w){var v;v=new l.zfb(w,this.options.eH || d.qt.k2);this.lL.add(w,v);return new n.Bfb(v);};r.prototype.DXb=function(w){this.Ncb(w);return this.bind(w);};r.prototype.Ncb=function(w){try{this.lL.remove(w);}catch(v){throw Error(m.Xfb + " " + q.NN(w));}};r.prototype.W1a=function(w){var v;v=this.lL.u0a(w);!v && this.parent && (v=this.parent.W1a(w));return v;};r.prototype.restore=function(){var w;w=this.$rb.pop();if(void 0 === w)throw Error(m.xkb);this.lL=w.AU;this.Iha=w.ERb;};r.prototype.rAb=function(){var w;w=new r(this.options);w.parent=this;return w;};r.prototype.get=function(w){return this.IOa(!1,!1,d.xy.aga,w);};r.prototype.getAll=function(w){return this.IOa(!0,!0,d.xy.aga,w);};r.prototype.resolve=function(w){var v;v=this.rAb();v.bind(w).pcb();return v.get(w);};r.prototype.JOa=function(){var z;function w(A){return function(B){B=z.DXb.bind(z)(B);B.Gc.aSb=A;return B;};}function v(){return function(A){return z.W1a.bind(z)(A);};}function x(){return function(A){z.Ncb.bind(z)(A);};}function y(A){return function(B){B=z.bind.bind(z)(B);B.Gc.aSb=A;return B;};}z=this;return function(A){return {KSa:y(A),I2a:v(A),Q8a:w(A),Ocb:x(A)};};};r.prototype.IOa=function(w,v,x,y){var z;z=null;w={evb:w,Ayb:function(A){return A;},KNb:v,key:void 0,Qg:y,s2b:x,value:void 0};if(this.Iha){if((z=this.Iha(w),void 0 === z || null === z))throw Error(m.pjb);}else z=this.arb()(w);return z;};r.prototype.arb=function(){var w;w=this;return function(v){var x;x=h.dP(w.Mpb,w,v.KNb,v.s2b,v.Qg,v.key,v.value,v.evb);x=v.Ayb(x);return k.resolve(x);};};return r;})();b.y0=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(76);g=a(110);t=(function(){function l(m,d){this.id=g.id();this.Kia=!1;this.Qg=m;this.scope=d;this.type=c.Qj.Bjb;this.XG=function(){return !0;};this.cN=this.kx=this.dB=this.oN=this.cache=this.Gm=null;}l.prototype.clone=function(){var m;m=new l(this.Qg,this.scope);m.Kia=!1;m.Gm=this.Gm;m.cN=this.cN;m.scope=this.scope;m.type=this.type;m.oN=this.oN;m.dB=this.dB;m.XG=this.XG;m.kx=this.kx;m.cache=this.cache;return m;};return l;})();b.zfb=t;},function(t,b,a){var d,f,h,k,n,p,q,u,r,w,v,x;function c(y,z,A,B,E){var D,F;D=m(A.fb,E.Qg);F=[];D.length === d.Jca.aIa && A.fb.options.wU && "function" === typeof E.Qg && y.hZa(E.Qg).mUa && (A.fb.bind(E.Qg).pcb(),D=m(A.fb,E.Qg));F=z?D:D.filter(function(G){var C;C=new v.Request(G.Qg,A,B,G,E);return G.XG(C);});g(E.Qg,F,E,A.fb);return F;}function g(y,z,A,B){switch(z.length){case d.Jca.aIa:if(A.o2a())return z;y=p.NN(y);z=f.vkb;z+=p.hPb(y,A);z+=p.s3a(B,y,m);throw Error(z);case d.Jca.Nkb:if(!A.isArray())return z;default:if(A.isArray())return z;y=p.NN(y);z=f.Deb + " " + y;z+=p.s3a(B,y,m);throw Error(z);}}function l(y,z,A,B,E,D){var F;if(null === E){z=c(y,z,B,null,D);F=new v.Request(A,B,null,z,D);A=new r.Mlb(B,F);B.mtb(A);}else (z=c(y,z,B,E,D),F=E.YQa(D.Qg,z,D));z.forEach(function(G){var C,H,K;C=null;if(D.isArray())C=F.YQa(G.Qg,G,D);else {if(G.cache)return;C=F;}if(G.type === h.Qj.Instance && null !== G.Gm){H=w.RHb(y,G.Gm);if(!B.fb.options.vJ){K=w.oHb(y,G.Gm);if(H.length < K)throw (G=f.Feb(w.getFunctionName(G.Gm)),Error(G));}H.forEach(function(M){l(y,!1,M.Qg,B,C,M);});}});}function m(y,z){var A,B;A=[];B=y.lL;B.u0a(z)?A=B.get(z):null !== y.parent && (A=m(y.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(573);f=a(58);h=a(76);k=a(44);n=a(314);p=a(136);q=a(574);u=a(66);r=a(575);w=a(576);v=a(578);x=a(316);b.wcc=function(y){return y.lL;};b.dP=function(y,z,A,B,E,D,F,G){void 0 === G && (G=!1);z=new q.$Ba(z);A=new u.Metadata(A?k.vF:k.TR,E);B=new x.h2(B,"",E,A);void 0 !== D && (D=new u.Metadata(D,F),B.Ic.push(D));try{return (l(y,G,E,z,null,B),z);}catch(C){throw (n.x2a(C) && z.dP && p.sxb(z.dP.Cwa),C);}};b.Cbc=function(y,z,A,B){A=new x.h2(h.xy.aga,"",z,new u.Metadata(A,B));y=new q.$Ba(y);return new v.Request(z,y,null,[],A);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jca={c9b:2,aIa:0,Nkb:1};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(110);t=(function(){function g(l){this.id=c.id();this.fb=l;}g.prototype.mtb=function(l){this.dP=l;};return g;})();b.$Ba=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mlb=(function(){return function(a,c){this.XO=a;this.Cwa=c;};})();},function(t,b,a){var d,f,h,k,n,p;function c(q,u,r,w){var v,x,y,z,B,E,D,F,G,C,H,K;v=q.hZa(r);x=v.mUa;if(void 0 === x)throw Error(f.Tjb + " " + u + ".");v=v.X4b;y=Object.keys(v);z=0 === r.length && 0 < y.length?y.length:r.length;y=[];for(var A=0;A < z;A++){B=A;E=w;D=u;F=x;G=v[B.toString()] || [];C=m(G);H=!0 !== C.$m;F=F[B];K=C.l || C.uI;F=K?K:F;F instanceof d.Xda && (F=F.X3b());if(H){H=F === Function;H=F === Object || H || void 0 === F;if(!E && H)throw Error(f.Ujb + " argument " + B + " in class " + D + ".");B=new p.h2(h.xy.WBa,C.i_,F);B.Ic=G;G=B;}else G=null;null !== G && y.push(G);}q=g(q,r);return y.concat(q);}function g(q,u){var y,z,A;for(var r=q.KJb(u),w=[],v=0,x=Object.keys(r);v < x.length;v++){y=x[v];z=r[y];A=m(r[y]);y=new p.h2(h.xy.NBa,A.i_ || y,A.l || A.uI);y.Ic=z;w.push(y);}u=Object.getPrototypeOf(u.prototype).constructor;u !== Object && (q=g(q,u),w=w.concat(q));return w;}function l(q,u){var r,w;u=Object.getPrototypeOf(u.prototype).constructor;if(u !== Object){r=n.getFunctionName(u);r=c(q,r,u,!0);w=r.map(function(v){return v.Ic.filter(function(x){return x.key === k.GS;});});w=[].concat.apply([],w).length;r=r.length - w;return 0 < r?r:l(q,u);}return 0;}function m(q){var u;u={};q.forEach(function(r){u[r.key.toString()]=r.value;});return {l:u[k.TR],uI:u[k.vF],i_:u[k.w1],$m:u[k.GS]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(315);f=a(58);h=a(76);k=a(44);n=a(136);b.getFunctionName=n.getFunctionName;p=a(316);b.RHb=function(q,u){var r;r=n.getFunctionName(u);return c(q,r,u,!1);};b.oHb=l;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c){this.eQ=c;}a.prototype.startsWith=function(c){return 0 === this.eQ.indexOf(c);};a.prototype.endsWith=function(c){var g;g=c.split("").reverse().join("");c=this.eQ.split("").reverse().join("");return this.startsWith.call({eQ:c},g);};a.prototype.contains=function(c){return -1 !== this.eQ.indexOf(c);};a.prototype.equals=function(c){return this.eQ === c;};a.prototype.value=function(){return this.eQ;};return a;})();b.Vlb=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(110);t=(function(){function g(l,m,d,f,h){this.id=c.id();this.Qg=l;this.XO=m;this.XA=d;this.target=h;this.Mka=[];this.AU=Array.isArray(f)?f:[f];this.WYb=null === d?new Map():null;}g.prototype.YQa=function(l,m,d){l=new g(l,this.XO,this,m,d);this.Mka.push(l);return l;};return g;})();b.Request=t;},function(t,b,a){var l,m,d,f,h;function c(k){return function(n){var p,q,u,r,w;p=n.AU;q=n.Mka;u=n.target && n.target.isArray();r=!n.XA || !n.XA.target || !n.target || !n.XA.target.BQb(n.target.Qg);if(u && r)return q.map(function(v){return c(k)(v);});u=null;if(!n.target.o2a() || 0 !== p.length){w=p[0];p=w.scope === m.qt.Mfa;r=w.scope === m.qt.Request;if(p && w.Kia)return w.cache;if(r && null !== k && k.has(w.id))return k.get(w.id);if(w.type === m.Qj.UBa)u=w.cache;else if(w.type === m.Qj.Function)u=w.cache;else if(w.type === m.Qj.VBa)u=w.Gm;else if(w.type === m.Qj.hDa && null !== w.cN)u=g("toDynamicValue",w.Qg,function(){return w.cN(n.XO);});else if(w.type === m.Qj.xda && null !== w.oN)u=g("toFactory",w.Qg,function(){return w.oN(n.XO);});else if(w.type === m.Qj.XKa && null !== w.dB)u=g("toProvider",w.Qg,function(){return w.dB(n.XO);});else if(w.type === m.Qj.Instance && null !== w.Gm)u=h.hZb(w.Gm,q,c(k));else throw (q=f.NN(n.Qg),Error(l.ljb + " " + q));"function" === typeof w.kx && (u=w.kx(n.XO,u));p && (w.cache=u,w.Kia=!0);r && null !== k && !k.has(w.id) && k.set(w.id,u);return u;}};}function g(k,n,p){try{return p();}catch(q){if(d.x2a(q))throw Error(l.agb(k,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});l=a(58);m=a(76);d=a(314);f=a(136);h=a(580);b.resolve=function(k){return c(k.dP.Cwa.WYb)(k.dP.Cwa);};},function(t,b,a){var l,m,d;function c(f,h,k){var n;h=h.filter(function(p){return null !== p.target && p.target.type === m.xy.NBa;});n=h.map(k);h.forEach(function(p,q){p=p.target.name.value();f[p]=n[q];});return f;}function g(f,h){var k;if(Reflect.oLb(d.qS,f)){k=Reflect.getMetadata(d.qS,f);try{h[k.value]();}catch(n){throw Error(l.Dlb(f.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});l=a(58);m=a(76);d=a(44);b.hZb=function(f,h,k){var n;n=null;0 < h.length?(n=h.filter(function(p){return null !== p.target && p.target.type === m.xy.WBa;}).map(k),n=new (f.bind.apply(f,[void 0].concat(n)))(),n=c(n,h,k)):n=new f();g(f,n);return n;};},function(t,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);g=a(76);l=a(582);m=a(317);t=(function(){function d(f){this.Gc=f;}d.prototype.to=function(f){this.Gc.type=g.Qj.Instance;this.Gc.Gm=f;return new l.MAa(this.Gc);};d.prototype.pcb=function(){if("function" !== typeof this.Gc.Qg)throw Error("" + c.rjb);this.to(this.Gc.Qg);};d.prototype.Mj=function(f){this.Gc.type=g.Qj.UBa;this.Gc.cache=f;this.Gc.cN=null;this.Gc.Gm=null;new m.cF(this.Gc);};d.prototype.TE=function(f){this.Gc.type=g.Qj.hDa;this.Gc.cache=null;this.Gc.cN=f;this.Gc.Gm=null;return new l.MAa(this.Gc);};d.prototype.W2b=function(f){this.Gc.type=g.Qj.VBa;this.Gc.Gm=f;new m.cF(this.Gc);};d.prototype.Af=function(f){this.Gc.type=g.Qj.xda;this.Gc.oN=f;new m.cF(this.Gc);};d.prototype.X2b=function(f){if("function" !== typeof f)throw Error(c.ojb);this.Mj(f);this.Gc.type=g.Qj.Function;};d.prototype.ncb=function(f){this.Gc.type=g.Qj.xda;this.Gc.oN=function(h){return function(){return h.fb.get(f);};};new m.cF(this.Gc);};d.prototype.s_=function(f){this.Gc.type=g.Qj.XKa;this.Gc.dB=f;new m.cF(this.Gc);};d.prototype.Y2b=function(f){this.TE(function(h){return h.fb.get(f);});};return d;})();b.Bfb=t;},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(583);g=a(200);l=a(201);t=(function(){function m(d){this.Gc=d;this.QS=new l.Kca(this.Gc);this.rga=new g.q0(this.Gc);this.XNa=new c.Afb(d);}m.prototype.ba=function(){return this.XNa.ba();};m.prototype.mqa=function(){return this.XNa.mqa();};m.prototype.when=function(d){return this.QS.when(d);};m.prototype.U_=function(){return this.QS.U_();};m.prototype.kx=function(d){return this.rga.kx(d);};return m;})();b.MAa=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(76);g=a(317);t=(function(){function l(m){this.Gc=m;}l.prototype.ba=function(){this.Gc.scope=c.qt.Mfa;return new g.cF(this.Gc);};l.prototype.mqa=function(){this.Gc.scope=c.qt.k2;return new g.cF(this.Gc);};return l;})();b.Afb=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.c7b=(function(){function a(){}a.of=function(c,g){var l;l=new a();l.AU=c;l.ERb=g;return l;};return a;})();},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);t=(function(){function g(){this.Tg=new Map();}g.prototype.add=function(l,m){var d;if(null === l || void 0 === l)throw Error(c.kS);if(null === m || void 0 === m)throw Error(c.kS);d=this.Tg.get(l);void 0 !== d?(d.push(m),this.Tg.set(l,d)):this.Tg.set(l,[m]);};g.prototype.get=function(l){if(null === l || void 0 === l)throw Error(c.kS);l=this.Tg.get(l);if(void 0 !== l)return l;throw Error(c.NFa);};g.prototype.remove=function(l){if(null === l || void 0 === l)throw Error(c.kS);if(!this.Tg.delete(l))throw Error(c.NFa);};g.prototype.u0a=function(l){if(null === l || void 0 === l)throw Error(c.kS);return this.Tg.has(l);};g.prototype.clone=function(){var l;l=new g();this.Tg.forEach(function(m,d){m.forEach(function(f){return l.add(d,f.clone());});});return l;};return g;})();b.Jjb=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(110);b.rd=(function(){return function(g){this.id=c.id();this.Xva=g;};})();b.AAa=(function(){return function(g){this.id=c.id();this.Xva=g;};})();},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);g=a(44);b.T=function(){return function(l){var m;if(Reflect.Qpa(g.Gea,l))throw Error(c.uhb);m=Reflect.getMetadata(g.Tgb,l) || [];Reflect.x5(g.Gea,m,l);return l;};};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(66);g=a(94);b.Mbb=function(l,m){return function(d,f,h){var k;k=new c.Metadata(l,m);"number" === typeof h?g.GJ(d,f,h,k):g.h_(d,f,k);};};},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);g=a(66);l=a(94);b.B5a=function(m){return function(d,f,h){var k;k=new g.Metadata(c.dC,m);"number" === typeof h?l.GJ(d,f,h,k):l.h_(d,f,k);};};},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);g=a(66);l=a(94);b.optional=function(){return function(m,d,f){var h;h=new g.Metadata(c.kIa,!0);"number" === typeof f?l.GJ(m,d,f,h):l.h_(m,d,h);};};},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);g=a(66);l=a(94);b.$m=function(){return function(m,d,f){var h;h=new g.Metadata(c.GS,!0);l.GJ(m,d,f,h);};};},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);g=a(66);l=a(94);b.uI=function(m){return function(d,f,h){var k;k=new g.Metadata(c.vF,m);"number" === typeof h?l.GJ(d,f,h,k):l.h_(d,f,k);};};},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);g=a(66);l=a(94);b.i_=function(m){return function(d,f,h){var k;k=new g.Metadata(c.w1,m);l.GJ(d,f,h,k);};};},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);g=a(44);l=a(66);b.X7a=function(){return function(m,d){d=new l.Metadata(g.qS,d);if(Reflect.Qpa(g.qS,m.constructor))throw Error(c.gkb);Reflect.x5(g.qS,d,m.constructor);};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.x5a=function(a){return function(c){return function(){for(var g=[],l=0;l < arguments.length;l++){g[l]=arguments[l];}return g.forEach(function(m){return a.bind(m).Y2b(c);});};};};},function(t,b,a){var d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E;function c(D,F){D=D.Ww || D.gO?(0,r.xZa)(F):D.WW?(0,v.HZa)(F):D.q8?(0,w.s_a)(F):D.lO?(0,x.K_a)(F):(0,u.cZa)(F);this.U0=D.U0;this.ada=D.ada;}function g(D){this.ie=D;}function l(D){var F;F=k.$ea.call(this) || this;D.iO?Object.assign(F,(0,x.RZa)()):D.WW?Object.assign(F,(0,v.GZa)(D)):D.q8?Object.assign(F,(0,w.r_a)()):D.Ww || D.gO?Object.assign(F,(0,r.wZa)()):D.lO?Object.assign(F,(0,x.J_a)()):Object.assign(F,(0,u.bZa)(D));return F;}function m(D){this.data=D.WW?(0,v.JZa)(D):D.q8?(0,w.u_a)(D):D.Ww || D.gO?(0,r.zZa)(D):D.lO?(0,x.M_a)(D):(0,u.eZa)(D);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.Tfb=b.Sfb=b.Rfb=b.Qfb=void 0;t=a(1);d=a(0);f=a(35);h=a(111);k=a(597);n=a(167);p=a(320);q=a(203);u=a(598);r=a(599);w=a(600);v=a(601);x=a(602);y=a(603);z=a(604);Ya.Object.defineProperties(m.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},L9:{configurable:!0,enumerable:!0,get:function(){return this.data.L9;}},wq:{configurable:!0,enumerable:!0,get:function(){return this.data.wq;}},Yo:{configurable:!0,enumerable:!0,get:function(){return this.data.Yo;}},xN:{configurable:!0,enumerable:!0,get:function(){return this.data.xN;}},Mz:{configurable:!0,enumerable:!0,get:function(){return this.data.Mz;}},nma:{configurable:!0,enumerable:!0,get:function(){return this.data.nma;}},PVa:{configurable:!0,enumerable:!0,get:function(){return this.data.PVa;}},bsa:{configurable:!0,enumerable:!0,get:function(){return this.data.bsa;}},nV:{configurable:!0,enumerable:!0,get:function(){return this.data.nV;}},Qdb:{configurable:!0,enumerable:!0,get:function(){return this.data.Qdb;}},Y3:{configurable:!0,enumerable:!0,get:function(){return this.data.Y3;}},bZ:{configurable:!0,enumerable:!0,get:function(){return this.data.bZ;}}});A=m;A=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(n.VB))],A);b.Qfb=A;na(l,k.$ea);B=l;B=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(n.VB))],B);b.Rfb=B;g.prototype.apply=function(){this.ie.WW?Object.assign(this,(0,v.IZa)(this.ie)):this.ie.q8?Object.assign(this,(0,w.t_a)(this.ie)):this.ie.Ww || this.ie.gO?Object.assign(this,(0,r.yZa)(this.ie)):this.ie.lO?Object.assign(this,(0,x.L_a)(this.ie)):Object.assign(this,(0,u.dZa)(this.ie));return this;};E=g;E=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(n.VB))],E);b.Sfb=E;c=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(n.VB)),t.__param(1,(0,d.l)(f.Dl))],c);b.Tfb=c;b.platform=new d.rd(function(D){D(f.Dl).to(A).ba();D(h.KF).to(B).ba();D(p.HJa).to(E).ba();D(f.hC).to(c).ba();D(q.afa).Af(function(F){return function(){var G;G=F.fb.get(n.VB);return G.Ww || G.gO?{cc:function(C,H,K){return new z.gga(C,H,K);},request:y.HNa}:G.lO?{cc:function(C,H,K){return new (a(605))(C,H,K);},request:a(606)}:{};};});});},function(t,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.$ea=void 0;c=a(5);g=a(52);l=a(202);m=a(45);d={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.$ea=function(){this.xSa=this.qM=l.Ux.q1;this.dxa=!0;this.IG=[];this.dn=[];this.HI=this.fN=!1;this.uv=[m.El.bda,m.El.nmb,m.El.LK,m.El.ZEa];this.Im=void 0;this.Qma=!0;this.S5=!1;this.f4=(0,g.fa)(288E4);this.i4=(0,g.fa)(335544320);this.HA=(0,c.Nc)(15E3);this.LQb=(0,g.fa)(6291456);this.uO=1E3;this.vka=!0;this.zya=d;this.nQ=(0,g.fa)(0);this.YN=["ro","zh-Hans","zh-Hant"];this.rba=(0,c.Nc)(0);this.NW=!0;this.Kba=!1;this.Qsa=this.A6=!0;this.$J=this.pD=this.Cw=this.mH=!1;};},function(t,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.cZa=b.dZa=b.bZa=b.eZa=void 0;c=a(26);g=a(45);l=a(123);m=a(137);b.eZa=function(d){return Object.assign(Object.assign({},(0,m.CN)()),{wq:d.B2a?"T":d.fO?"C":"M",Yo:d.B2a?"NFCDTS-01-":d.WD?"NFCDCH-02-":d.jO?"NFCDCH-MC-":d.fO?"NFCDCH-01-":d.e8?"NFCDCH-AP-":d.d8?"NFCDCH-AT-":d.iO?"NFCDCH-PH-":"NFCDCH-LX-",Mz:d.fO?"chromeos-cadmium":"chrome-cadmium",bZ:d.fO});};b.bZa=function(d){var f,h;f=(0,m.AN)();h=Object.assign(Object.assign({},f),{fN:!0,HI:!0,Cw:!0,pD:!0,$J:!0});d.WD && (h.dn=[].concat(ha(f.dn),ha((0,l.ho)([g.O.PB,g.O.QB],{minimumCores:5}))));d.jO && (h.dn=[].concat(ha(f.dn),ha((0,l.ho)([g.O.PB,g.O.QB],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));d.fO && (h.dn=(0,l.ho)([g.O.Nca,g.O.gca,g.O.Qza,g.O.Rca,g.O.Qca,g.O.Pca,g.O.Oca]));return h;};b.dZa=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.nj.lK,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1};80 <= d.jq && (f=Object.assign(Object.assign({},f),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));d.fO && 89 <= d.jq && (f=Object.assign(Object.assign({},f),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0,prepareLdlCacheMaxCount:15}));94 <= d.jq && d.WD && (f=Object.assign(Object.assign({},f),{overrideEnableAVCHigh:!1,microsoftClearLeadRequiresSwdrm:!0}));d.WD && 99 <= d.jq && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};b.cZa=function(d){return (0,m.BN)(d);};},function(t,b,a){var g,l,m,d,f,h,k;function c(){var n,p,q;q=null === (n=nb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(l.Lb.Xd,h.Hd.$sa);n=q || (null === (p=nb.MSMediaKeys) || void 0 === p?void 0:p.isTypeSupported(l.Lb.LF,h.Hd.$sa));return {QNb:q,q2a:n};}Object.defineProperty(b,"__esModule",{value:!0});b.xZa=b.yZa=b.bIb=b.wZa=b.zZa=void 0;g=a(26);l=a(112);m=a(45);d=a(202);f=a(137);h=a(113);k=a(123);b.zZa=function(n){return Object.assign(Object.assign({},(0,f.CN)()),{wq:n.Ww?"D":"H",Yo:n.Ww?n.jO?"NFCDIE-04-":n.HNb?"NFCDIE-LX-":n.e8?"NFCDIE-AP-":n.d8?"NFCDIE-AT-":n.iO?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",Mz:"edge-cadmium",Y3:!1,bZ:!1});};b.wZa=function(){var n;n=Object.assign(Object.assign({},(0,f.AN)()),{qM:nb.crypto?d.Ux.q1:d.Ux.MFa,xSa:nb.crypto?d.Ux.q1:d.Ux.MFa,IG:(0,k.ho)([m.ze.lF,m.ze.mF,m.ze.hR,m.ze.iR]),dn:(0,k.ho)([m.O.Nca,m.O.gca,m.O.Qza,m.O.Rca,m.O.Qca,m.O.Pca,m.O.Oca,m.O.kBa,m.O.jBa,m.O.Yfb]),Im:void 0,NW:!1});c().q2a || (n.Cw=!0,n.pD=!0,n.$J=!0);return n;};b.bIb=c;b.yZa=function(n){var p,q,u,r,w,v,x;p={nudgeSourceBuffer:!0,audioCapabilityDetectorType:g.zv.my,videoCapabilityDetectorType:g.nj.my,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000"};q=n.gO;u=n.Ww;r=n.WD;w=c();v=w.q2a;w=w.QNb;w={prepareCadmium:!0,enableLdlPrefetch:!v || w,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};x={audioCapabilityDetectorType:g.zv.Cv,videoCapabilityDetectorType:g.nj.lK,microsoftScreenSizeFilterEnabled:!1,keySystemList:[l.Lb.DNa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,k.ho)([m.ze.lF,m.ze.mF]),videoProfiles:(0,k.ho)([m.O.wK,m.O.kF,m.O.vR,m.O.wR]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};q && (14 <= n.jq && (p=Object.assign(Object.assign(Object.assign({},p),w),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= n.jq && (p=Object.assign(Object.assign({},p),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= n.jq && (p=Object.assign(Object.assign({},p),{microsoftHwdrmRequiresHevc:!1})),17 <= n.jq && (p=Object.assign(Object.assign({},p),{enableDDPlusAtmos:!0})));u && (p=Object.assign(Object.assign(Object.assign({},p),w),{useEncryptedEvent:!1}),r && (p=Object.assign(Object.assign({},p),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),v?(p=Object.assign(Object.assign({},p),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[l.Lb.Olb,l.Lb.NJa]}),94 === n.jq && (p=Object.assign(Object.assign({},p),{enableHWDRM:!1})),95 <= n.jq && (p=Object.assign(Object.assign({},p),{enableHWDRM:!0}))):p=Object.assign(Object.assign({},p),x));return p;};b.xZa=function(n){return (0,f.BN)(n);};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.s_a=b.t_a=b.r_a=b.u_a=void 0;c=a(26);g=a(137);b.u_a=function(l){return Object.assign(Object.assign({},(0,g.CN)()),{wq:"O",Yo:l.e8?"NFCDOP-AP-":l.d8?"NFCDOP-AT-":l.iO?"NFCDOP-PH-":"NFCDOP-01-",Mz:"opera-cadmium"});};b.r_a=function(){return Object.assign(Object.assign({},(0,g.AN)()),{fN:!0,HI:!0,Cw:!0,pD:!0,$J:!0});};b.t_a=function(l){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.nj.lK,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1};67 <= l.jq && (m=Object.assign(Object.assign({},m),{enableVP9:!0}));return m;};b.s_a=function(l){return (0,g.BN)(l);};},function(t,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.HZa=b.IZa=b.GZa=b.JZa=void 0;c=a(26);g=a(45);l=a(123);m=a(137);b.JZa=function(d){return Object.assign(Object.assign({},(0,m.CN)()),{wq:"F",Yo:d.jO?"NFCDFF-MC-":d.WD?"NFCDFF-02-":d.e8?"NFCDFF-AP-":d.d8?"NFCDFF-AT-":d.iO?"NFCDFF-PH-":"NFCDFF-LX-",Mz:"firefox-cadmium"});};b.GZa=function(d){var f,h;f=(0,m.AN)();h=Object.assign(Object.assign({},f),{fN:!0,HI:!0,Cw:!0,pD:!0,$J:!0});d.WD && (h.dn=[].concat(ha(f.dn),ha((0,l.ho)([g.O.PB,g.O.QB],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.jO && (h.dn=[].concat(ha(f.dn),ha((0,l.ho)([g.O.PB,g.O.QB],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return h;};b.IZa=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:c.nj.lK,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1};(d.WD || d.jO) && 95 <= d.jq && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};b.HZa=function(d){return (0,m.BN)(d);};},function(t,b,a){var g,l,m,d,f,h;function c(){return Object.assign(Object.assign({},(0,h.AN)()),{IG:(0,f.ho)([d.ze.lF,d.ze.mF,d.ze.WF]),dn:(0,f.ho)([d.O.Nca,d.O.gca,d.O.Rca,d.O.Qca,d.O.Pca,d.O.Oca,d.O.kBa,d.O.jBa]),Im:m.Lb.gib,HA:(0,g.Nc)(7E3)});}Object.defineProperty(b,"__esModule",{value:!0});b.K_a=b.L_a=b.J_a=b.RZa=b.M_a=void 0;g=a(5);l=a(26);m=a(112);d=a(45);f=a(123);h=a(137);b.M_a=function(k){return Object.assign(Object.assign({},(0,h.CN)()),{wq:"S",Yo:k.iO?"NFCDSF-PH-":"NFCDSF-01-",Mz:"safari-cadmium"});};b.RZa=function(){return Object.assign(Object.assign({},c()),{Kba:!0,mH:!1,uv:[d.El.o2]});};b.J_a=c;b.L_a=function(k){var n;n={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,enableLastChunkLogging:!0,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:l.nj.Cv,enableSeamless:!0};(0,h.YW)(k,10,12,2) && (n=Object.assign(Object.assign({},n),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,h.YW)(k,10,13,6) && (n=Object.assign(Object.assign({},n),{enableLdlPrefetch:!0}));(0,h.YW)(k,10,15,5) && (n=Object.assign(Object.assign({},n),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,h.YW)(k,10,15,6) && (n=Object.assign(Object.assign({},n),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,h.Y1a)(k,9) && (n=Object.assign(Object.assign({},n),{maxDecoderBufferMilliseconds:31E3}));return n;};b.K_a=function(k){return (0,h.BN)(k);};},function(t,b,a){var g;function c(l,m,d,f){this.log=l;this.DH=m;this.jB=d;this.context=f;}Object.defineProperty(b,"__esModule",{value:!0});b.HNa=void 0;g=a(3);c.prototype.$g=function(l){var m;m=this;(this.context.xf || this.context.kl) && this.log.trace("Requesting license",{drmType:l.Xo});return this.DH(l).catch(function(d){m.log.error("Unable to get the Playready license",d);if(m.context.Vfc)throw d;throw {aa:!1,code:g.N.CK,Ec:d.Ec,Nd:d.Nd,Ln:d.Ln,sk:d.message || d.sk,qH:d.data,message:"Unable to send the Playready license request. " + (d.message || d.sk)};});};c.prototype.release=function(l){var m;m=this;this.log.trace("Requesting stop data");return this.jB(l).catch(function(d){m.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.Ec,extCode:d.Nd,edgeCode:d.Ln,message:d.message || d.sk});throw {aa:!1,code:g.N.yfa,Ec:d.Ec,Nd:d.Nd,Ln:d.Ln,sk:d.message || d.sk,message:"Unable to release the PlayReady license. " + (d.message || d.sk)};});};b.HNa=c;nb._cad_global.WindowsDrmRequests=c;},function(t,b,a){var c,g,l,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.gga=void 0;c=a(3);g=a(199);l=a(204);m=a(29);d=a(77);f=a(36);h=a(26);k=a(64);(function(){var z;function n(A,B,E){var D;D=this;this.log=A;this.bo=B || y.bind(this);this.context=E;this.sY=this.challenge=this.keySystem=this.keySessionId=this.Mb=this.mediaKeys=void 0;this.Tc={};this.Pra=this.Zxa=!1;this.eY=r.bind(this);this.sY=void 0;this.Dza=new Promise(function(F,G){D.vwa=F;D.Yva=G;});this.Dza.catch(function(F){D.log.error("wait for license rejected",F);});g.dc.get(h.$x).S6().then(function(F){(D.context.xf || D.context.kl) && D.log.debug("DRIVERINFO: ",F);}).catch(function(F){D.log.error("DRIVERINFO",F);});this.ao=function(F,G){D.Yva(F,G);D.context.onerror(F,G);};this.Yta=function(){D.vwa();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return g.dc.get(f.Ji);}function q(){return g.dc.get(m.jg);}function u(A){var B,E;B=g.dc.get(l.Rfa);E="";A.forEach(function(D){E+="<KeyID>" + D + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + E + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.tbb(A));(this.context.xf || this.context.kl) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function r(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Mb.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.gg.Hr,z.oC.ut,B);this.Mb=void 0;}function w(A,B,E){var F,G,C;for(var D=2;D < arguments.length;++D){;}D="";G=A.length;for(F=0;F < G;F++){C=A[F];0 < C && (D+=String.fromCharCode(C));}G="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){C=arguments[F];if(0 > D.search(C))return;C="(?:[^:].*:|)" + C;G="[\\s\\S]*<" + C + "[^>]*>" + G + "</" + C + ">[\\s\\S]*";}if(D=D.match(new RegExp(G)))return D[1];}function v(A,B,E,D){var F,G;F=A.target && A.target.sessionId;G=p().decode(w(A.message,"PlayReadyKeyMessage","Challenge"));E.state=12;E.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(E.context.xf || E.context.kl || E.context.IB) && E.log.debug("LICENSE: License challenge",p().encode(G));E.keySessionId=F;A={$f:B,messageType:"license-request",Xo:(/clearkey/i).test(E.keySystem)?"clearkey":"playready",jk:[{data:G,sessionId:F}]};12 === E.state && (E.bo("lc"),G={data:G,Xo:(/clearkey/i).test(E.keySystem)?"clearkey":"playready"},E.context.KI || (E.sY=G));E.context.Vl.$g(A).then(function(C){if(12 === E.state && (E.bo("lr"),E.Yta(),!E.context.KI))(E.tY=C.vj[0].data,E.state=13,D({aa:!0,state:E.state}));else if(E.Mb)return x(E,C.vj[0].data,E.Mb).then(function(){E.state=30;D({aa:!0,state:E.state});});}).catch(function(C){D(q().rI(C,{state:E.state}));});}function x(A,B,E){A.i8() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:E.sessionId,license:p().encode(B)});return new Promise(function(D,F){try{A.Mb.update(B);D(void 0);A.i8() && A.log.trace("LICENSE: Update succeeded",{sessionId:E.sessionId});}catch(G){F({aa:!1,code:z.gg.J1,message:"Unable to update the EME.",yb:q().wd(G)});}});}function y(A){this.context.za && (this.Tc[A]=this.context.za.getTime(),this.log.trace("Milestone: " + A + ", " + this.Tc[A]));}z={};z.gg=c.N;z.oC=c.M;n.prototype.ru=function(){return this.keySystem;};n.prototype.odb=function(A,B){A.log && (this.log=A.log);A.bo && (this.bo=A.bo);B.Vl && (this.context.Vl=B.Vl);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):g.dc.get(h.$x).ru()).then(function(E){B.bo("lg");B.log.trace("Creating the media keys",{keySystem:E});B.keySystem=E;if(B.context.MY)E=Promise.reject({aa:!1,code:z.gg.qR,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new nb.MSMediaKeys(E);}catch(D){E=Promise.reject({aa:!1,code:z.gg.xIa,message:"create MSMediaKeys(" + E + ") failed",yb:q().wd(D)});break a;}try{B.context.Z && B.context.Z.msSetMediaKeys(B.mediaKeys);}catch(D){E=Promise.reject({aa:!1,code:z.gg.OK,message:"set MSMediaKeys failed",yb:q().wd(D)});break a;}E=Promise.resolve({aa:!0,mediaKeys:B.mediaKeys});}return E;});};n.prototype.close=function(){if(this.Mb){this.log.info("Closing the session",{sessionId:this.Mb.sessionId});this.Mb.removeEventListener("mskeyerror",this.eY);try{this.Mb.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Mb=void 0;}};n.prototype.$g=function(A,B,E){var D;if(1 < B.length)return Promise.reject({code:z.gg.BIa});if(0 === B.length)return Promise.reject({code:z.gg.AIa});B=B[0];D=this;D.context.xf && D.log.trace("LICENSE: Setting license");return D.context.MY?Promise.reject({aa:!1,code:z.gg.pDa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,G){var C,H,K,M,I,Q,L;try{H=function(J){D.Mb && (D.Mb.removeEventListener("mskeymessage",M),D.Mb.removeEventListener("mskeyadded",I),D.Mb.removeEventListener("mskeyerror",Q),D.Mb.addEventListener("mskeyerror",D.eY));J.state=11;J.aa?F(J):(D.close(),G(J));};K=function(J){var O,N;O=[];N=Array.prototype.map.call(J,function(S){return S?String.fromCharCode(S):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(N)O.push(N[1]);else {J=w(J,"KIDS");N=/VALUE="(.+?)">/g;for(var P=N.exec(J);null != P;){O.push(P[1]);P=N.exec(J);}}return O;};M=function(J){C && clearTimeout(C);v(J,A,D,H);};I=function(J){(D.context.xf || D.context.kl) && D.log.trace("LICENSE: Received " + J.type + " event",{keySystem:J.target.keySystem,sessionId:J.target.sessionId});H({aa:!0});};Q=function(J){var O,N;C && clearTimeout(C);if(J.target && J.target.error)(O=J.target.error.systemCode,N=J.target.error.code);O={code:z.gg.Hr,Ec:z.oC.ut,Nd:O?g.dc.get(d.Vx).wH(O,4):N,details:q().wd(J),cause:J.target && J.target.error,kba:O,c6:N};D.log.error("LICENSE: Received " + J.type + " event",{sessionId:D.Mb && D.Mb.sessionId,keySystem:J.target.keySystem,systemCode:O.kba,code:O.c6});D.bo("le");D.ao && D.ao(z.gg.Hr,O);H({aa:!1,code:z.gg.Hr,Ec:z.oC.ut,Nd:O.Nd,message:"Received a key error.",yb:O.details,cause:O.cause});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.xf || D.context.kl) && D.log.debug("LICENSE: PSSH",p().encode(B));D.Xw || (D.Xw=K(B));if(E){L=u.call(D,D.Xw);D.Mb=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),L);}else D.Mb=D.mediaKeys.createSession("video/mp4",B,null);(D.context.xf || D.context.kl) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Mb.keySystem,sessionId:D.Mb.sessionId});D.Mb.addEventListener("mskeymessage",M);D.Mb.addEventListener("mskeyadded",I);D.Mb.addEventListener("mskeyerror",Q);D.context.bPb && (C=setTimeout(function(){H({aa:!1,code:z.gg.pS,Ec:z.oC.Uhb});},D.context.bPb));}catch(J){G({code:z.gg.pS,Ec:z.oC.Qk});}});})();};n.prototype.YI=function(){var A;(this.context.xf || this.context.kl) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.$g(k.vo.Wda.Mp,A,!0);};n.prototype.c4=function(A){this.tY || this.log.error("pending license must exist at this point");this.context.KI=!0;try{A && (this.context.Z=A,this.context.Z.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({aa:!1,code:z.gg.OK,message:"setMediaKeys failed",yb:q().wd(B)});}return x(this,this.tY,this.Mb);};n.prototype.BXa=function(A){var B,E;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));E={ca:A.ca,xe:A.xe};return new Promise(function(D,F){(function(){B.context.Vl.release.call(B.context.Vl,E).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={aa:!0};B.close();G.aa?D(G):F(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:G.code,subCode:G.Ec,extCode:G.Nd,edgeCode:G.Ln,message:G.sk});B.close();G.aa?D(G):F(G);});})();});};n.prototype.i8=function(){return this.context.xf || this.context.kl;};b.gga=n;nb._cad_global.WindowsEmeSession=b.gga;})();},function(t,b,a){var v,x,y,z,A,B,E,D,F,G,C,H;function c(K,M,I){var Q;Q=this;this.log=K;this.bo=M || w.bind(this);this.context=I;this.sY=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.Tc={};this.yj=void 0;this.url="";this.Pra=this.Zxa=!1;this.eY=k.bind(this);this.Pg=this.sY=void 0;this.Dza=new Promise(function(L,J){Q.vwa=L;Q.Yva=J;});this.ao=function(L,J){Q.Yva(L,J);Q.context.onerror(L,J);};this.Yta=function(){Q.vwa();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function g(){return v.pa.get(A.Uv);}function l(){return v.pa.get(z.Ji);}function m(){return v.pa.get(x.jg);}function d(K){return (/com.apple.fps/).test(K) && !(/com.apple.fps.2_0/).test(K);}function f(K){var M;K=(function(I){var L,J;function Q(O,N,P,S){var U,Z;U=new Uint8Array("piff" == N?88:72);Z=new G.lR(U);Z.OB(12);Z.NB("frma");Z.NB(O);Z.OB(20);Z.NB("schm");Z.Y_(0);Z.Y_(0);Z.NB(N);Z.OB(P);"piff" == N?(Z.OB(56),Z.NB("schi"),Z.OB(48),Z.NB("uuid"),Z.X_([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(Z.OB(40),Z.NB("schi"),Z.OB(32),Z.NB("tenc"));Z.Y_(0);Z.Y_(0);Z.OB(264);Z.X_(S);return U;}L=Q("avc1","piff",65537,I);L=g().decode(l().encode(L));I=Q("avc1",C.Yx,65536,I);I=g().decode(l().encode(I));J=new Uint8Array(7 + L.length + 8 + I.length + 5);J.set([91,10,32,32,32,32,34],0);J.set(L,7);J.set([34,44,10,32,32,32,32,34],7 + L.length);J.set(I,7 + L.length + 8);J.set([34,10,32,32,93],7 + L.length + 8 + I.length);return J;})(K);M=new Uint8Array(13 + K.length + 2);M.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);M.set(K,13);M.set([10,125],13 + K.length);return M;}function h(K){var M;K=K.subarray(14,30);K=String.fromCharCode.apply(null,K);K=l().decode(K);K=K.subarray(4);M=new Uint8Array(16);M.set(K);return M;}function k(K){var M;M=n(K);this.log.error("LICENSE Error: Received event: " + K.type,{sessionId:this.Mb?this.Mb.sessionId:void 0,keySystem:K.target.keySystem,systemCode:M.kba,code:M.c6});this.ao && this.ao(H.gg.Hr,M);this.Mb=void 0;}function n(K){var M,I;if(K.target.error)(M=K.target.error.systemCode,I=K.target.error.code);return {code:H.gg.Hr,Ec:H.oC.ut,Nd:M?v.pa.get(y.Vx).wH(M,4):I,details:m().wd(K),cause:K.target.error,kba:M,c6:I};}function p(K,M,I,Q){var L,J,O;L=K.target.sessionId;J=K.message;O=m().Vt(J,g().decode("certificate"));I.Pra=M === F.vo.Wda.wo;I.state=O?2:12;I.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:L});(I.context.xf || I.context.kl || I.context.IB) && I.log.debug("LICENSE: License challenge",l().encode(J));I.keySessionId=L;K={uj:I.uj,$f:M,messageType:"license-request",Xo:(/clearkey/i).test(I.keySystem)?"clearkey":"fps",jk:[{data:J,sessionId:L}]};12 === I.state && (I.bo("lc"),J={data:J,Xo:(/clearkey/i).test(I.keySystem)?"clearkey":"fps"},I.context.KI || (I.sY=J));I.context.Vl.$g(K).then(function(N){if(12 === I.state && (I.bo("lr"),I.Yta(),!I.context.KI))(I.tY=N.vj[0].data,I.state=13,Q({aa:!0,state:I.state}));else if(I.Mb)return (N=r(I,O,N.vj[0].data,I.Mb),2 === I.state?N:N.then(function(){I.state=30;Q({aa:!0,state:I.state});}));}).catch(function(N){Q(m().rI(N,{state:I.state}));});}function q(K,M,I){M.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:K.target.sessionId});I({aa:!0});}function u(K,M,I){var Q;Q=n(K);M.ao && M.ao(H.gg.Hr,Q);M.log.error("LICENSE Error: Received event: " + K.type,{sessionId:M.Mb?M.Mb.sessionId:void 0,keySystem:K.target.keySystem,systemCode:Q.kba,code:Q.c6});I({aa:!1,code:H.gg.Hr,Ec:H.oC.ut,Nd:Q.Nd,message:"Received a key error.",yb:Q.details,cause:Q.cause});}function r(K,M,I,Q){Q={sessionId:Q.sessionId};K.i8() && (Q.license=l().encode(I));K.log.trace("calling keysession update",Q);return new Promise(function(L,J){function O(){K.Mb.removeEventListener("webkitkeyadded",O);L(void 0);}try{M || K.Mb.addEventListener("webkitkeyadded",O);K.Mb.update(I);M && L(void 0);}catch(N){J({aa:!1,code:H.gg.J1,message:"Unable to update the EME.",e:N});}});}function w(K){this.Tc[K]=v.pa.get(B.md).$b().da(E.la);this.log.trace("Milestone: " + K + ", " + this.Tc[K]);}Object.defineProperty(b,"__esModule",{value:!0});v=a(8);b=a(3);x=a(29);y=a(77);z=a(36);A=a(78);B=a(19);E=a(5);D=a(11);F=a(64);G=a(168);C=a(55);H={};H.gg=b.N;H.oC=b.M;c.prototype.ru=function(){return this.keySystem;};c.prototype.odb=function(K,M){K.log && (this.log=K.log);K.bo && (this.bo=K.bo);M.Vl && (this.context.Vl=M.Vl);M.onerror && (this.context.onerror=M.onerror);};c.prototype.create=function(K){var M;M=this;M.bo("lg");M.log.trace("CREATE: Creating the media keys",{keySystem:K});M.keySystem=K;return M.context.MY?Promise.reject({aa:!1,code:H.gg.qR,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function I(){var Q,L;Q=m().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");L=Q.lastChild;M.Pg=Q;M.context.Z=D.Be.createElement("VIDEO");L?M.Pg.insertBefore(M.context.Z,L):M.Pg.appendChild(M.context.Z);}return new Promise(function(Q,L){function J(O){(M.context.xf || M.context.kl || M.context.IB) && M.log.trace("CREATE: Received event: " + O.type,{readyState:O.target.readyState,duration:O.target.duration});try{M.mediaKeys=new nb.WebKitMediaKeys(K);M.context.Z.webkitSetMediaKeys(M.mediaKeys);Q({aa:!0,mediaKeys:M.mediaKeys});}catch(N){M.log.error("CREATE: Exception on webkitSetMediaKeys",N);L({aa:!1,code:H.gg.pS,yb:m().wd(N)});}}if(d(M.keySystem))try{M.mediaKeys=new nb.WebKitMediaKeys(K);M.context.Z && (M.log.trace("LICENSE: calling setmediakeys on video element"),M.context.Z.webkitSetMediaKeys(M.mediaKeys));Q({aa:!0,mediaKeys:M.mediaKeys});}catch(O){L({aa:!1,code:H.gg.pS,yb:m().wd(O)});}else (M.mediaKeys=new nb.WebKitMediaKeys(K),M.context.Z?(M.log.trace("LICENSE: calling setmediakeys on video element"),M.context.Z.webkitSetMediaKeys(M.mediaKeys)):(I(),M.yj=new D.eC(),M.yj.addEventListener("sourceopen",J),M.url=URL.createObjectURL(M.yj),M.context.Z.src=M.url),Q({aa:!0,mediaKeys:M.mediaKeys}));});})();};c.prototype.close=function(){this.Mb && (this.log.info("Closing the session",{sessionId:this.Mb.sessionId}),this.Mb.removeEventListener("webkitkeyerror",this.eY),this.Mb.close(),this.Mb=void 0);};c.prototype.$g=function(K,M){var I;if(1 < M.length)return Promise.reject({code:H.gg.BIa});if(0 === M.length)return Promise.reject({code:H.gg.AIa});M=M[0];I=this;I.context.xf && I.log.trace("LICENSE: Setting license",{initData:l().encode(M)});return I.context.MY?Promise.reject({aa:!1,code:H.gg.pDa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(Q,L){var O,N,P;function J(S){I.Mb && (I.Mb.removeEventListener("webkitkeymessage",O),I.Mb.removeEventListener("webkitkeyadded",N),I.Mb.removeEventListener("webkitkeyerror",P),I.Mb.addEventListener("webkitkeyerror",I.eY));S.aa?Q(S):(I.close(),L(S));}O=function(S){p(S,K,I,J);};N=function(S){q(S,I,J);};P=function(S){u(S,I,J);};d(I.keySystem) && (I.uj=h(M),M=f(I.uj));I.log.trace("LICENSE: Executing prefix based EME");I.context.xf | I.context.kl && I.log.debug("LICENSE: PSSH",l().encode(M));I.Mb=I.mediaKeys.createSession("video/mp4",M,null);(I.context.xf || I.context.kl) && I.log.debug("LICENSE: Created the media keys sessions",{keySystem:I.Mb.keySystem,sessionId:I.Mb.sessionId});I.Mb.addEventListener("webkitkeymessage",O);I.Mb.addEventListener("webkitkeyadded",N);I.Mb.addEventListener("webkitkeyerror",P);});})();};c.prototype.YI=function(){var K;K=this;return K.Zxa?Promise.resolve({aa:!0}):new Promise(function(M,I){var L,J,O;function Q(N){K.Mb && (K.Mb.removeEventListener("webkitkeymessage",L),K.Mb.removeEventListener("webkitkeyadded",J),K.Mb.removeEventListener("webkitkeyerror",O));N.aa?M(N):(I(N),K.close());}L=function(N){p(N,F.vo.Wda.Mp,K,Q);};J=function(N){q(N,K,Q);M({aa:!0});};O=function(N){u(N,K,Q);};K.Pra=!1;K.Mb.addEventListener("webkitkeymessage",L);K.Mb.addEventListener("webkitkeyadded",J);K.Mb.addEventListener("webkitkeyerror",O);K.Mb.update(g().decode("renew"));});};c.prototype.c4=function(K){this.tY || this.log.error("pending license must exist at this point");this.context.KI=!0;try{K && (this.context.Z=K,this.log.trace("calling setmediakeys on video element"),this.context.Z.webkitSetMediaKeys(this.mediaKeys));}catch(M){return new Promise(function(I,Q){Q({aa:!1,code:H.gg.OK,message:"setMediaKeys failed",yb:m().wd(M)});});}return r(this,!1,this.tY,this.Mb);};c.prototype.BXa=function(K){var M,I;M=this;M.log.trace("Releasing the license of the current session",JSON.stringify(K));M.Zxa=!0;I={ca:K.ca,xe:K.xe};return new Promise(function(Q,L){(function(){M.context.Vl.release.call(M.context.Vl,I).then(function(){var J;M.log.trace("successfully released the license",JSON.stringify(K));J={aa:!0};J.aa?Q(J):(M.close(),L(J));}).catch(function(J){M.log.error("RELEASE: Unable to get the release the license",{sessionId:M.Mb?M.Mb.sessionId:void 0,code:J.code,subCode:J.Ec,extCode:J.Nd,edgeCode:J.Ln,message:J.sk});J.aa?Q(J):(M.close(),L(J));});})();});};c.prototype.i8=function(){return this.context.xf || this.context.kl;};t.exports=c;},function(t,b,a){var g,l,m,d,f,h;function c(k,n,p,q){this.log=k;this.DH=n;this.jB=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});g=a(3);l=a(8);m=a(29);d=a(78);f=a(36);h=a(55);c.prototype.$g=function(k){var n,p;n=this;(this.context.xf || this.context.kl) && this.log.debug("Requesting a license",k);if(l.pa.get(m.jg).Vt(l.pa.get(d.Uv).decode("certificate"),k.jk[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({vj:[{sessionId:k.jk[0].sessionId,data:l.pa.get(f.Ji).decode(h.V0)}]});}else p=l.pa.get(m.jg).Vt(l.pa.get(d.Uv).decode("content"),k.jk[0].data)?Promise.resolve({vj:[{sessionId:k.jk[0].sessionId,data:k.uj}]}):(function(){n.log.trace("Requesting license",{drmType:k.Xo});return n.DH(k).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:g.N.CK,Ec:q.Ec,Nd:q.Nd,Ln:q.Ln,sk:q.message || q.sk,qH:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.sk),cause:q};});})();return p;};c.prototype.release=function(k){var n;n=this;this.log.trace("Requesting stop data");return this.jB(k).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.Ec,extCode:p.Nd,edgeCode:p.Ln,message:p.message || p.sk});throw {aa:!1,code:g.N.yfa,Ec:p.Ec,Nd:p.Nd,Ln:p.Ln,sk:p.message || p.sk,message:"Unable to release the FairPlay license. " + (p.message || p.sk),cause:p};});};t.exports=c;},function(t,b,a){var m,d,f,h,k,n,p,q;function c(u,r,w){var v;v=this;this.is=u;this.no=r;this.config=w;this.Hx=function(){return {version:v.version,drmData:v.L5.map(function(x){return x.Hx();})};};this.Vna=function(x){var y;v.is.Bn(x) && (x=g(x));1 === x.version && (x=l(v.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new q.P0(z);});}catch(z){throw new k.od(f.N.zK,f.M.WB,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !v.is.Qi(x.version))throw new k.od(f.N.zK,f.M.WB,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new k.od(f.N.zK,f.M.dBa,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.Us=new n.Oda(2,this.config.xV,this.is.Bn(this.config.xV),this.no,this.Hx);}function g(u){u=JSON.parse(u);u={xid:u.xid,movieId:u.movieId,keySessionIds:u.keySessionIds,licenseContextId:u.licenseContextId};if(!u.licenseContextId || !u.xid || !u.movieId)throw new k.od(f.N.zK,f.M.WB);return {version:1,drmData:[u]};}function l(u,r){if(u.ez(r.drmData))return {version:2,drmData:r.drmData.map(function(w){var v;v=w.keySessionIds;return new q.P0({keySessionData:(v && 0 < v.length?v:[void 0]).map(function(x){return {id:x,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).Hx();})};throw new k.od(f.N.zK,f.M.WB);}Object.defineProperty(b,"__esModule",{value:!0});b.zBa=void 0;t=a(1);m=a(0);d=a(69);f=a(3);h=a(27);k=a(41);n=a(322);p=a(79);q=a(206);c.prototype.K8a=function(){return this.k1b();};c.prototype.aRa=function(u){return this.Us.add(u);};c.prototype.dZ=function(u){return this.Us.remove(u,function(r,w){return r.ca === w.ca;});};c.prototype.toString=function(){return JSON.stringify(this.Hx(),null,"  ");};c.prototype.k1b=function(){var u;u=this;this.O8a || (this.O8a=new Promise(function(r,w){u.Us.load(u.Vna).then(function(){r();}).catch(function(v){v.sa && v.cause?w(new k.od(f.N.zK,v.sa,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v)):w(v);});}));return this.O8a;};Ya.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Us.version;}},L5:{configurable:!0,enumerable:!0,get:function(){return this.Us.yw;}}});a=c;a=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(h.hg)),t.__param(1,(0,m.l)(p.SB)),t.__param(2,(0,m.l)(d.Ev))],a);b.zBa=a;},function(t,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.u8a=void 0;c=a(3);g=a(96);l=a(124);m=a(205);b.u8a=function(f){m.dN.parent=f.fb;return function(){d || (d=new Promise(function(h,k){try{h(m.dN.get(l.aDa));}catch(n){k(new g.oh(c.N.Tib,c.M.njb,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.vHa=void 0;a.prototype.w0a=function(){return void 0 !== this.mediaKeys;};a.prototype.hRa=function(c){this.mediaKeys=c;};a.prototype.wYb=function(){this.w0a() && (this.mediaKeys=void 0);};b.vHa=a;},function(t,b,a){var g,l,m,d,f,h,k,n;function c(p,q,u,r,w){this.jH=p;this.Xc=q;this.CO=r;this.Bk=w;this.log=u.mb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.ABa=void 0;t=a(1);g=a(0);l=a(124);m=a(36);d=a(7);f=a(139);h=a(70);k=a(138);n=a(611);c.prototype.hpa=function(p){var q;q=this;return Promise.all([this.jH(),this.AIb()]).then(function(u){var r;r=ba(u);u=r.next().value;r=r.next().value;return u.QGb({type:p,initData:r},q.CO());}).then(function(u){var r;r=ba(u);u=r.next().value;r=r.next().value;r=q.Xc.encode(r.data[0]);q.log.trace("Challenge generated",r);return {cc:u,Cka:r};});};c.prototype.AIb=function(){var p;p=this;return this.Bk.qu().then(function(q){switch(q){case k.uo.sH:return n.hib;case k.uo.wE:return n.Nlb;default:return n.bnb;}}).then(function(q){return q.map(p.Xc.decode);});};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.Q0)),t.__param(1,(0,g.l)(m.Ji)),t.__param(2,(0,g.l)(d.ub)),t.__param(3,(0,g.l)(f.dS)),t.__param(4,(0,g.l)(h.xt))],a);b.ABa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bnb=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.hib=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.Nlb=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;t=a(0);c=a(13);g=a(613);l=a(37);m=a(42);d=a(614);f=a(324);h=a(616);k=a(170);n=a(617);p=a(69);q=a(618);b.config=new t.rd(function(u){u(c.bd).Af(function(){return function(){return nb._cad_global.config;};});u(l.Yca).to(g.TBa).ba();u(l.fm).to(g.oNa).ba();u(l.UR).to(g.DFa).ba();u(m.jn).to(d.kEa).ba();u(f.YHa).to(h.XHa).ba();u(k.eEa).to(n.dEa).ba();u(p.Ev).to(q.BDa).ba();});},function(t,b,a){var m,d,f,h,k;function c(){this.Ez={};this.a$a=0;}function g(n,p,q,u,r){this.debug=n;this.pA=p;this.ZX=q;this.bg=u;this.aaa=r;}function l(n,p,q){this.pA=n;this.ZX=p;this.aaa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.DFa=b.oNa=b.TBa=void 0;t=a(1);m=a(0);d=a(97);f=a(7);h=a(140);k=a(323);a=a(37);l=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(a.UR)),t.__param(1,(0,m.l)(h.f2)),t.__param(2,(0,m.l)(k.vfa))],l);b.TBa=l;g=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(d.Bv)),t.__param(1,(0,m.l)(a.UR)),t.__param(2,(0,m.l)(h.f2)),t.__param(3,(0,m.l)(f.ub)),t.__param(4,(0,m.l)(k.vfa))],g);b.oNa=g;c.prototype.tRb=function(n){this.Ez=Object.assign({},this.Ez,n);this.a$a++;};Ya.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Ez;}},saa:{configurable:!0,enumerable:!0,get:function(){return this.a$a;}}});a=c;a=t.__decorate([(0,m.T)()],a);b.DFa=a;},function(t,b,a){var g,l,m,d,f,h,k,n;function c(p,q,u){p=d.bf.call(this,p,void 0 === u?"GeneralConfigImpl":u) || this;p.vh=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.kEa=b.lN=void 0;t=a(1);g=a(5);l=a(0);m=a(46);d=a(47);f=a(42);h=a(37);a=a(111);k={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.lN=function(p,q){return p.L8a(k[q] || q,f.dy);};na(c,d.bf);Ya.Object.defineProperties(c.prototype,{lN:{configurable:!0,enumerable:!0,get:function(){return f.dy.Tlb;}},$xa:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ch)(8);}},jA:{configurable:!0,enumerable:!0,get:function(){return "";}},zM:{configurable:!0,enumerable:!0,get:function(){return "";}},VJ:{configurable:!0,enumerable:!0,get:function(){return "";}},Rbb:{configurable:!0,enumerable:!0,get:function(){return !1;}},d4:{configurable:!0,enumerable:!0,get:function(){return !0;}},NW:{configurable:!0,enumerable:!0,get:function(){return this.vh.NW;}},aFb:{configurable:!0,enumerable:!0,get:function(){return !1;}},ie:{configurable:!0,enumerable:!0,get:function(){return {};}},Z9a:{configurable:!0,enumerable:!0,get:function(){return !1;}},jra:{configurable:!0,enumerable:!0,get:function(){return !1;}},Vba:{configurable:!0,enumerable:!0,get:function(){return !1;}},jt:{configurable:!0,enumerable:!0,get:function(){return !1;}},FV:{configurable:!0,enumerable:!0,get:function(){return !0;}},OE:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},Jw:{configurable:!0,enumerable:!0,get:function(){return 0 <= [f.dy.DMa,f.dy.HFa].indexOf(this.lN);}}});n=c;t.__decorate([m.config(b.lN,"environment")],n.prototype,"lN",null);t.__decorate([m.config(m.ml,"storageTimeout")],n.prototype,"$xa",null);t.__decorate([m.config(m.string,"groupName")],n.prototype,"jA",null);t.__decorate([m.config(m.string,"canaryGroupName",!0)],n.prototype,"zM",null);t.__decorate([m.config(m.string,"uiGroupName")],n.prototype,"VJ",null);t.__decorate([m.config(m.cd,"testIndexDBForCorruptedDatabase")],n.prototype,"Rbb",null);t.__decorate([m.config(m.cd,"applyIndexedDbOpenWorkaround")],n.prototype,"d4",null);t.__decorate([m.config(m.cd,"ignoreIdbOpenError")],n.prototype,"NW",null);t.__decorate([m.config(m.cd,"executeStorageMigration")],n.prototype,"aFb",null);t.__decorate([m.config(m.object(),"browserInfo")],n.prototype,"ie",null);t.__decorate([m.config(m.cd,"retryAllMslRequestsOnError")],n.prototype,"Z9a",null);t.__decorate([m.config(m.cd,"isTestAccount")],n.prototype,"jra",null);t.__decorate([m.config(m.cd,"vuiCommandLogging")],n.prototype,"Vba",null);t.__decorate([m.config(m.cd,"useRangeHeader")],n.prototype,"jt",null);t.__decorate([m.config(m.cd,"enableMilestoneEventList")],n.prototype,"FV",null);t.__decorate([m.config(m.object,"storageRules")],n.prototype,"OE",null);n=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(h.fm)),t.__param(1,(0,l.l)(a.KF)),t.__param(2,(0,l.l)(h.x0)),t.__param(2,(0,l.optional)())],n);b.kEa=n;},function(t,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Fea=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Fea=a;},function(t,b,a){var g,l,m,d;function c(f,h){return m.bf.call(this,f,void 0 === h?"NetworkMonitorConfigImpl":h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XHa=void 0;t=a(1);g=a(0);l=a(46);m=a(47);a=a(37);na(c,m.bf);Ya.Object.defineProperties(c.prototype,{Hdb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;t.__decorate([l.config(l.cd,"useNetworkMonitor")],d.prototype,"Hdb",null);d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.fm)),t.__param(1,(0,g.l)(a.x0)),t.__param(1,(0,g.optional)())],d);b.XHa=d;},function(t,b,a){var g,l,m,d,f,h,k,n;function c(p,q,u,r){p=d.bf.call(this,p,"FtlProbeConfigImpl") || this;p.Mh=q;p.za=u;p.vh=r;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.dEa=void 0;t=a(1);g=a(38);l=a(0);m=a(5);d=a(47);f=a(125);h=a(46);k=a(37);a=a(111);na(c,d.bf);Ya.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.vh.A6;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Xna + (-1 === this.Xna.indexOf("?")?"?":"&") + "monotonic=" + this.za.s5a + "&device=web";}},Xab:{configurable:!0,enumerable:!0,get:function(){return m.eb;}},Nna:{configurable:!0,enumerable:!0,get:function(){return "";}},Xna:{configurable:!0,enumerable:!0,get:function(){return this.Mh.endpoint + "/ftl/probe" + (this.Nna?"?force=" + this.Nna:"");}}});n=c;t.__decorate([h.config(h.cd,"ftlEnabled")],n.prototype,"enabled",null);t.__decorate([h.config(h.ml,"ftlStartDelay")],n.prototype,"Xab",null);t.__decorate([h.config(h.string,"ftlEndpointForceParam")],n.prototype,"Nna",null);t.__decorate([h.config(h.url,"ftlEndpoint")],n.prototype,"Xna",null);n=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(k.fm)),t.__param(1,(0,l.l)(f.gK)),t.__param(2,(0,l.l)(g.gi)),t.__param(3,(0,l.l)(a.KF))],n);b.dEa=n;},function(t,b,a){var g,l,m,d,f,h;function c(k,n,p){k=l.bf.call(this,k,void 0 === p?"EmeConfigImpl":p) || this;k.ie=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.BDa=void 0;t=a(1);g=a(0);l=a(47);m=a(37);d=a(5);f=a(46);a=a(167);na(c,l.bf);Ya.Object.defineProperties(c.prototype,{G1a:{configurable:!0,enumerable:!0,get:function(){return this.ie.$1a || this.ie.WW || this.ie.lO?!0:!1;}},ZD:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ch)(5);}},Dua:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ch)(10);}},xV:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},XV:{configurable:!0,enumerable:!0,get:function(){return !1;}},rma:{configurable:!0,enumerable:!0,get:function(){return !1;}},sx:{configurable:!0,enumerable:!0,get:function(){return !0;}},MRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ch)(30);}},NRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ch)(30);}},QRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ch)(30);}},ORa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ch)(30);}},RRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ch)(30);}},exa:{configurable:!0,enumerable:!0,get:function(){return "";}},M6a:{configurable:!0,enumerable:!0,get:function(){return this.ie.Ww?!1:!0;}},N6a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;t.__decorate([f.config(f.cd,"initializeKeySystemAtStartup")],h.prototype,"G1a",null);t.__decorate([f.config(f.ml,"licenseRenewalRequestDelay")],h.prototype,"ZD",null);t.__decorate([f.config(f.ml,"persistedReleaseDelay")],h.prototype,"Dua",null);t.__decorate([f.config(f.string,"drmPersistKey")],h.prototype,"xV",null);t.__decorate([f.config(f.cd,"forceLimitedDurationLicense")],h.prototype,"XV",null);t.__decorate([f.config(f.cd,"disableLicenseRenewal")],h.prototype,"rma",null);t.__decorate([f.config(f.cd,"prepareCadmium")],h.prototype,"sx",null);t.__decorate([f.config(f.ml,"apiCloseTimeout")],h.prototype,"MRa",null);t.__decorate([f.config(f.ml,"apiCreateMediaKeysTimeout")],h.prototype,"NRa",null);t.__decorate([f.config(f.ml,"apiSetServerCertificateTimeout")],h.prototype,"QRa",null);t.__decorate([f.config(f.ml,"apiGenerateRequestTimeout")],h.prototype,"ORa",null);t.__decorate([f.config(f.ml,"apiUpdateTimeout")],h.prototype,"RRa",null);t.__decorate([f.config(f.string,"serverCertificate")],h.prototype,"exa",null);t.__decorate([f.config(f.cd,"outputRestrictedIsFatal")],h.prototype,"M6a",null);t.__decorate([f.config(f.cd,"outputRestrictedIsFatalForUhd")],h.prototype,"N6a",null);h=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.fm)),t.__param(1,(0,g.l)(a.VB)),t.__param(2,(0,g.l)(m.x0)),t.__param(2,(0,g.optional)())],h);b.BDa=h;},function(t,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.NWa=void 0;t=a(0);c=a(124);g=a(620);l=a(70);m=a(621);d=a(326);f=a(629);b.NWa=new t.rd(function(h){h(c.aDa).to(g.$Ca).ba();h(l.xt).to(m.uHa).ba();h(d.DDa).to(f.CDa);});},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v;function c(x,y,z,A,B,E,D,F,G,C){var H;H=this;this.Oc=y;this.dB=z;this.config=A;this.ks=B;this.PDb=E;this.yM=D;this.Bk=F;this.CO=G;this.Om=C;this.N1b=function(K,M){var I;H.Om.mark(v.Ma.Z0,K.cj.ca,"generate-challenge");I=!1;M.N_b(function(Q){I || (I=!0,H.Om.mark(v.Ma.Y0,K.cj.ca,"generate-challenge"));H.DH(K,M,Q).then(function(L){M.eRa(L);H.Xvb(M);}).catch(function(L){return M.gtb(L);});});};this.log=x.mb("DrmServices");this.ks().Dp && this.yM.K8a().then(function(){H.jYb();}).catch(function(K){H.log.error("Unable to load the persisted DRM data",K);});this.config.G1a && this.Bk.Qw().then(function(K){return H.aVa(G(),K,h.ji.Mp).then(function(M){return M.close();});});}Object.defineProperty(b,"__esModule",{value:!0});b.$Ca=void 0;t=a(1);g=a(0);l=a(7);m=a(48);d=a(325);f=a(71);h=a(60);k=a(69);n=a(207);p=a(206);q=a(326);u=a(13);r=a(70);w=a(139);v=a(64);c.prototype.QGb=function(x,y){return this.aH(y,x.type,x.context).then(function(z){return z.TGb(x.initData).then(function(A){return [z,{Xo:z.qu(),data:A.jk}];});});};c.prototype.$g=function(x,y){var z;z=this;this.log.info("Requesting challenges",this.YZa(x,x.type));return this.aH(y,x.type,x.context).then(function(A){z.q5a(x,A);return A.UGb(x.initData).then(function(){return A;});});};c.prototype.q5a=function(x,y){y.U_b(x.cj);this.N1b(x,y);};c.prototype.release=function(x,y){var z;z=this;this.log.info("Releasing server license",this.R_a(x));return this.RJb(x).then(function(){var A;A=Object.assign({active:!1,xe:[]},x.cj);z.yM.dZ(A);y.wYb();return x;});};c.prototype.YZa=function(x,y){return {movieId:x.cj.K,xid:x.cj.ca,type:(0,h.Nra)(y)};};c.prototype.R_a=function(x){return {movieId:x.cj?x.cj.K:void 0,xid:x.cj?x.cj.ca:void 0,keySessionId:x.aA()};};c.prototype.DH=function(x,y,z){this.log.info("Sending license request",this.YZa(x,z.$f));return this.dB.$g({ca:x.cj.ca,Ai:x.cj.Ai,K5:[x.cj.Am],jk:[{sessionId:y.aA() || "session",data:z.jk}],$f:z.$f,Xo:y.qu(),ATa:z.ATa,CX:x.cj.CX,yk:x.cj.yk});};c.prototype.RJb=function(x){this.log.info("Sending release request",this.R_a(x));return this.dB.release({ca:x.cj.ca,xe:x.xe});};c.prototype.aH=function(x,y,z){var A;A=this;return this.Bk.Qw().then(function(B){return A.aVa(x,B,y,z);});};c.prototype.aVa=function(x,y,z,A){return this.PDb.create().then(function(B){return B.createSession(y,x,z,A).then(function(){return B;});});};c.prototype.iYb=function(x){var y;y=this;return this.dB.release({ca:x.ca,xe:x.xe}).catch(function(z){y.log.error("Unable to send release data to the server",z);});};c.prototype.jYb=function(){var x;x=this;this.Oc.Jk(this.config.Dua,function(){x.log.trace("Removing cached sessions",{"count:":x.yM.L5.length});x.yM.L5.filter(function(y){return !y.active;}).reduce(function(y,z){return y.then(function(){return x.iYb(z);}).then(function(){return x.yM.dZ(z);});},Promise.resolve(void 0));});};c.prototype.Xvb=function(x){var y;if(x.aA() && x.cj){y=new p.P0();y.xe=x.xe;y.ca=x.cj.ca;y.K=x.cj.K;this.yM.aRa(y);}};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub)),t.__param(1,(0,g.l)(m.Wj)),t.__param(2,(0,g.l)(d.ZCa)),t.__param(3,(0,g.l)(k.Ev)),t.__param(4,(0,g.l)(u.bd)),t.__param(5,(0,g.l)(q.DDa)),t.__param(6,(0,g.l)(n.Vca)),t.__param(7,(0,g.l)(r.xt)),t.__param(8,(0,g.l)(w.dS)),t.__param(9,(0,g.l)(f.gS))],a);b.$Ca=a;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F;function c(G,C,H,K,M,I,Q,L,J,O){this.Bs=G;this.se=C;this.di=H;this.sj=K;this.Xc=M;this.is=I;this.QX=Q;this.config=L;this.tq=J;this.Xh=O;this.log=this.Bs.mb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.uHa=void 0;t=a(1);g=a(0);l=a(3);m=a(7);d=a(96);f=a(138);h=a(622);k=a(623);n=a(624);p=a(209);q=a(29);u=a(77);r=a(36);w=a(27);v=a(39);x=a(625);y=a(627);z=a(78);A=a(13);B=a(112);E=a(69);D=a(72);F=a(55);c.prototype.Qw=function(){this.promise || (this.promise=this.BZb());return this.promise;};c.prototype.LAb=function(G){var C;C=this;return new Promise(function(H,K){var M,I;M=B.Lb.uoa(G);I=C.BZa(M);M=C.uZa(M);I.RYb(G,M.bpa()).then(function(Q){C.log.trace("Created the media keys system access",{keySystem:G,supportedconfig:Q.getConfiguration?JSON.stringify(Q.getConfiguration()):void 0});C.keySystem=(0,F.Eoa)(Q);H(Q);}).catch(function(Q){C.log.error("Unable to create the media key system access object",{keySystem:G,error:Q.message});K(new d.oh(l.N.jDa,l.M.Qk,void 0,"Unable to create media keys system access. " + Q.message,Q));});});};c.prototype.qu=function(){var G;G=this;return this.Qw().then(function(C){return G.vZa(C);});};c.prototype.cIb=function(){var G,C;G=this;C=this.config().X2a || [this.config().Im];if(1 < C.length)return this.Qw().then(function(H){return G.vZa(H);}).then(function(H){return B.Lb.tZa(H);});C=B.Lb.uoa(C[0]);return Promise.resolve(B.Lb.tZa(C));};c.prototype.dIb=function(){var G;G=this;return this.qu().then(function(C){return G.uZa(C);});};c.prototype.fIb=function(){var G;G=this;return this.qu().then(function(C){return G.BZa(C);});};c.prototype.vZa=function(G){return B.Lb.uoa(G.keySystem);};c.prototype.uZa=function(G){switch(G){case f.uo.wE:return new h.zDa(this.sj,this.Xc);case f.uo.sH:return new y.DLa(this.sj,this.Xc,this.di,this.Xh);default:return new n.LBa(this.sj,this.tq,this.config);}};c.prototype.BZa=function(G){switch(G){case f.uo.wE:return new k.IKa(this.QX,this.is,this.Xc,this.se,this.tq,this.di);case f.uo.sH:return new x.$Da(this.QX,this.is,this.Xc,this.se,this.tq,this.di);default:return new p.Pv(this.QX,this.is,this.Xc,this.se,this.tq,this.di);}};c.prototype.BZb=function(){var G,C;G=this;C=(this.config().X2a || [this.config().Im]).map(function(H){return function(){return G.LAb(H);};});return this.CZb(C);};c.prototype.CZb=function(G){return G.reduce(function(C,H){return C.then(function(K){return Promise.resolve(K);}).catch(function(){return H();});},Promise.reject(Error("keySystem missing")));};Ya.Object.defineProperties(c.prototype,{W2a:{configurable:!0,enumerable:!0,get:function(){return this.keySystem;}}});a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.ub)),t.__param(1,(0,g.l)(q.jg)),t.__param(2,(0,g.l)(z.Uv)),t.__param(3,(0,g.l)(u.Vx)),t.__param(4,(0,g.l)(r.Ji)),t.__param(5,(0,g.l)(w.hg)),t.__param(6,(0,g.l)(v.NK)),t.__param(7,(0,g.l)(A.bd)),t.__param(8,(0,g.l)(E.Ev)),t.__param(9,(0,g.l)(D.Nv))],a);b.uHa=a;},function(t,b,a){var g,l,m,d,f,h,k,n,p;function c(q,u){this.sj=q;this.Xc=u;}Object.defineProperty(b,"__esModule",{value:!0});b.zDa=void 0;t=a(1);g=a(0);l=a(3);m=a(77);d=a(36);f=a(208);h=a(96);k=a(65);n=a(41);p=a(55);c.prototype.U4=function(){return !0;};c.prototype.Ija=function(){return !1;};c.prototype.wka=function(){return !1;};c.prototype.mW=function(){return p.Yx;};c.prototype.joa=function(){};c.prototype.bpa=function(){return [{initDataTypes:[this.mW()],audioCapabilities:[{contentType:f.GK}],videoCapabilities:[{contentType:f.ly}],sessionTypes:["temporary"]}];};c.prototype.Eqa=function(){Promise.reject(new n.od(l.N.pda));};c.prototype.tla=function(q){var u;u=new Uint8Array(q.message);u=this.gna(u,"PlayReadyKeyMessage","Challenge");u=this.Xc.decode(u);return {type:q.type,sessionId:q.target.sessionId,mI:[u],messageType:q.messageType};};c.prototype.Bz=function(q){var u,r,w;u=new h.oh(l.N.Hr);r=q.code;null != r && void 0 !== r?(r=parseInt(r,10),u.Ec=1 <= r && 9 >= r?l.M.ut + r:l.M.ut):u.Ec=q instanceof k.Jr?l.M.rR:l.M.Qk;try{w=(/\((\d+)\)/).exec(q.message);u.Nd=this.sj.wH(Number(w && w[1]),4);}catch(v){}u.mV(q);return u;};c.prototype.gna=function(q,u){var w,v,x;for(var r=1;r < arguments.length;++r){;}for(r=1;r < arguments.length;r++){;}r="";v=q.length;for(w=0;w < v;w++){x=q[w];0 < x && (r+=String.fromCharCode(x));}v="\\s*(.*)\\s*";for(w=arguments.length - 1;0 < w;w--){x=arguments[w];if(0 > r.search(x))return "";x="(?:[^:].*:|)" + x;v="[\\s\\S]*<" + x + "[^>]*>" + v + "</" + x + ">[\\s\\S]*";}return (r=r.match(new RegExp(v)))?r[1]:"";};c.prototype.FN=function(){};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.Vx)),t.__param(1,(0,g.l)(d.Ji))],a);b.zDa=a;},function(t,b,a){var g,l,m,d;function c(){return l.Pv.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.IKa=void 0;t=a(1);g=a(0);l=a(209);m=a(96);d=a(3);na(c,l.Pv);c.prototype.e5=function(f,h,k,n,p){this.m9a(k);this.k9a(n);this.i9a(p);this.wpb=this.wb;this.wb=f.createSession(h);this.jRa(k);this.dRa(n);this.bRa(p);return this.generateRequest(this.initDataType,this.initData);};c.prototype.close=function(){var h;function f(k){return k && k.sessionId?k.close().then(function(){return k=void 0;}):Promise.resolve();}h=this;this.$ka=void 0;return this.wb?f(this.wb).then(function(){f(h.wpb);}):Promise.reject(new m.oh(d.N.iDa,d.M.sK,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(f,h){this.initDataType=f;this.initData=h;return l.Pv.prototype.generateRequest.call(this,f,h);};a=c;a=t.__decorate([(0,g.T)()],a);b.IKa=a;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q;function c(u,r,w){this.sj=u;this.tq=r;this.config=w;}Object.defineProperty(b,"__esModule",{value:!0});b.LBa=void 0;t=a(1);g=a(0);l=a(3);m=a(77);d=a(208);f=a(96);h=a(65);k=a(69);n=a(13);p=a(41);q=a(55);c.prototype.U4=function(){return !1;};c.prototype.Ija=function(){return !0;};c.prototype.wka=function(){return !0;};c.prototype.mW=function(){return q.Yx;};c.prototype.joa=function(){return this.tq.exa?this.tq.exa:q.BNa;};c.prototype.bpa=function(){var u,r;u=[{contentType:d.ly,robustness:q.yK},{contentType:d.ly,robustness:q.Ifa},{contentType:d.ly,robustness:q.Z1}];r=[{contentType:d.ly,robustness:q.Z1}];return [{initDataTypes:[this.mW()],persistentState:"required",videoCapabilities:this.config().oYa?r:u}];};c.prototype.Eqa=function(){Promise.reject(new p.od(l.N.pda));};c.prototype.tla=function(u){var r;return {type:u.type,sessionId:null === (r=u.target) || void 0 === r?void 0:r.sessionId,mI:[new Uint8Array(u.message)],messageType:u.messageType};};c.prototype.Bz=function(u){var r,w,v;r=new f.oh(l.N.Hr);w=null === u || void 0 === u?void 0:u.code;null != w && void 0 !== w?(w=parseInt(w,10),r.Ec=1 <= w && 9 >= w?l.M.ut + w:l.M.ut):r.Ec=u instanceof h.Jr?l.M.rR:l.M.Qk;try{v=u.message.match(/\((\d*)\)/)[1];r.Nd=this.sj.wH(v,4);}catch(x){}r.mV(u);return r;};c.prototype.FN=function(){};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.Vx)),t.__param(1,(0,g.l)(k.Ev)),t.__param(2,(0,g.l)(n.bd))],a);b.LBa=a;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u;function c(r,w,v,x,y,z){r=l.Pv.call(this,r,w,v,x,y,z) || this;r.Xc=v;r.ce=x;r.tq=y;r.di=z;r.O0a=new m.ZDa(r.Xc,r.ce,r.di);return r;}Object.defineProperty(b,"__esModule",{value:!0});b.$Da=void 0;t=a(1);g=a(0);l=a(209);m=a(626);d=a(39);f=a(27);h=a(36);k=a(29);n=a(69);p=a(78);q=a(327);u=a(328);na(c,l.Pv);c.prototype.generateRequest=function(r,w){var v,x,y;v=this;try{x=w.map(function(z){return v.O0a.MIb(z);});this.w1a=x.map(function(z){return v.Xc.encode(z);});y=this.O0a.tyb(x);return l.Pv.prototype.generateRequest.call(this,r,[y]);}catch(z){return Promise.reject(z);}};c.prototype.update=function(r,w,v){var x,y,z,A,B;x=this;if(v)try{y=this.di.encode(r[0]);z=JSON.parse(y).RESPONSES.map(function(E){var D;D=u.a2.ubb(E.ID);return {keyID:w === q.TF.fLa?x.w1a[x.w1a.length - 1]:v[D],payload:E.PAYLOAD};});if(w === q.TF.Request){A=z.map(function(E){return E.keyID;});v.forEach(function(E){-1 === A.indexOf(E) && z.push({keyID:E,error:1});});}B=JSON.stringify(z);r=[this.di.decode(B)];}catch(E){return Promise.reject(E);}return l.Pv.prototype.update.call(this,r,w);};c.prototype.YI=function(){return l.Pv.prototype.update.call(this,[this.di.decode("renew")],q.TF.Request);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(d.NK)),t.__param(1,(0,g.l)(f.hg)),t.__param(2,(0,g.l)(h.Ji)),t.__param(3,(0,g.l)(k.jg)),t.__param(4,(0,g.l)(n.Ev)),t.__param(5,(0,g.l)(p.Uv))],a);b.$Da=a;},function(t,b){function a(c,g,l){var m;m=this;this.Xc=c;this.ce=g;this.di=l;this.MIb=function(d){var f;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=m.Xc.decode(d);d=d.subarray(4);f=new Uint8Array(16);f.set(d);return f;};this.jib={Yx:1667591779,V6b:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.ZDa=void 0;a.prototype.tyb=function(c){var g;g=this.jib.Yx;c=c.map(function(l){return {kdc:"",DOb:l,yja:l,c1b:l,l5b:[1]};});return this.hQb(g,c);};a.prototype.gQb=function(c){var g;g=new Uint8Array(4);new DataView(g.buffer).setUint32(0,c);return this.psa("fpsi",[g]);};a.prototype.fQb=function(c,g,l,m){c=[this.psa("fkri",[c])];g.byteLength && c.push(this.uX("fkai",[g]));l.byteLength && c.push(this.uX("fkcx",[l]));m.length && c.push(this.uX("fkvl",[new Uint8Array(new Uint32Array(m).buffer)]));return this.uX("fpsk",c);};a.prototype.hQb=function(c,g){var l,d;l=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.gQb(c)];for(var m in g){d=g[m];c.push(this.fQb(d.DOb,d.yja,d.c1b,d.l5b));}g=this.uX("fpsd",c);m=new Uint8Array(4);new DataView(m.buffer).setUint32(0,g.byteLength);return this.psa("pssh",[l,m,g]);};a.prototype.psa=function(c,g){var l,m,d;l=0;for(d in g){l+=g[d].byteLength;}l=new Uint8Array(12 + l);m=new DataView(l.buffer);d=0;m.setUint32(d,l.byteLength);d+=4;l.set(this.di.decode(c),d);d+=4;m.setUint32(d,0);d+=4;for(var f in g){c=g[f];l.set(c,d);d+=c.byteLength;}return l;};a.prototype.uX=function(c,g){var l,m;l=0;for(m in g){l+=g[m].byteLength;}l=new Uint8Array(8 + l);m=0;new DataView(l.buffer).setUint32(m,l.byteLength);m+=4;l.set(this.di.decode(c),m);m+=4;for(var d in g){c=g[d];l.set(c,m);m+=c.byteLength;}return l;};b.ZDa=a;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r;function c(w,v,x,y){this.sj=w;this.Xc=v;this.di=x;this.Xh=y;}Object.defineProperty(b,"__esModule",{value:!0});b.DLa=void 0;t=a(1);g=a(0);l=a(3);m=a(77);d=a(78);f=a(96);h=a(65);k=a(36);n=a(55);p=a(329);q=a(41);u=a(72);r=a(328);c.prototype.U4=function(){return !1;};c.prototype.Ija=function(){return !1;};c.prototype.wka=function(){return !0;};c.prototype.mW=function(){return n.Yx;};c.prototype.joa=function(){return n.V0;};c.prototype.bpa=function(){return [{initDataTypes:[n.Yx],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary"]}];};c.prototype.Eqa=function(w){w.YI();};c.prototype.tla=function(w){var v,x;v=[];if(w.messageType === p.kea || w.messageType === p.jea){if(w.messageType === p.kea){x=this.di.encode(new Uint8Array(w.message));v=JSON.parse(x);x=v.map(function(y){return y.keyID;});v=v.map(function(y){return y.payload;});}else v=[this.Xc.encode(new Uint8Array(w.message))];if(0 === v.length || !v.every(function(y){return y && y.length;}))throw new q.od(l.N.oDa);v=this.U2b(v);v=this.di.decode(JSON.stringify(v));}else v=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,mI:[v],messageType:w.messageType,Xw:x};};c.prototype.Bz=function(w){var v,x,y,z;x=null === (v=w.target) || void 0 === v?void 0:v.error;if(x)(y=x.systemCode,z=x.code);v=new f.oh(l.N.Hr,w instanceof h.Jr?l.M.rR:l.M.ut,y?this.sj.wH(y,4):z,"",x);v.mV(w);return v;};c.prototype.U2b=function(w){w=w.map(function(v,x){return {ID:r.a2.EMb(x),PAYLOAD:v};});return {VERSION:this.Xh.Cw?3:1,CHALLENGES:w};};c.prototype.FN=function(w,v){var x,y;x=this;if(v && this.Xh.Cw)try{y=this.di.encode(v[0]);return JSON.parse(y).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=r.a2.ubb(z.ID);z=x.Xc.decode(z.DHB).subarray(4,12);A=x.Xc.decode(w[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new f.oh(l.N.rlb,void 0,void 0,void 0,z);}};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.Vx)),t.__param(1,(0,g.l)(k.Ji)),t.__param(2,(0,g.l)(d.Uv)),t.__param(3,(0,g.l)(u.Nv))],a);b.DLa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.M1=void 0;b.M1=function(){var a;a=this;this.promise=new Promise(function(c,g){a.resolve=c;a.reject=g;});};},function(t,b,a){var g,l,m,d,f,h,k,n;function c(p,q,u,r,w,v){this.Bs=p;this.Ea=q;this.Xc=u;this.config=r;this.up=w;this.Bk=v;}Object.defineProperty(b,"__esModule",{value:!0});b.CDa=void 0;t=a(1);g=a(0);l=a(7);m=a(19);d=a(36);f=a(69);h=a(65);k=a(329);a=a(70);c.prototype.create=function(){var p;p=this;return Promise.all([this.Bk.fIb(),this.Bk.dIb(),this.Bk.qu()]).then(function(q){var u,r;u=ba(q);q=u.next().value;r=u.next().value;u=u.next().value;return new k.EDa(p.Bs,p.Ea,p.Xc,p.config,q,r,u,p.up);});};n=c;n=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub)),t.__param(1,(0,g.l)(m.md)),t.__param(2,(0,g.l)(d.Ji)),t.__param(3,(0,g.l)(f.Ev)),t.__param(4,(0,g.l)(h.ty)),t.__param(5,(0,g.l)(a.xt))],n);b.CDa=n;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,O,N;Object.defineProperty(b,"__esModule",{value:!0});b.u3a=void 0;c=a(631);g=a(656);l=a(665);m=a(668);d=a(974);f=a(1007);h=a(1045);k=a(1048);n=a(1060);p=a(1070);q=a(1074);u=a(1076);r=a(1107);w=a(1109);v=a(1113);x=a(1128);y=a(1136);z=a(1142);A=a(1145);B=a(1152);E=a(205);D=a(1160);F=a(1161);G=a(1168);C=a(1182);H=a(1188);K=a(1190);M=a(1197);I=a(1226);Q=a(1248);L=a(1252);J=a(1256);O=a(1270);N=a(1273);b.u3a=function(P){P.load(c.yz,h.JJ,g.J3a,k.Jn,l.p5a,m.V,d.$db,f.S0a,n.storage,p.rM,q.lTa,u.d4a,r.jE,w.pk,v.I3a,x.E5a,y.CYa,z.v8a,A.MI,B.JWa,E.eme,D.crypto,F.se,G.Gd,C.Ia,H.v5a,K.q7a,M.j,I.jUa,Q.transports,L.Rl,J.bh,O.nSa,N.oa);};},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,O,N,P,S,U,Z,ja,ya,ra,Y,pa,T,R,ea,sa,la,Ka,Ua,$a,Za,cb,Va,Qa,xa,Da,Na,Xa,hb,wb,Eb,Fb,Nb;Object.defineProperty(b,"__esModule",{value:!0});b.yz=void 0;t=a(0);c=a(39);g=a(38);l=a(48);m=a(81);d=a(141);f=a(632);h=a(633);k=a(634);n=a(635);p=a(78);q=a(77);u=a(36);r=a(29);w=a(27);v=a(98);x=a(65);y=a(332);z=a(636);A=a(333);B=a(637);E=a(638);D=a(639);F=a(198);G=a(334);C=a(640);H=a(204);K=a(114);M=a(641);I=a(19);Q=a(335);L=a(642);J=a(643);O=a(97);N=a(644);P=a(7);S=a(331);U=a(645);Z=a(71);ja=a(646);ya=a(336);ra=a(647);Y=a(648);pa=a(115);T=a(11);R=a(649);ea=a(338);sa=a(339);la=a(650);Ka=a(340);Ua=a(13);$a=a(35);Za=a(142);cb=a(341);Va=a(167);Qa=a(651);xa=a(342);Da=a(343);Na=a(211);Xa=a(652);hb=a(344);wb=a(653);Eb=a(212);Fb=a(654);Nb=a(655);b.yz=new t.rd(function(Cb){Cb(c.tS).TE(function(){return {};}).ba();Cb(c.qF).Mj(JSON);Cb(c.ENa).Mj(nb);Cb(d.uMa).Mj(Math);Cb(c.lGa).Mj(T.z1);Cb(c.Wea).Mj(T.Lv);Cb(c.jNa).Mj(T.gC);Cb(c.tCa).Mj(Date);Cb(c.NK).Mj(T.Qe);Cb(c.jkb).Mj(T.eC);Cb(S.PBa).to(U.OBa).ba();Cb(I.md).to(M.eAa).ba();Cb(g.gi).to(n.QBa).ba();Cb(l.Wj).to(f.ELa).ba();Cb(m.hy).to(h.wFa).ba();Cb(x.ty).to(D.WKa).ba();Cb(d.T1).to(k.cLa).ba();Cb(cb.rea).to(Nb.qHa).ba();Cb(O.Bv).to(J.zCa).ba();Cb(O.xCa).to(N.wCa).ba();Cb(p.Uv).to(z.kNa).ba();Cb(q.Vx).to(A.Ica).ba();Cb(u.Ji).to(B.LAa).ba();Cb(r.jg).to(E.lNa).ba();Cb(w.hg).Mj(F.pF);Cb(xa.tR).to(Da.RDa).ba();Cb(v.vda).to(G.Rk).mqa();Cb(v.M0).to(G.Rk).ba();Cb(v.KCa).to(G.Rk).ba();Cb(v.yda).to(G.Rk).ba();Cb(H.Rfa).to(K.nC).ba();Cb(Q.iCa).to(L.hCa).ba();Cb(Z.RF).to(ja.Wfa).ba();Cb(Z.gS).to(ja.Wfa).ba();Cb("Factory<LoggerFactory>").ncb(P.ub);Cb(ya.kda).to(ra.ACa).ba();Cb(pa.WK).Af(function(Kb){return function(Ub){return new Y.FMa(Kb.fb.get(I.md),Kb.fb.get(l.Wj),Ub);};});Cb(hb.uCa).Af(function(Kb){return function(Ub){return new wb.vCa(Kb.fb.get(l.Wj),Ub);};});Cb(R.tfa).W2b(ea.sfa);Cb(R.Rlb).Af(function(Kb){var Ub;Ub=Kb.fb.get(R.tfa);return function(){return new Ub(!1);};});Cb(R.Slb).Af(function(Kb){var Ub;Ub=Kb.fb.get(R.tfa);return function(){return new Ub(!0);};});Cb(sa.hNa).Af(function(){return function(Kb){return new la.iNa(Kb);};});Cb(Za.uS).Af(function(Kb){return function(Ub,mc,Ec){return new Ka.iKa(Kb.fb.get(O.Bv),Kb.fb.get(Ua.bd),Kb.fb.get($a.Dl),Kb.fb.get(cb.rea),Ub,mc,Ec);};});Cb(y.mIa).Af(function(){return function(Kb){return new C.nIa(Kb);};});Cb(Va.VB).to(Qa.aBa);Cb(Na.i2).Af(function(Kb){return function(Ub,mc){return new Xa.QMa(Kb.fb.get(l.Wj),Ub,mc);};});Cb(Eb.KDa).to(Fb.JDa).ba();});},function(t,b,a){var l,m,d,f;function c(h){this.pQ=h;(0,m.lp)(this,"timers");}function g(h,k){this.pQ=h;this.Ewb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.ELa=void 0;t=a(1);l=a(0);m=a(59);d=a(39);f=a(5);g.prototype.cancel=function(){this.Ewb(this.pQ);};c.prototype.Xl=function(h){return this.Jk(f.eb,h);};c.prototype.Jk=function(h,k){var n;n=this.pQ.setTimeout(k,h.da(f.la));return new g(this.pQ,function(p){p.clearTimeout(n);});};c.prototype.yaa=function(h,k){var n;n=this.pQ.setInterval(k,h.da(f.la));return new g(this.pQ,function(p){p.clearInterval(n);});};a=c;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(d.ENa))],a);b.ELa=a;},function(t,b,a){var g,l,m,d,f;function c(h,k){this.za=h;this.random=k;}Object.defineProperty(b,"__esModule",{value:!0});b.wFa=void 0;t=a(1);l=a(0);m=a(5);d=a(38);a=a(141);c.prototype.Cz=function(){return this.za.kf.da(m.Ao) * g.sBa + Math.floor(this.random.random() * g.sBa);};f=g=c;f.sBa=1E8;f=g=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(d.gi)),t.__param(1,(0,l.l)(a.T1))],f);b.wFa=f;},function(t,b,a){var g,l;function c(m){this.n2b=m;}Object.defineProperty(b,"__esModule",{value:!0});b.cLa=void 0;t=a(1);g=a(0);a=a(141);c.prototype.random=function(){return this.n2b.random();};c.prototype.E8a=function(m,d){if("number" !== typeof m)(d=m.end,m=m.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(m + this.random() * (d - m));};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.uMa))],l);b.cLa=l;},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p,q,u){var r;r=this;this.config=n;this.FBb=p;this.Vb=q;this.performance=u;this.bUb=function(w){r.D$a=w.Ka(r.kf);};(0,g.lp)(this,"date");(0,g.lp)(this,"performance");this.Ytb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.D$a=l.eb;this.Vb.addListener(k.Qda.G$a,this.bUb);}Object.defineProperty(b,"__esModule",{value:!0});b.QBa=void 0;t=a(1);g=a(59);l=a(5);m=a(0);d=a(39);f=a(331);h=a(98);k=a(15);Ya.Object.defineProperties(c.prototype,{kf:{configurable:!0,enumerable:!0,get:function(){return this.s5a?(0,l.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,l.Nc)(this.FBb.now());}},AZ:{configurable:!0,enumerable:!0,get:function(){return this.kf.add(this.D$a);}},s5a:{configurable:!0,enumerable:!0,get:function(){return this.config.Jdb && this.Ytb;}}});a=c;a=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(f.PBa)),t.__param(1,(0,m.l)(d.tCa)),t.__param(2,(0,m.l)(h.yda)),t.__param(3,(0,m.l)(d.Wea)),t.__param(3,(0,m.optional)())],a);b.QBa=a;},function(t,b,a){var g,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.kNa=void 0;t=a(1);a=a(0);c.prototype.encode=function(m){return g.Mma(m);};c.prototype.decode=function(m){return g.Xla(m);};c.Mma=function(m){if(!m)throw new TypeError("Invalid byte array");for(var d=0,f,h=m.length,k="";d < h;){f=m[d++];if(!(0 <= f && 255 >= f))throw Error("bad utf8");if(f & 128)if(192 === (f & 224))f=((f & 31) << 6) + (m[d++] & 63);else if(224 === (f & 240))f=((f & 15) << 12) + ((m[d++] & 63) << 6) + (m[d++] & 63);else throw Error("unsupported utf8 character");k+=String.fromCharCode(f);}return k;};c.Xla=function(m){var d,f,h,k,n;d=m.length;f=0;k=0;if(!(0 <= d))throw Error("bad string");for(h=d;h--;){n=m.charCodeAt(h);128 > n?f++:f=2048 > n?f + 2:f + 3;}f=new Uint8Array(f);for(h=0;h < d;h++){n=m.charCodeAt(h);128 > n?f[k++]=n:(2048 > n?f[k++]=192 | n >>> 6:(f[k++]=224 | n >>> 12,f[k++]=128 | n >>> 6 & 63),f[k++]=128 | n & 63);}return f;};l=g=c;l=g=t.__decorate([(0,a.T)()],l);b.kNa=l;},function(t,b,a){var g,l,m,d,f,h,k,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.LAa=void 0;t=a(1);a=a(0);l=Array.prototype.slice;m=l.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");l=l.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};f={};h={};k={};n=/\s+/g;[m,l].forEach(function(p){var u;for(var q=p.length;q--;){u=p[q];d[u]=q << 18;f[u]=q << 12;h[u]=q << 6;k[u]=q;}});c.prototype.encode=function(p){return g.Mma(p,m,"=");};c.prototype.decode=function(p){return g.Xla(p);};c.Xla=function(p){var q,u,r;p=p.replace(n,"");q=p.length;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=3 * (q >> 2);r=0;switch(q % 4){case 2:r=1;break;case 3:r=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(u + r);for(var w=0,v=0,x;v < u;){x=d[p[w++]] + f[p[w++]] + h[p[w++]] + k[p[w++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");q[v++]=x >>> 16;q[v++]=x >>> 8 & 255;q[v++]=x & 255;}if(0 < r && (x=d[p[w++]] + f[p[w++]],q[v++]=x >>> 16,1 < r && (x+=h[p[w++]],q[v++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < r?255:65535)))))throw Error("bad base64");return q;};c.Mma=function(p,q,u){for(var r="",w=0,v=p.length,x=v - 2,y;w < x;){y=(p[w++] << 16) + (p[w++] << 8) + p[w++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");r+=q[y >>> 18] + q[y >>> 12 & 63] + q[y >>> 6 & 63] + q[y & 63];}if(w == x){y=(p[w++] << 8) + p[w++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");r+=q[y >>> 10] + q[y >>> 4 & 63] + q[y << 2 & 63] + u;}else if(w == v - 1){y=p[w++];if(!(0 <= y && 255 >= y))throw Error("not bytes");r+=q[y >>> 2] + q[y << 4 & 63] + u + u;}return r;};l=g=c;l=g=t.__decorate([(0,a.T)()],l);b.LAa=l;},function(t,b,a){var g,l,m,d;function c(f,h){this.is=f;this.sj=h;}Object.defineProperty(b,"__esModule",{value:!0});b.lNa=void 0;t=a(1);g=a(0);a(3);l=a(27);m=a(77);d=a(11);c.prototype.rI=function(f,h,k){var n,p,q,u;n=this;if(h)if(k){p=k.wO;q=k.prefix;u=k.VA;this.qD(h,function(r,w){if(!u || n.is.Mg(w))f[(q || "") + (p?r.toLowerCase():r)]=w;});}else this.qD(h,function(r,w){f[r]=w;});return f;};c.prototype.qD=function(f,h){for(var k in f){f.hasOwnProperty(k) && h(k,f[k]);}};c.prototype.Vt=function(f,h){if(f.length == h.length){for(var k=f.length;k--;){if(f[k] != h[k])return !1;}return !0;}return !1;};c.prototype.FUa=function(f,h){if(f.length != h.length)return !1;f.sort();h.sort();for(var k=f.length;k--;){if(f[k] !== h[k])return !1;}return !0;};c.prototype.wd=function(f){var h,k,n;if(f){h=f.stack;k=f.number;n=f.message;n || (n="" + f);h?(f="" + h,0 !== f.indexOf(n) && (f=n + "\n" + f)):f=n;k && (f+="\nnumber:" + k);return f;}};c.prototype.getFunctionName=function(f){return (f=(/function (.{1,})\(/).exec(f.toString())) && 1 < f.length?f[1]:"";};c.prototype.loa=function(f){return this.getFunctionName(f.constructor);};c.prototype.Lta=function(f){var h,k;h=this;k="";this.is.ez(f) || this.is.JRa(f)?k=Array.prototype.reduce.call(f,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.aq(f)?k=f:this.qD(f,function(n,p){k+=(k?", ":"") + "{" + n + ": " + (h.is.Q3(p)?h.getFunctionName(p) || "function":p) + "}";});return "[" + this.loa(f) + " " + k + "]";};c.prototype.createElement=function(f,h,k,n){var p;p=d.Be.createElement(f);h && (p.style.cssText=h);k && (p.innerHTML=k);n && this.qD(n,function(q,u){p.setAttribute(q,u);});return p;};c.prototype.HFb=function(f,h){return function(k){return k[f] === h;};};c.prototype.pY=function(f){var h;h={};(f || "").split("&").forEach(function(k){var n,p;k=k.trim();n=k.indexOf("=");if(0 <= n){p=decodeURIComponent(k.substr(0,n)).toLowerCase();h[p]=decodeURIComponent(k.substr(n + 1));}else h[k.toLowerCase()]=void 0;});return h;};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.hg)),t.__param(1,(0,g.l)(m.Vx))],a);b.lNa=a;},function(t,b,a){var g,l,m;function c(d){this.Oc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.WKa=void 0;t=a(1);g=a(0);l=a(48);m=a(65);c.prototype.cr=function(d,f){var h;h=this;return new Promise(function(k,n){var p;p=h.Oc.Jk(d,function(){n(new m.Jr(d));});f.then(function(q){k(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.Wj))],a);b.WKa=a;},function(t,b,a){var g;function c(l){this.$Gb=l;this.x7=!1;this.N7=this.eg=this.kQ=0;this.OW=!1;this.O7=0;}Object.defineProperty(b,"__esModule",{value:!0});b.nIa=void 0;g=a(17);c.prototype.ktb=function(l){l < this.kQ && (this.eg+=this.kQ);this.kQ=l;this.x7=!0;};c.prototype.MHb=function(){if(this.x7)return this.OW?this.O7 - this.N7:this.eg + this.kQ - this.N7;};c.prototype.refresh=function(){var l;l=this.$Gb();(0,g.Fa)(l) && this.ktb(l);};c.prototype.e1b=function(){this.OW || (this.x7 && (this.O7=this.eg + this.kQ),this.OW=!0);};c.prototype.r1b=function(){this.OW && (this.x7 && (this.N7+=this.eg + this.kQ - this.O7),this.O7=0,this.OW=!1);};b.nIa=c;},function(t,b,a){var g,l,m,d;function c(f,h){this.za=f;this.B6=this.za.kf.da(m.la) - 1;this.UPb=this.I8=0;this.id="" + h.Cz();}Object.defineProperty(b,"__esModule",{value:!0});b.eAa=void 0;t=a(1);g=a(0);l=a(38);m=a(5);a=a(81);c.prototype.$b=function(){var f,h;f=this.za.kf.da(m.la) - this.B6;if(f < this.I8){h=this.I8 + 1;this.B6-=h - f;f=h;}this.I8=f;return (0,m.Nc)(this.I8);};c.prototype.VIb=function(){return this.UPb++;};Ya.Object.defineProperties(c.prototype,{zA:{configurable:!0,enumerable:!0,get:function(){return (0,m.Nc)(this.B6);}}});d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.gi)),t.__param(1,(0,g.l)(a.hy))],d);b.eAa=d;},function(t,b,a){var g,l,m,d;function c(f,h){this.is=f;this.se=h;}Object.defineProperty(b,"__esModule",{value:!0});b.hCa=void 0;t=a(1);l=a(0);m=a(27);a=a(29);c.prototype.encode=function(f){var h,k;h=this;k="";this.se.qD(f,function(n,p){n=h.fXa(n) + "=" + h.fXa(p);k=k?k + ("," + n):n;});return k;};c.prototype.fXa=function(f){return this.is.fH(f)?this.is.Qi(f)?"" + f:this.is.aq(f)?(f=f.replace(g.Vva,this.wsa.bind(this)),!g.tXb.test(f) && g.mSb.test(f) && (f='"' + f + '"'),f):this.is.ZT(f)?"" + f:this.is.Fia(f)?"NaN":"":"";};c.prototype.wsa=function(f){return g.map[f];};d=g=c;d.map={'"':'""',"\r":"","\n":" "};d.Vva=/(?!^.+)["\r\n](?=.+$)/g;d.tXb=/["].*["]/g;d.mSb=/[", ]/;d=g=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(m.hg)),t.__param(1,(0,l.l)(a.jg))],d);b.hCa=d;},function(t,b,a){var g,l,m,d;function c(f,h,k){this.config=f;this.nb=h;this.wa=k.mb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;t=a(1);g=a(0);l=a(27);m=a(97);a=a(7);c.prototype.assert=function(){};c.prototype.qub=function(f,h){this.assert(this.nb.fH(f),h);};c.prototype.rub=function(f,h){this.assert(this.nb.Mg(f),h);};c.prototype.j4=function(f,h){this.assert(this.nb.aq(f),h);};c.prototype.yub=function(f,h){this.assert(this.nb.Bn(f),h);};c.prototype.wub=function(f,h){this.assert(this.nb.aq(f) || null === f || void 0 === f,h);};c.prototype.xja=function(f,h){this.assert(this.nb.Qi(f),h);};c.prototype.uub=function(f,h){this.assert(this.nb.kja(f),h);};c.prototype.xub=function(f,h){this.assert(this.nb.hU(f),h);};c.prototype.vub=function(f,h){this.assert(this.nb.$T(f),h);};c.prototype.pub=function(f,h){this.assert(this.nb.ZT(f),h);};c.prototype.tub=function(f,h){this.assert(this.nb.Q3(f),h);};c.prototype.dNb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.xCa)),t.__param(1,(0,g.l)(l.hg)),t.__param(2,(0,g.l)(a.ub))],d);b.zCa=d;},function(t,b,a){var g,l,m,d;function c(f){f=l.YQ.call(this,f,"DebugConfigImpl") || this;f.Ibc=function(){debugger;};return f;}Object.defineProperty(b,"__esModule",{value:!0});b.wCa=void 0;t=a(1);g=a(46);l=a(47);m=a(0);a=a(37);na(c,l.YQ);Ya.Object.defineProperties(c.prototype,{Ivb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;t.__decorate([g.config(g.cd,"breakOnError")],d.prototype,"Ivb",null);d=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(a.Yca))],d);b.wCa=d;},function(t,b,a){var g,l,m,d;function c(f){return l.YQ.call(this,f,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.OBa=void 0;t=a(1);g=a(46);l=a(47);m=a(0);a=a(37);na(c,l.YQ);Ya.Object.defineProperties(c.prototype,{Jdb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;t.__decorate([g.config(g.cd,"usePerformanceApi")],d.prototype,"Jdb",null);d=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(a.Yca))],d);b.OBa=d;},function(t,b,a){var g,l,m,d;function c(f,h){this.Ea=f;this.entries=new Set();this.wa=h.mb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Wfa=void 0;t=a(1);g=a(0);l=a(19);m=a(5);a=a(7);c.prototype.mark=function(f,h,k){f={name:f,$s:this.Ea.$b()};h && (f.ca=h);k && (f.Lg=k);this.entries.add(f);return f;};c.prototype.Goa=function(){var f;f=[];this.entries.forEach(function(h){return f.push(h);});return f;};c.prototype.d_a=function(f){return this.Goa().filter(function(h){return h.ca === f;});};c.prototype.a_a=function(){var f;f={};try{f=this.Goa().filter(function(h){return !h.ca;}).reduce(function(h,k){h[k.name]=k.$s.da(m.la);return h;},{});}catch(h){this.wa.error(" getMapOfCommonMarks exception",h);}return f;};c.prototype.l9a=function(f){var h;h=this;this.Goa().forEach(function(k){k.ca === f && h.entries.delete(k);});};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.md)),t.__param(1,(0,g.l)(a.ub))],d);b.Wfa=d;},function(t,b,a){var g,l,m,d,f,h,k,n,p;function c(q,u){this.Ea=q;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.ACa=void 0;t=a(1);l=a(0);m=a(19);d=a(41);f=a(3);h=a(15);k=a(5);n=a(11);a=a(337);c.prototype.dWa=function(q){var u,r,w,v,x,y,z,A,B,E;u=this;v=q.mediaTime.value;x=q.Xr.value;y=q.Ab.value;z=q.state.value;A={segmentId:q.Voa(),mediaTime:v,segmentTime:q.AD(),bufferingState:g.Ovb[x],presentingState:g.HWb[y],playbackState:g.EVb[z],mseBuffersBusy:this.hKb(q),intBuffersBusy:this.GIb(q),tabVisible:this.o2b(),decodedFrameCount:this.ZBb(q),videoElementInDom:this.v5b(q),lastVideoSync:this.Ea.$b().Ka((0,k.Nc)(q.e_)).da(k.la)};B=y === h.hb.Sf?q.bb.zi?this.config.G6a:this.config.F6a:this.config.m5a;if(x !== h.Cf.te){if((x=f.M.Cgb,this.VSa(A.mseBuffersBusy,A.intBuffersBusy)))E=g.IAa;}else (y !== h.hb.Lc?x=f.M.Egb:(x=f.M.Dgb,(y=q.cg) && 0 === y.R6() && (E=g.fnb)),(y=q.cg) && y.ac.sourceBuffers.forEach(function(D){var F,G;F=g.Cd[D.mediaType];A[F + "Ranges"]=D.J6();try{G=D.buffered();}catch(C){G=void 0;}G && 0 !== G.length?(D=1E3 * G.end(0) - v,A[F + "Undecoded"]=D,1 < G.length && (E=g.sfb),v < 1E3 * G.start(0) || v > 1E3 * G.end(0)?E=g.tfb:D < B.da(k.la)?E=g.ufb:u.VSa(A.mseBuffersBusy,A.intBuffersBusy) && (E=g.IAa)):(A[F + "Undecoded"]=0,E=g.rfb);}));y=q.w9a.Y_a();z=v === (null === (r=y.repositionTrace) || void 0 === r?void 0:r[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (w=q.Ia) || void 0 === w?void 0:w.QJ;Object.assign(A,y);q="";try{q=JSON.stringify(A);}catch(D){q="Cannot stringify details: " + D;}return new d.od(f.N.yIa,x,E,void 0,void 0,void 0,q,void 0);};c.prototype.hKb=function(q){var u;if(q.ac){u={};q.ac.sourceBuffers.forEach(function(r){u[0 === r.type?"audio":"video"]={updating:r.updating()};});return u;}};c.prototype.GIb=function(q){var u;if(q.ac){u={};q.ac.sourceBuffers.forEach(function(r){u[0 === r.type?"audio":"video"]={updating:r.Rh()};});return u;}};c.prototype.o2b=function(){return !n.Be.hidden;};c.prototype.ZBb=function(q){return (q=q.cg) && (q=q.ac.Z) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.v5b=function(q){if(q=q.cg)if(q=q.ac.Z)return n.Be.body.contains(q);return !1;};c.prototype.VSa=function(q,u){var r,w,v,x;return !((null === (r=q.audio) || void 0 === r?void 0:r.updating) === (null === (w=u.audio) || void 0 === w?void 0:w.updating) && (null === (v=q.video) || void 0 === v?void 0:v.updating) === (null === (x=u.video) || void 0 === x?void 0:x.updating));};p=g=c;p.rfb="1";p.sfb="2";p.tfb="3";p.IAa="4";p.ufb="5";p.fnb="6";p.Cd=["Audio","Video"];p.Ovb=["","NORMAL","BUFFERING","STALLED"];p.HWb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.EVb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=g=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(m.md)),t.__param(1,(0,l.l)(a.xea))],p);b.ACa=p;},function(t,b,a){var g,l,m,d;function c(f,h,k){var n;n=this;this.og=f;this.Oc=h;this.a5=k;this.VO=function(p){n.Hj=void 0;n.E3b(p || n.a5);};this.Y2a=(0,m.Nc)(-this.a5.da(m.la));}Object.defineProperty(b,"__esModule",{value:!0});b.FMa=void 0;t=a(1);g=a(0);l=a(19);m=a(5);a=a(48);c.prototype.Xl=function(f){this.Mwa=f;this.Hj=this.Hj || this.Wf(this.VO);};c.prototype.Oh=function(){this.Hj && this.Hj.cancel();this.Hj=void 0;};c.prototype.E3b=function(f){var h,k;h=this.og.$b();if(this.Mwa){k=f.Ka(h.Ka(this.Y2a));0 >= k.Ll(m.eb)?(f=this.Mwa,this.Mwa=void 0,this.Y2a=h,f()):this.Hj=this.Hj || this.Oc.Jk(k,this.VO.bind(this,f));}};c.prototype.Wf=function(f){return this.Oc.Jk(m.eb,f);};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.md)),t.__param(1,(0,g.l)(a.Wj))],d);b.FMa=d;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tfa="PrioritizedSetOfListsSymbol";b.Rlb="PrioritizedSetOfListsFactorySymbol";b.Slb="PrioritizedSetOfSetsFactorySymbol";},function(t,b){function a(){this.searchParams={};}function c(g){this.Jl=g;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.iNa=void 0;c.prototype.toString=function(){return this.href;};Ya.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Jl + this.searchParams.toString();}}});b.iNa=c;a.prototype.get=function(g){return this.searchParams[g];};a.prototype.set=function(g,l){this.searchParams[g]=l;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(g,l,m){var d;d=ba(l);l=d.next().value;d=d.next().value;return "" + g + (0 == m?"?":"&") + l + "=" + d;},"");};},function(t,b,a){var g,l,m,d,f;function c(h,k){this.ie=this.lFb(h,k.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.pNa=b.aBa=void 0;t=a(1);g=a(0);l=a(13);m=a(37);a=a(39);c.prototype.p7=function(h,k){var n;if(k=this.EKb(k))switch(h){case f.FA:n=0 < k.length?Number(k[0]):0;break;case f.HO:n=1 < k.length?Number(k[1]):0;break;case f.YO:n=2 < k.length?Number(k[2]):0;break;case f.saa:n=3 < k.length?Number(k[3]):0;}return void 0 === n || isNaN(n)?0:n;};c.prototype.EKb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.WH=function(h){return this.ie.name === h;};c.prototype.XH=function(h){return this.ie.q$.name === h;};c.prototype.CNb=function(h){return this.ie.fLb === h;};c.prototype.lFb=function(h,k){return Object.assign(Object.assign({fLb:this.nFb(h,k)},this.kFb(h,k)),{q$:this.oFb(h,k)});};c.prototype.nFb=function(h,k){return k && k.hardware?k.hardware:(/Mobile|iPhone/).test(h)?l.l1.phone:(/Android/).test(h)?l.l1.p2b:l.l1.gyb;};c.prototype.kFb=function(h,k){return k && k.name && k.version?{name:k.name,version:k.version}:(/OPR/).test(h)?{name:l.hn.opera,version:""}:(/Tesla/).test(h)?{name:l.hn.Qbb,version:""}:(k=h.match(/Edge\/(\d*)\./))?{name:l.hn.sq,version:k[1]}:(k=h.match(/Edg\/(\d*)\./))?{name:l.hn.KWa,version:k[1]}:(k=h.match(/Chrome\/(\d*)\./))?{name:l.hn.Oka,version:k[1]}:(k=h.match(/Firefox\/(\d*)\./))?{name:l.hn.gYa,version:k[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:l.hn.i$a,version:h[1]}:{name:l.hn.Oka,version:""};};c.prototype.oFb=function(h,k){return k && k.os && k.os.name && k.os.version?{name:k.os.name,version:k.os.version}:(/CrOS/).test(h)?{name:l.yo.LTa,version:""}:(k=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:l.yo.T3a,version:k[1] + "." + k[2] + "." + k[3]}:(/Windows NT/).test(h)?{name:l.yo.Iza,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:l.yo.a4,version:""}:(/Linux/).test(h)?{name:l.yo.r3a,version:""}:(/iPhone/).test(h)?{name:l.yo.T1a,version:""}:{name:l.yo.Iza,version:""};};Ya.Object.defineProperties(c.prototype,{$1a:{configurable:!0,enumerable:!0,get:function(){return this.WH(l.hn.Oka);}},gO:{configurable:!0,enumerable:!0,get:function(){return this.WH(l.hn.sq);}},Ww:{configurable:!0,enumerable:!0,get:function(){return this.WH(l.hn.KWa);}},WW:{configurable:!0,enumerable:!0,get:function(){return this.WH(l.hn.gYa);}},q8:{configurable:!0,enumerable:!0,get:function(){return this.WH(l.hn.opera);}},lO:{configurable:!0,enumerable:!0,get:function(){return this.WH(l.hn.i$a);}},B2a:{configurable:!0,enumerable:!0,get:function(){return this.WH(l.hn.Qbb);}},d8:{configurable:!0,enumerable:!0,get:function(){return this.XH(l.yo.a4);}},iO:{configurable:!0,enumerable:!0,get:function(){return this.XH(l.yo.T1a);}},e8:{configurable:!0,enumerable:!0,get:function(){return this.XH(l.yo.a4) && this.CNb(l.l1.phone);}},fO:{configurable:!0,enumerable:!0,get:function(){return this.XH(l.yo.LTa);}},HNb:{configurable:!0,enumerable:!0,get:function(){return this.XH(l.yo.r3a);}},jO:{configurable:!0,enumerable:!0,get:function(){return this.XH(l.yo.T3a);}},WD:{configurable:!0,enumerable:!0,get:function(){return this.XH(l.yo.Iza);}},jq:{configurable:!0,enumerable:!0,get:function(){return this.p7(f.FA,this.ie.version);}},wUb:{configurable:!0,enumerable:!0,get:function(){return this.p7(f.FA,this.ie.q$.version);}},xUb:{configurable:!0,enumerable:!0,get:function(){return this.p7(f.HO,this.ie.q$.version);}},yUb:{configurable:!0,enumerable:!0,get:function(){return this.p7(f.YO,this.ie.q$.version);}}});d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.jNa)),t.__param(1,(0,g.l)(m.UR))],d);b.aBa=d;(function(h){h[h.FA=0]="major";h[h.HO=1]="minor";h[h.YO=2]="patch";h[h.saa=3]="revision";})(f=b.pNa || (b.pNa={}));},function(t,b,a){var g,l,m;function c(d,f,h){this.Oc=d;this.P2b=f;this.LH=h;}Object.defineProperty(b,"__esModule",{value:!0});b.QMa=void 0;t=a(1);g=a(48);l=a(0);m=a(5);c.prototype.pH=function(){this.Hj || (this.Hj=this.Oc.Jk((0,m.Nc)(this.P2b),this.LH));};c.prototype.Ys=function(){this.Hj && this.Hj.cancel();this.Hj=void 0;};a=c;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(g.Wj))],a);b.QMa=a;},function(t,b,a){var g,l;function c(m,d){this.Oc=m;this.a5=d;}Object.defineProperty(b,"__esModule",{value:!0});b.vCa=void 0;t=a(1);g=a(0);a=a(48);c.prototype.Xl=function(m){this.Oh();this.Hj=this.Oc.Jk(this.a5,m);};c.prototype.Oh=function(){this.Hj && this.Hj.cancel();this.Hj=void 0;};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.Wj))],l);b.vCa=l;},function(t,b,a){var g,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.JDa=void 0;t=a(1);g=a(0);l=a(212);c.prototype.kN=function(m,d){var f;f=this;m && Object.entries(d).forEach(function(h){var k,n,p;k=ba(h);h=k.next().value;k=k.next().value;if(f.sNb(k)){n=ba(k);k=n.next().value;p=n.next().value;n=m[k];Array.isArray(n)?(f.gma(m,h,k),n.forEach(function(q){f.kN(q,p);})):k === l.rn?Object.values(m).forEach(function(q){f.kN(q,p);}):(f.gma(m,h,k),"object" === typeof n && f.kN(n,p));}else f.gma(m,h,k);});};c.prototype.sNb=function(m){return Array.isArray(m);};c.prototype.gma=function(m,d,f){m.hasOwnProperty(d) || d === f || Object.defineProperty(m,d,{get:function(){return m[f];},set:function(h){return m[f]=h;},enumerable:!0});};a=c;a=t.__decorate([(0,g.T)()],a);b.JDa=a;},function(t,b,a){var g,l,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.qHa=void 0;t=a(1);g=a(13);l=a(12);a=a(0);c.prototype.qu=function(){return this.rNb()?l.bDa:(/widevine/i).test(this.config().Im)?l.nda:(/fps/i).test(this.config().Im)?"fairplay":l.R0;};c.prototype.rNb=function(){return (/clearkey/i).test(this.config().Im);};m=c;m=t.__decorate([(0,a.T)(),t.__param(0,(0,a.l)(g.bd))],m);b.qHa=m;},function(t,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.J3a=void 0;c=a(657);g=a(658);t=a(0);l=a(116);m=a(7);d=a(663);b.J3a=new t.rd(function(f){f(m.ub).to(g.DGa).ba();f(l.EK).to(c.EGa).ba();f(m.bea).to(d.sGa).ba();});},function(t,b,a){var g;function c(){this.Jab={};this.lo=[];}Object.defineProperty(b,"__esModule",{value:!0});b.EGa=void 0;t=a(1);a=a(0);c.prototype.gaa=function(l,m){m && (this.Jab[l]=m,this.lo=Object.values(this.Jab));};g=c;g=t.__decorate([(0,a.T)()],g);b.EGa=g;},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p,q){this.Ea=n;this.lo=p;this.Xra=q;}Object.defineProperty(b,"__esModule",{value:!0});b.DGa=void 0;t=a(1);g=a(213);l=a(0);m=a(660);d=a(19);f=a(116);h=a(7);k=a(661);c.prototype.mb=function(n,p,q,u,r){q=void 0 === q?this.lo:q;return p?new m.ZJa(this.Ea,this.Xra,q,p,n):r?new k.nAa(this.Ea,this.Xra,q,n,u || "",r):new g.DK(this.Ea,this.Xra,q,n);};a=c;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(d.md)),t.__param(1,(0,l.l)(f.EK)),t.__param(2,(0,l.l)(h.bea))],a);b.DGa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fTa=void 0;b.fTa=function(a,c){var l;a=a.TIb();for(var g=0;g < c.length;++g){l=c[g];void 0 != l && null != l && (l.Wh && (l=l.Wh),l.constructor === Uint8Array?a.wtb(l):"MediaRequest" === l.constructor.name?a.itb(l):"string" === typeof l?a.utb(l):"function" === typeof l?a.ctb(l):l instanceof Error?a.$sb(l):l instanceof Object?a.jtb(l):a.xtb(l));}return a.ti();};},function(t,b,a){var g,l,m;function c(d,f,h,k,n){d=m.DK.call(this,d,f,h,n) || this;d.j=k;(0,g.lp)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.ZJa=void 0;g=a(59);l=a(345);m=a(213);na(c,m.DK);c.prototype.Bla=function(d){return new c(this.Ea,this.C4,this.lo,this.j,d);};c.prototype.OC=function(d,f,h){d=new l.aea(d,this.Ro,this.Ea.$b(),f,h,this.j.index);f=ba(this.lo.lo);for(h=f.next();!h.done;h=f.next()){h=h.value;h(d,this.j);}};b.ZJa=c;},function(t,b,a){var g,l;function c(m,d,f,h,k,n){m=g.DK.call(this,m,d,f,h) || this;m.groups=k;Array.isArray(n)?m.prefix=n:n && "string" === typeof n && (m.prefix=[],m.prefix.push(n));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.nAa=void 0;g=a(213);l=a(662);na(c,g.DK);c.prototype.OC=function(m,d,f){m=new l.mAa(m,this.Ro,this.Ea.$b(),d,f,this.prefix);d=ba(this.lo.lo);for(f=d.next();!f.done;f=d.next()){f=f.value;f(m);}};c.prototype.Bla=function(m){return new c(this.Ea,this.C4,this.lo,m,this.groups,this.prefix);};b.nAa=c;},function(t,b,a){var g,l;function c(m,d,f,h,k,n,p){this.level=m;this.Ro=d;this.timestamp=f;this.message=h;this.jc=k;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.mAa=void 0;g=a(5);l={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.qba=function(m,d){m=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.K1b(! !m));return (this.timestamp.da(g.la) / 1E3).toFixed(3) + "|" + this.index + "|" + (l[this.level] || this.level) + "|" + this.Ro + "| " + m;};c.prototype.K1b=function(m){var k;for(var d=this.jc.length,f="",h=0;h < d;++h){k=this.jc[h].ev;h && f.length && (f+=" ");if("object" === typeof k){if(null === k)f+="null";else if(k instanceof Error)f+=this.J1b(k,m);else try{f+=JSON.stringify(k);}catch(n){f+=this.I1b(k);}}else f+=k;}return f;};c.prototype.J1b=function(m,d){return m.toString() + (m.stack && !d?"\n" + m.stack:"") + "\n";};c.prototype.I1b=function(m){var d;d=[];return JSON.stringify(m,function(f,h){if("object" === typeof h && null !== h){if(-1 !== d.indexOf(h))return "<cycle>";d.push(h);}return h;});};b.mAa=c;},function(t,b,a){var g,l,m,d;function c(f,h){this.Xc=f;this.se=h;}Object.defineProperty(b,"__esModule",{value:!0});b.sGa=void 0;t=a(1);g=a(0);l=a(664);m=a(36);a=a(29);c.prototype.TIb=function(){return new l.tGa(this.Xc,this.se);};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.Ji)),t.__param(1,(0,g.l)(a.jg))],d);b.sGa=d;},function(t,b,a){var p,q,u;function c(r,w){this.Xc=r;this.se=w;this.jc=[];}function g(r){return n.call(this,r,function(w){return {Details:w};}) || this;}function l(r){return n.call(this,r,function(w){return JSON.parse(w.toJSON());}) || this;}function m(r,w){w=n.call(this,w,function(v){return {Base64:r.encode(v)};}) || this;w.Xc=r;return w;}function d(r,w){w=n.call(this,w,function(v){return v();}) || this;w.se=r;return w;}function f(r){return n.call(this,r,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function h(r,w,v){w=n.call(this,w,v) || this;w.se=r;return w;}function k(r){return n.call(this,r,function(w){return {Details:w};}) || this;}function n(r,w){this.ev=r;this.value=w?w(r):r;}Object.defineProperty(b,"__esModule",{value:!0});b.tGa=void 0;t=a(1);p=a(0);q=a(29);a=a(36);n.prototype.IV=function(r){return this.ev === r;};na(k,n);k.prototype.NJ=function(r,w){return w?"":"\r\n" + this.ev;};na(h,n);h.prototype.NJ=function(){var r;r="";this.se.qD(this.value,function(w,v){try{r+=", " + w + ": " + v;}catch(x){try{r+=", " + w + ": " + JSON.stringify(v);}catch(y){r+=", error stringifying " + w;}}});return r.replace(/[\r\n]+ */g," ");};na(f,n);f.prototype.NJ=function(r){var w;w="\r\n" + this.ev.message;r || (w+="\r\n" + this.ev.stack);return w;};na(d,n);d.prototype.NJ=function(){var r;r="";this.se.qD(this.value,function(w,v){r+=", " + w + ": " + v;});return r.replace(/[\r\n]+ */g," ");};na(m,n);m.prototype.NJ=function(r,w){return this.ev && !w?"\r\n" + this.Xc.encode(this.ev):"";};na(l,n);l.prototype.NJ=function(){return this.ev?this.ev.toJSON():"";};na(g,n);g.prototype.NJ=function(){return ", " + (this.ev.toString?"" + this.ev.toString():"");};c.prototype.utb=function(r){this.jc.push(new k(r));};c.prototype.jtb=function(r){this.jc.push(new h(this.se,r));};c.prototype.$sb=function(r){this.jc.push(new f(r));};c.prototype.ctb=function(r){this.jc.push(new d(this.se,r));};c.prototype.wtb=function(r){this.jc.push(new m(this.Xc,r));};c.prototype.itb=function(r){this.jc.push(new l(r));};c.prototype.xtb=function(r){this.jc.push(new g(r));};c.prototype.ti=function(){return this.jc;};u=c;u=t.__decorate([(0,p.T)(),t.__param(0,(0,p.l)(a.Ji)),t.__param(1,(0,p.l)(q.jg))],u);b.tGa=u;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.p5a=void 0;t=a(0);c=a(346);g=a(666);b.p5a=new t.rd(function(l){l(c.NHa).to(g.MHa).ba();});},function(t,b,a){var g,l,m;function c(d){this.Oc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.MHa=void 0;t=a(1);g=a(0);l=a(667);a=a(48);c.prototype.bVa=function(d,f){return new l.OHa(this.Oc,d,f);};m=c;m=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.Wj))],m);b.MHa=m;},function(t,b){function a(c,g,l){this.Oc=c;this.config=g;this.getTime=l;}Object.defineProperty(b,"__esModule",{value:!0});b.OHa=void 0;a.prototype.observe=function(c,g){var l;l=this;this.cancel();this.Hj=this.Oc.yaa(this.config.E_a(),function(){l.getTime() >= c && (l.cancel(),g());});};a.prototype.cancel=function(){this.Hj && (this.Hj.cancel(),this.Hj=void 0);};b.OHa=a;},function(t,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.V=void 0;t=a(0);c=a(214);g=a(347);l=a(669);m=a(972);d=a(423);f=a(973);b.V=new t.rd(function(h){h(c.Kfa).to(l.NLa).ba();h(g.LLa).to(m.KLa).ba();h(d.TMa).to(f.SMa).ba();});},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w;function c(v,x,y,z,A,B,E,D,F,G){this.Ea=v;this.bg=x;this.IO=y;this.zza=z;this.xY=A;this.Oc=B;this.lM=E;this.Yh=D;this.bna=F;this.ce=G;}Object.defineProperty(b,"__esModule",{value:!0});b.NLa=void 0;t=a(1);g=a(0);l=a(19);m=a(7);d=a(346);f=a(142);h=a(348);k=a(349);n=a(670);p=a(671);q=a(104);u=a(48);r=a(343);a=a(29);c.prototype.PAb=function(v,x,y){return new n.OLa(this.Ea,this.bg,this.IO,this.zza,x,v,this.Yh,this.xY,this.ce,this.bna,y);};c.prototype.nAb=function(v,x){return new p.$Aa(this.bg,v,x,this.IO,this.Oc,this.lM);};w=c;w=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.md)),t.__param(1,(0,g.l)(m.ub)),t.__param(2,(0,g.l)(d.NHa)),t.__param(3,(0,g.l)(k.tNa)),t.__param(4,(0,g.l)(h.VJa)),t.__param(5,(0,g.l)(u.Wj)),t.__param(6,(0,g.l)(q.SQ)),t.__param(7,(0,g.l)(f.uS)),t.__param(8,(0,g.l)(r.tR)),t.__param(9,(0,g.l)(a.jg))],w);b.NLa=w;},function(t,b,a){var d,f,h;function c(k,n,p,q,u,r,w,v,x,y,z){var A;A=this;this.Ea=k;this.IO=p;this.Nua=q;this.config=u;this.lb=r;this.Yh=w;this.xY=v;this.ce=x;this.Ok=z;this.XEb=Object.values(d.Ga).map(function(B){return {event:B,LH:function(E){return A.Vb.Hc(B,E);}};});this.Vb=y.create();this.zE=[];this.log=n.mb("SegmentManager");this.Fna=!0;this.Pg=this.ce.createElement("div",h.zfa);}function g(k,n,p,q,u,r,w,v,x,y,z){var A;A=this;this.log=k;this.config=n;this.kTb=p;this.Nua=q;this.Yh=u;this.xY=r;this.nv=w;this.H=v;this.Pg=x;this.lb=y;this.Ok=z;this.AM=function(){A.lE && (A.lE.cancel(),A.lE=void 0);};this.Jpa=function(B){A.log.trace("Received the transition event",{movieId:B.K});A.AXb();};this.Qra=function(){};this.log.debug("Constructing session data",l(v));this.R2b=new Promise(function(B){A.AXb=B;});}function l(k){return {movieId:k.K};}function m(k){return JSON.stringify({movieId:k.K,startPts:k.$,logicalEnd:k.xj,params:k.zb?{trackingId:k.zb.Nj,authParams:k.zb.p4,sessionParams:k.zb.Vm,disableTrackStickiness:k.zb.sma,uiPlayStartTime:k.zb.uQ,loadImmediately:k.zb.O8,playbackState:k.zb.playbackState?{currentTime:k.zb.playbackState.currentTime,volume:k.zb.playbackState.volume,muted:k.zb.playbackState.muted,playbackRate:k.zb.playbackState.playbackRate}:void 0,pin:k.zb.x7a,heartbeatCooldown:k.zb.Vpa,uiLabel:k.zb.Wd,uxLabels:k.zb.Nba}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.OLa=void 0;d=a(15);f=a(5);h=a(12);g.prototype.load=function(k){var n,p;n=this;this.log.trace("Loading new segment",l(this.H));this.X=this.Nua.Cla(this.config,this.xY,this.Yh,this.H,this.lb,this.Ok);this.X.addEventListener(d.Ga.ZN,function(q){n.log.trace("Segment is inactive",l(n.H));n.nv.close(n.Yh(q.errorCode));});this.X.addEventListener(d.Ga.closed,this.AM);if(k)(this.log.debug("Pausing background segment",l(this.H)),this.X.addEventListener(d.Ga.fra,this.Jpa),this.X.pause());else {this.Pg.appendChild(this.X.Sn());p=function(q){n.Jpa(q);n.X.removeEventListener(d.Ga.loaded,p);};this.X.addEventListener(d.Ga.loaded,p);}};g.prototype.observe=function(){var k,n,p;k=this;this.log.trace("Observing segment",m(this.H));if(this.lE)this.log.trace("Segment is currently observing",l(this.H));else if(this.H.zb && this.H.zb.O8)this.Qra(this);else {n=this.kTb.bVa(this.config,function(){var q;if(k.X){q=k.X.tu();if(q)return q;}return 0;});p=this.hwb(this.H);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){k.log.trace("Segment has reached its loading point",l(k.H));k.Qra(k);k.AM();});}};g.prototype.close=function(k){this.log.info("Closing segment",{segment:m(this.H),error:k});return this.X?(this.X.removeEventListener(d.Ga.fra,this.Jpa),this.X.close(k)):Promise.resolve();};g.prototype.eUb=function(k){this.Qra=k;};g.prototype.hwb=function(k){var n,p;n=k.xj;k=k.zb?k.zb.O8:!1;p=0;n && !k && (p=n - this.config.$Za(),p < this.config.c_a() && (k=n - this.config.c_a(),p=n - k / 2));return p;};c.prototype.PJb=function(){return this.uh && this.uh.X?this.uh.X.isReady():!1;};c.prototype.Sn=function(){return this.Pg;};c.prototype.FH=function(){if(!this.uh || !this.uh.X)throw Error("Player not ready");return this.uh.X;};c.prototype.p4b=function(k){var n,p;p=this.tna(k);p?this.pdb(p,k):this.lb.mf(k.id) || this.log.error("Tried to update a non-existent segment",{segment:m(k),currentMovieId:this.uh.H.K,queuedMovieIds:this.zE.map(function(q){return q.H.K;}),xid:null === (n=this.uh.X) || void 0 === n?void 0:n.fA()});};c.prototype.Yk=function(k){var n;this.log.info("Adding segment",m(k));if(this.Fna){this.log.trace("First segment, loading",l(k));n=this.x3a(k);this.Fna=!1;}else (this.log.trace("Subsequent segment, caching",l(k)),(n=this.tna(k))?this.pdb(n,k):(n=this.createSession(k),this.zE.push(n),this.uh.observe()));return n?n.R2b:null;};c.prototype.transition=function(k,n){var p,q,u;q=this.zI;u=null === q || void 0 === q?void 0:q.X;if(q && u)return (this.zI=void 0,this.log.info("Transitioning segment",m(q.H)),u.xxa(this.Ea.$b().da(f.la)),this.Dcb(q,n));n=null === q || void 0 === q?void 0:q.H;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.uh.H.K,xid:null === (p=this.uh.X) || void 0 === p?void 0:p.fA(),nextSegmentId:k,currentSegment:m(this.uh.H),nextSegment:n?m(n):void 0,queuedMovieIds:this.zE.map(function(r){return r.H.K;})});return Promise.reject();};c.prototype.close=function(k){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(l(this.uh.H)),nextSession:this.zI?JSON.stringify(l(this.zI.H)):void 0});k=[this.uh.close(k)];this.zI && k.push(this.zI.close());return Promise.all(k).then(function(){n.zI=void 0;n.zE=[];n.Fna=!0;});};c.prototype.addListener=function(k,n,p){this.Vb.addListener(k,n,p);};c.prototype.removeListener=function(k,n){this.Vb.removeListener(k,n);};c.prototype.pdb=function(k,n){this.EUb(k.H,n);this.log.trace("Overwrote existing segment data",m(k.H));};c.prototype.x3a=function(k){var n,p;n=this;this.log.info("Loading the next episode",l(k));if(this.uh){this.config.goa()[k.K]=k.$;p=this.tna(k);}else p=this.createSession(k);if(p)return (this.log.trace("Found the next session",l(k)),p.eUb(function(q){n.ccb(q);}),this.uh?(this.log.trace("Subsequent playback, caching player and pausing",l(k)),this.zI=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",l(k)),p.load(!1),this.Dcb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",l(k));};c.prototype.Dcb=function(k,n){var p,q,u,r,w;n=void 0 === n?{}:n;r=k.X?null === (p=k.X) || void 0 === p?void 0:p.getError():"missing player";if(r)return (null === (q=k.X) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.uh.H.K,mid:k.H.K,error:r,xid:null === (u=k.X) || void 0 === u?void 0:u.fA()}),Promise.reject());this.log.trace("Playing episode",l(k.H));p=this.uh;this.uh=k;k=this.uh.X;k.hxa(!1);this.bK(k,p?p.X:void 0);if(p && p.X){w=p.X.Sn();q=k.Sn();w.style.display="none";p=p.close();this.Pg.appendChild(q);p.then(function(){w.parentElement && w.parentElement.removeChild(w);});q.style.display="block";k.Gba(n);k.bQ();k.play();}return Promise.resolve();};c.prototype.ccb=function(k){var n,p,q,u,r;if(this.zE.length && k.X){n=k.X.tu();p=this.zE[0];q=this.uh.H.xj;u=this.uh.H.zb?this.uh.H.zb.O8:!1;if(q || u){u?r=0:q && (r=q - this.config.$Za());null !== n && n >= r && (this.log.info("Got a time change, loading the next player",l(p.H)),this.x3a(p.H),this.zE.splice(0,1),this.ccb(k));}}};c.prototype.tna=function(k){return this.uh.H.K === k.K?this.uh:this.zE.find(function(n){return n.H.K === k.K;});};c.prototype.EUb=function(k,n){k.$=n.$ || k.$;k.xj=n.xj || k.xj;k.zb=n.zb || k.zb;k.oa=n.oa || k.oa;};c.prototype.createSession=function(k){return new g(this.log,this.config,this.IO,this.Nua,this.Yh,this.xY,this,k,this.Pg,this.lb,this.Ok);};c.prototype.bK=function(k,n){this.XEb.forEach(function(p){n && n.removeEventListener(p.event,p.LH);k.addEventListener(p.event,p.LH);});this.Vb.Hc(d.NF.wZ);};b.OLa=c;},function(t,b,a){var m,d,f,h,k;function c(n,p,q,u,r,w){var v;v=this;this.X=p;this.j=q;this.IO=u;this.Oc=r;this.lM=w;this.AM=function(){v.lE && (v.lE.cancel(),v.lE=void 0);};this.log=n.mb("SegmentManager",this.j);this.V=new Map();this.j.bb.zi && (this.j.addEventListener(f.ea.lJ,function(x){return v.mE(x);}),this.j.addEventListener(f.ea.closed,this.AM));}function g(n,p){this.id=n;this.Nka=p;}function l(n,p,q,u){return d.od.call(this,n,q,void 0,void 0,void 0,p,void 0,u) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$Aa=void 0;m=a(3);d=a(41);f=a(15);h=a(5);k=a(14);na(l,d.od);l.prototype.toString=function(){return this.code + "-" + this.Ec + " : " + this.message + "\n" + JSON.stringify(this.data);};g.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.Aa,contentEndPts:this.Ca};};Ya.Object.defineProperties(g.prototype,{Aa:{configurable:!0,enumerable:!0,get:function(){return this.Nka.startTimeMs;}},Ca:{configurable:!0,enumerable:!0,get:function(){return this.Nka.endTimeMs;}},TA:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Nka.next);}}});c.prototype.mE=function(n){var p;p=this;!1;n=n.position.segmentId;0 === this.V.size && Object.entries(this.j.eW()).forEach(function(q){var u;u=ba(q);q=u.next().value;u=u.next().value;p.V.set(q,new g(q,u));});this.ja=this.V.get(n);};c.prototype.play=function(n){this.wx && (this.wx=void 0);this.AM();this.log.trace("Playing segment",n);return this.m2a(n)?this.AVb(n):this.vY(n);};c.prototype.Ls=function(n){this.log.trace("Queueing segment",n);return this.m2a(n)?this.qXb(n):this.rXb(n);};c.prototype.Gi=function(n,p){var q,u;q=this;u=this.j.Ia;if(null === u || void 0 === u || !u.li)return Promise.reject(this.getError(m.N.HAa,"ASE session manager is not yet initialized",m.M.Hca,{segmentId:n,updates:p}));this.log.trace("Updating next segment weights",n,p);return new Promise(function(r,w){try{u.wQ(n,p);q.j.fireEvent(f.ea.eza,{ha:n,B4b:p});r();}catch(v){w(q.getError(m.N.HAa,"updateNextSegmentWeights threw an exception",m.M.pfb,{segmentId:n,updates:p,error:v}));}});};c.prototype.m2a=function(n){return this.ja?void 0 !== this.j.eW()[this.ja.id].next[n]:!1;};c.prototype.Yoa=function(){var n;n=this.j.Ia;if(null === n || void 0 === n?0:n.li)return n.Tn().oe;};c.prototype.HJb=function(){var n;n=this.j.Ia;if(null === n || void 0 === n?0:n.li)return n.Tn().id;};c.prototype.GHb=function(n){var p;p=this.j.Ia;if(null === p || void 0 === p?0:p.li)return (n=p.L6(n)) && n.Fe;};c.prototype.AVb=function(n){var p,q;p=this;q=this.j.Ia;return null !== q && void 0 !== q && q.li?this.ja && 1 === this.ja.TA.length?this.vY(n):this.j.cg?void 0 === this.GHb(n)?(this.log.error("playNextSegment: branchOffset missing",{segment:n}),this.vY(n)):new Promise(function(u,r){var z,A,B,E,D,F;function w(){!B && A && z && (F.cancel(),B=!0,p.log.trace("Telling ASE to choose the next segment",{id:n,stopped:A,repositioned:z,completed:B}),q.$r(n,!1,!0)?(u(),B=!0):(B=!0,p.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:n}),p.vY(n).then(u).catch(r)));}function v(){z=!0;p.log.trace("Player is repositioned",{id:n,stopped:A,repositioned:z,completed:B});p.j.removeEventListener(f.ea.Fk,v);w();}function x(){p.j.removeEventListener(f.ea.$I,x);q.stop();}function y(){A=!0;p.log.trace("ASE is stopped",{id:n,stopped:A,repositioned:z,completed:B});q.removeEventListener("stop",y);w();}z=!1;A=!1;B=!1;E=p.V.get(n);D=p.Yoa();if(void 0 === D)return (p.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:n}),p.vY(n));p.log.trace("Seeking to next segment",JSON.stringify({segmentId:n,seekTo:D,currentSegment:p.ja,nextSegment:E},null,"  "));p.j.fireEvent(f.ea.U9,{Yg:p.ja && p.ja.id,NO:n});q.addEventListener("stop",y);p.j.addEventListener(f.ea.$I,x);p.j.addEventListener(f.ea.Fk,v);F=p.Oc.Jk((0,h.Ch)(10),function(){B=!0;F.cancel();r(p.getError(m.N.WQ,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.M.lfb,{id:n,stopped:A,repositioned:z,completed:B}));});p.X.seek(D,f.Re.UK);}):(this.log.warn("MediaPresenter is not initialized",n),Promise.reject(this.getError(m.N.WQ,"MediaPresenter is not initialized",m.M.mfb,{id:n}))):Promise.reject(this.getError(m.N.WQ,"ASE session manager is not yet initialized",m.M.Hca,{id:n}));};c.prototype.vY=function(n){var p;p=this.V.get(n);return p?this.uZ(p,m.N.WQ):Promise.reject(this.getError(m.N.WQ,"Unable to find the separated segment",m.M.GAa,{id:n}));};c.prototype.qXb=function(n){var p;p=this.j.Ia;if(null === p || void 0 === p || !p.li)return Promise.reject(this.getError(m.N.XQ,"ASE session manager is not yet initialized",m.M.Hca,{id:n}));this.j.fireEvent(f.ea.U9,{Yg:this.ja && this.ja.id,NO:n});if(p.$r(n,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:n});return this.VVa(n);};c.prototype.rXb=function(n){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:n,mid:this.j.K,srcsegment:this.HJb()});return this.VVa(n);};c.prototype.VVa=function(n){var p,q;p=this;if(this.wx)return Promise.reject(this.getError(m.N.XQ,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",m.M.ofb,{currentSegment:this.ja?this.ja.id:void 0,queuedSegment:this.wx.id,failedSegment:n}));if(!this.ja)return Promise.reject(this.getError(m.N.XQ,"Unable to queue segment for delayed seek because there is no currently playing segment",m.M.kfb,{nextSegmentid:n}));q=this.V.get(n);if(!q)return Promise.reject(this.getError(m.N.XQ,"Unable to find the separated segment",m.M.GAa,{nextSegmentid:n,currentSegmentId:this.ja.id}));this.wx={id:n,promise:new Promise(function(u,r){var w;p.lE=p.IO.bVa({E_a:function(){return (0,h.Nc)(100);}},function(){return p.X.tu() || 0;});w=p.Yoa() - k.config.n5a;p.log.trace("Adding moment for queued segment for delayed seek",{segment:n,pts:w});p.lE.observe(w,function(){p.log.trace("Moment has arrived, seek to segment",{segment:n,currentSegment:p.ja.id,playerEndPts:p.Yoa(),pts:w});p.wx=void 0;p.AM();p.uZ(q,m.N.XQ).then(u).catch(r);});})};this.wx.promise.catch(function(u){p.j.Ld(u.code,u);});return Promise.resolve();};c.prototype.uZ=function(n,p){var q;q=this;return new Promise(function(u,r){var w;try{w=n.Aa;!1;q.X.seek(w,f.Re.kC);u();}catch(v){r(q.getError(p,"Seek threw an exception",m.M.nfb,{id:n.id,error:v}));}});};c.prototype.getError=function(n,p,q,u){this.log.warn(p,u);return new l(n,p,q,u);};b.$Aa=c;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Kc=b.hp=void 0;(function(c){c[c.lj=0]="STOPPED";c[c.xd=1]="BUFFERING";c[c.Rf=2]="REBUFFERING";c[c.mj=3]="STREAMING";c[c.DS=4]="TRACK_SWITCH";})(a || (a={}));b.Kc=a;b.hp=function(c){return c === a.xd || c === a.Rf || c === a.DS;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(2);t.__exportStar(a(684),b);t.__exportStar(a(685),b);t.__exportStar(a(686),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zea=void 0;t=b.zea || (b.zea={});t[t.HAVE_NOTHING=0]="HAVE_NOTHING";t[t.YB=1]="HAVE_SOMETHING";t[t.ey=2]="HAVE_MINIMUM";t[t.yR=3]="HAVE_ENOUGH";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ta=b.M$=void 0;c=a(40);(function(l){l[l.Ih=0]="STARTING";l[l.xd=1]="BUFFERING";l[l.Rf=2]="REBUFFERING";l[l.Lc=3]="PLAYING";l[l.Ir=4]="STOPPING";l[l.lj=5]="STOPPED";l[l.ph=6]="PAUSED";})(g || (g={}));b.ta=g;b.M$=function(l){return l === c.Kc.xd?g.xd:l === c.Kc.Rf?g.Rf:l === c.Kc.DS?g.xd:l === c.Kc.mj?g.Lc:g.Ih;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(2);t.__exportStar(a(707),b);t.__exportStar(a(708),b);t.__exportStar(a(709),b);t.__exportStar(a(710),b);t.__exportStar(a(711),b);t.__exportStar(a(712),b);t.__exportStar(a(713),b);t.__exportStar(a(714),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(2);t.__exportStar(a(716),b);t.__exportStar(a(717),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Tv=void 0;t=b.Tv || (b.Tv={});t[t.klb=0]="PLAYGRAPH_CHANGED";t[t.llb=1]="PLAYGRAPH_UNCHANGED";t[t.wkb=2]="NO_MATCHING_SEGMENT_FOUND";t[t.imb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";t[t.Xhb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";t[t.Whb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";t[t.jmb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";t[t.Eeb=7]="APPENDED_PAST_TRUNCATION_POINT";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xAa=void 0;c=a(16);t=(function(){function g(l){this.config=l;}g.prototype.Cm=function(l,m){return this.config.YZ || m !== c.Kc.mj?l.filter(function(d){return d.lu;}):l;};return g;})();b.xAa=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.UF=void 0;t=a(2);c=a(20);g=t.__importDefault(a(6));l=a(351);a=(function(){function m(d){this.console=d;this.NVa=[];this.NSa={};this.eWa=!1;}m.prototype.gr=function(d,f){this.NVa=d;void 0 !== f?this.NSa[f]=d:this.eWa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.eWa=!0);};m.prototype.Cm=function(d){var f,h,k,n,p;f=this;if(0 === d.length)return d;n=d[0].S;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (h=g.default.Zt) || void 0 === h?void 0:h.call(g.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (k=this.NSa[n]) && void 0 !== k?k:this.NVa;c.ia && this.console.trace("VideoBitrateRangesFilter: filtering " + d.length + " streams with " + JSON.stringify(p));d=d.filter(function(q){return l.pja(q.profile,q.bitrate,p,f.console).inRange;});c.ia && this.console.trace("VideoBitrateRangesFilter: ... " + d.length + " streams in range");return d;};return m;})();b.UF=a;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yAa=void 0;t=(function(){function a(c){var g;g=this;c.fQ && c.fQ.enabled && c.fQ.profiles && c.fQ.profiles.length && "keepLowest" === c.fQ.action && (this.V2a={},c.fQ.profiles.forEach(function(l){return g.V2a[l]=!0;}));}a.prototype.Cm=function(c){var g,l;g={};l=this.V2a;return void 0 === l?c:c.filter(function(m){return !l[m.profile] || (g[m.profile]?!1:g[m.profile]=!0);});};return a;})();b.yAa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vAa=void 0;t=(function(){function a(c){this.config=c;}a.prototype.Cm=function(c){var g;g=this.config;return c.filter(function(l){return !(void 0 !== l.xb && (l.xb < g.pI || l.xb > g.p4a) || (void 0 === l.xb || 0 >= g.pI) && l.bitrate < g.ata || (void 0 === l.xb || Infinity === g.p4a) && l.bitrate > g.CQb);});};return a;})();b.vAa=t;},function(t,b,a){var g;function c(l,m){m=Math.max(l,m);return isNaN(m)?l || -Infinity:m;}Object.defineProperties(b,{__esModule:{value:!0}});b.iAa=void 0;g=a(16);t=(function(){function l(m){this.config=m;this.daa=0;this.state=g.Kc.lj;this.o5a=c(m.ata,m.v9);this.hta=c(m.pI,m.IX);}l.prototype.Cm=function(m,d){var f;f=this;if(d !== this.state){this.state=d;if(d === g.Kc.xd || d === g.Kc.DS)return m;d === g.Kc.Rf && this.R8a();}return m.filter(function(h){return !(void 0 !== h.xb && h.xb < f.hta || (void 0 === h.xb || 0 > f.hta) && h.bitrate < f.o5a);});};l.prototype.R8a=function(){++this.daa;this.hta=c(this.config.pI,this.config.IX - this.config.FRb * this.daa);this.o5a=this.config.ata || -Infinity;};return l;})();b.iAa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.uAa=void 0;c=a(25);t=(function(){function g(l){this.config=l;}g.prototype.w0b=function(l){return l % 100 + 1 <= this.config.Aua;};g.prototype.Cm=function(l){var m,d,f,h,k,n,p,q,u,r,w;p=Number(null === (m=l[0]) || void 0 === m?void 0:m.K);if(!(this.config.R5 && this.w0b(p) && 0 < this.config.qaa.length))return l;m=l.length;q=null !== (d=l[m - 1].paa) && void 0 !== d?d:0;if(d=c.he(this.config.qaa,function(v){return v.Tec >= q && v.U9a <= q;})){for(p=0;p < m;p++){u=l[Math.max(p - 1,0)];r=l[p];if(!((null !== (f=r.paa) && void 0 !== f?f:0) < d.U9a || (null !== (h=u.paa) && void 0 !== h?h:0) < d.U9a)){w=null !== (k=r.xb) && void 0 !== k?k:Infinity;u=null !== (n=u.xb) && void 0 !== n?n:Infinity;if(!(u < d.cec || u < d.bec && r.bitrate < d.maxBitrate || !w && r.bitrate < d.zdc))break;}}return l.slice(0,p);}return l;};return g;})();b.uAa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eea=b.Dca=void 0;c=a(25);b.Dca={Cm:function(g){return g.filter(function(l){return l.Du && !l.lA;});}};b.eea={Cm:function(g){return (g=c.he(g,function(l){return ! !l.Du && !l.lA;}))?[g]:[];}};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fea=void 0;b.fea={Cm:function(a){return [a[0]];}};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.hD=b.gD=void 0;c=a(353);g=a(99);b.gD=function(l,m){m && (null === l || void 0 === l?0:l.d1a) && (m=new g.At(m).or(g.FF));return new g.At(g.Dca).and(null !== m && void 0 !== m?m:g.FF).or(g.eea,c.VK.tH).or(g.fea,c.VK.tH);};b.hD=function(l,m){m && l.d1a && (m=new g.At(m).or(g.FF));return new g.At(g.Dca).and(new g.xAa(l)).and(new g.vAa(l)).and(new g.iAa(l)).and(new g.yAa(l)).and(l.R5?new g.uAa(l):g.FF).and(null !== m && void 0 !== m?m:g.FF).or(g.eea,c.VK.tH).or(g.fea,c.VK.tH);};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(2);t.__exportStar(a(738),b);t.__exportStar(a(358),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Zza=void 0;c=a(2);t=(function(g){function l(m,d){m=g.call(this,l.RGb(m,d)) || this;m.zob=d;m.name="AggregateError";return m;}c.__extends(l,g);l.RGb=function(m,d){return d.reduce(function(f,h){return f + "\n" + h;},m);};Object.defineProperties(l.prototype,{X5:{get:function(){return this.zob;},enumerable:!1,configurable:!0}});return l;})(Error);b.Zza=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rKa=void 0;b.rKa=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.Pd,segments:a.YBb(c.V)},void 0 !== c.ae?{transitionType:c.ae}:{});};a.encode=function(c){return Object.assign({Pd:c.initialSegment,V:a.HEb(c.segments)},void 0 !== c.transitionType?{ae:c.transitionType}:{});};a.HEb=function(c){return Object.keys(c).reduce(function(g,l){g[l]=a.GEb(c[l]);return g;},{});};a.GEb=function(c){return Object.assign({S:c.viewableId,Aa:c.startTimeMs},c.endTimeMs?{Ca:c.endTimeMs}:{},c.defaultNext?{Md:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{ae:c.transitionType}:{},c.next?{next:a.EEb(c.next)}:{},c.exitZones?{Aq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{ei:c.uxSegment}:{});};a.EEb=function(c){return Object.keys(c).reduce(function(g,l){g[l]=a.FEb(c[l]);return g;},{});};a.FEb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{ae:c.transitionType}:{});};a.YBb=function(c){return Object.keys(c).reduce(function(g,l){g[l]=a.XBb(c[l]);return g;},{});};a.XBb=function(c){return Object.assign({viewableId:c.S,startTimeMs:c.Aa},c.Ca?{endTimeMs:c.Ca}:{},c.Md?{defaultNext:c.Md}:{},c.weight?{weight:c.weight}:{},c.ae?{transitionType:c.ae}:{},c.next?{next:a.VBb(c.next)}:{},c.Aq?{exitZones:c.Aq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.ei?{uxSegment:c.ei}:{});};a.VBb=function(c){return Object.keys(c).reduce(function(g,l){g[l]=a.WBb(c[l]);return g;},{});};a.WBb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.ae?{transitionType:c.ae}:{});};return a;})();},function(t,b,a){var f;function c(h){return Object.keys(h.segments).some(function(k){return void 0 !== d(h.segments[k]);});}function g(h){return "delayedSeamless" === h?"lazy":h;}function l(h){return Object.keys(h).reduce(function(k,n){var p,q;p=h[n];q=p.weight;p=p.transitionType || p.transitionHint;n=k[n]={};void 0 !== q && (n.weight=q);p && (n.ae=g(p));return k;},{});}function m(h){var k,n;k=Object.keys(h);n=k.length;return n?k.reduce(function(p,q){return p + (h[q].weight || 0);},0) / n:void 0;}function d(h){var k;if(h.ui){k=h.ui.interactionZones;if((null === k || void 0 === k?0:k.length) && k[0].length)return k[0][0] - h.startTimeMs;h=h.ui.interactionZonesV2;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0];}else if(void 0 !== h.earliestSkipRequestOffset)return h.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.wz=void 0;f=a(173);b.wz=function(h,k){var n,p,q,u,r,w;n=void 0 === k?{}:k;k=n.Cd;p=n.Pd;q=n.V;n=n.config;u=!(!n || -1 === n.Mna.indexOf(h.viewableId));r=c(h)?0:(null === n || void 0 === n?void 0:n.Lna) || 0;n=new f.sy();w=q || h.segments;n.rJ(null !== p && void 0 !== p?p:h.initialSegment).aab(null !== k && void 0 !== k?k:h.mediaTypes).yxa(u?"immediate":g(h.transitionType)).sxa(Object.keys(w).reduce(function(v,x){var y,z,A,B,E,D;y=w[x];if(null === (z=y.weight) || void 0 === z){z=y.next && (u || (null === (B=y.exitZones) || void 0 === B?0:B.length))?m(y.next):void 0;}B=z;if(z=y.exitZones)E=void 0;else a:{if(u && y.endTimeMs){E=y.endTimeMs - y.startTimeMs;D=d(y);if(D && D < E){E=[[D,E]];break a;}if(r && E > r){E=[[E - r,E]];break a;}}E=void 0;}D=u?E?void 0:y.transitionHint || "lazy":y.transitionHint;B={S:h.viewableId,Aa:y.startTimeMs,Ca:null !== (A=y.endTimeMs) && void 0 !== A?A:Infinity,ae:g(D),Aq:z || E,weight:B};y.defaultNext && (B.Md=y.defaultNext);y.next && (B.next=l(y.next));v[x]=B;return v;},{}));return n.ti();};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.IE=void 0;c=a(173);b.IE=function(g,l,m){var d;d=new c.sy();d.rJ(l).yxa("lazy").aab(m).Yk(l,{S:g,Aa:0,Ca:Infinity});return d.ti();};},function(t,b,a){var g,l,m;function c(d,f,h){var k;k={};Object.keys(d).forEach(function(n){n !== f?k[n]=d[n]:k[h]=d[n];});return k;}Object.defineProperty(b,"__esModule",{value:!0});b.X4a=void 0;g=a(1);l=a(173);m=a(359);b.X4a=function(d,f){var h,k,n,p,q,u,r,w,v,x;k=Object.keys(f.V);m.assert(2 === k.length,"Unsupported content playgraph: must have 2 segments");n=f.Pd;p=k[0] === n?k[1]:k[0];k=f.V[n];q=f.V[p];u=q.S;m.assert(k.S !== u,"Unsupported content playgraph: must have different viewableIds");r=new l.sy();r.sxa(d.V,function(y){return y.S !== u;});r.qRa(d.V,function(y){return y.S === u && y.Aa >= q.Aa && (!q.Ca || ! !y.Ca && (Infinity === y.Ca || y.Ca <= q.Ca));});f=Object.keys(d.V).filter(function(y){return !r.uLb(y);});m.assert(1 >= f.length,"Unsupported content playgraph: more than one source playgraph segment not contained in content playgraph main segment");if(0 < f.length){w=f[0];f=d.V[w];v=w + ":" + n;if(!f.Ca || f.Ca > q.Aa){x=w + ":" + p;r.Yk(v,g.__assign(g.__assign({},k),{ei:w,Md:x,next:(h={},h[x]={},h)}));r.Yk(x,g.__assign(g.__assign({},f),{ei:w,Aa:q.Aa}));}else r.Yk(v,g.__assign(g.__assign({},k),{ei:w,Md:f.Md,next:(x={},x[f.Md]={},x)}));Object.keys(d.V).forEach(function(y){var z,A;A=d.V[y];void 0 !== (null === (z=A.next) || void 0 === z?void 0:z[w]) && r.Yk(y,g.__assign(g.__assign({},A),{Md:A.Md === w?v:A.Md,next:c(A.next,w,v)}));});r.rJ(d.Pd === w?v:d.Pd);}else r.rJ(d.Pd);return r.ti();};},function(t,b,a){var m,d,f,h,k;function c(n,p,q){var u,r,w,v,x,y,z,A,B,E,D,F,G,C;u=g(n,p,q);if(u)return u;r=n.V[q.H];u=q.offset;w=Object.keys(p.V).filter(function(H){return p.V[H].ei === q.H;});v=[];w.forEach(function(H){var M,I;function K(Q){Q=d.l6(p,Q);null === Q || void 0 === Q?void 0:Q.forEach(function(L){var J,O;if(p.V[L].ei !== q.H){J=p.V[L];O=J.Aa;(O=(J=J.Ca)?l(n,p,{H:L,offset:J - O}):void 0) && v.push(O);O || (O=l(n,p,{H:L,offset:0})) && v.push(O);K(L);}});}M=p.V[H];I=M.Aa;(I=(M=M.Ca)?l(n,p,{H:H,offset:M - I}):void 0) && v.push(I);(M=l(n,p,{H:H,offset:0})) && v.push(M);M || I || K(H);});h.assert(0 < v.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");x=r.Aa + u;z=Infinity;v.forEach(function(H){var K;K=x - (n.V[H.H].Aa + H.offset);0 < K && K < z && (z=K,y=H);});A=[];w.forEach(function(H){var M,I,Q;function K(L){Object.keys(p.V[L].next || ({})).forEach(function(J){var O,N,P;if(p.V[J].ei !== q.H){O=p.V[J];N=O.Aa;O=O.Ca;P=l(n,p,{H:J,offset:0});P && A.push(P);P || (J=O?l(n,p,{H:J,offset:O - N}):void 0) && A.push(J);}K(L);});}M=p.V[H];I=M.Aa;Q=M.Ca;(M=l(n,p,{H:H,offset:0})) && A.push(M);(I=Q?l(n,p,{H:H,offset:Q - I}):void 0) && A.push(I);M || I || K(H);});h.assert(0 < A.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");E=Infinity;A.forEach(function(H){var K;K=n.V[H.H].Aa + H.offset - x;0 < K && K < E && (E=K,B=H);});h.assert(y);h.assert(B);u=g(n,p,y);h.assert(u,"Segment not found in the combined playgraph");D=p.V[u.H];h.assert(D.Ca,"Segment of nearest point before the content position in combined playgraph must have endTimeMs");u.offset === D.Ca - D.Aa && (u={H:D.Md,offset:0},D=p.V[u.H]);F=g(n,p,B);h.assert(F,"Segment not found in the combined playgraph");w=p.V[F.H];0 === F.offset && (F=d.ZXa(p,F.H),h.assert(F,"Segment of nearest point after the content position in combined playgraph must have a predecessor"),w=p.V[F],h.assert(w.Ca,"Predecessor of the segment of nearest point after the content position in combined playgraph must have endTimeMs"),F={H:F,offset:w.Ca - w.Aa});G=n.V[y.H].Aa + y.offset;D=D.Aa + u.offset;C=D + (x - G) / (n.V[B.H].Aa + B.offset - G) * (w.Aa + F.offset - D);u=u.H === F.H?u.H:f.he(Object.keys(p.V).filter(function(H){return p.V[H].S !== r.S;}),function(H){var K;H=p.V[H];K=H.Ca;return C >= H.Aa && K && C <= K;});h.assert(u,"Segment not found in the combined playgraph");return {H:u,offset:C - p.V[u].Aa};}function g(n,p,q){var u,r,w,v,x,y,z;r=n.V[q.H];h.assert(r,"Graph position " + q.H + " does not exist in UX playgraph");w=q.offset;h.assert(0 <= w,"Graph position offset " + w + " cannot be negative");h.assert(!r.Ca || w <= r.Ca - r.Aa,"Graph position " + w + " offset outside segment");if(p.V[q.H])return q;v=Object.keys(p.V).filter(function(A){return p.V[A].ei === q.H;});h.assert(0 < v.length,"No segments found in combined playgraph that point back to the ux segment");x=r.Aa + w;y=v.filter(function(A){return p.V[A].S === r.S;}).map(function(A){return [A,p.V[A]];}).filter(function(A){A=m.__read(A,2)[1];return x >= A.Aa;});if(y=f.he(y,function(A){A=m.__read(A,2)[1];return !A.Ca || ! !A.Ca && x <= A.Ca;})){z=m.__read(y,2);n=z[0];v=z[1];w=isFinite(x)?x:null !== (u=v.Ca) && void 0 !== u?u:Infinity;z=w - v.Aa;h.assert(0 <= z,"Content playgrah graph position offset cannot be negative");return {H:n,offset:z};}y=v.filter(function(A){return p.V[A].S !== r.S;});if(0 === w && !k.sna(n,q.H) && (u=f.he(y,function(A){return 0 === d.l6(p,A).length;}),void 0 !== u))return {H:u,offset:0};if(r.Ca){if(!(r.Ca - r.Aa !== q.offset || r.Md && n.V[r.Md]) && (u=f.he(y,function(A){return !p.V[A].next || 0 === Object.keys(p.V[A].next).length;}),void 0 !== u))return (n=p.V[u],z=n.Aa,n=n.Ca,h.assert(n,"Content playgraph segments from other viewables must have end time"),{H:u,offset:n - z});}else if((u=m.__read(v.map(function(A){return [A,p.V[A]];}).sort(function(A,B){A=m.__read(A,2)[1];B=m.__read(B,2)[1];return B.Ca?A.Ca?B.Ca - A.Ca:-1:A.Ca?1:0;}),1),y=u[0]))return (u=m.__read(y,2),n=u[0],v=u[1],w=isFinite(x)?x:null !== (z=v.Ca) && void 0 !== z?z:Infinity,z=w - v.Aa,h.assert(0 <= z,"Content playgrah graph position offset cannot be negative"),{H:n,offset:z});}function l(n,p,q){var u,r;u=p.V[q.H];h.assert(u,"Graph position does not exist in combined playgraph");r=q.offset;h.assert(0 <= r,"Graph position offset cannot be negative");h.assert(!u.Ca || r <= u.Ca - u.Aa,"Graph position offset outside segment");if(void 0 === u.ei)return q;n=n.V[u.ei];h.assert(n,"Referenced ux playgraph segment must exist");if(u.S === n.S)return {H:u.ei,offset:u.Aa + r - n.Aa};if(0 === r && (q=d.l6(p,q.H),0 === r && 0 === q.length))return {H:u.ei,offset:0};if(!u.Md || !p.V[u.Md])return {H:u.ei,offset:n.Ca?n.Ca - n.Aa:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.fZa=b.Rdb=b.iUa=void 0;m=a(1);d=a(57);f=a(361);h=a(359);k=a(360);b.iUa=function(n,p,q){var u,r;u=p.V[q.H];r=l(n,p,q);if(r)return r;h.assert(u.ei,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");n=n.V[u.ei];h.assert(n,"Referenced ux playgraph segment must exist");h.assert(u.Ca,"Content playgraph segments from other viewables must have end time");r=u.Md && p.V[u.Md];if(!r)return (h.assert(n.Ca,"Must have definite end time to add terminal content playgraph segment"),{H:u.ei,offset:n.Ca - n.Aa});p=(p=k.sna(p,q.H))?p.S !== n.S?n.Aa:p.Ca:0;if(null === p || void 0 === p)return (h.assert(n.Ca,"Experience playgraph segment must have end time"),{H:u.ei,offset:n.Ca - n.Aa});n=r.S !== n.S?n.Ca:r.Aa;null !== n && void 0 !== n || h.assert(n,"Experience playgraph segment must have end time");return {H:u.ei,offset:p + q.offset / (u.Ca - u.Aa) * (n - p)};};b.Rdb=c;b.fZa=function(n,p,q){var u,r,w;return m.__generator(this,function(v){switch(v.label){case 0:(u=c(n,p,q),r=p.V[u.H],w=u.H,v.label=1);case 1:return [4,w];case 2:(v.xc(),w=r.Md,r=p.V[w],v.label=3);case 3:if((null === r || void 0 === r?void 0:r.ei) === q.H && w !== u.H)return [3,1];v.label=4;case 4:return [2];}});};},function(t,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.UGa=void 0;c=a(2);g=a(18);l=a(222);m=a(356);t=c.__importDefault(a(6));d=a(773);t=new t.default.Console("ASEJS","media|asejs");t.trace.bind(t);f=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];t=(function(h){function k(n,p){var q;q=h.call(this) || this;q.J=n;q.Uh=new d.ZFa(n,p);n.hN && q.EUa(p);q.ah=new g.ii();f.forEach(function(u){q.ah.on(q.Uh,u,function(r){return q.emit(u,r);});q.Wm && q.ah.on(q.Wm,u,function(r){return q.emit(u,r);});});return q;}c.__extends(k,h);Object.defineProperties(k.prototype,{Wb:{get:function(){return this.Uh.Wb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Xn:{get:function(){return this.Uh.Xn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ov:{get:function(){return this.Uh.ov;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{uB:{get:function(){return this.Uh.uB;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{lra:{get:function(){return this.Uh.lra;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{JE:{get:function(){return this.Uh.JE;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{If:{get:function(){return this.Uh.If;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Vh:{get:function(){return this.Uh.Vh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{iqa:{get:function(){return this.Uh.iqa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sX:{get:function(){return this.Uh.sX.bind(this.Uh);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{E6:{get:function(){return this.Uh.E6.bind(this.Uh);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oka:{get:function(){var n;n=this;return function(){n.S9a();n.Uh.oka();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ZC:{get:function(){var n;n=this;return function(){n.S9a();n.Uh.ZC();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fq:{get:function(){var n;n=this;return function(p,q,u){var r;null === (r=n.If) || void 0 === r?void 0:r.fq(p,q,u);};},enumerable:!1,configurable:!0}});k.prototype.EUa=function(n){return this.Wm=new (a(896).SLa)(this.J,this.ZC,this.fq,n);};k.prototype.Eb=function(n,p,q,u,r,w,v,x){void 0 === v && (v=262144);void 0 === x && (x=1048576);this.Uh.Eb(n,p,q,u,r,w);this.Wm?this.Wm.Eb(n,p,q,u,r,w,v,x):this.a3a={Jub:n,r5b:p,Fw:q,uB:u,JE:r,hRb:w,Dja:v,yza:x};};k.prototype.JZ=function(n,p,q){this.Uh.JZ(n,p,q);this.Wm?this.Wm.JZ(n,p,q):this.g3a={E1b:n,uB:p,JE:q};};k.prototype.createSession=function(n,p,q,u,r,w,v,x,y,z){var A,B,E,D,F;A=this;x || (x=this.Uh.config);if(x.hN && !this.Wm){B=this.EUa(this.Uh.SE);f.forEach(function(G){A.ah.on(A.Wm,G,function(C){return A.emit(G,C);});});if(this.a3a){E=this.a3a;D=E.uB;F=E.JE;B.Eb(E.Jub,E.r5b,E.Fw,D,F,E.hRb,E.Dja,E.yza);}this.g3a && (F=this.g3a,E=F.E1b,D=F.uB,F=F.JE,B.JZ(E,D,F));}return this.Wm && x && x.H_?(x.Vr || x.xI || this.Uh.ZC(),this.Wm.createSession(n,p,q,u,r,w,v,x,y,z)):this.Uh.createSession(n,p,q,u,r,w,v,x,y,z);};k.prototype.Ox=function(n,p,q){if(this.Wm)return this.Wm.Ox(n,p,q);throw Error("Update viewable not supported in legacy.");};k.prototype.addEventListener=function(n,p){this.addListener(n,p);return !0;};k.prototype.removeEventListener=function(n,p){this.removeListener(n,p);return !0;};k.prototype.Jb=function(){var n;this.ah.clear();this.Uh.Jb();null === (n=this.Wm) || void 0 === n?void 0:n.Jb();l.mK.reset();};k.prototype.S9a=function(){var n,p;this.J.Vr || this.J.xI || (null === (n=this.Wm) || void 0 === n?void 0:n.Ia.state) !== m.ro.OPEN || (null === (p=this.Wm) || void 0 === p?void 0:p.Ia.Yu.reset());};return k;})(g.EventEmitter);b.UGa=t;},function(t){function b(c,g,l,m){c.trace(":",l,":",m);g(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,g,l,m){l=m?l.bind(m):l;if(c){this.console && (l=b.bind(null,this.console,l,g));if("function" === typeof c.addListener)c.addListener(g,l);else if("function" === typeof c.addEventListener)c.addEventListener(g,l);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,l]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var l,m;l=g[0];m=g[1];g=g[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,g):"function" === typeof l.removeListener && l.removeListener(m,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};t.exports=a;},function(t,b,a){t.exports={Xlb:a(750),J6b:a(751)};},function(t,b,a){function c(f){this.data=f;this.right=this.left=null;this.red=!0;}function g(f){this.ff=null;this.tn=f;this.size=0;}function l(f){return null !== f && f.red;}function m(f,h){var k;k=f.yh(!h);f.hr(!h,k.yh(h));k.hr(h,f);f.red=!0;k.red=!1;return k;}function d(f,h){f.hr(!h,m(f.yh(!h),!h));return m(f,h);}b=a(362);c.prototype.yh=function(f){return f?this.right:this.left;};c.prototype.hr=function(f,h){f?this.right=h:this.left=h;};g.prototype=new b();g.prototype.Iq=function(f){var h,k,n,p,q,u,r,w,v;h=!1;if(null === this.ff)(this.ff=new c(f),h=!0,this.size++);else {k=new c(void 0);n=0;p=0;q=null;u=k;r=null;w=this.ff;for(u.right=this.ff;;){null === w?(w=new c(f),r.hr(n,w),h=!0,this.size++):l(w.left) && l(w.right) && (w.red=!0,w.left.red=!1,w.right.red=!1);if(l(w) && l(r)){v=u.right === q;w === r.yh(p)?u.hr(v,m(q,!p)):u.hr(v,d(q,!p));}v=this.tn(w.data,f);if(0 === v)break;p=n;n=0 > v;null !== q && (u=q);q=r;r=w;w=w.yh(n);}this.ff=k.right;}this.ff.red=!1;return h;};g.prototype.remove=function(f){var h,k,r,w,v;if(null === this.ff)return !1;h=new c(void 0);k=h;k.right=this.ff;for(var n=null,p,q=null,u=1;null !== k.yh(u);){r=u;p=n;n=k;k=k.yh(u);w=this.tn(f,k.data);u=0 < w;0 === w && (q=k);if(!l(k) && !l(k.yh(u)))if(l(k.yh(!u)))(p=m(k,u),n.hr(r,p),n=p);else if(!l(k.yh(!u)) && (w=n.yh(!r),null !== w))if(l(w.yh(!r)) || l(w.yh(r))){v=p.right === n;l(w.yh(r))?p.hr(v,d(n,r)):l(w.yh(!r)) && p.hr(v,m(n,r));r=p.yh(v);r.red=!0;k.red=!0;r.left.red=!1;r.right.red=!1;}else (n.red=!1,w.red=!0,k.red=!0);}null !== q && (q.data=k.data,n.hr(n.right === k,k.yh(null === k.left)),this.size--);this.ff=h.right;null !== this.ff && (this.ff.red=!1);return null !== q;};t.exports=g;},function(t,b,a){function c(l){this.data=l;this.right=this.left=null;}function g(l){this.ff=null;this.tn=l;this.size=0;}b=a(362);c.prototype.yh=function(l){return l?this.right:this.left;};c.prototype.hr=function(l,m){l?this.right=m:this.left=m;};g.prototype=new b();g.prototype.Iq=function(l){if(null === this.ff)return (this.ff=new c(l),this.size++,!0);for(var m=0,d=null,f=this.ff;;){if(null === f)return (f=new c(l),d.hr(m,f),ret=!0,this.size++,!0);if(0 === this.tn(f.data,l))return !1;m=0 > this.tn(f.data,l);d=f;f=f.yh(m);}};g.prototype.remove=function(l){var m,d,n;if(null === this.ff)return !1;m=new c(void 0);d=m;d.right=this.ff;for(var f=null,h=null,k=1;null !== d.yh(k);){f=d;d=d.yh(k);n=this.tn(l,d.data);k=0 < n;0 === n && (h=d);}return null !== h?(h.data=d.data,f.hr(f.right === d,d.yh(null === d.left)),this.ff=m.right,this.size--,!0):!1;};t.exports=g;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.THa=void 0;c=a(25);g=a(4);t=(function(){function l(){this.data={};}Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{size:{get:function(){var m;m=this;return Object.keys(this.data).reduce(function(d,f){return d + m.data[f].length;},0);},enumerable:!1,configurable:!0}});l.prototype.get=function(m){var d;return null !== (d=this.data[m]) && void 0 !== d?d:[];};l.prototype.has=function(m,d){return (m=this.data[m])?void 0 === d?!0:-1 !== m.indexOf(d):!1;};l.prototype.count=function(m){return (m=this.data[m])?m.length:0;};l.prototype.keys=function(){return Object.keys(this.data);};l.prototype.values=function(){var m;m=this;return c.flatten(this.keys().map(function(d){return m.data[d];}));};l.prototype.set=function(m,d){(this.data[m] || (this.data[m]=[])).push(d);return this;};l.prototype.clear=function(){this.data={};};l.prototype.delete=function(m,d){var f,h;f=this.data[m];if(void 0 === f)return !1;if(void 0 === d)return (g.assert(1 === arguments.length),delete this.data[m],!0);h=f.indexOf(d);if(-1 === h)return !1;1 === f.length?delete this.data[m]:f.splice(h,1);return !0;};l.prototype.forEach=function(m,d){var f;f=this;m=void 0 !== d?m.bind(d):m;this.keys().forEach(function(h){return f.data[h].forEach(function(k){return m(k,h,f);});});};l.prototype.reduce=function(m,d,f){var h,k;h=this;m=void 0 !== f?m.bind(f):m;k=d;this.forEach(function(n,p){k=m(k,n,p,h);});return k;};l.prototype.map=function(m,d){var f;f=this;m=void 0 !== d?m.bind(d):m;return c.flatten(this.keys().map(function(h){return f.data[h].map(function(k){return m(k,h,f);});}));};l.prototype.filter=function(m,d){var f;f=this;m=void 0 !== d?m.bind(d):m;return c.flatten(this.keys().map(function(h){return f.data[h].filter(function(k){return m(k,h,f);});}));};return l;})();b.THa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bYa=void 0;b.bYa=function(a,c){return a.filter(function(g){var l,m;g=null !== (m=null !== (l=g.Og) && void 0 !== l?l:g.ws) && void 0 !== m?m:g.Mf;return ! !g && g.qO(c);}).pop();};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.WLa=b.VLa=void 0;c=a(25);t=(function(){function g(l){this.G=l;this.listeners=[];this.hY=[];}Object.defineProperties(g.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});g.prototype.set=function(l){var m;this.G=l;m=this.hY;this.hY=[];this.listeners.forEach(function(d){return d(l);});m.forEach(function(d){return d(l);});};g.prototype.T9a=function(){this.G=void 0;};g.prototype.on=function(l){this.listeners=this.listeners.concat([l]);void 0 !== this.G && l(this.G);};g.prototype.once=function(l){void 0 !== this.G?l(this.G):this.hY.push(l);};g.prototype.UA=function(l){this.listeners=this.listeners.filter(function(m){return m !== l;});this.hY=this.hY.filter(function(m){return m !== l;});};return g;})();b.VLa=t;t=(function(){function g(){this.listeners=[];}g.prototype.on=function(l,m){this.listeners.push({signal:l,listener:m});l.on(m);};g.prototype.once=function(l,m){var d,f;d=this;if(void 0 === l.value){f=function(h){d.remove(l,m);m(h);};this.listeners.push({signal:l,listener:m,reb:f});l.once(f);}else l.once(m);};g.prototype.UA=function(l,m){var d,f;f=c.he(this.listeners,function(h){return h.signal === l && h.listener === m;});void 0 !== f && l.UA(null !== (d=f.reb) && void 0 !== d?d:f.listener);this.remove(l,m);};g.prototype.removeAllListeners=function(){this.listeners.forEach(function(l){var m,d;m=l.listener;d=l.reb;return l.signal.UA(null !== d && void 0 !== d?d:m);});this.listeners=[];};g.prototype.remove=function(l,m){this.listeners=this.listeners.filter(function(d){return d.signal !== l || d.listener !== m;});};return g;})();b.WLa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oR=b.dra=void 0;b.dra=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};t=(function(){function a(){var c;c=this;this.nQa=!1;this.promise=new Promise(function(g){c.Krb=g;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X9a:{get:function(){return this.nQa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){this.nQa=!0;this.Krb(c);};return a;})();b.oR=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.LVa=void 0;b.LVa=function(a){return JSON.parse(JSON.stringify(a));};},function(t,b,a){var g;function c(l,m,d){var f,k,n;if(l === m || !d.oo && l == m)return !0;if(typeof l !== typeof m)return !1;if(l && "object" === typeof l){for(var h in l){if(!c(l[h],m[h],d))return !1;}if(!d.bxb){k=Object.keys(l);n=Object.keys(m).filter(function(r){return 0 > k.indexOf(r);});try{for(var p=g.__values(n),q=p.next();!q.done;q=p.next()){if((h=q.value,!c(l[h],m[h],d)))return !1;}}catch(r){var u;u={error:r};}finally{try{q && !q.done && (f=p.return) && f.call(p);}finally{if(u)throw u.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.r5=void 0;g=a(2);b.r5=function(l,m,d){void 0 === d && (d={});d=g.__assign({oo:!1,bxb:!1},d);return c(l,m,d);};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.d2=void 0;t=(function(){function a(){this.count=0;this.max=this.min=this.Ba=NaN;}Object.defineProperties(a.prototype,{Ms:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Ba=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Ba+=(c - this.Ba) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Ba};};return a;})();b.d2=t;},function(t,b,a){var g;function c(l){this.GP=new Uint16Array(l.length);for(var m=0;m < l.length;++m){this.GP[m]=l.charCodeAt(m);}}g=new (a(6).default.Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(l){var m;m=this.GP.length;if(void 0 === this.GP)g.warn("XORCiper.encrypt is called with undefined secret!");else {for(var d="",f=0;f < l.length;++f){d+=String.fromCharCode(this.GP[f % m] ^ l.charCodeAt(f));}return encodeURIComponent(d);}};c.prototype.decrypt=function(l){var m,d;m="";d=this.GP.length;l=decodeURIComponent(l);for(var f=0;f < l.length;f++){m+=String.fromCharCode(this.GP[f % d] ^ l.charCodeAt(f));}return m;};t.exports=c;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(363);t=(function(){function g(l,m){this.Ba=l;this.ih=m;}g.prototype.Xua=function(l){return this.Ba - Math.sqrt(2 * this.ih) * c.c1a(2 * l);};return g;})();b.default=t;},function(t,b,a){t.exports={jcc:a(365),rfc:a(225),M6b:a(762),DCa:a(366),L6b:a(367),N6b:a(368),iib:a(369)};},function(t,b,a){var l,m,d,f;function c(h,k,n){l.call(this,h,k,n);}function g(h,k){m.call(this,new c(h,k,!1));}l=a(763);m=a(764);d=a(100).lHb;f=a(100).DKb;c.prototype=Object.create(l.prototype);c.prototype.Ba=function(){return Math.floor(8 * d(this.Rd) / this.Jd);};c.prototype.ih=function(){return Math.floor(64 * f(this.Rd) / (this.Jd * this.Jd));};c.prototype.get=function(){return {Ba:this.Ba(),ih:this.ih(),lbc:this.Rd.length};};c.prototype.toString=function(){return "bsw(" + this.dM + "," + this.Jd + "," + this.hk + ")";};g.prototype=Object.create(m.prototype);g.prototype.setInterval=function(h){this.sL.setInterval(h);};t.exports=g;},function(t){function b(a,c,g){this.dM=a;this.hk=Math.floor((a + c - 1) / c);this.Jd=c;this.rrb=g;this.reset();}b.prototype.shift=function(){this.Rd.shift();this.oi.shift();};b.prototype.update=function(a,c){this.Rd[a]+=c;};b.prototype.push=function(a){this.Rd.push(0);this.oi.push(a?a:0);this.Cb+=this.Jd;};b.prototype.add=function(a,c,g,l){var m,d;if(null === this.Cb){m=Math.max(Math.floor((g - c + this.Jd - 1) / this.Jd),1);for(this.Cb=c;this.Rd.length < m;){this.push(l);}}for(;this.Cb < g;){if((this.push(l),this.rrb))for(;1 < this.Rd.length && g + l - (this.Cb - this.Jd * this.Rd.length + this.oi[0]) > this.dM;){this.shift();}else this.Rd.length > this.hk && this.shift();}if(c > this.Cb - this.Jd)this.update(this.Rd.length - 1,a);else if(c == g)(l=this.Rd.length - Math.max(Math.ceil((this.Cb - g) / this.Jd),1),0 <= l && this.update(l,a));else for(l=1;l <= this.Rd.length;++l){m=this.Cb - l * this.Jd;d=m + this.Jd;if(!(m > g)){if(d < c)break;this.update(this.Rd.length - l,Math.round(a * (Math.min(d,g) - Math.max(m,c)) / (g - c)));}}for(;this.Rd.length > this.hk;){this.shift();}};b.prototype.reset=function(){this.Rd=[];this.oi=[];this.Cb=null;};b.prototype.setInterval=function(a){this.hk=Math.floor((a + this.Jd - 1) / this.Jd);};t.exports=b;},function(t){function b(a){this.sL=a;this.Se=0;this.YL=null;}b.prototype.add=function(a,c,g){null !== this.YL && c > this.YL && (this.Se+=c - this.YL,this.YL=null);this.sL.add(a,c - this.Se,g - this.Se,this.Se);};b.prototype.stop=function(a){null === this.YL && (this.YL=a);};b.prototype.Zua=function(a,c){return this.sL.Zua(a,c);};b.prototype.get=function(){return this.sL.get();};b.prototype.reset=function(){this.sL.reset();};b.prototype.toString=function(){return this.sL.toString();};t.exports=b;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.S1a=b.R1a=void 0;c=a(363);b.R1a=function(g,l,m){var d;if(0 === m)return g < l?0:g > l?1:.5;d=Math.pow(l,3) / m;m=Math.sqrt(d / (2 * g));d=2 * d / l;return 500 < d?g < l?0:g > l?1:.5:(1 + c.JV(m * (g / l - 1)) + Math.exp(d) * (1 - c.JV(m * (g / l + 1)))) / 2;};b.S1a=function(g,l,m){var d;if(0 === m)return g < l?0:g > l?l:l / 2;d=Math.pow(l,3) / m;m=Math.sqrt(d / (2 * g));d=2 * d / l;return 500 < d?g < l?0:g > l?l:l / 2:.5 * l * (Math.exp(d) * (c.JV(m * (1 + g / l)) - 1) - (c.JV(m * (1 - g / l)) - 1));};},function(t,b,a){var g;function c(){this.dk=void 0;this.GC=0;}g=a(10);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.GC && this.dk?{p25:this.dk.ol,p50:this.dk.Bj,p75:this.dk.pl,c:this.GC}:null;};c.prototype.Me=function(l){if(!(!g.Fb(l) && g.has(l,"p25") && g.has(l,"p50") && g.has(l,"p75") && g.has(l,"c") && g.isFinite(l.p25) && g.isFinite(l.p50) && g.isFinite(l.p75) && g.isFinite(l.c)))return (this.dk=void 0,this.GC=0,!1);this.dk={ol:l.p25,Bj:l.p50,pl:l.p75};this.GC=l.c;};c.prototype.get=function(){return {B$:this.dk,Hwa:this.GC};};c.prototype.set=function(l,m){this.dk=l;this.GC=m;};c.prototype.reset=function(){this.dk=void 0;this.GC=0;};c.prototype.toString=function(){return "IQRHist(" + this.dk + "," + this.GC + ")";};t.exports=c;},function(t,b,a){var g;function c(l){var m,d;m=l.sw;d=l.mw;this.cM=m;this.sga={uhd:l.uhdl,hd:l.hdl};this.hk=Math.max(Math.ceil(1 * m / d),1);this.Spb=l.mins || 1;g.call(this,m,d);this.reset();}g=a(144);new (a(6).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(g.prototype);c.prototype.flush=function(){this.Rd.map(function(l,m){this.sRa(l,this.Zna(m));},this);};c.prototype.awb=function(){var l,m,d,f,h,k,n,r;l=this.sga;for(m in l){if(l.hasOwnProperty(m)){d=l[m];f=this.xia[m];h=this.wia[m];if(f.first){k=f.first;n=f.SI;void 0 !== n && (h[k][n]+=1);f.first=void 0;}f=[];k=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,u=0;u < d;u++){q+=h[u][p];}k+=q;f.push(q);}q=-1;if(k > this.Spb){for(p=q=0;p < n;p++){if(0 < f[p])for(u=0;u < d;u++){r=h[u][p];0 < r && (q-=r * Math.log(1 * r / f[p]));}}q/=k * Math.log(2);}this.Sga[m]=q;}}return this.Sga;};c.prototype.sRa=function(l,m){var k,n;for(var d=this.hk,f=this.sga;this.N2.length >= d;){this.N2.shift();}for(;this.O2.length >= d;){this.O2.shift();}this.N2.push(l);this.O2.push(m);l=this.N2.reduce(function(p,q){return p + q;},0);m=this.O2.reduce(function(p,q){return p + q;},0);if(0 < m){l=8 * l / m;for(var h in f){if(f.hasOwnProperty(h)){m=this.xia[h];d=this.wia[h];k=this.nXb(l,f[h]);n=m.SI;void 0 !== n?d[k][n]+=1:m.first=k;m.SI=k;}}}};c.prototype.nXb=function(l,m){for(var d=0;d < m.length && l > m[d];){d+=1;}return d;};c.prototype.shift=function(){this.sRa(this.Rd[0],this.Zna(0));g.prototype.shift.call(this);};c.prototype.reset=function(){var l,m,d,f,h,k,n;this.xia={};this.N2=[];this.O2=[];this.wia={};this.Sga={};l=this.sga;for(m in l){if(l.hasOwnProperty(m)){d=this.wia;f=m;k=void 0;n=Array(k);k=h=l[m].length + 1;for(var p=0;p < k;p++){n[p]=Array(h);for(var q=0;q < h;q++){n[p][q]=0;}}d[f]=n;this.xia[m]={first:void 0,SI:void 0};this.Sga[m]=0;}}g.prototype.reset.call(this);};t.exports=c;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lKa=void 0;t=(function(){function a(c,g){this.filter=c;this.Qua=g;}a.prototype.add=function(c,g,l,m){0 < this.Qua.filter(function(d){var f;return d === (null === (f=m.xZ) || void 0 === f?void 0:f.We);}).length && this.filter.add(c,g,l,m);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.start=function(c){this.filter.start && this.filter.start(c);};a.prototype.stop=function(c){this.filter.stop && this.filter.stop(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.filter.reset && this.filter.reset();};return a;})();b.lKa=t;},function(t,b,a){var g,l;function c(m){this.J=m;this.tT();}g=a(10);l=a(6).default;new l.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var m;m=this.getState();l.storage.set("nh",m);};c.prototype.l1b=function(){this.wG || (this.wG=!0,this.Ry=l.time.ga());};c.prototype.s1b=function(){var m;if(this.wG){m=l.time.ga();this.Xy+=m - this.Ry;this.Ry=m;this.wG=!1;this.sT=null;}};c.prototype.Q1a=function(m,d){this.wG && (d > this.Ry && (this.Xy+=d - this.Ry,this.Ry=d),null === this.sT || m > this.sT) && (m=d - m,this.FL.push([this.Xy - m,m]),this.osb(),this.sT=d);};c.prototype.osb=function(){var m;m=this.Xy - this.J.pSb;this.FL=this.FL.filter(function(d){return d[0] > m;});};c.prototype.tT=function(){var m;m=l.storage.get("nh");this.nia(m) || (this.Ry=l.time.ga(),this.Xy=0,this.wG=!1,this.sT=null,this.FL=[]);};c.prototype.nia=function(m){if(!(m && g.has(m,"t") && g.has(m,"s") && g.has(m,"i") && g.Fa(m.t) && g.Fa(m.s) && g.isArray(m.i)))return !1;this.Ry=l.time.Gta(1E3 * m.t);this.Xy=1E3 * m.s;this.wG=!1;this.FL=m.i.map(function(d){return [1E3 * d[0],d[1]];});this.sT=null;return !0;};c.prototype.getState=function(){return this.wG?{t:l.time.now() / 1E3 | 0,s:(this.Xy + (l.time.ga() - this.Ry)) / 1E3 | 0,i:this.FL.map(function(m){return [m[0] / 1E3 | 0,m[1]];})}:{t:l.time.jta(this.Ry) / 1E3 | 0,s:this.Xy / 1E3 | 0,i:this.FL.map(function(m){return [m[0] / 1E3 | 0,m[1]];})};};t.exports=c;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rda=void 0;t=a(2);c=a(771);new (t.__importDefault(a(6)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var X00;X00=2;function g(l){var Y00;Y00=2;for(;Y00 !== 4;){switch(Y00){case 5:var i9Z="1";i9Z+="SIYbZrNJC";i9Z+="p9";i9Z;Y00=4;break;case 7:"";Y00=9;break;Y00=4;break;case 2:this.qqa=l;this.Sz={};Y00=5;break;}}}for(;X00 !== 7;){switch(X00){case 9:g.prototype.$cb=function(l){var e10,m,d;e10=2;for(;e10 !== 5;){switch(e10){case 2:(m=Object.keys(this.Sz),d=this.Sz[m[0]]);1 === m.length && !1 === d.k6?(this.RE.start(l,d.qk),this.eU=d.qk):1 < m.length && this.eU && (m=this.Sz[this.eU],this.RE.stop(l,this.eU),m.k6=!1,this.eU=void 0);e10=5;break;}}};return g;break;case 2:g.prototype.reset=function(){var Z00;Z00=2;for(;Z00 !== 1;){switch(Z00){case 2:this.RE=new c.GBa();Z00=1;break;}}};g.prototype.yP=function(l,m){var a10;a10=2;for(;a10 !== 1;){switch(a10){case 2:m.qk && (this.qqa?this.RE.start(l,m.qk):1 === m.type && (this.Sz[m.qk]?this.Sz[m.qk].O_+=1:this.Sz[m.qk]={qk:m.qk,O_:1,k6:!1},this.$cb(l)));a10=1;break;}}};X00=5;break;case 5:g.prototype.jZ=function(l,m){var b10,d;b10=2;for(;b10 !== 9;){switch(b10){case 7:b10=m.qk?2:5;break;b10=m.qk?1:9;break;case 2:b10=m.qk?1:9;break;case 1:b10=this.qqa?5:4;break;case 6:b10=this.qqa?3:7;break;b10=this.qqa?5:4;break;case 5:this.RE.stop(l,m.qk);b10=9;break;case 4:d=this.Sz[m.qk];1 === m.type && d && (--d.O_,0 === d.O_ && (d.k6 && this.RE.stop(l,m.qk),d.k6=!1,delete this.Sz[m.qk]),this.$cb(l));b10=9;break;}}};g.prototype.RC=function(l,m,d,f){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:f.qk && (this.qqa?this.RE.add(l,m,d,f.qk):this.eU === f.qk && this.RE.add(l,m,d,f.qk));c10=1;break;}}};g.prototype.Fm=function(){var d10;d10=2;for(;d10 !== 1;){switch(d10){case 2:return this.RE.get();break;}}};X00=9;break;}}})();b.rda=a;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.GBa=void 0;c=a(2).__importDefault(a(226));t=(function(){var f10;f10=2;function g(){var g10;g10=2;for(;g10 !== 5;){switch(g10){case 2:var B9Z="1SIYb";B9Z+="Z";B9Z+="rNJC";B9Z+="p";B9Z+="9";this.o3={};B9Z;g10=5;break;}}}for(;f10 !== 9;){switch(f10){case 2:g.prototype.add=function(l,m,d,f){var h10,h;h10=2;for(;h10 !== 4;){switch(h10){case 2:h=this.o3;void 0 === h[f] && (h[f]=new c.default());h[f].add(l,m,d);h10=4;break;}}};f10=1;break;case 1:g.prototype.start=function(l,m){var i10,d;i10=2;for(;i10 !== 4;){switch(i10){case 2:d=this.o3;void 0 === d[m] && (d[m]=new c.default());d[m].start(l);i10=4;break;}}};g.prototype.stop=function(l,m){var j10,d;j10=2;for(;j10 !== 5;){switch(j10){case 2:d=this.o3;void 0 !== d[m] && d[m].stop(l);j10=5;break;}}};f10=4;break;case 4:g.prototype.get=function(){var k10,l,m,d,f,h,k;k10=2;for(;k10 !== 8;){switch(k10){case 1:k10=f < m.length?5:9;break;case 2:(l=this.o3,m=Object.keys(l),d=[],f=0);k10=1;break;case 3:f++;k10=1;break;case 5:(h=m[f],k=l[h].get());k && d.push({cdnid:h,avtp:k.Ba,tm:k.H5});k10=3;break;case 9:return d;break;}}};f10=3;break;case 3:return g;break;case 12:return g;break;f10=9;break;}}})();b.GBa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.HIa=void 0;c=a(2).__importDefault(a(226));t=(function(){function g(l){var m10;m10=2;for(;m10 !== 7;){switch(m10){case 4:var t9Z="1SI";t9Z+="YbZrNJ";t9Z+="Cp9";t9Z;this.t$=l.t$;m10=9;break;case 2:this.mZ=[0,0];this.hh=[0,0];this.nY=[0,0];m10=4;break;case 9:this.iua=[new c.default(),new c.default()];this.V6a=new c.default();m10=7;break;}}}var l10;l10=2;for(;l10 !== 3;){switch(l10){case 2:g.prototype.reset=function(){var n10;n10=2;for(;n10 !== 4;){switch(n10){case 2:this.mZ=[0,0];this.hh=[0,0];this.nY=[0,0];n10=4;break;}}};g.prototype.RC=function(l,m,d,f){var o10,h,k;o10=2;for(;o10 !== 8;){switch(o10){case 4:(this.mZ[f.type]+=l,this.V6a.add(l,m,d),this.iua[f.type].add(l,m,d));o10=3;break;case 5:o10=(null === (h=f.cJ) || void 0 === h?0:h.r8())?4:3;break;case 2:this.hh[f.type]+=l;o10=5;break;case 3:o10=(null === (k=f.cJ) || void 0 === k?0:k.o4a(l,m,d,this.t$))?9:8;break;case 9:this.nY[f.type]+=l;o10=8;break;}}};g.prototype.f7=function(){var q10;q10=2;for(;q10 !== 1;){switch(q10){case 2:return {bytesRequestedPacingVideo:this.mZ[1],bytesRequestedPacingAudio:this.mZ[0],estimatedBytesPacedVideo:this.nY[1],estimatedBytesPacedAudio:this.nY[0],bytestotalVideo:this.hh[1],bytestotalAudio:this.hh[0],pacedAvtpVideo:this.iua[1].get().Ba,pacedAvtpAudio:this.iua[0].get().Ba,pacedAvtp:this.V6a.get().Ba};break;}}};return g;break;}}})();b.HIa=t;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w;Object.defineProperties(b,{__esModule:{value:!0}});b.ZFa=void 0;c=a(2);g=c.__importStar(a(10));t=a(18);l=c.__importDefault(a(28));m=c.__importDefault(a(774));d=c.__importDefault(a(6));f=a(172);h=a(222);c.__importDefault(a(224));k=c.__importDefault(a(775));a(371);n=a(4);p=a(778);q=a(881);u=new d.default.Console("ASEJS","media|asejs");r=u.trace.bind(u);w=u.warn.bind(u);t=(function(v){var r10;r10=2;for(;r10 !== 27;){switch(r10){case 6:Object.defineProperties(x.prototype,{Vh:{get:function(){var A10;A10=2;for(;A10 !== 1;){switch(A10){case 2:return this.B2.Vh;break;case 4:return this.B2.Vh;break;A10=1;break;}}},enumerable:!1,configurable:!0}});r10=14;break;case 3:Object.defineProperties(x.prototype,{uB:{get:function(){var w10;w10=2;for(;w10 !== 1;){switch(w10){case 2:return this.x3;break;case 4:return this.x3;break;w10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{lra:{get:function(){var x10;x10=2;for(;x10 !== 1;){switch(x10){case 2:return !g.ka(this.zQa);break;case 4:return -g.ka(this.zQa);break;x10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{JE:{get:function(){var y10;y10=2;for(;y10 !== 1;){switch(y10){case 2:return this.wQa;break;case 4:return this.wQa;break;y10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{If:{get:function(){var z10;z10=2;for(;z10 !== 1;){switch(z10){case 2:return this.Jy;break;}}},enumerable:!1,configurable:!0}});r10=6;break;case 14:Object.defineProperties(x.prototype,{iqa:{get:function(){var B10;B10=2;for(;B10 !== 1;){switch(B10){case 2:return this.$qb;break;}}},enumerable:!1,configurable:!0}});x.prototype.Eb=function(y,z,A,B,E,D){var C10,F,G;C10=2;for(;C10 !== 11;){switch(C10){case 3:this.x3=B;this.wQa=E;m.default(G);this.B2=h.mK.v_a(G,this.SE);C10=6;break;case 6:this.kia=new k.default(G);C10=14;break;case 14:C10=G.Fdb || G.nza?13:12;break;case 2:(F=this,G=this.config);h.mK.reset();0 < G.Ju && (!g.ka(y) && y > G.Ju && (y=G.Ju),z > G.Ju && (z=G.Ju));g.ka(y) && (this.zQa=z);C10=3;break;case 13:var T9Z="mediac";T9Z+="a";T9Z+="c";T9Z+="he";var Z9Z="cach";Z9Z+="e";Z9Z+="Evi";Z9Z+="c";Z9Z+="t";var p9Z="fl";p9Z+="us";p9Z+="h";p9Z+="ed";p9Z+="Bytes";var K9Z="di";K9Z+="scard";K9Z+="edBy";K9Z+="te";K9Z+="s";var k9Z="prebu";k9Z+="f";k9Z+="fst";k9Z+="ats";(z=new q.GEa(this,G,A,D),y=function(C){var D10;D10=2;for(;D10 !== 1;){switch(D10){case 2:F.emit(C.type,C);D10=1;break;}}},z.addListener(k9Z,y),z.addListener(K9Z,y),z.addListener(p9Z,y),z.addListener(Z9Z,y),(G.rza || G.qza) && z.addListener(T9Z,function(C){var E10;E10=2;for(;E10 !== 1;){switch(E10){case 2:var v9Z="m";v9Z+="e";v9Z+="dia";v9Z+="cac";v9Z+="he";F.emit(v9Z,C);E10=1;break;}}}),this.Jy=z);C10=12;break;case 12:this.pha=!0;C10=11;break;}}};x.prototype.JZ=function(y,z,A){var F10;F10=2;for(;F10 !== 4;){switch(F10){case 2:this.zQa=y;this.x3=z || 0;this.wQa=A || 0;F10=4;break;}}};r10=11;break;case 19:x.prototype.E6=function(y,z,A){var J10;J10=2;for(;J10 !== 1;){switch(J10){case 2:return f.h_a(y,z,A);break;case 4:return f.h_a(y,z,A);break;J10=1;break;}}};x.prototype.oka=function(){var K10,y;K10=2;for(;K10 !== 5;){switch(K10){case 2:null === (y=this.Jy) || void 0 === y?void 0:y.kYa();K10=5;break;}}};x.prototype.ZC=function(){var L10,y;L10=2;for(;L10 !== 5;){switch(L10){case 2:null === (y=this.Jy) || void 0 === y?void 0:y.HCb();L10=5;break;}}};r10=16;break;case 2:c.__extends(x,v);Object.defineProperties(x.prototype,{Wb:{get:function(){var t10;t10=2;for(;t10 !== 1;){switch(t10){case 2:return this.B2.Wb;break;case 4:return this.B2.Wb;break;t10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Xn:{get:function(){var u10;u10=2;for(;u10 !== 1;){switch(u10){case 2:return this.B2.Xn;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ov:{get:function(){var v10;v10=2;for(;v10 !== 1;){switch(v10){case 4:return this.kia;break;v10=1;break;case 2:return this.kia;break;}}},enumerable:!1,configurable:!0}});r10=3;break;case 11:x.prototype.createSession=function(y,z,A,B,E,D,F,G,C,H){var G10;G10=2;for(;G10 !== 4;){switch(G10){case 9:G10=this.pha?2:0;break;G10=this.pha?1:5;break;case 2:G10=this.pha?1:5;break;case 1:return (G=G || this.config,this.Wb.reset(),this.Xn.l1b(),this.kia.reset(),void 0 === D && (D=this.E6(y,z)),g.ka(this.x3) && (this.x3=d.default.$o()[l.default.Wa.Pb] <= G.NRb?0:G.nZ),y=new p.RLa(this,y,H,z,A,B,E,D,F,G,C),this.sG.push(y),y);break;case 5:var L9Z="open: streamingManager not in";L9Z+="it";L9Z+="ted";w(L9Z);G10=4;break;}}};x.prototype.sX=function(y,z){var H10;H10=2;for(;H10 !== 1;){switch(H10){case 2:return this.Jy && (y=this.Jy.sX(y,z))?y:!1;break;}}};x.prototype.vrb=function(y){var I10,z;I10=2;for(;I10 !== 4;){switch(I10){case 2:var l9Z="can't fi";l9Z+="nd sessio";l9Z+="n in array, movieId:";this.Wb.QP(null);z=this.sG.indexOf(y);g.ka(z)?w(l9Z,y.He.P.K):(this.sG.splice(z,1),0 === this.sG.length && this.Xn.s1b(),this.Xn.save(),this.Vh.save());I10=4;break;}}};r10=19;break;case 16:x.prototype.Jb=function(){var M10;M10=2;for(;M10 !== 6;){switch(M10){case 3:delete this.SE;this.ZC();delete this.Jy;M10=7;break;case 2:var G9Z="Attempted to destr";G9Z+="uct ";G9Z+="Manager before all Sessions removed";n.assert(0 === this.sG.length,G9Z);this.pha=!1;delete this.B2;delete this.kia;M10=3;break;case 7:h.mK.reset();M10=6;break;}}};return x;break;}}function x(y,z){var s10,A;s10=2;for(;s10 !== 13;){switch(s10){case 2:A=v.call(this) || this;A.config=y;A.SE=z;y=a(409);s10=3;break;case 3:var d9Z="D";d9Z+="EBU";d9Z+="G";d9Z+=":";var j9Z="nf";j9Z+="-as";j9Z+="e vers";j9Z+="i";j9Z+="on:";r(j9Z,y,d9Z,!1);A.pha=!1;A.$qb=!1;A.sG=[];s10=6;break;case 6:var b9Z="1SIY";b9Z+="bZrNJC";b9Z+="p9";b9Z;return A;break;}}}})(t.EventEmitter);b.ZFa=t;},function(t,b,a){var g,l,m,d;function c(f){var h;h=nrdp.pk.ufc.match(/android-(\d*)/);h?23 < h[1]?f.mya=!1:(h=nrdp.pk.B$b.Wt.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),f.mya=h?6 < h[1] || 6 == h[1] && 1 < h[2] || 6 == h[1] && 1 == h[2] && 1 <= h[3]?!0:!1:!1):f.mya=!1;f.$1b=!1;}g=a(4).assert;a(126);l=a(6).default;m=l.Cr;d=l.ikb;t.exports=function(){var f,h,k,n;f=new l.Console("ASEJSMONKEY","media|asejs");if(!l.Cr.Rc){h=function(p){this.Kpb=p;};k=d.prototype.appendBuffer;l.MediaSource.Rc || (l.MediaSource.Rc={});"undefined" !== typeof nrdp && nrdp.a4 && (c(l.MediaSource.Rc,f),l.MediaSource.Rc.bUa=!1,l.MediaSource.Rc.y5a=!1);l.Cr.Rc={pZ:{Geb:!0,BS:!0,ukb:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.gsb || this.job;},set:function(p){this.job=p;}});n=m.prototype.open;m.prototype.open=function(p,q,u,r,w,v,x){1 === u && (this.gsb=new h(this));return n.call(this,p,q,u,r,w,v,x);};m.prototype.aZ=function(){this.TL=void 0;};d.prototype.appendBuffer=function(p){if(p instanceof ArrayBuffer)return k.call(this,p);if(p instanceof h)return this.b4(p.Kpb);g(!1);};}};},function(t,b,a){var l,m;function c(){this.Ny=this.cT=this.U2=this.g3=this.Q2=null;}function g(d){this.J=d;this.IC=[];this.Lr=new c();this.tT();}l=a(10);a(28);a(9);m=a(6).default;new m.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Me=function(d){var f;f=!1;d && l.has(d,"ens") && l.has(d,"lns") && l.has(d,"fns") && l.has(d,"d") && l.has(d,"t") && (this.Q2=d.ens,this.g3=d.lns,this.U2=d.fns,this.cT=d.d,this.Ny=d.t,f=!0);return f;};c.prototype.getState=function(){var d;if(l.Fb(this.Q2) || l.Fb(this.g3) || l.Fb(this.U2) || l.Fb(this.cT) || l.Fb(this.Ny))return null;d={d:this.cT,t:this.Ny};d.ens=this.Q2;d.lns=this.g3;d.fns=this.U2;return d;};c.prototype.get=function(){var d,f;d=this.getState();if(d){f=new Date(this.Ny);d.dateint=1E4 * f.getFullYear() + 100 * (f.getMonth() + 1) + f.getDate();d.hour=f.getHours();}return d;};g.prototype.tT=function(){var d;d=m.storage.get("sth");d && this.Me(d);};g.prototype.Me=function(d){var f,h;f=null;h=this.J;d.forEach(function(k){var n;n=new c();n.Me(k)?(f=!0,this.IC.push(n)):l.Fb(f) && (f=!1);},this);this.IC=this.IC.filter(function(k){return k.cT >= h.E9;});this.IC.sort(function(k,n){return k.Ny - n.Ny;});return l.Fb(f)?!0:f;};g.prototype.hha=function(){var d;d=[];this.IC.forEach(function(f){d.push(f.getState());},this);return d;};g.prototype.save=function(){var d,f,h;d=this.hha();f=this.J;h=this.Lr.getState();h && h.d >= f.E9 && (d.push(h),this.IC.push(this.Lr));d.length > f.d9 && (d=d.slice(d.length - f.d9,d.length));this.Lr=new c();d && m.storage.set("sth",d);};g.prototype.reset=function(){this.Lr=new c();};g.prototype.OHb=function(){return this.Lr.get();};g.prototype.cKb=function(){return this.IC.length + 1;};g.prototype.Ysb=function(d){this.Lr.Q2=d;this.Lr.Ny=m.time.ga();};g.prototype.htb=function(d){this.Lr.g3=d;this.Lr.Ny=m.time.ga();};g.prototype.btb=function(d,f){this.Lr.U2=d;this.Lr.Ny=m.time.ga();this.Lr.cT=f;};t.exports=g;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FGa=void 0;t=(function(){function a(c,g,l){this.ksb=g;this.Fnb=l;this.I=c;}a.prototype.Zua=function(c){c=this.SMb(c,this.ksb) + this.Fnb;return this.$ha=isNaN(c)?NaN:this.Dxa(c);};a.prototype.yxb=function(c){return isNaN(this.$ha)?0:this.$ha > c?1:0;};a.prototype.SMb=function(c,g){var l;l=0;if(c.length !== g.length)l=NaN;else for(var m=0;m < c.length;m++){l+=c[m] * g[m];}return l;};a.prototype.Dxa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.FGa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sS=void 0;t=(function(){function a(c){this.dk={};this.Fha=c;this.ng=[];this.Tr=!1;this.tG=void 0;}a.prototype.S3=function(c){this.ng.length === this.Fha && this.ng.shift();Array.isArray(c)?this.ng=this.ng.concat(c):this.ng.push(c);this.Tr=!0;};a.prototype.MN=function(){return this.ng.length;};a.prototype.qka=function(){var c;c=this.ng;return 0 < c.length?c.reduce(function(g,l){return g + l;},0) / this.ng.length:void 0;};a.prototype.I4=function(){var c,g;c=this.ng;g=this.qka();if(0 < c.length && "undefined" !== typeof g)return (c=c.reduce(function(l,m){return l + m * m;},0) / c.length,Math.sqrt(c - g * g));};a.prototype.Ut=function(c){var g,l,m;if(this.Tr || void 0 === this.tG)(this.tG=this.ng.slice(0).sort(function(d,f){return d - f;}),this.Tr=!1);if(void 0 === this.dk[c]){g=this.tG;l=Math.floor(c / 100 * (g.length - 1) + 1) - 1;m=(c / 100 * (g.length - 1) + 1) % 1;this.dk[c]=l === g.length - 1?g[l]:g[l] + m * (g[l + 1] - g[l]);}return this.dk[c];};return a;})();b.sS=t;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L;Object.defineProperties(b,{__esModule:{value:!0}});b.RLa=void 0;t=a(2);c=a(18);g=t.__importStar(a(10));l=a(143);m=a(779);d=a(172);f=a(16);h=a(216);k=a(241);n=a(242);p=a(825);q=a(826);u=t.__importDefault(a(6));r=u.default.MediaSource;w=a(9);v=a(4);x=a(174);y=a(389);z=a(828);A=a(829);B=a(238);t=a(43);E=a(830);D=a(831);F=a(390);G=a(863);C=a(401);H=a(871);K=a(405);M=a(877);I=a(878);Q=a(879);L=a(880);a=(function(){var N10;N10=2;function J(O,N,P,S,U,Z,ja,ya,ra,Y,pa){var O10,Ka,T,R,ea,sa;O10=2;for(;O10 !== 74;){switch(O10){case 56:this.Bb=new K.iMa(this.I,this.Cg,this.J,this.oc.bind(this),this.X,Y,this.qc.Wb,this.Gb,this.rg,this.Pa,sa);O10=55;break;case 77:Ka=this;O10=76;break;case 30:this.mT=void 0;this.e3=-1;this.bia=0;this.Ni=new c.ii();O10=43;break;case 43:this.jo=new M.ILa(this,this.I,this.oc.bind(this),R);this.rg=new I.VCa(this,this.I,this.oc.bind(this));this.vV=new z.UCa(this,this.I,R);O10=40;break;case 60:this.Cg.$ya(this.J);O10=59;break;case 76:this.X.addListener(function(Ua){var R10,S10;R10=2;for(;R10 !== 1;){switch(R10){case 2:try{S10=2;for(;S10 !== 1;){switch(S10){case 2:Ka.Bb.m4b.bind(Ka.Bb)(Ua);S10=1;break;}}}catch($a){var I9Z="Hind";I9Z+="sig";I9Z+="ht: Err";I9Z+="or when adding updatePlaySegment Listener: ";a000.q3Z(3);Ka.Gb.Zn(a000.Q3Z(I9Z,$a));}R10=1;break;}}});O10=75;break;case 53:this.jw=[];this.Rg=[];this.J$a=new k.Zda(N,this.qc.Wb,this.qc.Vh,this.J,void 0);O=this.J$a.kKb();O10=49;break;case 64:this.Cg=new H.$za(this,this.I,O,this.qc.Wb,Y,this.yO(),U,this.oc.bind(this),sa);O10=63;break;case 38:O10=(Y.rza || Y.qza) && this.qc.If?37:36;break;case 3:var Q9Z="m";Q9Z+="edia|asej";Q9Z+="s";var M9Z="A";M9Z+="S";M9Z+="E";M9Z+="J";M9Z+="S";var Y9Z="1S";Y9Z+="IYb";Y9Z+="ZrN";Y9Z+="JCp9";Y9Z;this.I=new u.default.Console(M9Z,Q9Z,"(" + ja.sessionId + ")");this.Vk=this.I.error.bind(this.I);O10=7;break;case 21:this.r3=void 0;this.X=new A.lAa(ra);this.KC=U || 0;this.ML=0;this.oga=ya;this.E3=!1;O10=30;break;case 39:var E9Z="m";E9Z+="anagerdebu";E9Z+="ge";E9Z+="ven";E9Z+="t";this.Ni.on(this.qc.If,E9Z,function(Ua){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 2:w.Ya(T,Ua.type,Ua);P10=1;break;}}});O10=38;break;case 36:ea && Y.gN && !Y.VDb && (Y.set?Y.set({enableAdaptiveParallelStreaming:!1}):Y.gN=!1);0 === Math.floor(1E6 * Math.random()) % Y.nM && (this.Drb=new p.kLa(Y));O10=53;break;case 2:T=this;this.zy=new B.Bfa();this.YNa=[];this.JD={fw:[Object.create(null),Object.create(null)]};O10=3;break;case 27:this.hm=ja;this.J=Y=this.KUa.vnb(N,Y);this.m3=Z.BY;this.OQa=! !Z.Fdb;this.wsb=! !Z.nza;this.LL=Z.V8;O10=21;break;case 18:this.bj=new Q.iGa(this,this.I,this.oc.bind(this),sa);this.isb=[!Z.XE,!Z.pU];this.oc(0) && this.oc(1);this.qc=O;O10=27;break;case 20:this.js=sa.js;this.Ax=Y.Ax;O10=18;break;case 55:O10=this.js?77:75;break;case 63:O10=Y.Kma && this.Cg.n8?62:59;break;case 75:pa && this.Bb.gr(pa,la.S);O10=74;break;case 49:U=null;Y.GV && (U=this.qc.ov.IC);x.Wx.instance().reset();O10=46;break;case 40:O10=Y.vi && this.qc.If?39:38;break;case 62:Y=Y.FLb;for(var la in Y){P=Y[la];Y.hasOwnProperty(la) && P && (this.J[la]=P);}O10=60;break;case 46:N=m.oea.create({Qb:0,oa:N,rp:P,y$a:S,Ie:! !Z.Ie,k2a:!1,Wi:! !Z.Wi,Cd:h.r9(! !Z.pU,! !Z.XE),$:0,La:Z.La,Gb:this.Gb,qs:this.SOa.bind(this),cc:this,config:this.J,I:this.I,rg:this.rg,jo:this.jo,If:this.OQa?this.qc.If:void 0,JD:this.JD});N.jU=!0;this.Kd=[N];O10=64;break;case 59:la=N.P;this.Pa=new C.Lca(this,this.Gb,this.I,this.oia.bind(this),la,this.KC,this.J,this.rg,this.X,this.dW.bind(this));Y={V8:this.V8,Os:this.Os,cn:this.cn,BY:this.BY};O10=56;break;case 7:var q9Z="b";q9Z+="ranchi";q9Z+="ng";this.Tb=this.I.warn.bind(this.I);this.An=this.I.trace.bind(this.I);R=new L.eIa(this,this.I);this.Gb=R;this.KUa=new y.aCa(this.I);(ea=!(!N || !N.choiceMap || q9Z !== N.choiceMap.type),sa=ea?{DV:!1,js:!1}:q.QZa(Y));this.DV=sa.DV;O10=20;break;case 37:var O9Z="med";O9Z+="i";O9Z+="a";O9Z+="cache";this.Ni.on(this.qc.If,O9Z,function(Ua){var Q10;Q10=2;for(;Q10 !== 1;){switch(Q10){case 4:w.Ya(T,"",Ua);Q10=4;break;Q10=1;break;case 2:var D9Z="me";D9Z+="di";D9Z+="a";D9Z+="ca";D9Z+="che";w.Ya(T,D9Z,Ua);Q10=1;break;}}});O10=36;break;}}}for(;N10 !== 91;){switch(N10){case 104:J.prototype.UWb=function(O,N,P){var A40,S;A40=2;for(;A40 !== 6;){switch(A40){case 1:O=this.Kd[O];O.Zya(N);A40=4;break;case 2:l.en.Dq(0);A40=1;break;case 4:A40=O.P.E7?3:7;break;case 8:S?(O.P.zh[0]=S,O.SY=!1,S.stream.ke && O.F4()):(O.P.zh[0]=void 0,O.SY=!1,O.P.AP([O.Cq(0)],!0,0));A40=7;break;case 3:O.Cq(0).$d.some(function(U){var B40;B40=2;for(;B40 !== 4;){switch(B40){case 9:S=U.jl();B40=2;break;B40=1;break;case 5:return ! !S;break;case 2:S=U.jl();B40=1;break;case 1:B40=!(S && S.stream && S.stream.Y && P < S.stream.Y.Ij(0))?5:4;break;case 7:return ~ -S;break;B40=4;break;}}});A40=8;break;case 7:this.OT(0);A40=6;break;}}};J.prototype.orb=function(O,N){var C40,P;C40=2;for(;C40 !== 4;){switch(C40){case 2:P=this.Rg[O.mediaType];O=this.Pa.OY(O.ib,O.mediaType,N,this.qc.uB || 0,function(S){var D40;D40=2;for(;D40 !== 1;){switch(D40){case 2:P.jaa(S);D40=1;break;}}});g.ka(O) || this.rg.ek();C40=4;break;}}};J.prototype.Yob=function(O){var E40,N,P,S;E40=2;for(;E40 !== 8;){switch(E40){case 2:(N=O.mediaType,P=O.manifestIndex,S=O.streamId);O=this.Pa.Zc.kb(N);N=this.Kd[P].P.Rw(N,S);this.Wrb(O,N);E40=3;break;case 3:this.J=this.KUa.wnb(N.Kg,this.J);this.Kd.forEach(function(U,Z){var F40,ja;F40=2;for(;F40 !== 5;){switch(F40){case 2:ja=U.P;ja.E7 || 0 === Z || ja.AP([U.Cq(0),U.Cq(1)]);F40=5;break;}}});E40=8;break;}}};J.prototype.apb=function(O){var G40,N,P;G40=2;for(;G40 !== 8;){switch(G40){case 3:N.q6 && this.Gb.jqb(N);N.Mq && this.Gb.xqb(O,N.P.Qb,P.H);G40=8;break;case 2:N=O.request;O=O.mediaType;P=N.Ta.ib;P.uQb(O);G40=3;break;}}};J.prototype.Wrb=function(O,N){var H40;H40=2;for(;H40 !== 1;){switch(H40){case 2:this.Bb.gx[O.mediaType].fI={id:N.Sa,index:N.Of,bitrate:N.bitrate,Ua:N.Hb && N.Hb.confidence && N.Hb.Ua?N.Hb.Ua.Ba:0,location:N.location};H40=1;break;}}};J.prototype.b8=function(O){var I40,ra,Y,pa,N,P,S,U,Z,ja,ya;I40=2;for(;I40 !== 11;){switch(I40){case 1:I40=!ya.Zc.Nh?5:12;break;case 5:(ra=ya.Zc,Y=ra.Td(0),pa=ra.Td(1));Z.vspts=null !== (N=null === pa || void 0 === pa?void 0:pa.Cc) && void 0 !== N?N:0;Z.aspts=null !== (P=null === Y || void 0 === Y?void 0:Y.Cc) && void 0 !== P?P:0;I40=9;break;case 9:Z.vbuflbytes=null !== (S=null === pa || void 0 === pa?void 0:pa.Hn.fa) && void 0 !== S?S:0;Z.abuflbytes=null !== (U=null === Y || void 0 === Y?void 0:Y.Hn.fa) && void 0 !== U?U:0;Z.vbuflmsec=ya.zw(ra,1);Z.abuflmsec=ya.zw(ra,0);O && (Z.a=null === Y || void 0 === Y?void 0:Y.Ta.Y.toJSON(),Z.v=null === pa || void 0 === pa?void 0:pa.Ta.Y.toJSON());I40=13;break;case 2:(Z={},ja=this.Rg,ya=this.Pa);I40=1;break;case 13:O && ja && (O=ja[1],ja=ja[0],Z.atoappend=null === O || void 0 === O?void 0:O.Kaa(),Z.vtoappend=null === ja || void 0 === ja?void 0:ja.Kaa());I40=12;break;case 12:return Z;break;}}};J.prototype.U_a=function(O){var J40,S,U,Z,ja,N,P;J40=2;for(;J40 !== 8;){switch(J40){case 5:(S=this.Bb.gx[O],U=this.Pa.OG(N,O));S=S.fI?S.fI.bitrate:0;(Z=P.Ta.pua,ja=this.Pa.Fe);J40=9;break;case 9:return {type:O,availableMediaBuffer:u.default.$o()[O] - U,completeBuffer:N.Qh(O),incompleteBuffer:Z,playbackBitrate:P.H7a,streamingBitrate:S,streamingTime:P.Cc + ja,usedMediaBuffer:U,toappend:P.H5b};break;case 1:J40=P?5:8;break;case 2:(N=this.Pa.Zc,P=N.kb(O));J40=1;break;}}};J.prototype.TYb=function(){var K40,O;K40=2;for(;K40 !== 5;){switch(K40){case 2:var r9Z="r";r9Z+="eques";r9Z+="tGarbag";r9Z+="eCollection";O={type:r9Z,time:u.default.time.ga()};w.Ya(this,O.type,O);K40=5;break;}}};J.prototype.Xp=function(O,N,P,S,U,Z,ja){var L40;L40=2;for(;L40 !== 5;){switch(L40){case 2:var V2Z="NF";V2Z+="E";V2Z+="rr_M";V2Z+="C_StreamingFailure";void 0 === ja && (ja=!1);this.E3 || (g.ka(P) && (P=V2Z),this.E3=!0,this.Gb.Bqb(P,O,S,U,Z,void 0 !== N?N:this.HY,ja));L40=5;break;}}};J.prototype.SOa=function(){var M40;M40=2;for(;M40 !== 5;){switch(M40){case 2:var R2Z="Netwo";R2Z+="rk fail";R2Z+="ur";R2Z+="es reset!";this.Tb(R2Z);this.rg.ek();M40=5;break;}}};N10=94;break;case 27:J.prototype.HN=function(){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:return this.Kd.length;break;case 4:return this.Kd.length;break;r20=1;break;}}};J.prototype.Oqa=function(O,N){var s20;s20=2;for(;s20 !== 9;){switch(s20){case 1:return !0;break;case 5:O=this.Kd[O];N=this.Kd[N];return O.P.pf.Ie && N.P.pf.BX || N.P.pf.Ie && O.P.pf.BX;break;case 7:s20=O == N?5:0;break;s20=O === N?1:5;break;case 2:s20=O === N?1:5;break;case 6:return +7;break;s20=5;break;}}};J.prototype.L6=function(O){var t20;t20=2;for(;t20 !== 5;){switch(t20){case 1:return {id:O.H.id,Fe:O.Fe,zd:O.Pua,oe:O.oe,gd:O.Daa,Mc:O.Mc};break;case 2:t20=(O=this.Pa.Bi.children[O])?1:5;break;}}};J.prototype.Tn=function(){var u20,O;u20=2;for(;u20 !== 5;){switch(u20){case 2:O=this.Pa.Bi;u20=1;break;case 1:return {id:O.H.id,Fe:O.Fe,zd:O.Pua,oe:O.oe,gd:O.Daa,Mc:O.Mc};break;}}};J.prototype.wQ=function(O,N){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 2:return this.Pa.wQ(O,N);break;}}};J.prototype.open=function(){var w20,O,N,P,S,U,Z,ra,Y,ja,ya;w20=2;for(;w20 !== 33;){switch(w20){case 5:var m2Z="NFErr_MC_Str";m2Z+="ea";m2Z+="mingInitF";m2Z+="ailure";var h2Z="startPts must";h2Z+=" be a positive number, no";h2Z+="t ";this.Xp(h2Z + this.KC,void 0,m2Z);w20=33;break;case 2:O=this;w20=1;break;case 15:ra.sourceBuffers.forEach(function(pa){var y20,T,R;y20=2;for(;y20 !== 13;){switch(y20){case 14:O.jw[T]=R;y20=13;break;case 3:var F2Z="man";F2Z+="agerdebug";F2Z+="event";var U2Z="lo";U2Z+="gd";U2Z+="at";U2Z+="a";var P2Z="er";P2Z+="r";P2Z+="or";var J2Z="reque";J2Z+="s";J2Z+="tAp";J2Z+="pe";J2Z+="nded";pa.addListener(J2Z,O.apb.bind(O));pa.addListener(P2Z,function(ea){var z20;z20=2;for(;z20 !== 1;){switch(z20){case 2:var u2Z="NF";u2Z+="Err_MC_Str";u2Z+="eamingFa";u2Z+="ilu";u2Z+="re";O.Xp(ea.errorstr,void 0,u2Z);z20=1;break;}}});pa.addListener(U2Z,function(ea){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 4:w.Ya(O,ea.type,ea);A20=8;break;A20=1;break;case 2:w.Ya(O,ea.type,ea);A20=1;break;}}});N.vi && pa.addListener(F2Z,function(ea){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 2:w.Ya(O,ea.type,ea);B20=1;break;case 4:w.Ya(O,ea.type,ea);B20=3;break;B20=1;break;}}});O.Rg[T]=pa;y20=14;break;case 2:var f2Z="h";f2Z+="eader";f2Z+="Appen";f2Z+="d";f2Z+="ed";(T=pa.mediaType,R=O.Bb.Nf[T]);pa=new n.Mca(R.I,T,ra,pa,N,!1,O.X,void 0,O.xh.bind(O));R=new G.UFa(pa,T,O.Pa,O.J,R.I);pa.addListener(f2Z,O.Yob.bind(O));y20=3;break;}}});this.Cy=new E.fKa(this.jw,this.VL.bind(this),this.X.Ue.bind(this.X));w20=26;break;case 4:var w2Z="h";w2Z+="e";w2Z+="aders";(N=this.J,P=this.He.P,S=P.K,U=[],Z=[w2Z]);this.cn && (U.push(1),Z.push(1));this.Wr && (U.push(0),Z.push(0));this.vV.kpb();w20=7;break;case 13:var z2Z="createMediaSourc";z2Z+="e";z2Z+="Star";z2Z+="t";Z.forEach(function(pa,T){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 2:var x2Z="he";x2Z+="ad";x2Z+="er";x2Z+="s";x2Z === pa?O.mT=ya[T]:O.Bb.Nf[pa].Kf=ya[T];x20=1;break;}}});this.Gb.km(z2Z);ra=new r(this.X.SG);w20=10;break;case 20:var o2Z="createMedia";o2Z+="So";o2Z+="urceEnd";this.Gb.km(o2Z);ra.Rc || (ra.Rc=r.Rc);this.mg=ra;w20=17;break;case 34:var s2Z="NFE";s2Z+="rr";s2Z+="_MC_St";s2Z+="reamingI";s2Z+="nitFailure";var S2Z="excep";S2Z+="tio";S2Z+="n";S2Z+=" in ";S2Z+="init";var e2Z="E";e2Z+="rror";e2Z+=":";(this.An(e2Z,ra.error),this.Xp(S2Z,void 0,s2Z));w20=33;break;case 16:var n2Z="Err";n2Z+="or";n2Z+=":";throw (this.An(n2Z,ra.error),ra.error);w20=15;break;case 17:w20=!ra.T3(U)?16:15;break;case 1:w20=!g.Fa(this.KC) || 0 > this.KC?5:4;break;case 26:var W2Z="star";W2Z+="tpl";W2Z+="a";W2Z+="y";var a2Z="logda";a2Z+="t";a2Z+="a";this.Os && this.Gb.cqb();P=this.e_a();this.Gb.HPa(P);Y=function(){var C20;C20=2;for(;C20 !== 5;){switch(C20){case 2:var C2Z="s";C2Z+="hutdo";C2Z+="wn detect";C2Z+="ed b";C2Z+="efore startRequests";O.Gb.uqb();O.vn()?O.Tb(C2Z):O.dsb();C20=5;break;}}};N.nCb?setTimeout(function(){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 2:O.eOa(S).then(Y);D20=1;break;}}},0):this.eOa(S).then(function(){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 2:setTimeout(Y,0);E20=1;break;}}});P={type:a2Z,target:W2Z,fields:{audiogapconfig:N.FO,audiogapdpi:this.mg.Rc && this.mg.Rc.FO,aseApiVersion:this.FG}};this.emit(P.type,P);w20=33;break;case 7:ja=N.Vr;this.qc.If && this.qc.If.fq(ja,this.hm.sessionId);ya=this.vV.bob(Z,P);w20=13;break;case 10:w20=1 === ra.readyState?20:34;break;}}};Object.defineProperties(J.prototype,{FG:{get:function(){var F20;F20=2;for(;F20 !== 1;){switch(F20){case 2:var X2Z="1";X2Z+=".";X2Z+="0";return X2Z;break;}}},enumerable:!1,configurable:!0}});J.prototype.Zoa=function(){};J.prototype.flush=function(){var G20;G20=2;for(;G20 !== 1;){switch(G20){case 4:this.bj.flush();G20=2;break;G20=1;break;case 2:this.bj.flush();G20=1;break;}}};J.prototype.paused=function(){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 4:this.X.paused();H20=6;break;H20=1;break;case 2:this.X.paused();H20=1;break;}}};N10=32;break;case 48:J.prototype.B7=function(){var m30;m30=2;for(;m30 !== 1;){switch(m30){case 2:return this.X.ip(this.He.P);break;}}};J.prototype.fOa=function(O){var n30,N,P,S;n30=2;for(;n30 !== 11;){switch(n30){case 2:n30=O >= this.Kd.length?1:5;break;case 1:return !1;break;case 5:(N=this.Pa.Zc.Td(0),P=this.Pa.Zc.Td(1));N=!N || N.hi;S=!P || P.hi;P=this.Kd[O].P;n30=8;break;case 8:n30=!(O === this.ML + 1 && P.pf.replace || N && S) || !this.X.ip(P)?7:6;break;case 6:O=P.zh[0];N=P.zh[1];N=!this.cn || N && N.stream.ke;n30=12;break;case 7:return !1;break;case 12:return (!this.Wr || O && O.stream.ke) && N?!0:!1;break;}}};J.prototype.M3=function(){var o30;o30=2;for(;o30 !== 1;){switch(o30){case 2:this.L3(this.ML + 1);o30=1;break;}}};J.prototype.L3=function(O){var p30,N;p30=2;for(;p30 !== 6;){switch(p30){case 1:return !1;break;case 3:return !1;break;case 2:p30=!this.fOa(O)?1:5;break;case 5:N=this.Kd[O];p30=4;break;case 4:p30=N.rFb || !N.P.pf.replace?3:9;break;case 9:this.jsb(O);this.rg.ek();return !0;break;}}};J.prototype.jsb=function(O){var q30,N,P,S,U,Z,ja;q30=2;for(;q30 !== 20;){switch(q30){case 6:[1,0].forEach(function(ya){var r30;r30=2;for(;r30 !== 1;){switch(r30){case 2:N.P.oc(ya) && (ja[ya]=N.Cq(ya));r30=1;break;}}});U?this.Pa.GYb(P.P,N.P,ja):S.oab(N.P,ja);this.pPa(O);N.yta();q30=11;break;case 2:var A2Z=",";A2Z+=" ";var y2Z=", streamin";y2Z+="gPts";y2Z+=":";y2Z+=" ";var H2Z="switch";H2Z+="Manifest";H2Z+=" manif";H2Z+="estIndex: ";(N=this.Kd[O],P=this.J,S=this.Pa.Zc,U=S.kb(0));U=U?U.Cc:void 0;Z=S.kb(1);Z=Z?Z.Cc:void 0;P.vi && this.Gb.Mm(H2Z + O + y2Z + U + A2Z + Z);P=this.He;q30=8;break;case 8:U=P.P.pf.Ie;ja=[];q30=6;break;case 11:this.jo.Yga();this.rg.ek();q30=20;break;}}};J.prototype.p6a=function(){var s30,P,S,O,N;s30=2;for(;s30 !== 6;){switch(s30){case 7:var g2Z="onAudioT";g2Z+="rackSwitchStarted ignored, no au";g2Z+="dio pipeline";this.Tb(g2Z);s30=6;break;case 1:s30=N?5:7;break;case 5:var N2Z="onAudioTrackSwitchStarte";N2Z+="d but ";N2Z+="curre";N2Z+="nt playing request not found";(P=this.X.Ue(),S=this.Bb.Nf[N.mediaType]);(O=this.Pa.ku(P,O,0))?N=O.Ta:(this.Tb(N2Z),N=N.Ta);this.irb(N);s30=9;break;case 2:(O=this.Pa.Zc,N=O.kb(0));s30=1;break;case 9:S.GQ=!1;this.rg.ek();s30=6;break;}}};J.prototype.jba=function(O){var t30,U,N,P,Z,S;t30=2;for(;t30 !== 35;){switch(t30){case 25:var i2Z=" ";i2Z+="to";i2Z+=":";i2Z+=" ";var c2Z="switchTracks";c2Z+=" ";c2Z+="cur";c2Z+="rent: ";N.vi && this.Gb.Mm(c2Z + Z + i2Z + U.trackId);P.S9={trackId:O};N=S.kb(0);this.csb(N);t30=21;break;case 8:var B2Z="switchTracks rejecte";B2Z+="d, buffe";B2Z+="ring";return (this.Tb(B2Z),!1);break;case 27:t30=Z === U.trackId?26:25;break;case 3:var t2Z="switchTracks rej";t2Z+="ected,";t2Z+=" previo";t2Z+="us switch sti";t2Z+="ll in progress: ";return (this.Tb(t2Z + JSON.stringify(this.Bb.iz)),!1);break;case 16:var k2Z="swi";k2Z+="t";k2Z+="ch";k2Z+="Tracks can't find trackId:";return (this.Tb(k2Z,O),!1);break;case 17:t30=!U?16:15;break;case 1:t30=!this.Wr?5:4;break;case 11:U=this.Pa.zw(S,1);t30=10;break;case 20:var K2Z="sw";K2Z+="itch";K2Z+="Tracks";K2Z+=" rejected, bufferLeve";K2Z+="lMs";return (this.Tb(K2Z,U,"<",N.y9),!1);break;case 6:t30=P.GQ?14:13;break;case 21:return !0;break;case 2:N=this.J;t30=1;break;case 9:t30=this.X.ug()?8:7;break;case 14:var p2Z="switchTracks rejected, previou";p2Z+="s switch still ";p2Z+="waiting to";p2Z+=" start";return (this.Tb(p2Z),!1);break;case 7:P=this.Bb.Nf[0];t30=6;break;case 10:t30=U < N.y9?20:19;break;case 4:t30=this.Bb.iz?3:9;break;case 12:t30=this.X.getState() === f.ta.Lc?11:19;break;case 19:O=O.Dn;U=this.He.P.getTrackById(O);t30=17;break;case 5:var Z2Z="switchTracks reject";Z2Z+="e";Z2Z+="d, ";Z2Z+="audio";Z2Z+=" disabled";return (this.Tb(Z2Z),!1);break;case 15:Z=this.He.Cq(0).trackId;t30=27;break;case 26:return !1;break;case 13:S=this.Pa.Zc;t30=12;break;}}};J.prototype.gr=function(O,N){var u30;u30=2;for(;u30 !== 1;){switch(u30){case 2:this.Bb.gr(O,N);u30=1;break;}}};J.prototype.ku=function(O,N,P){var v30;v30=2;for(;v30 !== 1;){switch(v30){case 2:return this.Pa.ku(O,this.Pa.Bi,N,P);break;}}};J.prototype.Ui=function(O){var w30;w30=2;for(;w30 !== 1;){switch(w30){case 2:return this.jo.Ui(O);break;}}};N10=59;break;case 39:J.prototype.stop=function(){var U20;U20=2;for(;U20 !== 1;){switch(U20){case 4:this.bj.stop();U20=5;break;U20=1;break;case 2:this.bj.stop();U20=1;break;}}};J.prototype.Rs=function(O,N){var V20;V20=2;for(;V20 !== 1;){switch(V20){case 4:return this.jo.Rs(O,N);break;V20=1;break;case 2:return this.jo.Rs(O,N);break;}}};J.prototype.seek=function(O,N){var W20;W20=2;for(;W20 !== 1;){switch(W20){case 2:return this.jo.seek(O,N);break;}}};J.prototype.po=function(O){var X20,N,P,S,U,Z,a30;X20=2;for(;X20 !== 18;){switch(X20){case 7:var T2Z="u";T2Z+="n";T2Z+="de";T2Z+="r";T2Z+="flow";this.He.P.Dk();this.emit(T2Z);this.z3(2);X20=13;break;case 12:X20=this.js?11:10;break;case 2:var G2Z="br";G2Z+="anc";G2Z+="hO";G2Z+="ffset:";var l2Z="entry.ma";l2Z+="nifestOff";l2Z+="set:";var L2Z="cont";L2Z+="ent";L2Z+="Pt";L2Z+="s:";var v2Z="underflo";v2Z+="w: going to BUFFERING at playe";v2Z+="r pts:";(N=this,P=this.J,S=this.Xt(this.HY,O));this.Tb(v2Z,O,L2Z,S,l2Z,this.He.ax,G2Z,this.Pa.Fe);U=P.KA;this.Rg.forEach(function(ja){var Y20;Y20=2;for(;Y20 !== 1;){switch(Y20){case 2:U=Math.max(0,Math.min(U,ja.Foa - O));Y20=1;break;}}});this.bia+=1;Z=this.Pa.Zc;h.Df.forEach(function(ja){var Z20,ya,ra,Y,pa;Z20=2;for(;Z20 !== 6;){switch(Z20){case 1:Z20=ra?5:6;break;case 2:ra=Z.Td(ja);Z20=1;break;case 5:Z20=P.vi?4:9;break;case 3:var q2Z=", toAppe";q2Z+="nd";q2Z+=": ";var E2Z=",";E2Z+=" fra";E2Z+="gmen";E2Z+="ts:";E2Z+=" ";var Q2Z=", co";Q2Z+="mpleteS";Q2Z+="t";Q2Z+="reami";Q2Z+="ngPts: ";var M2Z=", stre";M2Z+="ami";M2Z+="ngPts: ";var Y2Z=", p";Y2Z+="a";Y2Z+="rt";Y2Z+="ials: ";var I2Z=", c";I2Z+="omplet";I2Z+="edByte";I2Z+="s: ";var b2Z=", com";b2Z+="p";b2Z+="letedMs: ";var d2Z=",";d2Z+=" media";d2Z+="Type";d2Z+=": ";var j2Z="underflo";j2Z+="w";j2Z+=": ";Y=j2Z + O + d2Z + ja + b2Z + ra.FM + I2Z + pa + Y2Z + ra.Ta.nE + M2Z + ra.Cc + Q2Z + ra.nq + E2Z + JSON.stringify(ra.Ta.Y) + q2Z + (Y && Y.Kaa());Z20=9;break;case 4:(Y=N.Rg[ja],pa=N.Pa.OG(Z,ja));Z20=3;break;case 9:P.vi && N.Gb.Mm(Y);ra.Ska();null === (ya=ra.fh) || void 0 === ya?void 0:ya.OYb();Z20=6;break;}}});X20=7;break;case 10:S=this.qc.Wb.get();S=S.confidence?S.Ua.Ba:0;U > P.uFb && S > P.tFb && this.oia();X20=18;break;case 13:this.rg.ek();X20=12;break;case 11:try{a30=2;for(;a30 !== 1;){switch(a30){case 2:this.Z5(f.ta.xd);a30=1;break;}}}catch(ja){var O2Z="Hindsight: Error whe";O2Z+="n evaluating QoE ";O2Z+="at Buffering: ";a000.O3Z(3);this.Gb.Zn(a000.E3Z(O2Z,ja));}X20=10;break;}}};J.prototype.mo=function(O){var b30;b30=2;for(;b30 !== 1;){switch(b30){case 4:return this.jo.mo(O);break;b30=1;break;case 2:return this.jo.mo(O);break;}}};J.prototype.$r=function(O,N,P){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:return this.jo.$r(O,N,P);break;}}};J.prototype.pPa=function(O){var d30,N;d30=2;for(;d30 !== 3;){switch(d30){case 2:this.ML=O;N=this.Kd[O];this.Gb.rqb(O,N);this.Gb.HPa(N.P.dx);d30=3;break;}}};J.prototype.hM=function(O,N){var e30,ya,ra,Y,ja,P,S,U,Z;e30=2;for(;e30 !== 35;){switch(e30){case 8:var D2Z="ad";D2Z+="dManifest ";D2Z+="ignored, pipelines already set EOS:";this.Tb(D2Z,U.zr,Z.zr);e30=35;break;case 5:var r2Z="a";r2Z+="ddManife";r2Z+="st: pipelines already ";r2Z+="sh";r2Z+="utdown";this.Tb(r2Z);e30=35;break;case 25:var P0Z=",";P0Z+=" ";var J0Z=") last";J0Z+="St";J0Z+="reamAppended: (";var m0Z=",";m0Z+=" ";var h0Z=" ";h0Z+="stre";h0Z+="a";h0Z+="mCount: (";var R0Z=" player";R0Z+="St";R0Z+="a";R0Z+="te: ";var V0Z="ad";V0Z+="dManifest, c";V0Z+="urr";V0Z+="entPts";V0Z+=": ";N.replace || this.Pa.rtb(ya,Z,ja);N=this.Bb.gx[0].fI;U=this.Bb.gx[1].fI;S.vi && this.Gb.Mm(V0Z + this.X.Ue() + R0Z + this.X.getState() + h0Z + O.Cq(0).$d.length + m0Z + O.Cq(1).$d.length + J0Z + N + P0Z + U + ")");e30=21;break;case 10:var U0Z="video";U0Z+="_";U0Z+="tr";U0Z+="acks";var u0Z="au";u0Z+="dio_trac";u0Z+="k";u0Z+="s";ya=O.P;(N.vvb || this.YNa) && this.Bb.gr(N.vvb || this.YNa,ya.S);(ra=[u0Z,U0Z],Y=this.e_a());N.replace && ra.forEach(function(pa,T){var f30,R,ea;f30=2;for(;f30 !== 3;){switch(f30){case 1:f30=R?5:3;break;case 2:R=ya.BD(T);f30=1;break;case 5:ea=P.Kd[0].P;Object.keys(R).forEach(function(sa){var g30,la;g30=2;for(;g30 !== 5;){switch(g30){case 2:la=ea.Rw(T,sa);la && la.ke && (R[sa].b5(la),sa=ya.dx,sa[T] > Y[T] && (Y[T]=sa[T]));g30=5;break;}}});f30=3;break;}}});ra.forEach(function(pa,T){var h30,R;h30=2;for(;h30 !== 5;){switch(h30){case 2:R=ya.BD(T);R && Object.keys(R).forEach(function(ea){var i30;i30=2;for(;i30 !== 1;){switch(i30){case 2:R[ea].bdb(u.default.$o()[T],ya.Vw()?S.v4a:0);i30=1;break;}}});h30=5;break;}}});e30=16;break;case 21:this.Wr && g.ka(N) || this.cn && g.ka(U) || (O.P.AP([O.Cq(0),O.Cq(1)]),this.M3());e30=35;break;case 7:var F0Z="addManifest in fastplay but not drm manif";F0Z+="est, leaving spa";F0Z+="ce";F0Z+=" for it";N.BY && (this.m3=!0);U=this.Kd.length;N.replace && 1 !== U?U=1:this.He.P.pf.Ie && !N.replace && 1 === U && (this.Tb(F0Z),U=this.Kd[0].clone(),this.Kd.push(U),U=this.Kd.length);Z=N.$ || 0;ja=N.La;O=m.oea.create({Qb:U,oa:O,rp:void 0,y$a:N.qQ || [this.He.Q6(0),this.He.Q6(1)],Ie:!1,k2a:! !N.replace,Wi:! !N.Wi,Cd:h.r9(! !N.pU,! !N.XE),$:Z,La:ja,Gb:this.Gb,qs:this.SOa.bind(this),cc:this,config:this.J,I:this.I,rg:this.rg,jo:this.jo,If:this.OQa?this.qc.If:void 0,JD:this.JD});e30=10;break;case 1:e30=this.vn()?5:4;break;case 16:var f0Z="boo";f0Z+="lea";f0Z+="n";O.jU=f0Z === typeof N.Zub?N.Zub:!0;this.Kd[U] && this.Kd[U].fd();this.Kd[U]=O;O.oTa();e30=25;break;case 9:e30=!N.Ycc && (this.Wr && U.zr || this.cn && Z.zr)?8:7;break;case 2:(P=this,S=this.J);e30=1;break;case 4:N || (N={});(U=this.Pa.Zc.Td(0),Z=this.Pa.Zc.Td(1));e30=9;break;}}};J.prototype.cU=function(O){var j30;j30=2;for(;j30 !== 1;){switch(j30){case 2:return this.jo.cU(O);break;case 4:return this.jo.cU(O);break;j30=1;break;}}};J.prototype.Oz=function(O){var k30,N,P,S,U,Z;k30=2;for(;k30 !== 7;){switch(k30){case 1:k30=!this.vn()?5:7;break;case 2:S=this.J;k30=1;break;case 9:var w0Z="d";w0Z+="rm";w0Z+="Read";w0Z+="y";a000.q3Z(3);this.X.GZ(a000.E3Z(O,""),N);N && (this.Rg.forEach(function(ja){var l30;l30=2;for(;l30 !== 5;){switch(l30){case 2:S.s6 && ja.nYa();ja.Oz();l30=5;break;}}}),S.Xba && this.OT(),this.He.P.pf.Ie && this.L3(this.jo.BC?this.jo.BC.Qb:this.ML + 1),S.Vr || (null === (P=this.Jh) || void 0 === P?0:P.GD()) || this.zy.fz || this.WT(w0Z),this.jo.Yga());k30=7;break;case 5:var e0Z=" read";e0Z+="yS";e0Z+="ta";e0Z+="t";e0Z+="e: ";var o0Z=" fo";o0Z+="r ";o0Z+="m";o0Z+="ovieId";o0Z+=": ";var z0Z=",";z0Z+=" ";var x0Z="dr";x0Z+="mRea";x0Z+="dy at s";x0Z+="t";x0Z+="reaming pts: ";g.ka(N) && (N=!0);(U=this.Pa.Zc.Td(0),Z=this.Pa.Zc.Td(1));S.vi && this.Gb.Mm(x0Z + (U?U.Cc:null) + z0Z + (Z?Z.Cc:null) + o0Z + O + e0Z + N);k30=9;break;}}};N10=48;break;case 59:J.prototype.Z5=function(O,N){var x30,P,S,y30;x30=2;for(;x30 !== 6;){switch(x30){case 3:x30=N?9:8;break;case 2:P=this.Bb;O=P.lna(O,N);S=this.Cg.zva;O && !O.kM && S.Yma(O);x30=3;break;case 9:P.twa();x30=6;break;case 8:N=S.zHb();try{y30=2;for(;y30 !== 1;){switch(y30){case 2:this.Gb.mqb(N);y30=1;break;}}}catch(U){var s0Z="]";s0Z+=" ";s0Z+="[";var S0Z="except";S0Z+="i";S0Z+="o";S0Z+="n:";S0Z+=" [";this.I.error(S0Z + U.message + s0Z + U.wfc + "]");}x30=6;break;}}};J.prototype.uka=function(O,N){var z30;z30=2;for(;z30 !== 5;){switch(z30){case 2:a000.q3Z(4);v.assert(a000.Q3Z(0,N));return this.Kd[N].swb(O);break;}}};J.prototype.Xt=function(O,N){var A30,P,S;A30=2;for(;A30 !== 7;){switch(A30){case 2:void 0 === O && (O=this.HY);P=this.Pa.QFb(N,O);A30=5;break;case 5:A30=P?4:8;break;case 8:(P=this.Pa.mna(O),0 < P.length && (P=P[0],S=P.Fe));A30=3;break;case 4:S=P.Fe;A30=3;break;case 3:g.Fa(S) || (S=this.Kd[O].ax);a000.O3Z(0);return a000.Q3Z(N,S);break;}}};J.prototype.LM=function(O,N){var B30,S,P;B30=2;for(;B30 !== 7;){switch(B30){case 4:S=P.Fe;B30=3;break;case 5:B30=P?4:8;break;case 2:void 0 === O && (O=this.HY);P=this.Pa.PFb(N,O);B30=5;break;case 8:(P=this.Pa.mna(O),0 < P.length && (P=P[0],S=P.Fe));B30=3;break;case 3:g.Fa(S) || (S=this.Kd[O].ax);a000.q3Z(3);return a000.E3Z(N,S);break;}}};J.prototype.VL=function(){var C30,O;C30=2;for(;C30 !== 4;){switch(C30){case 2:O=this.X.ug();C30=1;break;case 1:C30=O || this.Bb.iz?5:4;break;case 9:O=this.X.ug();C30=5;break;C30=1;break;case 5:(O && this.Gb.Kha(),this.XT(),this.X.Me(f.ta.Lc),this.rg.ek());C30=4;break;}}};J.prototype.oia=function(){var D30,O,N;D30=2;for(;D30 !== 3;){switch(D30){case 2:(O=this,N=this.X.ug());this.Pa.Zc.Maa(N,function(P){var E30;E30=2;for(;E30 !== 1;){switch(E30){case 2:return O.Rg[P]?O.Rg[P].Kaa():"";break;}}});this.mL && (clearTimeout(this.mL),this.mL=void 0);this.Cy.zQb();D30=3;break;}}};J.prototype.rQa=function(O){var F30,N,G30;F30=2;for(;F30 !== 7;){switch(F30){case 3:this.Bb.Ey();F30=9;break;case 9:F30=this.js && 1 === O.mediaType?8:7;break;case 2:O.hi=!0;O.zr=!1;N=this.X.Ue() || 0;O.CM(N);F30=3;break;case 8:try{G30=2;for(;G30 !== 1;){switch(G30){case 2:this.Z5(f.ta.Ir,{La:O.Mc});G30=1;break;}}}catch(P){var n0Z="Hindsight: Error";n0Z+=" evaluating QoE at e";n0Z+="ndOfStream: ";a000.O3Z(3);this.Gb.Zn(a000.Q3Z(n0Z,P));}F30=7;break;}}};J.prototype.zrb=function(){var H30,O;H30=2;for(;H30 !== 5;){switch(H30){case 2:O=this.qc.Wb;O && (O=O.get()) && O.avtp && this.ov.Ysb({avtp:O.avtp.Ba});H30=5;break;}}};J.prototype.dsb=function(){var I30,O,N,P;I30=2;for(;I30 !== 4;){switch(I30){case 2:var W0Z="startup";W0Z+=", playerState no ";W0Z+="longe";W0Z+="r STARTIN";W0Z+="G:";var a0Z="fail";a0Z+="ed to s";a0Z+="tart audio pi";a0Z+="peline";var C0Z="fa";C0Z+="iled to st";C0Z+="art v";C0Z+="id";C0Z+="eo pipeline";this.X.Me(f.ta.Ih);(O=this.Pa.Zc,N=O.Td(0),P=O.Td(1));this.cn && !this.xQa(P)?this.Tb(C0Z):this.Wr && !this.xQa(N)?this.Tb(a0Z):(this.RPa=!0,this.Kd[0].P.E7=!0,N=this.Bb.Nf[1],P=this.Bb.Nf[0],(N && 0 < N.Wu || P && 0 < P.Wu) && this.Gb.kqb(String(O.P.K),P?P.Wu:0,N?N.Wu:0,P?P.CY:0,N?N.CY:0),this.X.y2a()?(this.z3(0),this.Wr && (O=this.He.Q6(0),N=this.He.Cq(0).trackId,this.Gb.nqb(O,N))):this.Tb(W0Z,this.X.getState()));I30=4;break;}}};J.prototype.xQa=function(O){var J30,N,P;J30=2;for(;J30 !== 14;){switch(J30){case 5:var H0Z="NFErr_M";H0Z+="C_Streamin";H0Z+="gInitFai";H0Z+="lure";var X0Z="startPip";X0Z+="eli";X0Z+="ne fa";X0Z+="iled";return (this.vn() || this.Xp(X0Z,O.ib.P.Qb,H0Z),!1);break;case 9:return !0;break;case 3:J30=O.jl()?9:8;break;case 2:(N=O.mediaType,P=this.Bb.bKb(O));J30=1;break;case 8:P=this.He.P;O.P.ZUa(O,{offset:0,nD:!P.pf.Ie && !P.Wi && 1 === N,Mw:!this.Bb.Nf[N].kGb});return !0;break;case 1:J30=g.ka(P)?5:4;break;case 4:O=O.track.$d[P];J30=3;break;}}};N10=72;break;case 2:Object.defineProperties(J.prototype,{addEventListener:{get:function(){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{removeEventListener:{get:function(){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{mRb:{get:function(){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:return this.mg.Rc;break;case 4:return this.mg.Rc;break;V10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{mediaSourceId:{get:function(){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 2:return this.mg?this.mg.OZ:void 0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Wr:{get:function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return this.oc(0);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{cn:{get:function(){var Y10;Y10=2;for(;Y10 !== 1;){switch(Y10){case 2:return this.oc(1);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{attributes:{get:function(){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 2:return this.oga;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{ah:{get:function(){var a20;a20=2;for(;a20 !== 1;){switch(a20){case 2:return this.Ni;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{HY:{get:function(){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:return 0 <= this.e3?this.e3:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{He:{get:function(){var c20;c20=2;for(;c20 !== 1;){switch(c20){case 4:return this.Kd[this.ML];break;c20=1;break;case 2:return this.Kd[this.ML];break;}}},enumerable:!1,configurable:!0}});N10=13;break;case 13:Object.defineProperties(J.prototype,{ov:{get:function(){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 4:return this.qc.ov;break;d20=1;break;case 2:return this.qc.ov;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Os:{get:function(){var e20;e20=2;for(;e20 !== 1;){switch(e20){case 2:return this.Drb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{V8:{get:function(){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:return this.LL;break;case 4:return this.LL;break;f20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{BY:{get:function(){var g20;g20=2;for(;g20 !== 1;){switch(g20){case 2:return this.m3;break;}}},enumerable:!1,configurable:!0}});J.prototype.oc=function(O){var h20;h20=2;for(;h20 !== 1;){switch(h20){case 4:return this.isb[O];break;h20=1;break;case 2:return this.isb[O];break;}}};J.prototype.dW=function(){var i20;i20=2;for(;i20 !== 1;){switch(i20){case 2:return u.default.time.ga() - this.uga;break;}}};J.prototype.e_a=function(){var j20;j20=2;for(;j20 !== 1;){switch(j20){case 2:return (this.Kd || []).reduce(function(O,N){var k20,P;k20=2;for(;k20 !== 4;){switch(k20){case 2:P=N.P;h.Df.forEach(function(S){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:P.dx[S] > O[S] && (O[S]=P.dx[S]);l20=1;break;}}});return O;break;}}},[0,0]);break;}}};J.prototype.yO=function(){var m20,O;m20=2;for(;m20 !== 4;){switch(m20){case 2:O=0;g.forEach(this.He.P.oa.audio_tracks,function(N){var n20;n20=2;for(;n20 !== 1;){switch(n20){case 2:g.forEach(N.streams,function(P){var o20;o20=2;for(;o20 !== 1;){switch(o20){case 2:O=Math.max(O,P.bitrate);o20=1;break;}}});n20=1;break;}}});return O;break;}}};J.prototype.xh=function(O){var p20;p20=2;for(;p20 !== 1;){switch(p20){case 4:return this.Kd[O];break;p20=1;break;case 2:return this.Kd[O];break;}}};J.prototype.CIb=function(){var q20,O;q20=2;for(;q20 !== 5;){switch(q20){case 2:O=this.Kd[0];return O.P.pf.Ie?this.Kd[1]:O;break;}}};N10=27;break;case 72:J.prototype.z3=function(O,N){var K30,P,S,U,Z,ja;K30=2;for(;K30 !== 19;){switch(K30){case 14:this.uga=u.default.time.ga();U.Kl=Z.Kl=this.uga;0 === O && (!this.cn || 0 < Z.Wu) && (!this.Wr || 0 < U.Wu) && this.Bb.Ey();K30=11;break;case 7:var y0Z="startBu";y0Z+="fferin";y0Z+="g";this.emit(y0Z);h.Df.forEach(function(ya){var L30;L30=2;for(;L30 !== 5;){switch(L30){case 2:L30=(ya=P.Pa.Zc.Td(ya))?1:5;break;case 1:(ya.fka=0,ya.seeking=0 === O || 1 === O,ya.Ska());L30=5;break;}}});K30=14;break;case 11:S.GV && (this.Qga=setTimeout(function(){var M30;M30=2;for(;M30 !== 1;){switch(M30){case 2:P.zrb();M30=1;break;}}},S.Fma));this.X.ug() && (this.mL=setTimeout(function(){var N30;N30=2;for(;N30 !== 1;){switch(N30){case 2:P.Bb.Ey();N30=1;break;case 4:P.Bb.Ey();N30=8;break;N30=1;break;}}},S.$A));this.rg.ek();K30=19;break;case 2:(P=this,S=this.J,U=this.Bb.Nf[0] || ({}),Z=this.Bb.Nf[1] || ({}),ja=this.Bb.xB[1] || ({}));(this.Bb.xB[0] || ({})).HU=void 0;ja.HU=void 0;this.X.Me(2 === O?f.ta.Rf:f.ta.xd);this.Gb.hqb(N);this.Cy.reset();this.He.P.Uta();K30=7;break;}}};J.prototype.WT=function(O){var O30,N;O30=2;for(;O30 !== 3;){switch(O30){case 2:var g0Z="AdoptingDat";g0Z+="a ";g0Z+="still ";g0Z+="has lock:";var A0Z="wi";A0Z+="peHeaderC";A0Z+="a";A0Z+="che:";a000.q3Z(3);O=a000.E3Z(A0Z,O);this.zy.fz && this.Vk(g0Z + O);N=this.J;N.xI || (N.vi && this.Gb.Mm(O),this.qc.ZC(),this.Jh && (this.Jh=void 0));O30=3;break;}}};J.prototype.eOa=function(O){var P30,P,S,U,Z;function N(ja,ya){var Q30,ra,Y,pa,T,R,ea,sa;Q30=2;for(;Q30 !== 10;){switch(Q30){case 13:ya=P.He.P;Q30=12;break;case 2:(ra=ja.mediaType,Y=ya[ra],pa=Promise.resolve(void 0));Q30=1;break;case 5:(T=Y.Sa,R=Y.header.stream,ea=P.Bb.Nf[ra],sa=P.Bb.xB[ra]);g.ka(ya.KD) || P.Cg.W$a(ya.KD,ya.fp,ya.gp);sa.rA=ya.rA;Q30=9;break;case 9:sa.Nw=ya.Nw;Q30=8;break;case 6:Q30=!Y.header?14:13;break;case 12:ya.R3(Y.header,!ya.pf.Ie && !ya.Wi && 1 === ra,!0) && (void 0 !== ja.JI && ja.sJ(ja.JI),pa=ya.jl(ra,T).stream.Y.On(ja.Cc,void 0,!0),ya=R.il(pa),R=ya.$,(ya=ya.vna(ja.Cc)) && 0 < ya.Fd && (R=ya.Fd),ja.Cc !== R && (ja.RP(R,pa),P.lia(ra,R)),pa=P.pnb(ja,Y.data).then(function(){var R30;R30=2;for(;R30 !== 1;){switch(R30){case 2:return T;break;}}}),ea.kGb=!0,0 === ra && P.Cg.OP(Y.header.bitrate));Q30=11;break;case 11:return pa;break;case 14:var N0Z="ado";N0Z+="pt";N0Z+="Pip";N0Z+="eline no header for streamId:";return (ja.Vk(N0Z,T),pa);break;case 1:Q30=Y?5:11;break;case 7:return pa;break;case 8:Q30=!ja.k5b(T)?7:6;break;}}}P30=2;for(;P30 !== 13;){switch(P30){case 2:var c0Z="Previously adopted request ";c0Z+="list still ";c0Z+="retained";c0Z+=" was unexpecte";c0Z+="d";P=this;(null === (S=this.Jh) || void 0 === S?0:S.GD()) && this.Vk(c0Z);this.Jh=void 0;P30=4;break;case 9:return (this.qc.oka(),Promise.resolve());break;case 4:U=this.J;P30=3;break;case 8:var i0Z="c";i0Z+="heckForHcdS";i0Z+="tart";this.Gb.km(i0Z);this.Kd.forEach(function(ja){var S30;S30=2;for(;S30 !== 1;){switch(S30){case 2:ja.P.K === O && (Z=ja);S30=1;break;}}});return this.qc.If.aQb(O,Z?Z.P:void 0).then(function(ja){var T30,ya,ra;T30=2;for(;T30 !== 8;){switch(T30){case 1:T30=g.ka(ja)?5:4;break;case 4:var B0Z="adop";B0Z+="tHcd";B0Z+="S";B0Z+="tar";B0Z+="t";(ya=P.Pa.Zc.Td(0),ra=P.Pa.Zc.Td(1));P.Gb.km(B0Z);return P.zy.Jza(function(){var U30,Y,pa;U30=2;for(;U30 !== 7;){switch(U30){case 4:var t0Z="a";t0Z+="dopt";t0Z+="HcdEn";t0Z+="d";!P.Wr || U.J0a && !Y || (pa=U.J0a?Y.then(function(T){var V30;V30=2;for(;V30 !== 1;){switch(V30){case 2:return T?N(ya,ja):Promise.resolve();break;case 4:return T?N(ya,ja):Promise.resolve();break;V30=1;break;}}}):N(ya,ja));P.VOa=ja;P.Gb.km(t0Z);return Promise.all([Y,pa]);break;case 2:Y=Promise.resolve();P.cn && (Y=N(ra,ja));pa=Promise.resolve();U30=4;break;}}});break;case 5:var k0Z="hea";k0Z+="derCacheDataN";k0Z+="otFound";return (U.Vr || P.zy.fz || P.WT(k0Z),Promise.resolve());break;case 2:var K0Z="checkForH";K0Z+="cdE";K0Z+="nd";P.Gb.km(K0Z);T30=1;break;}}}).then(function(){var W30,ja;W30=2;for(;W30 !== 5;){switch(W30){case 2:var p0Z="adopt";p0Z+="edCompleted";p0Z+="Requ";p0Z+="ests";U.Vr || (null === (ja=P.Jh) || void 0 === ja?0:ja.GD()) || P.zy.fz || !P.X.ip(P.He.P) || P.WT(p0Z);W30=5;break;}}}).catch(function(ja){var X30;X30=2;for(;X30 !== 1;){switch(X30){case 2:var Z0Z="headerCache:loo";Z0Z+="kupDataPromise c";Z0Z+="aught error:";P.Tb(Z0Z,ja);X30=1;break;}}});break;case 3:P30=!this.wsb || !this.qc.If?9:8;break;}}};J.prototype.pnb=function(O,N){var Y30,P,S,U,Z,ja,ya,ra;Y30=2;for(;Y30 !== 9;){switch(Y30){case 5:return Promise.resolve();break;case 2:P=this;Y30=1;break;case 6:Y30=4 == N.length?9:9;break;Y30=0 === N.length?5:4;break;case 1:Y30=0 === N.length?5:4;break;case 4:(S=O.N8,U=S.H,Z=Math.min(this.Kd[0].La || Infinity,S.Mc || Infinity),ja=O.mediaType,ya=this.Bb.Nf[ja]);return this.zy.Jza(function(){var Z30,pa;Z30=2;function Y(){var a40,T;a40=2;for(;a40 !== 5;){switch(a40){case 2:var v0Z="adoptData, not adopting failed";v0Z+=" mediaReq";v0Z+="uest";v0Z+=":";var T0Z="adoptData, not adopting aborted mediaR";T0Z+="eque";T0Z+="st:";T=N.shift();7 === T.readyState?O.Tb(T0Z,T.toString()):6 === T.readyState?(O.Tb(v0Z,T.toString()),P.AG(T,!1)):O.Cc >= T.gd && O.Cc < T.Mc && (O.Cc < Z || !g.Fa(Z))?(pa.push(P.qnb(O,T).then(function(){var b40;b40=2;for(;b40 !== 1;){switch(b40){case 2:T.complete && P.n0a(T);b40=1;break;}}})),O.Q_b(T.Mc),g.Fa(Z) && O.Cc >= Z && P.Gb.Lha(U,T.Mc),0 === ja && P.Cg.OP(T.bitrate),T.complete?(ya.Wu+=T.duration,T.JPb && (ya.CY+=T.duration),ra=T):(P.Jh || (P.Jh=new D.Yza(P.I)),P.Jh.push(T))):P.AG(T,!1);a40=5;break;}}}for(;Z30 !== 3;){switch(Z30){case 1:Z30=0 < N.length?5:4;break;case 2:pa=[];Z30=1;break;case 7:Z30=5 <= N.length?0:7;break;Z30=0 < N.length?5:4;break;case 5:Y();Z30=1;break;case 4:return Promise.all(pa);break;}}}).then(function(){var c40,Y,pa;c40=2;for(;c40 !== 8;){switch(c40){case 5:c40=ra || (null === (Y=P.Jh) || void 0 === Y?0:Y.GD())?4:8;break;case 2:ra && O.o0a(ra);c40=5;break;case 4:Y=P.Kd[S.P.Qb];pa=O.ona(O.Cc);void 0 !== pa?(O.Yn=pa,O.je=Y.P.zh[ja].stream.il(O.Yn)):O.Yn=O.Jf?O.Jf.index + 1:O.Yn + 1;c40=8;break;}}});break;}}};J.prototype.qnb=function(O,N){var d40,P,S;d40=2;for(;d40 !== 3;){switch(d40){case 2:var G0Z=", ";G0Z+="p";G0Z+="t";G0Z+="s:";G0Z+=" ";var l0Z=", st";l0Z+="a";l0Z+="t";l0Z+="e:";l0Z+=" ";var L0Z="adoptMediaReq";L0Z+="uest: ty";L0Z+="pe";L0Z+=": ";(P=this,S=O.mediaType);this.J.vi && this.Gb.Mm(L0Z + S + l0Z + N.readyState + G0Z + N.gd);this.lia(S,N.gd);return O.Ta.Mtb(N).catch(function(U){var e40;e40=2;for(;e40 !== 1;){switch(e40){case 2:var j0Z="Error";j0Z+=" adoptin";j0Z+="g";j0Z+=" requests";P.Vk(j0Z,U);e40=1;break;case 4:P.Vk("",U);e40=5;break;e40=1;break;}}});break;}}};J.prototype.hia=function(O,N,P){var f40,S;f40=2;for(;f40 !== 9;){switch(f40){case 1:void 0 === N && (N=F.zS.Oja);(P || this.Pa.Zc).uwa(O,N);this.Cy.reset();(void 0 === O?h.Df:[O]).forEach(function(U){var g40;g40=2;for(;g40 !== 1;){switch(g40){case 2:S.oc(U) && (S.jw[U].reset(),S.Irb(U),S.Cg.LTb(U));g40=1;break;}}});f40=9;break;case 2:S=this;f40=1;break;}}};J.prototype.Yxa=function(){var h40,O;h40=2;for(;h40 !== 5;){switch(h40){case 2:O=this;h.Df.forEach(function(N){var i40,P;i40=2;for(;i40 !== 5;){switch(i40){case 2:null === (P=O.jw[N]) || void 0 === P?void 0:P.stop();i40=5;break;}}});h40=5;break;}}};J.prototype.yJ=function(O){var j40,N;j40=2;for(;j40 !== 4;){switch(j40){case 2:N=this;(void 0 === O?h.Df:[O]).forEach(function(P){var k40,S;k40=2;for(;k40 !== 5;){switch(k40){case 2:null === (S=N.jw[P]) || void 0 === S?void 0:S.resume();k40=5;break;}}});return Promise.resolve();break;}}};J.prototype.OT=function(O){var l40,N,P;l40=2;for(;l40 !== 3;){switch(l40){case 2:N=this;O=void 0 === O?h.Df:[O];null === (P=this.Cy) || void 0 === P?void 0:P.reset();O.forEach(function(S){var m40,U;m40=2;for(;m40 !== 5;){switch(m40){case 2:null === (U=N.jw[S]) || void 0 === U?void 0:U.resume();m40=5;break;}}});l40=3;break;}}};J.prototype.Irb=function(O){var n40,N;n40=2;for(;n40 !== 3;){switch(n40){case 2:N=this.Bb.Nf[O];this.Bb.gx[O].Fra=void 0;N.Wu=0;N.CY=0;n40=3;break;}}};N10=87;break;case 94:J.prototype.bpb=function(O,N){var N40;N40=2;for(;N40 !== 5;){switch(N40){case 2:N=d.i_a(N);this.oga[O.mediaType]=N;N40=5;break;}}};Object.defineProperties(J.prototype,{iz:{set:function(O){var O40;O40=2;for(;O40 !== 1;){switch(O40){case 4:this.Bb.iz=O;O40=3;break;O40=1;break;case 2:this.Bb.iz=O;O40=1;break;}}},enumerable:!1,configurable:!0}});return J;break;case 87:J.prototype.lia=function(O,N){var o40,S,U,P;o40=2;for(;o40 !== 9;){switch(o40){case 1:o40=P.kb(O)?5:9;break;case 5:var d0Z="p";d0Z+="ts";d0Z+="ch";d0Z+="ang";d0Z+="ed";(S=this.Bb.Nf[O],U=this.Bb.xB[O]);g.ka(S.No) && (S.No=N,1 === O && this.Wr && (O=this.Bb.Nf[0],g.ka(O.No) && (P=P.kb(0),P.sJ(N)),this.emit(d0Z,N)));g.ka(U.HU) && (U.HU=N);o40=9;break;case 2:P=this.Pa.Zc;o40=1;break;case 6:o40=P.kb(O)?4:0;break;o40=P.kb(O)?5:9;break;}}};J.prototype.n0a=function(O){var p40;p40=2;for(;p40 !== 1;){switch(p40){case 2:this.Jh && (this.Jh.xQb(O),this.CTa());p40=1;break;}}};J.prototype.w7=function(O){var q40;q40=2;for(;q40 !== 1;){switch(q40){case 2:this.Jh && (this.Jh.wQb(O),this.CTa());q40=1;break;}}};J.prototype.CTa=function(){var r40,O;r40=2;for(;r40 !== 4;){switch(r40){case 2:r40=this.Jh?1:4;break;case 1:var b0Z="allCom";b0Z+="plete";b0Z+="d";O=this.J;this.Jh.GD() || (this.Jh=void 0,O.Vr || this.zy.fz || this.WT(b0Z));r40=4;break;}}};J.prototype.XT=function(){var s40,O,N,P,S,U,Z,ja,ya;s40=2;for(;s40 !== 7;){switch(s40){case 4:this.rg.ek();ya=Math.max(ya,1);s40=9;break;case 2:(O=this,N=this.J,P=this.HY,S=this.Kd[P],U=this.Pa.Zc,Z=this.X.Ue() || 0,ja=this.Xt(P,Z),ya=N.Iba);this.qc.If && void 0 !== S.AI && S.AI - Z <= N.e5a && this.qc.If.fq(!0,this.hm.sessionId);this.X.getState() === f.ta.Lc && ([1,0].forEach(function(ra){var t40,la,Y,R,ea,sa,pa,T;t40=2;for(;t40 !== 35;){switch(t40){case 10:t40=(O.Pa.RSb(T,T.dv),sa > O.e3)?20:16;break;case 5:t40=Y?4:35;break;case 24:g.ka(T) || T == Y.H7a || (Y.H7a=T);t40=23;break;case 12:pa=T.Ta;t40=11;break;case 7:t40=T?6:21;break;case 15:R.ROb=T.dv;ea=T.Sa;t40=26;break;case 20:O.e3=sa;la=0 < sa?sa - 1:null;O.Gb.pqb(ea,Z,T.dv,null !== la?O.Kd[la].P.K:null,la);t40=17;break;case 1:Y=U.kb(ra);t40=5;break;case 2:t40=O.oc(ra)?1:35;break;case 17:ja=O.Xt(sa,Z);t40=15;break;case 6:pa=T.oe - Z;pa < ya && (ya=pa);(R=O.Bb.gx[ra],ea=T.P,sa=ea.Qb);t40=12;break;case 16:O.LL && T.dv != R.ROb && O.Gb.Eqb(T.dv);t40=15;break;case 26:ea != R.Fra && (R.Fra=ea,ra=O.Kd[sa].P.Rw(ra,ea),sa=O.Xt(sa,T.zd),O.Gb.zqb(ra,T.zd,sa,ra.P.Qb));T=T.bitrate;t40=24;break;case 4:pa=Y.Ta;Y.CM(Z);(T=O.Pa.ku(Z,U,ra)) && !T.hf && (T=O.Rg[ra].IOb);t40=7;break;case 21:var I0Z="Unabl";I0Z+="e to find request prese";I0Z+="ntin";I0Z+="g at pl";I0Z+="ayerPts:";Y.Tb(I0Z,Z);t40=23;break;case 23:O.orb(pa,Z);O.Pa.iXb();t40=35;break;case 11:t40=!O.cn || 1 === ra?10:15;break;}}}),this.Pa.ht(Z,ja));s40=4;break;case 9:this.MC && clearTimeout(this.MC);this.MC=setTimeout(this.XT.bind(this),ya);s40=7;break;}}};J.prototype.C2=function(O){var u40;u40=2;for(;u40 !== 1;){switch(u40){case 2:return this.rg.C2(O);break;}}};J.prototype.ek=function(){var v40;v40=2;for(;v40 !== 1;){switch(v40){case 2:return this.rg.ek();break;}}};J.prototype.AG=function(O,N){var w40,S,P;w40=2;for(;w40 !== 13;){switch(w40){case 5:S=O.mediaType;O.abort();O.fd();w40=9;break;case 2:P=O.Ta;w40=1;break;case 1:w40=P?5:14;break;case 14:var Y0Z="abo";Y0Z+="r";Y0Z+="tRequest with no requestManagaer:";this.Tb(Y0Z,O);w40=13;break;case 9:O.Ni && O.Ni.clear();P.jaa(O);this.Rg[S].jaa(O);!0 === N && this.rg.ek();w40=13;break;}}};J.prototype.csb=function(O){var x40,N,P;x40=2;for(;x40 !== 5;){switch(x40){case 2:var M0Z="no new";M0Z+="AudioTrack";M0Z+=" set";(N=O.mediaType,P=this.Bb.Nf[N]);g.ka(P.S9)?O.Tb(M0Z):(this.Rg[N].pause(),P.GQ=!0,O=this.He.Cq(0),P=this.He.P.getTrackById(P.S9.trackId),this.Gb.eqb(O,P));x40=5;break;}}};J.prototype.irb=function(O){var y40,N,P,S,U,Z,ja,ya,ra;y40=2;for(;y40 !== 27;){switch(y40){case 19:y40=P < this.Kd.length?18:16;break;case 17:++P;y40=19;break;case 10:this.Pa.R$a(O,!0);y40=20;break;case 18:this.UWb(P,ya,ra);y40=17;break;case 20:P=this.ML;y40=19;break;case 2:(N=this,S=this.J);O=O.ib;U=this.Bb.Nf[0];this.Bb.iz=U.S9;y40=3;break;case 8:var Q0Z="a";Q0Z+="udioSw";Q0Z+="i";Q0Z+="t";Q0Z+="ch";(this.Jh.CYb(function(Y){var z40;z40=2;for(;z40 !== 5;){switch(z40){case 2:z40=0 === Y.mediaType?1:5;break;case 1:return (N.AG(Y,!1),!0);break;}}}),this.Jh.GD() || (this.Jh=void 0,S.Vr || this.zy.fz || this.WT(Q0Z)));y40=7;break;case 7:P=this.qc.E6(Z.P.oa,[ya],0);this.oga[0]=P[0];this.vV.eQa(0,O.P);U.S9=void 0;this.Cg.OP(null);this.hia(0,F.zS.tYa,O);y40=10;break;case 3:(Z=this.He,ja=Z.P.getTrackById(this.Bb.iz.trackId),ya=ja.UE,ra=this.X.Ue() - O.Fe);y40=9;break;case 9:y40=(null === (P=this.Jh) || void 0 === P?0:P.GD())?8:7;break;case 16:O.c9a(ja,ra);this.yJ(0);y40=27;break;}}};N10=104;break;case 32:J.prototype.Lua=function(){};J.prototype.close=function(){var I20;I20=2;for(;I20 !== 4;){switch(I20){case 2:this.J$a.Jb();this.Kd.forEach(function(O){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 4:O.close();J20=6;break;J20=1;break;case 2:O.close();J20=1;break;}}});this.bj.close();I20=4;break;}}};J.prototype.o9a=function(){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 2:this.qc.vrb(this);K20=1;break;case 4:this.qc.vrb(this);K20=5;break;K20=1;break;}}};J.prototype.fd=function(){var L20,O;L20=2;for(;L20 !== 20;){switch(L20){case 9:null === (O=this.Cy) || void 0 === O?void 0:O.reset();L20=8;break;case 6:this.Kd.forEach(function(N){var N20;N20=2;for(;N20 !== 1;){switch(N20){case 2:N.fd();N20=1;break;}}});this.Kd=[];this.Ni.clear();O=this.mg;this.mg=void 0;L20=10;break;case 8:this.jw.forEach(function(N){var M20;M20=2;for(;M20 !== 1;){switch(M20){case 4:N.reset();M20=6;break;M20=1;break;case 2:N.reset();M20=1;break;}}});this.X.Me(f.ta.lj);L20=6;break;case 10:var E0Z="E";E0Z+="rro";E0Z+="r";E0Z+=" on MediaSource de";E0Z+="stroy: ";g.ka(O) || O.rq() || this.Tb(E0Z,O.error);L20=20;break;case 2:this.Cg.wTb();this.y2();this.Pa.Jb();this.vV.nob();L20=9;break;}}};J.prototype.suspend=function(){var O20;O20=2;for(;O20 !== 1;){switch(O20){case 2:this.bj.suspend();O20=1;break;}}};J.prototype.resume=function(){var P20;P20=2;for(;P20 !== 1;){switch(P20){case 2:this.bj.resume();P20=1;break;case 4:this.bj.resume();P20=8;break;P20=1;break;}}};J.prototype.vn=function(){var Q20;Q20=2;for(;Q20 !== 1;){switch(Q20){case 2:return this.bj.vn();break;case 4:return this.bj.vn();break;Q20=1;break;}}};J.prototype.Yrb=function(){var R20,O;R20=2;for(;R20 !== 8;){switch(R20){case 2:O=this.J;this.MC && clearTimeout(this.MC);this.MC=setTimeout(this.XT.bind(this),O.Iba);R20=4;break;case 4:this.By || (this.By=setInterval(this.Gb.FPa.bind(this.Gb),O.tM));this.F3 || (this.F3=setInterval(this.Gb.Dqb.bind(this.Gb),O.gya));this.Os && !this.u2 && (this.u2=setInterval(this.Gb.EPa.bind(this.Gb),O.g4));R20=8;break;}}};J.prototype.y2=function(){var S20;S20=2;for(;S20 !== 7;){switch(S20){case 8:this.rg.y2();S20=7;break;case 2:this.MC && (clearTimeout(this.MC),this.MC=void 0);this.By && (clearInterval(this.By),this.By=void 0);this.F3 && (clearInterval(this.F3),this.F3=void 0);this.u2 && (clearInterval(this.u2),this.u2=void 0);this.mL && (clearTimeout(this.mL),this.mL=void 0);this.Qga && (clearTimeout(this.Qga),this.Qga=void 0);S20=8;break;}}};J.prototype.play=function(){var T20;T20=2;for(;T20 !== 1;){switch(T20){case 2:this.bj.play();T20=1;break;}}};N10=39;break;}}})();b.RLa=a;t.Bf(c.EventEmitter,a);},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oea=void 0;c=a(18);g=a(9);l=a(227);t=(function(){function m(d,f,h,k,n,p,q,u,r,w,v,x){void 0 === h && (h=0);this.fe=d;this.v3=f;this.$=h;this.La=k;this.G6=n;this.xh=p;this.HN=q;this.config=u;this.I=r;this.Gb=w;this.rFb=v;this.ah=x;this.ax=0;}m.create=function(d){var h,k,n,p,q,u,r,w,v,x,y,z,A,B,E;function f(D){g.Ya(w,D.type,D);}h=d.Qb;k=d.oa;n=d.y$a;p=d.$;q=d.La;u=d.qs;r=d.Gb;w=d.cc;v=d.config;x=d.I;y=d.rg;z=d.jo;A=d.If;B=d.JD;E=new l.Cca(Number(k.movieId),{Qb:h,oa:k,rp:d.rp,M4a:{Pqa:d.Ie,v2a:! !d.k2a},Wi:d.Wi,Cd:d.Cd,config:v,K0a:{Xl:y.ek.bind(y),If:A,JD:B,$n:f,h8:function(D){return D === w.Pa.Zc.P;},wW:function(D,F,G,C,H){D=w.Bb.Nf[D];return !F || G || C || H?w.mT:D.Kf;},yD:function(D){return w.Bb.gx[D];},xh:w.xh.bind(w)},YX:function(D){w.emit("requestComplete",{type:"requestComplete",timestamp:D.yf,mediaRequest:D});},D6:function(){return w.Cg;},Wb:w.qc.Wb,Vh:w.qc.Vh,sXa:{qs:u,eh:function(D,F,G,C,H,K){void 0 === K && (K=!1);return !K || w.X.ug()?(w.Xp(D,h,F,G,C,H,K),!0):!1;},Vn:function(){return w.E3;},$n:f},BP:void 0,wJ:{U:w.qc.uB,fa:w.qc.JE}});v.Rz && E.EE({Fs:w.hm.Fs,ca:w.hm.ca,mD:w.hm.mD,Zn:r.Zn.bind(r)});d=new c.ii();d.addListener(E.zu,"onHeaderFragments",function(D){var F,G,C,H,K;F=D.mediaType;G=D.Sa;C=D.stream.Y;H=w.xh(h);if(H){if(E.zh[F] && D !== E.zh[F])D.Mw && (H=E.zh[F],D=D.stream,K=H && H.stream,x.warn("first header received for non-current track (trackId " + D.trackId + "streamId " + D.Sa + "), expected track " + (K && K.trackId) + ", stream " + (K && K.Sa) + ", " + H));else {E.zh[F]=D;D=w.Pa.Zc;if(0 === h){K=E.oc(1)?D.kb(1).Cc:D.kb(0).Cc;D.H4(K,E);}H.SY=!1;H.F4();w.M3();}z.Yga();r.vqb(h,F,G,E.K,C);y.ek();}else x.warn("addFragments for stale manifestIndex:",h);});d.addListener(E.zu,"onHeaderRequestComplete",function(D){var F,G;D.fl?w.M3():D.nD && (x.warn("drm header header:",D.toString(),"but no headers seen, marking pipeline drmReady"),w.Oz(D.K));F=D.mediaType;G=Object.getOwnPropertyNames(B.fw[F]);w.Rg[F].Y5a(D.stream,1 === G.length && G[0] === D.Sa);y.vOa();w.TYb();});d.addListener(E.zu,"onHeaderFromCache",function(D){var F;F=D.header;D=D.lGb;F.fl && w.M3();D && r.lqb(F.K,F.Sa);});return new m(E,n,p,q,function(){return w.Pa;},w.xh.bind(w),w.HN.bind(w),v,x,r,!1,d);};Object.defineProperties(m.prototype,{P:{get:function(){return this.fe;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Qb:{get:function(){return this.P.Qb;},enumerable:!1,configurable:!0}});m.prototype.Cq=function(d){return this.fe.wKb(d,this.Q6(d));};m.prototype.Q6=function(d){return this.v3[d];};m.prototype.close=function(){this.ah.clear();this.P.close();};m.prototype.fd=function(){this.fe.fd();delete this.fe;};m.prototype.clone=function(){return new m(this.P,this.v3,this.$,this.La,this.G6,this.xh,this.HN,this.config,this.I,this.Gb,!0,this.ah);};m.prototype.Zya=function(d){this.I.trace("updateAudioTrack:",this.v3[0],"->",d);this.v3[0]=d;};m.prototype.VZa=function(){return void 0 !== this.AI?this.AI:this.La?this.La:this.fe.duration;};m.prototype.swb=function(d){var f,h;f=this.fe.zh[1];if(f && f.stream.ke){if(this.Wz && this.Wz[1] && this.Wz[1].$ <= d && this.Wz[1].La > d)return this.Wz[1].zd;f=f.stream.Y;d=f.On(d,void 0,!0);h=void 0;void 0 === h && (h=f.Ij(d));return h;}};m.prototype.F4=function(){var d,f;if(!this.SY && this.z0a()){this.yta();d=[0,0];if(0 !== this.Qb && !this.fe.pf.BX && !this.fe.pf.replace){f=this.xh(this.Qb - 1);f=this.fe.K === f.fe.K;d=this.G6().Zc;f=d.H4(this.$,this.P,d,f);d=f.lP;}this.$=d[1];this.lP=d;this.Wz=f && f.Wz;this.oTa();f=this.fe.oc(1)?this.fe.zh[1].stream.Y.La:this.fe.zh[0].stream.Y.La;this.Gb.qqb(this.Qb,this.ax,this.$,this.AI,f);this.SY=!0;for(f=this.Qb + 1;f < this.HN();++f){d=this.xh(f);d.SY=!1;d.F4();}}};m.prototype.oTa=function(){var d;if(0 === this.Qb || this.fe.pf.replace)this.ax=0;else {d=this.xh(this.Qb - 1);this.ax=d.ax + d.VZa() - this.$;}};m.prototype.yta=function(){var d,f,h,k,n,p,q,u;if(this.z0a()){n=this.G6().Zc;p=this.La || Infinity;q=this.fe.oc(1);u=n.PV(p,this.P);this.AI=q?u[1].La:u[0].La;n=q?this.fe.zh[1].stream.Y.La:this.fe.zh[0].stream.Y.La;q=Math.min(null !== (f=null === (d=u[1]) || void 0 === d?void 0:d.La) && void 0 !== f?f:Infinity,null !== (k=null === (h=u[0]) || void 0 === h?void 0:h.La) && void 0 !== k?k:Infinity);this.Gb.sqb(this.Qb,this.AI,n,q);d=this.G6().mna(this.Qb);0 < d.length && d.forEach(function(r){r.g4b(u,p);});}};m.prototype.z0a=function(){var d,f,h,k;d=this.fe.oc(0);f=this.fe.oc(1);h=this.fe.zh[0];k=this.fe.zh[1];h=h && h.stream.ke;k=k && k.stream.ke;return (!d || h) && (!f || k);};return m;})();b.oea=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ULa=void 0;t=a(2);c=a(9);a=t.__importDefault(a(6));g=a.default.Cr;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function l(m,d,f){this.Zn=f;this.Fsb=new c.INa(m);this.ca=d.ca;this.Inb=1E3 * d.ZQb / d.Jvb;this.gDb=d.mD;this.$Ra=!1;}l.prototype.$t=function(m){var d,f;d={s_xid:this.ca,dl:this.gDb?1:0};m.kq && (d.bs=c.M4(Math.floor(m.kq / this.Inb) + 1,1,5));m.W9 && (d.limit_rate=m.W9);m.PSa && (d.bb_reason=m.PSa);m.lcb && (d.tm=m.lcb);if(m.WU){f=m.WU.r8();if(f || !f && this.$Ra)(d.cpr_ss=m.WU.XP,d.cpr_ca=m.WU.HM,d.cpr_rec=m.WU.qP,this.$Ra=f);}m.Wja && (d.br="" + m.Wja.start + "+" + m.Wja.size);return this.Fqb(d);};l.prototype.Ywa=function(m,d){var f,h;try{f=new g(void 0,"notification");h=this.$t({PSa:m});d && h && f.open(d,void 0,2,void 0,void 0,void 0,h);}catch(k){this.Zn("SideChannel: Error when sending sendBlackBoxNotification. Error: " + k);}};l.prototype.Fqb=function(m){var d;try{d=this.Trb(m);return this.Fsb.encrypt(d);}catch(f){this.Zn("SideChannel: Error when obfuscating msg. Error: " + f);}};l.prototype.Trb=function(m){return Object.keys(m).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(m[d]));}).join("&");};return l;})();b.ULa=a;},function(t,b,a){var g,l,m,d,f,h;function c(k,n){var p,q;p=Math.floor(1E3 * k / n);q=1E3 * Math.round(p / 1E3);return new l.R(q,Math.abs(Math.floor(1001 * k / n) - q) > Math.abs(p - q)?1E3:1001);}Object.defineProperties(b,{__esModule:{value:!0}});b.Bca=void 0;g=a(372);l=a(21);m=a(4);d=a(9);f=a(373);h=a(374);t=(function(){function k(n,p,q){this.J=p;this.I=q;this.tC=new d.VLa();this.k3=0;this.Hu=n.Hu;this.P=n.P;this.mediaType=n.mediaType;this.UE=n.UE;this.PC=n.PC;1 === this.mediaType && (p=this.Hu.streams[0],void 0 !== p.framerate_value && void 0 !== p.framerate_scale && (this.Dha=c(p.framerate_value,p.framerate_scale).Rva()));this.ob=(this.AL=this.Dha) && this.AL.W;this.iha=this.WPa=!1;this.$pa=-Infinity;this.Q3a=Infinity;n=k.dob(this,n.Ie);p=n.maxBitrate;q=n.$d;this.Sw=n.Sw;this.maxBitrate=p;this.$d=q;this.fsb=q.reduce(function(u,r){u[r.Sa]=r;return u;},{});!1;}k.dob=function(n,p){var q,u,r,w,v,x;q=n.J;u=1 === n.mediaType;r=!1;w=0;v=n.Hu.streams.some(function(y){return y.ll;});x=[];n.Hu.streams.forEach(function(y,z){var A,B,E;A=y.bitrate;B=!0;if(u){E=y.ll;B=q.hN && q.H_?p?!0:E === v:p && !E || !p && (E || !v);r=r || E;}B && A > w && (w=A);y=new h.wAa({Cs:y,Of:z,track:n,Du:B},q,n.I);x.push(y);});return {Sw:r,maxBitrate:w,$d:x};};Object.defineProperties(k.prototype,{N9:{get:function(){return !this.ke && 0 === this.k3;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ke:{get:function(){return ! !this.Cp && ! !this.tC.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{gva:{get:function(){return this.WPa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{K:{get:function(){return String(this.P.K);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{trackId:{get:function(){return this.Hu.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{va:{get:function(){return this.AL;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{W:{get:function(){return this.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{JO:{get:function(){return this.Vpb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Cp:{get:function(){return this.qd;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bO:{get:function(){return this.tC.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Sna:{get:function(){return this.va.W;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Rna:{get:function(){return this.va.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Cna:{get:function(){return this.tC;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{AX:{get:function(){return this.$d.some(function(n){var p;return 1 < ((null === (p=n.Zg) || void 0 === p?void 0:p.length) || 0);});},enumerable:!1,configurable:!0}});k.prototype.Rw=function(n){return this.BD()[n];};k.prototype.BD=function(){return this.fsb;};k.prototype.equals=function(n){return ! !n && this.K === n.K && this.mediaType === n.mediaType && this.trackId === n.trackId;};k.prototype.j$=function(){this.k3++;};k.prototype.i$=function(){0 < this.k3 && this.k3--;};k.prototype.h$=function(n,p,q,u,r){if(u && void 0 !== u.vl && (this.ke || void 0 !== u.vd && u.vd.length)){if(n.ll || !n.track.Sw)this.WPa=!0;if(this.ke)!this.iha && u.vd && u.vd.length > this.Cp.length && (this.qd=new g.Xfa(this.mediaType,this.va,u,r),this.tC.T9a(),this.$pa=-Infinity,this.iha=!0);else {this.tQa(p);if(q=q || this.Dha)(this.sQa(q || this.Dha),void 0 === this.W && this.uQa(q.W));this.qd=new g.Xfa(this.mediaType,this.va,u,r);if(n.ll || !n.track.Sw)this.iha=!0;}}else this.I && this.I.error("AseTrack.onHeaderReceived with missing fragments data");};k.prototype.ETb=function(n){void 0 === this.tC.value && this.tC.set(n);};k.prototype.Hyb=function(n){this.ke || (this.uQa(n.W),this.tQa(n.JO),this.sQa(n.va),this.qd=n.Cp,n.Cna.value?this.tC.set(n.Cna.value):this.tC.T9a());};k.prototype.Dm=function(n,p,q,u){m.assert(this.bO);return f.Dm(this.mediaType,n,this.bO,p,q,u);};k.prototype.Vz=function(n,p,q){m.assert(this.bO);return f.Vz(this.mediaType,n,this.bO,p,q);};k.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,trackId:this.trackId};};k.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};k.prototype.uQa=function(n){this.ob=n;};k.prototype.tQa=function(n){this.Vpb=n;};k.prototype.sQa=function(n){this.AL=n;};return k;})();b.Bca=t;},function(t,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.nMa=b.Cmb=void 0;c=a(2);a(118);g=a(4);t=c.__importDefault(a(6));l=a(382);a=a(372);m=new t.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(h){d=!1;}f=(function(h){function k(n,p){p=h.call(this,n.Cp,p) || this;p.vG=n;return p;}c.__extends(k,h);Object.defineProperties(k.prototype,{fa:{get:function(){return this.vG.Kab(this.Ce);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{offset:{get:function(){return this.vG.Ud(this.Ce);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kta:{get:function(){return this.vG.tI && this.vG.tI[this.Ce];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ri:{get:function(){return this.vG.aHb(this.Ce);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xb:{get:function(){return this.vG.Hi && this.vG.Hi[this.Ce];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{OSa:{get:function(){return 8 * this.fa / (1E3 * this.eu / this.W);},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Za,contentEndTicks:this.tb,durationTicks:this.eu,timescale:this.W,startPts:this.$,endPts:this.La,duration:this.duration,additionalSAPs:this.ri};};return k;})(a.RMa);b.Cmb=f;t=(function(){function h(k,n,p,q,u,r,w){this.QL=128;this.qd=n;this.Se=p.offset;this.fk=p.sizes;this.$L=k;this.oL=this.US=this.oi=this.HQa=this.pia=void 0;this.Upb=q;this.mga=u && u.Ud;this.Lt=r;this.rf=Math.min(this.qd.length,this.fk.length);this.Gpb=this.iwb();this.Cp.Mr.length !== this.fk.length && m.trace("Mis-matched stream duration (" + this.Cp.Mr.length + "," + this.fk.length + ") for movie id " + w);this.Cp.U3 && !this.mga && m.error("Mis-matched additional SAPs information for movie id " + w);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.qd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{length:{get:function(){return this.rf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vl:{get:function(){return this.qd.vl;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Pma:{get:function(){return this.qd.Pma;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$:{get:function(){return this.qd.$;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{La:{get:function(){return this.qd.La;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dsa:{get:function(){return this.qd.Dsa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{MA:{get:function(){return this.Gpb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{va:{get:function(){return this.qd.va;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{W:{get:function(){return this.qd.W;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hh:{get:function(){return this.HQa || this.wga();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{tI:{get:function(){return this.Upb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dja:{get:function(){return this.mga;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Hi:{get:function(){return this.Lt;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Cp:{get:function(){return this.qd;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dx:{get:function(){return this.pia || this.cob();},enumerable:!1,configurable:!0}});h.prototype.Kab=function(k){if(this.fk)return this.fk[k];m.error("sizesByIndex _sizes is undefined");return -1;};h.prototype.Ij=function(k){return this.qd.Ij(k);};h.prototype.HV=function(k){return this.qd.Ij(k) + this.qd.vd(k);};h.prototype.Ud=function(k){var n,p,q;if(this.US !== k || void 0 === this.oL){if(0 === k)return this.Se;if(this.US === k - 1 && void 0 !== this.oL)(this.oL+=this.fk[this.US],++this.US);else {n=this.oi || this.Onb();p=Math.floor(k / this.QL);q=p * this.QL;for(n=n[p];q < k;++q){n+=this.fk[q];}this.US=k;this.oL=n;}}return this.oL;};h.prototype.vd=function(k){return this.qd.vd(k);};h.prototype.get=function(k){return new f(this,k);};h.prototype.aHb=function(k){var n,p,q,u,r;g.assert(0 <= k);n=this.Cp.U3;p=this.Cp.wRa;q=this.mga;if(!q || !n || !p || k >= n.length)return [];u=[];r=k === n.length - 1?p.length:n[k + 1];for(n=n[k];n < r;++n){u.push({tl:p[n],Fd:this.Ij(k) + this.va.vI(p[n]).U,offset:q[n]});}return u;};h.prototype.On=function(k,n,p){return this.qd.On(k,n,p);};h.prototype.m6=function(k,n,p){return this.qd.m6(k,n,p);};h.prototype.vla=function(k,n){return this.qd.vla(k,n);};h.prototype.fwb=function(k,n,p,q,u){var r,w,v,x,y,z,A,B,E;r=!0;w=0;v=this.qd.Mr;x=this.fk;k=Math.floor(k * this.W / 1E3);y=Math.floor(p * this.W / 1E3);z=0;A=0;B=0;if(this.qd.Wya && this.qd.Vya)for(w=this.qd.Wya;w <= this.qd.Vya;++w){z+=v[w];A+=x[w];}if(A > n)r=!1;else for(;w < this.length && (!u || w < u);){E=x[w];p=v[w];if(A + E > n){for(;1 < w - B && A + E > n && (z - v[B] >= y || A - x[B] > q);){z-=v[B];A-=x[B];++B;}if(z < k || A + E > n){r=!1;this.qd.Wya=B;this.qd.Vya=w;break;}}z+=p;A+=E;++w;}return r;};h.prototype.subarray=function(k,n){g.assert(void 0 === k || 0 <= k && k < this.length);g.assert(void 0 === n || n > k && n <= this.length);return new h(this.$L,this.qd.subarray(k,n),{offset:this.Ud(k),sizes:this.fk.subarray(k,n)},this.tI && this.tI.subarray(k,n),this.dja && ({Ud:this.dja}),this.Lt && this.Lt.subarray(k,n));};h.prototype.forEach=function(k){for(var n=0;n < this.length;++n){k(this.get(n),n,this);}};h.prototype.map=function(k){for(var n=[],p=0;p < this.length;++p){n.push(k(this.get(p),p,this));}return n;};h.prototype.reduce=function(k,n){for(var p=0;p < this.length;++p){n=k(n,this.get(p),p,this);}return n;};h.prototype.toJSON=function(){return {length:this.length};};h.prototype.dump=function(){var n;m.trace("StreamFragments: " + this.length);for(var k=0;k < this.length;++k){n=this.get(k);m.trace("StreamFragments: " + k + ": [" + n.$ + "-" + n.La + "] @ " + n.offset + ", " + n.fa + " bytes");}};h.prototype.iwb=function(){var k,n,p,q,r;k=0;n=this.qd.u4a;p=this.qd.Mr;q=this.fk;if(void 0 === n || n >= this.length){for(var u=0;u < this.length;++u){r=q[u] / p[u];r > k && (k=r,n=u);}void 0 === this.qd.u4a && (this.qd.u4a=n);}else k=q[n] / p[n];return Math.floor(k * this.W / 125);};h.prototype.wga=function(){for(var k=0,n=0;n < this.length;++n){k+=this.fk[n];}return this.HQa=k;};h.prototype.cob=function(){var k;k=new Uint8Array(this.fk.length);g.assert(void 0 !== k,"invalid streamIndices");if(k){g.assert(void 0 !== this.$L,"invalid _streamIndex");for(var n=0;n < k.length;n++){k[n]=this.$L;}}n=this.Lt || new Uint8Array(this.fk.length);return this.pia=new l.Lfa(this.qd.Mr,this.fk,k,n,this.qd.W);};h.prototype.Onb=function(){if(!this.oi){for(var k=d?new Float64Array(Math.ceil(this.length / this.QL)):Array(Math.ceil(this.length / this.QL)),n=this.Se,p=0;p < k.length;++p){k[p]=n;for(var q=0;q < this.QL;++q){n+=this.fk[p * this.QL + q];}}this.oi=k;}return this.oi;};return h;})();b.nMa=t;t.prototype.bbb=a.$w(t.prototype.Ij);a.$w(t.prototype.HV);a.$w(t.prototype.vd);a.$w(t.prototype.Ud);a.$w(t.prototype.Kab);a.$w(t.prototype.get);},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.Bc();this.jc=1 === this.version?this.gj([{creationTime:"int64"},{modificationTime:"int64"},{W:"int32"},{duration:"int64"}]):this.gj([{creationTime:"int32"},{modificationTime:"int32"},{W:"int32"},{duration:"int32"}]);return !0;};l.Zb="mvhd";l.Ra=!1;return l;})(a(32).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="trak";l.Ra=!0;return l;})(a(32).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var m;this.Bc();m=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];m=m.concat({offset:64,type:"offset"},{YOb:"int16"},{Wtb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.jc=this.gj(m);this.jc.g3b=! !(this.flags & 1);this.jc.h3b=! !(this.flags & 2);this.jc.i3b=! !(this.flags & 4);this.jc.j3b=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};l.Zb="tkhd";l.Ra=!1;return l;})(a(32).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.Bc();this.jc=this.gj(1 === this.version?[{y6:"int64"}]:[{y6:"int32"}]);return !0;};l.Zb="mehd";l.Ra=!1;return l;})(a(32).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.jc=this.gj([{OLb:"int32"},{o5b:"int32"}]);return !0;};l.Zb="pasp";l.Ra=!1;return l;})(a(32).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.jc=this.gj([{Lvb:"int32"},{maxBitrate:"int32"},{Mja:"int32"}]);return !0;};l.Zb="btrt";l.Ra=!1;return l;})(a(32).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.u.Ul();this.u.Ul();for(this.UG=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.UG.push(this.u.Ul());}return !0;};l.Zb="ftyp";l.Ra=!1;return l;})(a(32).Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(83);t=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Bc();this.jc=this.gj([{eWb:"int32"},{GW:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.jc.GW=g.Co(this.jc.GW);return !0;};m.Zb="hdlr";m.Ra=!1;return m;})(a(32).Fc);b.default=t;},function(t,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(101);l=a(229);m=a(175);t=a(32);d=a(84);a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(){this.Bc();this.Bm=this.u.Da();return !0;};h.prototype.ju=function(k){var n;n=Object.keys(this.Xa);n.length && (n=n[0],this.Xa[n].length && (n=this.Xa[n][0],n instanceof m.default?this.va=new l.R(n.Yz,n.samplerate):n instanceof d.default && (n=n.Xa[g.CF]) && n.length && (n=n[0].jc,1E3 !== n.Jz && 1001 !== n.Jz || 0 !== n.BI % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.BI + "/" + n.Jz):this.va=new l.R(n.Jz,n.BI)),this.va && (k.va=this.va)));return !0;};h.prototype.eZ=function(k){void 0 !== this.Xa[k] && 0 !== this.Xa[k].length && (this.na.jh(this.Bm - 1,this.byteOffset + 12),k=this.Xa[k][0],this.Ke(k.byteLength,k.byteOffset));};h.Zb="stsd";h.Ra=!0;return h;})(t.Fc);b.default=a;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.Wna=this.u.Ac(2);this.Yja=this.u.Ac(5);this.Zja=this.u.Ac(3);this.Iia=this.u.Ac(3);this.u.Ac(1);this.u.Ac(5);this.u.Ac(5);return !0;};l.Zb="dac3";return l;})(a(32).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var d;this.Kta=this.u.ad() & 7;this.jya=[];for(var m=0;m < this.Kta;m++){d={Wna:this.u.Ac(2),Yja:this.u.Ac(5),Zja:this.u.Ac(5),Iia:this.u.Ac(3),aPb:this.u.Ac(1),Jta:this.u.Ac(4)};0 < d.Jta?d.Qwb=this.u.Ac(9):this.u.Ac(1);this.jya.push(d);}return !0;};l.Zb="dec3";return l;})(a(32).Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(32);t=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Bc();this.tZ=this.u.Ul();g.ia && this.u.console.trace("SchemeTypeBoxTranslator: " + this.tZ);"cenc" === this.tZ && (this.u.offset-=4,g.ia && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.na.W_("piff"));this.u.Da();return !0;};m.Zb="schm";m.Ra=!1;return m;})(g.Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var m;this.u.sb();this.tca=this.u.sb();this.u.sb();this.u.sb();this.u.sb();this.RZ=this.mG(this.u.sb() & 31);this.mG(this.u.sb());this.cB=this.RZ.length?this.RZ[0][0]:this.tca;this.FT=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.cB || 110 === this.cB || 122 === this.cB || 144 === this.cB) && (this.u.sb(),this.u.sb(),this.mG(this.u.sb()));m=this.startOffset + this.length - this.FT;0 < m && this.Ke(m,this.FT);return !0;};l.prototype.mG=function(m){var h;for(var d=[],f=0;f < m;++f){h=this.u.ad();d.push(this.u.gB(h));}return d;};l.Zb="avcC";l.Ra=!1;return l;})(a(32).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.ju=function(){var m;m=this.Ol("esds");if(m=m && m.qda.Ol(5))this.Yz=m.Yz;return !0;};l.Zb="mp4a";l.Ra=!0;return l;})(a(175).default);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(231);t=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Bc();this.qda=g.sR.UY(this.u);return !0;};m.Zb="esds";m.Ra=!1;return m;})(a(32).Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=a(101);a=a(32);g=t.CF;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Bc();this.jc=this.gj([{BI:"int32"},{Jz:"int16"}]);return !0;};m.Zb=g;m.Ra=!1;return m;})(a.Fc);b.default=a;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var m,d,f,h,k;this.Bc();m=this.gj([{SJ:"int32"},{lV:"int32"},{Gz:"int32"},{Iz:"int32"},{Hz:"int32"}]);d=m.SJ;f=m.lV;h=m.Gz;k=m.Hz;m=m.Iz;this.jc={trackId:d,gCb:f,Fz:h,hCb:k,iCb:m};this.SJ=d;this.lV=f;this.Gz=h;this.Iz=m;this.Hz=k;return !0;};l.Zb="trex";l.Ra=!1;return l;})(a(32).Fc);b.default=t;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(801);l=a(235);m=a(146);d=a(229);f=a(32);t=a(377);h=a(378);k=a(380);n=a(147);p=a(228);q=a(101);u=a(381);a=(function(){function r(w,v,x,y,z,A){this.console=w;this.stream=v;this.$h=y;this.$ia=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.y0a=n.roa();}r.path=function(w,v){return v.reduce(function(x,y){return x && x.Xa[y] && x.Xa[y][0];},w);};r.Joa=function(w){return w && w.UG && -1 !== w.UG.indexOf("mcl0")?"mcl0":void 0;};r.qna=function(w,v){var x,y;m.assert("mcl0" === w,"Unsupported McClearen brand");x=v.Y;w=x.vd;v=new d.R(120,1).dg(x.W).pc;y=0;for(x=x.vl;y < w.length && x < v;){x+=w[y++];}return y;};r.prototype.parse=function(w){var v;v=this.Jwa();if(!v.done){if(v.SX)return {Nm:!1,vRa:v.SX};this.console.error("Scan error: " + v.error);return {Nm:!1,parseError:v.error || "unknown mp4 scan error"};}v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + v.offset);this.view=new DataView(v);w=this.lua(w);return w.done?this.qla():(this.console.error("Parse error: " + w.error),{Nm:!1,parseError:w.error || "unknown mp4 parse error"});};r.prototype.Nn=function(w){return f.Fc.Nn(this,w);};r.prototype.Ol=function(w){return f.Fc.Ol(this,w);};r.prototype.Jwa=function(){var w,v;w=new u.Ida(this.$h,this.$ia?[q.oy,q.ny]:[],this.config && this.config.x2b || ["moof",q.iS],this.config && this.config.qY);v=c.__assign(c.__assign({},this.config),{II:!1});return new k.eF(r.kJ,w,this.view,this.console,v).parse();};r.prototype.lua=function(w){var v,x,y;v=new u.nR(this.view.byteLength);x=Object.create(p.Pq.Xa);this.config && ((this.config.x$ || this.config.yba || this.config.KE) && g(p.Pq.iJ,x),this.config.zba && g(p.Pq.Jya,x),this.config.yba && g(p.Pq.x_,x));y=c.__assign(c.__assign({},this.config),{II:!0});this.wc=new k.eF(x,v,this.view,this.console,y);w=this.wc.parse(w);w.done && (this.Xa=this.wc.Xa);return w;};r.prototype.qla=function(){var w,v,x,y,z,A;w={Nm:!0};v=r.path(this,["moov"]);x=r.path(v,["trak","mdia","minf","stbl","stsd"]);if(this.config.x$)if(x)(w.va=x.va,w.EZb=x.Xa);else return {Nm:!1,parseError:"Missing sample descriptions"};y=r.path(x,["encv","sinf","schi"]);y && (y=r.path(y,["tenc"]) || r.path(y,[q.nS])) && (w.gXa={wyb:y.uj,aI:y.aI,zOb:!1});if(y=r.path(v,["trak","mdia","mdhd"]))w.W=y.W;if(y=r.path(v,["mvex","trex"]))w.Fz=y && y.jc.Fz;w.Fz && w.W && (w.va=new d.R(w.Fz,w.W));if(y=r.path(this,["sidx"])){z=r.path(this,[q.oy]);z=z && z.Jsa;A=r.path(this,[q.ny]);A=A && A.ri;w.Y=y.Y;w.tI=z;w.ri=A;}if(z=this.Xa.vmaf && this.Xa.vmaf[0])w.Hi=z.Hi;if(this.config.$9a)if(v)(this.trim(v.byteOffset + v.byteLength),this.config.KE && x && 1 < x.Bm && y && (w.Zg=this.KE(x,y)),void 0 === w.Zg && (v=this.wc.Pz?l.concat(this.wc.ya()):this.view.buffer,w.Zg=[{Bd:0,data:v}]));else return {Nm:!1,parseError:"Missing movie box"};w.Nm=!0;w.rY=this.wc.offset;return w;};r.prototype.trim=function(w){var v;v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.wc.trim(w);this.view=new DataView(v);};r.prototype.KE=function(w,v){var x,y,z;x=Object.keys(w.Xa);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=r.path(this,["ftyp"]);z=r.Joa(x);if(z)return (x=[],this.wc.xva(),w.eZ("encv"),x.push({Bd:0,fl:!1,data:l.concat(this.wc.ya())}),this.wc.Vua(),w.eZ(y[0]),w=r.qna(z,v),x.push({Bd:w,fl:!0,data:l.concat(this.wc.ya())}),x);}};r.kJ={};return r;})();b.Fr=a;a.kJ[q.DF]=t.default;a.kJ[q.EF]=h.default;},function(t){t.exports=function g(a,c){var l;a.__proto__ && a.__proto__ !== Object.prototype && g(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){l=Object.getOwnPropertyDescriptor(a,m);void 0 !== l && Object.defineProperty(c,m,l);});};},function(t,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(146);l=a(235);m=a(83);t=a(803);d=(function(){function f(h){h?(this.Lf=h.Lf.slice(),this.kh=h.kh.slice(),this.Ud=h.Ud.slice(),this.trim=h.trim):(this.Lf=[],this.kh=[],this.Ud=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.Lf.length && 0 === this.kh.length && 0 === this.Ud.length;},enumerable:!0,configurable:!0}});return f;})();t=(function(f){function h(k,n,p){k=f.call(this,k,n,p) || this;k.AV=[];k.rb=new d();return k;}c.__extends(h,f);h.sja=function(k,n){if(n.offset + n.size <= k.byteLength)switch(n.size){case 1:k.setUint8(n.offset,n.value);break;case 2:n.qv?k.setInt16(n.offset,n.value):k.setUint16(n.offset,n.value);break;case 4:n.qv?k.setInt32(n.offset,n.value):k.setUint32(n.offset,n.value);break;case 8:g.assert(!n.qv);k.setUint32(n.offset,Math.floor(n.value / 4294967296));k.setUint32(n.offset + 4,n.value & 4294967295);break;default:g.assert(!1);}};Object.defineProperties(h.prototype,{Pz:{get:function(){return !this.rb.empty;},enumerable:!0,configurable:!0}});h.prototype.MB=function(k,n){this.rb.kh.push({offset:void 0 !== n?n:this.offset,value:k,size:1});void 0 === n && (this.offset+=1);};h.prototype.Lza=function(k,n){this.rb.kh.push({offset:void 0 !== n?n:this.offset,value:k,size:2,qv:!1});void 0 === n && (this.offset+=2);};h.prototype.jh=function(k,n){this.rb.kh.push({offset:void 0 !== n?n:this.offset,value:k,size:4,qv:!1});void 0 === n && (this.offset+=4);};h.prototype.Mza=function(k,n){this.rb.kh.push({offset:void 0 !== n?n:this.offset,value:k,size:8,qv:!1});void 0 === n && (this.offset+=8);};h.prototype.W_=function(k){this.jh(m.YS(k));};h.prototype.cK=function(k,n){this.rb.Ud.push({offset:this.offset,Jl:k,value:n});this.offset+=4;};h.prototype.Ke=function(k,n,p){this.rb.Lf.push({offset:n,remove:k,fb:p});};h.prototype.gv=function(k,n,p,q){this.rb.Lf.push({offset:p,remove:k,replace:n,fb:q});};h.prototype.trim=function(k){this.rb.trim=k;};h.prototype.xva=function(){this.AV.push(new d(this.rb));};h.prototype.Vua=function(){this.rb=this.AV.pop() || new d();};h.prototype.ya=function(){var k,n,p,q,u,r,w;k=this;if(0 === this.rb.Lf.length && 0 === this.rb.kh.length && 0 === this.rb.Ud.length)return [void 0 === this.rb.trim?this.view.buffer:this.view.buffer.slice(0,this.rb.trim)];this.rb.Lf.sort(function(v,x){return v.offset - x.offset;});this.rb.kh.sort(function(v,x){return v.offset - x.offset;});this.wwa();n=this.nna();p=this.view.buffer.slice(0,n);q=new DataView(p);this.rb.kh.forEach(h.sja.bind(void 0,q));this.cza(q);this.aza(q);u=[];r=void 0 !== this.rb.trim?Math.min(this.rb.trim,this.view.byteLength):this.view.byteLength;w=0;this.rb.Lf.filter(function(v){return v.offset <= r;}).forEach(function(v){v.offset > w && (u.push(q.buffer.slice(w,v.offset)),v.offset > q.byteLength && q !== k.view && (q=k.view,u.push(q.buffer.slice(n,v.offset))));v.replace && u.push(v.replace);w=v.offset + v.remove;});w < n && u.push(p.slice(w));w < r && u.push(this.view.buffer.slice(Math.max(p.byteLength,w),r));return u;};h.prototype.nna=function(){var k,n,p;k=[];n=this.rb.kh[this.rb.kh.length - 1];p=this.rb.Ud[this.rb.Ud.length - 1];n && k.push(n.offset + n.size);p && k.push(p.offset + 4);this.rb.Lf.filter(function(q){return q.fb;}).forEach(function(q){return k.push(q.fb.byteOffset + 4);});n=Math.max.apply(void 0,k);return void 0 !== this.rb.trim?Math.min(n,this.rb.trim):n;};h.prototype.wwa=function(){this.rb.Lf=this.rb.Lf.reduce(function(k,n){var p,q;if(0 === k.length)return (k.push(n),k);p=k[k.length - 1];q=p.offset + p.remove;n.offset >= q?k.push(n):n.offset + n.remove > q && (g.assert(p.fb === n.fb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?l.concat(p.replace,n.replace):n.replace));return k;},[]);};h.prototype.cza=function(k){var n;n=this;this.rb.Ud.forEach(function(p){var q,u,r,w;q=k;u=p.offset;n.rb.Lf.some(function(v){return v.offset <= p.offset && v.replace && v.offset + v.replace.byteLength >= p.offset + 4?(q=new DataView(v.replace),u=p.offset - v.offset,!0):!1;});r=p.Jl + (void 0 !== p.value?p.value:q.getInt32(u));w=n.rb.Lf.reduce(function(v,x){return x.offset > p.Jl && x.offset < r?v + (x.remove - (x.replace?x.replace.byteLength:0)):v;},0);q.setInt32(u,r - p.Jl - w);});};h.prototype.aza=function(k){this.rb.Lf.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.fb;n;){k.setUint32(n.byteOffset,k.getUint32(n.byteOffset) - p);n=n.parent;}});};return h;})(t.cga);b.bga=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(147);a(147);g=a(83);t=(function(){function l(m,d,f){this.view=m;this.console=d;this.config=f;this.view=m;this.console=d;this.Wn=this.lz=this.offset=0;}l.prototype.ooa=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};l.prototype.Ac=function(m){for(;this.Wn < m;){this.lz=(this.lz << 8) + this.sb();this.Wn+=8;}this.Wn-=m;return this.lz >>> this.Wn & (1 << m) - 1;};l.prototype.sb=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};l.prototype.ad=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};l.prototype.Da=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};l.prototype.WI=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};l.prototype.wua=function(m,d){var f;f=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + m;};l.prototype.Vd=function(m,d){m=this.wua(m,d);this.offset+=8;return m;};l.prototype.xua=function(m,d){var f;f=this.view.getInt32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === ((0 < f?f:-f) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * f + m;};l.prototype.Lva=function(){var m;m=this.xua(void 0,void 0);this.offset+=8;return m;};l.prototype.Ul=function(){return g.Co(this.Da());};l.prototype.iB=function(){var d,f,h,k,n,p;function m(q,u){return ("000000" + q.toString(16)).slice(2 * -u);}d=this.Da(!0);f=this.ad(!0);h=this.ad(!0);k=this.ad();n=this.ad();p=this.Da();return [m(d,4),m(f,2),m(h,2),m(k,2),m(n,2) + m(p,4)].join("-");};l.prototype.Iva=function(m){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + m);};l.prototype.Gva=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var f=this.sb();0 !== f && 0 <= --m;){d.push(f);f=this.sb();}return String.fromCharCode.apply(null,d);};l.prototype.gB=function(m){var d,f;void 0 === d && (d=1);void 0 === f && (f=!0);return this.Zh(this.config.HB && c.Cpa || c.Gq,1,m,d,f);};l.prototype.Eva=function(m,d,f){var h;void 0 === d && (d=2);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.Zh(this.config.HB && c.Apa || c.eA,2,m,d,f,h);};l.prototype.fB=function(m,d,f){var h;void 0 === d && (d=4);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.Zh(this.config.HB && c.Bpa || c.uu,4,m,d,f,h);};l.prototype.Jva=function(){for(var m=this.sb(),d=m & 127;m & 128;){m=this.sb();d=d << 7 | m & 127;}return d;};l.prototype.Zh=function(m,d,f,h,k,n){void 0 === k && (k=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,f,h,n);this.offset=k || !h || h === d?this.offset + f * (h || d):this.offset + d;return m;};return l;})();b.cga=t;},function(t,b,a){var l,m,d,f;function c(h,k,n,p){m.call(this,h,k,n,p);}function g(h,k,n){m.call(this,h,k,n,void 0);}l=a(101);m=a(236).Dr;d=a(379);f=a(83).YS;c.prototype=Object.create(m.prototype);g.prototype=Object.create(c.prototype);g.prototype.gha=function(h,k){return "string" === typeof k?d[k]:k?d.reset[h] || d.Oxa[h]:d.Oxa[h];};g.prototype.bwa=function(h,k,n){return this.ya(h,k,!1,n,void 0);};g.prototype.fwa=function(h,k,n){return this.ya(h,k,!0,n,void 0);};g.prototype.ya=function(h,k,n,p,q){var r,w,v,x,y,z,A,B,E,D,F,G,C,H;function u(K){w=r[K];v=w.ci("traf");if(void 0 === v || void 0 === v.ik)return !1;A=v.ci("tfdt");if(void 0 === A)return !1;x=v.ci("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;r=this.Xa.moof;if(!r || 0 === r.length)return !1;if(void 0 !== h){y=h;for(h=0;h < r.length;++h){if(!u(h,this.wc.console.trace))return !1;if(x.Ob > y || n && x.Ob === y)break;y-=x.Ob;}}else if((h=n?r.length - 1:0,!u(h,this.wc.console.trace)))return !1;if(n && h < r.length - 1){z=r[h + 1];this.wc.Ke(this.EBb - z.startOffset,z.startOffset);}else !n && 0 < h && this.wc.Ke(w.startOffset,0);z=v.ci("tfhd");if(void 0 === z)return !1;A=v.ci("tfdt");B=x.Ob;E=v.ci("saiz");D=v.ci("saio");F=v.ci(l.mS);G=v.ci("sbgp");if(!(!E && !D || E && D))return !1;C=v.ci("sdtp");if(this.Xa.mdat && h < this.Xa.mdat.length)H=this.Xa.mdat[h];else if(h !== r.length - 1)return !1;void 0 === y && (y=n?x.Ob:0);if(x.ya(v,z,H || this.wc,k,y,v.ik,n))x.Pz && (!n && A && A.ya(x.Mxa),E && D && (E.ya(x.jr,n),D.ya(F?0:E.hJ,v.ik,n)),F && F.ya(x.jr,n),C && C.ya(x.jr,B,n),G && G.ya(x.jr,n));else if(!n){if(h === r.length - 1)return !1;this.wc.Ke(r[h + 1].startOffset - w.startOffset,w.startOffset);}else if(0 === x.jr)return !1;p && (k=this.gha(this.stream.profile,q)) && x.jwa(v,z,H,n,p,k);n=this.wc.ya();p=n.reduce(function(K,M){return K + M.byteLength;},0);n={Od:n,length:p,fo:this.wc.view.byteLength};x.Pz && !H && (n.$q=v.ik + x.$q,n.hj=x.hj);return n;};t.exports={Er:g,GA:function(h){var k,n;k=new ArrayBuffer(8);n=new DataView(k);n.setUint32(0,h + 8);n.setUint32(4,f("mdat"));return k;}};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=a(236);g=a(235);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.ya=function(d){var f,h,k,n;f=this;if(!this.parse().done)return !1;h=this.Xa.moov;if(!h || 0 === h.length)return !1;k=h[0].Ol("tenc");if(!k)return !1;n=new Uint8Array(k.uj);d.forEach(function(p){for(var q=p.from,u=!0,r=0;r < q.length;r++){if(n[r] !== q[r]){u=!1;break;}}u && f.wc.gv(p.from.length,p.to,k.aI);});return g.concat(this.wc.ya());};return m;})(t.Dr);b.BK=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Vj || (b.Vj={});t[t.Yb=0]="AUDIO";t[t.Pb=1]="VIDEO";},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x;Object.defineProperties(b,{__esModule:{value:!0}});b.LDa=void 0;t=a(2);c=a(18);g=t.__importStar(a(10));l=t.__importDefault(a(6));m=new l.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=t.__importDefault(a(28));f=t.__importDefault(a(808));h=a(238);k=l.default.Cr;n=k.T0;p={};q={};a=[d.default.Hh.py,!1];t=[d.default.Hh.py,!0];u=[d.default.Hh.PF,!1];r=[d.default.Hh.PF,!0];w=[d.default.Hh.URL,!0];v=[-1,!1];x=[d.default.Hh.PF,!1];p[n.c6b]=u;p[n.UNKNOWN_ERROR]=u;p[n.v9b]=u;p[n.dhb]=u;p[n.qCa]=u;p[n.phb]=u;p[n.hhb]=r;p[n.ggb]=r;p[n.rBa]=x;p[n.pBa]=x;p[n.hgb]=v;p[n.igb]=x;p[n.jgb]=x;p[n.dgb]=u;p[n.fgb]=u;p[n.qBa]=a;p[n.egb]=u;p[n.cgb]=x;p[n.X6b]=r;p[n.vib]=x;p[n.CEa]=x;p[n.BEa]=x;p[n.yEa]=x;p[n.zEa]=x;p[n.uib]=w;p[n.Dda]=r;p[n.Fda]=w;p[n.Eda]=t;p[n.FEa]=r;p[n.xib]=w;p[n.k1]=x;p[n.DEa]=r;p[n.wib]=r;p[n.khb]=r;p[n.ehb]=u;p[n.qmb]=u;p[n.Vgb]=u;p[n.Wgb]=u;p[n.Xgb]=u;p[n.Ygb]=u;p[n.Zgb]=u;p[n.$gb]=u;p[n.ahb]=u;p[n.bhb]=u;p[n.chb]=u;p[n.fhb]=u;p[n.ghb]=u;p[n.ihb]=u;p[n.jhb]=u;p[n.lhb]=u;p[n.mhb]=u;p[n.nhb]=u;p[n.ohb]=u;p[n.qhb]=u;p[n.rhb]=u;p[n.pmb]=x;p[n.TIMEOUT]=a;q[n.rBa]=!0;q[n.CEa]=!0;q[n.BEa]=!0;q[n.zEa]=!0;q[n.qCa]=!0;a=(function(){function y(z,A,B,E){var Q40;Q40=2;for(;Q40 !== 20;){switch(Q40){case 4:var q0Z="1S";q0Z+="IYbZrNJCp";q0Z+="9";this.qs=E;this.events=new c.EventEmitter();this.ah=new c.ii();q0Z;Q40=7;break;case 2:this.Jm=z;this.config=A;this.dLb=B;Q40=4;break;case 7:var O0Z="n";O0Z+="etw";O0Z+="orkFa";O0Z+="i";O0Z+="led";this.MTa=new h.Bfa();p[n.yEa]=A.WLb?r:x;this.ah.addListener(this.Jm,O0Z,this.XKb.bind(this));Q40=13;break;case 13:this.pO=l.default.time.ga();this.bu=0;this.wya={};this.iva=new f.default(z,E,A);Q40=20;break;}}}var P40;P40=2;for(;P40 !== 12;){switch(P40){case 6:y.prototype.Dk=function(){var f50,z,A,B;f50=2;for(;f50 !== 4;){switch(f50){case 5:var r0Z="m";r0Z+="s";var D0Z="Setti";D0Z+="ng unde";D0Z+="rflow ti";D0Z+="meout in ";!A.Adb || this.C_ || A.H_ && A.hN && A.ySb || (m.info(D0Z + B + r0Z),this.C_=setTimeout(function(){var H9R=a000;var g50;g50=2;for(;g50 !== 4;){switch(g50){case 1:z.C_=void 0;z.Jm.Ns(d.default.Hh.py,!0);g50=4;break;case 9:var R5Z="ms, since";R5Z+=" underflow wit";R5Z+="h no";R5Z+=" success";var V5Z="ms, si";V5Z+="nce underflo";V5Z+="w with no success";H9R.q3Z(5);m.info(H9R.Q3Z(B,V5Z,R5Z));g50=2;break;g50=1;break;case 2:var m5Z="ms, since underflow";m5Z+=" with";m5Z+=" no suc";m5Z+="ces";m5Z+="s";var h5Z="Forci";h5Z+="ng permanent ";h5Z+="network ";h5Z+="failure after ";H9R.q3Z(6);m.info(H9R.Q3Z(B,h5Z,m5Z));g50=1;break;}}},B));f50=4;break;case 2:(z=this,A=this.config,B=A.Z8);this.pO=Math.max(l.default.time.ga(),this.pO);f50=5;break;}}};y.prototype.VTa=function(){var h50;h50=2;for(;h50 !== 1;){switch(h50){case 2:var J5Z="Cl";J5Z+="eared under";J5Z+="flow ";J5Z+="timeout";this.C_ && (clearTimeout(this.C_),this.C_=void 0,m.info(J5Z));h50=1;break;}}};return y;break;case 2:y.prototype.Jb=function(){var R40;R40=2;for(;R40 !== 1;){switch(R40){case 4:this.ah.clear();R40=6;break;R40=1;break;case 2:this.ah.clear();R40=1;break;}}};y.prototype.EE=function(z){var S40;S40=2;for(;S40 !== 1;){switch(S40){case 2:this.Vaa=z;S40=1;break;}}};y.prototype.Ns=function(z,A,B,E){var T40,K,I,Q,D,F,G,C,H,M;T40=2;for(;T40 !== 15;){switch(T40){case 16:var P5Z="Un";P5Z+="m";P5Z+="apped fail";P5Z+="ure code in JSASE error director : ";a000.O3Z(3);m.error(a000.E3Z(P5Z,B));T40=15;break;case 9:var U5Z="criti";U5Z+="calNetwor";U5Z+="kEr";U5Z+="ror";var u5Z="crit";u5Z+="icalNetwor";u5Z+="kErro";u5Z+="r";K=p[B];this.yA={LD:A,wh:B,HXa:G,Aj:E};q[B] && (++this.bu,this.events.emit(u5Z,{type:U5Z,wh:B}));T40=6;break;case 14:T40=void 0 !== z.url?13:20;break;case 6:T40=K !== v?14:15;break;case 3:T40=B && g.isArray(p[B])?9:16;break;case 18:var F5Z="Invalid a";F5Z+="ffected for network f";F5Z+="ailu";F5Z+="re";m.error(F5Z);T40=17;break;case 4:var x5Z=" ";x5Z+=": critical er";x5Z+="ror cou";x5Z+="nt";x5Z+=" = ";var w5Z=" ";w5Z+="o";w5Z+="n";w5Z+=" ";var f5Z="Fa";f5Z+="i";f5Z+="lu";f5Z+="re";f5Z+=" ";m.warn(f5Z + G + w5Z + JSON.stringify(z) + x5Z + this.bu);T40=3;break;case 11:(I=K[0],Q=K[1]);C.av?g.forEach(F,function(L,J){var U40;U40=2;for(;U40 !== 5;){switch(U40){case 2:var z5Z="e";z5Z+="r";z5Z+="r";z5Z+="or";K === x || K === u?D.iva.PWb({url:void 0 !== z.url?z.url:L[0],re:J},{ARa:J,B_:K,LD:A,wh:B,HXa:G,Aj:E}):L.some(function(O){var V40;V40=2;for(;V40 !== 5;){switch(V40){case 2:H.Ns(I,Q,O);return I === d.default.Hh.PF;break;}}});!D.Vaa || 0 !== A && void 0 !== A || (L=void 0 !== z.url?z.url:L[0]) && D.Vaa.Ywa(z5Z,L);U40=5;break;}}}):g.forEach(F,function(L,J){var W40;W40=2;for(;W40 !== 5;){switch(W40){case 1:var o5Z="e";o5Z+="r";o5Z+="r";o5Z+="o";o5Z+="r";(L.some(function(O){var X40;X40=2;for(;X40 !== 5;){switch(X40){case 2:H.Ns(I,Q,O);return I === d.default.Hh.PF;break;}}}),!D.Vaa || 0 !== A && void 0 !== A || (L=void 0 !== z.url?z.url:L[0]) && D.Vaa.Ywa(o5Z,L));W40=5;break;case 2:W40=K !== x || D.LYb(J)?1:5;break;}}});T40=15;break;case 2:(D=this,F=k.T0.name,G=B?F[B]:void 0);F={};(C=this.config,H=this.Jm);T40=4;break;case 13:M=H.E$a(z.url);T40=12;break;case 20:T40=void 0 !== z.host && void 0 !== z.port?19:18;break;case 12:M && (F[M]=[z.url]);T40=11;break;case 19:F=H.r_b(z.host,z.port);T40=11;break;case 17:return;break;}}};y.prototype.LYb=function(z){var Y40,A,B,E;Y40=2;for(;Y40 !== 7;){switch(Y40){case 1:Y40=E?5:8;break;case 5:Y40=E.kp < this.pO?4:3;break;case 2:(A=l.default.time.ga(),B=this.config,E=this.wya[z]);Y40=1;break;case 4:(E.kp=A,E.count=1);Y40=7;break;case 3:Y40=!(E.kp >= A - B.lba || E.kB || (E.kp=A,++E.count,E.count < B.f9))?9:7;break;case 9:return E.kB=!0;break;case 8:this.wya[z]={kp:A,count:1};Y40=7;break;}}};P40=3;break;case 3:y.prototype.XKb=function(z){var Z40,F,G,C,A,B,E,D;Z40=2;for(;Z40 !== 7;){switch(Z40){case 3:(F=this.yA.wh,G=this.yA.LD,C=this.yA.Aj);Z40=9;break;case 2:var C5Z=" ";C5Z+="last suc";C5Z+="cess wa";C5Z+="s ";var n5Z="te";n5Z+="mp";n5Z+="o";n5Z+="rarily";var s5Z="perman";s5Z+="ent";s5Z+="ly";var S5Z="Networ";S5Z+="k has fail";S5Z+="ed ";var e5Z=" m";e5Z+="s";e5Z+=" ";e5Z+="a";e5Z+="go";(A=this,B=l.default.time.ga() - this.pO,E=z,D=this.config);a000.q3Z(7);m.warn(a000.E3Z(B,e5Z,S5Z,z?s5Z:n5Z,C5Z));!z && B > D.pta && (E=!0);Z40=4;break;case 9:var W5Z="te";W5Z+="mpor";W5Z+="aryNetworkE";W5Z+="rror";var a5Z="t";a5Z+="empora";a5Z+="ryNe";a5Z+="twor";a5Z+="kError";z || this.events.emit(a5Z,{type:W5Z,errorCode:F,httpCode:G,nativeCode:C});E?(this.CP && (clearTimeout(this.CP),this.CP=void 0),this.VTa(),this.iva.reset(),this.dLb({PNb:z,sUb:F,tUb:G,uUb:C})):this.CP || (this.CP=setTimeout(function(){var a50;a50=2;for(;a50 !== 5;){switch(a50){case 2:A.CP=void 0;A.naa();a50=5;break;}}},D.qta));Z40=7;break;case 4:Z40=this.yA?3:9;break;}}};y.prototype.naa=function(){var b50,z;b50=2;for(;b50 !== 5;){switch(b50){case 2:z=this;this.MTa.fz || this.MTa.Jza(function(){var c50;c50=2;for(;c50 !== 1;){switch(c50){case 2:z.CP || (z.Jm.naa(),z.wya={},z.qs());c50=1;break;}}});b50=5;break;}}};y.prototype.Eba=function(z){var d50,A;d50=2;for(;d50 !== 9;){switch(d50){case 3:var H5Z="upd";H5Z+="ating";H5Z+="L";H5Z+="astSuccessEven";H5Z+="t";var X5Z="up";X5Z+="dati";X5Z+="ngLa";X5Z+="stSuccessEvent";this.events.emit(X5Z,{type:H5Z});d50=9;break;case 2:A=this.config;this.pO=Math.max(z.timestamp || l.default.time.ga(),this.pO);this.VTa();A.av && this.iva.Eba(z);d50=3;break;}}};y.prototype.Uta=function(){var e50;e50=2;for(;e50 !== 1;){switch(e50){case 2:this.bu=0;e50=1;break;case 4:this.bu=5;e50=4;break;e50=1;break;}}};P40=6;break;}}})();b.LDa=a;},function(t,b,a){var g,l,m;function c(d,f,h){this.uT=d;this.eG=0 === Math.floor(1E6 * Math.random()) % h.TI;this.groupId=1;this.config=h;this.Tz={};this.xE={};this.qs=f;}g=a(10);l=a(6).default;new l.Console("ASEJS_PROBE_MANAGER","asejs");m=a(809).sAa;c.prototype.constructor=c;c.prototype.PWb=function(d,f){var h,k,n,p,q,u,r,w,v,x,y;h=this.uT;k=d.re;n=h.obb(d.url);p=h.P8(d.url);q=this.config;u=l.time.ga();r=f;w=[];v=n.wj[0];x=!1;y=this.Tz[k];if(!y)y=this.Tz[k]={count:0,kp:u,kB:!1,error:f,gxa:[],kva:{}};else if(y.kp >= u - q.lba)return;y.kB || (v && p.id === v.id && (d.isPrimary=!0),y.kp=u,y.kB=!1,y.error=f,++y.count,n && n.urls && 0 !== n.urls.length && (g.forEach(n.urls,function(z){var A,B,E;A=z.Pc.id;B=A + "-" + k;E=this.xE[B];if(void 0 === E || void 0 === E.X$)(E && E.Ap && clearTimeout(E.Ap),z=this.fVa(z.url,d,A),this.xE[B]={aa:!1,count:0,X$:z.wi()},w.push(z.wi()),x=!0);-1 === y.gxa.indexOf(A) && y.gxa.push(A);},this),this.eG && 0 < w.length && (n={type:"logdata",target:"endplay",fields:{}},f=r,r={ts:l.time.ga(),es:f.ARa,fc:f.wh,fn:f.HXa,nc:f.Aj,pb:w,gid:this.groupId},f.LD && (r.hc=f.LD),n.fields.errpb={type:"array",value:r,adjust:["ts"]},h.$n(n)),x && this.groupId++));};c.prototype.fVa=function(d,f,h){var k,n,p;k=this.uT.P8(f.url);k && k.Hb && k.Hb.Tw && k.Hb.Tw.Ba || Math.random(0,1);k=new m(this);n=d.split("?");p="random=" + parseInt(1E7 * Math.random(),10);k.nUb(1 < n.length?d + "&" + p:d + "?" + p,f,h);return k;};c.prototype.QWb=function(d,f){var h,k,n,p,q,u,r,w;h=this.uT;k=this.config;n=f.re;p=this.Tz[n];q=d.url;u=this.xE[d.re + "-" + n];if(p){r=p.error;if(u){u && u.Ap && clearTimeout(u.Ap);u.aa=!0;u.count=0;u.X$=void 0;p.kva[d.re]=!0;(u=this.Tz[d.re]) && !0 === u.kB && k.dz && (h.R9a(d.re,u.error.B_[1]),this.eG && (u={type:"logdata",target:"endplay",fields:{}},u.fields.errst={type:"array",value:{ts:l.time.ga(),id:d.requestId,servid:f.re,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.$n(u)),this.Tz[d.re]=void 0,this.qs());if(q !== f.url){w=this.xE[n + "-" + n];w && w.aa || (n=(n=h.P8(q)) && n.Hb && n.Hb.Tw && n.Hb.Tw.Ba || Math.random(0,1) * k.a9,n=Math.min(n,k.a9),setTimeout((function(){var v;if(!(!1 !== p.kB || w && w.aa) && (p.kB=!0,h.Ns(r.B_[0],r.B_[1],f.url,r),this.eG)){v={type:"logdata",target:"endplay",fields:{}};v.fields.erep={type:"array",value:{ts:l.time.ga(),id:d.requestId,servid:f.re,gid:d.groupId?d.groupId:-1},adjust:["ts"]};h.$n(v);}}).bind(this),n));}this.eG && (u={type:"logdata",target:"endplay",fields:{}},u.fields.pbres={type:"array",value:{ts:l.time.ga(),id:d.requestId,result:1,servid:d.re,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.$n(u));}}};c.prototype.NWb=function(d,f){var h,k,n,p,q,u,r,w,v,x;h=this.uT;k=parseInt(f.re,10);n=this.Tz[k];p=parseInt(d.re,10);q=this.xE[p + "-" + k];u=0;r=this.config;if(q && n){q.aa=!1;q.X$=void 0;n.kva[p]=!1;w=n.gxa;if(r.dz && p === k && f.isPrimary){v=h.P8(f.url);v=v && v.Hb && v.Hb.Tw && v.Hb.Tw.Ba || 300 * Math.random(0,1);v*=Math.pow(2,q.count);v=Math.min(v,12E4);v+=Math.random(0,1) * (1E4 > v?100:1E4);q.Ap=setTimeout((function(){var y;q.Ap=void 0;y=this.fVa(d.url,f,p);y.K_b(d.groupId);q.X$=y.wi();}).bind(this),v);}++q.count;if(p === k && (u=0,w.forEach(function(y){!1 === n.kva[y] && u++;}),w.length === u && n.count >= r.f9)){x=n.error;n.kB=!0;g.forEach(h.obb(f.url).urls,function(y){var z;h.Ns(x.B_[0],x.B_[1],y.url,x);if(this.eG){z={type:"logdata",target:"endplay",fields:{}};z.fields.erep={type:"array",value:{ts:l.time.ga(),id:-1,servid:y.Pc.id},adjust:["ts"]};h.$n(z);}},this);}this.eG && (k={type:"logdata",target:"endplay",fields:{}},k.fields.pbres={type:"array",value:{ts:l.time.ga(),id:d.requestId,result:0,servid:d.re,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.$n(k));}};c.prototype.Eba=function(d){var f,h,k;f=d.url || d.mediaRequest.url;if(f){d=this.uT;f=d.E$a(f);h=this.Tz[f];k=this.xE[f + "-" + f];h && h.kB && this.config.dz && (d.R9a(h.error.ARa,!1),this.eG && (h={type:"logdata",target:"endplay",fields:{}},h.fields.errst={type:"array",value:{ts:l.time.ga(),id:-1,servid:f},adjust:["ts"]},d.$n(h)),this.Tz[f]=void 0,k && k.Ap && clearTimeout(k.Ap));}};c.prototype.reset=function(){var d,f,h;d=this.xE;for(h in d){d.hasOwnProperty(h) && (f=d[h + "-" + h]) && f.Ap && clearTimeout(f.Ap);}this.xE={};this.Tz={};};t.exports=c;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sAa=void 0;c=a(2);g=a(18);l=c.__importDefault(a(6)).default.Ov;t=(function(m){function d(f){var h;h=m.call(this) || this;h.YPa=f;h.W2=f.groupId;h.Ni=new g.ii();h.Ni.on(h,l.Pe.lS,h.Oha);h.Ni.on(h,l.Pe.GF,h.yT);return h;}c.__extends(d,m);d.prototype.nUb=function(f,h,k){l.prototype.open.call(this,f,h,k);};d.prototype.K_b=function(f){this.W2=f;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.W2;},enumerable:!1,configurable:!0}});d.prototype.fd=function(){this.Ni && this.Ni.clear();l.prototype.fd.call(this);};d.prototype.Oha=function(f){this.YPa.QWb(f.probed,f.affected);this.fd();};d.prototype.yT=function(f){this.YPa.NWb(f.probed,f.affected);this.fd();};return d;})(l);b.sAa=t;},function(t,b,a){var c,g,l,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.JEa=void 0;c=a(2);g=a(143);l=a(383);m=a(16);d=c.__importDefault(a(6));t=a(82);f=a(386);h=a(4);k=a(127);a=(function(n){function p(q,u,r,w,v,x,y,z,A,B,E){var D;D=n.call(this,q) || this;D.fe=q;D.I=u;D.J=r;D.$n=w;D.yD=x;D.h8=y;D.Jy=z;D.pQa=A;D.xh=B;D.gPa=[void 0,void 0];D.lT=null !== E && void 0 !== E?E:{fw:[Object.create(null),Object.create(null)]};v?D.wW=v:(D.Ee=k.Hp.instance.au("headers","" + D.fe.S,!0,!1,{},D.J),D.Ee.Eb());return D;}c.__extends(p,n);Object.defineProperties(p.prototype,{fw:{get:function(){return this.lT.fw;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{rC:{get:function(){return this.lT.rC;},set:function(q){this.lT.rC=q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{uL:{get:function(){return this.lT.uL;},set:function(q){this.lT.uL=q;},enumerable:!1,configurable:!0}});p.prototype.fd=function(){var q;q=this;this.fw.forEach(function(u,r){for(var w in u){u[w].fd();q.ima(r,w);}});this.Ee && k.Hp.instance.WM(this.Ee);this.Ee=void 0;};p.prototype.jl=function(q,u){return this.fw[q][u];};p.prototype.y7=function(){return !(!this.rC || !this.rC.length);};p.prototype.Uka=function(){this.rC=void 0;};p.prototype.PP=function(q){this.rC=q;};p.prototype.Pya=function(){var q,u;if(!this.y7() || this.uL)return !1;for(g.en.Dq(1);0 < this.rC.length;){q=this.rC.shift();u=this.fe.Rw(1,q);if(u && !this.mLb(q) && u.Fu)return (this.uL=q,this.Bba(u,{offset:0,ZP:!0}));}return !1;};p.prototype.hza=function(q,u){var r;r=this;u.forEach(function(w){var v;v=r.jl(q,w.Sa);v && !w.ke && (v.stream.ke?w.b5(v.stream):(v.kY || (v.kY=[]),v.kY.push(r.fe)));});};p.prototype.AP=function(q,u,r){var w,v,x;w=this;x=this.fe;m.Df.forEach(function(y){var z,A,B,E,D;if(x.oc(y) && (void 0 === r || y === r)){E=q[y];h.assert(E && x.getTrackById(E.trackId) === E);E=E.$d;if(x.vk)w.I.warn("requestHeadersFromManifest, shutdown detected");else if(x.Jm.E_(x.S,E)){D=null !== (B=null === (A=null === (z=w.yD(y)) || void 0 === z?void 0:z.fI) || void 0 === A?void 0:A.bitrate) && void 0 !== B?B:0;z=f.rna(E,D);void 0 === z && w.I.warn("Unable to find stream for bitrate " + D);z=E[z];(A=x.jl(y,z.Sa)) && A.stream.Y?x.c4b(y,A):(y={offset:0,ZP:!1,nD:1 === y,Mw:!0,KO:!w.h8(x)},x.ZUa(z,y,u));}else w.I.warn("requestHeadersFromManifest, unable to update urls");}});x.E7=!0;null === (v=this.xh) || void 0 === v?void 0:v.call(this,x.Qb).F4();};p.prototype.VE=function(q,u){var r,w,v,x;r=this.J;w=this.jl(q.mediaType,q.Sa);if(w)return (w.stream.Y || w.ZP && this.STa(w),!1);w=this.upb;v=this.vpb;if(void 0 !== r.dta && void 0 !== w && void 0 !== v){x=d.default.time.ga();if(x - w < r.dta || x - v < r.dta)return !1;}q=this.Bba(q,{url:q.url,offset:0},void 0,void 0,u);this.vpb=d.default.time.ga();return q;};p.prototype.Bba=function(q,u,r,w,v){var x,y,z,A,B;A=q.mediaType;g.en.Dq(A);B=q.Sa;if(this.Qnb(B,! !u.Mw))return (null === (x=this.pQa) || void 0 === x?void 0:x.call(this),!1);if(x=this.jl(A,B))q=!1;else {x=c.__assign(c.__assign({},u),{fa:null !== (y=u.fa) && void 0 !== y?y:this.Aob(q)});y=! !x.nD;B=! !x.KO;this.wW?v=this.wW(A,! !x.Mw,y,B,! !r):v || (v=this.Ee);h.assert(v);q.url && (this.yD(A).Kra=q.url);x=q=this.iOa(q,v,x);if(!q.WO())return (this.fe.eh("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);q=!0;}u.Mw && w && (this.fe.zh[A]=x);null === (z=this.pQa) || void 0 === z?void 0:z.call(this);return q;};p.prototype.bn=function(){var q,u;q=this;u=[];this.fw.forEach(function(r,w){var x;g.en.Dq(w);for(var v in r){w=r[v];x=w.iza();1 === x?u.push(w):2 === x && q.fe.eh("swapUrl failure");}});return u;};p.prototype.Ek=function(q){var u,r;u=q.mediaType;r=g.en.Dq(u);this.fe.vk?r.warn("header onrequestcomplete ignored, session shutdown:",q.toString()):(this.$n({type:"logdata",target:"startplay",jc:{usedNativeDataView:q.W4b}}),q.rY > q.qUb && (this.gPa[u]=q.rY),q.ZP && this.STa(q),this.$ob(q),this.upb=d.default.time.ga(),this.fe.zu.emit("onHeaderRequestComplete",q));this.pu(q);};p.prototype.R3=function(q,u,r){var w;w=q.mediaType;g.en.Dq(w);w=this.fe.Rw(w,q.Sa);if(u !== ! !q.fl)return !1;this.cRa(q);q.Ltb(w);this.ONa(q);this.fe.zu.emit("onHeaderFromCache",{header:q,lGb:r});return !0;};p.prototype.fM=function(q,u){var r,w,v,x;r=[];w=this.fw[q];for(v in w){x=w[v];x && !x.stream.Y && x.Ls === u && (this.ima(q,v),r.push({stream:x.stream,offset:x.offset,fa:x.fa,nD:x.nD,Mw:x.Mw,KO:x.KO,qua:x.qua}),x.fd());}return r;};p.prototype.zwa=function(q){var u;u=this;q.forEach(function(r){u.Bba(r.stream,r);});};p.prototype.cRa=function(q){this.fw[q.mediaType][q.Sa]=q;};p.prototype.mLb=function(q){return ! !this.jl(1,q);};p.prototype.$ob=function(q){var u,r,w,x;u=this.J;r=g.en.Dq(q.mediaType);w=q.stream.Y;if(u.Sla){u=w.length;r.trace("fragment count:",u);for(var v=0;v < u;++v){x=w.get(v);r.trace("fragment: " + v + ", startPts: " + x.$ + ", duration: " + x.duration + ", offset: " + x.offset);}}this.ONa(q);};p.prototype.ONa=function(q){var u,r;u=q.mediaType;r=q.Sa;g.en.Dq(u);q.kY && (q.kY.forEach(function(w){(w=w.Rw(u,r)) && w !== q.stream && !w.ke && w.b5(q.stream);}),q.kY=void 0);this.fe.UKb(q);};p.prototype.iOa=function(q,u,r){var w,v;w=this;v=g.en.Dq(q.mediaType);q=new l.yca(q,this.J,u,r,this,!1,v);q.addListener("headerRequestCancelled",function(x){w.Zob(x.request);});q.Eb(void 0);this.cRa(q);return q;};p.prototype.Qnb=function(q,u){return this.Jy && (q=this.Jy.sX(this.fe.K,q)) && this.R3(q,!1,u)?!0:!1;};p.prototype.Aob=function(q){var u,r,w,v;u=q.Ws;r=q.P;w=r.duration;v=this.J;return r.pf.Ie?v.JXa?v.JXa:v.D7:v.T4b && u?u.offset + u.size:(q=this.gPa[q.mediaType])?q + 128:v.Xma?2292 + 12 * Math.ceil(w / 2E3):v.D7;};p.prototype.Zob=function(q){this.ima(q.mediaType,q.Sa);};p.prototype.ima=function(q,u){delete this.fw[q][u];};p.prototype.STa=function(q){this.uL === q.Sa && (this.uL=void 0);};return p;})(t.xv);b.JEa=a;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.rLa=void 0;c=a(2);g=a(18);t=(function(l){function m(d,f,h,k){var n;n=l.call(this) || this;n.I=d;n.track=f;n.Uo=!1;n.oha=!1;n.ah=new g.ii();n.ah.on(f,"networkfailing",function(){n.emit("networkfailing");});n.ah.on(f,"error",function(){n.I.warn("requestQueue got error");n.emit("error");});if(h)(n.Uo=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.ah.on(f,"created",function(){n.Uo=!0;n.emit("created");});n.oha=k;return n;}c.__extends(m,l);Object.defineProperties(m.prototype,{h6:{get:function(){return this.track.h6;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wh:{get:function(){return this.track.wh;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Aj:{get:function(){return this.track.Aj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{NV:{get:function(){return this.track.NV;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});m.prototype.Eb=function(){var d,f;this.oha || (null === (f=(d=this.track).Eb) || void 0 === f?void 0:f.call(d),this.oha=!0);};m.prototype.Eu=function(){return this.track.Eu();};m.prototype.toString=function(){return this.track.toString();};m.prototype.toJSON=function(){return this.track;};m.prototype.rq=function(){this.ah.clear();};return m;})(g.EventEmitter);b.rLa=t;},function(t,b,a){var f,h,k,n,p,q,u;function c(r){var w,v,x;r=r.parent;w=!1;if(r && r.children){v={};v[q.dm]=[];v[q.Cl]=[];v[q.TEMPORARY]=[];x=r.children;x.forEach(function(y){y && v[y.lf].push(y);});0 < v[q.dm].length || (v[q.Cl].length === x.length?r.lf !== q.Cl && (r.lf=q.Cl,p.error("PERM failing :",k.default.Hh.name[r.Mn] + " " + r.id),w=!0):(r.lf === q.dm && (r.lf=q.TEMPORARY,p.error("TEMP failing :",k.default.Hh.name[r.Mn] + " " + r.id),w=!0),v[q.TEMPORARY].forEach(function(y){y.lf=q.dm;})),w && c(r));}}function g(r){var w;if((r=r.parent) && 0 < r.children.length && r.lf !== q.dm){w={};w[q.dm]=[];w[q.Cl]=[];w[q.TEMPORARY]=[];r.children.forEach(function(v){v && w[v.lf].push(v);});0 < w[q.dm].length && (r.lf=q.dm,g(r));}}function l(r){return r.lf !== q.dm;}function m(r){switch(r.lf){case q.dm:return "OK";case q.Cl:return "FAILED PERMANENTLY";case q.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(r,w){if(r.lf === q.TEMPORARY || r.lf === q.Cl && w)r.lf=q.dm;r.children && r.children.forEach(function(v){v && d(v,w);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Zda=void 0;f=a(2);h=f.__importStar(a(10));t=a(18);k=f.__importDefault(a(28));n=f.__importDefault(a(6));p=new n.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(r){r[r.dm=0]="OK";r[r.TEMPORARY=1]="TEMPORARY";r[r.Cl=2]="PERMANENT";})(q || (q={}));(function(r){r[r.Qv=0]="STARTUP";r[r.Zlb=1]="REBUFFER";})(u || (u={}));a=(function(r){function w(v,x,y,z,A){var j50,B;j50=2;for(;j50 !== 15;){switch(j50){case 11:var A5Z="1SIYbZr";A5Z+="NJCp";A5Z+="9";var y5Z="ne";y5Z+="t";y5Z+="wo";y5Z+="r";y5Z+="k";B.op={id:y5Z,Mn:k.default.Hh.py,lf:q.dm,tx:void 0,parent:void 0,children:B.SA};B.h3=null;B.oJ=null;B.KP=k.default.vy.Qv;B.hM(v,k.default.vy.Qv);A5Z;return B;break;case 2:B=r.call(this) || this;B.Wb=x;B.Vh=y;B.config=z;j50=3;break;case 14:B.streams={};B.SA=[];B.P9=!1;j50=11;break;case 3:B.oqb=A;B.TWb=u.Qv;B.wj={};B.ul={};B.urls={};j50=14;break;}}}var i50;i50=2;for(;i50 !== 26;){switch(i50){case 8:w.prototype.hM=function(v,x){var q50,y;q50=2;for(;q50 !== 19;){switch(q50){case 4:this.h3=n.default.time.ga();this.SA.sort(function(z,A){var s50;s50=2;for(;s50 !== 1;){switch(s50){case 2:return z.level - A.level || z.ec - A.ec;break;}}});v.servers.forEach(function(z){var t50,A,B,E;t50=2;for(;t50 !== 14;){switch(t50){case 2:A=z.id;t50=1;break;case 5:y.ul[A].ec=z.rank;t50=14;break;case 4:B=y.wj[z.key];t50=3;break;case 3:t50=B?9:14;break;case 1:t50=y.ul[A]?5:4;break;case 7:y.ul[z.id]=z;B.children.push(z);t50=14;break;case 9:E=[];z={id:A,Mn:k.default.Hh.PF,lf:q.dm,tx:void 0,parent:B,children:E,urls:E,name:z.name,type:z.type,ec:z.rank,location:B};t50=7;break;}}});q50=8;break;case 13:this.SA=v;this.op.children=v;this.oJ=null;this.KP=x;this.dump();q50=19;break;case 2:y=this;void 0 === x && (x=k.default.vy.Kjb);v.locations.forEach(function(z){var r50,A,B,E,D;r50=2;for(;r50 !== 7;){switch(r50){case 5:(y.wj[A].ec=z.rank,y.wj[A].level=z.level,y.wj[A].weight=z.weight);r50=7;break;case 1:r50=y.wj[A]?5:4;break;case 8:D.children.push(z);r50=7;break;case 2:A=z.key;r50=1;break;case 4:(B=[],E=y.Vh.get(A),D=y.op);z={id:A,Mn:k.default.Hh.LOCATION,lf:q.dm,ec:z.rank,level:z.level,weight:z.weight,tx:void 0,parent:D,children:B,ul:B,streams:{},Hb:E};y.wj[z.id]=z;r50=8;break;}}});q50=4;break;case 8:v.audio_tracks.forEach(function(z){var u50;u50=2;for(;u50 !== 1;){switch(u50){case 4:y.m8a(z);u50=3;break;u50=1;break;case 2:y.m8a(z);u50=1;break;}}});v.video_tracks.forEach(function(z){var v50;v50=2;for(;v50 !== 1;){switch(v50){case 2:y.m8a(z);v50=1;break;case 4:y.m8a(z);v50=4;break;v50=1;break;}}});v=this.SA.filter(function(z){var w50,A;w50=2;for(;w50 !== 4;){switch(w50){case 1:A && (z.ul.forEach(function(B){var y50;y50=2;for(;y50 !== 1;){switch(y50){case 2:y.ul[B.id]=void 0;y50=1;break;}}}),y.wj[z.id]=void 0,z.parent=void 0,z.children.length=0,z.streams={});return !A;break;case 2:A=z.ul.every(function(B){var x50;x50=2;for(;x50 !== 1;){switch(x50){case 2:return 0 === B.urls.length;break;}}});w50=1;break;}}});v.forEach(function(z){var z50;z50=2;for(;z50 !== 1;){switch(z50){case 2:z.ul.sort(function(A,B){var A50;A50=2;for(;A50 !== 1;){switch(A50){case 2:return A.ec - B.ec;break;}}});z50=1;break;}}});q50=13;break;}}};w.prototype.E_=function(v,x){var B50,E,y,z,A,B,D;B50=2;for(;B50 !== 19;){switch(B50){case 5:B50=l(this.op)?4:3;break;case 3:E=k.default.ig.YB;z.RX && (E=k.default.ig.ey);this.Wb.location && A.confidence >= E && (v=this.wj[this.Wb.location]) && (v.Hb=A);h.Fb(this.oJ) && (this.oJ=this.h4b());B50=6;break;case 4:return !1;break;case 2:(y=this,z=this.config,A=this.Wb.get(),B=0);n.default.Zt && n.default.Zt(v);B50=5;break;case 12:B50=!D.length?11:10;break;case 14:return (this.Ns(k.default.Hh.py,!1),!1);break;case 6:B50=!this.oJ?14:13;break;case 10:var v5Z="(empty ";v5Z+="stre";v5Z+="am l";v5Z+="ist";v5Z+=")";var T5Z="Did not find a ";T5Z+="URL";T5Z+=" for ANY str";T5Z+="eam..";T5Z+=".";var Z5Z="ne";Z5Z+="tworkF";Z5Z+="a";Z5Z+="iled";var p5Z="Network has f";p5Z+="ailed";p5Z+=",";p5Z+=" not updating stream selection";x.forEach(function(F,G){var C50,C;C50=2;for(;C50 !== 5;){switch(C50){case 2:var K5Z=" ";K5Z+="K";K5Z+="bp";K5Z+="s";K5Z+=")";var k5Z=" ";k5Z+="(";var t5Z="]";t5Z+=" ";var B5Z="Fai";B5Z+="ling ";B5Z+="s";B5Z+="trea";B5Z+="m [";C=F.id;D.some(function(H){var D50,K,M;D50=2;for(;D50 !== 8;){switch(D50){case 2:K=H.streams[C];D50=1;break;case 1:D50=!K?5:4;break;case 5:return !1;break;case 4:M=K.wj[0];void 0 === F.W$ && (F.W$=M.id,F.hva=K.G_[M.id][0].Pc.id);return K.G_[H.id].some(function(I){var E50,Q;E50=2;for(;E50 !== 12;){switch(E50){case 5:E50=l(I)?4:3;break;case 3:var i5Z="locati";i5Z+="onfailo";i5Z+="ver";var c5Z="serv";c5Z+="erf";c5Z+="ailo";c5Z+="ver";var N5Z="perform";N5Z+="a";N5Z+="n";N5Z+="c";N5Z+="e";var g5Z="un";g5Z+="k";g5Z+="now";g5Z+="n";Q=g5Z;F.location !== H.id && (z.av?F.nra=H.id === M.id:Q=H !== D[0]?"" + k.default.vy.Gca:void 0 === F.location?"" + k.default.vy.Qv:h.ka(F.c3a) || F.c3a === H.id?h.ka(F.f3a) || F.f3a === I.Pc.id?N5Z:c5Z:i5Z,F.location=H.id,F.Ura=H.level,F.Ts=Q);F.url=I.url;F.Pc=I.Pc.id;E50=6;break;case 2:E50=l(I.Pc)?1:5;break;case 6:F.pJ=I.Pc.name;F.Hb=z.Uja?H.Hb.confidence >= k.default.ig.ey || A.confidence < E?H.Hb:A:A.confidence === k.default.ig.HAVE_NOTHING || H.Hb.confidence >= k.default.ig.ey?H.Hb:A;return !0;break;case 1:return (I.Pc.lf === q.TEMPORARY && (F.lf=q.TEMPORARY),z.av && F.Pc === I.Pc.id && I.Pc.tx && (F.tx=I.Pc.tx),!1);break;case 4:return !1;break;}}});break;}}})?(F.lA=!1,F.lf=void 0,F.Du && ++B):F.lf && F.lf === q.TEMPORARY?y.op.lf=q.TEMPORARY:F.lA || (p.warn(B5Z + G + t5Z + C + k5Z + F.bitrate + K5Z),F.Hxb(),F.lA=!0);C50=5;break;}}});return l(this.op)?(p.warn(p5Z),this.P9=!0,this.emit(Z5Z,this.op.lf === q.Cl),!1):B?!0:(p.warn(T5Z + (x.length?"":v5Z)),this.Ns(k.default.Hh.py,!0),!1);break;case 11:return (this.Ns(k.default.Hh.py,!1),!1);break;case 13:D=this.oJ;B50=12;break;}}};w.prototype.r_b=function(v,x){var F50,y,z;F50=2;for(;F50 !== 4;){switch(F50){case 2:(y={},z=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(A,B){var G50,E,D,F,G;G50=2;for(;G50 !== 7;){switch(G50){case 5:G50=D && 4 === D.length?4:7;break;case 9:var l5Z="8";l5Z+="0";var L5Z="4";L5Z+="4";L5Z+="3";D.length || (D=F?L5Z:l5Z);h.Ve(G) && h.Ve(D) && G === v && D == x && (E?E.push(B):y[A]=[B]);G50=7;break;case 2:A=A.parent?A.parent.id:"";(E=y[A],D=B.match(z));G50=5;break;case 4:(F="s" === D[1],G=D[2]);D=D[3];G50=9;break;}}});return y;break;}}};w.prototype.Ns=function(v,x,y,z){var H50,A,B,E,F,J50,D,I50,G;H50=2;for(;H50 !== 42;){switch(H50){case 2:(A=v !== k.default.Hh.py && y?this.urls[y]:this.op,B=this.op.lf,E=x?q.Cl:q.TEMPORARY);H50=1;break;case 32:z && (this.KP=k.default.vy.Elb,A.tx=z);this.dump();H50=42;break;case 6:x=[];H50=13;break;case 44:var G5Z="Invalid";G5Z+=" failure";G5Z+=" s";G5Z+="tat";G5Z+="e";throw Error(G5Z);H50=24;break;case 35:var d5Z="netwo";d5Z+="rk";d5Z+="Failed";var j5Z="Emittin";j5Z+="g ";j5Z+="networkFailed, perm";j5Z+="anent =";E > B && (p.warn(j5Z,E === q.Cl),this.emit(d5Z,E === q.Cl));this.oJ=null;this.KP=k.default.vy.Qf;H50=32;break;case 25:return;break;case 16:H50=I50 === k.default.Hh.URL?15:19;break;case 15:var b5Z="<u";b5Z+="rl";b5Z+=" for ";x.unshift(b5Z + F.stream.bitrate + ">");H50=19;break;case 1:H50=A && A.parent && A.Mn !== v?5:4;break;case 20:x.unshift(G.id + "(" + G.name + ")");H50=19;break;case 43:var I5Z="Unable t";I5Z+="o find failure ";I5Z+="enti";I5Z+="ty f";I5Z+="or URL ";a000.q3Z(3);p.warn(a000.Q3Z(I5Z,y));H50=42;break;case 18:H50=I50 === k.default.Hh.LOCATION?17:16;break;case 5:A=A.parent;H50=1;break;case 30:H50=J50 === q.TEMPORARY?24:29;break;case 17:x.unshift(F.id);H50=19;break;case 3:H50=E !== A.lf?9:42;break;case 4:H50=A?3:43;break;case 26:J50=A.lf;H50=J50 === q.Cl?25:30;break;case 19:F=F.parent;H50=12;break;case 9:var E5Z=" a";E5Z+="t";E5Z+=" ";var Q5Z=" failure repor";Q5Z+="ted f";Q5Z+="or ";var M5Z="T";M5Z+="E";M5Z+="M";M5Z+="P";var Y5Z="P";Y5Z+="E";Y5Z+="R";Y5Z+="M";y=p;D=y.warn;v=(x?Y5Z:M5Z) + Q5Z + k.default.Hh.name[v] + E5Z;H50=6;break;case 13:F=A;H50=12;break;case 11:I50=F.Mn;H50=I50 === k.default.Hh.PF?10:18;break;case 27:var q5Z=" : w";q5Z+="as";q5Z+=" ";D.call(y,v + (x.length?"/" + x.join("/"):"") + q5Z + m(A));H50=26;break;case 24:A.lf=E;c(A);this.P9=this.P9 || l(this.op);E=this.op.lf;H50=35;break;case 12:H50=F?11:27;break;case 29:H50=J50 === q.dm?24:28;break;case 28:H50=44;break;case 10:G=F;H50=20;break;}}};i50=13;break;case 2:f.__extends(w,r);w.prototype.kKb=function(){var k50;k50=2;for(;k50 !== 1;){switch(k50){case 2:return this.SA[0].Hb;break;}}};w.prototype.iu=function(){var l50;l50=2;for(;l50 !== 1;){switch(l50){case 2:return l(this.op);break;}}};w.prototype.E$a=function(v){var m50;m50=2;for(;m50 !== 5;){switch(m50){case 1:return v.parent.id;break;case 2:m50=(v=this.urls[v]) && v.parent?1:5;break;case 9:return v.parent.id;break;m50=5;break;}}};i50=3;break;case 13:w.prototype.R9a=function(v,x){var K50;K50=2;for(;K50 !== 3;){switch(K50){case 2:K50=(v=this.ul[v])?1:5;break;case 1:(d(v,x),g(v));K50=5;break;case 7:(d(v,x),g(v));K50=7;break;K50=5;break;case 5:this.oJ=null;this.KP=k.default.vy.Nea;K50=3;break;}}};w.prototype.naa=function(){var L50;L50=2;for(;L50 !== 1;){switch(L50){case 2:d(this.op,!1);L50=1;break;}}};w.prototype.$n=function(v){var M50,x;M50=2;for(;M50 !== 5;){switch(M50){case 2:M50=1;break;case 1:null === (x=this.oqb) || void 0 === x?void 0:x.call(this,v);M50=5;break;}}};w.prototype.Dk=function(){var N50;N50=2;for(;N50 !== 1;){switch(N50){case 2:this.QYb(u.Zlb);N50=1;break;}}};w.prototype.Jb=function(){var O50;O50=2;for(;O50 !== 1;){switch(O50){case 2:this.config.NPb && this.lVb();O50=1;break;}}};w.prototype.m8a=function(v){var P50,x;P50=2;for(;P50 !== 5;){switch(P50){case 2:x=this;v.streams.forEach(function(y){var Q50,z,A,B;Q50=2;for(;Q50 !== 6;){switch(Q50){case 2:(z=y.downloadable_id,A=x.streams[z]);Q50=1;break;case 3:x.streams[A.id]=A;Q50=9;break;case 1:Q50=h.ka(A)?5:9;break;case 9:y.urls.forEach(function(E){var R50,D,F,G;R50=2;for(;R50 !== 13;){switch(R50){case 1:R50=h.ka(F) && (E=x.ul[E.cdn_id])?5:13;break;case 2:(D=E.url,F=x.urls[D]);R50=1;break;case 5:G=E.location;F={id:D,Mn:k.default.Hh.URL,lf:q.dm,tx:void 0,parent:E,children:[],url:D,Pc:E,stream:A};x.urls[D]=F;E.children.push(F);R50=8;break;case 14:(D=A.G_[G.id])?D.push(F):A.G_[G.id]=[F];R50=13;break;case 8:A.urls.push(F);0 === A.wj.filter(function(C){var S50;S50=2;for(;S50 !== 1;){switch(S50){case 4:return C.id !== G.id;break;S50=1;break;case 2:return C.id === G.id;break;}}}).length && A.wj.push(G);G.streams[A.id]=A;R50=14;break;}}});h.tf(A.G_,function(E){var T50;T50=2;for(;T50 !== 1;){switch(T50){case 2:E.sort(function(D,F){var U50;U50=2;for(;U50 !== 1;){switch(U50){case 2:return D.Pc.ec - F.Pc.ec;break;case 4:return D.Pc.ec / F.Pc.ec;break;U50=1;break;}}});T50=1;break;}}});A.wj=A.wj.sort(function(E,D){var V50;V50=2;for(;V50 !== 1;){switch(V50){case 2:return E.level - D.level || E.ec - D.ec;break;}}});Q50=6;break;case 5:var O5Z="n";O5Z+="on";O5Z+="e";O5Z+="-";B=y.content_profile;A={id:z,bitrate:y.bitrate,xb:y.vmaf,type:y.type,profile:B,clear:0 === B.indexOf(O5Z),Du:!0,urls:[],G_:{},wj:[]};Q50=3;break;}}});P50=5;break;}}};w.prototype.h4b=function(){var W50,v,x,y,z;W50=2;for(;W50 !== 6;){switch(W50){case 1:W50=0 === y.length?5:4;break;case 2:(v=this,x=this.config,y=this.SA.filter(function(A){var X50;X50=2;for(;X50 !== 1;){switch(X50){case 2:return !l(A) && 0 !== A.level;break;}}}));W50=1;break;case 5:return null;break;case 4:z=n.default.time.ga();W50=3;break;case 3:W50=null === this.h3 || this.h3 + x.Tra < z?9:8;break;case 8:y.sort(function(A,B){var Z50;Z50=2;for(;Z50 !== 1;){switch(Z50){case 2:return A.level - B.level || A.ec - B.ec;break;}}});return y;break;case 9:(y.forEach(function(A){var Y50;Y50=2;for(;Y50 !== 1;){switch(Y50){case 2:A.id !== v.Wb.location && (A.Hb=v.Vh.get(A.id));Y50=1;break;}}}),this.h3=z);W50=8;break;}}};i50=17;break;case 3:w.prototype.P8=function(v){var n50;n50=2;for(;n50 !== 5;){switch(n50){case 9:return v.Pc.location;break;n50=5;break;case 2:n50=(v=this.urls[v]) && v.Pc?1:5;break;case 1:return v.Pc.location;break;}}};w.prototype.obb=function(v){var o50;o50=2;for(;o50 !== 5;){switch(o50){case 2:o50=(v=this.urls[v])?1:5;break;case 1:return v.stream;break;case 3:o50=(v=this.urls[v])?7:6;break;o50=(v=this.urls[v])?1:5;break;}}};i50=8;break;case 17:w.prototype.QYb=function(v){var a60,x;a60=2;for(;a60 !== 4;){switch(a60){case 2:x=this.Wb.location;this.TWb=v;this.SA.forEach(function(y){var b60;b60=2;for(;b60 !== 1;){switch(b60){case 2:y.id !== x && y.Hb && y.Hb.confidence > k.default.ig.YB && (y.Hb.confidence=k.default.ig.YB);b60=1;break;}}});a60=4;break;}}};w.prototype.lVb=function(){var c60,v;c60=2;for(;c60 !== 5;){switch(c60){case 2:v=this;this.P9 || this.SA.forEach(function(x){var d60;d60=2;for(;d60 !== 1;){switch(d60){case 2:x.lf === q.TEMPORARY && v.Vh.fail(x.id,n.default.time.ga());d60=1;break;}}});c60=5;break;}}};w.prototype.dump=function(){};return w;break;}}})(t.EventEmitter);b.Zda=a;},function(t,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.CHa=void 0;c=a(21);g=a(4);l=a(814);m=a(815);d=a(816);f=a(817);h=a(818);k=a(819);n=a(820);t=(function(){function p(q,u,r,w){this.config=q;this.mediaType=u;this.Rc=r;this.console=w;}p.prototype.append=function(q,u){var r,w,v,x;w=u.endOfStream;v=u.q9;x=u.UX;void 0 === this.track?this.dO(q.stream):this.track !== q.stream.track && (g.assert(this.track.va),g.assert(q.stream.track.va),g.assert(1 === this.mediaType || this.track.va.equal(q.stream.track.va)),this.track=q.stream.track);g.assert(void 0 !== this.Wt);u={Od:q,offset:null !== (r=q.tva) && void 0 !== r?r:c.R.eb,Ye:this.config.zaa};u=this.Wt.reduce(function(y,z){return z.append(y,{endOfStream:w,q9:v,UX:x});},u);r=u.Od;u=u.offset;r.ya && q.Lk(r.ya);return u;};p.prototype.reset=function(){this.Wt=this.track=void 0;};p.prototype.dO=function(q){var u,r;this.track=q.track;this.Wt=[];if(0 === this.mediaType){this.config.zaa && this.Wt.push(new d.FLa(this.config,q.track,this.console));r=this.ska(q);r.equal(c.R.eb)?this.config.qm && q.zf && this.Gqa(q.P.S) && this.Wt.push(new k.GFa(this.config)):this.Wt.push(new l.ufa(r));this.config.Rsa || (this.console.log("MediaSplicer: NegativePtsGuard: " + r.Zd() + ", " + (null === (u=q.zf) || void 0 === u?void 0:u.Zd())),this.Wt.push(new f.WHa(this.config,q,this.console)));this.NNb() && (this.config.fh || this.Wt.push(new n.CAa(q,this.config,this.Rc,this.console)),this.Wt.push(new m.fIa(this.config,q,this.console)),this.G0b(q) && (g.assert(q.va),this.Wt.push(this.vyb(q.zf || c.R.eb,q.va,r))));}};p.prototype.Gqa=function(q){return this.config.Gqa || this.config.M1a && -1 !== this.config.M1a.indexOf(q);};p.prototype.ska=function(q){return l.ufa.ska(this.config,q.zf,this.Rc,this.console);};p.prototype.NNb=function(){return !this.config.BE;};p.prototype.G0b=function(q){return this.config.B3b && this.config.qm && ! !q.zf;};p.prototype.vyb=function(q,u,r){return new h.fNa(q.Ka(r),u,this.console);};return p;})();b.CHa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ufa=void 0;c=a(21);g=a(20);t=(function(){function l(m){this.zf=m;}l.ska=function(m,d,f,h){var k;k=c.R.eb;d && (f=null === f || void 0 === f?void 0:f.Kbc,m.K4b && void 0 !== f && 0 <= f?(m=new c.R(f,48E3),k=d.add(m),g.ia && h.trace("Adjusting profile timestamp offset of " + d + (" by DPI assumed delay of " + m) + (" for ASE applied offset of " + k + "."))):m.HG && (k=d));return k;};l.prototype.append=function(m){var d;d=m.Ye;return {Od:m.Od,offset:m.offset.add(this.zf),Ye:d};};return l;})();b.ufa=t;},function(t,b,a){var g,l,m,d;function c(f){return f.toString() + " (nrdp: " + f.gJ + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.fIa=void 0;g=a(21);l=a(242);m=a(20);d=a(4);t=(function(){function f(h,k,n){this.console=n;this.offset=g.R.eb;this.zf=h.qm?k.zf:void 0;d.assert(k.va);this.va=k.va;}f.prototype.append=function(h){var k,n,p;k=h.Od;n=h.offset;p=h.Ye;void 0 !== this.Z2a && (d.assert(void 0 !== this.wra),k.Yc.add(h.offset).equal(this.Z2a)?(h=this.mwb(k,n.add(this.offset)).U - this.wra,0 > h?this.offset=this.offset.add(g.R.nx):0 === h?this.offset.lessThan(g.R.eb) && (this.offset=this.offset.add(g.R.nx)):1 === h?this.offset.greaterThan(g.R.eb) && (this.offset=this.offset.Ka(g.R.nx)):this.offset=this.offset.Ka(g.R.nx)):this.offset=g.R.eb);this.wra=this.lwb(k,n.add(this.offset)).U;this.Z2a=k.Sd.add(n);return {Od:k,offset:n.add(this.offset),Ye:p};};f.prototype.mwb=function(h,k){var n,p;h=this.yRa(h.Yc);n=l.Pu(h).add(l.Pu(k));p=h.add(k).Ka(n);m.ia && this.console.trace("NrdpRounding: content start " + c(h) + ", timestamp offset: " + c(k) + ", start rounding error: " + l.Pu(h).toString() + ", offset rounding error: " + l.Pu(k).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.Zd() + ", (" + h.gJ + k.gJ + "ms), last fragment end nrdp: " + this.wra);return p;};f.prototype.lwb=function(h,k){var n,p,q;n=this.va;h=this.yRa(h.Sd);p=l.Pu(h.Ka(n)).add(l.Pu(n)).add(l.Pu(k));q=h.add(k).Ka(p);m.ia && this.console.trace("NrdpRounding: content end: start of last frame:" + c(h.Ka(n)) + ", frame duration: " + c(n) + ", offset: " + c(k) + ", timestamp rounding error: " + l.Pu(h.Ka(n)).toString() + ", frame duration rouding error: " + l.Pu(n).toString() + ", offset rounding error: " + l.Pu(k).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.Zd() + ", (" + h.Ka(n).gJ + n.gJ + k.gJ + "ms)");return q;};f.prototype.yRa=function(h){return this.zf?h.Ka(this.zf):h;};return f;})();b.fIa=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.FLa=void 0;c=a(21);g=a(4);l=a(20);t=(function(){function m(d,f,h){this.config=d;this.console=h;this.vw=c.R.eb;g.assert(f.va);this.va=f.va;d=f.$d[0].profile;this.G9=this.aJb(d,this.va);this.h9=this.ZIb(d,this.va);}m.prototype.append=function(d,f){var h,k,n,p;h=d.Od;k=d.offset;d=d.Ye;n=f.q9;f=f.UX;if(this.zua){p=this.ZRb(h,this.zua);h.ya && this.Lja(p)?(l.ia && this.console.trace("SeamlessAudio: dropping one first frame"),h.Bma(1),this.vw=p):(this.vw=p.add(this.va),this.DSa(this.vw) || (l.ia && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.Og.Zd() + " error would be " + this.vw.Zd() + " (editing " + (h.ya?"":"not ") + "allowed)"),this.vw=c.R.eb,d=!1));this.zua=void 0;}if(h.Mq || h.Yw)(g.assert(n,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!h.ya || !f && h.Yw || (p=this.$Rb(h,n,f),p.ps(c.R.eb) && h.Cma(1)),this.zua=n);g.assert(this.DSa(this.vw));this.Ara=h.ye;return {Od:h,offset:k.add(this.vw),Ye:d};};m.prototype.$Rb=function(d,f,h){var k;if(h)k=this.vw.add(d.ye.Ka(h)).Ka(this.va);else (k=d.ye.Ka(f),k=this.vw.add(k).Ka(this.va));l.ia && this.console.trace("SeamlessAudio: fragment end: " + d.ye.Zd() + ", splice " + f.Zd() + ", next start " + (null === h || void 0 === h?void 0:h.Zd()) + ", error " + k.add(this.va).Zd() + ", error with frame drop " + k.Zd() + ", is" + (this.Lja(k)?"":" not") + " within bounds of [" + this.G9.Zd() + " and " + this.h9.Zd() + ")");return k;};m.prototype.ZRb=function(d,f){var h;g.assert(this.Ara);h=this.vw.add(this.Ara.Ka(d.Og)).Ka(this.va);l.ia && this.console.trace("SeamlessAudio: fragment start: " + d.Og.Zd() + ", splice " + f.Zd() + ", last fragment end: " + this.Ara.Zd() + ", error " + h.add(this.va).Zd() + ", error with frame drop " + h.Zd() + ", is" + (this.Lja(h)?"":" not") + " within bounds of [" + this.G9.Zd() + " and " + this.h9.Zd() + ")");return h;};m.prototype.Lja=function(d){return d.lessThan(this.h9) && d.ps(this.G9);};m.prototype.DSa=function(d){return d.lessThan(this.h9.add(c.R.nx)) && d.ps(this.G9.Ka(c.R.nx));};m.prototype.ZIb=function(d,f){return "object" === typeof this.config.Owa && void 0 !== this.config.Owa[d]?(d=new c.R(this.config.Owa[d],1E3).dg(f.W).add(new c.R(1,f.W)),c.R.min(f,d)):f;};m.prototype.aJb=function(d,f){var h;if("object" === typeof this.config.Pwa && void 0 !== this.config.Pwa[d]){h=f.Nl(-2);d=new c.R(this.config.Pwa[d],1E3).dg(f.W).Ka(new c.R(1,f.W));return c.R.max(h,d);}return new c.R(-12,1E3);};return m;})();b.FLa=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.WHa=void 0;c=a(21);g=a(4);l=a(20);t=(function(){function m(d,f,h){var k;this.console=h;this.lZ=!1;g.assert(f.va,"NegativePtsGuard: stream.frameDuration must exist.");this.va=f.va;this.qm=d.qm;this.zf=null !== (k=f.zf) && void 0 !== k?k:c.R.eb;}m.prototype.append=function(d){var f,h,k,n;if(this.lZ)return d;f=d.Od;h=d.offset;d=d.Ye;if(f.ya){k=f.Yc.Ka(this.qm?this.zf:c.R.eb).add(h);if(k.lessThan(c.R.eb)){n=Math.ceil(k.vI(-1).Nl(this.va));l.ia && this.console.trace("NegativePtsGuard: dropping " + n + " frames on first fragment to avoid nagative pts, profile offset " + (this.zf.Zd() + ", request content start ") + (f.Yc.Zd() + ", current timestamp offset ") + (h.Zd() + " => firstPlatformTimestamp ") + (k.Zd() + "."));f.Bma(n);}}this.lZ=!0;return {Od:f,offset:h,Ye:d};};return m;})();b.WHa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fNa=void 0;c=a(21);g=a(20);t=(function(){function l(m,d,f){this.zf=m;this.va=d;this.console=f;}l.prototype.append=function(m,d){var f,h,k,n;f=m.Od;h=m.offset;m=m.Ye;k=d.endOfStream;d=d.q9;if(k && d){k=f.Yc.Ka(this.zf).add(h);n=f.Sd.Ka(this.zf).add(h);d=d.Ka(c.R.nx);g.ia && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + k.Zd() + "-" + n.Zd() + " vs media splice point at " + d.Zd());k.add(this.va).ps(d)?(g.ia && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),f.Ama()):n.ps(d) && (d=Math.ceil(n.Ka(d).Nl(this.va)),f.ya?(g.ia && this.console.trace("TruncateEndOfStreamAudio: drop " + d + " frames"),f.Cma(d)):(g.ia && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),f.Ama()));}else k && g.ia && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");return {Od:f,offset:h,Ye:m};};return l;})();b.fNa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GFa=void 0;t=(function(){function a(c){this.lZ=!1;this.O0b=c.TMb;}a.prototype.append=function(c){c.Od.ya && (c.Od.$_b(this.lZ?0:this.O0b),this.lZ=!0);return c;};return a;})();b.GFa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.CAa=void 0;c=a(387);g=a(9);t=(function(){function l(m,d,f,h){this.config=d;this.Rc=f;this.console=h;this.va=m.va;}l.prototype.append=function(m,d){var f,h,k,n,p,q,u,r;h=c.Moa(this.config,this.Rc);k=m.Od;n=k.ye;p=k.Og;q=k.Yw;u=m.Ye;q=k.Mq || q;if(!m.Od.ya || !q || u)return m;u=k.Sd.Ka(k.Yc);k=Math.floor(u.Nl(this.va));q=null !== (f=d.UX) && void 0 !== f?f:n.Ka(this.va.vI(2));n=q.Ka(p);f=k;r=!1;d.UX && (d=this.rTa(u,n,n),f=d.Hwa,r=d.N5a);h=q.Ka(g.R.Oa(h));p=g.R.max(h.Ka(p),g.R.eb);r || (p=this.rTa(u,p,n),f=p.Hwa,p.N5a && (--f,this.va.vI(f)));f < (this.config.URb || 1)?m.Od.Ama():0 < k - f && m.Od.Cma(k - f);return m;};l.prototype.rTa=function(m,d,f){var h;m=g.R.min(m,d);m=Math.floor(m.Nl(this.va));d=this.va.vI(m);f=f.Ka(d);h=0 < m && f.lessThan(g.R.nx);return {Hwa:m,afc:d,vcc:f,N5a:h};};return l;})();b.CAa=t;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v;function c(x,y,z,A){var B,E;f.assert(x.xk,"Current time: " + n.default.time.ga() + " cr: " + x.currentTime);f.assert(x.currentTime.isFinite());B=z.Ka(x.currentTime);B=Math.max(Math.ceil(B.NI / x.speed),0);E=null !== A && void 0 !== A?A:{id:void 0,XVa:B,g6a:0,rUb:B};E.id=setTimeout(function(){z.Ka(x.currentTime).qO(m.R.eb)?y():(E.g6a++,c(x,y,z,E));},B);E.XVa=B;return E;}Object.defineProperties(b,{__esModule:{value:!0}});b.Zba=b.FS=void 0;g=a(2);l=a(18);m=a(21);d=a(243);f=a(4);h=a(20);k=a(822);n=g.__importDefault(a(6));p=a(177);q=a(823);u=a(824);r=a(149);w=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{MJ:{get:function(){return this.uia;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{J5a:{get:function(){return this.$pb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{vBb:{get:function(){return this.gob;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Kwa:{get:function(){return this.Mrb;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,z,A){this.gob=z === v.PO?0:n.default.time.ga();this.$pb=y;this.Mrb=z;h.ia && f.assert(!this.uia,"Invalid replacement of timeout value");this.uia=A;};x.prototype.complete=function(){this.uia=void 0;this.set(m.R.OD,v.PO);};return x;})();(function(x){x[x.PO=0]="none";x[x.Z4a=1]="microTask";x[x.setTimeout=2]="setTimeout";})(v || (v={}));t=(function(x){function y(z,A,B){var E;void 0 === B && (B="unknown");E=x.call(this) || this;E.za=z;E.console=A;E.name=B;E.Ypb=0;E.qha=!1;E.Xk=new w();E.b6=new l.ii();E.im=new d.u1([],k.sUa(function(D,F){return D.DP.Ll(F.DP);},function(D,F){return F.nr.priority - D.nr.priority;},function(D,F){return D.nr.id > F.nr.id?1:D.nr.id < F.nr.id?-1:0;}));E.jSa(z);return E;}g.__extends(y,x);Object.defineProperties(y.prototype,{y0b:{get:function(){return this.za.xk;},enumerable:!1,configurable:!0}});y.prototype.pVa=function(z,A){z=new (z.bind.apply(z,g.__spread([void 0],A)))();z.id=this.Ypb++;z.zub(this);this.Zia(z);return z;};y.prototype.bH=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.pVa(q.LFa,z);};y.prototype.iHb=function(){var z;z={hasSchedule:! !this.Xk.MJ,schedule:this.Xk.MJ && ({sleepTime:this.Xk.MJ.XVa,originalSleepTime:this.Xk.MJ.rUb,clockSkewAdjustments:this.Xk.MJ.g6a}),nextWakeup:this.Xk.J5a.U,timeScheduled:this.Xk.vBb,scheduleType:v[this.Xk.Kwa],numTasks:this.im.length,clock:{ir:this.za.xk,ct:this.za.currentTime.U,sp:this.za.speed}};h.ia && this.trace("audit",z);return z;};y.prototype.$U=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.pVa(u.YLa,z);};y.prototype.$Ua=function(z,A,B){return this.bH(function(){return g.__generator(this,function(E){switch(E.label){case 0:return [4,r.Tk.aK(A)];case 1:return (E.xc(),z(),[3,0]);case 2:return [2];}});},B);};y.prototype.jSa=function(z){var A;A=this;this.dD();this.b6.clear();this.za=z;this.b6.on(z,"stopStart",function(){return A.pP();});this.b6.on(z,"clockAdjusted",function(){return A.cY();});this.b6.on(z,"speedChanged",function(){return A.dUb();});this.cY();this.emit("clockChanged");};y.prototype.dUb=function(){this.dD();this.pP();};y.prototype.Jb=function(){this.reset();};y.prototype.reset=function(){this.dD();this.im.clear();};y.prototype.cY=function(){var z,A;z=this;A=this.im.map(function(B){return B.nr;});this.dD();this.im.clear();A.forEach(function(B){return z.Zia(B,!1);});this.pP();};y.prototype.Zia=function(z,A){var B,E;void 0 === A && (A=!0);B=z.V9();E=this.mcb(B);z={nr:z,DP:E,kaa:B};f.assert(!this.im.contains(z));this.im.push(z);A && this.pP();};y.prototype.pP=function(){var z,A,B,E,D;z=this;h.ia && this.trace("recheck schedule task count:" + this.im.length);if(this.y0b){if(this.qha)h.ia && this.trace("already executing, bailing");else {E=this.Xk.J5a;D=null !== (B=null === (A=this.im.px()) || void 0 === A?void 0:A.DP) && void 0 !== B?B:m.R.OD;D.isFinite() && D.a$(E)?(this.dD(!1),this.za.currentTime.ps(D)?(this.Xk.set(D,v.Z4a),Promise.resolve().then(function(){z.Xk.Kwa === v.Z4a && (z.Xk.complete(),z.h$a());})):(h.ia && this.trace("scheduling next wake up for:" + D.U),A=c(this.za,function(){z.Xk.complete();z.h$a();},D),this.Xk.set(D,v.setTimeout,A))):D.isFinite() || this.Xk.Kwa !== v.setTimeout || this.dD(!1);}}else (h.ia && this.trace("should check schedule is false, stopping"),this.dD());};y.prototype.h$a=function(){var z,A,B,E;B=0;E=null === (z=this.im.px()) || void 0 === z?void 0:z.kaa;try{for(this.qha=!0;1E4 > B++ && this.F3b();){;}}finally{this.qha=!1;this.dD();1E4 < B && !this.tLb(E)?null === (A=this.console) || void 0 === A?void 0:A.error("Task scheduler executed more than 10000 iterations in same tick"):this.pP();}};y.prototype.tLb=function(z){var A,B;B=null === (A=this.im.px()) || void 0 === A?void 0:A.kaa;return z && B && z.timestamp.equal(B.timestamp) && z.type === B.type?!1:!0;};y.prototype.F3b=function(){var z,A,B;B=null !== (A=null === (z=this.im.px()) || void 0 === z?void 0:z.DP) && void 0 !== A?A:m.R.OD;h.ia && this.trace("tryExecuteNextTask @" + this.za.currentTime.U + ", next wakeup at " + B);if(this.za.currentTime.ps(B) && (z=this.im.pop())){A=z.nr;h.ia && this.trace("Running a task @" + this.za.currentTime.U + ", scheduled for time:" + B.U + ("Name:" + A.name));try{A.Bx();z.kaa=A.V9();z.DP=this.mcb(z.kaa);}catch(E){throw (this.console.error("Unhandled error from a task " + A.name + " occurred. Removing the task from future executions:" + E,{stack:E.stack}),A.Jb(),E);}finally{z.DP !== m.R.OD && A.state === p.qn.vaa && (f.assert(!this.im.contains(z)),this.im.push(z));}return !0;}};y.prototype.pZb=function(z){f.assert(z.Oe === this);this.ewa(z,!1);this.Zia(z);};y.prototype.ewa=function(z,A){var B;void 0 === A && (A=!0);B=this.im.find(function(E){return E.nr === z;});B && this.BYb(B,A);};y.prototype.BYb=function(z,A){this.im.remove(z);A && this.pP();};y.prototype.dD=function(z){void 0 === z && (z=!0);this.Xk.MJ && (z && this.emit("stopping"),clearTimeout(this.Xk.MJ.id),this.Xk.complete());};y.prototype.mcb=function(z){return z.type === r.Jfa.absolute?z.timestamp:z.timestamp.add(this.za.currentTime);};y.prototype.trace=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,g.__spread(["TaskScheduler(" + this.name + "):"],A));};return y;})(l.EventEmitter);b.FS=t;b.Zba=function(x,y,z){var A;A=void 0;return (z || x.za.xk) && x.za.currentTime.ps(y)?{promise:Promise.resolve()}:{promise:new Promise(function(B){A=x.$U(r.Tk.FQ(y),B);}),nr:A};};},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sUa=void 0;c=a(2);g=a(20);l=a(4);b.sUa=function(){for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}g.ia && l.assert(m.length);return function(f,h){var k,q,u;try{for(var n=c.__values(m),p=n.next();!p.done;p=n.next()){q=p.value;u=q(f,h);if(0 !== u)return u;}}catch(w){var r;r={error:w};}finally{try{p && !p.done && (k=n.return) && k.call(n);}finally{if(r)throw r.error;}}return 0;};};},function(t,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.LFa=void 0;c=a(2);g=a(21);l=a(4);m=a(177);d=a(149);t=(function(f){function h(k,n,p){n=f.call(this,n,p) || this;n.NZb=k;n.reset();return n;}c.__extends(h,f);h.prototype.reset=function(){var k,n;if(this.Sc === m.qn.vaa || this.Sc === m.qn.pending)null === (n=null === (k=this.K2) || void 0 === k?void 0:k.return) || void 0 === n?void 0:n.call(k);this.Sc=m.qn.pending;this.K2=this.NZb();this.Jha=d.Tk.aK(g.R.eb);};h.prototype.Tm=function(){this.reset();l.assert(this.ow);this.ow.pZb(this);};h.prototype.V9=function(){return this.Jha;};h.prototype.tg=function(){var k,n,p;p=this.K2.next();p.done?(this.Jha=d.Tk.Eza,null === (n=(k=this.K2).return) || void 0 === n?void 0:n.call(k)):this.Jha=p.value;};h.prototype.Jb=function(){var k,n;null === (n=(k=this.K2).return) || void 0 === n?void 0:n.call(k);f.prototype.Jb.call(this);};return h;})(m.Vfa);b.LFa=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.YLa=void 0;c=a(2);g=a(177);l=a(149);t=(function(m){function d(f,h,k){k=m.call(this,k) || this;k.Nwa=f;k.JU=h;return k;}c.__extends(d,m);d.prototype.V9=function(){return this.Sc === g.qn.pending?this.Nwa:l.Tk.Eza;};d.prototype.tg=function(){this.JU();};return d;})(g.Vfa);b.YLa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.kLa=void 0;t=a(2);c=t.__importDefault(a(28));g=t.__importDefault(a(388));a=(function(){function l(m){this.G3=[];this.G3[c.default.Wa.Pb]=new g.default(m,c.default.Wa.Pb);this.G3[c.default.Wa.Yb]=new g.default(m,c.default.Wa.Yb);}l.prototype.ttb=function(m,d,f){this.G3[m].add(d,f);};l.prototype.npa=function(){var m;m=[];this.G3.forEach(function(d){var f;if(d){f=d.get();f && 0 < f.length && f.forEach(function(h){m.push(h);});d.reset(!0);}});return m;};l.prototype.DFb=function(m){var d;d=this.npa();m.strmsel=d;return 0 < d.length;};return l;})();b.kLa=a;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QZa=void 0;b.QZa=function(a){var c,g,l;c=Math.floor(1E6 * Math.random());g=a.aqa;l=a.G7;a=0 === c % a.bqa && 0 < l.length;return {js:a,DV:a && 0 === c % g};};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JUa=void 0;b.JUa=function(a,c){var g;if(!Array.isArray(a.GUa))return a;g=a.Yt?a.Yt():Object.create(a);a.GUa.forEach(function(l){if(void 0 !== l.SRb && c.duration >= l.SRb && l.config)for(var m in l.config){g[m]=l.config[m];}});return g;};},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.UCa=void 0;c=a(2).__importStar(a(10));g=a(127);l=a(4);t=(function(){var e60;e60=2;for(;e60 !== 7;){switch(e60){case 2:m.prototype.bob=function(d,f){var g60,h,k;g60=2;for(;g60 !== 8;){switch(g60){case 2:var D5Z="createD";D5Z+="lTrack";D5Z+="sS";D5Z+="tart";(h=this,k=this.Kn.J);0 === this.pG && this.Kn.Gb.km(D5Z);this.pG+=d.length;d=d.map(function(n){var h60;h60=2;for(;h60 !== 1;){switch(h60){case 2:return h.jOa(n,f.K,f.Vw(),h.Kn.hm,k);break;}}});g.Hp.instance.tg();return d;break;}}};m.prototype.nob=function(){var i60,d,f;i60=2;for(;i60 !== 3;){switch(i60){case 2:(d=this,f=[]);this.Kn.Bb.Nf.forEach(function(h){var j60;j60=2;for(;j60 !== 5;){switch(j60){case 2:c.ka(h.Kf) || f.push(h.Kf);h.Kf=void 0;j60=5;break;}}});this.Kn.mT && (f.push(this.Kn.mT),this.Kn.mT=void 0);i60=4;break;case 4:f.forEach(function(h){var k60;k60=2;for(;k60 !== 5;){switch(k60){case 2:h.Uo || --d.pG;g.Hp.instance.WM(h);k60=5;break;}}});i60=3;break;}}};m.prototype.kpb=function(){var l60;l60=2;for(;l60 !== 1;){switch(l60){case 2:this.pG=0;l60=1;break;case 4:this.pG=9;l60=8;break;l60=1;break;}}};e60=4;break;case 9:m.prototype.mob=function(d){var s60,f;s60=2;for(;s60 !== 9;){switch(s60){case 3:d.Kf=void 0;s60=9;break;case 2:d=this.Kn.Bb.Nf[d];f=d.Kf;f.Uo || --this.pG;g.Hp.instance.WM(f);s60=3;break;case 12:d.Kf=-5;s60=5;break;s60=9;break;}}};return m;break;case 4:m.prototype.eQa=function(d,f){var m60,h,k;m60=2;for(;m60 !== 5;){switch(m60){case 2:(h=this.Kn.Bb.Nf[d],k=h.Kf);k && (k=f.fM(d,k),this.mob(d),h.Kf=this.jOa(d,f.K,f.Vw(),this.Kn.hm,this.Kn.J),f.zwa(k));m60=5;break;}}};m.prototype.jOa=function(d,f,h,k,n){var n60,p,q;n60=2;for(;n60 !== 7;){switch(n60){case 2:var U8Z="tra";U8Z+="nsportre";U8Z+="port";var m8Z="e";m8Z+="rr";m8Z+="o";m8Z+="r";var R8Z="net";R8Z+="w";R8Z+="orkf";R8Z+="aili";R8Z+="ng";var r5Z="c";r5Z+="rea";r5Z+="t";r5Z+="ed";(p=this,q=g.Hp.instance.au(d,f,!0,h,k,n));q.ah.on(q,r5Z,function(){var o60;o60=2;for(;o60 !== 5;){switch(o60){case 2:var V8Z="c";V8Z+="rea";V8Z+="teDlTra";V8Z+="ck";V8Z+="sEnd";--p.pG;0 === p.pG && p.Kn.Gb.km(V8Z);o60=5;break;}}});q.ah.on(q,R8Z,function(){var p60,u;p60=2;for(;p60 !== 8;){switch(p60){case 1:p60=q.h6?5:8;break;case 2:var h8Z="repor";h8Z+="tNetworkFa";h8Z+="iling: ";n.vi && p.mi.Mm(h8Z + q);p60=1;break;case 5:l.assert(q.NV);u=p.Kn.He.P;u.vq.Ns(q.NV,void 0,q.wh,q.Aj);u.bn();p60=8;break;}}});q.ah.on(q,m8Z,function(){var q60;q60=2;for(;q60 !== 5;){switch(q60){case 2:var u8Z="N";u8Z+="FErr_MC_St";u8Z+="r";u8Z+="eamingFailu";u8Z+="re";var P8Z="Downloa";P8Z+="dTr";P8Z+="ack f";P8Z+="atal error";var J8Z="D";J8Z+="ownloadTrack ";J8Z+="fa";J8Z+="ta";J8Z+="l error";n.vi && p.mi.Mm(J8Z);p.Kn.Xp(P8Z,void 0,u8Z,q.wh,0,q.Aj);q60=5;break;}}});q.on(U8Z,function(u){var r60;r60=2;for(;r60 !== 1;){switch(r60){case 2:var F8Z="tr";F8Z+="ansportre";F8Z+="port";p.Kn.emit(F8Z,u);r60=1;break;case 4:p.Kn.emit("",u);r60=6;break;r60=1;break;}}});q.Eb();return q;break;}}};e60=9;break;}}function m(d,f,h){var f60;f60=2;for(;f60 !== 3;){switch(f60){case 4:var f8Z="1SIY";f8Z+="bZ";f8Z+="rN";f8Z+="J";f8Z+="Cp9";f8Z;f60=3;break;case 2:this.Kn=d;f60=1;break;case 1:this.I=f;this.mi=h;f60=4;break;}}}})();b.UCa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.lAa=void 0;c=a(16);g=a(9);t=(function(){function l(m){this.SG=m;this.state=new g.Gr(c.ta.Ih);this.vj={};}l.prototype.getState=function(){return this.state.value;};l.prototype.Me=function(m){this.state.set(m);};l.prototype.addListener=function(m){this.state.addListener(m);};l.prototype.paused=function(){this.state.value === c.ta.Lc && this.state.set(c.ta.ph);};l.prototype.y2a=function(){return this.state.value === c.ta.Ih;};l.prototype.Kq=function(){return "function" === typeof this.SG.Kq?this.SG.Kq():this.state.value === c.ta.Lc;};l.prototype.ug=function(){return this.state.value === c.ta.xd || this.state.value === c.ta.Rf;};l.prototype.z2a=function(){return this.state.value === c.ta.lj;};l.prototype.A2a=function(){return this.state.value === c.ta.Ir;};l.prototype.Ue=function(){return this.SG.Ue();};l.prototype.ap=function(){return "function" === typeof this.SG.ap?this.SG.ap():1;};l.prototype.pW=function(){return this.SG.pW();};l.prototype.GZ=function(m,d){this.vj[m]=d;};l.prototype.ip=function(m){return ! !this.vj[m.K] || m.Wi;};return l;})();b.lAa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fKa=void 0;t=(function(){function a(c,g,l){var m;this.mub=c;this.Kha=g;this.hob=l;this.Wga=(m={},m[0]=!1,m[1]=!1,m);this.reset();}a.prototype.vz=function(){var c,g;c=this;g=this.mub.filter(function(l){return !l.Z1a(c.hob());});0 === g.length && this.uha?this.gqb():g.forEach(function(l){c.Wga[l.mediaType] || (l.once("requestAppended",function(){c.Wga[l.mediaType]=!1;c.vz();}),c.Wga[l.mediaType]=!0);});};a.prototype.reset=function(){var c;c=this;this.uha=!1;new Promise(function(g){c.gqb=g;}).then(function(){return c.Kha();});};a.prototype.zQb=function(){this.uha || (this.uha=!0,this.vz());};return a;})();b.fKa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Yza=void 0;c=a(20);t=(function(){function g(l){this.console=l;this.jG=[];this.zC=[];c.ia && this.console.trace("Received pending adoption " + this.Vl.length);}Object.defineProperties(g.prototype,{length:{get:function(){return this.jG.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Vl:{get:function(){return this.zC;},enumerable:!1,configurable:!0}});g.prototype.wQb=function(l){l=this.zC.indexOf(l);-1 !== l && (c.ia && this.console.trace("Marking request attached"),this.jG[l].U1a=!0,this.Kcb(l));};g.prototype.xQb=function(l){l=this.zC.indexOf(l);-1 !== l && (c.ia && this.console.trace("Marking request completed"),this.jG[l].uA=!0,this.Kcb(l));};g.prototype.CYb=function(l){var m,d;m=this;d=[];this.zC.forEach(function(f,h){l(f) && d.unshift(h);});d.forEach(function(f){m.zC.splice(f,1);m.jG.splice(f,1);});};g.prototype.push=function(l){this.zC.push(l);this.jG.push({U1a:!1,uA:!1});c.ia && this.console.trace("Pushing pending request, " + this.length + " total");};g.prototype.GD=function(){return 0 < this.length;};g.prototype.Kcb=function(l){var m;m=this.jG[l];m.U1a && m.uA && (m=this.zC[l],this.zC.splice(l,1),this.jG.splice(l,1),c.ia && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.ia && this.console.trace("Removing last request, contentEndPts: " + m.Mc));};return g;})();b.Yza=t;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u;function c(r,w){return (1 === r.mediaType?0:1) - (1 === w.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.$Fa=b.Yea=b.Llb=void 0;g=a(2);l=a(82);m=a(150);d=a(391);f=a(16);h=a(9);k=a(4);n=a(21);p=g.__importDefault(a(6));t=a(103);q=a(43);u=(function(r){function w(){return null !== r && r.apply(this,arguments) || this;}g.__extends(w,r);return w;})(a(245).KK);b.Llb=u;b.Yea={Ydb:c};a=(function(r){function w(v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q){var L;A=r.call(this) || this;A.zfc=v;A.J=x;A.P=z;A.Zp=B;A.Y6=E;A.Bt=G;A.iT=C;A.Uk=K;A.Dy=M;A.events=I;A.lw=Q;A.ee=new u([]);A.gm=!1;A.rT=0;A.SS=A.bY.bind(A);A.I=h.Oq(p.default,y,B.id && B.id.length?"{" + B.id + "}":"");A.Vk=A.I.error.bind(A.I);A.Tb=A.I.warn.bind(A.I);A.An=A.I.trace.bind(A.I);A.us=null !== F && void 0 !== F?F:n.R.Oa(A.H.$);A.Tha=null === H || void 0 === H?void 0:H.ye;null === (L=A.Dy) || void 0 === L?void 0:L.addListener(A.SS);z && D && A.LMb(z,D);return A;}g.__extends(w,r);Object.defineProperties(w.prototype,{Nh:{get:function(){return this.gm;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{H:{get:function(){return this.Zp;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Zw:{get:function(){return this.ee.every(function(v){return v.Zw;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Il:{get:function(){return this.ee.every(function(v){return v.Il;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Nt:{get:function(){return this.Eq().reduce(function(v,x){return v + x.Nt;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ah:{get:function(){return this.Eq().every(function(v){return v.Ah();});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{fg:{get:function(){return this.Eq().map(function(v){return v.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{W:{get:function(){return this.It.W;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Za:{get:function(){return this.It.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{tb:{get:function(){return this.It.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Gj:{get:function(){return this.Ge.dg(this.W).pc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ws:{get:function(){return this.us.add(this.Ge);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Is:{get:function(){return this.H.Mf.add(this.Ge);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{rE:{get:function(){return this.H.$i.add(this.Ge);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{sN:{get:function(){var v,x;x=null === (v=this.H.H.Aq) || void 0 === v?void 0:v[0];return x && this.Yc?n.R.Oa(Math.max(0,x[0] - this.Yc.U - this.H.Mf.U)):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{K8:{get:function(){return this.ee.reduce(function(v,x){return v && x.ye?n.R.max(v,x.ye):x.ye?x.ye:v;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Aqa:{get:function(){return this.ws.U;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Fe:{get:function(){return this.Ge.U;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{qr:{get:function(){return this.It.qr;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ge:{get:function(){return this.Bt;},enumerable:!1,configurable:!0}});w.prototype.Nx=function(v){this.Ge.equal(v) || (this.Bt=v);};w.prototype.dA=function(v){return (v=this.kb(v))?Promise.resolve(v.dA()):Promise.resolve(m.AsyncIterator.CZa());};w.prototype.nH=function(){this.Eq().forEach(function(v){return v.nH();});};w.prototype.reset=function(){this.ee.forEach(function(v){v.reset();});};w.prototype.sf=function(){var v,x;this.gm || (this.gm=!0,null === (v=this.CC) || void 0 === v?void 0:v.fd(),this.CC=void 0,this.ee.forEach(function(y){y.sf();}),null === (x=this.Dy) || void 0 === x?void 0:x.removeListener(this.SS),this.events.removeAllListeners());};w.prototype.VW=function(){return !0;};w.prototype.kb=function(v){return this.ee.get(v);};w.prototype.Eq=function(v){void 0 === v && (v=c);return this.ee.items.slice().sort(v);};w.prototype.b7=function(){return this.ee.items;};w.prototype.IN=function(v){return this.kb(v);};w.prototype.Qh=function(v,x){v=this.kb(v);if(!v)return 0;if(x)return v.Sm;x=v.nq;if(void 0 === x)return 0;v=this.iT();return x - v;};w.prototype.uD=function(){var v,x,y,z,A,B,E;E=null === (v=this.kb(0)) || void 0 === v?void 0:v.Hn;v=null === (x=this.kb(1)) || void 0 === x?void 0:x.Hn;return {qo:null !== (y=null === v || void 0 === v?void 0:v.U) && void 0 !== y?y:0,Ur:null !== (z=null === E || void 0 === E?void 0:E.U) && void 0 !== z?z:0,kt:null !== (A=null === v || void 0 === v?void 0:v.fa) && void 0 !== A?A:0,QC:null !== (B=null === E || void 0 === E?void 0:E.fa) && void 0 !== B?B:0};};w.prototype.yW=function(v){var x;return (v=this.kb(v))?null !== (x=v.nq) && void 0 !== x?x:0:0;};w.prototype.bn=function(v){v=this.kb(v);k.assert(v);return v.bn();};w.prototype.bY=function(v){f.hp(v.newValue) && this.Qr();};w.prototype.YG=function(v){return this.ee.every(function(x){return x.YG(v);});};w.prototype.O6=function(v){var x,y;return null !== (y=null === (x=this.ee.get(v)) || void 0 === x?void 0:x.uVa) && void 0 !== y?y:n.R.eb;};w.prototype.Ek=function(v){this.gm || (v.W3 || k.assert(!v.dd),this.Qr(),this.Il && this.Qha());this.pu(v);};w.prototype.EI=function(v){this.J.Q5 && this.Qr(!0);this.vH(v);};w.prototype.DI=function(v){this.J.Q5 && this.Qr(!0);this.sD(v);};w.prototype.zxa=function(v){var x;return f.hp((null === (x=this.Dy) || void 0 === x?void 0:x.value) || f.Kc.mj) && (!v || this.rT + this.J.z9 < p.default.time.ga());};w.prototype.Qr=function(v){void 0 === v && (v=!1);this.zxa(v) && (this.rT=p.default.time.ga(),v={type:"checkBufferingProgress"},this.events.emit(v.type,v));};w.prototype.Qha=function(){var v;v={type:"branchStreamingComplete"};this.events.emit(v.type,v);};w.prototype.LMb=function(v,x){var y,z;y=this;this.qxa(v);k.assert(v.S === this.H.S || isNaN(v.S) && isNaN(this.H.S));this.dha=[];v=null !== x && void 0 !== x?x:null === (z=this.Y6) || void 0 === z?void 0:z.call(this,v);k.assert(v,"tracks need to exist upon initialization");v.forEach(function(A){var B;A=A.mediaType;B=new d.Bea(A,y.J,y.I);y.dha[A]=B;});};w.prototype.toJSON=function(){var v,x;return {segment:this.H.id,branchOffset:this.Fe,viewableId:this.Zp.S,contentStartPts:null === (v=this.Yc) || void 0 === v?void 0:v.U,contentEndPts:null === (x=this.Sd) || void 0 === x?void 0:x.U};};return w;})(l.xv);b.$Fa=a;q.Bf(t.Tx,a);q.Bf(t.TB,a);},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.LWa=b.BNb=b.c2a=b.H_a=void 0;c=a(25);b.H_a=function(g,l){if((g=g.ib.H.zx) && 0 !== g.length)return c.he(g,function(m){return m.Yc.U <= l && l < m.Sd.U;});};b.c2a=function(g,l){return l.index === g.je.index?!0:(g=g.ib.H.zx) && 0 !== g.length?g.some(function(m){m=m.Yc;return l.Yc.qO(m) && m.lessThan(l.Sd);}):!1;};b.BNb=function(g,l){return l.index === g.Jf.index?!0:(g=g.ib.H.zx) && 0 !== g.length?g.some(function(m){m=m.Sd;return l.Yc.lessThan(m) && m.qO(l.Sd);}):!1;};b.LWa=function(g,l,m,d){var f,h,k,n,p,q,u,r;g=null === (f=l.ya) || void 0 === f?void 0:f.start;f=null === (h=l.ya) || void 0 === h?void 0:h.end;r=h=!1;if((null === d || void 0 === d?0:d.MNb) || (null === d || void 0 === d || !d.zNb) && l.Yc.lessThan(m.Yc)){if(u=l.una(m.Yc.U))(u=(null !== (n=null === (k=l.ya) || void 0 === k?void 0:k.start) && void 0 !== n?n:0) + u.tl,g=Math.max(null !== g && void 0 !== g?g:0,u));u=m.Yc.U;h=!0;}if((null === d || void 0 === d || !d.FNb) && l.Sd.greaterThan(m.Sd)){if(u=l.una(m.Sd.U))(u=(null !== (q=null === (p=l.ya) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + u.tl,f=Math.min(null !== f && void 0 !== f?f:Infinity,u),l.LO=l.index);u=m.Sd.U;r=!0;}if(void 0 !== g || void 0 !== f)(l.Lk({start:g,end:f}),void 0 !== u && (!l.rv || u > l.rv) && l.SP(u));l.W_b(m.region,h,r);};},function(t,b,a){var c,g,l,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.FJa=void 0;t=a(2);c=t.__importDefault(a(28));g=c.default.Wa;l=c.default.vy;m=a(9);d=a(21);f=t.__importDefault(a(145));h=t.__importDefault(a(6));a=(function(){function k(n,p,q,u,r){this.rx=n;this.fu=p;this.J=q;this.I=u;this.Ug=r;}k.prototype.QSb=function(n){n={type:"requestCreated",request:n};m.Ya(this.fu,n.type,n);};k.prototype.PSb=function(n){var p;p=n.Ta.ib.H;n={type:"updateStreamingPts",mediaType:n.mediaType,position:{ha:p.id,offset:d.R.Oa(this.rx.gla - p.$)},completePlayerStreamingTimestamp:d.R.Oa(this.rx.nq),trackIndex:n.stream.track.PC};m.Ya(this.fu,n.type,n);};k.prototype.c6a=function(n,p,q){var u,r;u=this.Ug;r=this.rx.Kj.Pf;r.iab(n);1 === u && this.J.xaa && (void 0 === r.Era?r.kab(h.default.time.ga()):h.default.time.ga() - r.Era > this.J.xaa && (n.bitrate !== r.h3a && (h.default.storage.set("vb",n.bitrate),r.b0b(n.bitrate)),r.kab(h.default.time.ga())));r.gX && r.gX === n || (this.rx.Kj.z1b(p,r.gX,n),r.R_b(n),p=0,n.Hb && n.Hb.confidence && n.Hb.Ua && (p=n.Hb.Ua.Ba),r={ha:this.rx.ib.H.id,offset:d.R.Oa(q - this.rx.ib.H.$)},n={type:"streamSelected",nativetime:h.default.time.ga(),mediaType:u,streamId:n.id,manifestIndex:n.P.Qb,trackIndex:n.track.PC,streamIndex:n.Of,movieTime:q,bandwidth:p,longtermBw:p,rebuffer:0,position:r,stream:n},m.Ya(this.fu,n.type,n));};k.prototype.LSb=function(n,p,q){var u,r,w,v,x;u=p.P;r=u.Jm;w=this.rx.Kj.Pf;v=u.hOb(p);x=v.nra;v=v.iOb;q && p.Pc && !w.hX?(v=l.Qv,p.Ts=l.name[v],this.b6a(n,p.Pc,p.Ts,p.location,p.bitrate),w.hX=p.Pc):!q && p.Pc && p.Pc !== w.hX && (v=v?void 0 === w.hX?l.Qv:r.KP === l.Nea?l.lmb:l.Gca:l.kmb,p.Ts=l.name[v],this.b6a(n,p.Pc,p.Ts,p.location,p.bitrate),w.hX=p.Pc);w.oO || (v={type:"logdata",target:"startplay",fields:{}},this.Ug === g.Yb?v.fields.alocid=p.location:this.Ug === g.Pb && (v.fields.locid=p.location),m.Ya(this.fu,v.type,v));q && p.location && !w.oO?(v=l.Qv,p.Ts=l.name[v],this.$5a(u.Qb,n,p.location,p.Ura,p.Pc,p.pJ,p.Ts,p.tx),w.oO=p.location):!q && p.location && p.location !== w.oO && (v=x?void 0 === w.oO?l.Qv:r.KP === l.Nea?l.Gjb:l.Gca:l.Fjb,p.Ts=l.name[v],this.$5a(u.Qb,n,p.location,p.Ura,p.Pc,p.pJ,p.Ts,p.tx),p.tx=void 0,w.oO=p.location);this.J.av || (p.c3a=p.location,p.f3a=p.Pc);};k.prototype.e$=function(n){n={type:"requestsPruned",requests:n};m.Ya(this.fu,n.type,n);};k.prototype.b6a=function(n,p,q,u,r){var w,v;w=this.Ug === g.Pb?"video":"audio";v=f.default.instance().get();n={type:"serverSwitch",segmentId:n,mediatype:w,server:p,reason:q,location:u,bitrate:r,confidence:v.confidence};v.confidence && (n.throughput=v.Ua.Ba);this.rx.Kj.Pf.hX && (n.oldserver=p);m.Ya(this.fu,n.type,n);};k.prototype.$5a=function(n,p,q,u,r,w,v,x){m.Ya(this.fu,"locationSelected",{type:"locationSelected",manifestIndex:n,segmentId:p,mediatype:this.Ug === g.Pb?"video":"audio",location:q,locationlv:u,serverid:r,servername:w,selreason:v,seldetail:x});};k.prototype.Lha=function(n,p){p={type:"lastSegmentPts",segmentId:n.id,pts:Math.floor(p)};n.vE || m.Ya(this.fu,p.type,p);};k.prototype.Mm=function(n){n={type:"managerdebugevent",message:"@" + h.default.time.ga() + ", " + n};m.Ya(this.fu,n.type,n);};k.prototype.zGb=function(n){m.Ya(this.fu,"transportReport",n);};return k;})();b.FJa=a;},function(t,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.pLa=void 0;c=a(2);g=c.__importStar(a(10));l=a(246);m=a(838);d=a(841);t=a(82);f=a(4);h=a(248);k=a(9);n=a(67);a=(function(p){function q(u,r,w,v,x,y,z,A){var B;B=p.call(this,u) || this;B.J=r;B.I=w;B.xn=v;B.Yd=x;B.Ug=y;B.Roa=A;B.zdb=!0;B.Ee=new h.p0(B.I);B.Vk=B.I.error.bind(B.I);B.Tb=B.I.warn.bind(B.I);B.An=B.I.trace.bind(B.I);B.lQa();B.Wp=null === z || void 0 === z?void 0:z.bH(function(){return B.UYb();},"pruner");return B;}c.__extends(q,p);Object.defineProperties(q.prototype,{console:{get:function(){return this.I;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mediaType:{get:function(){return this.Ug;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ib:{get:function(){return this.Yd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Fx:{get:function(){return 0 < this.lB;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Txa:{get:function(){return !this.xL;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lB:{get:function(){return this.Ha.length;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ft:{get:function(){return this.Ha.ft;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pXb:{get:function(){return this.Ee.count;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{SU:{get:function(){return this.Ha.complete.ye;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nq:{get:function(){return this.Ha.oUa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gla:{get:function(){return this.Ha.nUa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{PE:{get:function(){return this.Ha.ye;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Sm:{get:function(){return void 0 === this.Ha.zd?0:this.Ha.oe - this.Ha.zd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Hn:{get:function(){return {fa:this.Ha.eD,U:Math.max(this.Ha.oUa - this.Ha.zd,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{FM:{get:function(){return this.Ha.Yxb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{eD:{get:function(){return this.Ha.eD;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Nt:{get:function(){return this.Ha.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nE:{get:function(){return this.Tob();},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pua:{get:function(){return this.Ha.AMb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{z7:{get:function(){return this.Ha.length > this.Ha.ft;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{bq:{get:function(){return this.Ha.bq;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{KOb:{get:function(){return this.ePa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{s7a:{get:function(){return this.Ha.length - this.jm;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Y:{get:function(){return this.Ha;},enumerable:!1,configurable:!0}});q.prototype.sf=function(){var u,r;r=this.Ha;setTimeout(function(){r.forEach(function(w){w.abort();w.fd();});},1);this.lQa();this.Ee.U5();null === (u=this.Wp) || void 0 === u?void 0:u.Jb();};q.prototype.reset=function(){this.sf();this.Ee.P9a();};q.prototype.close=function(){this.Ee.U5();};q.prototype.M$a=function(){this.SNa=!0;};q.prototype.Zoa=function(){return {endMarked:void 0 !== this.Ee.count,queueCount:this.Ee.count,isComplete:this.Ee.uA,itemCount:this.Ee.pUa,continuousEndPts:this.Ee.Bp().reduce(function(u,r){return r && !r.done && (r=r.value,100 > Math.abs(r.Qna - u) || -1 === u)?r.AGb:u;},-1),sentinelItemCount:this.Ee.Bp().filter(function(u){return u && u.done;}).length,processedCount:this.Ee.xCb,rc:this.lB};};q.prototype.gBb=function(u,r,w){var v;v=this.J;f.assert(!u.header);u=v.pEb && 1 === this.mediaType?new d.oAa(w,v,r.track,u,this.Ha,this.I):l.l0.create(w,v,r.track,u,this.Ha,!1,this.I,this.Roa);u.Eb(this);this.bz(u);return u;};q.prototype.Mtb=function(u){var r;u.Eb(this);u.W3=!0;this.bz(u);r=Promise.resolve();u.complete?(this.Aga(u),this.xn.c6a(u.stream,u.zd,u.gd),r=this.Cba(),this.pu(u)):(u.active && this.vN(u),u.Qva && this.sD(u));return r;};q.prototype.bz=function(u){var r,w;this.Ha.Iq(u);(null === (r=this.Wp) || void 0 === r?void 0:r.state) === n.qn.complete && (null === (w=this.Wp) || void 0 === w?void 0:w.Tm());this.Aga(u);u.Mq && (this.xL=!1);};q.prototype.dA=function(){return this.Ee.kHb();};q.prototype.Eka=function(){this.jm === this.Ha.length && this.SNa && this.Ee.U5();};q.prototype.Cba=function(){var u,r,w,v,A;u=this;w=Promise.resolve();v=this.Yd;if(!v.VW(this.Ug) || this.jm === this.Ha.length)return w;for(var x=this.J.QQb,y=0,z=[];this.jm < this.Ha.length;){if(r=this.Ha.get(this.jm)){if(this.Ha.iYa && this.Ha.iYa.Za < r.Za)break;if(!r.Cu())break;z.push(r);++y;g.Fa(this.zd) || (this.zd=r.zd);}++this.jm;if(!g.ka(x) && y >= x)break;}if(z.length){void 0 !== this.Ee.count && (this.Vk("tryToAtach() but requestQueue has sentinel:",this.Ee.count),this.Ee.P9a());if(this.zdb)w=Promise.all(z.map(function(B){return u.Ee.enqueue(B).then(function(){return u.w7(B);});}));else for(r=0;r < z.length;r++){try{A=z[r];v.FJb(this.mediaType).TCb(A);this.w7(A);}catch(B){return (this.jm-=z.length - r,Promise.reject(B));}}this.Eka();}return w;};q.prototype.w7=function(u){this.ePa=u;this.sYa(u);};q.prototype.aU=function(u,r){var w,v,x;w=this;v=[];if(0 !== this.Ha.ft){x=this.Ha.l7a;this.Ha.T3b.Nxa(function(y){if(!g.ka(u) && y.P.Qb !== u || y.Mq || x > y.zd)return !0;y.q6 && (w.xL=!1);if(!w.r2(y))return (w.Tb("request abort failed:",y.toString()),!0);v.unshift(y);});this.aia();v.length && "function" === typeof r && r(v);}};q.prototype.jaa=function(){this.aia();};q.prototype.UYb=function(){var u,r,w,v,x,y;return c.__generator(this,function(z){switch(z.label){case 0:z.label=1;case 1:if(!this.Ha.length)return [3,3];u=this.Ha.get(0);r=k.R.Oa(null !== (y=null === (x=this.J.WP) || void 0 === x?void 0:x.U) && void 0 !== y?y:0);w=r.add(u.ye);return [4,n.Tk.FQ(w)];case 2:z.xc();if(1 >= this.Ha.complete.length && !u.Mq)return [3,3];f.assert(u === this.Ha.get(0));u.hf || this.r2(u);v=this.Ha.splice(0,1);0 < this.jm && this.jm--;this.xn.e$(v);return [3,1];case 3:return [2];}});};q.prototype.OY=function(u,r){var w,v,x,y,z,A;w=this;v=this.J;x=!1;y=0;z=this.Ha.some(function(B){if(u < B.oe)return (x && w.Aga(B),!0);++y;B.hf || (w.Tb("pruning unappended request:",B && B.toString()),v.vi && w.xn.Mm("prune pts:" + u + " unappended request:" + (B && B.toString())),B.q6 && (w.xL=!1,x=!0),w.r2(B,r) || w.Vk("MediaRequest.abort error:",B.wh));});if(0 < y){A=this.Ha.splice(0,y);this.jm-=Math.min(y,this.jm);this.xn.e$(A);}return z;};q.prototype.j7=function(u){var r,w,v;void 0 === u && (u={TU:null,gP:null,zd:null,Dj:0,hh:0,Y:[]});r=this.J;w=this.Ha;g.Fa(w.zd) && (null === u.zd || w.zd < u.zd) && (u.zd=w.zd);v=this.nq;void 0 !== v && null === u.TU && (u.TU=v);v=w.oe;void 0 !== v && (null === u.gP || v > u.gP) && (u.gP=v);u.Dj+=w.Dj;u.hh=r.Hxa?u.hh + w.U8a:u.hh + w.eD;Array.prototype.unshift.apply(u.Y,w.xc.Y);return u;};q.prototype.ku=function(u){if(this.Ha.length && (u=this.Ha.VXa(u)))return u;};q.prototype.Jsb=function(u){var r,w,v;w=u.Sd;u=u.gd;f.assert(w,"expected contentEndTimestamp to be defined");f.assert(void 0 !== u,"expected contentStartPts to be defined");u=this.Ha.pna(u);v=this.Ha.get(u);f.assert(v && void 0 !== v.gd && void 0 !== v.Mc && void 0 !== v.index,"expected existing request to be defined with properties");if(null === (r=v.Sd) || void 0 === r?0:r.equal(w))return (this.UQa(u),[v.Mc,v.index + 1]);this.UQa(u - 1);return [v.gd,v.index];};q.prototype.bn=function(){var u,r;u=this;r=[];this.Ha.forEach(function(w){var v;v=w.iza();1 === v?r.push(w):2 === v && u.ib.P.eh("swapUrl failure");});return r;};q.prototype.DI=function(u){u.TD && u.Cu() && this.Cba();this.sD(u);};q.prototype.Ek=function(u){var r,w;u.TD && !u.hf && this.Cba();(null === (r=this.Wp) || void 0 === r?void 0:r.state) === n.qn.complete && (null === (w=this.Wp) || void 0 === w?void 0:w.Tm());this.pu(u);};q.prototype.lja=function(u){var r,w,v;r=1 === this.Ug?"v_":"a_";w=this.Ha;v=w.rN(u);u=0 <= v?w.get(v):void 0;return (w=0 <= v && v + 1 < w.length?w.get(v + 1):void 0) && u?u.oe !== w.zd?r + "rg":u.complete && w.complete?r + "uk":r + "fd":r + "rm";};q.prototype.Tob=function(){return this.Ha.bq + this.Ha.ft;};q.prototype.lQa=function(){var u,r,w;r=void 0 !== this.Ha && 0 < this.Ha.length;w=this.Ha;this.Ha=new m.jAa(this.I,this);this.jm=0;this.Ee.clear();this.ePa=void 0;this.zd=null;null === (u=this.Wp) || void 0 === u?void 0:u.Tm();this.SNa=this.xL=!1;r && (u=w.map(function(v){return v;}),this.xn.e$(u));};q.prototype.Aga=function(u){this.xL?u.q6=!1:this.xL=u.q6=!0;};q.prototype.UQa=function(u){var r;for(u+=1;u < this.lB;u++){r=this.Ha.get(u);f.assert(r,"expected request to exist");this.Ee.remove(r);r.aborted || (this.r2(r),r.fd());}this.aia();};q.prototype.r2=function(u,r){if(!u.abort())return !1;"function" === typeof r && r(u);return !0;};q.prototype.aia=function(){var u,r,w,v;u=this;if(0 !== this.Ha.length){w=[];v=0;this.Ha.hXb(function(x,y){y < u.jm && ++v;w.push(x);});this.jm-=v;null === (r=this.Wp) || void 0 === r?void 0:r.Tm();this.xn.e$(w);}};return q;})(t.xv);b.pLa=a;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.gAa=void 0;c=a(2);g=a(118);l=c.__importDefault(a(28));t=c.__importDefault(a(6));m=a(9);d=a(4);f=a(247);h=a(102);k=a(239);n=a(119);p=t.default.Cr;a=(function(q){function u(r,w,v,x,y,z,A,B){var E;x=q.call(this,r,v,x,z,A,B) || this;y=h.gn.prototype.toString.call(x) + (y?"(cache)":"");B={offset:v.offset,fa:v.kta + 8,responseType:0};x.push(new k.UQ(r,w,y + "(moof)",B,x,z,A));B={offset:v.offset + B.fa,fa:v.fa - B.fa,responseType:p.Rc && !p.Rc.pZ.BS?0:1};if(x.mediaType === l.default.Wa.Pb && x.ya){if(0 < x.ya.start){E=x.$Xa(x.ya.start);E && (B.offset=v.offset + E,B.fa=v.fa - E);}x.ya.end < x.tD && (E=x.$Xa(x.ya.end)) && (B.fa-=v.fa - E);}x.push(new k.UQ(r,w,y + "(mdat)",B,x,z,A));return x;}c.__extends(u,q);u.prototype.Cu=function(){return !this.hf && ! !this.Ha.length && this.Ha.every(function(r){return r.Cu();});};u.prototype.GG=function(r){var w,v,x,y,z,A,B,E;if(this.hf)return {status:n.Oj.Zx};if(!this.Cu())return {status:n.Oj.Qf};w=!1;v=this.Ha[0].response;x=v.slice(0,v.byteLength - 8);y=new DataView(v);v=y.getUint32(x.byteLength);d.assert("mdat" === g.Co(y.getUint32(x.byteLength + 4)));z=this.ya && 0 < this.ya.start;y=this.ya && this.ya.end < this.tD;if(this.ya && (z || y)){if(z)(A=new g.Er(this.I,this.stream,x),B=A.bwa(this.ya.start,this.W));if(y && !1 !== B){A=new g.Er(this.I,this.stream,B?m.fD(B.Od):x);E=A.fwa(this.ya.end - this.ya.start,this.W);}if(x=y?E:B)(w=r.appendBuffer(m.fD(x.Od),m.Nq(this)),B && (v-=B.hj),E && (v-=E.hj));A=this.dia();}else w=r.appendBuffer(x,m.Nq(this));w && (w=r.appendBuffer(g.GA(v - 8),m.Nq(this))) && (w=r.appendBuffer(this.Ha[1].response,m.Nq(this)));this.hf=w;this.lYb();return {status:w?n.Oj.Zx:n.Oj.Qf,zk:A};};u.prototype.toString=function(){return "ID: " + this.wi() + ":" + q.prototype.toString.call(this);};return u;})(f.bF);b.gAa=a;},function(t,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.dfb=void 0;t=a(2);c=a(118);g=t.__importDefault(a(28));l=a(9);a(4);m=t.__importDefault(a(6));d=a(119);a=(function(){var t60;t60=2;for(;t60 !== 3;){switch(t60){case 2:f.prototype.GG=function(h,k,n){var v60,p;v60=2;for(;v60 !== 10;){switch(v60){case 4:v60=!this.ya || this.Mq || this.Yw?3:11;break;case 9:p=this.uob(h);h=p.aa;v60=7;break;case 1:v60=this.hf?5:4;break;case 5:return {status:d.Oj.Qf};break;case 2:k=this.jf;v60=1;break;case 3:v60=this.ya && (this.Mq || this.Yw)?9:12;break;case 6:this.hf=!0;this.aZ();return {status:h?d.Oj.Zx:d.Oj.Qf,zk:p};break;case 7:p=p.zk;v60=6;break;case 12:h=this.mediaType === g.default.Wa.Yb && k.BE && n && this.rv && n.oe >= this.oe && this.Mc - this.rv < this.rv - this.gd?!0:h.appendBuffer(this.response,l.Nq(this));v60=6;break;case 11:(p=this.tob(h),h=p.aa,p=p.zk);v60=6;break;}}};f.prototype.tob=function(h){var w60,k,n,p,q;w60=2;for(;w60 !== 12;){switch(w60){case 2:(k={HE:0},n=!1,p=!0);this.ya && (k.HE=this.ya.Exa);0 >= this.duration && (p=!1,n=!0);w60=4;break;case 3:w60=this.ya && (0 < this.ya.start || k.HE)?9:14;break;case 9:var x8Z="media|";x8Z+="a";x8Z+="sej";x8Z+="s";var w8Z="M";w8Z+="P";w8Z+="4";w60=(n=new c.Er(new m.default.Console(w8Z,x8Z),this.stream,this.response),n=n.bwa(this.ya.start,this.JO,k.HE))?8:6;break;case 8:n=h.appendBuffer(l.fD(n.Od),l.Nq(this));w60=7;break;case 7:q=this.dia(k);w60=13;break;case 6:var o8Z=" f";o8Z+="r";o8Z+="o";o8Z+="m [";o8Z+=" ";var z8Z="AseFragmentMediaRequ";z8Z+="est: Fragment edit";z8Z+=" failed for ";(this.I.error(z8Z + this.toString() + o8Z + this.wN + "-" + this.z6 + "]"),n=!0);w60=13;break;case 14:n=h.appendBuffer(this.response,l.Nq(this));w60=13;break;case 13:return {aa:n,zk:q};break;case 4:w60=p?3:13;break;}}};f.prototype.uob=function(h){var x60,k,n,p;x60=2;for(;x60 !== 12;){switch(x60){case 2:n={HE:0};(k=!0,0 === this.duration) && (k=!1);x60=5;break;case 4:x60=this.ya && this.ya.end < this.tD || n.HE?3:14;break;case 5:x60=k?4:13;break;case 3:x60=(k=new c.Er(this.I,this.stream,this.response),k=k.fwa(this.ya && this.ya.end,this.W,n.HE))?9:6;break;case 9:h=h.appendBuffer(l.fD(k.Od),l.Nq(this));x60=8;break;case 8:p=this.dia(n);x60=7;break;case 7:return {aa:h,zk:p};break;case 14:h=h.appendBuffer(this.response,l.Nq(this));x60=7;break;case 6:var S8Z=" f";S8Z+="r";S8Z+="om ";S8Z+="[";S8Z+=" ";var e8Z="AseFragmentMediaRequest:";e8Z+=" Fra";e8Z+="gmen";e8Z+="t edit failed for ";(this.I.error(e8Z + this.toString() + S8Z + this.wN + "-" + this.z6 + "]"),h=!0);x60=7;break;case 13:h=!0;x60=7;break;}}};t60=4;break;case 4:return f;break;}}function f(){var u60;u60=2;for(;u60 !== 1;){switch(u60){case 2:var s8Z="1SIYbZr";s8Z+="NJ";s8Z+="Cp9";s8Z;u60=1;break;}}}})();b.dfb=a;b.default=new a();},function(t,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jAa=void 0;c=a(2);a(4);g=a(839);t=a(43);l=a(840);m=a(103);d=a(82);f=a(237);a=(function(h){function k(n,p){var q,u;q=this;u=[new l.k0(n),new l.k0(n),new l.k0(n)];q=h.call(this,u,function(r){return r.complete?q.empty || r.Za <= q.Zxb?0:1:r.active?1:2;}) || this;u=c.__read(u,3);q.Mi=u[0];q.cf=u[1];q.Kt=u[2];q.Rr=0;q.lga=0;q.I=n;q.df=p;return q;}c.__extends(k,h);Object.defineProperties(k.prototype,{fa:{get:function(){return this.Mi.fa + this.cf.fa + this.Kt.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{T3b:{get:function(){return this.Kt;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.cf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.Mi;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{U8a:{get:function(){return this.Rr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{eD:{get:function(){return this.Mi.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Dj:{get:function(){return this.Mi.fa + this.cf.fa - this.Rr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{U3b:{get:function(){return this.Kt.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{first:{get:function(){return this.LGb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kp:{get:function(){return this.fvb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ema:{get:function(){return !this.Mi.empty || this.Kt.empty || this.cf.empty?this.first:this.cf.Za < this.Kt.Za?this.cf.first:this.Kt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{k3a:{get:function(){return this.Kt.empty || this.cf.empty?this.kp:this.cf.tb < this.Kt.tb?this.Kt.kp:this.cf.kp;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{iYa:{get:function(){return this.Kt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{W:{get:function(){return this.first && this.first.W;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Za:{get:function(){return this.Ema && this.Ema.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{tb:{get:function(){return this.k3a && this.k3a.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Gj:{get:function(){return this.first && this.first.Gj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Yxb:{get:function(){return this.Mi.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{AMb:{get:function(){return this.Mc - this.nUa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Zxb:{get:function(){return this.Mi.empty?this.Za:this.Mi.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nUa:{get:function(){return this.Mi.empty?this.gd:this.Mi.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oUa:{get:function(){return this.Mi.empty?this.zd:this.Mi.oe;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{l7a:{get:function(){return this.cf.oe || this.Mi.oe;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ft:{get:function(){return this.Kt.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bq:{get:function(){return this.cf.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qUa:{get:function(){return this.Mi.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xc:{get:function(){return this.Mi.concat(this.cf);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{cs:{get:function(){return this.Gg;},enumerable:!1,configurable:!0}});k.prototype.eL=function(n){var p;n.aborted?++this.lga:this.Rr+=n.bytesReceived || 0;if(this.empty)this.Gg=new f.UB(this,{});else if(n.Za !== this.tb)if(n.Za > this.Gg.tb)this.Gg.FZ(this.Gg.tb);else if(n.Za < this.Za || n.Za === this.Gg.tb){p=n.tb;this.qGb(function(q,u){return q.Za - u.Za;},function(q){p=q.Za === p?q.tb:p;});p === Math.max(this.tb,n.tb)?this.Gg.Tka():this.Gg.FZ(p);}n.qxa(this);};k.prototype.Sy=function(n){n.aborted?--this.lga:this.Rr-=n.bytesReceived;this.empty?this.Gg=void 0:n.Za !== this.tb && n.tb <= this.Gg.tb && n.Za > this.Gg.Za && this.Gg.FZ(n.Za);n.RTa();};k.prototype.push=function(n){this.eL(n);return h.prototype.push.call(this,n);};k.prototype.shift=function(){var n;n=h.prototype.shift.call(this);n && this.Sy(n);return n;};k.prototype.pop=function(){var n;n=h.prototype.pop.call(this);n && this.Sy(n);return n;};k.prototype.unshift=function(n){this.eL(n);return h.prototype.unshift.call(this,n);};k.prototype.Iq=function(n){this.eL(n);h.prototype.Iq.call(this,n);};k.prototype.remove=function(n){if(!h.prototype.remove.call(this,n))return !1;this.Sy(n);return !0;};k.prototype.splice=function(n,p){for(var q=[],u=2;u < arguments.length;u++){q[u - 2]=arguments[u];}u=h.prototype.splice.apply(this,c.__spread([n,p],q));q.forEach(this.eL.bind(this));u.forEach(this.Sy.bind(this));return u;};k.prototype.hXb=function(n){var p;p=this;this.reduce(function(q,u,r){u.aborted && (n && n(u,r,p),0 === q.length || q[0].end !== r?q.unshift({start:r,end:r + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};k.prototype.pna=function(n){return this.WXa(function(p){return p.pna(n);});};k.prototype.rN=function(n){return this.WXa(function(p){return p.rN(n);});};k.prototype.VXa=function(n){n=this.rN(n);return -1 !== n?this.get(n):void 0;};k.prototype.c_b=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};k.prototype.WA=function(n){this.move(n);this.vN(n);};k.prototype.EI=function(n){this.Rr+=n.bytesReceived - n.Ks;this.vH(n);};k.prototype.Ek=function(n){for(this.Rr+=n.bytesReceived - n.Ks;this.cf.first && this.cf.first.complete && (this.Mi.empty?this.cf.first === this.Ema:this.cf.first.Za === this.Mi.tb);){this.t0b();}this.pu(n);};k.prototype.iY=function(n,p,q){this.Rr-=n.bytesReceived;++this.lga;this.uN(n,p,q);};return k;})(g.RBa);b.jAa=a;t.Bf(d.xv,a,!1);t.Bf(m.Tx,a);t.Bf(m.TB,a);},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.RBa=void 0;c=a(2);a(4);t=(function(){function g(l,m){this.ud=l;this.qL=m;this.My();}Object.defineProperties(g.prototype,{length:{get:function(){return this.rf;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.rf;},enumerable:!1,configurable:!0}});g.prototype.LGb=function(){return this.Sg && this.Sg.get(0);};g.prototype.fvb=function(){return this.kL && this.kL.get(this.kL.length - 1);};g.prototype.get=function(l){0 > l && (l+=this.length);for(var m=0;m < this.ud.length;++m){if(this.oi[m + 1] > l)return this.ud[m].get(l - this.oi[m]);}};g.prototype.push=function(l){this.ud[this.qL(l)].push(l);this.My();return this.rf;};g.prototype.shift=function(){var l;if(this.Sg){l=this.Sg.shift();this.My();return l;}};g.prototype.pop=function(){var l;if(this.kL){l=this.kL.pop();this.My();return l;}};g.prototype.unshift=function(l){this.ud[this.qL(l)].unshift(l);this.My();return this.rf;};g.prototype.Iq=function(l){var m;m=this.qL(l);this.ud[m].Iq(l);this.My();};g.prototype.remove=function(l){var m;m=this.ud.some(function(d){return d.remove(l);});m && this.My();return m;};g.prototype.splice=function(l,m){var q,u,r,w;for(var d,f=[],h=2;h < arguments.length;h++){f[h - 2]=arguments[h];}h=[];for(var k,n=l + Math.max(0,m),p=0;p < this.ud.length;++p){q=this.ud[p];u=this.oi[p];r=this.oi[p + 1];if(l < r){w=l - u;u=Math.min(n - u,q.length);void 0 === k && 0 < w && u < q.length?Array.prototype.push.apply(h,q.splice.apply(q,c.__spread([w,u - w],f))):(Array.prototype.push.apply(h,q.splice(w,u - w)),void 0 === k && (k=0 < p && 0 === w?p - 1:p));l=r;if(l >= n)break;}}if(f.length && void 0 !== k){for(n=this.qL(f[0]);0 < k && n < k && this.ud[k].empty;){--k;}for(;f.length && n === k;){this.ud[k].push(f.shift());if(!f.length)break;n=this.qL(f[0]);}for(;f.length && ++k < this.ud.length && this.ud[k].empty;){for(;f.length && n === k;){this.ud[k].push(f.shift());if(!f.length)break;n=this.qL(f[0]);}}f.length && (d=this.ud[k]).splice.apply(d,c.__spread([0,0],f));}this.My();return h;};g.prototype.find=function(l){var m,d;m=this;return this.ud.some(function(f,h){d=f.find(m.NC(l,h));return void 0 !== d;})?d:void 0;};g.prototype.findIndex=function(l){var d;for(var m=0;m < this.ud.length;++m){d=this.ud[m].findIndex(this.NC(l,m));if(-1 !== d)return d + this.oi[m];}return -1;};g.prototype.indexOf=function(l){var d;for(var m=0;m < this.ud.length;++m){d=this.ud[m].indexOf(l);if(-1 !== d)return d + this.oi[m];}return -1;};g.prototype.map=function(l){var m,d;m=this;d=this.ud.map(function(f,h){return f.map(m.NC(l,h));});return Array.prototype.concat.apply([],d);};g.prototype.reduce=function(l,m){var d;d=this;return this.ud.reduce(function(f,h,k){return h.reduce(d.Esb(l,k),f);},m);};g.prototype.forEach=function(l){var m;m=this;this.ud.forEach(function(d,f){d.forEach(m.NC(l,f));});};g.prototype.r6=function(l){for(var m=this.ud.length - 1;0 <= m;--m){this.ud[m].r6(this.NC(l,m));}};g.prototype.some=function(l){var m;m=this;return this.ud.some(function(d,f){return d.some(m.NC(l,f));});};g.prototype.Nxa=function(l){for(var m=this.ud.length - 1;0 <= m;--m){if(this.ud[m].Nxa(this.NC(l,m)))return !0;}return !1;};g.prototype.every=function(l){var m;m=this;return this.ud.every(function(d,f){return d.every(m.NC(l,f));});};g.prototype.qGb=function(l,m){var n,p;function d(q){return q.reduce(function(u,r,w,v){return void 0 === r?u:void 0 === u?w:0 > l(r,v[u])?w:u;},void 0);}for(var f=this,h=this.ud.map(function(){return 0;}),k=this.ud.filter(function(q){return q.empty;}).length;k < this.ud.length;){n=h.map(function(q,u){return q < f.ud[u].length?f.ud[u].get(q):void 0;});p=d(n);m(n[p],this.oi[p] + h[p],this);++h[p];h[p] === this.ud[p].length && ++k;}};g.prototype.move=function(l){return this.remove(l)?(this.Iq(l),!0):!1;};g.prototype.t0b=function(){var l;if(this.ud[1].length){l=this.ud[1].shift();this.ud[0].push(l);this.My();}};g.prototype.WXa=function(l){for(var m=-1,d=0;d < this.ud.length;++d){if((m=l(this.ud[d]),-1 !== m)){m+=this.oi[d];break;}}return m;};g.prototype.toJSON=function(){return this.map(function(l){return l.toJSON();});};g.prototype.My=function(){var m;this.rf=0;this.oi=[0];this.kL=this.Sg=void 0;for(var l=0;l < this.ud.length;++l){m=this.ud[l];this.rf+=m.length;this.oi.push(this.oi[this.oi.length - 1] + m.length);!this.Sg && m.length && (this.Sg=m);m.length && (this.kL=m);}};g.prototype.NC=function(l,m){var d,f;d=this;f=this.oi[m];return function(h,k){return l(h,f + k,d);};};g.prototype.Esb=function(l,m){var d,f;d=this;f=this.oi[m];return function(h,k,n){return l(h,k,f + n,d);};};return g;})();b.RBa=t;},function(t,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.k0=void 0;c=a(2);g=a(4);t=a(43);l=a(237);a=a(103);m=(function(){function d(f,h){this.Qa=[];this.Gg=void 0;this.Qc=0;this.I=f;h && h.length && (Array.isArray(h)?(this.Qa=h.slice(),this.NS(0,this.Qa.length)):h instanceof d && (this.Qa=h.Qa.slice(),this.NS(0,this.Qa.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Qa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Qa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Qa[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kp:{get:function(){return this.Qa[this.Qa.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Za:{get:function(){return this.first && this.first.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{tb:{get:function(){return this.kp && this.kp.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{cs:{get:function(){return this.Gg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fa:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{W:{get:function(){return this.first && this.first.W;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Gj:{get:function(){return this.first && this.first.Gj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Y:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});d.prototype.Vub=function(){var f;if(0 === this.Qa.length)(g.assert(void 0 === this.Gg),g.assert(0 === this.Qc));else {g.assert(this.Gg instanceof l.UB);g.assert("number" === typeof this.Qc);g.assert(void 0 !== this.cs && this.cs.Za === this.Za);f=this.Qa.reduce(function(h,k,n){return 0 === n || k.Za === h?k.tb:h;},0);g.assert(this.cs.tb === f);g.assert(this.Qa.reduce(function(h,k,n){return 0 === n || k.Za === h?k.tb:h;},0) === this.cs.tb);g.assert(this.Qa.reduce(function(h,k){return h + k.fa;},0) === this.Qc);}};d.prototype.get=function(f){0 > f && (f+=this.Qa.length);return this.Qa[f];};d.prototype.push=function(f){this.Qa.push(f);this.NS(this.Qa.length - 1);return this.length;};d.prototype.unshift=function(f){this.Qa.unshift(f);this.NS(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Qa.length)return (this.cia(this.Qa.length - 1),this.Qa.pop());};d.prototype.shift=function(){if(0 !== this.Qa.length)return (this.cia(0),this.Qa.shift());};d.prototype.splice=function(f,h){for(var k,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > f && (f+=this.Qa.length);0 > f && (f=0);f > this.Qa.length && (f=this.Qa.length);if(void 0 === h || 0 > h)h=0;h=Math.min(h,this.Qa.length - f);0 < h && this.cia(f,f + h);p=(k=this.Qa).splice.apply(k,c.__spread([f,h],n));0 < n.length && this.NS(f,f + arguments.length - 2);return p;};d.prototype.slice=function(f,h){void 0 === f && (f=0);void 0 === h && (h=this.Qa.length);0 > f && (f+=this.Qa.length);if(f >= this.Qa.length)return new d(this.I);h > this.Qa.length && (h=this.Qa.length);0 > h && (h+=this.Qa.length);return new d(this.I,this.Qa.slice(f,h));};d.prototype.Iq=function(f){if(0 === this.Qa.length || f.Za >= this.tb)this.push(f);else if(f.tb <= this.Za)this.unshift(f);else {for(var h=0,k=this.Qa.length - 1,n;h < k - 1;){n=Math.floor((k + h) / 2);g.assert(n !== k && n !== h);f.Za >= this.Qa[n].tb?h=n:k=n;}g.assert(h !== k);g.assert(this.Qa[h].tb <= f.Za && this.Qa[k].Za >= f.tb);this.splice(k,0,f);}};d.prototype.remove=function(f){f=this.Qa.indexOf(f);if(0 > f)return !1;this.splice(f,1);return !0;};d.prototype.concat=function(){for(var f=[],h=0;h < arguments.length;h++){f[h]=arguments[h];}f=f.map(function(k){return k.Qa;});return new d(this.I,Array.prototype.concat.apply(this.Qa,f));};d.prototype.forEach=function(f){var h;h=this;this.Qa.forEach(function(k,n){return f(k,n,h);});};d.prototype.some=function(f){var h;h=this;return this.Qa.some(function(k,n){return f(k,n,h);});};d.prototype.every=function(f){var h;h=this;return this.Qa.every(function(k,n){return f(k,n,h);});};d.prototype.map=function(f){var h;h=this;return this.Qa.map(function(k,n){return f(k,n,h);});};d.prototype.reduce=function(f,h){var k;k=this;return this.Qa.reduce(function(n,p,q){return f(n,p,q,k);},h);};d.prototype.indexOf=function(f){return this.Qa.indexOf(f);};d.prototype.find=function(f){var h,k;h=this;return this.Qa.some(function(n,p){k=p;return f(n,p,h);})?this.Qa[k]:void 0;};d.prototype.findIndex=function(f){var h,k;h=this;return this.Qa.some(function(n,p){k=p;return f(n,p,h);})?k:-1;};d.prototype.filter=function(f){var h;h=this;return new d(this.I,this.Qa.filter(function(k,n){return f(k,n,h);}));};d.prototype.r6=function(f){for(var h=this.Qa.length - 1;0 <= h;--h){f(this.Qa[h],h,this);}};d.prototype.Nxa=function(f){for(var h=this.Qa.length - 1;0 <= h;--h){if(f(this.Qa[h],h,this))return !0;}return !1;};d.prototype.pna=function(f){if(this.empty || f < this.gd || f >= this.Mc)return -1;for(var h=0,k=this.Qa.length - 1,n;k > h;){n=Math.floor((k + h) / 2);if(f >= this.Qa[n].gd && f < this.Qa[n].Mc){k=n;break;}f < this.Qa[n].Mc?k=n - 1:h=n + 1;}return k;};d.prototype.rN=function(f){if(this.empty || f < this.zd || f >= this.oe)return -1;for(var h=0,k=this.Qa.length - 1,n;k > h;){n=Math.floor((k + h) / 2);if(f >= this.Qa[n].zd && f < this.Qa[n].oe){k=n;break;}f < this.Qa[n].oe?k=n - 1:h=n + 1;}return k;};d.prototype.VXa=function(f){f=this.rN(f);return 0 <= f?this.Qa[f]:void 0;};d.prototype.N3=function(f){var h;h=this.Qa[f].tb;for(f+=1;f < this.Qa.length && h === this.Qa[f].Za;++f){h=this.Qa[f].tb;}f < this.Qa.length?void 0 === this.Gg?this.Gg=new l.UB(this,{tb:h}):this.Gg.FZ(h):void 0 === this.Gg?this.Gg=new l.UB(this,{}):this.Gg.Tka();};d.prototype.eL=function(f,h){for(var k=f;k < h;++k){this.Qc+=this.Qa[k].fa;}void 0 === this.Gg || 0 === f?this.N3(0):this.Gg.tb === this.tb?this.N3(f - 1):this.Qa[f].Za === this.Gg.tb && this.N3(f);};d.prototype.Sy=function(f,h){var k;if(0 === f)(this.Gg=void 0,h < this.length && this.N3(h));else {k=this.Gg;k.tb > this.Qa[f - 1].tb && (h < this.length?k.FZ(this.Qa[f - 1].tb):k.Tka());}for(;f < h;++f){this.Qc-=this.Qa[f].fa;}};d.prototype.NS=function(f,h){void 0 === h && (h=f + 1);this.eL(f,h);};d.prototype.cia=function(f,h){void 0 === h && (h=f + 1);this.Sy(f,h);};return d;})();b.k0=m;t.Bf(a.Tx,m);t.Bf(a.TB,m);},function(t,b,a){var c,g,l,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.oAa=void 0;c=a(2);g=a(118);l=a(4);c.__importDefault(a(6));m=a(9);d=a(247);f=a(102);h=a(239);k=a(119);t=(function(n){function p(q,u,r,w,v,x){u=n.call(this,q,w,v,u,x) || this;u.rob=r;u.S2=p.jF.INIT;u.Kac=w.offset;u.wha=f.gn.prototype.toString.call(u) + " multiple";u.Qqb=w.fa;u.XL(q.url,w.offset,8,0);return u;}c.__extends(p,n);Object.defineProperties(p.prototype,{data:{get:function(){return this.un;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fa:{get:function(){return this.Qqb;},enumerable:!1,configurable:!0}});p.prototype.Ek=function(q){var u,r;this.un=this.S2 === p.jF.INIT?q.response:m.fD(this.un,q.response);q.aZ();switch(this.S2){case p.jF.INIT:(u=new DataView(this.un),r=u.getUint32(0));u=u.getUint32(4);g.Co(u);this.XL(q.url,q.offset + q.fa,r,0);d.bF.prototype.Ek.call(this,q);this.S2=p.jF.PGa;break;case p.jF.PGa:u=new DataView(this.un);r=u.getUint32(this.cOa - 8);u=u.getUint32(this.cOa - 4);g.Co(u);this.XL(q.url,q.offset + q.fa,r - 8,0);this.S2=p.jF.KGa;d.bF.prototype.Ek.call(this,q);break;case p.jF.KGa:d.bF.prototype.Ek.call(this,q);break;default:l.assert(!1);}};p.prototype.GG=function(q){if(this.hf)return {status:k.Oj.Zx};if(!this.Cu())return {status:k.Oj.Qf};this.hf=q.appendBuffer(this.un,m.Nq(this));return {status:this.hf?k.Oj.Zx:k.Oj.Qf};};p.prototype.XL=function(q,u,r,w){q=new h.UQ(this.stream,this.rob,this.wha + " (" + this.Ha.length + ")",{K:this.K,mediaType:this.mediaType,Sa:this.Sa,bitrate:this.bitrate,offset:u,fa:r,url:q,location:this.location,re:this.re,responseType:w},this,this.jf,this.I);this.push(q);this.cOa=this.Ha.reduce(function(v,x){return v + x.fa;},0);};p.jF={INIT:0,PGa:1,KGa:2,name:["INIT","MOOF","MDAT"]};return p;})(d.bF);b.oAa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.eMa=void 0;c=a(387);g=a(21);t=(function(){function l(m,d){this.fh=m;this.console=d;this.hG=Infinity;this.XS=this.q3=0;this.KQa=!1;}l.prototype.OYb=function(){this.KQa=!0;};l.prototype.TFb=function(m,d,f,h,k){var n;if(this.fh){n=m.Y;if(n){if(1 === f)(f=n.On(Math.ceil(this.fh * m.va.NI),void 0,!0),n=m.il(f),m=n.kH.Nl(m.va),n.Lk({start:0,end:this.fh - f * m}),this.hG=this.fh);else {void 0 !== h.Vab?(d=h.Vab,f=d * m.va.U):(f=c.Moa(h,k) + Math.ceil(h.Oub * m.va.NI),g.R.Oa(f).Nl(m.va),f=d + f,d=Math.ceil(f / m.va.NI));f=n.On(f,void 0,!0);for(k=h=0;k < f;++k){n=m.il(k);h+=n.kH.Nl(m.va);}h=d - h;n=m.il(f);n.Lk({end:h});this.hG=d;}n.l4a();return n;}}};l.prototype.BMb=function(m){this.XS+=m.F9a;this.console.warn("StallAtFrameCount, adding frames: " + m.F9a,"total frames: " + this.XS,"needed frames: " + this.hG);};l.prototype.lLb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.q3,"needed: " + this.hG);return this.q3 >= this.hG;};l.prototype.kLb=function(){return this.XS >= this.hG;};l.prototype.DMb=function(m,d){this.q3+=this.wD(m,d);};l.prototype.MEb=function(m,d,f){m.F9a=this.wD(d,f);};l.prototype.wD=function(m,d){return m.kH.Nl(d.va);};l.prototype.vz=function(){if(!this.kLb())return !1;if(this.KQa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.XS + " >= " + this.hG);return !0;};return l;})();b.eMa=t;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Qfa=void 0;t=a(2);c=t.__importStar(a(10));g=t.__importDefault(a(28));l=t.__importDefault(a(6));m=a(25);d=a(16);f=a(244);h=a(844);k=new l.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.ta[d.ta.Ih],d.ta[d.ta.xd],d.ta[d.ta.Rf],d.ta[d.ta.Lc],d.ta[d.ta.ph],"checkBuffering"];p={first:a(846),random:a(847),optimized:a(179).default,roundrobin:a(851),selectaudio:a(396),selectaudioadaptive:a(852),"default":a(179).default,lowest:a(853),highest:a(854),throughputthreshold:a(855),replay:a(856).default,checkdefault:a(858),testscript:a(859)};q={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){var y60;y60=2;function u(r,w,v,x){var z60,y;z60=2;for(;z60 !== 6;){switch(z60){case 4:var n8Z="1SIY";n8Z+="b";n8Z+="Z";n8Z+="rNJCp9";this.Pf=v;n8Z;r=r || this.J.cya;z60=8;break;case 8:this.Cg=n.reduce(function(z,A){var A60;A60=2;for(;A60 !== 5;){switch(A60){case 2:z[A]=((p[r] || p[q[A]])[A] || p[q[A]][A]).bind(y);return z;break;}}},{});x && (this.U6a=new h.IIa(w));z60=6;break;case 2:y=this;this.LP=r;this.J=w;z60=4;break;}}}for(;y60 !== 6;){switch(y60){case 2:u.prototype.Xwa=function(r,w,v,x,y,z){var o9R=a000;var B60,L,I,D,F,G,C,H,J,Q,C60,O,K,M,A,B,E;B60=2;for(;B60 !== 90;){switch(B60){case 22:L=this.Cg[d.ta[r.state]].call(this,F,r,w,G,x,! !y,C);L.We=r.state;B60=35;break;case 16:c.ka(G) && (G=this.Pf.e3a);void 0 !== x && this.$ua(w,! !r.ys,r.state,r.buffer,x);r.state === d.ta.Ih && c.Fa(G) && (r.state=d.ta.xd);B60=26;break;case 42:o9R.O3Z(8);var z31=o9R.Q3Z(6,6,1,12);y=L.Le - z31;B60=41;break;case 43:B60=!x?42:38;break;case 40:C=w[y];B60=39;break;case 30:o9R.O3Z(0);var A31=o9R.Q3Z(10,9);y=L.Le + A31;B60=29;break;case 71:this.Pf.V$a(g.default.a1.Ih);B60=22;break;case 36:return null;break;case 68:B60=C60 === d.ta.ph?22:67;break;case 54:var a8Z="p";a8Z+="l";a8Z+="ay";a8Z+="i";a8Z+="ng";var C8Z="mi";C8Z+="n_frag";C8Z+="me";C8Z+="n";C8Z+="t_vmaf";void 0 === L.h5a?this.Pf.IZ(L.Le):this.Pf.IZ(L.h5a);x=w[L.Le];L.reason && (x.Ts=L.reason,C8Z !== L.reason && (x.Wwa=L.Au,x.qA=L.qA,x.fp=L.fp,x.gp=L.gp));this.U6a && (L.ox=this.U6a.vJb({kq:v.lk - v.zc,cQb:w[0],Dh:x,G4b:w[L.Le + 1] || x,b3b:w[w.length - 1],We:r.state,playbackRate:r.playbackRate,Bd:r.Bd}));c.Fa(G) && x.bitrate < w[G].bitrate && (this.xha=v.Cc);r.state !== d.ta.Lc && r.state !== d.ta.ph?(w=f.N$(r.state),z=this.vz(r.buffer,w,r.playbackRate,x,z),(L.Te=z.complete)?L.x4=z.reason:(L.Te=!1,L.dJ=z.dJ,L.aE=z.aE,L.progress=z.progress)):(L.Te=!0,L.x4=a8Z);B60=48;break;case 12:B60=0 < M?11:16;break;case 63:L.jWb=O;B60=62;break;case 69:B60=C60 === d.ta.Lc?22:68;break;case 62:L.Cc=v.Cc;z=r && r.Bd;w=x.Y;L.mk=w && void 0 !== z && !isNaN(z) && 0 <= z && z < w.length?w.Ij(z):v.Cc;B60=58;break;case 39:C.Y && C.Y.length || (x=!0,L.Lz.push(C.Sa));B60=38;break;case 11:I=K[M - 1].Sa;G=m.gq(w,function(N){var E60;E60=2;for(;E60 !== 1;){switch(E60){case 2:return N.Sa === I;break;}}});B60=20;break;case 45:B60=J && z && 0 < z.length?65:62;break;case 5:(D=l.default.time.ga(),F=this.J,G=this.Pf.e3a,C=!1);c.Fa(G) && r.state === d.ta.Ih && (this.Pf.IZ(void 0),G=void 0);B60=3;break;case 14:this.Pf.IZ(G);B60=13;break;case 23:this.Pf.V$a(g.default.a1.Ih);B60=22;break;case 70:B60=C60 === d.ta.Rf?71:69;break;case 72:B60=C60 === d.ta.xd?71:70;break;case 34:y=v.lk - v.zc;C=void 0;x=!1;B60=31;break;case 58:L.hWb=x.Ua || 0;L.iTb=J && J.Ua && J.Ua.Ba || 0;L.ika=v.lk - v.zc;L.eTa=v.hh;L.OVb=null !== (E=null === (B=null === (A=l.default.Ccc) || void 0 === A?void 0:A.call(l.default)) || void 0 === B?void 0:B[1 === r.mediaType?1:0]) && void 0 !== E?E:-1;L.bq=r && r.bq;L.Kx=D;B60=74;break;case 41:B60=0 <= y?40:38;break;case 66:var W8Z="Strea";W8Z+="m selector called with in";W8Z+="valid ";W8Z+="player state ";return (k.error(W8Z + d.ta[r.state]),null);break;case 31:B60=F.Mab && y > F.JX?30:38;break;case 48:B60=r.eN?47:73;break;case 28:C=w[y];B60=44;break;case 38:x || (L.Lz=void 0);B60=37;break;case 74:L.jQ=l.default.time.ga();B60=73;break;case 8:H=this.Pf.Gu.bitrate;G=m.gq(w,function(N){var D60;D60=2;for(;D60 !== 1;){switch(D60){case 2:return N.bitrate > H;break;}}});G=0 < G?G - 1:0 === G?0:w.length - 1;B60=14;break;case 47:J=x.Hb;z=F.jQa;B60=45;break;case 73:return L;break;case 19:Q=K[M - 1].bitrate;G=m.gq(w,function(N){var F60;F60=2;for(;F60 !== 1;){switch(F60){case 2:return N.bitrate > Q;break;}}});B60=17;break;case 17:G=0 < G?G - 1:0 === G?0:w.length - 1;B60=16;break;case 25:C60=r.state;B60=C60 === d.ta.Ih?24:72;break;case 26:r.state !== d.ta.Ih && void 0 === G && (r.state=d.ta.Ih);B60=25;break;case 65:O=[];z.forEach(function(N){var H60,P;H60=2;for(;H60 !== 4;){switch(H60){case 2:P=N.stat;P=(N=J[N.filter]) && N[P];O.push(isNaN(P)?-1:P);H60=4;break;}}});B60=63;break;case 13:(K=v.Y,M=K.length);B60=12;break;case 2:v=null === r || void 0 === r?void 0:r.buffer;B60=5;break;case 35:B60=L.Dh && (L.Lz=[],w.forEach(function(N,P){var G60;G60=2;for(;G60 !== 4;){switch(G60){case 2:N === L.Dh && (L.Le=P);(!F.YDb || N.Y && N.Y.length) && !N.bba || L.Lz.push(N.Sa);N.bba=!1;G60=4;break;}}}),!L.Lz.length)?34:37;break;case 24:this.Bha=this.xha=void 0;B60=23;break;case 20:B60=!(0 <= G)?19:16;break;case 37:B60=!L || null === L.Le?36:54;break;case 29:B60=y < w.length?28:43;break;case 9:B60=c.ka(G) && r.state === d.ta.Lc && (C=!0,void 0 !== this.Pf.Gu)?8:13;break;case 3:c.Fa(G) && G >= w.length && (this.Pf.IZ(void 0),G=void 0);B60=9;break;case 67:B60=66;break;case 44:C.Y && C.Y.length || (x=!0,L.Lz.push(C.Sa));B60=43;break;}}};y60=1;break;case 1:u.prototype.vz=function(r,w,v,x,y){var I60;I60=2;for(;I60 !== 1;){switch(I60){case 2:return this.Cg.checkBuffering.call(this,r,w,v,x,y,this.J);break;}}};u.prototype.z1b=function(r,w,v){var J60;J60=2;for(;J60 !== 1;){switch(J60){case 2:c.ka(w)?this.xha=this.Bha=void 0:w.bitrate < v.bitrate && (this.Bha=r);J60=1;break;}}};u.prototype.$ua=function(r,w,v,x,y){var K60,z,A;K60=2;for(;K60 !== 5;){switch(K60){case 2:this.r6(r,function(B){var L60;L60=2;for(;L60 !== 1;){switch(L60){case 2:B.Fu && B.Hb && B.Hb.confidence?(z !== B.Hb && (z=B.Hb,w && B.Hb && (B.Hb.ys=!0),A=Math.floor(y(B.Hb,x,v,B.track.P.dx[0])),A=0 === A?1:A),B.Ua=A):B.Ua=void 0;L60=1;break;}}});K60=5;break;}}};u.prototype.r6=function(r,w){var M60,v;M60=2;for(;M60 !== 3;){switch(M60){case 2:v=r.length - 1;M60=1;break;case 6:w(r[v],v,r);M60=7;break;M60=4;break;case 1:M60=0 <= v?5:3;break;case 4:--v;M60=1;break;case 5:w(r[v],v,r);M60=4;break;case 14:++v;M60=7;break;M60=1;break;}}};y60=9;break;case 9:Object.defineProperties(u.prototype,{H8:{get:function(){var N60;N60=2;for(;N60 !== 1;){switch(N60){case 4:return this.xha;break;N60=1;break;case 2:return this.xha;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Jra:{get:function(){var O60;O60=2;for(;O60 !== 1;){switch(O60){case 2:return this.Bha;break;}}},enumerable:!1,configurable:!0}});return u;break;}}})();b.Qfa=a;},function(t,b,a){var n,p,q;function c(u){return f(u.Dh);}function g(u,r){var w,v,x,y;if(!r || "object" !== typeof r)return 0;w=u.Dh;v=u.G4b;x=u.b3b;y={selectedFragmentBitrate:d(w,u.Bd) * u.playbackRate,upswitchFragmentBitrate:d(v,u.Bd) * u.playbackRate,maxFragmentBitrate:d(x,u.Bd) * u.playbackRate,selectedPeakBitrate:(w.MA || h(w) || 0) * u.playbackRate,upswitchPeakBitrate:(v.MA || h(v) || 0) * u.playbackRate,maxPeakBitrate:(x.MA || h(x) || 0) * u.playbackRate,selectedAverageBitrate:h(w) * u.playbackRate,upswitchAverageBitrate:h(v) * u.playbackRate,maxAverageBitrate:f(w) * u.playbackRate,bufferLevelMs:u.kq,observedThroughput:k(u.Dh) || 0,predictedThroughput:(null === w || void 0 === w?void 0:w.Ua) || 0};u=r.offset || 0;return Object.keys(y).reduce(function(z,A){return z + (r[A] || 0) * y[A];},u);}function l(u,r){var w;w=u.filter(function(v){return 0 < v.Qua.filter(function(x){return x === r;}).length;});0 === w.length && (w=u.filter(function(v){return 0 === v.Qua.length;}));return w.sort(function(v,x){return v.kq - x.kq;});}function m(u,r){var w,v,x,y;w=l(r.hYb,u.We);if(0 === w.length)return 0;v=-1;for(r=0;r < w.length;r++){if(w[r].kq >= u.kq){v=r;break;}}if(-1 === v)return g(u,w[w.length - 1].ala);if(0 === v)return g(u,w[0].ala);x=w[v - 1].kq;r=g(u,w[v - 1].ala);y=w[v].kq;w=g(u,w[v].ala);u=Math.min((u.kq - x) / (y - x),1);return (1 - u) * r + u * w;}function d(u,r){var w;return (void 0 !== r?null === (w=u.Y) || void 0 === w?void 0:w.get(r).OSa:void 0) || u.MA || 0;}function f(u){var r,w;w=null === (r=null === u || void 0 === u?void 0:u.P) || void 0 === r?void 0:r.dx;return w?w[u.mediaType] || 0:0;}function h(u){return (null === u || void 0 === u?void 0:u.bitrate) || 0;}function k(u){var r,w,v,x;x=u.Hb;return x && x.confidence >= n.zea.ey && (null === (r=x.Ua) || void 0 === r?0:r.Ba)?(null === (v=null === (w=u.Hb) || void 0 === w?void 0:w.Ua) || void 0 === v?void 0:v.Ba) || 0:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.rJb=b.IIa=void 0;t=a(2).__importDefault(a(6));n=a(16);p=a(845);new t.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");q={maxStreamBitrate:c,"static":function(u,r){return r.o1b;},none:function(){return 0;},regression:m,epsGreedy:function(u,r){return Math.min(m(u,r) || 0,k(u.Dh));},"default":c};a=(function(){var P60;P60=2;function u(r){var Q60;Q60=2;for(;Q60 !== 4;){switch(Q60){case 2:var X8Z="1S";X8Z+="IYbZ";X8Z+="r";X8Z+="NJCp9";this.J=r;X8Z;Q60=5;break;case 5:var H8Z="d";H8Z+="ef";H8Z+="au";H8Z+="l";H8Z+="t";this.algorithm=(q[this.J.FUb] || q[H8Z]).bind(this);Q60=4;break;}}}for(;P60 !== 4;){switch(P60){case 2:u.prototype.soa=function(r,w,v){var R60,x;R60=2;for(;R60 !== 8;){switch(R60){case 1:R60=!v?5:4;break;case 5:return 0;break;case 2:R60=1;break;case 4:a000.q3Z(9);w=Math.ceil(a000.Q3Z(v,w));r=(this.J.XTa.qdc || 0) * ((null === (x=r.cQb) || void 0 === x?void 0:x.MA) || 0);return w < r?0:w;break;}}};u.prototype.vJb=function(r){var S60,w,v,x;S60=2;for(;S60 !== 6;){switch(S60){case 5:return w;break;case 1:S60=!v?5:4;break;case 9:return w;break;case 2:(w=new p.Qea({XP:0,HM:0,qP:0}),v=this.J.XTa);S60=1;break;case 3:S60=x && r.Bd && 0 === r.Bd % x || r.kq < v.qI?9:8;break;case 8:w=this.algorithm(r,this.J);return new p.Qea({XP:this.soa(r,w,v.F8a[0]),qP:this.soa(r,w,v.F8a[2]),HM:this.soa(r,w,v.F8a[1])});break;case 4:x=this.J.S3b;S60=3;break;}}};return u;break;}}})();b.IIa=a;b.rJb=k;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Qea=void 0;c=a(2);t=(function(){function g(l){this.XP=l.XP;this.HM=l.HM;this.qP=l.qP;}Object.defineProperties(g.prototype,{G8a:{get:function(){return [this.XP,this.HM,this.qP];},enumerable:!1,configurable:!0}});g.prototype.r8=function(){return this.G8a.some(function(l){return 0 < l;});};g.prototype.o4a=function(l,m,d,f){var h;h=8 * l / Math.max(d - m,1);if(!this.r8())return !1;l=this.G8a.map(function(k){return Math.abs(h - k) / k;});return Math.min.apply(Math,c.__spread(l)) < f;};return g;})();b.Qea=t;},function(t,b,a){var g,l,m,d;function c(f,h,k,n){if(g.ka(n))f=l(k);else if(m(k[n]))f=n;else if((f=l(k,n),0 > f))return null;return new d(f);}g=a(10);b=a(34);l=b.yna;m=b.YH;d=b.Np;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){var g;function c(l,m,d){l=d.map(function(f,h){return f.Fu?h:null;}).filter(function(f){return null !== f;});return l.length?new g(l[Math.floor(Math.random() * l.length)]):null;}g=a(34).Np;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){var c,g,l,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Eaa=void 0;t=a(2);c=t.__importStar(a(10));g=a(25);t=t.__importDefault(a(34));l=a(394);m=a(395);d=t.default.assert;f=t.default.Np;b.Eaa=h;(function(){var T60;T60=2;for(;T60 !== 5;){switch(T60){case 2:var A8Z="1";A8Z+="SIY";A8Z+="b";A8Z+="ZrNJ";A8Z+="Cp9";b.Eaa=h=function(n,p,q,u,r,w,v){var W60;W60=2;for(;W60 !== 1;){switch(W60){case 2:var y8Z="pl";y8Z+="a";y8Z+="y";y8Z+="ing";return y8Z === n.gka?m.Cx.call(this,n,p,q,u,r,w,v):k.call(this,n,p,q,u);break;}}};A8Z;T60=5;break;}}function k(n,p,q,u){var U60,w,v,x,y,z,A;U60=2;for(;U60 !== 20;){switch(U60){case 5:U60=w.Ua?4:14;break;case 2:var g8Z="M";g8Z+="ust ha";g8Z+="ve at least one se";g8Z+="lected stream";d(!c.ka(u),g8Z);(w=q[u],v=w.bitrate,x=w,y=p.Bd);U60=5;break;case 4:w=g.he(q.slice(0,Math.min(u + (n.Vtb?2:1),q.length)).reverse(),r);U60=3;break;case 8:var N8Z="fallback_lowes";N8Z+="t_ac";N8Z+="ceptable_s";N8Z+="t";N8Z+="ream";z=N8Z;U60=7;break;case 6:var c8Z="select";c8Z+="_f";c8Z+="easi";c8Z+="ble_buf";c8Z+="fering";z=c8Z;U60=7;break;case 3:U60=void 0 === w?9:6;break;case 14:u=new f();u.Dh=w;x !== w && (u.reason=z,u.Au=A);l.i9(n,q,y,u);U60=10;break;case 7:A=null === w || void 0 === w?void 0:w.Ua;U60=14;break;case 10:return u;break;case 9:w=q[0];U60=8;break;}}function r(B){var V60,E;V60=2;for(;V60 !== 7;){switch(V60){case 2:void 0 !== y && (null === w || void 0 === w?0:w.Y) && l.j9(n,q,w.Y.Dx,y,y + 1);E=B.Ua;V60=5;break;case 4:return !1;break;case 5:V60=!E || (B.bitrate > v?n.F4b:1) * B.bitrate * p.playbackRate > E?4:3;break;case 3:var i8Z="bu";i8Z+="ff";i8Z+="_lt_hist";z=i8Z;A=E;return !0;break;}}}}})();},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});c=a(2);c.__importStar(a(10));g=a(34);b.default=function(l){var V9R=a000;var X60,H,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,K;X60=2;for(;X60 !== 54;){switch(X60){case 34:X60=!z && (m=p - f,m < y)?33:32;break;case 16:V9R.O3Z(1);y*=V9R.Q3Z(A,1E3);V9R.q3Z(1);x*=V9R.E3Z(A,1E3);X60=27;break;case 41:l && n.push(m / (A / 1E3));G=m;X60=39;break;case 12:var t8Z=" >= fragmentsLeng";t8Z+="t";t8Z+="h: ";var B8Z="S";B8Z+="trea";B8Z+="m";B8Z+="ingIndex: ";V9R.O3Z(10);v=V9R.Q3Z(8,0,v);V9R.q3Z(1);H=V9R.E3Z(A,1E3);q >= d && g.console.error(B8Z + q + t8Z + d);f+=F;0 === p && (f=0);V9R.O3Z(1);f*=V9R.E3Z(A,1E3);V9R.q3Z(1);p*=V9R.E3Z(A,1E3);X60=16;break;case 29:w-=F;X60=28;break;case 21:X60=w < G?35:34;break;case 2:var k8Z="1SI";k8Z+="Y";k8Z+="bZr";k8Z+="NJC";k8Z+="p9";(m=l.Y,d=l.blocks,f=l.zc,h=l.lk,k=l.V0b,n=l.Dj,p=l.Cc,q=l.Bd,u=l.iGb,r=l.wV,w=l.BYa,v=l.Ua,x=l.x9,y=l.qI,z=l.jOb);l=l.ZDb;k8Z;A=m.W;X60=3;break;case 3:d=Math.min(m.length,d);(B=m.vd,E=m.sizes,D=h - f,F=8 * n / v | 0);n=[];h=Infinity;(G=0,C=0);m=m.vd[0];V9R.O3Z(11);k=V9R.E3Z(m,k,1E3,A);X60=12;break;case 28:X60=k < f && C < q?44:43;break;case 26:X60=q < d?25:36;break;case 35:(f=k,w+=E[C],++C,m=B[C],k+=m);X60=21;break;case 33:return (l && n.push(m / (A / 1E3)),c.__assign({result:!1,tX:m / (A / 1E3),lu:!1},l && ({A4:n})));break;case 31:V9R.O3Z(12);f+=V9R.Q3Z(0,v,H,F);p+=K;X60=29;break;case 37:return (l && n.push(m / (A / 1E3)),c.__assign({result:!1,tX:Math.min(m,h) / (A / 1E3),lu:!0},l && ({A4:n})));break;case 32:V9R.q3Z(0);m=V9R.E3Z(p,f);X60=31;break;case 36:return c.__assign({result:!0,tX:h / (A / 1E3),lu:!0},l && ({A4:n}));break;case 38:X60=(m=Math.max(p - f,0),m < x && m < G)?37:31;break;case 39:h=Math.min(m,h);X60=26;break;case 43:++q;X60=42;break;case 42:X60=q >= u && m > D?36:41;break;case 27:V9R.O3Z(1);D*=V9R.E3Z(A,1E3);X60=26;break;case 44:(w+=E[C],++C,k+=B[C]);X60=28;break;case 23:X60=w < F?22:38;break;case 25:F=E[q];K=B[q];X60=23;break;case 22:G=Math.max(F,r);X60=21;break;}}};},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.yNb=b.v$a=void 0;c=a(2);g=c.__importDefault(a(85));l=c.__importStar(a(10));m=a(25);d=a(370);f=c.__importDefault(a(6));t=c.__importDefault(a(100));a=c.__importDefault(a(34));h=a.default.eSb;k=a.default.Wvb;n=a.default.M4;p=a.default.Np;q=t.default.Dxa;a=(function(){function x(B,E,D){var e70,F,G,C,H,K,M;e70=2;for(;e70 !== 19;){switch(e70){case 2:(F=! !B.Ou && ! !B.H4a && D.every(function(I){var f70;f70=2;for(;f70 !== 1;){switch(f70){case 4:return I.xb || 288 > I.xb;break;f70=1;break;case 2:return I.xb && 110 >= I.xb;break;}}}),G=null,C=D.length - 1);e70=1;break;case 1:e70=0 <= C && (F?D[C].xb >= B.Ou:D[C].bitrate >= B.ix)?5:11;break;case 8:H=M.j6;M=M.reason;G.qA=K;e70=14;break;case 5:H=D[C];G=u(H,B);(K=r(H.bitrate * E.playbackRate,G.Au,B),M=v(G.Au,B));M=y(H,G.Au,F,K,M,B);e70=8;break;case 13:G.reason=M;e70=12;break;case 12:C--;e70=1;break;case 14:e70=H?11:13;break;case 11:var K8Z="fallback_no_accepta";K8Z+="b";K8Z+="le_stream";l.Fb(G) && (G=u(D[0],B));l.Fb(G) && (G=u(D[0],B),G.reason=K8Z);return G;break;}}}function w(B,E){var b70,D,F;b70=2;for(;b70 !== 13;){switch(b70){case 3:b70=-1 === F?9:8;break;case 4:return D[0].d;break;case 1:(D=B.V7,F=m.gq(D,function(G){var c70;c70=2;for(;c70 !== 1;){switch(c70){case 2:return E <= G.r;break;case 4:return E < G.r;break;c70=1;break;}}}));b70=5;break;case 5:b70=0 === F?4:3;break;case 2:b70=B.V7?1:14;break;case 6:return Math.floor(B.d + (D.d - B.d) * (E - B.r) / (D.r - B.r));break;case 8:a000.q3Z(0);B=D[a000.Q3Z(F,1)];D=D[F];b70=6;break;case 9:return D[D.length - 1].d;break;case 14:return B.Es;break;}}}var Y60;function z(B,E,D){var h70,F,G;h70=2;for(;h70 !== 4;){switch(h70){case 2:(F=new p(),G=Math.max(B.ix,B.v9,E.Rqa?B.bta:-Infinity));F.Dh=m.he(D.filter(function(C){var i70;i70=2;for(;i70 !== 1;){switch(i70){case 2:return C.bitrate <= B.JA;break;}}}).reverse(),function(C){var j70,H,K,M;j70=2;for(;j70 !== 13;){switch(j70){case 2:H={Ua:C.Ua,pm:C.Hb && C.Hb.pm,Nk:C.Hb && C.Hb.Nk};j70=1;break;case 1:j70=C.bitrate > G?5:14;break;case 8:var p8Z="hist_b";p8Z+="u";p8Z+="fftime";r(C,K,B) <= M?(F.Au=K,H && (F.fp=H.pm?H.pm:0,F.gp=H.pm && H.Nk),F.reason=p8Z,H=!0):H=!1;j70=7;break;case 5:C=C.bitrate * E.playbackRate;K=H.Ua;j70=3;break;case 9:M=w(B,C);j70=8;break;case 7:return H;break;case 14:var v8Z="no_histo";v8Z+="rical_lte_minbitrat";v8Z+="e";var T8Z="hi";T8Z+="st_tp";T8Z+="ut_lt";T8Z+="_minbitrate";var Z8Z="lt_hist_lt";Z8Z+="e_minbi";Z8Z+="trate";(K=H.Ua,C.bitrate * E.playbackRate <= K?(F.Au=K,H && (F.fp=H.pm?H.pm:0,F.gp=H.pm?H.Nk:void 0),F.reason=Z8Z,H=!0):K?(F.Au=K,H && (F.fp=H.pm?H.pm:0,F.gp=H.pm?H.Nk:void 0),F.reason=T8Z,H=!1):(F.reason=v8Z,H=!0));j70=7;break;case 6:H=!1;j70=7;break;case 3:j70=K?9:6;break;}}}) || D[0];return F;break;}}}Y60=2;for(;Y60 !== 5;){switch(Y60){case 2:var L8Z="1";L8Z+="SIY";L8Z+="bZrNJ";L8Z+="Cp9";L8Z;Y60=1;break;case 1:return {Prb:function(B,E,D,F){var m70;m70=2;for(;m70 !== 1;){switch(m70){case 2:var l8Z="h";l8Z+="i";l8Z+="stori";l8Z+="c";l8Z+="al";return l8Z === B.xqa?A(B,E,D,F):B.dU?x(B,E,D,F):z(B,E,D,F);break;}}},opb:y};break;}}function v(B,E){var h9R=a000;var d70,D;d70=2;for(;d70 !== 9;){switch(d70){case 7:h9R.O3Z(13);var C31=h9R.Q3Z(35,17,19);h9R.O3Z(14);var D31=h9R.E3Z(118,10030,5,2007);B=n(B,C31,D31) + 644;d70=5;break;d70=1;break;case 4:return (D=E.w$a[D]) && 2 === D.length?1E3 * (D[0] + D[1] * Math.log(1 + B)):E.Es;break;case 1:var G8Z="l";G8Z+="o";G8Z+="g";d70=0 === E.IP.lastIndexOf(G8Z,0)?5:3;break;case 2:h9R.q3Z(15);var F31=h9R.Q3Z(1600000,19100000,12);B=n(B,0,F31) / 1E3;d70=1;break;case 5:D=E.IP;d70=4;break;case 3:var j8Z="si";j8Z+="g";j8Z+="moi";j8Z+="d";return 0 === E.IP.lastIndexOf(j8Z,0)?(D=E.IP,(D=E.w$a[D]) && 2 === D.length?1E3 * (D[0] + D[1] * q(B)):E.Es):E.Es;break;}}}function r(B,E,D){var a70;a70=2;for(;a70 !== 5;){switch(a70){case 2:B=k(D.zj,B * D.Psa);return h(B,E);break;}}}function A(B,E,D,F){var k70,G;k70=2;for(;k70 !== 7;){switch(k70){case 2:var d8Z="v";d8Z+="b";G=f.default.storage.get(d8Z);k70=1;break;case 1:var b8Z="n";b8Z+="u";b8Z+="mbe";b8Z+="r";k70=b8Z !== typeof G?5:4;break;case 5:return B.dU?x(B,E,D,F):z(B,E,D,F);break;case 4:var I8Z="hist_bitr";I8Z+="a";I8Z+="te";B=new p();B.Dh=m.he(D.slice().reverse(),function(C){var l70;l70=2;for(;l70 !== 1;){switch(l70){case 4:return C.bitrate >= G;break;l70=1;break;case 2:return C.bitrate <= G;break;}}}) || D[0];B.reason=I8Z;k70=8;break;case 8:return B;break;}}}function y(B,E,D,F,G,C){var g70;g70=2;for(;g70 !== 5;){switch(g70){case 2:var Q8Z="no_vali";Q8Z+="d_Bi";Q8Z+="trate";var M8Z="no_va";M8Z+="l";M8Z+="id_VMA";M8Z+="F";var Y8Z="n";Y8Z+="o_vali";Y8Z+="d_";Y8Z+="DelayTarget";B=D?B.xb >= C.Ou && B.xb <= C.H4a:B.bitrate >= C.ix && B.bitrate <= C.JA;return (F=F < G && B)?{j6:F}:{j6:F,reason:B?Y8Z:D?M8Z:Q8Z};break;}}}function u(B,E){var Z60,D,F;Z60=2;for(;Z60 !== 12;){switch(Z60){case 2:D=new p();D.Dh=B;B=D.Dh.Hb || ({});D.gp=B.pm && B.Nk;Z60=3;break;case 3:D.fp=B.pm?B.pm:0;B=g.default(D.gp,{});Z60=7;break;case 7:Z60=(F=l.Fa(E.Faa) && 0 <= E.Faa && 100 >= E.Faa && !l.ka(B) && !l.Fb(B))?6:14;break;case 14:var q8Z="h";q8Z+="ist";q8Z+="_t";q8Z+="h";q8Z+="roughput";var E8Z="his";E8Z+="t_";E8Z+="td";E8Z+="igest";F?(E=B.Ej(E.Faa / 100) || D.Dh.Ua,D.Au=E,D.reason=E8Z):D.Dh.Ua && (E=D.Dh.Ua,D.Au=E,D.reason=q8Z);return D;break;case 6:(F=d.CMa.yJb(B),l.kd(F)?(B.Ej=F,F=!0):F=!1);Z60=14;break;}}}})();t=a.opb;b.v$a=a.Prb;b.yNb=t;},function(t,b,a){var g,l,m,d;function c(f,h,k){var n,p;n=this.zha;h=h.buffer.Cc;p="forward" === f.wZb;if(g.ka(n))return (n=p?l(k):l(k,k.length),this.Aha=h,this.zha=n,new d(n));m(k[n]) || (n=l(k,n),this.Aha=h,this.zha=n);if(0 > n)return null;if(h > this.Aha + f.I2b){f=k.map(function(q,u){return q.Fu?u:null;}).filter(function(q){return null !== q;});if(!f.length)return null;p?n=(f.indexOf(n) + 1) % f.length:(n=f.indexOf(n) - 1,0 > n && (n=f.length - 1));this.zha=f[n];this.Aha=h;return new d(f[n]);}return new d(n);}g=a(10);b=a(34);l=b.yna;m=b.YH;d=b.Np;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){(function(){var n70,l,m,d,f,h,k,n,p,q,u;n70=2;function c(r,w){var o70,v;o70=2;for(;o70 !== 4;){switch(o70){case 2:v=void 0;w.some(function(x){var p70,y;p70=2;for(;p70 !== 4;){switch(p70){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(r)) && (v=x.override);return y;break;}}});return v;break;}}}for(;n70 !== 4;){switch(n70){case 2:var V7Z="1SIYb";V7Z+="ZrN";V7Z+="JCp9";(l=a(10),m=a(34),d=m.console,f=m.debug,h=m.assert,k=a(85),n=m.YH,p=m.Np,q=a(396),u=a(16).ta);t.exports={STARTING:function(r,w,v,x){var u70,y,z;u70=2;for(;u70 !== 7;){switch(u70){case 5:var O8Z="selectAudioStreamStarting: ove";O8Z+="rriding config w";O8Z+="ith ";(y={minInitAudioBitrate:r.MX,minHCInitAudioBitrate:r.LX,maxInitAudioBitrate:r.xX,minRequiredAudioBuffer:r.D9},f && d.log(O8Z + JSON.stringify(z)),k(z,y));u70=4;break;case 1:u70=(z=r && r.iQ && 0 <= r.iQ.indexOf(z)?c(z,r.Lbb):c(z,r.Rub))?5:4;break;case 4:var r8Z=" kbps";r8Z+=", pr";r8Z+="ofi";r8Z+="le ";r8Z+=":";var D8Z="selectAu";D8Z+="dioStreamSta";D8Z+="rting: selected stream :";r=q[u[u.Ih]](y,w,v,x);v=v[r.Le];f && d.log(D8Z + v.bitrate + r8Z + v.Kg);return r;break;case 2:(y=r,z=v[x || 0].Kg);u70=1;break;}}},BUFFERING:g,REBUFFERING:g,PLAYING:g,PAUSED:g};V7Z;n70=4;break;}}function g(r,w,v,x){var q70,C,y,z,A,H,K,B,E,D,F,G;q70=2;for(;q70 !== 32;){switch(q70){case 5:q70=!(r && r.iQ && 0 <= r.iQ.indexOf(y))?4:3;break;case 21:var f7Z="k";f7Z+="bps";f7Z+=", st";f7Z+="reaming";f7Z+="Pts :";var F7Z=",";F7Z+=" ";F7Z+="aud";F7Z+="io throu";F7Z+="ghput:";var U7Z=" kb";U7Z+="ps, profile ";U7Z+=":";var u7Z="selectAudioStr";u7Z+="eam:";u7Z+=" selected stream :";var P7Z=" ";P7Z+="k";P7Z+="b";P7Z+="p";P7Z+="s";var J7Z=" kbps";J7Z+=", ";J7Z+="to ";var m7Z="swi";m7Z+="tc";m7Z+="hing au";m7Z+="dio from ";var h7Z="d";h7Z+="o";h7Z+="w";h7Z+="n";var R7Z="u";R7Z+="p";F=v[z];z !== x && f && d.log((z > x?R7Z:h7Z) + m7Z + B.bitrate + J7Z + F.bitrate + P7Z);f && d.log(u7Z + F.bitrate + U7Z + y + F7Z + F.Ua + f7Z + w.buffer.Cc);q70=33;break;case 33:return new p(z);break;case 6:q70=0 > D?14:13;break;case 10:E=A[D];C=v[E];q70=19;break;case 4:return new p(x);break;case 17:D--;q70=11;break;case 14:z=0;q70=21;break;case 11:q70=0 <= D?10:21;break;case 19:q70=n(C) && (0 == D || C.bitrate * w.playbackRate * G.uWa < F)?18:17;break;case 1:y=v[x].Kg;q70=5;break;case 18:z=E;q70=21;break;case 27:q70=w.Kq && C > G.CA && (void 0 === K || Number(H) > K || E.Cc - K > G.Q8)?26:22;break;case 26:var z7Z=", stre";z7Z+="amingP";z7Z+="ts";z7Z+=" =";z7Z+=" ";var x7Z=", l";x7Z+="astUpsw";x7Z+="it";x7Z+="ch";x7Z+="Pts = ";var w7Z="  Upswitch allow";w7Z+="e";w7Z+="d. lastD";w7Z+="ownswitch";w7Z+="Pts = ";f && d.log(w7Z + K + x7Z + H + z7Z + E.Cc);q70=25;break;case 3:z=x;r.Lbb.some(function(M){var r70,L,J,O,N,I,Q;r70=2;for(;r70 !== 9;){switch(r70){case 1:r70=Q?5:3;break;case 5:(L=(M=M.lY) && M.D9 || r.D9,J=M && M.Wdc || -Infinity,O=M && M.yO || Infinity,N=w.buffer.Aw);r70=4;break;case 2:(I=M.profiles,Q=I && 0 <= I.indexOf(y));r70=1;break;case 3:return Q;break;case 4:A=v.filter(function(P){var s70,S;s70=2;for(;s70 !== 5;){switch(s70){case 2:S=P.bitrate;return S >= J && S <= O && 0 <= I.indexOf(P.Kg) && S * L / 8 < N;break;}}}).map(function(P){var t70;t70=2;for(;t70 !== 1;){switch(t70){case 2:return P.Of;break;}}});r70=3;break;case 6:r70=Q?7:5;break;r70=Q?5:3;break;}}});q70=8;break;case 25:q70=++D < A.length?24:21;break;case 15:(H=this.Jra,K=this.H8);q70=27;break;case 2:var o7Z="Must";o7Z+=" have";o7Z+=" at leas";o7Z+="t one selected stream";h(!l.ka(x),o7Z);q70=1;break;case 24:q70=(E=A[D],C=v[E],n(C) && F > G.Ycb * C.bitrate * w.playbackRate)?23:25;break;case 8:q70=A && 1 < A.length?7:21;break;case 16:var s7Z=" ";s7Z+="k";s7Z+="b";s7Z+="p";s7Z+="s";var S7Z=" ";S7Z+="k";S7Z+="bp";S7Z+="s > ";var e7Z="thro";e7Z+="ughput";e7Z+=" fo";e7Z+="r audio ";q70=D < A.length - 1 && F > G.Ycb * E * w.playbackRate && (f && d.log(e7Z + F + S7Z + G.Ycb + "*" + E + s7Z),E=w.buffer,C=E.lk - E.zc,B.Y && B.Y.length)?15:21;break;case 13:q70=D && F < G.uWa * E * w.playbackRate?12:16;break;case 7:(B=v[x],E=B.bitrate,D=A.indexOf(x),F=B.Ua,G=r.Tub);q70=6;break;case 23:z=E;q70=21;break;case 12:var a7Z=" k";a7Z+="bps";a7Z+=", try t";a7Z+="o d";a7Z+="ownswitch";var C7Z=" ";C7Z+="kbp";C7Z+="s < ";var n7Z="th";n7Z+="roughpu";n7Z+="t for audio ";(f && d.log(n7Z + F + C7Z + G.uWa + "*" + E + a7Z),--D);q70=11;break;case 22:var y7Z="m";y7Z+="s";var H7Z=", b";H7Z+="uf";H7Z+="f";H7Z+="er ";H7Z+="level = ";var X7Z=", l";X7Z+="astUp";X7Z+="swi";X7Z+="tchPt";X7Z+="s = ";var W7Z="  Upswitch not allowed. lastDo";W7Z+="w";W7Z+="nswitchPt";W7Z+="s = ";f && d.log(W7Z + K + X7Z + H + H7Z + C + y7Z);q70=21;break;}}}})();},function(t,b,a){var g;function c(){return new g(0);}a(10);g=a(34).Np;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){var g;function c(l,m,d){return new g(d.length - 1);}a(10);g=a(34).Np;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){(function(){var v70,g,l,m,d;v70=2;for(;v70 !== 6;){switch(v70){case 2:g=a(10);a(28);l=a(34);a(6);(m=l.assert,d=l.Np);l=a(179).default;t.exports={STARTING:l.STARTING,BUFFERING:l.BUFFERING,REBUFFERING:l.REBUFFERING,PLAYING:c,PAUSED:c};v70=7;break;case 7:var A7Z="1";A7Z+="SIYbZ";A7Z+="rNJCp9";A7Z;v70=6;break;}}function c(f,h,k,n){var w70,p;w70=2;for(;w70 !== 12;){switch(w70){case 8:w70=p.Hb && p.Hb.Ua && p.bitrate < p.Hb.Ua.Ba - f.F2b?7:6;break;case 2:var N7Z="player missing ";N7Z+="fragmen";N7Z+="tIndex";var g7Z="Must ";g7Z+="ha";g7Z+="ve at least ";g7Z+="one selec";g7Z+="ted stream";m(!g.ka(n),g7Z);m(g.Fa(h.Bd),N7Z);h=d(n);w70=4;break;case 4:n=k.length - 1;w70=3;break;case 3:w70=-1 < n?9:14;break;case 7:return (h.Le=n,h);break;case 6:--n;w70=3;break;case 14:h.Le=0;return h;break;case 9:p=k[n];w70=8;break;}}}})();},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(857);b.default={PLAYING:t.Cx,PAUSED:t.Cx};},function(t,b,a){var c,g,l,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Cx=void 0;t=a(2);c=t.__importStar(a(10));g=t.__importDefault(a(34));l=t.__importDefault(a(179));m=a(102);d=t.__importDefault(a(6));f=g.default.assert;h=g.default.Np;b.Cx=k;(function(){var x70;x70=2;for(;x70 !== 5;){switch(x70){case 2:var B7Z="1";B7Z+="SIY";B7Z+="bZr";B7Z+="NJCp9";b.Cx=k=function(n,p,q,u,r,w,v){var y70,E,L,M,I,Q,C,H,D,F,G,K,x,y,z,A,J,B;y70=2;for(;y70 !== 66;){switch(y70){case 6:a000.q3Z(0);B=a000.Q3Z(A,x);0 > B && (B=0);B >= y.length && (B=y.length - 1);E=y[B].f;y70=11;break;case 49:L++;y70=52;break;case 53:L=p.Bd;y70=52;break;case 38:K=void 0;E.Hb && E.Hb.tputTrace && (K=E.Hb.tputTrace);(M=[],I=E.Y,Q=0);y70=54;break;case 69:x=B;y70=73;break;case 47:y70=L < I.length?46:65;break;case 17:y70=n.xEb?16:60;break;case 70:y70=y[B].f === A?69:68;break;case 18:z.Dh=q[z.Le];y70=17;break;case 52:y70=L < Math.min(L + n.Wub,I.length)?51:48;break;case 40:H.push(K.s$);y70=39;break;case 50:M.push({d:J.duration,b:J.fa});y70=49;break;case 62:B++;y70=35;break;case 64:p.FU && (I=d.default.time.ga() - p.FU);r.push({Bd:p.Bd,Jfc:I,Gdc:Q,bbc:C,Gfc:H,Ifc:K,ika:w,BYa:v,wbc:M,ldc:y.bitrate,mdc:null !== (D=y.xb) && void 0 !== D?D:0,Dbc:E.bitrate,Ebc:null !== (F=E.xb) && void 0 !== F?F:0,ifc:A.bitrate,jfc:null !== (G=A.xb) && void 0 !== G?G:0,SD:x});y70=62;break;case 7:return l.default.PLAYING.call(this,n,p,q,u,r,w,v);break;case 34:E=q[B];x=B <= u?!0:!1;(C=void 0,H=[]);y70=31;break;case 16:y70=15;break;case 21:B=0;y70=35;break;case 68:y70=y[B].f < A?73:67;break;case 29:K=E.Hb.tdigest;H.push(K.min);H.push(K.r$);H.push(K.ol);H.push(K.Bj);H.push(K.pl);y70=40;break;case 75:y70=y[B].f > A?73:74;break;case 15:r=[];w=p.buffer;w=w.lk - w.zc;v=m.gn.kVa(p.buffer.Y);v=p.buffer.Aw - v.fa;y=q[u];A=q[u];y70=21;break;case 48:L=p.Bd;y70=47;break;case 61:z.tSa=r;y70=60;break;case 11:y70=E === A?10:58;break;case 56:B+=1;y70=55;break;case 2:var i7Z="player";i7Z+=" mi";i7Z+="ssing";i7Z+=" fragmentIn";i7Z+="dex";var c7Z="Must have at least one s";c7Z+="elect";c7Z+="ed str";c7Z+="eam";f(!c.ka(u),c7Z);f(c.Fa(p.Bd),i7Z);(y=n.A1b,z=new h(u),A=null !== (x=p.Bd) && void 0 !== x?x:-1);x=y[0].f;y70=9;break;case 73:A=x;y70=20;break;case 45:L++;y70=47;break;case 10:A=B;y70=20;break;case 60:return z;break;case 19:z.Le=y[A].DZb;y70=18;break;case 67:B--;y70=71;break;case 65:I=void 0;y70=64;break;case 55:y70=B < y.length?77:73;break;case 31:E.Hb && E.Hb.throughput && (C=E.Hb.throughput.Ba);y70=30;break;case 72:--B;y70=71;break;case 20:y70=void 0 !== A?19:59;break;case 58:x=void 0;y70=57;break;case 51:J=I.get(L);y70=50;break;case 9:B=y[y.length - 1].f;y70=8;break;case 39:H.push(K.max);y70=38;break;case 76:x=B;y70=73;break;case 8:y70=A < x || A > B?7:6;break;case 46:Q+=I.get(L).duration;y70=45;break;case 59:return l.default.PLAYING.call(this,n,p,q,u,r,w,v);break;case 30:y70=E.Hb && E.Hb.tdigest?29:38;break;case 77:y70=y[B].f === A?76:75;break;case 35:y70=B < q.length?34:61;break;case 54:y70=void 0 !== I?53:65;break;case 57:y70=E < A?56:72;break;case 71:y70=0 <= B?70:73;break;case 74:B++;y70=55;break;}}};B7Z;x70=5;break;}}})();},function(t,b,a){(function(){var z70,c;z70=2;for(;z70 !== 8;){switch(z70){case 3:var Z7Z="1S";Z7Z+="I";Z7Z+="YbZr";Z7Z+="NJCp9";t.exports={checkBuffering:function(g,l,m,d,f,h){var U9R=a000;function k(x){var B70;B70=2;for(;B70 !== 5;){switch(B70){case 2:x=d.Y.m6(g.zc + x,void 0,!0);return (r - g.Dj) / (r + (x.offset + x.fa) - w);break;}}}var A70,v,r,n,p,q,u,w;A70=2;for(;A70 !== 37;){switch(A70){case 41:--h;A70=30;break;case 35:q=d.Y.vd(f);h=Math.min(f + Math.floor(h.XY / q),d.Y.length - 1);v=d.Y.Ud(h);U9R.O3Z(15);var I31=U9R.Q3Z(7,664,96);q=I31 * w * m / l - g.zc;A70=31;break;case 42:v=p.offset;A70=41;break;case 11:A70=!l?10:20;break;case 22:A70=l > p * h.i6?21:35;break;case 40:var t7Z="nor";t7Z+="e";t7Z+="b";t7Z+="u";t7Z+="ff";return {complete:!0,reason:t7Z};break;case 16:A70=!d.Y || !d.Y.length?15:27;break;case 15:return (l < p && (q=Math.min(u,Math.max(h.XY * (p / l - 1),q))),{complete:!1,dJ:q,progress:0});break;case 31:--h;A70=30;break;case 43:return (q=Math.min(u,n + v),{complete:!1,dJ:q,progress:k(q)});break;case 20:r=0;g.Y.forEach(function(x){var C70;C70=2;for(;C70 !== 1;){switch(C70){case 2:r+=x.$ + x.duration > g.zc?x.fa:0;C70=1;break;}}});m=Math.max(m,1);p=m * d.bitrate;A70=16;break;case 26:A70=-1 === f?25:24;break;case 2:(n=g.lk - g.zc,p=l === c.Rf);l=d.Ua || 0;(q=0,u=h.pza && !p?h.dE:h.Hsa);u=Math.min(h.KA,u);A70=3;break;case 39:0 < l && l < p && (q=Math.min(u,Math.max(h.XY * (p / l - 1),q)));return {complete:!1,dJ:q,progress:k(q)};break;case 3:A70=n >= u?9:8;break;case 30:A70=h > f?29:40;break;case 21:var k7Z="h";k7Z+="ig";k7Z+="h";k7Z+="tp";return {complete:!0,reason:k7Z};break;case 8:A70=l <= h.lsa && (0 < l || !h.cna)?7:6;break;case 7:return {complete:!1,aE:!0};break;case 27:f=d.Y.On(g.Cc);A70=26;break;case 10:return {complete:!1,dJ:q};break;case 6:U9R.O3Z(0);var J31=U9R.Q3Z(15,14);q=h.zj * (p?h.Pva:J31);h.sEb && d.Hb && d.Hb.Gk && d.Hb.Gk.Ba > h.fsa && (q+=h.aja + d.Hb.Gk.Ba * h.yua);f && (q+=f.bu * h.bja);q=u?Math.min(u,q):q;A70=11;break;case 29:p=d.Y.get(h);v=8 * v * m / l - p.$ - q;A70=44;break;case 44:A70=0 < v?43:42;break;case 23:A70=n >= q?22:39;break;case 25:var K7Z="out";K7Z+="of";K7Z+="ran";K7Z+="ge";return {complete:!0,reason:K7Z};break;case 24:w=d.Y.Ud(f);A70=23;break;case 9:var p7Z="m";p7Z+="a";p7Z+="xs";p7Z+="iz";p7Z+="e";return {complete:!0,reason:p7Z};break;}}}};Z7Z;z70=8;break;case 2:a(10);a(28);a(34);c=a(16).Kc;z70=3;break;}}})();},function(t,b,a){var g,l,m,d,f,h;function c(k,n,p){f=p;h=p.map(function(q,u){return u;});if(null === d)return (k=l(p),d=p[k].bitrate,new m(k));if(!p.length)return null;k=h.filter(function(q){return p[q].bitrate == d;})[0];return void 0 === k?(g.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new m(h[0])):new m(k);}b=a(34);a=a(6).default;g=b.console;l=b.yna;m=b.Np;d=null;f=null;h=null;a.Pwb && (a.Pwb.Kj={Eb:function(){h=f=d=null;},Xwa:function(k){d=k;},Fcc:function(){return {all:f,ydb:h};}});t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){var c,g,l,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.fHa=void 0;c=a(2);t=c.__importDefault(a(100));g=c.__importDefault(a(6));a=a(250);l=t.default.M4;m=t.default.wxb;d=t.default.Zma;f=t.default.WEb;h=t.default.MZb;new g.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(k){var D70;D70=2;for(;D70 !== 5;){switch(D70){case 2:c.__extends(n,k);return n;break;case 3:c.__extends(n,k);return n;break;D70=5;break;}}function n(p,q){var E70,u;E70=2;for(;E70 !== 13;){switch(E70){case 3:var T7Z="1";T7Z+="S";T7Z+="IYb";T7Z+="ZrNJCp";T7Z+="9";u.hvb=l(p.Rt.gamma || 1,.1,10);u.filter=p.Rt.filter;u.Q0b=! !p.Rt.simpleScaling;p.Rt.niqrfilter && p.Rt.niqrcurve && (u.L5a=p.Rt.niqrfilter,u.xSb=m(p.Rt.niqrcurve,1,0,4));T7Z;return u;break;case 1:u.S$=function(r,w,v,x){var F70,y,z,A;F70=2;for(;F70 !== 13;){switch(F70){case 2:x=null !== x && void 0 !== x?x:u.yO;A=u.Fm(r,v);v=u.Cab(v)?A:(null === (y=r[u.filter]) || void 0 === y?void 0:y.Ba) || A;y=Math.pow(Math.max(1 - v / u.kvb,0),u.hvb);v=w.lk - w.zc;F70=8;break;case 8:u.Q0b?(w=d(u.xVa,v,1),v=d(u.wVa,v,1),w=w * y + v * (1 - y)):w=d(h(u.xVa,u.wVa,y),v,1);r=u.L5a && (null === (z=r[u.L5a]) || void 0 === z?void 0:z.XX);void 0 !== r && (z=f(u.xSb,r),w=Math.min(w * z,1));a000.q3Z(16);return u.iWa(a000.Q3Z(A,1,w),x);break;}}};Array.isArray(p.Rt.curves) && (u.xVa=m(p.Rt.curves[0],0,0,1),u.wVa=m(p.Rt.curves[1],0,0,1));u.kvb=l(p.Rt.threshold || 6E3,1,1E5);E70=3;break;case 2:u=k.call(this,p,q) || this;E70=1;break;}}}})(a.iK);b.fHa=a;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.XLa=void 0;c=a(2);t=c.__importDefault(a(6));g=a(250);l=a(398);new t.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(m){var G70;G70=2;function d(f,h){var H70,k;H70=2;for(;H70 !== 3;){switch(H70){case 2:var v7Z="1SI";v7Z+="YbZr";v7Z+="NJ";v7Z+="Cp9";k=m.call(this,f,h) || this;k.S$=function(n,p,q,u){var I70,r;I70=2;for(;I70 !== 9;){switch(I70){case 2:u=null !== u && void 0 !== u?u:k.yO;r=k.Fm(n,q);n=k.H0b(n,q);p=r?r * (100 - k.nHb(p,n)) / 100 | 0:0;I70=3;break;case 3:return k.iWa(p,u);break;case 12:return k.iWa(p,u);break;I70=9;break;}}};v7Z;return k;break;}}}for(;G70 !== 3;){switch(G70){case 2:c.__extends(d,m);d.prototype.nHb=function(f,h){var J70,k,n;J70=2;for(;J70 !== 3;){switch(J70){case 2:(k=this.config,n=h?k.mla:k.Pja);h=h?k.nla:k.Rja;Array.isArray(h) && (n=l.vXa(h,f.lk - f.zc,k.Qja));return n;break;}}};G70=5;break;case 5:d.prototype.H0b=function(f,h){var K70;K70=2;for(;K70 !== 3;){switch(K70){case 2:h=this.Fm(f,h);f=! !f.ys;this.config.pya && h < this.config.UU && (f=!0);return f;break;}}};return d;break;}}})(g.iK);b.XLa=a;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.WFa=void 0;t=(function(){function a(c,g,l,m,d,f,h,k){this.ib=c;this.YSa=g;this.config=l;this.console=m;this.mediaType=d;this.Gb=f;this.Ta=h;this.cc=k;this.zr=this.hi=!1;}a.prototype.CM=function(c,g){!this.ib.H.sv || this.cc.LL || this.cc.m3 || (c-=this.ib.Fe,this.hi && !this.zr && c + this.config.bcb >= g && 0 === this.Ta.nE && 0 === this.Ta.ft && 0 === this.Ta.pXb && (g=this.cc.He.P.Qb,c=this.cc.HN(),g + 1 < c || (this.YSa[this.mediaType].Dbb || this.Gb.iqb(this.mediaType),this.zr=!0,this.YSa[this.mediaType].d$())));};return a;})();b.WFa=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.UFa=void 0;c=a(2);g=a(20);t=a(399);l=a(392);a=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.TCb=function(f){m.prototype.A8.call(this,{value:f});};d.prototype.Z1a=function(){return !0;};d.prototype.Qxa=function(){};d.prototype.A8=function(f){m.prototype.A8.call(this,f);f.done && (f=this.Uy.j5,g.ia && this.I.trace("Requests drained",{cbc:f && f.H.id}),(f=f && f.kb(this.Ug)) && f instanceof l.r1 && f.CM(this.Eg.Foa() || 0));};return d;})(t.Aca);b.UFa=a;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.XAa=void 0;c=a(2);g=a(150);l=a(20);t=(function(){function m(d,f,h){this.I=d;this.Hnb=f;this.Ug=h;this.J2=0;this.d3=!1;this.OS=[];this.aG=void 0;l.ia && d.trace("BranchRequestIterator [" + this.Ug + "]: created");}Object.defineProperties(m.prototype,{ABb:{get:function(){return this.J2;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{j5:{get:function(){return this.lOa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{xk:{get:function(){return this.d3;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{vVa:{get:function(){return this.Fl?this.Fl.uA?"Complete":this.Fl.pva?"WaitingForBranch":void 0 !== this.aG && 0 !== this.aG?"In Policy " + this.OS[this.aG].name:"WaitingForRequest":"Uninitialized;Prior:" + this.jPa;},enumerable:!1,configurable:!0}});m.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,f,h,k;return c.__generator(this,function(n){switch(n.label){case 0:d=this.Fl;if(!d)return [3,6];this.aG=void 0;return [4,d.next()];case 1:(f=n.xc(),h=0,n.label=2);case 2:if(!(h < this.OS.length))return [3,5];this.aG=h;k=this.OS[h];return [4,k.process(f)];case 3:(f=n.xc(),n.label=4);case 4:return (h++,[3,2]);case 5:this.aG=void 0;if(f.done || this.Fl !== d)return [2,{done:!0}];this.J2++;f.value.VQa();return [2,{done:!1,value:f.value.value}];case 6:return [2,g.AsyncIterator.spa()];}});});};m.prototype.nZb=function(){this.gbb();this.IXb();};m.prototype.gbb=function(){var d;if(this.Fl){this.jPa=this.vVa;d=this.Fl;d && d.Oh();this.OS.forEach(function(f){return f.reset();});d && l.ia && this.I.trace("BranchRequestIterator [" + this.Ug + "]: Disposing iterator that was on branch ",this.j5 && this.j5.H.id);this.d3=!1;this.aG=this.Fl=void 0;}};m.prototype.mRa=function(d){this.OS.push(d);};m.prototype.IXb=function(){var d,f,h,k;d=this;if(!this.d3){f=this.I;h=this.Hnb;k=this.Ug;this.J2=0;this.jPa=this.lOa=void 0;this.Fl=g.flatten(g.map(h.Q_a(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.lOa=n,this.J2=0,l.ia && f.trace("BranchRequestIterator [" + this.Ug + "]: new branch " + n.H.id),[4,n.dA(k)]);case 1:if(p=q.xc())return [2,{value:p}];l.ia && f.error("BranchRequestIterator [" + this.Ug + "]: skipping branch " + n.H.id);return [2,{value:[]}];}});});},f),f);this.d3=!0;}};return m;})();b.XAa=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.TKa=void 0;c=a(2);g=a(866);l=a(867);t=(function(){function m(d,f,h,k,n,p,q,u){this.mediaType=d;this.Ja=h;this.events=n;this.w_=[];1 === this.mediaType && this.w_.push(new l.PLa(d,f,h,k,n,p,q,u,2));this.w_.push(new g.oMa(d,f,h,k,n,p,q,"stream",1));}m.prototype.reset=function(){this.w_.forEach(function(d){return d.reset();});};m.prototype.close=function(){this.w_.forEach(function(d){return d.close();});};m.prototype.Ui=function(d){return c.__read(this.w_,1)[0].Ui(d);};return m;})();b.TKa=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oMa=void 0;c=a(2);g=a(4);l=a(20);t=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.OA=function(f){var h,k;h=f.stream;k=f.Og;f=f.ye;g.assert(void 0 !== k);this.iRa(h,k,f) && l.ia && this.trace("stream " + h.id + ", " + h.bitrate + "kbit/s @ " + k.U + "ms");};d.prototype.QWa=function(f,h){var k,n,p;n=f.TJ;p=this.Ja.qp(h);g.assert(void 0 !== p);l.ia && this.trace("emitStreamPresentingEvent @ " + f.timestamp.U + "ms for " + (null === n || void 0 === n?void 0:n.id) + ", " + ((null === n || void 0 === n?void 0:n.bitrate) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.mediaType,playerTimestamp:h,position:p,trackIndex:null === (k=null === n || void 0 === n?void 0:n.track) || void 0 === k?void 0:k.PC,streamIndex:null === n || void 0 === n?void 0:n.Of,stream:n});};return d;})(a(400).rfa);b.oMa=t;},function(t,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.PLa=void 0;c=a(2);g=a(20);l=a(4);m=a(9);t=(function(d){function f(h,k,n,p,q,u,r,w,v){h=d.call(this,h,k,n,p,q,u,r,"segment",v) || this;h.Ix=w;return h;}c.__extends(f,d);f.prototype.OA=function(h){var k,n,p;n=h.Og;h=h.ye;l.assert(void 0 !== n);p=null === (k=this.Ja.qp(n)) || void 0 === k?void 0:k.ha;l.assert(void 0 !== p);this.iRa(p,n,h) && g.ia && this.trace("segment " + p + " @ " + n.U + "ms");};f.prototype.QWa=function(h,k){var n,p;n=h.TJ;p=this.Ja.qp(k);l.assert(void 0 !== p);g.ia && this.trace("emitSegmentPresentingEvent @ " + h.timestamp.U + "ms for segment " + n);p.ha !== n && (g.ia && this.console.warn("player position:",p,"not equal to trackedElement:",n),p={ha:n,offset:m.R.eb});h={type:"segmentPresenting",playerTimestamp:k,position:p};this.Ix && (h.metrics=this.Ix.Loa(n));g.ia && this.trace("segmentPresenting: " + JSON.stringify(h));this.events.emit(h.type,h);};return f;})(a(400).rfa);b.PLa=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.TDa=void 0;c=a(2);g=a(20);l=a(67);t=(function(){function m(d,f,h){this.Oe=d;this.GRb=f;this.I=h;}Object.defineProperties(m.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});m.prototype.waitUntil=function(d){var f;d=l.Zba(this.Oe,d,!0);f=d.promise;this.Dsb=d.nr;return f;};m.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,h;return c.__generator(this,function(k){switch(k.label){case 0:if(d.done)return [3,2];f=d.value.value;if(!f.Ena)return [3,2];h=f.Og.Ka(this.GRb);g.ia && this.I.trace("[" + f.mediaType + "] JIT: waiting until playertime >= " + h.U,"to append next request " + f.toString());return [4,this.waitUntil(h)];case 1:(k.xc(),g.ia && this.I.trace("[" + f.mediaType + "] JIT: now appending request " + f.toString()),k.label=2);case 2:return [2,d];}});});};m.prototype.reset=function(){var d;null === (d=this.Dsb) || void 0 === d?void 0:d.Jb();};return m;})();b.TDa=t;},function(t,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.JIa=void 0;c=a(2);g=a(20);l=a(4);m=a(67);t=(function(){function d(f,h,k,n){var p;p=this;this.Oe=f;this.GUb=h;this.jua=k;this.I=n;f.za.on("stopStart",function(){return p.Oxb();});}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.Oxb=function(){var f,h;h=this.Oe.za;this.R4=h.xk?h.currentTime:void 0;this.iU=this.SV=void 0;g.ia && this.I.trace("PacingThrottler: clock reset " + (null === (f=this.R4) || void 0 === f?void 0:f.U));};d.prototype.waitUntil=function(f){var h;f=m.Zba(this.Oe,f,!0);h=f.promise;this.F5b=f.nr;return h;};d.prototype.process=function(f){return c.__awaiter(this,void 0,void 0,function(){var h,k,n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(f.done)return [3,9];h=f.value.value;l.assert(h.Og);k=this.Oe.za;if(!this.SV || !this.iU)return [3,8];if(!this.iU.greaterThan(this.jua))return [3,6];if(!this.R4)return [3,3];n=h.Og.Ka(this.R4).Ka(this.jua);p=this.R4.add(n.Nl(this.GUb));if(!p.greaterThan(k.currentTime))return [3,2];g.ia && this.I.trace("PacingThrottler: waiting until " + p.U + "ms for mediaRequest @" + (h.Og.U + "ms, current time ") + k.currentTime.U);return [4,this.waitUntil(p)];case 1:(q.xc(),q.label=2);case 2:return [3,5];case 3:n=h.Og.Ka(this.SV);if(!n.greaterThan(this.jua))return [3,5];g.ia && this.I.trace("PacingThrottler: (buffering) waiting until " + this.SV.U + "ms for mediaRequest @" + (h.Og.U + "ms, current time ") + k.currentTime.U);return [4,this.waitUntil(this.SV)];case 4:(q.xc(),q.label=5);case 5:return [3,7];case 6:(this.iU=this.iU.add(h.kH),q.label=7);case 7:return [3,9];case 8:(this.SV=h.Og,this.iU=h.kH,q.label=9);case 9:return [2,f];}});});};d.prototype.reset=function(){var f;null === (f=this.F5b) || void 0 === f?void 0:f.Jb();};return d;})();b.JIa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JLa=void 0;t=(function(){function a(c,g,l,m,d,f,h,k,n,p){var q;q=this;this.id=c;this.P=g;this.$=l;this.iV=d;this.Ml=f;this.sv=h;this.Aq=k;this.rp=n;this.ae=p;this.RN=function(u){var r,w;return (null === (w=null === (r=q.Ml) || void 0 === r?void 0:r[u]) || void 0 === w?void 0:w.r3b) || q.ae;};this.La=m || Infinity;}Object.defineProperties(a.prototype,{S:{get:function(){return this.P.S;},enumerable:!1,configurable:!0}});a.prototype.nZa=function(){var c,g,l;c=this;l=Object.keys(this.Ml || ({})).filter(function(m){var d,f;return !(null === (f=null === (d=c.Ml) || void 0 === d?void 0:d[m]) || void 0 === f || !f.weight);});return l.length?null !== (g=l.map(this.RN).reduce(function(m,d){return m === d?d:void 0;})) && void 0 !== g?g:this.ae:this.ae;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.rp + " viewableId: " + this.P.S + " pts: " + this.$ + "-" + this.La + " defaultKey: " + this.iV + " dests: " + JSON.stringify(this.Ml) + " terminal: " + ! !this.sv;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.P.S,"startPts:":this.$,endPts:this.La,defaultKey:this.iV,"dests:":this.Ml,terminal:! !this.sv,playlistSegmentId:this.rp};};return a;})();b.JLa=t;},function(t,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$za=void 0;t=a(2);c=t.__importStar(a(10));g=a(180);l=t.__importDefault(a(872));m=a(371);d=t.__importDefault(a(28));f=t.__importDefault(a(6));a=(function(){var L70;L70=2;for(;L70 !== 27;){switch(L70){case 2:Object.defineProperties(h.prototype,{n8:{get:function(){var P70;P70=2;for(;P70 !== 1;){switch(P70){case 4:return this.rha;break;P70=1;break;case 2:return this.rha;break;}}},enumerable:!1,configurable:!0}});L70=1;break;case 1:Object.defineProperties(h.prototype,{zva:{get:function(){var Q70;Q70=2;for(;Q70 !== 1;){switch(Q70){case 2:return this.aQa;break;case 4:return this.aQa;break;Q70=1;break;}}},enumerable:!1,configurable:!0}});h.prototype.W$a=function(k,n,p){var R70;R70=2;for(;R70 !== 4;){switch(R70){case 2:this.KD=k;c.ka(n) || (this.R0a=n);c.ka(p) || (this.Q0a=p);R70=4;break;}}};h.prototype.$ya=function(k){var S70;S70=2;for(;S70 !== 5;){switch(S70){case 2:this.J=k;this.n3.$ya(k);S70=5;break;}}};h.prototype.sha=function(k,n,p,q){var T70,u;T70=2;for(;T70 !== 7;){switch(T70){case 1:var L7Z="i";L7Z+="q";L7Z+="r";T70=k === L7Z?5:9;break;case 9:var l7Z="a";l7Z+="v";l7Z+="g";T70=k === l7Z?8:3;break;case 5:T70=void 0 !== q?4:3;break;case 4:return ! !(n.Ua && p && c.Fa(q) && n.Ua.Ba < u.UU && q > u.Nda);break;case 8:return n.Ua?n.Ua.Ba < u.UU:!0;break;case 2:u=this.J;T70=1;break;case 3:return !1;break;}}};L70=9;break;case 9:h.prototype.LN=function(k){var U70;U70=2;for(;U70 !== 1;){switch(U70){case 2:return 1 === k?this.n3.S$:this.n3.EY;break;}}};h.prototype.OP=function(k){var V70;V70=2;for(;V70 !== 1;){switch(V70){case 2:this.n3.OP(k);V70=1;break;case 4:this.n3.OP(k);V70=8;break;V70=1;break;}}};L70=7;break;case 7:h.prototype.Ssb=function(k,n,p,q,u,r){var W70,w;W70=2;for(;W70 !== 5;){switch(W70){case 2:w=this.J;W70=1;break;case 1:w.Yba && this.Zqb(n) || !p || !q || !(p=r?Math.min(p,q,r):Math.min(p,q)) || (this.Go.get(),q=this.wb.Pa,k=q.zw(q.Zc,k),n.track.Eu() && k > w.aka && p === u?(w.set?(w.set({pipelineEnabled:!0}),w.set({maxParallelConnections:1}),w.set({maxActiveRequestsPerSession:2}),w.set({maxPendingBufferLen:500})):(w.Tq=!0,w.zO=1,w.cx=2,w.e9=500),n.track.eaa({type:n.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:w.CQ,minRequestSize:w.GO}),this.qya++,w.Yba && (this.t3=!0)):w.Tq && !n.Eu() && (k < w.$ja || p !== u) && (w.set?(w.set({pipelineEnabled:!0}),w.set({maxParallelConnections:3}),w.set({maxActiveRequestsPerSession:3}),w.set({maxPendingBufferLen:12E3})):(w.Tq=!0,w.zO=3,w.cx=3,w.e9=12E3),n.track.eaa({type:n.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:w.CQ,minRequestSize:w.GO}),this.rya++,w.Yba && (this.u3=!0)));W70=5;break;}}};h.prototype.Vsb=function(k,n){var X70,q,u,p;X70=2;for(;X70 !== 6;){switch(X70){case 5:void 0 === this.sn && (this.sn={startTime:f.default.time.ga(),oU:[],N_:[],Gra:void 0,zra:void 0});p=Math.floor((f.default.time.ga() - this.sn.startTime) / p.tM);(q=this.sn.zra,u=this.sn.Gra?p - this.sn.Gra - 1:p);X70=9;break;case 1:X70=this.nPa?5:6;break;case 2:p=this.J;X70=1;break;case 8:(this.sn.oU[u]=k,this.sn.N_[u]=n);X70=7;break;case 9:X70=void 0 === q || p > q?8:7;break;case 7:this.sn.zra=p;X70=6;break;}}};h.prototype.wTb=function(){var Y70,k,Z70;Y70=2;for(;Y70 !== 4;){switch(Y70){case 1:Y70=this.nG.js?5:4;break;case 9:k=this.wb;Y70=6;break;Y70=1;break;case 2:k=this.wb;Y70=1;break;case 5:try{Z70=2;for(;Z70 !== 1;){switch(Z70){case 2:(this.Go.uYb(),this.aQa.fd());Z70=1;break;}}}catch(n){var G7Z="Hindsight: ";G7Z+="Error d";G7Z+="uring cle";G7Z+="an up: ";a000.q3Z(3);k.Gb.Zn(a000.E3Z(G7Z,n));}Y70=4;break;}}};h.prototype.LTb=function(k){var a80;a80=2;for(;a80 !== 1;){switch(a80){case 2:this.J.gN && k === d.default.Wa.Pb && (this.rya=this.qya=this.Hab=this.Iab=this.W6a=this.X6a=0);a80=1;break;}}};L70=12;break;case 10:h.prototype.qtb=function(k){var d80;d80=2;for(;d80 !== 1;){switch(d80){case 4:k.ys=this.ys;d80=2;break;d80=1;break;case 2:k.ys=this.ys;d80=1;break;}}};h.prototype.EFb=function(k){var e80,n,p,q,u,r,w,v,x;e80=2;for(;e80 !== 25;){switch(e80){case 2:var d7Z="sta";d7Z+="r";d7Z+="tplay";var j7Z="l";j7Z+="ogda";j7Z+="t";j7Z+="a";(n={},p=this.J,q=this.wb,u={type:j7Z,target:d7Z,fields:{}});u.fields=n;Object.keys(k).forEach(function(y){var f80;f80=2;for(;f80 !== 1;){switch(f80){case 2:n[y]=k[y];f80=1;break;}}});r=this.Go.get();r && r.Ua && (r=r.Ua.Ba);e80=9;break;case 9:n.actualbw=r;n.isConserv=this.ys;n.ccs=this.W4;e80=6;break;case 6:n.isLowEnd=this.INb;n.histdiscbw=this.KD;w=this.Q0a;e80=12;break;case 11:v=function(y){var g80;g80=2;for(;g80 !== 1;){switch(g80){case 2:return c.Fa(y)?Number(y).toFixed(2):-1;break;}}};r=[v(w.min || void 0),v(w.r$ || void 0),v(w.ol || void 0),v(w.Bj || void 0),v(w.pl || void 0),v(w.s$ || void 0),v(w.max || void 0)];x=[];w=c.isArray(w.Vi) && w.Vi.reduce(function(y,z){var h80,A;h80=2;for(;h80 !== 3;){switch(h80){case 1:z=v(z.n || void 0);-1 < A && -1 < z && y.push({mean:A,n:z});return y;break;case 2:A=v(z.vg || void 0);h80=1;break;}}},x);e80=18;break;case 12:e80=w?11:16;break;case 18:n.histtdc=w;e80=17;break;case 17:n.histtd=r;e80=16;break;case 16:n.histage=this.R0a;p.Kma && this.CL && (n.ishighstable=this.rha,n.avg_avtp=this.CL.bvb,n.avg_ne=Number(this.CL.dvb).toFixed(4));q.qc && (p=f.default.$o(),n.maxAudioBufferAllowedBytes=p[d.default.Wa.Yb],n.maxVideoBufferAllowedBytes=p[d.default.Wa.Pb]);q.emit(u.type,u);e80=25;break;}}};h.prototype.FFb=function(k){var i80,n,p,q,u,r,w,v;i80=2;for(;i80 !== 6;){switch(i80){case 7:var b7Z="n";b7Z+="o";b7Z+="n";b7Z+="e";b7Z !== p.QE && (k.isConserv=this.ys,k.ccs=this.W4);i80=6;break;case 2:(n=this,p=this.J,q=this.Go.get(),u=[]);[d.default.Wa.Pb,d.default.Wa.Yb].forEach(function(x){var j80,y;j80=2;for(;j80 !== 4;){switch(j80){case 2:j80=n.oc(x)?1:4;break;case 1:y=n.wb.U_a(x);void 0 !== y && (x === d.default.Wa.Pb && (p.gN && (y.parallelDownloadMs=n.X6a,y.parallelDownloadBytes=n.W6a,y.singleDownloadMs=n.Iab,y.singleDownloadBytes=n.Hab,y.switchFromParallelToSingle=n.qya,y.switchFromSingleToParallel=n.rya),q && q.confidence && q.Ua && (y.asetput=q.Ua,y.aseiqr=q.Bu,y.tdigest=q.Nk && q.Nk.bA() || void 0),q && q.avtp && (y.avtp=q.avtp.Ba)),u.push(y));j80=4;break;}}});k.stat=u;(r=0,w=0,v=0);q.confidence && (r=q.Ua?q.Ua.Ba:0,w=q.Gk?q.Gk.Ba:0,v=q.Tw?q.Tw.Ba:0);k.location={responseTime:w,httpResponseTime:v,bandwidth:r,confidence:q.confidence,name:this.w5b};this.nPa && (k.bt={startTime:this.sn.startTime,audioMs:this.sn.oU,videoMs:this.sn.N_},this.sn.oU=[],this.sn.N_=[],this.sn.Gra=this.sn.zra);i80=7;break;}}};h.prototype.Zqb=function(k){var k80,n;k80=2;for(;k80 !== 6;){switch(k80){case 5:return !0;break;case 2:n=this.J;k80=1;break;case 1:k80=this.t3 && k.Eu()?5:4;break;case 3:k80=this.u3 && n.Tq && !k.Eu()?9:8;break;case 4:this.t3 && (this.t3=!1);k80=3;break;case 8:this.u3 && (this.u3=!1);return !1;break;case 9:return !0;break;}}};h.prototype.MOa=function(k){var l80,m80;l80=2;for(;l80 !== 4;){switch(l80){case 14:return k;break;l80=4;break;case 2:var I7Z="tdi";I7Z+="g";I7Z+="es";I7Z+="t";m80=this.J.cqa;l80=m80 === I7Z?1:3;break;case 1:k=k.Nk;l80=5;break;case 5:return k;break;case 9:k=k.Bu && k.Bu.B$;l80=5;break;case 3:l80=9;break;}}};h.prototype.lpb=function(k,n,p){var n80,q;n80=2;for(;n80 !== 3;){switch(n80){case 2:q=this.J;this.sha(q.QE,k,n,p)?this.ys=!0:this.ys=!1;this.W4=0;this.sha(q.hsa,k,n,p) && (this.INb=!0);n80=3;break;}}};L70=15;break;case 15:return h;break;case 12:h.prototype.JTb=function(k,n){var b80;b80=2;for(;b80 !== 1;){switch(b80){case 2:k === d.default.Wa.Pb && (this.w5b=n);b80=1;break;}}};h.prototype.cxb=function(k){var c80,n,p,q,u,r;c80=2;for(;c80 !== 6;){switch(c80){case 4:var Y7Z="i";Y7Z+="q";Y7Z+="r";c80=Y7Z === n.QE?3:8;break;case 2:n=this.J;c80=1;break;case 1:var M7Z="n";M7Z+="o";M7Z+="ne";c80=M7Z !== n.QE && !0 !== this.ys && k.state <= n.Gsa?5:6;break;case 5:q=this.Go.get();c80=4;break;case 9:void 0 !== u && void 0 !== u.ol && void 0 !== u.Bj && void 0 !== u.pl && (p=(u.pl - u.ol) / u.Bj);c80=8;break;case 3:u=this.MOa(q);c80=9;break;case 8:r=n.RX?d.default.ig.ey:d.default.ig.YB;q && q.confidence >= r && this.sha(n.QE,q,u,p) && (this.ys=!0,this.W4=k.state);c80=6;break;}}};L70=10;break;}}function h(k,n,p,q,u,r,w,v,x){var M70,O70,z,N70,y;M70=2;for(;M70 !== 32;){switch(M70){case 21:this.CL=new m.NEa(w,u,this.I);M70=23;break;case 26:M70=w && 1 < w.length && u.Kma?25:33;break;case 27:this.rha=!1;M70=26;break;case 15:try{O70=2;for(;O70 !== 4;){switch(O70){case 2:z=new l.default(k,this.I,{bufferSize:f.default.$o()},u);this.Go.atb(z);this.aQa=z;O70=4;break;}}}catch(A){var Q7Z="Hindsight: Erro";Q7Z+="r when creating";Q7Z+=" QoEEvaluato";Q7Z+="r: ";a000.O3Z(3);k.Gb.Zn(a000.Q3Z(Q7Z,A));}M70=27;break;case 25:var E7Z="b";E7Z+="a";E7Z+="se";E7Z+="line";N70=u.ELb;M70=N70 === E7Z?24:22;break;case 2:var q7Z="1";q7Z+="SIYbZ";q7Z+="rNJCp9";this.I=n;this.Go=q;this.oc=v;this.nG=x;q7Z;M70=9;break;case 16:M70=this.nG.js?15:27;break;case 9:this.wb=k;this.Tb=this.I.warn.bind(this.I);this.An=this.I.trace.bind(this.I);this.J=u;this.nPa=0 === Math.floor(1E6 * Math.random()) % u.bka;this.KD=this.Q0a=this.R0a=this.W4=this.ys=void 0;this.rya=this.Hab=this.Iab=this.qya=this.W6a=this.X6a=0;M70=11;break;case 22:var O7Z="L";O7Z+="R";M70=N70 === O7Z?21:35;break;case 18:q=u.RX?d.default.ig.ey:d.default.ig.YB;p && p.confidence >= q && p.Ua && y && this.lpb(p,n,y);M70=16;break;case 24:this.CL=new m.Jda(w,u,this.I);M70=23;break;case 23:this.rha=this.CL.n8();M70=33;break;case 35:M70=34;break;case 11:this.n3=g.LN(u,r);n=this.MOa(p);void 0 !== n && void 0 !== n.ol && void 0 !== n.Bj && void 0 !== n.pl && (y=(n.pl - n.ol) / n.Bj);M70=18;break;case 34:this.CL=new m.Jda(w,u,this.I);M70=23;break;case 33:u.Yba && (this.u3=this.t3=!1);M70=32;break;}}}})();b.$za=a;},function(t,b,a){var g,l,m;function c(d,f,h,k){this.wb=d;this.I=f;this.Vk=this.I.error.bind(this.I);this.Tb=this.I.warn.bind(this.I);this.An=this.I.trace.bind(this.I);this.Ig=this.I.log.bind(this.I);this.rnb=new l();this.J=k;this.l3=[];this.B3=void 0;d=k.H7;g.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.mha=!0;}a(28);b=a(6).default;g=a(144);a(402);l=a(873);new b.Console("ASEJS_QOE_EVAL","media|asejs");m=a(128).VKa || a(128);c.prototype=Object.create(g.prototype);c.prototype.add=function(d,f,h){this.B3 || (this.B3=f);g.prototype.add.call(this,d,f,h);};c.prototype.zHb=function(){var d;if(0 !== this.l3.length){d=[];this.l3.forEach(function(f){f && f.kM && d.push(f.bA());});return d;}};c.prototype.fd=function(){this.l3=[];};c.prototype.tKb=function(){var d,f,h;d=this.get(this.J.H7.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,p){if(n)return (f=n,h=p,!0);});if(f)for(var k=0;k < h;k++){d[k]=f;}}d={trace:d,timestamp:this.B3,mz:this.Jd};this.mha=!1;g.prototype.reset.call(this);this.mha=!0;this.B3=void 0;return d;};c.prototype.Yma=function(d){var f,h,k,n,p,q;if(d && !d.kM){h=d.gu.t2a;h && (d.Ova=this.lja(d),d.caa=!1);if((f=this.tKb()) && f.trace && f.trace.length){k=d.Jj.uE;n=f.timestamp;if(n > k){p=f.mz;q=f.trace[0];k=Math.ceil((n - k) / p);f.timestamp=n - k * p;for(n=0;n < k;n++){f.trace.splice(0,0,q);}}f.trace.length && f.trace.pop();}d.BB=f;f.trace && 0 === f.trace.length || void 0 === f.timestamp || (f=this.bwb(d),d.D6a=f,h && f && (d.caa=f.SD),d.kM=!0,this.l3.push(d));}};c.prototype.bwb=function(d){var p,q,u,r;function f(w){var y;for(var v,x=0;x < w.length;x++){y=w[x].reduce(function(z,A){return A.xb?z + 1:z;},0);if(void 0 === v)v=y;else if(y !== v)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > v?y - v:v - y) * Math.LOG2E) + "]");}}for(var h=this.J.G7,k={SD:!1,c8:!1,ODb:0},n=0;n < h.length;n++){p=h[n];q=this.rnb.create(p);if(q){u=m.now();r={};try{f(d.Px);r=q(d);}catch(w){r.nN=w;}r.Otb=m.now() - u;k[p]=r;k.SD=k.SD || r.SD;k.c8=k.c8 || r.c8;k.nN=k.nN || r.nN;}}return k;};c.prototype.lja=function(d){var f;d=d.gu;f="";1E3 > d.qo && (f+=d.geb);1E3 > d.Ur && (f=f + ("" !== f?",":"") + d.ZRa);1E3 <= d.qo && 1E3 <= d.Ur && (f="media");return f;};t.exports=c;},function(t,b,a){var l;function c(){}function g(m,d,f){return function(h){h.er=d;h.compare=f;return m(h);};}l=a(874);c.prototype.constructor=c;c.prototype.create=function(m){var d;switch(m){case "htwbr":break;case "htwbr-dlvmaf":d=g(l.EW,!1,l.kUa);break;case "htwbr-segvmaf":d=g(l.EW,!0,l.kUa);break;case "hvmafgr":d=g(l.EW,!1,l.ela);break;case "hvmafgr-dlvmaf":d=g(l.EW,!1,l.ela);break;case "hvmafgr-segvmaf":d=g(l.EW,!0,l.ela);break;case "hvmafdp":d=g(l.dp,!1);break;case "hvmafdp-dlvmaf":d=g(l.dp,!1);break;case "hvmafdp-segvmaf":d=g(l.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};t.exports=c;},function(t,b,a){var q,u,r,w,v,x,y,z,A,B,E;function c(D){var F,G,C;F=D.BB;G=D.Jj;C=D.gu.La - G.$;F.timestamp > G.uE && B.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + G.uE);D=[];for(var H,K=F.timestamp,M=0;M < F.trace.length;M++){K >= G.uE && (D.push(F.trace[M]),H=F.trace[M]);K+=F.mz;C-=F.mz;}for(;0 < C;){D.push(H);C-=F.mz;}G=F.mz;F=D.length;if(0 === F)F=[];else {for(G=[G / 1E3];2 * G.length <= F;){G=G.concat(G);}G.length < F && (G=G.concat(G.slice(0,F - G.length)));F=G;}return new x(D,F,!1);}function g(D,F,G){F=D.Px[F][G];return F.fa + D.Jj.vU * F.duration / 8;}function l(D){var F,G,C,H,K,M,I,Q,L;F=D.Jj;G=F.Xm;C=D.gu;H=C.Iw;M=[];for(C=H=Math.min(C.jI,H);C >= G;C--){E.update("backward step loop");I=K=D.Px[0][C].$ - D.Jj.$;C < H && (q(void 0 !== M[C + 1],"expect solution[(fragIndex + 1)] !== undefined"),I=Math.min(M[C + 1].startTime,I));Q=g(D,0,C);L=p(Q,I,D.BB,F.uE);if(0 > L)throw Error("Infeasible: reason throughput at min bitrate");Q={startTime:L,endTime:I,m5:I,nDb:K,JP:Q,Le:0};Q.vYa=C;M[C]=Q;}F=0;for(C=G;C <= H;C++){F+=M[C].JP;M[C].tma=F;}if(!m(D,M,G,H))throw Error("Infeasible: reason buffer capacity at min bitrate");return {SD:!0,vta:0 == M.length,kr:M};}function m(D,F,G,C){var H,K,M,I,Q,L,J,O,N,P;for(;G <= C;G++){E.update("checkBuffer");H=D;K=F;M=G;E.update("check buffer vacancy");I=H.Jj;Q=H.Px[I.QW];L=H.XSa;J=!0;H=H.ZFb(Math.floor(K[M].startTime) + I.$);O=I.kt + K[M].tma;N=0;P=0;if(H.index < I.Xm){for(var S=0,U=I.wB;U < H.index;U++){S+=Q[U].fa;}N+=S;S=0;for(U=I.wB;U < H.index;U++){S+=Q[U].duration;}P+=S;}else (N+=I.kt,P+=I.qo);S=0;for(U=I.Xm;U < H.index;U++){S+=K[U].JP;}N+=S;S=0;for(U=I.Xm;U < H.index;U++){S+=Q[K[U].vYa].duration;}P+=S;H=O - N;I=Q[M].$ + Q[M].duration - I.$ - P;if(I >= L.KA || H >= L.Udb)J=!1;K[M].eTa=H;K[M].ika=I;if(!J)return !1;}return !0;}function d(D){D=D.Jj.Y;for(var F=[],G,C=0;C < D.length;C++){E.update("get prebuffered chunks loop");G=D[C];q(void 0 !== G.xb,"expect frag.vmaf !== undefined");G=new r(G.fa,G.duration / 1E3,G.xb);F.push(G);}return F;}function f(D){var F,G,C,H,K,M,L;F=D.Px;G=D.Jj;C=D.gu;H=C.Iw;K=D.$d;M=[];H=Math.min(C.jI,H);for(var I=0;I < F.length;I++){C=[];for(var Q=G.Xm;Q <= H;Q++){E.update("get chunk map from play segment");L=F[I][Q];L=new r(L.fa,L.duration / 1E3,D.er && void 0 !== L.xb?L.xb:K[I].xb);C.push(L);}M.push(C);}return new w(M,!1);}function h(D,F,G){q(D.TN() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var C=0,H=0,K,M,I=0;I < F.length;I++){E.update("calculate twvmaf");q(F[I].$0a === I,"expect stream_choices[idx].i_epoch === idx");M=D.vm[F[I].M7][I];K=void 0 !== G?G(M.quality):M.quality;M=M.Um;C+=K * M;H+=M;}return {pWa:C / H,oWa:1E3 * H};}function k(D,F,G){q(D.TN() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var C=0,H=0,K=G.Jj.vU,M,I=0,Q=0,L=0;L < F.length;L++){E.update("calculate Bytes");q(F[L].$0a === L,"expect stream_choices[idx].i_epoch === idx");M=D.vm[F[L].M7][L];C+=M.fa;H+=K * M.Um * 1E3 / 8;I+=M.Um * G.$d[F[L].M7].bitrate;Q+=M.Um;}return {nWa:C,kWa:H,mWa:0 < Q?1 * I / Q:0};}function n(D,F,G){F=Math.min(D.length - 1,F);F=Math.max(0,F);return D[F] * G / 8;}function p(D,F,G,C){var H,K,M,I,Q;H=G.trace;K=1 * G.mz;M=F + C - G.timestamp;I=Math.floor(1 * M / K);F=(M - I * K) / K * n(H,I,K);if(F >= D)Q=M - 1 * D / F * (M - I * K);else for(M=I;F < D;){E.update("find download start time");--M;if(0 > M)return -1;I=n(H,M,K);if(F + I >= D){D=(D - F) / I * K;Q=(M + 1) * K - D;break;}F+=I;}return Q + G.timestamp - C;}q=a(4).assert;u=a(875);r=a(403).sgb;w=a(403).tgb;v=a(876).Hhb;x=a(404).Omb;y=a(251).bBa;z=a(243).u1;A=a(85).default;B=new (a(6).default.Console)("ASEJS_QOE_EVAL","media|asejs");E=a(128).VKa || a(128);t.exports={EW:function(D){var F,G,C,H,K,M,I,Q,L,J,O,N,P,S,U,Z,ja,ya,ra,Y,pa,ea,sa,la,Ka,Ua,$a,Za;B.debug("greedy DEBUG false");E.jxa("greedy-" + (D.er?"segvmaf":"dlvmaf") + ": ");try{D.iI=[];F=D.Px;G=D.Jj;C=D.gu;H=C.Iw;K=D.$d;H=Math.min(C.jI,H);for(I=G.Xm;I <= H;I++){Q=new u();D.iI[I]=Q;F[0][I].nka=F[0][I].fa;for(M=1;M < F.length;M++){F[M][I].nka=F[M][I].fa;}M=0;L=F[M][I];L.bE=Infinity;L.Of=M;for(M=1;M < F.length;M++){L=F[M][I];L.Of=M;J=Q.j8()?F[0][I]:Q.eVb();O=8 * L.nka / L.duration;N=8 * J.nka / J.duration;if(D.er && void 0 !== L.xb)(P=L.xb,S=J.xb);else (P=K[M].xb,S=K[J.Of].xb);L.Iu=O - N;L.bE=(P - S) / L.Iu;isFinite(L.bE) && (0 < L.bE || M == F.length - 1) && 0 < L.Iu && Q.enqueue(L);}}for(I=G.Xm;I <= H;I++){G=[];U=[];Z=[];ja=D.iI[I].Bp();for(F=0;F < ja.length;F++){L=ja[F];G.push(L.Iu.toFixed(2));D.er && void 0 !== L.xb?U.push(L.xb):U.push(K[L.Of].xb);Z.push(L.bE.toFixed(4));}}ya=l(D);if(ya.vta)return ya;ra=D.Jj;Y=D.gu;pa=Y.Iw;pa=Math.min(Y.jI,pa);Z=[];for(var T=ra.Xm;T <= pa;T++){D.iI[T].j8() || Z.push(D.iI[T].VM());}q(void 0 !== D.compare,"playSegment.compare required for greedy");for(var R=new z(Z,D.compare);0 < R.length;){E.update("upgrade frags");ea=R.pop();a:{pa=ra=void 0;T=D;Z=ya;U=ea;sa=T.Jj;la=T.gu;Ka=Math.min(la.jI,la.Iw);Ua=JSON.parse(JSON.stringify(Z.kr));q(U && Ua[U.index].Le < U.Of,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");pa=U.index;ra=Ua[pa];ra.Le=U.Of;ra.JP=g(T,ra.Le,pa);ra.startTime=p(ra.JP,ra.m5,T.BB,sa.uE);Ua[pa]=ra;if(0 > ra.startTime)$a=!1;else {for(pa=U.index - 1;pa >= sa.Xm;pa--){ra=Ua[pa];Za=Ua[pa + 1].startTime;if(ra.m5 <= Za)break;ra.m5=Za;ra.startTime=p(ra.JP,ra.m5,T.BB,sa.uE);Ua[pa]=ra;if(0 > ra.startTime){$a=!1;break a;}}for(var cb=U.index + 1;cb <= Ka;cb++){Ua[cb].tma=Ua[cb].JP + (cb > T.Jj.Xm?Ua[cb - 1].tma:0);}for(var Va=U.index + 1;Va <= Ka;Va++){if(Ua[Va].startTime > Ua[U.index].nDb){Ka=Va - 1;break;}}m(T,Ua,U,Math.min(pa + 1,U.index),Ka)?(Z.kr=Ua,$a=!0):$a=!1;}}$a && (D.iI[ea.index].j8() || R.push(D.iI[ea.index].VM()));}}finally{delete D.iI;}for(Ka=la=sa=$a=ea=R=0;Ka < ya.kr.length;Ka++){if(Ua=ya.kr[Ka])(Za=D.Px[Ua.Le][Ua.vYa],R+=(Za.xb?Za.xb:D.$d[Ua.Le].xb) * Za.duration,ea+=Za.duration,$a+=Za.fa,sa+=D.Jj.vU * Za.duration / 8,la+=Za.duration * D.$d[Ua.Le].bitrate);}ya.pWa=0 < ea?1 * R / ea:0;ya.oWa=ea;ya.nWa=$a;ya.kWa=sa;ya.mWa=0 < ea?1 * la / ea:0;ya.IA=E.f_a();B.debug("Max heap used: " + Math.round(ya.IA / 1024 / 1024) + " MB");return ya;},ela:function(D,F){if(D.bE < F.bE)return 1;if(D.bE > F.bE)return -1;if(D.Iu > F.Iu)return 1;if(D.Iu < F.Iu)return -1;if(D.index > F.index)return 1;if(D.index < F.index)return -1;throw Error("Invalid frag comparison");},kUa:function(D,F){if(D.Iu > F.Iu)return 1;if(D.Iu < F.Iu)return -1;if(D.index > F.index)return 1;if(D.index < F.index)return -1;throw Error("Invalid frag comparison");},dp:function(D){var F,G,C,H,K,M;E.jxa("dp-" + (D.er?"segvmaf":"dlvmaf") + ": ");F=l(D);if(!1 === F.SD || !0 === F.vta)return F;G=f(D);C=new v(G);H=d(D);H={hcb:c(D),rSa:D.Jj.vU,l5a:0,L4a:240,K4a:8 * D.XSa.Udb / 1E3,bTa:.5,JSa:new y(H),jXa:0,Jcc:void 0,m0a:void 0,z8a:void 0,GRa:!0};C=C.Bx(H);H=h(G,C,void 0);G=k(G,C,D);K=[];M=D.Jj.Xm;C.forEach(function(I){K[M]={Le:I.M7};M++;});A(H,F);A(G,F);F.kr=K;F.IA=E.f_a();B.debug("Max heap used: " + Math.round(F.IA / 1024 / 1024) + " MB");return F;}};},function(t){var c;function b(g){this.Fg=a(g);this.Sg=this.rf=0;if(c(g)){for(var l=g.length,m=0;m < l;++m){this[m]=g[m];}this.rf=l;}}function a(g){if("number" !== typeof g)if(c(g))g=g.length;else return 16;g=Math.min(Math.max(16,g),1073741824);g=(g >>> 0) - 1;g|=g >> 1;g|=g >> 2;g|=g >> 4;g|=g >> 8;return (g | g >> 16) + 1;}b.prototype.Bp=function(){for(var g=this.rf,l=Array(g),m=this.Sg,d=this.Fg,f=0;f < g;++f){l[f]=this[m + f & d - 1];}return l;};b.prototype.push=function(g){var l,m,d,h;l=arguments.length;m=this.rf;if(1 < l){d=this.Fg;if(m + l > d){for(var f=0;f < l;++f){this.x2(m + 1);h=this.Sg + m & this.Fg - 1;this[h]=arguments[f];m++;this.rf=m;}return m;}h=this.Sg;for(f=0;f < l;++f){this[h + m & d - 1]=arguments[f];h++;}this.rf=m + l;return m + l;}if(0 === l)return m;this.x2(m + 1);f=this.Sg + m & this.Fg - 1;this[f]=g;this.rf=m + 1;return m + 1;};b.prototype.pop=function(){var g,l,m;g=this.rf;if(0 !== g){l=this.Sg + g - 1 & this.Fg - 1;m=this[l];this[l]=void 0;this.rf=g - 1;return m;}};b.prototype.shift=function(){var g,l,m;g=this.rf;if(0 !== g){l=this.Sg;m=this[l];this[l]=void 0;this.Sg=l + 1 & this.Fg - 1;this.rf=g - 1;return m;}};b.prototype.unshift=function(g){var l,m,d,h;l=this.rf;m=arguments.length;if(1 < m){d=this.Fg;if(l + m > d){for(var f=m - 1;0 <= f;f--){this.x2(l + 1);d=this.Fg;h=(this.Sg - 1 & d - 1 ^ d) - d;this[h]=arguments[f];l++;this.rf=l;this.Sg=h;}return l;}h=this.Sg;for(f=m - 1;0 <= f;f--){h=(h - 1 & d - 1 ^ d) - d;this[h]=arguments[f];}this.Sg=h;this.rf=l + m;return l + m;}if(0 === m)return l;this.x2(l + 1);d=this.Fg;f=(this.Sg - 1 & d - 1 ^ d) - d;this[f]=g;this.rf=l + 1;this.Sg=f;return l + 1;};b.prototype.eVb=function(){var g;g=this.rf;if(0 !== g)return this[this.Sg + g - 1 & this.Fg - 1];};b.prototype.get=function(g){var l;if(g === (g | 0)){l=this.rf;0 > g && (g+=l);if(!(0 > g || g >= l))return this[this.Sg + g & this.Fg - 1];}};b.prototype.j8=function(){return 0 === this.rf;};b.prototype.clear=function(){for(var g=this.rf,l=this.Sg,m=this.Fg,d=0;d < g;++d){this[l + d & m - 1]=void 0;}this.Sg=this.rf=0;};b.prototype.toString=function(){return this.Bp().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.VM=b.prototype.shift;b.prototype.toJSON=b.prototype.Bp;Object.defineProperty(b.prototype,"length",{get:function(){return this.rf;},set:function(){throw new RangeError("");}});b.prototype.x2=function(g){this.Fg < g && this.Jrb(a(1.5 * this.Fg + 16));};b.prototype.Jrb=function(g){var l,m;l=this.Fg;this.Fg=g;g=this.Sg;m=this.rf;if(g + m > l)for((g=g + m & l - 1,m=0);m < g;++m){this[m + l]=this[m + 0];this[m + 0]=void 0;}};c=Array.isArray;t.exports=b;},function(t,b,a){var q,u,r,w,v;function c(x,y,z){this.MSa=this.Xnb(x,y,z);}function g(){}function l(){}function m(){}function d(x){this.pxb=x;}function f(){}function h(){}function k(){}function n(){this.pma={};}function p(x,y){return Array.apply(0,Array(y)).map(function(z,A){return A + x;});}q=a(2);u=a(4).assert;b=a(251).bBa;r=a(404).Pmb;w=a(251).Vfb;new (a(6).default.Console)("ASEJS_QOE_EVAL","media|asejs");v=a(128).VKa || a(128);c.prototype.constructor=c;c.prototype.Xnb=function(x,y,z){u(x < y,"expect min_buffer_sec < max_buffer_sec but got " + x + " and " + y);u(0 < z,"expect buffer_step_sec > 0. but got " + z);for(var A=[];x < y;x+=z){A.push(x);}A[A.length - 1] < y && A.push(y);return A;};c.prototype.DD=function(x){return this.Xob(x,this.MSa);};c.prototype.Xob=function(x,y){x=this.QCb(x,y);if(0 === x)throw new g();if(x === y.length)throw new l();return x;};c.prototype.QCb=function(x,y){u(0 < y.length,"expect bins.length > 0 but got " + y.length);if(x < y[0])return 0;if(x >= y[y.length - 1])return y.length;for(var z=1;z < y.length;z++){if(y[z - 1] <= x && x < y[z])return z;}u(!1,"expect not coming here in digitize()");};c.prototype.s7=function(){return p(1,this.MSa.length - 1);};g.prototype=Error();l.prototype=Error();m.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.Ogb=-20;d.prototype.Ngb=20;d.prototype.Mgb=void 0;d.prototype.Hgb=new b(void 0);d.prototype.Jgb=0;d.prototype.Igb=1;d.prototype.Rgb=!1;d.prototype.Lgb=!0;d.prototype.Kgb=!0;d.prototype.Pgb=void 0;d.prototype.Fgb=!0;d.prototype.Ggb=0;d.prototype.Bx=function(x){u(void 0 !== x.hcb,"expect recipe.time_varying_bandwidth !== undefined");return this.Lrb(this.pxb,x.hcb,void 0 !== x.l5a?x.l5a:this.Ogb,void 0 !== x.L4a?x.L4a:this.Ngb,void 0 !== x.K4a?x.K4a:this.Mgb,void 0 !== x.JSa?x.JSa:this.Hgb,void 0 !== x.jXa?x.jXa:this.Jgb,void 0 !== x.bTa?x.bTa:this.Igb,void 0 !== x.W0b?x.W0b:this.Rgb,void 0 !== x.PKb?x.PKb:this.Lgb,void 0 !== x.m0a?x.m0a:this.Kgb,void 0 !== x.z8a?x.z8a:this.Pgb,void 0 !== x.GRa?x.GRa:this.Fgb,void 0 !== x.rSa?x.rSa:this.Ggb);};d.prototype.Lrb=function(x,y,z,A,B,E,D,F,G,C,H,K,M,I){var L,J,O,N,P,ra,sa,la,Ka,Ua,$a,Za,cb,Va,Qa,xa,Da,Na,Xa,hb,Eb;function Q(Fb){return Fb[P];}v.jxa("dp: ");u(z <= E.Fh,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");u(E.Fh <= A,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");u(z <= D,"expect min_buffer_sec <= end_buffer_sec");u(D <= A,"expect end_buffer_sec <= max_buffer_sec");void 0 !== B && u(E.$l <= B,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + E.$l + " and " + B);J=new c(z,A,F);F=new n();O=0;N=E;F.put([0,J.DD(E.Fh)],[O,N,void 0,void 0,y,void 0,void 0,void 0]);y=N=0;E=x.KKb();u(x.TN() == E.length,"expect chunk_map.get_n_epoch() == durations_sec.length");P=-1;try{for(var S=q.__values(E),U=S.next();!U.done;U=S.next()){P+=1;E=!0;for(var Z=x.vm.map(Q),ja=J.s7(),ya=0;ya < ja.length;ya++){ra=ja[ya];if(F.rra([P,ra]))for(var Y=F.get([P,ra]),pa=Y[0],T=Y[1],R=Y[4],ea=0;ea < Z.length;ea++){sa=Z[ea];v.update("epoch-ibuf-chunk loop");la=void 0 !== K?K(sa.quality):sa.quality;Ka=R.Yt();try{Y=this.Cob(T,sa,Ka,I);Ua=Y[0];$a=Y[1];Za=Y[2];cb=Y[3];Va=Y[4];Qa=Y[5];}catch(Fb){if(Fb instanceof r)continue;else if(Fb instanceof g){N+=1;continue;}else throw Fb;}xa=!1;Da=!1;try{Na=J.DD(cb.Fh);C && J.DD(Ua);H && J.DD($a);if(void 0 !== B)if(H){if(Za.$l > B)throw new m();}else if(cb.$l > B)throw new m();}catch(Fb){if(Fb instanceof g)(Na=void 0,N+=1);else if(Fb instanceof l)(M?xa=!0:y+=1,Na=void 0);else if(Fb instanceof m)(M?Da=xa=!0:y+=1,Na=void 0);else throw Fb;}try{if(xa && Da){u(void 0 !== B,"expect max_buffer_kb !== undefined");Xa=H?Za.$l - B:cb.$l - B;u(0 <= Xa,"pause dlnd kb cannot be -ve but is " + Xa);try{hb=cb.BVb(Xa);}catch(Fb){if(Fb instanceof w)throw new g();throw Fb;}Ka.m7a(hb);Va+=hb;u(cb.Fh < A,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Na=J.DD(cb.Fh);}else if(xa && !Da){hb=H?Za.Fh - A + 1E-8:cb.Fh - A + 1E-8;u(0 <= hb,"pause dlnd kb cannot be -ve but is " + hb);try{cb.G7a(hb);}catch(Fb){if(Fb instanceof w)throw new g();throw Fb;}Ka.m7a(hb);Va+=hb;u(z <= cb.Fh,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");u(cb.Fh < A,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Na=J.DD(cb.Fh);}else hb=0;}catch(Fb){if(Fb instanceof g)(Na=void 0,N+=1,hb=void 0);else if(Fb instanceof r)continue;else throw Fb;}O=F.rra([P + 1,Na])?F.get([P + 1,Na])[0]:-Infinity;this.usb(cb,Na,sa,la,ra,P + 1,O,F,pa,ea,Ka,Va,Qa,hb) && (E=!1);}}if(E){--P;break;}}}catch(Fb){var wb;wb={error:Fb};}finally{try{U && !U.done && (L=S.return) && L.call(S);}finally{if(wb)throw wb.error;}}try{Eb=this.DOa(P + 1,J.DD(D),F,G,J);}catch(Fb){if(Fb instanceof f)try{Eb=this.DOa(P + 1,J.DD(D),F,!G,J);}catch(Nb){if(Nb instanceof f){if(N > y)throw new h();throw new k();}throw Nb;}else throw Fb;}ra=Eb;for(z=[];-1 < P;P--){Y=F.get([P + 1,ra]);O=Y[0];N=Y[1];ra=Y[3];A=Y[5];B=Y[6];D=Y[7];Y=Y[2];sa=x.vm[Y][P];G=sa.gA();la=sa.quality;z.unshift({$0a:P,M7:Y,info:{hbc:G,quality:la,dka:N.Fh,cka:N.$l,MWa:A,Ua:B,sua:D}});}return z;};d.prototype.DOa=function(x,y,z,A,B){var E,D;E=!1;D=B.s7()[0];for(B=B.s7()[B.s7().length - 1];;){if(y < D || y > B){E=!0;break;}if(z.rra([x,y]))break;else y=A?y - 1:y + 1;}if(E)throw new f("backtrack fails to find a solution");return y;};d.prototype.usb=function(x,y,z,A,B,E,D,F,G,C,H,K,M,I){z=G + A * z.Um;return void 0 !== y && z > D?(F.put([E,y],[z,x,C,B,H,K,M,I]),!0):!1;};d.prototype.Cob=function(x,y,z,A){var B,E,D;A=(y.gA() + A) * y.Um;z=z.vDb(A);A/=z;B=x.Fh - z;E=x.Fh + y.Um;D=x.Yt();D.add(y,void 0);x=x.Yt();x.add(y,void 0);try{x.G7a(z);}catch(F){if(F instanceof w)throw new g();throw F;}return [B,E,D,x,z,A];};f.prototype=Error();h.prototype=new f();k.prototype=new f();n.prototype={Sya:function(x){return x.join(",");},put:function(x,y){this.pma[this.Sya(x)]=y;},get:function(x){return this.pma[this.Sya(x)];},rra:function(x){return (this.Sya(x) in this.pma);}};t.exports={Hhb:d,O6b:c,n6b:g,o6b:l};},function(t,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ILa=void 0;t=a(2);c=t.__importStar(a(10));g=a(16);l=a(16);m=t.__importDefault(a(6));d=a(220);f=a(401);a=(function(){var o80;o80=2;function h(k,n,p,q){var p80;p80=2;for(;p80 !== 9;){switch(p80){case 2:this.cb=k;p80=1;break;case 1:var D7Z="1";D7Z+="SIY";D7Z+="bZrNJ";D7Z+="Cp";D7Z+="9";this.I=n;this.oc=p;this.mi=q;D7Z;p80=9;break;}}}for(;o80 !== 13;){switch(o80){case 4:h.prototype.ppb=function(k){var w80;w80=2;for(;w80 !== 1;){switch(w80){case 4:return + -this.cb.xh(k).jU;break;w80=1;break;case 2:return ! !this.cb.xh(k).jU;break;}}};h.prototype.cU=function(k){var x80,n;x80=2;for(;x80 !== 4;){switch(x80){case 2:n=this;k=this.cb.xh(k);k.jU || (k.jU=!0,l.Df.forEach(function(p){var y80;y80=2;for(;y80 !== 1;){switch(y80){case 2:n.cb.Rg[p].resume();y80=1;break;}}}),this.cb.OT());x80=4;break;}}};h.prototype.lrb=function(k,n){var z80,p,q,u;z80=2;for(;z80 !== 8;){switch(z80){case 4:z80=(null === (q=this.cb.Jh) || void 0 === q?0:q.GD())?3:9;break;case 9:this.cb.vV.eQa(u,k.ib.P);z80=8;break;case 3:(this.cb.Jh.Vl.forEach(function(r){var A80;A80=2;for(;A80 !== 1;){switch(A80){case 2:p.cb.AG(r,!1);A80=1;break;case 4:p.cb.AG(r,~8);A80=4;break;A80=1;break;}}}),this.cb.Jh=void 0);z80=9;break;case 2:(p=this,u=k.mediaType);k.sJ(n);k.fZb();z80=4;break;}}};h.prototype.Yga=function(){var B80,k,n;B80=2;for(;B80 !== 4;){switch(B80){case 1:(k=this.BC.mk,n=this.BC.Qb);this.cb.xh(n) && (this.BC=void 0,this.Rs(k,n));B80=4;break;case 2:B80=this.BC?1:4;break;}}};h.prototype.mo=function(k){var C80,p,q;C80=2;function n(u,r){var D80;D80=2;for(;D80 !== 5;){switch(D80){case 2:var r7Z="skip: unexpe";r7Z+="c";r7Z+="ted behaviour - a non-pres";r7Z+="enting branch doesn't have";r7Z+=" a previous branch";u !== p.cb.Pa.Bi && (u.yg?n(u.yg,r):p.I.error(r7Z));(u=u.Td(r)) && u.mo();D80=5;break;}}}for(;C80 !== 7;){switch(C80){case 2:p=this;null === (q=this.kPa) || void 0 === q?void 0:q.cancel();this.cb.Yxa();this.cb.Pa.Bi.mo(k);l.Df.forEach(function(u){var E80,r;E80=2;for(;E80 !== 9;){switch(E80){case 2:E80=p.oc(u)?1:9;break;case 1:var V6R="skip: ";V6R+="not resuming";V6R+=" bufferManager, audio";V6R+=" t";V6R+="rack switch in progress";r=p.cb.Bb.Nf[u];p.cb.js && (r.Lxa=m.default.time.ga());r.GQ?r.Tb(V6R):p.cb.Rg[u].resume();n(p.cb.Pa.Zc,u);E80=9;break;}}});this.kPa=k=new d.SF(this.cb.yJ());return k.Vta(function(){var F80;F80=2;for(;F80 !== 5;){switch(F80){case 2:p.cb.X.Me(g.ta.Lc);p.cb.XT();F80=5;break;}}}).Awa;break;}}};o80=6;break;case 6:h.prototype.Ui=function(k){var G80,n,p,q;G80=2;for(;G80 !== 8;){switch(G80){case 4:n=this.cb.ku(k,0,!0);k=this.cb.ku(k,1,!0);return void 0 !== n && void 0 !== k && n.complete && k.complete;break;case 1:G80=k < (null !== (n=p.zd) && void 0 !== n?n:p.Aqa) || k >= q?5:4;break;case 2:(p=this.cb.Pa.Bi,q=0 < Object.keys(p.H && p.H.Ml || ({})).length && !p.cl?p.oe - this.cb.J.hE:p.oe);G80=1;break;case 5:return !1;break;}}};return h;break;case 2:h.prototype.Rs=function(k,n){var q80,x,v,w,p,q,u,r;q80=2;for(;q80 !== 50;){switch(q80){case 21:q80=!this.cb.L3(u.P.Qb + 1)?35:31;break;case 32:(k=r,q=k + this.cb.Pa.Fe);q80=31;break;case 16:return;break;case 37:u.yta();x=this.cb.Pa.Zc;l.Df.forEach(function(y){var t80,z;t80=2;for(;t80 !== 5;){switch(t80){case 2:z=x.Td(y);p.oc(y) && p.lrb(z,v[y]);t80=5;break;}}});q80=53;break;case 35:this.BC={Qb:u.P.Qb + 1,mk:k};q80=34;break;case 44:l.Df.forEach(function(y){var s80;s80=2;for(;s80 !== 1;){switch(s80){case 2:p.cb.jw[y].Tm(!0);s80=1;break;}}});q80=43;break;case 6:!u.P.pf.BX && 0 < n && (q=this.cb.LM(n,k));this.cb.X.Me(g.ta.lj);r=this.cb.He;q80=12;break;case 31:this.cb.X.Me(g.ta.Ih);this.cb.Yxa();this.cb.Pa.i2b(k,n);q80=28;break;case 18:var R6R="se";R6R+="ekD";R6R+="e";R6R+="lay";R6R+="ed";this.BC={Qb:n,mk:k};this.cb.emit(R6R);q80=16;break;case 19:q80=!this.cb.fOa(n)?18:15;break;case 27:return;break;case 26:r=this.cb.Pa.Zc.PV(u.La || Infinity,u.P);q80=25;break;case 51:var m6R="seekF";m6R+="aile";m6R+="d";var h6R="seek,";h6R+=" no man";h6R+="ifest at";h6R+=" manif";h6R+="estIndex:";(this.I.warn(h6R,n),this.cb.emit(m6R));q80=50;break;case 15:q80=this.$r(f.Lca.Yna(n),!1,!0)?27:26;break;case 12:q80=n != r.P.Qb?11:26;break;case 8:this.cb.Pa.Q9a();q80=7;break;case 23:q80=k > r?22:31;break;case 53:this.cb.OT();q80=43;break;case 7:q80=(u=this.cb.xh(n))?6:51;break;case 39:this.cb.hia();v=this.cb.Pa.Zc.H4(k).lP;q80=37;break;case 28:q80=(r=this.cb.He.P.Qb === n && !this.ppb(n) && k === u.$)?44:39;break;case 41:var P6R="seekF";P6R+="ail";P6R+="e";P6R+="d";var J6R="after seeking, player";J6R+="Stat";J6R+="e no lon";J6R+="ger STARTING: ";this.I.warn(J6R + this.cb.X.getState());this.cb.emit(P6R);q80=50;break;case 52:var u6R="s";u6R+="ee";u6R+="kDelay";u6R+="e";u6R+="d";(this.BC={Qb:n,mk:k},this.cb.emit(u6R));q80=50;break;case 43:q80=this.cb.X.y2a()?42:41;break;case 22:q80=u.P.pf.Ie?21:32;break;case 24:r=this.cb.Wr?this.cb.cn?Math.min(r[0].$,r[1].$):r[0].$:r[1].$;q80=23;break;case 42:var F6R="s";F6R+="e";F6R+="e";F6R+="k";var U6R="p";U6R+="tsc";U6R+="h";U6R+="ange";U6R+="d";return (this.cb.emit(U6R,q),this.cb.emit(F6R),this.cU(n),k=r && this.cb.Bb.Ey()?100:0,this.cb.z3(1,k),this.cb.ek(),q);break;case 11:n < r.P.Qb && u.P.pf.replace && (u.P.pf.replace=!1);w=this.cb.Pa.Zc;l.Df.forEach(function(y){var r80;r80=2;for(;r80 !== 1;){switch(r80){case 2:(y=w.Td(y)) && p.cb.rQa(y);r80=1;break;}}});q80=19;break;case 25:q80=r.length?24:52;break;case 33:return;break;case 2:var o6R=" play";o6R+="erState";o6R+=": ";var z6R=" m";z6R+="edia.current";z6R+="Pts";z6R+=": ";var x6R=" ";x6R+="c";x6R+="urrent m";x6R+="anifest: ";var w6R=" ma";w6R+="nifestIndex";w6R+=": ";var f6R="s";f6R+="e";f6R+="ek: ";p=this;null === (q=this.kPa) || void 0 === q?void 0:q.cancel();(u=this.cb.J,r=this.cb.X.Ue());q=k;u.vi && this.mi.Mm(f6R + k + w6R + n + x6R + this.cb.He.P.Qb + z6R + r + o6R + this.cb.X.getState());c.ka(n) && (n=this.cb.He.P.Qb);q80=8;break;case 34:var e6R="s";e6R+="eek";e6R+="Del";e6R+="a";e6R+="yed";this.cb.emit(e6R);q80=33;break;}}};h.prototype.seek=function(k,n){var u80,p;u80=2;for(;u80 !== 9;){switch(u80){case 2:p=k;c.ka(n) && (n=this.cb.He.P.Qb);this.cb.Pa.Q9a();this.cb.xh(n).P.pf.BX || this.cb.LL || (p=this.cb.Xt(n,k));u80=3;break;case 3:return this.Rs(p,n);break;}}};h.prototype.$r=function(k,n,p){var v80,q,u;v80=2;for(;v80 !== 9;){switch(v80){case 2:u=this.cb.Pa.$r(k,n);v80=1;break;case 6:v80=n?1:3;break;v80=n?5:4;break;case 1:v80=n?5:4;break;case 5:return u;break;case 14:return u;break;v80=4;break;case 4:var s6R="s";s6R+="e";s6R+="e";s6R+="k";var S6R="p";S6R+="ts";S6R+="c";S6R+="h";S6R+="anged";u?(this.cb.X.Me(g.ta.lj),(k=this.cb.Pa.Bi.children[k]) && this.cb.emit(S6R,null !== (q=k.zd) && void 0 !== q?q:k.Aqa),this.cb.X.Me(g.ta.Ih),this.cb.emit(s6R),k && this.cU(k.P.Qb),this.cb.z3(1),this.cb.ek(),this.cb.Bb.Ey()):p || (q=this.cb.Pa.$Jb(k),this.Rs(q));return u;break;}}};o80=4;break;}}})();b.ILa=a;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.VCa=void 0;t=a(2);c=t.__importStar(a(10));g=a(16);l=t.__importDefault(a(6));a=(function(){var H80;H80=2;for(;H80 !== 18;){switch(H80){case 12:m.prototype.Snb=function(d,f){var c90,v,h,k,n,p,q,u,r,w,x;c90=2;for(;c90 !== 32;){switch(c90){case 9:q=d.Ta.pua;c90=8;break;case 8:c90=q >= k.e9?7:6;break;case 3:return !1;break;case 19:c90=this.Va.qc.lra?18:17;break;case 26:c90=this.Vob(n) >= k.E4a?25:24;break;case 21:c90=(p=this.Va.X.ug())?35:33;break;case 11:u=this.Va.Pa.OG(p,n);x=0;c90=20;break;case 22:return !1;break;case 17:w=void 0;f && (w=f.mediaType,v=l.default.$o()[w],w=k.I4b?this.Va.Pa.X3a(p,w).hh / v:x / v);c90=15;break;case 34:return !1;break;case 4:c90=(null === (h=d.fh) || void 0 === h?0:h.lLb())?3:9;break;case 7:return !1;break;case 25:return !1;break;case 5:v=f?f.Cc:0;c90=4;break;case 18:return !1;break;case 2:var C6R="f";C6R+="l";C6R+="oored ";C6R+="to ";C6R+="0";var n6R="negative s";n6R+="cheduledBufferLevel";n6R+=":";(k=this.Va.J,n=d.mediaType,p=d.N8,q=this.Va.X.Ue(),u=this.Va.X.getState(),r=this.Va.Pa.zw(p,n),w=d.Cc + p.Fe - q);0 > w && (d.Tb(n6R,w,C6R),w=0);c90=5;break;case 15:c90=void 0 === w || w < k.GQb?27:26;break;case 20:c90=f && (x=this.Va.Pa.OG(p,f.mediaType),v=d.Cc - v,this.oc(f.mediaType) && !f.hi && v >= k.Isa && w > k.zj)?19:26;break;case 24:w=this.Va.Pa.d3b();c90=23;break;case 13:c90=u === g.ta.Lc && r > k.Asa && !h.pf.Ie && !x && !h.AX || r && q > Math.max(r * k.Esa / 100,k.MRb)?12:11;break;case 27:return !1;break;case 35:c90=(q=1,d.fka < k.LA && (q=k.LA),d.Ta.nE >= q)?34:33;break;case 23:c90=!c.ka(k.cx) && w >= k.cx || d.FM + q >= Math.max(k.KA,this.Va.qc.uB + k.Hta * p.P.KQb[n])?22:21;break;case 6:h=this.Va.He.P;x=this.Va.X.ip(h);c90=13;break;case 12:return !1;break;case 33:return 0 < k.Ju && !p && u + (f?x:0) > k.Ju || void 0 !== this.$Na && r > this.$Na || 1 === n && h.pf.Ie && r > k.b9 && (f=this.Va.qc.Wb.get(),f.confidence && f.Ua && f.Ua.Ba * d.FM > k.Csa)?!1:!0;break;}}};m.prototype.Vob=function(d){var d90;d90=2;for(;d90 !== 1;){switch(d90){case 2:return this.Va.Pa.Ib.reduce(function(f,h){var e90;e90=2;for(;e90 !== 1;){switch(e90){case 2:return f + h.TJb(d);break;}}},0);break;}}};m.prototype.Zwb=function(d){var f90,f,h,k;f90=2;for(;f90 !== 4;){switch(f90){case 2:(f=this,h=this.Va.Pa,k=!0);c.tf(d.H.Ml,function(n,p){var g90,q;g90=2;for(;g90 !== 7;){switch(g90){case 8:var W6R="i";W6R+="n des";W6R+="ts";W6R+=":";var a6R="inva";a6R+="lid ";a6R+="se";a6R+="gment:";d.Tb(a6R,p,W6R,d.H.Ml);g90=7;break;case 2:g90=(n=h.mf(p))?1:8;break;case 1:p=n.P;n=p.zh[0];q=p.zh[1];n && q && n.stream.ke && q.stream.ke || (k=!1);f.Va.X.ip(p) || (k=!1);g90=7;break;}}});return k;break;}}};H80=20;break;case 2:m.prototype.y2=function(){var J80;J80=2;for(;J80 !== 1;){switch(J80){case 2:this.XF && (clearTimeout(this.XF),this.XF=void 0);J80=1;break;}}};m.prototype.vOa=function(){var K80,d,f,h,k;K80=2;for(;K80 !== 6;){switch(K80){case 2:K80=!this.Va.bj.tia && !this.Va.vn()?1:6;break;case 1:var X6R="fir";X6R+="stDriveStrea";X6R+="ming";void 0 === this.Va.oob && (this.Va.oob=!0,this.Va.Gb.km(X6R));(d=this.Va.Pa,f=d.Zc.Td(0),h=d.Zc.Td(1),k=!h || h.hi);(!f || f.hi) && k && this.Va.LL && d.Pxb(h?h.Mc:f.Mc);h=!h || h.zr;K80=9;break;case 9:f && !f.zr || !h || this.Va.LL || (this.Va.qc.If && this.Va.qc.If.fq(!0,this.Va.hm.sessionId),this.Va.Gb.d6a());this.sOa(d.Zc);this.psb();K80=6;break;}}};m.prototype.AQa=function(){var L80;L80=2;for(;L80 !== 1;){switch(L80){case 2:return this.Va.vn() || this.Va.X.A2a() || this.Va.X.z2a()?!0:!1;break;}}};m.prototype.C2=function(d){var M80;M80=2;for(;M80 !== 1;){switch(M80){case 2:return this.AQa() || this.Va.Bb.Nf[d.mediaType].GQ || this.Va.zy.fz?!1:!0;break;}}};m.prototype.ek=function(){var N80,d,f;N80=2;for(;N80 !== 5;){switch(N80){case 2:(d=this,f=this.Va.J);!this.Va.RPa || this.Va.r3 || this.Va.E3 || (this.Va.r3=setTimeout(function(){var O80;O80=2;for(;O80 !== 4;){switch(O80){case 2:clearTimeout(d.Va.r3);d.Va.r3=void 0;d.vOa();O80=4;break;}}},f.Gua),f.gN && this.Va.cn && (this.XF || (this.XF=setTimeout(function(){var P80,h;P80=2;for(;P80 !== 3;){switch(P80){case 4:h && d.NNa(h);P80=3;break;case 2:clearTimeout(d.XF);d.XF=void 0;h=d.Va.Pa.Zc.Td(1);P80=4;break;}}},f.Tsb))));N80=5;break;}}};m.prototype.NNa=function(d,f){var Q80,h,k,n,p;Q80=2;for(;Q80 !== 3;){switch(Q80){case 2:(h=d.mediaType,k=this.Va.Bb.gx[h].fI,n=d.Pf.gX);Q80=1;break;case 1:Q80=k && n?5:3;break;case 5:p=this.Va.Bb.Nf[h].Kf;p && (this.Va.X.ug() || this.Va.Cg.Ssb(h,p,k.bitrate,n.bitrate,d.HLb.bitrate,f));Q80=3;break;}}};m.prototype.sOa=function(d,f){var R80,h,k,n,p,q;R80=2;for(;R80 !== 7;){switch(R80){case 4:R80=(this.Va.cn && this.tOa(d,k,n),this.Va.Wr && this.tOa(d,n,k),p=!n || n.hi,q=!k || k.hi,!q || !p)?3:9;break;case 2:(h=d.H,k=d.Td(1),n=d.Td(0),p=!n || n.hi,q=!k || k.hi);h.Rq || this.Va.Pa.X9(d,h,d.P.pf.Ie && 0 === d.P.Qb);R80=5;break;case 3:return;break;case 5:R80=!q || !p?4:9;break;case 9:var H6R="Still";H6R+=" in buffering state while pipeli";H6R+="ne's are done";this.Va.X.ug() && (this.I.warn(H6R),this.Va.Bb.Ey());f || h.sv || d.P.pf.Ie || !this.Zwb(d) || ((f=this.Va.X.ug()) && this.Va.J.Vla && (this.Va.oia(),f=!1),d.v6 || this.Va.Pa.LLb(d,f),d.pM(),d.$wb() && (f=Object.keys(d.children),this.Va.J.M5 && 1 === f.length && !d.children[f[0]].active && this.Va.Pa.W3a(d,f[0]),this.sob(d,h)));R80=7;break;}}};H80=7;break;case 20:m.prototype.psb=function(){var h90,d,f,h;h90=2;for(;h90 !== 5;){switch(h90){case 2:(d=this.Va.J,f=this.Va.Pa,h=f.Zc);this.Va.X.ug() || f.zw(h,1) < d.JX || h.P.Pya();h90=5;break;}}};return m;break;case 7:m.prototype.sob=function(d,f){var S80,q,u,r,w,n,p,k,h;S80=2;for(;S80 !== 23;){switch(S80){case 7:(q=[],u=[]);c.tf(d.children,function(v,x){var T80;T80=2;for(;T80 !== 5;){switch(T80){case 2:x=f.Ml[x].weight;0 !== x && (x={weight:x,ib:v},v.Ika(!0,!0) || u.push(x),q.push(x));T80=5;break;}}});0 === u.length?u=q:2 < u.length && (u.sort(function(v,x){var U80;U80=2;for(;U80 !== 1;){switch(U80){case 2:return x.weight - v.weight;break;}}}),u.length=2);S80=13;break;case 19:var y6R="No subbranch candid";y6R+="ates to d";y6R+="ri";y6R+="v";y6R+="e";this.I.warn(y6R);S80=18;break;case 15:d.pL=n;S80=27;break;case 26:n.me || (n.me={W7:l.default.time.ga(),lB:0});n.me.weight=p;this.sOa(n,!0);S80=23;break;case 4:S80=Math.min(k[0] - d.Bga[0],k[1] - d.Bga[1]) >= h.oxb?3:9;break;case 10:0 !== r && 0 !== w?(c.tf(u,function(v){var W80;W80=2;for(;W80 !== 4;){switch(W80){case 2:v.N5b=v.weight / r;v.Kvb=v.x9 / w;v.usage=v.Kvb - v.N5b;W80=4;break;}}}),u.sort(function(v,x){var X80;X80=2;for(;X80 !== 1;){switch(X80){case 2:return v.usage - x.usage;break;}}})):u.sort(function(v,x){var Y80;Y80=2;for(;Y80 !== 4;){switch(Y80){case 2:v=Math.min.apply(null,v.ib.Sm);x=Math.min.apply(null,x.ib.Sm);a000.O3Z(0);return a000.E3Z(v,x);break;}}});S80=20;break;case 12:n=u.reduce(function(v,x){var V80;V80=2;for(;V80 !== 4;){switch(V80){case 2:x.Sm=x.ib.Sm;x.x9=Math.min(x.Sm[0],x.Sm[1]);a000.O3Z(0);var M31=a000.E3Z(12,11);return [v[0] + x.weight,v[M31] + x.x9];break;}}},[0,0]);(r=n[0],w=n[1]);S80=10;break;case 9:(n=d.pL,p=f.Ml[n.H.id].weight);S80=8;break;case 5:k=d.pL.Sm;S80=4;break;case 27:d.Bga=n.Sm;S80=26;break;case 2:h=this.Va.J;S80=1;break;case 13:S80=1 < u.length?12:20;break;case 3:d.pL=void 0;S80=8;break;case 17:n=u[0].ib;p=u[0].weight;S80=15;break;case 18:return;break;case 1:S80=this.Va.qc.iqa && d.pL && d.Bga?5:8;break;case 8:S80=!n?7:26;break;case 20:S80=0 === u.length?19:17;break;}}};m.prototype.tOa=function(d,f,h){var Z80,r,k,n,p,q,u;Z80=2;for(;Z80 !== 8;){switch(Z80){case 3:var g6R="Sti";g6R+="ll in buffering state while pipeline doe";g6R+="s not have vaca";g6R+="ncy";var A6R="drivePipeline, delaying audio until ";A6R+="vi";A6R+="deo act";A6R+="ual";A6R+="StartPts determined";r=this.Va.He;c.ka(r.AI) || (k.BE && 0 === n && c.ka(this.Va.Bb.Nf[1].No)?f.Tb(A6R):(c.ka(f.Yn) && (f.Yn=f.je?f.je.index:f.ona(f.Cc)),f.Jf && f.Yn > f.Jf.index?d.P.pf.Ie && c.ka(r.La) && c.ka(d.Mc) || (f.hi || this.Va.rQa(f),d=this.Va.He.P.Qb,d < this.Va.HN() - 1 && this.Va.L3(d + 1)):this.C2(f) && (k.uEb && !this.Va.X.ug() && 0 >= f.lI?f.i4b(k.lRb):this.Snb(f,h)?(f.TOb=l.default.time.ga(),h=this.Va.Bb.mpa(f),k=h.Of,c.ka(k) || (k=f.track.$d[k],this.Rnb(f,k) || ((n=k.X6())?(f.MOb=k.bitrate,f.mQb(k,n,this.Va.X.ug(),p.Kf,h.ox),this.t4b(k,u,q),d.me && ++d.me.lB):k.VE()))):this.Va.X.ug() && (f.An(g6R),this.Va.Bb.Ey()))));Z80=8;break;case 4:Z80=p.Kf && (void 0 === f.JI || (f.sJ(f.JI,f.fVb),void 0 === f.JI))?3:8;break;case 1:Z80=!f.hi?5:8;break;case 2:(k=this.Va.J,n=f.mediaType);Z80=1;break;case 5:(p=this.Va.Bb.Nf[n],q=this.Va.Bb.xB[n],u=this.Va.Bb.gx[n]);Z80=4;break;}}};m.prototype.t4b=function(d,f,h){var a90;a90=2;for(;a90 !== 4;){switch(a90){case 2:f.Dra=d.Pc;c.Fa(h.Nw) || (h.q4b(d.Ts,d.qA || -1,d.bitrate),c.ka(d.Wwa) || this.Va.Cg.W$a(d.Wwa,d.fp,d.gp));d.url && (f.Kra=d.url);a90=4;break;}}};m.prototype.Rnb=function(d,f){var b90,h;b90=2;for(;b90 !== 5;){switch(b90){case 2:h=this.Va.Bb.gx[d.mediaType];return this.Va.RPa && f.Pc && h.Dra && f.Pc !== h.Dra && (0 < d.Ta.nE || 0 < d.Ta.ft)?!0:!1;break;}}};H80=12;break;}}function m(d,f,h){var I80;I80=2;for(;I80 !== 9;){switch(I80){case 2:var N6R="1SIYb";N6R+="ZrNJ";N6R+="Cp9";this.Va=d;this.I=f;this.oc=h;N6R;this.$Na=this.XF=void 0;I80=9;break;}}}})();b.VCa=a;},function(t,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.iGa=void 0;c=a(174);g=a(16);l=a(16);m=a(9);t=(function(){function d(f,h,k,n){var j90;j90=2;for(;j90 !== 8;){switch(j90){case 2:this.cc=f;this.I=h;this.oc=k;j90=4;break;case 4:var c6R="1SIYb";c6R+="Zr";c6R+="NJ";c6R+="Cp9";this.nG=n;this.OPa=this.tia=!1;c6R;j90=8;break;}}}var i90;i90=2;for(;i90 !== 6;){switch(i90){case 2:d.prototype.play=function(){var k90,f;k90=2;for(;k90 !== 5;){switch(k90){case 2:var t6R="p";t6R+="l";t6R+="a";t6R+="y";var i6R="pla";i6R+="y called after pip";i6R+="eline";i6R+="s already shutdown";f=this;this.vn()?this.I.warn(i6R):(this.cc.X.Me(g.ta.Lc),this.cc.Yrb(),this.cc.Bb.Nf.forEach(function(h){var l90;l90=2;for(;l90 !== 1;){switch(l90){case 2:var B6R="play: not resuming b";B6R+="ufferManager, audio track swit";B6R+="ch in progress";f.oc(h.mediaType) && (h.GQ?h.Tb(B6R):(f.cc.Rg[h.mediaType].resume(),f.cc.jw[h.mediaType].resume()));l90=1;break;}}}),this.cc.XT(),this.cc.emit(t6R));k90=5;break;}}};d.prototype.stop=function(){var m90,f,h,k,n;m90=2;for(;m90 !== 6;){switch(m90){case 2:(f=this,h=this.cc.X.A2a(),k=this.cc.X.z2a());this.cc.X.Me(g.ta.Ir);this.cc.y2();h || k || this.cc.Pa.Bi.LE(!1,this.cc.X);m90=3;break;case 3:var k6R="s";k6R+="t";k6R+="o";k6R+="p";n=this.cc.Pa.Zc;l.Df.forEach(function(p){var n90;n90=2;for(;n90 !== 5;){switch(n90){case 1:p.hi=!1;n90=5;break;case 3:n90=(p=n.Td(p))?2:8;break;n90=(p=n.Td(p))?1:5;break;case 9:p.hi=+3;n90=2;break;n90=5;break;case 2:n90=(p=n.Td(p))?1:5;break;}}});l.Df.forEach(function(p){var o90;o90=2;for(;o90 !== 1;){switch(o90){case 2:(p=f.cc.Rg[p]) && p.pause();o90=1;break;}}});this.cc.emit(k6R);m90=6;break;}}};d.prototype.suspend=function(){var q90;q90=2;for(;q90 !== 1;){switch(q90){case 4:this.tia=+6;q90=2;break;q90=1;break;case 2:this.tia=!0;q90=1;break;}}};d.prototype.resume=function(){var r90;r90=2;for(;r90 !== 5;){switch(r90){case 2:this.tia=!1;this.cc.rg.ek();r90=5;break;}}};d.prototype.close=function(){var s90,f;s90=2;for(;s90 !== 6;){switch(s90){case 2:var Z6R="e";Z6R+="n";Z6R+="d";Z6R+="pla";Z6R+="y";var p6R="l";p6R+="o";p6R+="g";p6R+="data";var K6R="cl";K6R+="os";K6R+="e";f=this.cc.J;this.OPa=!0;this.stop();this.cc.emit(K6R);f.cXa && (f=c.Wx.instance().Hb()) && (f={type:p6R,target:Z6R,fields:{bridgestat:f}},m.Ya(this.cc,f.type,f));this.cc.qc.If && this.cc.qc.If.fq(!0,this.cc.hm.sessionId,!0);this.cc.Gb.d6a();s90=7;break;case 7:this.cc.o9a();s90=6;break;}}};d.prototype.flush=function(){var t90,n,p,q,f,h,k,u90,u,r;t90=2;for(;t90 !== 16;){switch(t90){case 5:(n={},p=k.get(),q={});p && p.avtp && p.avtp.Ba && (n.avtp=p.avtp.Ba,n.dltm=p.avtp.H5,q.avtp=n.avtp);p && p.initialThroughput && p.initialThroughput.Ba && (n.initial_avtp=p.initialThroughput.Ba);p && p.cdnavtp && (n.cdnavtp=p.cdnavtp,n.activecdnavtp=p.activecdnavtp);k.flush();t90=7;break;case 19:this.cc.Gb.EPa();t90=18;break;case 20:var j6R="end";j6R+="p";j6R+="lay";var G6R="l";G6R+="og";G6R+="data";var l6R="throug";l6R+="hput";l6R+="-sw";var L6R="thro";L6R+="ug";L6R+="hp";L6R+="ut-sw";var v6R="thro";v6R+="u";v6R+="ghput-sw";var T6R="throug";T6R+="h";T6R+="put";T6R+="-sw";h.GV && (p && p[T6R] && p[v6R].Ba && this.cc.ov.htb({avtp:p[L6R].Ba,variance:p[l6R].ih}),this.cc.ov.btb(q,null === (f=p.avtp) || void 0 === f?void 0:f.H5),f=this.cc.ov.OHb(),h=this.cc.ov.cKb(),f && (f.n=h,f={type:G6R,target:j6R,fields:{ibef:f}},m.Ya(this.cc,f.type,f),this.cc.ov.save()));t90=19;break;case 2:(h=this.cc.J,k=this.cc.qc.Wb);t90=1;break;case 17:try{u90=2;for(;u90 !== 1;){switch(u90){case 2:this.cc.Z5(g.ta.Ir);u90=1;break;}}}catch(v){var d6R="Hindsight: Error";d6R+=" evaluating Q";d6R+="oE at stop";d6R+="p";d6R+="ing: ";a000.O3Z(3);this.cc.Gb.Zn(a000.Q3Z(d6R,v));}t90=16;break;case 13:var I6R="en";I6R+="d";I6R+="play";var b6R="lo";b6R+="g";b6R+="dat";b6R+="a";r && r.length && (n.activeRequests=JSON.stringify(r));n.aseApiVersion=this.cc.FG;h.aXa && (k=k.f7()) && (k.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=k.bytesRequestedPacingVideo,n.estimatedBytesPacedVideo=k.estimatedBytesPacedVideo,n.bytestotalVideo=k.bytestotalVideo,n.pacedAvtpVideo=k.pacedAvtpVideo),k.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=k.bytesRequestedPacingAudio,n.estimatedBytesPacedAudio=k.estimatedBytesPacedAudio,n.bytestotalAudio=k.bytestotalAudio,n.pacedAvtpAudio=k.pacedAvtpAudio),k.pacedAvtp && (n.pacedAvtp=k.pacedAvtp));Object.keys(n).length && (n={type:b6R,target:I6R,fields:n},m.Ya(this.cc,n.type,n));t90=20;break;case 1:t90=k?5:19;break;case 7:(u=k.EZa(),r=k.WQa);t90=6;break;case 18:t90=this.nG.js?17:16;break;case 6:t90=u?14:13;break;case 14:for(var w in u){var Q6R="n";Q6R+="e";var M6R="n";M6R+="e";var Y6R="n";Y6R+="e";u.hasOwnProperty(w) && (n[Y6R + w]=Number(u[w]).toFixed(6),q[M6R + w]=1 * n[Q6R + w]);}t90=13;break;}}};d.prototype.vn=function(){var v90;v90=2;for(;v90 !== 1;){switch(v90){case 2:return this.OPa || this.cc.Pa.vk;break;}}};i90=7;break;case 7:return d;break;}}})();b.iGa=t;},function(t,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.eIa=void 0;t=a(2);c=t.__importStar(a(10));g=a(143);l=t.__importDefault(a(28)).default.Wa;m=t.__importDefault(a(6));d=a(9);f=a(4);a=(function(){var w90;w90=2;for(;w90 !== 38;){switch(w90){case 2:h.prototype.km=function(k){var y90;y90=2;for(;y90 !== 5;){switch(y90){case 2:var E6R="sta";E6R+="rt";E6R+="Ev";E6R+="en";E6R+="t";k={type:E6R,event:k,time:m.default.time.ga()};d.Ya(this.gb,k.type,k);y90=5;break;}}};h.prototype.uqb=function(){var z90,k;z90=2;for(;z90 !== 5;){switch(z90){case 2:var q6R="openC";q6R+="om";q6R+="p";q6R+="lete";k={type:q6R};d.Ya(this.gb,k.type,k);z90=5;break;}}};w90=5;break;case 5:h.prototype.vqb=function(k,n,p,q,u){var A90;A90=2;for(;A90 !== 1;){switch(A90){case 2:var O6R="pt";O6R+="s";O6R+="Starts";this.gb.J.VCb || (k={type:O6R,manifestIndex:k,mediaType:n,movieId:q,streamId:p,ptsStarts:u.bbb()},d.Ya(this.gb,k.type,k));A90=1;break;}}};h.prototype.lqb=function(k,n){var B90;B90=2;for(;B90 !== 5;){switch(B90){case 2:var D6R="hea";D6R+="de";D6R+="rCache";D6R+="H";D6R+="it";k={type:D6R,movieId:k,streamId:n};d.Ya(this.gb,k.type,k);B90=5;break;}}};h.prototype.kqb=function(k,n,p,q,u){var C90,r;C90=2;for(;C90 !== 3;){switch(C90){case 2:r=this.gb.VOa;C90=1;break;case 1:var r6R="he";r6R+="ade";r6R+="rC";r6R+="acheDataHit";this.gb.VOa=void 0;k={type:r6R,movieId:k,audio:n,audioFromMediaCache:q,video:p,videoFromMediaCache:u,actualStartPts:r && r.No,headerCount:r && r.WN,stats:r && r.Xb};d.Ya(this.gb,k.type,k);C90=3;break;}}};h.prototype.sqb=function(k,n,p,q){var D90;D90=2;for(;D90 !== 5;){switch(D90){case 2:var V4R="maxP";V4R+="osi";V4R+="tio";V4R+="n";k={type:V4R,index:k,endPts:n,maxPts:p,maxSeekPts:q};d.Ya(this.gb,k.type,k);D90=5;break;}}};h.prototype.Bqb=function(k,n,p,q,u,r,w){var E90;E90=2;for(;E90 !== 3;){switch(E90){case 4:d.Ya(this.gb,k.type,k);E90=3;break;case 2:var h4R="notif";h4R+="y";h4R+="St";h4R+="r";h4R+="eamingError: ";var R4R="er";R4R+="r";R4R+="o";R4R+="r";void 0 === w && (w=!1);k={type:R4R,error:k,errormsg:n,networkErrorCode:p,httpCode:q,nativeCode:u,manifestIndex:r,temporaryFailure:w};this.I.error(h4R + JSON.stringify(k));E90=4;break;}}};w90=7;break;case 7:h.prototype.j3=function(k,n){var F90;F90=2;for(;F90 !== 5;){switch(F90){case 2:var m4R="se";m4R+="g";m4R+="mentSta";m4R+="rtin";m4R+="g";n={type:m4R,segmentId:k.id,contentOffset:n,maxBitrates:{audio:k.P.dx[0],video:k.P.dx[1]}};k.vE || d.Ya(this.gb,n.type,n);F90=5;break;}}};h.prototype.Mha=function(k){var G90,n;G90=2;for(;G90 !== 5;){switch(G90){case 2:var J4R="seg";J4R+="ment";J4R+="Ab";J4R+="orted";n={type:J4R,segmentId:k.id};k.vE || d.Ya(this.gb,n.type,n);G90=5;break;}}};h.prototype.Wob=function(k,n){var H90,p,q;H90=2;for(;H90 !== 12;){switch(H90){case 3:var P4R="sea";P4R+="m";P4R+="l";P4R+="ess";p.transitionType=q;n.fma || (p.delayToTransition=n.y5);q=P4R === q?0:m.default.time.ga() - n.startTime;p.durationOfTransition=q;p.atTransition=n.Ccb;p.srcsegmentduration=this.gb.Pa.ZJb(n.Waa);return p;break;case 2:var w4R="r";w4R+="e";w4R+="s";w4R+="e";w4R+="t";var f4R="s";f4R+="k";f4R+="i";f4R+="p";var F4R="l";F4R+="o";F4R+="n";F4R+="g";var U4R="l";U4R+="o";U4R+="n";U4R+="g";var u4R="sea";u4R+="m";u4R+="le";u4R+="ss";(p={segment:k,srcsegment:n.Waa,srcoffset:n.$P,seamlessRequested:n.Ye,atRequest:{},discard:{}},q=n.me[k]);q?p.atRequest={weight:q.weight,abuflmsec:q.Zr.Ur,vbuflmsec:q.Zr.qo,abuflbytes:q.Zr.QC,vbuflbytes:q.Zr.kt}:(q=this.gb.Pa.P_a(n.Waa,k),void 0 !== q && (p.atRequest.weight=q));c.tf(n.me,function(u,r){var I90;I90=2;for(;I90 !== 1;){switch(I90){case 2:r != k && (p.discard[r]={weight:u.weight,abuflmsec:u.Zr.Ur,vbuflmsec:u.Zr.qo,abuflbytes:u.Zr.QC,vbuflbytes:u.Zr.kt});I90=1;break;}}});q=n.Ye?n.HW?u4R:U4R:n.D5a?F4R:n.mo?f4R:w4R;H90=3;break;}}};h.prototype.yqb=function(k,n,p){var J90;J90=2;for(;J90 !== 4;){switch(J90){case 2:var x4R="s";x4R+="egment";x4R+="P";x4R+="rese";x4R+="nting";p=p?this.Wob(k.id,p):void 0;k={type:x4R,segmentId:k.id,contentOffset:n,metrics:p,playlistSegment:k.vE,manifestIndex:k.P.Qb};d.Ya(this.gb,k.type,k);J90=4;break;}}};h.prototype.wqb=function(k,n){var K90;K90=2;for(;K90 !== 5;){switch(K90){case 2:var z4R="seg";z4R+="mentAppen";z4R+="d";z4R+="ed";n={type:z4R,segmentId:k.id,metrics:n};k.vE || d.Ya(this.gb,n.type,n);K90=5;break;}}};h.prototype.xqb=function(k,n,p){var L90;L90=2;for(;L90 !== 5;){switch(L90){case 2:var o4R="s";o4R+="egmen";o4R+="tC";o4R+="omplete";k={type:o4R,mediaType:k,manifestIndex:n,segmentId:p.id};d.Ya(this.gb,k.type,k);L90=5;break;}}};w90=10;break;case 10:h.prototype.Lha=function(k,n){var M90;M90=2;for(;M90 !== 5;){switch(M90){case 2:var e4R="lastSeg";e4R+="me";e4R+="ntP";e4R+="ts";n={type:e4R,segmentId:k.id,pts:Math.floor(n)};k.vE || d.Ya(this.gb,n.type,n);M90=5;break;}}};h.prototype.qqb=function(k,n,p,q,u){var N90;N90=2;for(;N90 !== 5;){switch(N90){case 2:var S4R="m";S4R+="anife";S4R+="stRa";S4R+="ng";S4R+="e";k={type:S4R,index:k,manifestOffset:n,startPts:Math.floor(p),endPts:Math.floor(q),maxPts:Math.floor(u)};d.Ya(this.gb,k.type,k);N90=5;break;}}};h.prototype.HPa=function(k){var O90;O90=2;for(;O90 !== 5;){switch(O90){case 2:var s4R="m";s4R+="a";s4R+="x";s4R+="Bitra";s4R+="tes";k={type:s4R,audio:k[0],video:k[1]};d.Ya(this.gb,k.type,k);O90=5;break;}}};h.prototype.rqb=function(k,n){var P90,p;P90=2;for(;P90 !== 3;){switch(P90){case 8:p=this.gb.J;P90=2;break;P90=1;break;case 2:p=this.gb.J;P90=1;break;case 1:var C4R="noti";C4R+="fyManifes";C4R+="tSele";C4R+="cte";C4R+="d: ";var n4R="man";n4R+="ifest";n4R+="Se";n4R+="lecte";n4R+="d";k={type:n4R,index:k,replace:n.P.pf.replace,ptsStarts:n.lP,streamingOffset:n.$ + n.ax};p.vi && (n=C4R + JSON.stringify(k),p.vi && this.Mm(n));d.Ya(this.gb,k.type,k);P90=3;break;}}};w90=17;break;case 41:h.prototype.TSb=function(k){var m01;m01=2;for(;m01 !== 5;){switch(m01){case 2:var a4R="s";a4R+="trea";a4R+="mSelectionAugmentData";k={type:a4R,augmentData:k,fragmentIndex:k[0].Bd};m01=1;break;case 1:d.Ya(this.gb,k.type,k);m01=5;break;}}};h.prototype.Mm=function(k){var n01;n01=2;for(;n01 !== 5;){switch(n01){case 2:var X4R=",";X4R+=" ";var W4R="manage";W4R+="r";W4R+="d";W4R+="ebugevent";k={type:W4R,message:"@" + m.default.time.ga() + X4R + k};d.Ya(this.gb,k.type,k);n01=5;break;}}};return h;break;case 31:h.prototype.EPa=function(){var f01,k;f01=2;for(;f01 !== 4;){switch(f01){case 9:f01=this.gb.Os?5:2;break;f01=this.gb.Os?1:4;break;case 2:f01=this.gb.Os?1:4;break;case 1:var H4R="aserep";H4R+="or";H4R+="t";k={type:H4R};this.gb.Os.DFb(k) && d.Ya(this.gb,k.type,k);f01=4;break;}}};h.prototype.cqb=function(){var g01,k;g01=2;for(;g01 !== 5;){switch(g01){case 2:var y4R="asere";y4R+="porten";y4R+="abled";k={type:y4R};d.Ya(this.gb,k.type,k);g01=5;break;}}};h.prototype.mqb=function(k){var f9R=a000;var h01,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,H,K,I;h01=2;for(;h01 !== 6;){switch(h01){case 3:n.report=k;h01=9;break;case 4:h01=this.gb.DV || this.gb.Ax?3:9;break;case 1:var A4R="hindsig";A4R+="htr";A4R+="epo";A4R+="rt";(n={type:A4R},p=this.gb.J.G7);for(I in p){var i4R="h";i4R+="vm";i4R+="a";i4R+="f";i4R+="dp";var c4R="h";c4R+="v";c4R+="m";c4R+="af";c4R+="gr";var N4R="hv";N4R+="m";N4R+="aft";N4R+="b";var g4R="h";g4R+="t";g4R+="wbr";q=p[I];u=0;r=0;w=0;v=0;x=0;y=0;z=void 0;A=void 0;B=!1;E=-1;D=-1;F=-1;G=-1;C=-1;H=-1;for(K in k){A=k[K];void 0 === A.nd && (z=(z=A.sols) && z[q]) && (B=!0,w+=z.dlvdur,u+=z.dltwbr * z.dlvdur,r+=z.dlvmaf * z.dlvdur);y+=A.pbdur;v+=A.pbtwbr * A.pbdur;x+=A.pbvmaf * A.pbdur;z=A.rr;A=A.ra;}0 < y && (E=1 * v / y,G=1 * x / y);B && (0 < w && (D=1 * u / w,C=1 * r / w),0 < w + y && (F=1 * (u + v) / (w + y),H=1 * (r + x) / (w + y)));switch(q){case g4R:n.htwbr=F;n.hptwbr=D;n.pbtwbr=E;z && (n.rr=z,n.ra=A);break;case N4R:n.hvmaftb=H;n.hpvmaftb=C;n.pbvmaftb=G;z && (n.rrvmaftb=z,n.ravmaftb=A);break;case c4R:n.hvmafgr=H;n.hpvmafgr=C;n.pbvmafgr=G;z && (n.rrvmafgr=z,n.ravmafgr=A);break;case i4R:(n.hvmafdp=H,n.hpvmafdp=C,n.pbvmafdp=G,z && (n.rrvmafdp=z,n.ravmafdp=A));}}h01=4;break;case 9:h01=this.gb.Ax?8:7;break;case 2:h01=k?1:6;break;case 8:for(var M in k){if((p=k[M],void 0 !== p.Qab))for(q in p.Qab){if((z=p.Qab[q],void 0 !== z.eba)){var K4R=" ";K4R+="an";K4R+="d";K4R+=" ";var k4R="exp";k4R+="ect sol.strmsel.length === sol.fragsel.length but go";k4R+="t ";var t4R="exp";t4R+="ect report.fragmentsPrebu";t4R+="ffered !== unde";t4R+="fin";t4R+="ed";var B4R="expect r";B4R+="eport";B4R+=".fr";B4R+="agmentsPrebuffered !";B4R+="== undefined";I=void 0 !== p.xYa;I || (console.error(B4R),f.assert(I,t4R));I=[];for(var Q in p.xYa){u=p.xYa[Q];I.push({fa:u.fa,Um:u.duration / 1E3,quality:u.xb});}I=z.eba.length === z.yYa.length;u=k4R + z.eba.length + K4R + z.yYa.length;I || (console.error(u),f.assert(I,u));I=[];u=0;for(var L in z.eba){w=z.eba[L];r=z.yYa[L];f9R.q3Z(3);u=w=f9R.Q3Z(u,w);I.push({kfc:w,Kfc:z.MWa[L],Ubc:z.Ua[L],dka:z.dka[L],cka:z.cka[L],aTa:z.aTa[L],xbc:{fa:r.fa,Um:r.duration / 1E3,quality:r.xb?r.xb:z.$d[w].xb,pfc:r.Of,ybc:r.Ce},R8a:0,Pec:0,sua:z.sua[L]});}z=[];I=0;for(var J in p.BB.trace){u=p.BB.trace[J];f9R.O3Z(3);I=u=f9R.Q3Z(I,u);z.push(u);}}}}h01=7;break;case 7:d.Ya(this.gb,n.type,n);h01=6;break;}}};h.prototype.iqb=function(k){var i01;i01=2;for(;i01 !== 5;){switch(i01){case 2:var p4R="endOf";p4R+="S";p4R+="trea";p4R+="m";k={type:p4R,mediaType:k};d.Ya(this.gb,k.type,k);i01=5;break;}}};h.prototype.Zn=function(k){var j01;j01=2;for(;j01 !== 1;){switch(j01){case 2:var T4R="a";T4R+="see";T4R+="xceptio";T4R+="n";var Z4R="as";Z4R+="e";Z4R+="except";Z4R+="i";Z4R+="on";this.gb.emit(Z4R,{type:T4R,msg:k});j01=1;break;}}};h.prototype.MSb=function(k,n,p,q){var k01;k01=2;for(;k01 !== 5;){switch(k01){case 2:var L4R="maxvi";L4R+="deobitratechang";L4R+="ed";var v4R="max";v4R+="vi";v4R+="deobi";v4R+="trat";v4R+="echanged";k={type:v4R,time:m.default.time.ga(),spts:q,maxvb_old:k,maxvb:n,reason:p};this.gb.emit(L4R,k);k01=5;break;}}};h.prototype.d6a=function(){var l01,k;l01=2;for(;l01 !== 3;){switch(l01){case 1:var l4R="str";l4R+="ea";l4R+="m";l4R+="e";l4R+="rend";this.hsb=!0;k={type:l4R,time:m.default.time.ga()};d.Ya(this.gb,k.type,k);l01=3;break;case 2:l01=!this.hsb && this.gb.J.a6a?1:3;break;}}};w90=41;break;case 23:h.prototype.dqb=function(k,n){var X90,p;X90=2;for(;X90 !== 5;){switch(X90){case 2:p=this;setTimeout(function(){var Y90,q;Y90=2;for(;Y90 !== 5;){switch(Y90){case 2:var G4R="aud";G4R+="ioT";G4R+="rackSwitchComplete";q={type:G4R,trackId:k,trackIndex:n};d.Ya(p.gb,q.type,q);Y90=5;break;}}},0);X90=5;break;}}};h.prototype.hqb=function(k){var Z90,n;Z90=2;for(;Z90 !== 4;){switch(Z90){case 2:var j4R="bufferi";j4R+="ngSt";j4R+="ar";j4R+="te";j4R+="d";n={type:j4R,time:m.default.time.ga(),percentage:k || 0};d.Ya(this.gb,n.type,n);this.yha=k || 0;Z90=4;break;}}};h.prototype.fqb=function(){var a01,k,n,p,q,u;a01=2;for(;a01 !== 3;){switch(a01){case 2:var d4R="bu";d4R+="ffe";d4R+="r";d4R+="ing";(k=this.gb.J,n=m.default.time.ga(),p=this.gb.Pa.Zc,q=this.gb.cn?1:0,u=p.kb(q));p=p.Qh(q);k=Math.min(Math.max(Math.round(100 * (u.aE?(n - this.gb.uga) / k.$A:u.progress?u.progress:p / k.zj)),this.yha),99);k != this.yha && (n={type:d4R,time:n,percentage:k},d.Ya(this.gb,n.type,n),this.yha=k);a01=3;break;}}};h.prototype.Kha=function(){var b01,k,n,p,q,u;b01=2;for(;b01 !== 8;){switch(b01){case 2:(k=this.gb.Pa.Zc,n=k.kb(0),p=k.kb(1));this.FPa();(q=this.gb.cn?this.gb.Bb.xB[l.Pb]:this.gb.Bb.xB[l.Yb],u=q.HU);b01=4;break;case 4:var b4R="buffering";b4R+="Comp";b4R+="lete";k={type:b4R,time:m.default.time.ga(),actualStartPts:u,aBufferLevelMs:k.Qh(0),vBufferLevelMs:k.Qh(1),selector:p?p.LP:n.LP,initBitrate:q.Nw,skipbackBufferSizeBytes:this.gb.qc.JE};this.gb.Cg.EFb({initSelReason:q.rA,initSelectionPredictedDelay:q.qA,buffCompleteReason:q.Tt,hashindsight:this.gb.js,hasasereport:! !this.gb.Os,bcVBufferLevelMs:k.vBufferLevelMs,bcABufferLevelMs:k.aBufferLevelMs});d.Ya(this.gb,k.type,k);b01=8;break;}}};h.prototype.FPa=function(){var c01,n,p,q,u,k,r,w;c01=2;for(;c01 !== 12;){switch(c01){case 5:(n=this.gb.Pa.Zc,p=n.Qh(0),q=n.Qh(1));this.gb.Cg.Vsb(p,q);u=this.gb.qc.Wb.get();c01=9;break;case 1:c01=!this.gb.vn()?5:12;break;case 2:k=this.gb.J;c01=1;break;case 9:var I4R="u";I4R+="pdateBu";I4R+="fferL";I4R+="e";I4R+="vel";u=u.confidence?u.Ua.Ba:0;(r=this.gb.Pa,w=r.OG(n,0));n=r.OG(n,1);p={type:I4R,abuflbytes:w,vbuflbytes:n,totalabuflmsecs:p,totalvbuflmsecs:q,currentBandwidth:u};q > k.e5a && this.gb.qc.If && this.gb.qc.If.fq(!0,this.gb.hm.sessionId);d.Ya(this.gb,p.type,p);c01=12;break;}}};h.prototype.Bpb=function(k){var d01,n,p,q;d01=2;for(;d01 !== 7;){switch(d01){case 2:d01=!c.ka(k)?1:7;break;case 9:var M4R=", syste";M4R+="mDel";M4R+="t";M4R+="a: ";var Y4R="me";Y4R+="mo";Y4R+="ryUsage at t";Y4R+="ime:";Y4R+=" ";c.Fa(k.f_) && c.Fa(this.NL.f_) && (n=k.f_ - this.NL.f_,4194304 < n && this.I.warn(Y4R + m.default.time.ga(),M4R + n));d01=8;break;case 4:var O4R=", osAllocator";O4R+="Del";O4R+="ta";O4R+=":";O4R+=" ";var q4R=", js";q4R+="HeapD";q4R+="elta: ";var E4R=",";E4R+=" fastMallocDe";E4R+="lta:";E4R+=" ";var Q4R="mem";Q4R+="oryUs";Q4R+="a";Q4R+="ge at ";Q4R+="time: ";(n=k.LXa - this.NL.LXa,p=k.N0a - this.NL.N0a,q=k.J6a - this.NL.J6a);(4194304 < n || 4194304 < q) && this.I.warn(Q4R + m.default.time.ga() + E4R + n + q4R + p + O4R + q);d01=9;break;case 1:c.Fa(k.f_);d01=5;break;case 5:d01=!c.ka(this.NL)?4:8;break;case 8:this.NL=k;d01=7;break;}}};h.prototype.Dqb=function(){var e01,k;e01=2;for(;e01 !== 3;){switch(e01){case 4:d.Ya(this.gb,k.type,k);e01=3;break;case 2:var D4R="stre";D4R+="amings";D4R+="tat";this.gb.J.RPb && m.default.memory.wIb(this.Bpb.bind(this));k={type:D4R,time:m.default.time.ga(),playbackTime:this.gb.X.Ue()};this.gb.Cg.FFb(k);e01=4;break;}}};w90=31;break;case 17:h.prototype.pqb=function(k,n,p,q,u){var Q90;Q90=2;for(;Q90 !== 4;){switch(Q90){case 5:d.Ya(this.gb,k.type,k);Q90=4;break;case 2:var r4R="mani";r4R+="fes";r4R+="tPres";r4R+="enti";r4R+="ng";k={type:r4R,index:k.Qb,pts:Math.floor(n),movieId:k.K,replace:k.pf.replace,contentOffset:p};null != q && null != u && (k.previousMovieId=q,k.previousIndex=u);Q90=5;break;}}};h.prototype.zqb=function(k,n,p,q){var R90,u;R90=2;for(;R90 !== 3;){switch(R90){case 2:var V1R="streamPr";V1R+="ese";V1R+="n";V1R+="ting";u=k.mediaType;g.en.Dq(u);k={type:V1R,startPts:Math.floor(n),contentStartPts:Math.floor(p),mediaType:u,manifestIndex:q,trackIndex:k.track.PC,streamIndex:k.Of};d.Ya(this.gb,k.type,k);R90=3;break;}}};h.prototype.Eqb=function(k){var S90;S90=2;for(;S90 !== 5;){switch(S90){case 2:var R1R="vid";R1R+="eoLoope";R1R+="d";k={type:R1R,offset:k};d.Ya(this.gb,k.type,k);S90=5;break;}}};h.prototype.Cqb=function(k,n,p,q,u){var T90;T90=2;for(;T90 !== 4;){switch(T90){case 2:var h1R="up";h1R+="dateS";h1R+="tream";h1R+="ing";h1R+="Pts";n={type:h1R,mediaType:k,manifestIndex:n,trackIndex:p,movieTime:Math.floor(q),segmentId:u};g.en.Dq(k);d.Ya(this.gb,n.type,n);T90=4;break;}}};h.prototype.jqb=function(k){var U90;U90=2;for(;U90 !== 5;){switch(U90){case 2:var m1R="fi";m1R+="rstRequest";m1R+="Appended";k={type:m1R,manifestIndex:k.Ta.ib.P.Qb,mediatype:k.mediaType,time:m.default.time.ga()};d.Ya(this.gb,k.type,k);U90=5;break;}}};h.prototype.nqb=function(k,n){var V90;V90=2;for(;V90 !== 5;){switch(V90){case 2:var J1R="init";J1R+="ialAudioTr";J1R+="ack";k={type:J1R,trackId:n,trackIndex:k};d.Ya(this.gb,k.type,k);V90=5;break;}}};h.prototype.eqb=function(k,n){var W90;W90=2;for(;W90 !== 3;){switch(W90){case 2:var P1R="audioTrackSwitc";P1R+="h";P1R+="Started";k=k.Hu;n=n.Hu;n={type:P1R,oldLangCode:k.language,oldNumChannels:k.channels,newLangCode:n.language,newNumChannels:n.channels,sourceBufferReset:void 0};d.Ya(this.gb,n.type,n);W90=3;break;}}};w90=23;break;}}function h(k,n){var x90;x90=2;for(;x90 !== 4;){switch(x90){case 2:var u1R="1SI";u1R+="Yb";u1R+="ZrNJCp9";this.gb=k;this.I=n;u1R;x90=4;break;}}}})();b.eIa=a;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x;Object.defineProperties(b,{__esModule:{value:!0}});b.GEa=void 0;c=a(2);t=a(18);g=c.__importStar(a(10));a(4);a(227);l=a(246);m=a(383);d=a(82);a(374);a(389);f=a(127);h=c.__importDefault(a(28));a(241);k=a(882);n=c.__importDefault(a(126));a(16);p=c.__importDefault(a(6));a(180);a(249);a(178);a(99);q=new p.default.Console("HEADERCACHE","media|asejs");a=new p.default.Console("MEDIACACHE","media|asejs");u=p.default.pK;r=q.trace.bind(q);a.trace.bind(a);w=q.warn.bind(q);v=q.error.bind(q);x=q.info.bind(q);a=(function(y){var o01;o01=2;for(;o01 !== 39;){switch(o01){case 28:z.prototype.xpb=function(A,B){var m11,E,D,F;m11=2;for(;m11 !== 8;){switch(m11){case 1:m11=this.ak?5:9;break;case 9:var U1R="M";U1R+="edi";U1R+="a cache is ";U1R+="not ena";U1R+="bled";return Promise.reject(U1R);break;case 3:return D.then(function(G){var n11;n11=2;for(;n11 !== 1;){switch(n11){case 2:return !g.ka(G) && E.ak?E.ak.CPb(A,B,G).then(function(C){var o11;o11=2;for(;o11 !== 5;){switch(o11){case 2:C && (F || (E.kg[A]=G,++E.YF,E.zga(),E.Ko.push(G),E.Ko.sort(E.k8a)),E.QNa(A,C));return E.kg[A];break;}}}):Promise.resolve(void 0);break;}}});break;case 2:E=this;m11=1;break;case 5:(D=void 0,F=!1);this.ak.l2a(this.kg[A])?(D=Promise.resolve(this.kg[A]),F=!0):D=this.ak.GPb(A);m11=3;break;}}};z.prototype.QNa=function(A,B){var p11,E,D,F,G;p11=2;for(;p11 !== 7;){switch(p11){case 1:p11=B?5:7;break;case 2:E=this;p11=1;break;case 3:p11=B.data?9:7;break;case 5:(D=this.kg[A],F=B.headers);D && F && Object.keys(F).forEach(function(C){var q11;q11=2;for(;q11 !== 1;){switch(q11){case 2:E.mnb(F[C],D);q11=1;break;}}});p11=3;break;case 9:G=B.data;Object.keys(G).forEach(function(C){var r11,H,K;r11=2;for(;r11 !== 9;){switch(r11){case 2:H=G[C];g.ka(D.data) && (D.data={});g.ka(D.data[C]) && (D.data[C]=[]);K=D.data;r11=3;break;case 3:H.forEach(function(M){var s11;s11=2;for(;s11 !== 1;){switch(s11){case 2:K[C].push(M);s11=1;break;case 4:K[C].push(M);s11=2;break;s11=1;break;}}});r11=9;break;}}});p11=7;break;}}};z.prototype.k8a=function(A,B){var t11;t11=2;for(;t11 !== 1;){switch(t11){case 2:return B.priority - A.priority;break;}}};z.prototype.n8a=function(A){var u11,D,B,E;u11=2;for(;u11 !== 11;){switch(u11){case 5:for(E in A.data){D=A.data[E];0 < D.length && (B[D[0].mediaType]={Sa:E,header:A.headers[E],data:D});}B.No=A.No;B.WN=A.WN;B.Xb=A.Xb;u11=8;break;case 1:u11=A && A.data?5:11;break;case 8:B.Nw=A.Nw;B.rA=A.rA;B.KD=A.KD;B.fp=A.fp;u11=13;break;case 2:B={};u11=1;break;case 13:B.gp=A.gp;return B;break;}}};z.prototype.dd=function(A){var v11;v11=2;for(;v11 !== 1;){switch(v11){case 2:return ! !A.dd;break;case 4:return ~ +A.dd;break;v11=1;break;}}};return z;break;case 19:z.prototype.lUb=function(A){var L01,B,E,D,F;L01=2;for(;L01 !== 8;){switch(L01){case 2:(B=this,E=A.K,D=this.kg[E] || A.Lm);L01=1;break;case 4:F=p.default.time.now();this.ak.JZb(A,D,function(G){var M01;M01=2;for(;M01 !== 4;){switch(M01){case 5:B.z2(A);M01=4;break;case 2:G || g.ka(D) || (G=p.default.time.ga() - F,g.ka(D.Xb) && (D.Xb={}),g.ka(D.Xb.dt) && (D.Xb.dt=0),D.Xb.dt+=G);--D.cV;M01=5;break;case 7:B.z2(A);M01=3;break;M01=4;break;}}});L01=8;break;case 1:L01=D?5:8;break;case 9:(--D.cV,B.z2(A));L01=8;break;case 5:var z1R="man";z1R+="agerdebugev";z1R+="ent";var x1R=",";x1R+=" ";x1R+="remaining:";x1R+=" ";var w1R=",";w1R+=" ";w1R+="p";w1R+="ts";w1R+=": ";var f1R=", ";f1R+="s";f1R+="t";f1R+="ream";f1R+="Id: ";var F1R=", head";F1R+="erCache data";F1R+="Compl";F1R+="ete: ";F1R+="movieId: ";L01=(this.Ho.vi && (E="@" + p.default.time.ga() + F1R + E + f1R + A.Sa + w1R + A.$ + x1R + (D.cV - 1),this.emit(z1R,{message:E})),A.ai && 0 === A.responseType && this.ak && !this.fG)?4:9;break;}}};z.prototype.kOa=function(){var N01;N01=2;for(;N01 !== 1;){switch(N01){case 2:0 === this.nw.length && (this.nw=[f.Hp.instance.au(0,void 0,!1,!1,this.hm,this.Ho),f.Hp.instance.au(1,void 0,!1,!1,this.hm,this.Ho)],this.nw.forEach(function(A){var O01;O01=2;for(;O01 !== 1;){switch(O01){case 2:return A.Eb();break;}}}),u.tg());N01=1;break;}}};z.prototype.pOa=function(){var P01,A;P01=2;for(;P01 !== 4;){switch(P01){case 2:A=this.nw;this.nw=[];A.forEach(function(B){var Q01;Q01=2;for(;Q01 !== 1;){switch(Q01){case 2:f.Hp.instance.WM(B);Q01=1;break;}}});P01=4;break;}}};z.prototype.Dpb=function(){var R01,A;R01=2;for(;R01 !== 5;){switch(R01){case 2:A=this;!this.L2 && 0 < this.vL.length && (this.vL.forEach(function(B){var S01;S01=2;for(;S01 !== 1;){switch(S01){case 2:A.eia(B.BLb,B.Fd);S01=1;break;}}}),this.vL=[]);R01=5;break;}}};z.prototype.iOa=function(A,B){var T01,E;T01=2;for(;T01 !== 8;){switch(T01){case 2:E=A.stream.mediaType;2 > this.nw.length && this.kOa();B=new m.yca(A.stream,B,this.nw[E],A,this,!0,q);B.ai=A.ai;T01=3;break;case 3:B.If=this;return B;break;}}};z.prototype.$nb=function(A,B){var U01,E;U01=2;for(;U01 !== 8;){switch(U01){case 2:E=A.stream.mediaType;2 > this.nw.length && this.kOa();B=l.l0.create(A.stream,B,this.nw[E].track,A,this,!0,q);B.ai=A.ai;U01=3;break;case 3:B.If=this;return B;break;}}};z.prototype.z2=function(A){var V01,B;V01=2;for(;V01 !== 9;){switch(V01){case 2:this.dd(A) && delete this.X2[A.Sa];this.dd(A) || delete A.response;A.fd();V01=4;break;case 4:var o1R="s";o1R+="av";o1R+="etodis";o1R+="k";B=this.kg[A.K] || A.Lm;B && 0 === B.L0a && 0 === B.cV && (this.Srb(B,A.yf),B.ai && this.ak && (B.Xb.Rdc || (this.fG?this.ak.LZb(B):this.ak.MP(o1R,{m$a:B.Xb.dt}))));V01=9;break;}}};o01=25;break;case 3:z.prototype.fq=function(A,B,E){var v01,D,F;v01=2;for(;v01 !== 9;){switch(v01){case 1:v01=(D[B]=A)?5:4;break;case 2:(D=this.sG,F=A);v01=1;break;case 5:for(var G in D){D.hasOwnProperty(G) && !1 === D[G] && (F=!1);}v01=4;break;case 4:E && delete D[B];F?(this.L2=!1,this.Dpb()):this.L2=!0;v01=9;break;}}};z.prototype.flush=function(){var w01,B;w01=2;for(;w01 !== 8;){switch(w01){case 3:var S1R="manag";S1R+="erde";S1R+="bugeve";S1R+="n";S1R+="t";var e1R=", he";e1R+="aderCa";e1R+="che";e1R+=" flush: ";this.Ko=[];this.Ho.vi && (B="@" + p.default.time.ga() + e1R,this.emit(S1R,{message:B}));w01=8;break;case 2:this.kYa();for(var A in this.X2){B=this.X2[A];B.abort();}this.kg=Object.create(null);this.YF=0;w01=3;break;}}};o01=8;break;case 2:c.__extends(z,y);Object.defineProperties(z.prototype,{cache:{get:function(){var s01;s01=2;for(;s01 !== 1;){switch(s01){case 2:return this.kg;break;}}},enumerable:!1,configurable:!0}});z.prototype.HCb=function(){var t01;t01=2;for(;t01 !== 5;){switch(t01){case 3:this.flush();this.pOa();t01=3;break;t01=5;break;case 2:this.flush();this.pOa();t01=5;break;}}};z.prototype.Jba=function(A){var u01;u01=2;for(;u01 !== 5;){switch(u01){case 2:this.hm=A;this.nw.forEach(function(){});u01=5;break;}}};o01=3;break;case 14:z.prototype.$Pb=function(A){var B01;B01=2;for(;B01 !== 1;){switch(B01){case 2:return this.n8a(this.kg[A]);break;}}};o01=13;break;case 13:z.prototype.kYa=function(){var C01,E,D,F;C01=2;function B(C,H){var E01;E01=2;for(;E01 !== 1;){switch(E01){case 2:C && C.data && C.data[H].forEach(function(K){var F01;F01=2;for(;F01 !== 5;){switch(F01){case 2:K.abort();E+=K.bytesReceived;F01=5;break;}}});E01=1;break;}}}function A(C){var D01;D01=2;for(;D01 !== 1;){switch(D01){case 2:C.RTa();D01=1;break;case 4:C.RTa();D01=3;break;D01=1;break;}}}for(;C01 !== 4;){switch(C01){case 2:E=0;for(D in this.kg){F=this.kg[D];if(F.data){for(var G in F.data){var n1R="in ";n1R+="entry";n1R+=":";var s1R="missing h";s1R+="eaderEntry f";s1R+="or streamId:";F.headers[G] || v(s1R,G,n1R,F);B(F,G);F.data[G].forEach(A);delete F.data[G];}delete F.data;}}this.Arb(E);C01=4;break;}}};o01=12;break;case 8:z.prototype.list=function(){var x01;x01=2;for(;x01 !== 1;){switch(x01){case 2:return this.Ko;break;}}};z.prototype.sX=function(A,B){var y01;y01=2;for(;y01 !== 4;){switch(y01){case 2:y01=(A=this.kg[A])?1:4;break;case 9:y01=(A=this.kg[A])?7:5;break;y01=(A=this.kg[A])?1:4;break;case 5:return B;break;case 1:y01=(B=A.headers[B])?5:4;break;}}};z.prototype.aQb=function(A,B){var z01,E,D;z01=2;for(;z01 !== 5;){switch(z01){case 2:(E=this,D=this.$Pb(A));return D || !this.ak?Promise.resolve(D):(this.fG?this.ypb(A,B):this.xpb(A,B)).then(function(F){var A01;A01=2;for(;A01 !== 1;){switch(A01){case 4:return E.n8a(F);break;A01=1;break;case 2:return E.n8a(F);break;}}});break;}}};o01=14;break;case 25:z.prototype.Jpb=function(A,B,E){var W01,D,F;W01=2;for(;W01 !== 8;){switch(W01){case 5:W01=0 < D?4:3;break;case 2:D=A.t5;B.ai && this.ak && (A.P4a?D=A.P4a:A.y4a && 0 < A.y4a && (D=2E3 * A.y4a));W01=5;break;case 4:return function(G,C){var X01;X01=2;for(;X01 !== 1;){switch(X01){case 2:a000.q3Z(17);return a000.E3Z(D,C);break;}}};break;case 3:F=E && E.length < A.OVa?E.length:A.OVa;return function(G){var Y01;Y01=2;for(;Y01 !== 1;){switch(Y01){case 2:a000.q3Z(17);return a000.Q3Z(F,G);break;}}};break;}}};z.prototype.eia=function(A,B){var Z01,M,Q,L,C,I,H,K,E,D,F,G;Z01=2;for(;Z01 !== 53;){switch(Z01){case 44:(M.X3(H.get(Q)),M.LO=Q + 1,K=Q);Z01=43;break;case 8:Z01=C?7:53;break;case 33:Z01=K < (H && H.length || 0) && !E(I,F)?32:54;break;case 37:M=void 0;Z01=36;break;case 17:Z01=!g.ka(M)?16:25;break;case 19:var C1R="no proper fragment f";C1R+="ound to request";C1R+=" data at pts";v(C1R,B);Z01=53;break;case 20:Z01=-1 === K || void 0 === K?19:18;break;case 18:M=A.stream.il(K);Z01=17;break;case 25:void 0 === C.data && (C.data={});void 0 === C.data[D] && (C.data[D]=[]);B=C.data[D];E=this.Jpb(G,A,H);I=F=0;(Q=M && M.mediaType,L=Q === h.default.Wa.Pb?G.F9:G.w9);Z01=34;break;case 26:var y1R="ma";y1R+="nager";y1R+="debu";y1R+="gevent";var H1R=", star";H1R+="t";H1R+="Pts";H1R+=":";H1R+=" ";var X1R=", p";X1R+="t";X1R+="s: ";var W1R=", s";W1R+="treamId:";W1R+=" ";var a1R=",";a1R+=" headerCa";a1R+="che requestData: ";a1R+="movieI";a1R+="d: ";G.vi && (B="@" + p.default.time.ga() + a1R + E + W1R + D + X1R + B + H1R + M.$,this.emit(y1R,{message:B}));Z01=25;break;case 13:return;break;case 27:I && (M.mediaType === h.default.Wa.Yb && !G.Rsa && I.Fd < (G.qm && !G.HG && F.zf?Math.floor(F.zf.U):0) && (++I.tl,I.Fd+=M.va.U),0 < I.tl && M.Lk({start:I.tl}));Z01=26;break;case 28:Z01=Q < H.length && (M.fa < L || M.duration < G)?44:42;break;case 9:C=this.kg[E] || A.Lm;Z01=8;break;case 16:M.ai=A.ai;I=M.vna(B);Z01=27;break;case 5:this.vL.push({BLb:A,Fd:B});Z01=4;break;case 54:C.hma && !g.ka(C.No) && (A=C.hma,delete C.hma,this.eia(A,C.No));Z01=53;break;case 29:a000.q3Z(3);Q=a000.E3Z(K,1);Z01=28;break;case 11:A.mediaType === h.default.Wa.Yb && G.qm && !G.HG && F.zf && (B=Math.max(F.Y && F.Y.Ij(0) || 0,B + F.zf.U));(H=A.stream.Y,K=H && H.On(B));Z01=20;break;case 12:B=C.No;Z01=11;break;case 43:++Q;Z01=28;break;case 32:Z01=(void 0 === M && (M=A.stream.il(K)),void 0 !== M)?31:36;break;case 31:M.ai=A.ai;Z01=30;break;case 30:Z01=!g.ka(H) && !M.ya?29:42;break;case 1:Z01=this.L2?5:9;break;case 6:Z01=void 0 === C.No?14:12;break;case 34:G=Q === h.default.Wa.Pb?G.PRb:G.IRb;Z01=33;break;case 7:Z01=A.mediaType === h.default.Wa.Yb?6:11;break;case 14:C.hma=A;Z01=13;break;case 3:this.vL.shift();Z01=4;break;case 4:Z01=this.vL.length > G.xLb?3:53;break;case 42:var A1R="un";A1R+="d";A1R+="ef";A1R+="ine";A1R+="d";g.ka(C.No) && (C.No=M.$);M.ai && (M.responseType=0);A.ai && this.ak && A.DX && A.DX[D] && A1R !== typeof M.$ && A.DX[D][M.$] || (Q=this.$nb(M,A.jf),Q.ai && (Q.Lm=A.Lm),Q.WO(),++C.cV,B.push(Q));Z01=39;break;case 39:++I;F+=M.duration;Z01=37;break;case 2:(E=A.K,D=A.Sa,F=A.stream,G=A.jf);Z01=1;break;case 36:++K;Z01=33;break;}}};z.prototype.nnb=function(A){var a11;a11=2;for(;a11 !== 1;){switch(a11){case 2:this.PNa(A,A.Lm);a11=1;break;}}};z.prototype.mnb=function(A,B){var b11;b11=2;for(;b11 !== 1;){switch(b11){case 2:this.PNa(A,B);b11=1;break;case 4:this.PNa(A,B);b11=9;break;b11=1;break;}}};z.prototype.PNa=function(A,B){var c11,E;c11=2;for(;c11 !== 4;){switch(c11){case 1:c11=(B=this.kg[A.K] || B)?5:4;break;case 2:E=A.Sa;c11=1;break;case 5:(B.Atb || B.ai && !this.fG || (B.Atb=!0,++this.YF),B.headers || (B.headers={}),B.headers[E]=A,this.Ho.AEb && (B.WN || (B.WN=0),++B.WN),this.zga());c11=4;break;}}};o01=35;break;case 31:z.prototype.Erb=function(A,B){var i11,E;i11=2;for(;i11 !== 3;){switch(i11){case 4:E.nza || 0 !== Object.keys(this.X2).length || this.pOa();i11=3;break;case 2:E=A.jf;g.ka(A.VYb) || this.eia(A,A.VYb);!this.ak || !A.ai || this.fG || g.ka(A.DX) || A.DX[A.Sa] && A.DX[A.Sa].header?B():this.ak.KZb(A,B);i11=4;break;}}};z.prototype.Srb=function(A,B){var j11;j11=2;for(;j11 !== 4;){switch(j11){case 2:var g1R="pr";g1R+="e";g1R+="b";g1R+="uffs";g1R+="tats";A.Xb.fWb=B;A={type:g1R,movieId:A.K,stats:{prebuffstarted:A.Xb.Y7a,prebuffcomplete:A.Xb.fWb}};this.emit(A.type,A);j11=4;break;}}};z.prototype.ypb=function(A,B){var k11,E;k11=2;for(;k11 !== 5;){switch(k11){case 2:var N1R="Media cache";N1R+=" is n";N1R+="ot e";N1R+="nabl";N1R+="ed";E=this;return this.ak?this.ak.DPb(A,B).then(function(D){var l11;l11=2;for(;l11 !== 5;){switch(l11){case 2:l11=D && D.Lm?1:5;break;case 1:return (E.kg[A]=D.Lm,++E.YF,E.zga(),E.Ko.push(D.Lm),E.Ko.sort(E.k8a),E.QNa(A,D),E.cache[A]);break;}}}):Promise.reject(N1R);break;}}};o01=28;break;case 12:z.prototype.WA=function(A){var G01,B;G01=2;for(;G01 !== 5;){switch(G01){case 2:B=this.kg[A.K];B && (this.dd(A)?g.ka(B.Xb.CLb) && !g.ka(A.loadTime) && (B.Xb.CLb=A.loadTime):g.ka(B.Xb.Y7a) && !g.ka(A.loadTime) && (B.Xb.Y7a=A.loadTime));G01=5;break;}}};z.prototype.Ek=function(A){var H01;H01=2;for(;H01 !== 1;){switch(H01){case 2:this.dd(A)?this.kUb(A):this.lUb(A);H01=1;break;}}};z.prototype.jY=function(A){var I01;I01=2;for(;I01 !== 5;){switch(I01){case 2:var c1R="_";c1R+="onE";c1R+="rro";c1R+="r";c1R+=": ";w(c1R,A.toString());this.z2(A);I01=5;break;}}};z.prototype.kUb=function(A){var J01,B;J01=2;for(;J01 !== 9;){switch(J01){case 2:B=this;A.J2b=A.yf;this.nnb(A);g.ka(A.yLb) || A.yLb(A.J2b);this.Erb(A,function(){var K01;K01=2;for(;K01 !== 1;){switch(K01){case 2:g.ka(A) || (g.ka(A.Lm) || A.Lm.L0a--,B.z2(A));K01=1;break;}}});J01=9;break;}}};o01=19;break;case 35:z.prototype.zga=function(){var d11,B,E,D;d11=2;function A(G){var e11;e11=2;for(;e11 !== 5;){switch(e11){case 1:E+=G.bytesReceived;e11=5;break;case 2:G.abort();e11=1;break;}}}for(;d11 !== 12;){switch(d11){case 5:d11=this.YF > this.qPa?4:13;break;case 1:d11=!(this.YF <= this.qPa)?5:12;break;case 4:d11=(B=this.Ko.shift())?3:5;break;case 2:E=0;d11=1;break;case 3:D=B.K;d11=9;break;case 8:for(var F in B.data){B.data[F].forEach(A);delete B.data[F];}d11=7;break;case 7:delete this.kg[D];--this.YF;d11=14;break;case 9:d11=B.data?8:7;break;case 14:this.xrb(D);d11=5;break;case 13:this.yrb(E);d11=12;break;}}};z.prototype.yrb=function(A){var f11;f11=2;for(;f11 !== 1;){switch(f11){case 2:var i1R="disc";i1R+="ar";i1R+="d";i1R+="edByt";i1R+="es";0 !== A && (A={type:i1R,bytes:A},this.emit(A.type,A));f11=1;break;}}};z.prototype.Arb=function(A){var g11;g11=2;for(;g11 !== 1;){switch(g11){case 2:var B1R="flush";B1R+="edByte";B1R+="s";0 !== A && (A={type:B1R,bytes:A},this.emit(A.type,A));g11=1;break;}}};z.prototype.xrb=function(A){var h11;h11=2;for(;h11 !== 5;){switch(h11){case 2:var t1R="ca";t1R+="ch";t1R+="e";t1R+="E";t1R+="vict";A={type:t1R,movieId:A};this.emit(A.type,A);h11=5;break;}}};o01=31;break;}}function z(A,B,E,D){var p01;p01=2;for(;p01 !== 25;){switch(p01){case 4:A.Tb=w;A.Gac=x;A.X2=Object.create(null);A.Ho=B;A.kg=Object.create(null);p01=6;break;case 6:A.YF=0;A.Ko=[];A.qPa=B.u5;A.nw=[];A.L2=!1;p01=10;break;case 16:var p1R="1S";p1R+="IYbZ";p1R+="rNJCp";p1R+="9";A.Bia && (A.Ho.qV || (B=(p.default.options || ({})).EO || 0,A.Ho.set?A.Ho.set({qV:B}):A.Ho.qV=(p.default.options || ({})).EO || 0),A.ak=new k.pHa(A.Ho,p.default,A),A.ak.Eb(A,D).then(function(){var q01;q01=2;for(;q01 !== 1;){switch(q01){case 4:r("");q01=2;break;q01=1;break;case 2:var k1R="Media cac";k1R+="he initiali";k1R+="zed";r(k1R);q01=1;break;}}}).catch(function(F){var r01;r01=2;for(;r01 !== 1;){switch(r01){case 4:v("",F);r01=9;break;r01=1;break;case 2:var K1R="Media cach";K1R+="e did n";K1R+="ot initialize";v(K1R,F);r01=1;break;}}}));A.hm=E;p1R;return A;break;case 2:A=y.call(this) || this;A.An=r;A.Vk=v;p01=4;break;case 10:A.vL=[];A.sG={};A.Bia=(A.Ho.qza || A.Ho.rza) && 0 < (A.Ho.qV || (p.default.options || ({})).EO || 0);A.fG=A.Ho.Lsa;A.ak=void 0;p01=16;break;}}}})(d.xv);b.GEa=a;n.default(t.EventEmitter.prototype,a.prototype);},function(t,b,a){var c,g,l,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.pHa=void 0;c=a(2);g=a(18);l=c.__importStar(a(883));m=c.__importStar(a(10));a(4);d=a(246);f=a(9);t=a(43);h=c.__importStar(a(894));k=h.LGa;a=(function(){function n(p,q,u){var x11;x11=2;for(;x11 !== 12;){switch(x11){case 5:this.wob=p.mEb?p.mEb:!1;this.fG=p.Lsa?p.Lsa:!1;this.Ipb=p.O4a?p.O4a:!1;x11=9;break;case 6:var Z1R="Media cach";Z1R+="e has not been initia";Z1R+="ized";this.Gt=Promise.reject(Z1R);this.Gt.catch(function(){});x11=13;break;case 2:var v1R="m";v1R+="e";v1R+="dia";v1R+="|";v1R+="asejs";var T1R="M";T1R+="EDI";T1R+="A";T1R+="CACH";T1R+="E";this.I=new q.Console(T1R,v1R);this.Bia=(p.qza || p.rza) && 0 < (p.qV || (q.options || ({})).EO || 0);x11=5;break;case 9:this.J=p;this.Jo=q;this.df=u;x11=6;break;case 13:var L1R="1";L1R+="SI";L1R+="YbZrNJ";L1R+="Cp";L1R+="9";L1R;x11=12;break;}}}var w11;w11=2;for(;w11 !== 18;){switch(w11){case 4:n.prototype.DPb=function(p,q){var P11,u,r;P11=2;for(;P11 !== 5;){switch(P11){case 2:(u=this,r=this.Jo.time.ga());return this.Gt.then(function(){var Q11;Q11=2;for(;Q11 !== 1;){switch(Q11){case 2:return u.qpb(p);break;}}}).then(function(w){var R11;R11=2;for(;R11 !== 5;){switch(R11){case 4:var l1R="mediac";l1R+="ache";l1R+="looku";l1R+="p";u.MP(l1R,{U8:u.Jo.time.ga() - r,l5:!1});R11=5;break;case 2:R11=w?1:4;break;case 1:return u.qrb(p.toString(),q,r);break;case 8:return u.qrb(p.toString(),q,r);break;R11=4;break;}}});break;}}};n.prototype.KZb=function(p,q){var S11,u,r,w,v,x,y;S11=2;for(;S11 !== 13;){switch(S11){case 7:x[r + "." + k.fib]={dr:y.sizes.buffer,Ic:k.uF};S11=6;break;case 4:S11=p.stream.ke && !m.ka(p.stream.Y)?3:14;break;case 6:x[r + "." + k.eib]={dr:y.vd.buffer,Ic:k.uF};S11=14;break;case 2:(u=this,r=[p.K,p.Sa,k.oib].join("."),w=this.Jo.time.ga(),v=h.OZa(p),x={});x[r + "." + k.lea]={dr:v,Ic:k.uF};x[r + "." + k.Pib]={dr:f.fD(p.Zg.map(function(z){var T11;T11=2;for(;T11 !== 1;){switch(T11){case 2:return z.data;break;case 4:return z.data;break;T11=1;break;}}})),Ic:k.uF};S11=4;break;case 3:v={timescale:p.stream.Y.W,startTicks:p.stream.Y.vl,offset:p.stream.Y.Ud(0)};y=p.stream.Y.Dx;x[r + "." + k.YDa]={dr:v,Ic:k.uF};S11=7;break;case 14:this.Fo.l$a(k.Ar,x,function(z){var U11;U11=2;for(;U11 !== 5;){switch(U11){case 2:z || (z=u.Jo.time.ga() - w,p.Lm && (m.ka(p.Lm.Xb.dt) && (p.Lm.Xb.dt=0),p.Lm.Xb.dt+=z));q();U11=5;break;}}});S11=13;break;}}};n.prototype.JZb=function(p,q,u){var V11,v,x,y,r,w;V11=2;for(;V11 !== 14;){switch(V11){case 5:(v=this.Jo.time.ga(),x=[p.K,p.Sa,p.gd].join("."));p=h.Koa(p);y={};V11=9;break;case 1:V11=w instanceof ArrayBuffer?5:6;break;case 9:y[x + "." + k.lea]={dr:p,Ic:k.uF};m.ka(w) || (y[x + "." + k.Vjb]={dr:w,Ic:k.uF});this.Fo.l$a(k.Ar,y,function(z){var W11;W11=2;for(;W11 !== 5;){switch(W11){case 2:var G1R="Faile";G1R+="d to";G1R+=" ";G1R+="save fragm";G1R+="ent";z?r.I.warn(G1R,z):(z=r.Jo.time.ga() - v,m.ka(q.Xb.dt) && (q.Xb.dt=0),q.Xb.dt+=z);u();W11=5;break;}}});V11=14;break;case 6:var j1R="Una";j1R+="ble to save fragment b";j1R+="ecaus";j1R+="e response is not an ArrayBuffer";u(Error(j1R));V11=14;break;case 2:(r=this,w=p.response);V11=1;break;}}};n.prototype.LZb=function(p){var X11,z,q,u,r,w,v,x,y,A,B,Z11,E,D,a21,C,H,M,K,b21,c21,d21,F,G,e21,f21,g21;X11=2;for(;X11 !== 20;){switch(X11){case 4:z={};Object.keys(p.headers).forEach(function(Q){var Y11,L;Y11=2;for(;Y11 !== 5;){switch(Y11){case 2:L=h.MZa(p.headers[Q]);z[Q]=L;Y11=5;break;}}});X11=9;break;case 5:X11=p.headers?4:8;break;case 8:X11=p && p.data?7:12;break;case 1:x.movieEntry=y;X11=5;break;case 2:(w=this,v=this.Jo.time.ga(),x={},y=h.m_a(p));X11=1;break;case 7:y={};(A=p.data,B=Object.keys(p.data));X11=14;break;case 9:x.headers=z;X11=8;break;case 14:try{Z11=2;for(;Z11 !== 6;){switch(Z11){case 1:Z11=!D.done?5:6;break;case 2:(E=c.__values(B),D=E.next());Z11=1;break;case 9:try{a21=2;for(;a21 !== 7;){switch(a21){case 2:(C=(u=void 0,c.__values(G)),H=C.next());a21=1;break;case 3:M=h.Koa(K);a21=9;break;case 5:K=H.value;a21=4;break;case 1:a21=!H.done?5:7;break;case 9:B[K.gd]={mediaType:M.mediaType,streamId:M.streamId,movieId:M.movieId,bitrate:M.bitrate,location:M.location,serverId:M.serverId,saveToDisk:M.saveToDisk,offset:M.offset,bytes:M.bytes,timescale:M.timescale,startTicks:M.startTicks,durationTicks:M.durationTicks,response:K.response};a21=8;break;case 8:H=C.next();a21=1;break;case 4:a21=K instanceof d.l0 && K.response instanceof ArrayBuffer && !m.ka(K.gd)?3:8;break;}}}catch(Q){u={error:Q};}finally{b21=2;for(;b21 !== 1;){switch(b21){case 2:try{c21=2;for(;c21 !== 1;){switch(c21){case 2:H && !H.done && (r=C.return) && r.call(C);c21=1;break;}}}finally{d21=2;for(;d21 !== 5;){switch(d21){case 3:d21=u?2:6;break;d21=u?1:5;break;case 1:throw u.error;d21=5;break;case 2:d21=u?1:5;break;}}}b21=1;break;}}}Z11=8;break;case 5:(F=D.value,G=A[F]);B={};Z11=3;break;case 8:y[F]=B;Z11=7;break;case 3:Z11=G?9:7;break;case 7:D=E.next();Z11=1;break;}}}catch(Q){var I;I={error:Q};}finally{e21=2;for(;e21 !== 1;){switch(e21){case 2:try{f21=2;for(;f21 !== 1;){switch(f21){case 2:D && !D.done && (q=E.return) && q.call(E);f21=1;break;}}}finally{g21=2;for(;g21 !== 5;){switch(g21){case 3:g21=I?4:2;break;g21=I?1:5;break;case 2:g21=I?1:5;break;case 1:throw I.error;g21=5;break;case 9:throw I.error;g21=7;break;g21=5;break;}}}e21=1;break;}}}X11=13;break;case 12:I={lifespan:259200};this.Ipb && (I.convertToBinaryData=!0);this.Fo.save(k.Ar,p.K,x,I,function(Q){var h21;h21=2;for(;h21 !== 1;){switch(h21){case 2:var d1R="sa";d1R+="vet";d1R+="odi";d1R+="sk";Q || w.MP(d1R,{m$a:w.Jo.time.ga() - v});h21=1;break;}}});X11=20;break;case 13:x.data=y;X11=12;break;}}};w11=7;break;case 1:n.prototype.GPb=function(p){var C11,q,u,r;C11=2;for(;C11 !== 5;){switch(C11){case 2:(q=this,u=[k.QGa,p].join("."),r=this.Jo.time.ga());return this.Gt.then(function(){var D11;D11=2;for(;D11 !== 1;){switch(D11){case 2:return new Promise(function(w){var E11;E11=2;for(;E11 !== 1;){switch(E11){case 2:q.Fo.QY(k.Ar,u,function(v){var F11,x;F11=2;for(;F11 !== 3;){switch(F11){case 2:F11=!v || 0 >= v.length?1:5;break;case 8:F11=+v && 4 <= v.length?2:6;break;F11=!v || 0 >= v.length?1:5;break;case 5:x=v[0];q.Fo.read(k.Ar,x,function(y,z){var G11,B,H11,A;G11=2;for(;G11 !== 14;){switch(G11){case 5:G11=z instanceof ArrayBuffer?4:3;break;case 9:m.ka(A) || (B=h.Noa(A));m.ka(B) || m.Fb(B) || (B.Xb=B.Xb || ({}),B.headers=B.headers || ({}));q.l2a(B)?w(B):(q.Nrb(p),w());G11=14;break;case 1:G11=!m.ka(z)?5:9;break;case 4:try{H11=2;for(;H11 !== 1;){switch(H11){case 2:A=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));H11=1;break;}}}catch(E){}G11=9;break;case 2:var I1R=" f";I1R+="a";I1R+="i";I1R+="led";var b1R="Read";b1R+="ing movi";b1R+="e ";b1R+="en";b1R+="try ";y && q.I.warn(b1R + x + I1R,y);G11=1;break;case 3:A={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};G11=9;break;}}});F11=3;break;case 1:var Y1R="medi";Y1R+="ac";Y1R+="achelo";Y1R+="o";Y1R+="kup";(w(),q.MP(Y1R,{U8:q.Jo.time.ga() - r,l5:!1}));F11=3;break;}}});E11=1;break;}}});break;}}});break;}}};n.prototype.CPb=function(p,q,u){var I11,r,w;I11=2;for(;I11 !== 9;){switch(I11){case 1:I11=!this.Gt?5:4;break;case 2:r=this;I11=1;break;case 5:var M1R="Media cache i";M1R+="s ";M1R+="no";M1R+="t e";M1R+="nabled";return Promise.reject(M1R);break;case 6:I11=~this.Gt?8:6;break;I11=!this.Gt?5:4;break;case 4:w=this.Jo.time.ga();return this.Gt.then(function(){var J11;J11=2;for(;J11 !== 1;){switch(J11){case 2:return new Promise(function(v){var K11;K11=2;for(;K11 !== 1;){switch(K11){case 2:r.Fo.QY(k.Ar,p,function(x){var L11;L11=2;for(;L11 !== 5;){switch(L11){case 2:x=x.reduce(function(y,z){var M11,A;M11=2;for(;M11 !== 9;){switch(M11){case 2:A=z.substr(0,z.lastIndexOf("."));M11=1;break;case 1:var Q1R="drmHeader.__e";Q1R+="m";Q1R+="bed__";M11=-1 !== A.indexOf(Q1R)?5:4;break;case 5:return y;break;case 4:y[A]?y[A].push(z):y[A]=[z];M11=3;break;case 3:return y;break;case 12:return y;break;M11=9;break;}}},{});L11=1;break;case 1:r.mXb(x,q).then(function(y){var N11,z,A;N11=2;for(;N11 !== 8;){switch(N11){case 5:var q1R="media";q1R+="ca";q1R+="chelook";q1R+="up";var E1R="No content dat";E1R+="a found fo";E1R+="r ";(z=r.Jo.time.ga() - w,A=!1);m.ka(y) || m.ka(y.data) || !m.Th(y.data)?r.I.trace(E1R + p,u):A=!0;r.MP(q1R,{U8:z,l5:A});N11=9;break;case 1:return v();break;case 2:N11=void 0 === u || void 0 === y?1:5;break;case 9:v(y);N11=8;break;}}},function(){var O11;O11=2;for(;O11 !== 1;){switch(O11){case 4:v();O11=7;break;O11=1;break;case 2:v();O11=1;break;}}});L11=5;break;}}});K11=1;break;}}});break;}}});break;}}};w11=4;break;case 11:n.prototype.qpb=function(p){var J21,q;J21=2;for(;J21 !== 5;){switch(J21){case 2:var O1R="Media cache is not ena";O1R+="ble";O1R+="d";q=this;return this.Gt?this.Gt.then(function(){var K21;K21=2;for(;K21 !== 1;){switch(K21){case 2:return new Promise(function(u){var L21;L21=2;for(;L21 !== 1;){switch(L21){case 2:q.Fo.QY(k.Ar,p.toString(),function(r){var M21;M21=2;for(;M21 !== 1;){switch(M21){case 2:r && 0 !== r.length?1 === r.length && r[0] === p.toString()?u(!0):u(!1):u(!1);M21=1;break;}}});L21=1;break;}}});break;}}}):Promise.reject(O1R);break;}}};n.prototype.Nrb=function(p){function u(v){var P21;P21=2;for(;P21 !== 1;){switch(P21){case 4:v.map(q);P21=2;break;P21=1;break;case 2:v.map(q);P21=1;break;}}}var N21,r,w;N21=2;function q(v){var O21;O21=2;for(;O21 !== 1;){switch(O21){case 2:r.Fo.delete(k.Ar,v);O21=1;break;}}}for(;N21 !== 4;){switch(N21){case 2:(r=this,w=p.toString());this.Fo.QY(k.Ar,[k.QGa,p].join("."),u);this.Fo.QY(k.Ar,w,u);N21=4;break;}}};w11=20;break;case 2:n.prototype.Eb=function(p,q){var y11,u;y11=2;for(;y11 !== 4;){switch(y11){case 2:var r1R="Media ";r1R+="cache";r1R+=" is disabled";u=this;this.Bia?this.Gt=new Promise(function(r,w){var z11;z11=2;for(;z11 !== 1;){switch(z11){case 2:(void 0 !== q && null !== q?q.dO:function(v){var A11;A11=2;for(;A11 !== 1;){switch(A11){case 2:return l.dO(u.Jo,u.J,v);break;case 4:return l.dO(u.Jo,u.J,v);break;A11=1;break;}}})(function(v){var B11,x;B11=2;for(;B11 !== 4;){switch(B11){case 2:var D1R="Me";D1R+="dia cac";D1R+="he did not initialize";u.Fo=v;x=v.Un;(v=v.VH)?w(v):x?(u.q0b(p),r()):w(Error(D1R));B11=4;break;}}});z11=1;break;}}}):(this.Gt=Promise.reject(r1R),this.Gt.catch(function(){}));return this.Gt;break;}}};w11=1;break;case 7:n.prototype.l2a=function(p){var i21;i21=2;for(;i21 !== 1;){switch(i21){case 2:return !(m.ka(p) || m.Fb(p) || m.ka(p.Xb) || m.Fb(p.Xb) || m.ka(p.K) || m.Fb(p.K) || m.ka(p.priority) || m.Fb(p.priority));break;}}};n.prototype.MP=function(p,q){var j21,u;j21=2;for(;j21 !== 9;){switch(j21){case 2:var h3R="m";h3R+="ed";h3R+="iacac";h3R+="he";h3R+="lookup";var R3R="s";R3R+="a";R3R+="v";R3R+="et";R3R+="odisk";var V3R="mediacaches";V3R+="t";V3R+="a";V3R+="ts";u={type:V3R,operation:p};R3R === p && (u.saveTime=q.m$a);h3R === p && (u.lookupTime=q.U8,u.dataFound=q.l5);u.oneObject=this.fG;j21=3;break;case 3:var m3R="me";m3R+="di";m3R+="acac";m3R+="he";this.wob && this.emit(m3R,u);j21=9;break;}}};n.prototype.mXb=function(p,q){var k21,u,r;k21=2;for(;k21 !== 5;){switch(k21){case 2:(u=this,r=Object.keys(p).map(function(w){var l21;l21=2;for(;l21 !== 1;){switch(l21){case 2:return u.xAb(p[w]);break;}}}));return Promise.all(r).then(function(w){var m21;m21=2;for(;m21 !== 5;){switch(m21){case 2:w.sort(function(v,x){var n21;n21=2;for(;n21 !== 1;){switch(n21){case 2:return v.dd === x.dd?0:v.dd?-1:1;break;}}});return h.Ooa(u.J,u.I,u.df,w,q);break;}}});break;}}};n.prototype.xAb=function(p){var o21,q,u,r,w;o21=2;for(;o21 !== 5;){switch(o21){case 2:(q=this,w={});return new Promise(function(v,x){var p21,y;p21=2;for(;p21 !== 5;){switch(p21){case 2:q.Fo.baa(k.Ar,p,function(z,A){var q21,r21,B;q21=2;for(;q21 !== 1;){switch(q21){case 2:try{r21=2;for(;r21 !== 19;){switch(r21){case 5:Object.keys(A).map(function(E){var s21,t21,F,D;s21=2;for(;s21 !== 3;){switch(s21){case 5:try{t21=2;for(;t21 !== 5;){switch(t21){case 2:F=new Uint8Array(A[E]);r=JSON.parse(String.fromCharCode.apply(null,F));t21=5;break;}}}catch(G){r=A[E];}s21=3;break;case 1:s21=D === k.lea?5:4;break;case 2:D=E.substr(E.lastIndexOf(".") + 1);s21=1;break;case 4:D === k.YDa?u=A[E]:w[D]=A[E];s21=3;break;}}});r21=4;break;case 20:y=h.aoa(r,{response:w.response});r21=6;break;case 4:r21=h.e2a(r)?3:20;break;case 11:r21=h.Sqa(y)?10:12;break;case 8:return x(B);break;case 1:return x(z);break;case 7:y=h.boa(r,w,u);r21=6;break;case 6:r21=y.dd?14:11;break;case 12:v(y);r21=19;break;case 3:r21=u instanceof ArrayBuffer?9:7;break;case 10:var J3R="Mis";J3R+="sing or";J3R+=" inv";J3R+="alid media data parts";J3R+=" for stream ";return (B=J3R + y.Sa,x(B));break;case 14:r21=h.Tqa(y)?13:12;break;case 9:var P3R="Header";P3R+=" fr";P3R+="agmen";P3R+="ts was an array buffer, is invalid type ";B=P3R + y.Sa;r21=8;break;case 13:var u3R="Missing or invalid ";u3R+="h";u3R+="eader data parts for st";u3R+="ream ";return (B=u3R + y.Sa,x(B));break;case 2:r21=z || void 0 === A?1:5;break;}}}catch(E){x(E);}q21=1;break;}}});p21=5;break;}}});break;}}};n.prototype.qrb=function(p,q,u){var u21,r;u21=2;for(;u21 !== 5;){switch(u21){case 2:r=this;return new Promise(function(w,v){var v21,x;v21=2;for(;v21 !== 5;){switch(v21){case 2:r.Fo.read(k.Ar,p,function(y,z){var w21,x21,C,H,I,K,M,Q,y21,z21,A21,F,B21,J,O,N,C21,P,S,U,Z,D21,E21,F21,G21,H21,I21,A,B,E,D,G;w21=2;for(;w21 !== 4;){switch(w21){case 11:try{x21=2;for(;x21 !== 12;){switch(x21){case 14:z.push(Q);x21=13;break;case 13:H=C.next();x21=1;break;case 4:x21=M.fragments instanceof ArrayBuffer?3:8;break;case 2:(C=c.__values(G),H=C.next());x21=1;break;case 1:x21=!H.done?5:12;break;case 3:var U3R="Header fragments wa";U3R+="s an array buffer, is invalid typ";U3R+="e ";I=U3R + M.streamId;x21=9;break;case 5:(K=H.value,M=F.headers[K]);x21=4;break;case 8:Q=h.boa(M,M,M.fragments);x21=7;break;case 6:var F3R="Missing or in";F3R+="valid he";F3R+="ader d";F3R+="ata parts for stream ";return (I=F3R + Q.Sa,v(I));break;case 7:x21=h.Tqa(Q)?6:14;break;case 9:return v(I);break;}}}catch(ya){var L;L={error:ya};}finally{y21=2;for(;y21 !== 1;){switch(y21){case 2:try{z21=2;for(;z21 !== 1;){switch(z21){case 2:H && !H.done && (A=C.return) && A.call(C);z21=1;break;}}}finally{A21=2;for(;A21 !== 5;){switch(A21){case 9:throw L.error;A21=3;break;A21=5;break;case 1:throw L.error;A21=5;break;case 2:A21=L?1:5;break;}}}y21=1;break;}}}w21=10;break;case 5:v(y);w21=4;break;case 6:y=h.Noa(F.movieEntry);z=[];w21=13;break;case 13:w21=F.headers?12:10;break;case 8:F=z[p];w21=7;break;case 18:try{B21=2;for(;B21 !== 8;){switch(B21){case 9:O=J.next();B21=1;break;case 2:(J=c.__values(A),O=J.next());B21=1;break;case 1:B21=!O.done?5:8;break;case 5:K=O.value;N=Object.keys(L[K]);try{C21=2;for(;C21 !== 7;){switch(C21){case 2:(P=(E=void 0,c.__values(N)),S=P.next());C21=1;break;case 1:C21=!S.done?5:7;break;case 5:(U=L[K][S.value],Z=h.aoa(U,U));C21=4;break;case 3:var f3R="Missing";f3R+=" or invalid med";f3R+="ia data";f3R+=" parts for stream ";return (I=f3R + Z.Sa,v(I));break;case 9:z.push(Z);C21=8;break;case 4:C21=h.Sqa(Z)?3:9;break;case 8:S=P.next();C21=1;break;}}}catch(ya){E={error:ya};}finally{D21=2;for(;D21 !== 1;){switch(D21){case 2:try{E21=2;for(;E21 !== 1;){switch(E21){case 2:S && !S.done && (D=P.return) && D.call(P);E21=1;break;}}}finally{F21=2;for(;F21 !== 5;){switch(F21){case 9:throw E.error;F21=3;break;F21=5;break;case 1:throw E.error;F21=5;break;case 2:F21=E?1:5;break;}}}D21=1;break;}}}B21=9;break;}}}catch(ya){var ja;ja={error:ya};}finally{G21=2;for(;G21 !== 1;){switch(G21){case 2:try{H21=2;for(;H21 !== 1;){switch(H21){case 2:O && !O.done && (B=J.return) && B.call(J);H21=1;break;}}}finally{I21=2;for(;I21 !== 5;){switch(I21){case 2:I21=ja?1:5;break;case 9:throw ja.error;I21=7;break;I21=5;break;case 3:I21=ja?7:9;break;I21=ja?1:5;break;case 1:throw ja.error;I21=5;break;}}}G21=1;break;}}}w21=17;break;case 1:w21=y?5:3;break;case 2:w21=1;break;case 20:L=F.data;A=Object.keys(L);w21=18;break;case 7:w21=F.movieEntry?6:15;break;case 12:G=Object.keys(F.headers);w21=11;break;case 9:w();w21=4;break;case 17:x=h.Ooa(r.J,r.I,r.df,z,q);w21=16;break;case 10:w21=F.data?20:17;break;case 16:void 0 !== x && (x.Lm=y);w21=15;break;case 15:var w3R="medi";w3R+="ac";w3R+="achelookup";r.MP(w3R,{U8:r.Jo.time.ga() - u,l5:!0});w(x);w21=4;break;case 3:w21=m.ka(z)?9:8;break;}}});v21=5;break;}}});break;}}};w11=11;break;case 20:n.prototype.q0b=function(p){var Q21,q;Q21=2;for(;Q21 !== 4;){switch(Q21){case 5:var x3R="m";x3R+="edi";x3R+="aca";x3R+="c";x3R+="he-error";q.on(this.Fo,x3R,function(u){var T21;T21=2;for(;T21 !== 5;){switch(T21){case 3:u.type="";T21=6;break;T21=1;break;case 1:var z3R="m";z3R+="ed";z3R+="iac";z3R+="ach";z3R+="e";p.emit(z3R,u);T21=5;break;case 2:var o3R="e";o3R+="rr";o3R+="o";o3R+="r";u.type=o3R;T21=1;break;}}});Q21=4;break;case 2:var e3R="med";e3R+="iac";e3R+="ac";e3R+="he";q=new g.ii();q.on(this.Fo,e3R,function(u){var R21;R21=2;for(;R21 !== 4;){switch(R21){case 1:u.keys || u.items.map(function(r){var S21;S21=2;for(;S21 !== 1;){switch(S21){case 4:return r.key;break;S21=1;break;case 2:return r.key;break;}}});R21=5;break;case 9:R21=u.keys && u.items?7:0;break;R21=u.keys || u.items?1:5;break;case 2:R21=u.keys || u.items?1:5;break;case 5:var S3R="media";S3R+="ca";S3R+="c";S3R+="he";p.emit(S3R,u);R21=4;break;}}});Q21=5;break;}}};return n;break;}}})();b.pHa=a;t.Bf(g.EventEmitter,a);},function(t,b,a){var c,g,l,m,d;c=a(10);l=[];d=!1;t.exports={dO:function(f,h,k){var n;if(d)c.kd(k) && (g.Un || g.VH?setTimeout(function(){k(g);},0):l.push(k));else {d=!0;n=a(129);n.PW(f);m=new n.Console("MEDIACACHE","media|asejs");g=new (a(406))(h,function(p){p && m.warn("Failed to initialize MediaCache",p);c.kd(k) && setTimeout(function(){k(g);},0);l.map(function(q){setTimeout(function(){q(g);},0);});});}return g;},scc:function(f,h){g=new (a(406))(f,function(k,n){k && m.warn("Failed to initialize MediaCache",k);c.kd(h) && setTimeout(function(){h(n);},0);});}};},function(t,b,a){var g,l,m,d,f;function c(h){this.Kr=h;this.context=h.context;this.W5a="NULLCONTEXT" === h.context?!0:!1;}g=a(10);l=a(129);m=new l.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(h,k,n,p,q){q("MediaCache is not supported");},remove:function(h,k,n){n("MediaCache is not supported");},create:function(h,k,n,p){p("MediaCache is not supported");},append:function(h,k,n,p){p("MediaCache is not supported");},query:function(h,k,n){n([]);}};c.prototype.xG=function(){var h,k,n;h=Array.prototype.slice.call(arguments);k=h[0];n=h[h.length - 1];h=h.slice(1,h.length - 1);h.push(function(p){n(null,p);});try{if(this.W5a)throw Error("Media Cache not supported");k.apply(this.Kr,h);}catch(p){n(p);}};c.prototype.query=function(h,k,n,p){try{if(this.W5a)throw Error("Media Cache not supported");this.Kr.query(h,k,function(q){n(null,q);},p);}catch(q){n(q);}};c.prototype.read=function(h,k,n,p,q){this.xG(this.Kr.read,h,k,n,p,q);};c.prototype.remove=function(h,k,n){this.xG(this.Kr.remove,h,k,n);};c.prototype.create=function(h,k,n,p){this.xG(this.Kr.create,h,k,n,p);};c.prototype.append=function(h,k,n,p){this.xG(this.Kr.append,h,k,n,p);};c.prototype.info=function(h){this.xG(this.Kr.info,h);};c.prototype.validate=function(h){this.xG(this.Kr.validate,h);};c.prototype.flush=function(h){this.xG(this.Kr.flush,h);};c.prototype.clear=function(){this.Kr.clear();};t.exports={AAb:function(h){var k,n,p,q,u;k=h.Obc || "NRDMEDIADISKCACHE";f=h.qV || 0;0 !== f || g.ka(l.options) || g.ka(l.options.EO) || (f=l.options.EO);h=f;try{p=l.storage.bDb;if(!p || !g.Th(p))throw (m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=p[k]){m.warn("Disk store exists, returning");q=new c(n);}else {if(g.ka(l.storage) || !g.kd(l.storage.WUa) || l.options && 0 === l.options.EO)throw (m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");m.warn("Disk store context doesn't exist, creating with size " + h);u=l.storage.WUa({context:k,size:h,encrypted:!0,signed:!0});if(!u || !u.valid)throw "Failed to create disk store context";q=new c(u);}}catch(r){m.warn("Exception creating disk store context - returning NullContext (noops)",r);q=new c(d);}return q;},WHb:function(){return f;},x7b:c};},function(t,b,a){var f,h,k,n,p,q,u,r,w;function c(){}function g(v,x,y,z,A){var B;B=f.kd(z)?z:c;this.iw=v;this.Fg=y.Aw;this.Yy=0;this.Bob=y.YEb || "NONE";this.Gy=f.ka(A) || f.Fb(A)?0:A;this.De={};this.Dt=y.Qdc || h.storage.jS;this.$v=x;this.eM=p.create(this.$v,y.DBb * this.Gy,this.iw);this.on=this.addEventListener=w.addEventListener;this.removeEventListener=w.removeEventListener;this.emit=this.Ya=w.Ya;this.TOa=m(this,g.Pe.REPLACE);this.cpb=m(this,g.Pe.CNa);this.rG;this.rG=y.Idb?a(890):a(891);this.$v.query(this.Dt,this.Qq(""),(function(E,D){var F;if(E)B(E);else {F=this.eM.Doa();E=Object.keys(D).filter(function(G){return G !== F && q.kO(G);}).map(this.Nya.bind(this));this.baa(E,(function(G,C){Object.keys(C).map((function(H){var K,M;K=C[H];this.De[q.g6(H)]=K;if(K.xwa && 1 < Object.keys(K.xwa).length){M=0;Object.keys(K.xwa).forEach((function(I){D[this.Qq(I)] && f.Fa(D[this.Qq(I)].size) && (M+=D[this.Qq(I)].size);}).bind(this));H=q.g6(H);this.De[H].size=M;}else (H=q.g6(H),D[this.Qq(H)] && (this.De[H].size=D[this.Qq(H)].size));}).bind(this));l(this.$v,this.Dt,this.iw,(function(H,K){this.Yy=K;H?B(H):B(null,this);}).bind(this));}).bind(this));}}).bind(this));}function l(v,x,y,z){var A;A=f.kd(z)?z:c;v.query(x,y,function(B,E){B?A(B):(B=Object.keys(E).reduce(function(D,F){return D + (E[F].size || 0);},0),A(null,B));});}function m(v,x){return function(y,z,A,B,E){return function(D,F){var G;if(D)(z || v.Ya(g.Pe.Qf,{itemKey:y,error:D}),A(D));else {G={Zk:0,duration:0,items:[],time:h.time.now()};Object.keys(F.actions).map(function(C){var H;H=F.actions[C];C={key:v.Nya(H.z8),nl:C};H.aa?(G.Zk+=H.Zk,C.y8=H.Zk,f.Fa(H.duration) && (G.duration+=H.duration)):C.error=H.error;G.items.push(C);});D=f.kd(B)?B():0;0 < E && (G.SM=E - D);l(v.$v,v.Dt,v.iw,function(C,H){C?A(C):(v.Yy=H,G.Pn=v.Fg - H,z || v.Ya(x,r.gZa(G)),A(null,G));});}};};}function d(v,x){return 0 < x && v >= x?!0:!1;}f=a(10);h=a(129);k=a(253);b=a(85);n=new h.Console("MEDIACACHE","media|asejs");p=a(886);q=a(407);u=a(130);r=a(254);w=a(408).EventEmitter;b({Pe:{CNa:"writeitem",REPLACE:"replaceitem",Rda:"journalupdate",Qf:"mediacache-error"}},g);g.prototype.eJb=function(){return this.iw;};g.prototype.Nya=function(v){return v.slice(this.iw.length + 1);};g.prototype.xoa=function(){return Object.keys(this.De).filter((function(v){v=q.Una(this.De[v]);return void 0 === v || 0 >= v.uUa();}).bind(this));};g.prototype.sJb=function(){return Object.keys(this.De).reduce((function(v,x){var y;y=this.De[x];return y && y.creationTime < v.creationTime?{resourceKey:x,creationTime:y.creationTime}:v;}).bind(this),{resourceKey:null,creationTime:h.time.now()}).Uec;};g.prototype.iIb=function(){var v;switch(this.Bob){case "FIFO":v=this.sJb();}return v;};g.prototype.uCb=function(v){var x;x=f.kd(v)?v:c;this.UZa((function(y){var z,A,B;z=this.De;A=Object.keys(z).reduce(function(E,D){D=z[D];D.resourceIndex && Object.keys(D.resourceIndex).forEach(function(F){E.push(F);});return E;},[]);if((y=y.filter(function(E){return !q.kO(E) && 0 > A.indexOf(E);})) && 0 < y.length){B=this;y=h.Promise.all(y.map(function(E){return new h.Promise(function(D,F){B.delete(E,function(G){G?F(G):D();});});})).then(function(){x(void 0,{Uva:!0});},function(E){x(E,{Uva:!1});});r.ux(y);}else v(void 0,{Uva:!1});}).bind(this));};g.prototype.yXb=function(v,x,y){var z,A;z=f.kd(x)?x:c;x=this.Qq(v);A=h.time.now();this.$v.read(this.Dt,x,0,-1,(function(B,E){var D;if(B)z(B);else if(E && E.aa && E.value){f.kd(y) || (y=this.rG.iW(u.Br.gF),q.kO(v)?y=this.rG.iW(u.Br.D1):(B=this.De[v],!f.ka(B) && f.Fa(B.resourceIndex[v])?(B=B.resourceIndex[v],f.ka(B) && (B=u.Br.gF),y=this.rG.iW(B)):n.warn("Metadata is undefined or does not contain a resource format for key",v,":",B)));try{D=y(E.value);}catch(F){return z(k.SK.wr(F.message));}E={duration:h.time.now() - A};this.De[v] && f.Fa(this.De[v].size) && (E.oz=f.Fa(this.De[v].size)?this.De[v].size:0);z(null,D,E);}else z(k.SK.wr(E.error));}).bind(this));};g.prototype.read=function(v,x,y){this.yXb(v,x,y);};g.prototype.baa=function(v,x,y){var z,A,B;z=f.kd(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(v))z(k.SK.wr("item keys must be an array"));else {A={};B=[];v=h.Promise.all(v.map((function(E){return new h.Promise((function(D,F){var G;y && !f.ka(y[E]) && (G=this.rG.iW(y[E]));this.read(E,function(C,H,K){C?(H={},H[E]=C,F(H)):(A[E]=H,B.push({duration:K.duration,oz:K.oz}),D());},G);}).bind(this));}).bind(this))).then(function(){var E;E={};0 < B.length && (E=B.reduce(function(D,F){f.Fa(F.duration) && (D.duration+=F.duration);f.Fa(F.oz) && (D.oz+=F.oz);return D;},{duration:0,oz:0}));z(null,A,E);},function(E){z(E);});r.ux(v);}};g.prototype.write=function(v,x,y,z,A){var B,E,D;y=f.kd(y)?y:c;B=this.Qq(v);E="function" === typeof A?A():0;D=u.zpa(x);D=this.rG.gpa(D)(x);D.byteLength + this.Yy >= this.Fg?y(k.jK):d(D.byteLength + E,this.Gy)?y(k.q2):this.eM.save(this.Dt,B,x,this.cpb(v,z,y,A,this.Gy),D.byteLength);};g.prototype.replace=function(v,x,y,z,A){var B,E,D,F;B=f.kd(y)?y:c;E=this.Qq(v);D=0;"function" === typeof A && (D=A());y=u.zpa(x);F=this.rG.gpa(y)(x);y=(this.De[v] || ({})).size || 0;0 >= y && this.De[v]?this.x_a([v],(function(G){n.trace("Replacing key",v,"which exists:",! !this.De[v],this.De[v]?this.De[v]:void 0,"and has size",G,"with",x,"with size",F.byteLength,"plus _used",this.Yy,"vs capacity",this.Fg);F.byteLength - G + this.Yy >= this.Fg?B(k.jK):d(F.byteLength - G + D,this.Gy)?B(k.q2):this.eM.replace(this.Dt,E,x,this.TOa(v,z,B,A,this.Gy),F.byteLength);}).bind(this)):(n.trace("Replacing key",v,"which exists:",! !this.De[v],this.De[v]?this.De[v]:void 0,"and has size",y,"with",x,"with size",F.byteLength,"plus _used",this.Yy,"vs capacity",this.Fg),F.byteLength - y + this.Yy >= this.Fg?B(k.jK):d(F.byteLength - y + D,this.Gy)?B(k.q2):this.eM.replace(this.Dt,E,x,this.TOa(v,z,B,A,this.Gy),F.byteLength));};g.prototype.HYb=function(v,x,y,z){var A;A=f.kd(x)?x:c;"[object Object]" !== Object.prototype.toString.call(v)?A(k.p2.wr("items must be a map of keys to objects")):(x=h.Promise.all(Object.keys(v).map((function(B){return new h.Promise((function(E){this.replace(B,v[B],function(D,F){D?E({error:D,dr:B}):E(F);},!0,z);}).bind(this));}).bind(this))).then((function(B){var E,D,F,G;try{E=Number.MAX_VALUE;D=B.reduce(function(C,H){H.error || (C.Zk+=H.Zk,f.Fa(H.duration) && (C.duration+=H.duration),!f.ka(H.Pn) && H.Pn < E && (E=H.Pn),H.items.map(function(K){C.items.push({key:K.key,nl:K.nl,y8:K.y8,VPb:K.VPb,duration:K.duration});}),E < Number.MAX_VALUE && (C.Pn=E));return C;},{Zk:0,items:[],time:h.time.now(),duration:0});0 < this.Gy && (D.SM=this.Gy - z());F=B.filter(function(C){return !f.ka(C.error);});G=r.k0a(F);y || (G?G.forEach((function(C){this.Ya(g.Pe.Qf,C);}).bind(this)):this.Ya(g.Pe.REPLACE,r.gZa(D)));A(G,D);}catch(C){A(C);}}).bind(this),(function(B){y || this.Ya(g.Pe.Qf,B);A(B);}).bind(this)),r.ux(x));};g.prototype.delete=function(v,x){var y;y=f.kd(x)?x:c;this.$v.remove(this.Dt,this.Qq(v),(function(z,A){z?y(z):A && A.aa?l(this.$v,this.Dt,this.Qq(""),(function(B,E){B?y(B):(this.Yy=E,y());}).bind(this)):y(k.Sgb.wr(A.error));}).bind(this));};g.prototype.UZa=function(v){this.query("",function(x,y){x?(n.error("Failed to get keys",x),v([])):v(y);});};g.prototype.query=function(v,x){var y,z;y=f.kd(x)?x:c;z=this.eM.Doa();this.$v.query(this.Dt,this.Qq(v),(function(A,B){A?y(A):y(null,Object.keys(B).filter(function(E){return E !== z;}).map(this.Nya.bind(this)));}).bind(this));};g.prototype.Qq=function(v){return this.iw + "." + v;};g.prototype.clear=function(v){var x;x=f.kd(v)?v:c;this.UZa((function(y){var z;z=h.Promise.all(y.map((function(A){return new h.Promise((function(B){A && this.delete(A,function(){B();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(A){this.Ya(g.Pe.Qf,A);x([],A);}).bind(this));r.ux(z);}).bind(this));};g.prototype.x_a=function(v,x){var y,z;y=f.kd(x)?x:c;z=(v || []).map((function(A){return this.Qq(A);}).bind(this));this.$v.query(this.Dt,this.iw,(function(A,B){A?(n.error("failed to get persisted size for keyset ",v,A),y(0)):(A=Object.keys(B).filter(function(E){return 0 <= z.indexOf(E);}).reduce(function(E,D){return E + (B[D].size || 0);},0),y(A));}).bind(this));};g.prototype.xHb=function(v){return this.eM.WYa(v);};g.prototype.constructor=g;t.exports=g;},function(t,b,a){var g,l,m,d,f,h,k,n;function c(p,q,u){var A,B;function r(E,D,F,G){E.info.call(E,(function(C,H){var K;if(C)G(C);else {try{K=H.values[this.context].entries[D][F].size;}catch(M){K=-1;}-1 < K?G(null,K):this.validate(function(M,I){M?G(M):(I[F] && (K=I[F].size),G(null,K));});}}).bind(E));}function w(E,D,F,G,C,H,K){var M;H?H.actions || (H.actions={}):H={actions:{}};A(G);M=l.time.now();G=new k(function(I,Q){E.create(l.storage.jS,D,F,function(L,J){L?Q(L):I(J);});}).then(function(I){I.aa?r(E,l.storage.jS,D,function(Q,L){Q?K(Q):(B(L),A(L),H.actions[c.b0.Rda]={aa:!0,time:C,Zk:L,z8:D,H8a:I,duration:l.time.now() - M},H.Pn=I.Pn,K(null,H));}):(H.actions[c.b0.Rda]={aa:!1,z8:D,error:I.error},K(null,H));},function(I){K(I);});f.ux(G);}function v(E,D,F,G,C,H){G.Iq(F.time,F);for(var K=F.time - 864E5,M=G.px();M && !isNaN(M.time) && M.time < K;){M=G.VM();A(0 - (M.fa || 0));M=G.px();}G=G.Bp().map(function(I){return I.time + ";" + I.fa;});w(E,D,Array.prototype.join.call(G,"|"),F.fa,F.time,C,H);}function x(E,D,F,G,C,H,K,M,I){var Q;Q=l.time.now();E.create(F,G,C,function(L,J){var O;if(L)h.error("Failed to replace item",G,L);else if(J.aa){O=J.Pn;r(E,F,G,function(N,P){var S,U;if(N)I(N);else {N={time:M,fa:P || 0};S={Pn:O,actions:{}};U=l.time.now() - Q;S.actions[c.b0.REPLACE]={aa:!0,time:M,Zk:P,z8:G,H8a:J,duration:U};H?v(E,D,N,K,S,I):(A(P),I(null,S));}});}else I(m.p2.wr(J.error || "Failed to create item"));});}function y(E,D,F,G,C,H,K,M,I){var Q;Q=l.time.now();E.append(F,G,C,function(L,J){var O;if(L)(h.error("Failed to save item " + G,L),I(L));else if(J.aa){O=J.Pn;r(E,F,G,function(N,P){var S,U;if(N)I(N);else {N={time:M,fa:P || 0};S={Pn:O,actions:{}};U=l.time.now() - Q;S.actions[c.b0.fmb]={aa:!0,time:M,Zk:P,z8:G,H8a:J,duration:U};H?v(E,D,N,K,S,I):(A(P),I(null,S));}});}else I(m.p2.wr(J.error || "Failed to save item"));});}function z(E,D){E && g.kd(E.remove) && E.Kr.valid && E.remove(l.storage.jS,D.HL,function(F,G){if(F)h.error("Failed to delete old journal key",F);else try{G && (g.ka(G.error) || G.error.some(function(C){return "NFErr_FileNotFound" === C.fcc;})) && v(E,D.HL,{time:0,fa:0},D.LT,0,function(){});}catch(C){}});}if(!p.Kr.valid)return n;this.oOa=g.ka(q) || g.Fb(q)?0:q;this.Oga=p;this.vha=this.TS=0;this.LT=new d();this.Wqb=u || "default";this.HL=this.Wqb + ".NRDCACHEJOURNALKEY";A=(function(E){isNaN(E) || (this.TS+=E);return this.TS;}).bind(this);B=(function(E){isNaN(E) || (this.vha+=E);return this.vha;}).bind(this);this.Doa=function(){return this.HL;};this.save=function(E,D,F,G){var C;C=l.time.now();y(this.Oga,this.HL,E,D,F,0 <= this.oOa,this.LT,C,G);};this.replace=function(E,D,F,G){var C;C=l.time.now();x(this.Oga,this.HL,E,D,F,0 <= this.oOa,this.LT,C,G);};this.WYa=function(E){var D,C;D=this.TS;E-=864E5;for(var F=this.LT.Bp(),G=0;G < F.length;G++){C=F[G];C.time < E && !isNaN(C.fa) && (D-=C.fa);}return D;};(function(E){var D;D=E.Oga;E.TS=0;D.read(l.storage.jS,E.HL,0,-1,function(F,G){var C,H,K,I;C=[];H=0;K=!0;if(F)h.error("Failed to compile records",F);else if(G.aa){F=String.fromCharCode.apply(null,new Uint8Array(G.value));F=String.prototype.split.call(F,"|");G=F.reduce(function(Q,L){return Q + (L.length + 40);},0);A(G);C=F.map(function(Q){Q=Q.split(";");return {time:Number(Q[0]),fa:Number(Q[1])};});try{if(!isNaN(C.reduce(function(Q,L){return Q + L.fa;},0))){K=!1;for(var M=l.time.now() - 864E5;H < C.length;H++){I=C[H];I.time < M || (E.LT.Iq(I.time,I),A(I.fa));}}}catch(Q){}}K && z(D,E);});})(this);}g=a(10);l=a(129);m=a(253);d=a(887);b=a(85);f=a(254);h=new l.Console("DISKWRITEMANAGER","media|asejs");k=l.Promise;b({b0:{fmb:"saveitem",REPLACE:"replaceitem",Rda:"journalupdate"}},c);n={save:function(p,q,u,r){r(m.MGa);},replace:function(p,q,u,r){r(m.MGa);},Doa:function(){return "";},WYa:function(){return 0;}};c.prototype.constructor=c;t.exports={create:function(p,q,u){return new c(p,q,u);},F9b:n};},function(t){function b(g){if(!(this instanceof b))return new b(g);if("undefined" === typeof g)this.tn=function(l,m){return l <= m;};else {if("function" !== typeof g)throw Error("heap comparator must be a function");this.tn=g;}this.Up=[];}function a(g,l){var m,d,f,h,k,n,p;m=g.Up;d=g.tn;f=2 * l + 1;h=2 * l + 2;k=m[l];n=m[f];p=m[h];n && d(n.priority,k.priority) && (!p || d(n.priority,p.priority))?(c(m,l,f),a(g,f,d)):p && d(p.priority,k.priority) && (c(m,l,h),a(g,h,d));}function c(g,l,m){var d;d=g[l];g[l]=g[m];g[m]=d;}b.prototype.clear=function(){this.Up=[];};b.prototype.Iq=function(g,l){this.Up.push({priority:g,value:l});g=this.Up;l=this.tn;for(var m=g.length - 1,d=0 === m?null:Math.floor((m - 1) / 2);null !== d && l(g[m].priority,g[d].priority);){c(g,m,d);m=d;d=0 === m?null:Math.floor((m - 1) / 2);}};b.prototype.remove=function(){var g;if(0 !== this.Up.length){g=this.Up[0];c(this.Up,0,this.Up.length - 1);this.Up.pop();a(this,0);return g.value;}};b.prototype.px=function(){if(0 !== this.Up.length)return this.Up[0].value;};b.prototype.enqueue=b.prototype.Iq;b.prototype.VM=b.prototype.remove;b.prototype.j8=function(){return 0 === this.Up.length;};b.prototype.Bp=function(){return this.Up.map(function(g){return g.value;});};t.exports=b;},function(t){function b(c,g){var l;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return (this.Ad={},this.Ad[c]=[g],!0);l=this.Ad[c];return void 0 === l?(this.Ad[c]=[g],!0):0 > l.indexOf(g)?(l.push(g),!0):!1;}function a(c,g){c=this.Ad?this.Ad[c]:void 0;if(!c)return !1;c.forEach(function(l){l(g);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(c,g){var l;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return !1;l=this.Ad[c];if(void 0 === l)return !1;g=l.indexOf(g);if(0 > g)return !1;if(1 === l.length)return (delete this.Ad[c],!0);l.splice(g,1);return !0;},Ya:a,emit:a,removeAllListeners:function(c){this.Ad && (void 0 === c?delete this.Ad:delete this.Ad[c]);return this;}};},function(t){function b(c,g,l,m){c.trace(":",l,":",m);g(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,g,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,g));if("function" === typeof c.addEventListener)m=c.addEventListener(g,l);else if("function" === typeof c.addListener)m=c.addListener(g,l);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var l,m;l=g[0];m=g[1];g=g[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,g):"function" === typeof l.removeListener && l.removeListener(m,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};t.exports=a;},function(t,b,a){var c,g,l,m;c=a(10);g=a(130);l={};l[g.Br.gF]=function(d){return d;};l[g.Br.X1]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};l[g.Br.D1]=function(d){var f;f=d || new ArrayBuffer(0);d="";f=new Uint8Array(f);for(var h=0;h < f.byteLength;h++){d+=String.fromCharCode(f[h]);}return JSON.parse(d);};m={};m[g.Br.gF]=function(d){return d;};m[g.Br.X1]=function(d){for(var f=new ArrayBuffer(d.length),h=new Uint8Array(f),k=0,n=d.length;k < n;k++){h[k]=d.charCodeAt(k);}return f;};m[g.Br.D1]=function(d){return c.ka(d) || c.Fb(d)?d:m[g.Br.X1](JSON.stringify(d));};t.exports={iW:function(d){return l[d] || l[g.Br.gF];},gpa:function(d){return m[d] || m[g.Br.gF];}};},function(t,b,a){function c(l){return l;}function g(){return c;}a(10);t.exports={iW:g,gpa:g};},function(t,b,a){var l;function c(m,d){return m.length > d.length?1:d.length > m.length?-1:0;}function g(m,d){var f,h,k;f=[];if(l.Th(d)){h={};k={};k[m]=h;f.push(k);f=Object.keys(d).reduce(function(n,p){var q,u,r;q=d[p];u={};if(l.f8(q)){r=m + ".__embed__." + p;u[r]=q;n.push(u);}else l.Th(q)?(r=m + ".__sub__." + p,q=g(r,q),h[p]=q[0][r],n=n.concat(q.slice(1))):h[p]=q;return n;},f);}else (k={},k[m]=d,f.push(k));return f;}l=a(130);t.exports={aDb:g,XMb:function(m){var d,f,h,r;d=Object.keys(m).map(function(w){return w.split(".");});d.sort(c);f=d[0];h=f.length;f=m[f.join(".")];for(var k=1;k < d.length;k++){for(var n=!1,p=!1,q=f,u=h;u < d[k].length;u++){r=d[k][u];switch(r){case "__metadata__":break;case "__sub__":p=!0;break;case "__embed__":n=!0;break;default:p?(q=q[r],p=!1):n && (q[r]=m[d[k].join(".")],n=!1);}}}return f;},ENb:function(m){return m && (0 <= m.indexOf("__sub__") || 0 <= m.indexOf("__embed__"));}};},function(t,b,a){var m,d;function c(f,h,k){Object.keys(f).forEach(function(n){var p,q;if(m.Th(f[n]))if(f[n].f8){p=f[n];q=k + p.offset;f[n]=h.slice(q,q + p.byteLength);}else f[n]=c(f[n],h,k);});return f;}function g(f,h,k){Object.keys(f).forEach(function(n){var p;if(m.f8(f[n])){p=f[n];h.push(p);f[n]={f8:!0,offset:k.Lla,byteLength:p.byteLength};k.Lla+=p.byteLength;}else m.Th(f[n]) && g(f[n],h,k);});return f;}function l(){var f,h,k;f=Array.prototype.concat.apply([],arguments);h=f.reduce(function(n,p){return n + p.byteLength;},0);k=new Uint8Array(h);f.reduce(function(n,p){k.set(new Uint8Array(p),n);return n + p.byteLength;},0);return k.buffer;}m=a(130);d=a(85);t.exports={Fyb:function(f){var h,k,n;h=d(f,{});f=[];h=g(h,f,{Lla:0});h=JSON.stringify(h);k=new ArrayBuffer(h.length + 4);n=new DataView(k);n.setUint32(0,h.length);for(var p=4,q=0,u=h.length;q < u;q++){n.setUint8(p,h.charCodeAt(q));p++;}f=[k].concat(f);return l.apply(null,f);},Eyb:function(f){for(var h=new DataView(f,0,4).getInt32(0),k=new Uint8Array(f,4,h),n="",p=0;p < k.byteLength;p++){n+=String.fromCharCode(k[p]);}h=4 + h;n=JSON.parse(n);return c(n,f,h);}};},function(t,b,a){var g,l,m,d,f;function c(h){return {mediaType:h.mediaType,streamId:h.Sa,movieId:h.K,bitrate:h.bitrate,location:h.location,serverId:h.re,saveToDisk:!0,offset:h.offset,bytes:h.fa,timescale:h.W,frameDuration:h.stream.va && h.stream.va.pc,encrypted:h.fl,initSegments:1 < h.Zg.length?h.Zg.map(function(k){return {fi:k.Bd,s:k.data.byteLength,e:! !k.fl};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.Sqa=b.Tqa=b.e2a=b.m_a=b.MZa=b.OZa=b.Koa=b.Ooa=b.Noa=b.aoa=b.boa=b.LGa=void 0;g=a(2).__importStar(a(10));l=a(895);m=a(384);d=a(9);f=a(21);b.LGa={QGa:"movieEntry",oib:"header",lea:"metadata",Pib:"headerData",y8b:"headerMetadata",fib:"sizes",eib:"durations",YDa:"fragments",Vjb:"response",Ar:"billboard",uF:{lifespan:259200}};b.boa=function(h,k,n){var p,q;p=k.headerData;n && k.sizes instanceof ArrayBuffer && k.durations instanceof ArrayBuffer && (q={vl:n.startTicks,offset:n.offset,W:n.timescale,sizes:new Uint32Array(k.sizes),vd:new Uint32Array(k.durations)});return {dd:!0,mediaType:h.mediaType,K:h.movieId,Sa:h.streamId,bitrate:h.bitrate,location:h.location,re:h.serverId,fa:h.bytes,offset:h.offset,Tpa:p,T7:h.initSegments,fl:h.encrypted,W:h.timescale,va:h.frameDuration,ai:h.saveToDisk,Y:q};};b.aoa=function(h,k){var n,p,q;k=k.response;n=h.startTicks;p=h.durationTicks;void 0 !== n && void 0 !== p && (q=n + p);return {dd:!1,mediaType:h.mediaType,K:h.movieId,Sa:h.streamId,bitrate:h.bitrate,location:h.location,re:h.serverId,fa:h.bytes,offset:h.offset,response:k,W:h.timescale,Za:h.startTicks,eu:p,ai:h.saveToDisk,tb:q};};b.Noa=function(h){return {priority:h.priority,K:h.movieId,headers:{},WN:0,cV:0,L0a:0,ai:h.saveToDisk,Xb:h.stats,Nw:h.firstSelectedStreamBitrate,rA:h.initSelectionReason,KD:h.histDiscountedThroughputValue,gp:h.histTdigest,fp:h.histAge,No:void 0};};b.Ooa=function(h,k,n,p,q){var u,r;u={headers:{},data:{}};p.forEach(function(w){var v,x,A;v=w.mediaType;v=q && q.Rw(v,w.Sa);x=[];if(w.dd)if(!Array.isArray(w.T7) || 2 > w.T7.length)x.push({Bd:0,data:w.Tpa});else for(var y=0,z=0;z < w.T7.length;++z){A=w.T7[z];x.push({Bd:A.fi,data:w.Tpa.slice(y,y + A.s),fl:A.e});y+=A.s;}v?(w.Y && v.h$(x,w.W,w.va?new f.R(w.va,w.W):void 0,w.Y),w.dd && v && v.ke?(void 0 === u.headers && (u.headers={}),u.headers[w.Sa]=new m.m0(v,{fa:w.fa,offset:w.offset,Zg:x,fl:w.fl},k)):w.response instanceof ArrayBuffer && void 0 !== v.Y && void 0 !== w.Za && void 0 !== w.W && void 0 !== w.tb && (x=v.Y.m6(new f.R(w.Za,w.W).U),void 0 !== x && (v=new l.hAa(v,{W:w.W,Za:w.Za,tb:w.tb,index:x.index,offset:w.offset,fa:w.fa},w.response,n,h,k),void 0 === u.data && (u.data={}),u.data[w.Sa] || (u.data[w.Sa]=[]),u.data[w.Sa].push(v)))):k.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + w.Sa + " movieId: " + w.K);});if(!g.ka(u.data)){r=u.data;Object.keys(r).forEach(function(w){r[w].sort(function(v,x){return v.Za - x.Za;});});}return u;};b.Koa=function(h){return {mediaType:h.mediaType,streamId:h.Sa,movieId:h.K,bitrate:h.bitrate,location:h.location,serverId:h.re,saveToDisk:!0,offset:h.offset,bytes:h.fa,timescale:h.W,startTicks:h.Za,durationTicks:h.eu};};b.OZa=c;b.MZa=function(h){var k,n,p,q;k=c(h);if(h.stream.ke && h.stream && h.stream.Y){n={timescale:h.stream.Y.W,startTicks:h.stream.Y.vl,offset:h.stream.Y.Ud(0)};p=h.stream.Y.Dx;q=p.sizes.buffer;p=p.vd.buffer;}return {mediaType:k.mediaType,streamId:k.streamId,movieId:k.movieId,bitrate:k.bitrate,location:k.location,serverId:k.serverId,saveToDisk:!0,offset:k.offset,bytes:k.bytes,timescale:k.timescale,frameDuration:k.frameDuration,headerData:d.fD(h.Zg.map(function(u){return u.data;})),initSegments:k.initSegments,encrypted:h.fl,fragments:n,sizes:q,durations:p};};b.m_a=function(h){return {priority:h.priority,movieId:h.K,saveToDisk:h.ai,firstSelectedStreamBitrate:h.Nw,initSelectionReason:h.rA,histDiscountedThroughputValue:h.KD,histTdigest:h.gp,histAge:h.fp};};b.e2a=function(h){return !g.has(h,"startTicks");};b.Tqa=function(h){return !h.Tpa || !h.W || !h.Y || void 0 === h.Y.vl || void 0 === h.Y.offset || void 0 === h.Y.vd || !h.Y.vd.length || void 0 === h.Y.sizes || !h.Y.sizes.length;};b.Sqa=function(h){return void 0 === h.fa || void 0 === h.offset || void 0 === h.W || void 0 === h.Za || void 0 === h.eu;};},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.hAa=void 0;c=a(2);g=a(9);t=a(43);l=a(102);a=(function(m){function d(f,h,k,n,p,q){n=m.call(this,f,h,n,p,q) || this;h.fa=k.byteLength;l.gn.Eb(n,f,h);n.TL=k;n.Lnb=h.fa;return n;}c.__extends(d,m);Object.defineProperties(d.prototype,{dd:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Eu:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yf:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Aj:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wh:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.TL;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{JPb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pN:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Qva:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.Lnb;},enumerable:!1,configurable:!0}});d.prototype.Cu=function(){return !0;};d.prototype.GG=function(f){this.hf=f.appendBuffer(this.response,g.Nq(this));return {aa:this.hf};};d.prototype.wi=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.fd=function(){};d.prototype.iba=function(){return !1;};return d;})(a(240).hK);b.hAa=a;t.Bf(l.gn,a);},function(t,b,a){var c,g,l,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.SLa=void 0;c=a(2);t=a(18);g=a(57);l=c.__importDefault(a(6));m=a(16);d=a(255);f=a(9);h=a(4);k=a(967);n=a(221);p=new l.default.Console("ASEJS","media|asejs");p.trace.bind(p);t=(function(q){var U21;U21=2;for(;U21 !== 17;){switch(U21){case 10:var W3R="s";W3R+="0";u.prototype.Jb=function(){var o31;o31=2;for(;o31 !== 9;){switch(o31){case 2:var C3R="Attemp";C3R+="te";C3R+="d to destruct ShimManager with session config active";var n3R="Attempt";n3R+="ed to destru";n3R+="ct ShimManager with ";n3R+="players present in ASE";var s3R="Attempted to destruct Sh";s3R+="imManager with playgraphs present i";s3R+="n ASE";h.assert(0 === this.Ia.tE.length,s3R);h.assert(0 === this.Ia.O7a.length,n3R);h.assert(0 === Object.keys(this.sB).length,C3R);o31=4;break;case 4:var a3R="Attempt to dest";a3R+="ruct ShimManager with latest ses";a3R+="sion still defined";h.assert(void 0 === this.L8,a3R);this.Ia.close();o31=9;break;}}};u.prototype.r7=function(r,w){var z9R=a000;var p31;p31=2;for(;p31 !== 1;){switch(p31){case 2:z9R.q3Z(6);return z9R.E3Z("-",r,w);break;case 4:z9R.O3Z(18);return z9R.Q3Z("",r,w);break;p31=1;break;}}};u.jCb=W3R;return u;break;case 13:u.prototype.Dxb=function(){var l31;l31=2;for(;l31 !== 1;){switch(l31){case 2:this.Wb.QP(null);l31=1;break;case 4:this.Wb.QP(1);l31=2;break;l31=1;break;}}};u.prototype.Em=function(r,w){var m31;m31=2;for(;m31 !== 1;){switch(m31){case 2:return this.sB[this.r7(w,r)];break;case 4:return this.sB[this.r7(w,r)];break;m31=1;break;}}};u.prototype.AYb=function(r){var n31,w,v;n31=2;for(;n31 !== 13;){switch(n31){case 6:this.Ia.cwa(this.sB[w]);delete this.sB[w];n31=13;break;case 3:r.Ja && this.Ia.rP(r.Ja);r.Ng && this.Ia.fv(r.Ng);r.Cj && this.Ia.rP(r.Cj);r === this.L8 && delete this.L8;n31=6;break;case 2:this.Dxb();(w=this.r7(r.S,r.ca),v=this.sB[w]);v && (v.hu=!0);this.Ia.fv(r.qa);n31=3;break;}}};U21=10;break;case 2:c.__extends(u,q);Object.defineProperties(u.prototype,{Wb:{get:function(){var W21;W21=2;for(;W21 !== 1;){switch(W21){case 2:return this.Ia.Wb;break;case 4:return this.Ia.Wb;break;W21=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Xn:{get:function(){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:return this.Ia.Xn;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Vh:{get:function(){var Y21;Y21=2;for(;Y21 !== 1;){switch(Y21){case 2:return this.Ia.Vh;break;}}},enumerable:!1,configurable:!0}});u.prototype.Eb=function(r,w,v,x,y,z,A,B){var Z21;Z21=2;for(;Z21 !== 5;){switch(Z21){case 2:this.Ia.ixa({audio:r,video:w,Dja:A,yza:B},{U:x,fa:y});this.Ia.open(this.config,this.SE);Z21=5;break;}}};U21=9;break;case 9:u.prototype.JZ=function(r,w,v){var a31;a31=2;for(;a31 !== 1;){switch(a31){case 2:this.Ia.ixa({total:r},{U:w,fa:v});a31=1;break;}}};u.prototype.createSession=function(r,w,v,x,y,z,A,B,E,D){var b31,F,G;b31=2;for(;b31 !== 19;){switch(b31){case 10:B.Vr || B.xI || this.ZC();return this.L8;break;case 2:var X3R="cre";X3R+="ati";X3R+="ng session";this.console.trace(X3R);this.Ia.Wb.reset();b31=5;break;case 5:F=Number(r.movieId);E=this.r7(F,y.ca);b31=3;break;case 3:this.sB[E]={xka:function(){},ca:y.ca,equals:function(C){var c31;c31=2;for(;c31 !== 1;){switch(c31){case 2:return C.S === F && (y.ca === C.ca || !C.ca || !y.ca);break;}}},hu:!1,sr:Promise.resolve({oa:r,Wi:! !x.Wi,Ie:! !x.Ie,Cd:m.r9(! !x.pU,! !x.XE),config:B}),S:F};B.Rz && this.Ia.EE(this.sB[E],{Fs:y.Fs,ca:y.ca,mD:y.mD});D=this.$Ab(F,r,B.P7a,B,y,D || u.jCb,x);b31=7;break;case 7:var H3R="endPts";H3R+=" is not ";H3R+="su";H3R+="pport";H3R+="ed";G=D[0];E=G.ma.V[G.ma.Pd].Aa;G=[this.xW(F,G.ma,v,E)];D[1] && G.push(this.xW(F,D[1].ma,v,E));h.assert(void 0 === x.La,H3R);this.L8=new k.TLa(this.console,this,r,D,w,G,x,y,z,A,B);b31=10;break;}}};u.prototype.xW=function(r,w,v,x){var d31;d31=2;for(;d31 !== 1;){switch(d31){case 2:var y3R="inv";y3R+="alid start positi";y3R+="on relati";y3R+="ve to";y3R+=" playgraph";return w.V[w.Pd].Aa === x?(r=n.IM(w,r,f.R.Oa(v)),h.assert(r,y3R),r):{ha:w.Pd,offset:f.R.eb};break;}}};u.prototype.Ox=function(r,w,v){var e31;e31=2;for(;e31 !== 1;){switch(e31){case 2:return c.__awaiter(this,void 0,void 0,function(){var f31,x,y,z,A;f31=2;for(;f31 !== 5;){switch(f31){case 2:return c.__generator(this,function(B){var g31,h31;g31=2;for(;g31 !== 3;){switch(g31){case 1:var A3R="Can not update viewable. Viewa";A3R+="ble ";A3R+="not found ";return (x=this.Em.bind(this,v.ca),y=this.r7(r,v.ca),z=x(r),h.assert(void 0 !== z,A3R + y),[4,z.sr]);break;case 4:return (B.xc(),[2]);break;case 2:h31=B.label;g31=h31 === 0?1:9;break;case 8:g31=h31 === 2?4:3;break;case 9:g31=h31 === 1?5:8;break;case 5:return (A=B.xc(),this.sB[y]={xka:function(){},ca:v.ca,equals:function(E){var i31;i31=2;for(;i31 !== 1;){switch(i31){case 2:return E.S === r && (v.ca === E.ca || !E.ca || !v.ca);break;}}},hu:!1,sr:Promise.resolve({oa:w,Wi:A.Wi,Ie:A.Ie,Cd:A.Cd,config:A.config}),S:r},[4,this.Ia.Ox(this.sB[y])]);break;}}});break;}}});break;}}};u.prototype.$Ab=function(r,w,v,x,y,z,A){var j31,C,B,E,D,F,G;j31=2;for(;j31 !== 7;){switch(j31){case 3:C=E.IUb;j31=9;break;case 2:var B3R="v";B3R+="id";B3R+="e";B3R+="o";var i3R="a";i3R+="u";i3R+="di";i3R+="o";var c3R="a";c3R+="u";c3R+="d";c3R+="i";c3R+="o";var N3R="v";N3R+="id";N3R+="e";N3R+="o";var g3R="Genera";g3R+="ted ";g3R+="playgraph fro";g3R+="m choicemap.";(B=this,E=w.choiceMap);E?(r=g.wz(E,{config:x}),this.console.trace(g3R)):r=g.IE(r,z,A.pU || A.XE?A.XE?[N3R]:[c3R]:[i3R,B3R]);(D=Object.create(x,{Qz:{value:y.mD},rGb:{value:y.oM}}),F=this.Em.bind(this,y.ca),G=[this.Ia.CG(r,v,D,{Em:F})]);j31=4;break;case 4:j31=E && E.IUb?3:8;break;case 9:Object.keys(C).forEach(function(H,K){var k31;k31=2;for(;k31 !== 9;){switch(k31){case 2:var K3R="Cur";K3R+="rently parallel graph can only be med";K3R+="ia t";K3R+="ype [audio]";var k3R="au";k3R+="d";k3R+="i";k3R+="o";var t3R="Currently only one";t3R+=" parallel graph is";t3R+=" support";t3R+="e";t3R+="d";a000.O3Z(19);h.assert(a000.E3Z(0,K),t3R);K=C[H];h.assert(K.Cd && 1 === K.Cd.length && k3R === K.Cd[0],K3R);H=g.wz(E,c.__assign(c.__assign({},C[H]),{config:x}));G.push(B.Ia.CG(H,v,D,{Em:F}));k31=9;break;}}});j31=8;break;case 8:return G;break;}}};U21=13;break;}}function u(r,w,v,x){var V21,y;V21=2;for(;V21 !== 11;){switch(V21){case 3:y.SE=x;y.sB={};r=a(409);y.console=p;V21=6;break;case 2:y=q.call(this) || this;y.config=r;y.ZC=w;y.fq=v;V21=3;break;case 13:var p3R="1SIYbZr";p3R+="N";p3R+="J";p3R+="Cp9";p3R;return y;break;case 6:var T3R="D";T3R+="E";T3R+="B";T3R+="U";T3R+="G:";var Z3R="nf";Z3R+="-";Z3R+="ase sh";Z3R+="im ve";Z3R+="rsion:";y.console.trace(Z3R,r,T3R,!1);y.Ia=d.EH();V21=13;break;}}}})(t.EventEmitter);b.SLa=t;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,O;Object.defineProperties(b,{__esModule:{value:!0}});b.Xza=void 0;c=a(2);g=a(18);l=a(357);m=a(227);d=a(898);f=a(222);h=a(16);a(215);k=a(411);n=a(414);p=a(936);q=a(405);u=a(25);r=a(4);w=a(238);v=a(937);x=a(938);y=a(939);z=a(86);A=a(182);B=a(940);E=a(67);D=a(257);F=a(9);G=c.__importDefault(a(6));C=a(941);H=a(942);K=a(943);M=a(944);I=a(56);Q=a(355);L=a(421);J=a(955);O=a(956);t=(function(){function N(P){this.I=P;this.events=new g.EventEmitter();this.Sc=l.ro.CLOSED;this.qw=[];this.MZ=[];this.CT=[];this.Vp=[];this.ZNa={};this.y3={};this.fya=l.VQ.default;this.msb=new z.Sv({Sq:this,source:"engine",NA:10,console:P});}Object.defineProperties(N.prototype,{Yu:{get:function(){r.assert(this.Qy);return this.Qy;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{O7a:{get:function(){return this.CT;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{tE:{get:function(){return this.Vp.map(function(P){return P.ma;});},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{QVb:{get:function(){return this.Vp;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Wb:{get:function(){this.KJ();return this.yz.Wb;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Xn:{get:function(){this.KJ();return this.yz.Xn;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Vh:{get:function(){this.KJ();return this.yz.Vh;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{z5b:{get:function(){return this.qw.length;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{y4:{get:function(){return this.ZNa;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{wJ:{get:function(){return this.y3;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{rRb:{get:function(){return this.wPa || (this.wPa=this.jwb());},enumerable:!1,configurable:!0}});N.prototype.open=function(P,S,U,Z){var ja;ja=this;if(this.Sc === l.ro.OPEN)return !1;this.J=P;this.mt=new E.FS(new D.c2({xk:!0,currentTime:function(){return F.R.Oa(G.default.time.ga());},speed:1}),this.I,"Engine Scheduler");this.ROa=new d.oEa(this.I,P);this.FC=new p.qLa(this.x8.bind(this),P);this.yz=f.mK.v_a(P,S);this.Sc=l.ro.OPEN;P=Object.create(P,{Qtb:{value:P.xI || P.Vr}});this.Qy=L.sW(P);U && this.Qy.hab(U);Z && this.Qy.pxa(Z);this.R7a=new J.BKa({$k:function(){ja.Sc !== l.ro.CLOSED && ja.FC.$k("playgraphOpportunity");}});this.xPa=new K.FHa(function(){return ja.c7();},function(){return ja.d7().global;},this.I);this.fBb();return !0;};N.prototype.CG=function(P,S,U,Z,ja){var ya,ra,Y;ya=this;void 0 === ja && (ja=!0);this.KJ();ra=Object.create(U,{WP:{value:this.wJ}});if(ja && (U=this.Yu.uxb(P,ra)))return (U.tdb(S),P=this.bJ.bind(this,Z,U),U.Y_b(P),U);P=[P,S,ra,N.uSb++,this.Wb,function(){for(var pa=[],T=0;T < arguments.length;T++){pa[T]=arguments[T];}return ya.bJ.apply(ya,c.__spread([Z,Y],pa));},function(pa){var T,R,ea;R=Z.Em(pa.S);ea=null === (T=u.he(ya.qw,function(sa){return sa.GM.equals(R);})) || void 0 === T?void 0:T.P;return null === ea || void 0 === ea?void 0:ea.Dm(ra,pa.In.U);},function(pa){return ya.FC.$k(pa);},ja?this.Yu.txb.bind(this.Yu):function(){},this.c7.bind(this)];if(this.J.O5){S=a(957);Y=S.DUa.apply(S,c.__spread([{}],P));}else Y=new (n.o0.bind.apply(n.o0,c.__spread([void 0],P)))();Y.rh(new x.hMa(Y));Y.rh(new y.BMa(Y.Js));Y.F3a.rh(new M.tAa(Y));this.Ty.uP.forEach(function(pa){return Y.rh(pa);});this.R7a.CG(Y);P=new g.ii();P.on(Y.events,"requestsPruned",this.$Yb.bind(this));P.on(Y.events,"weightUpdated",this.fua.bind(this));P.on(Y.events,"underflow",this.Dk.bind(this,Y));this.Vp.push({ma:Y,ah:P,$Y:0});this.fua();return Y;};N.prototype.Dk=function(P){P=this.xPa.EGb(P);(null === P || void 0 === P?0:P.B5) || this.Yu.reset();};N.prototype.fv=function(P){this.R7a.fv(P);this.Vp=this.Vp.filter(function(S){return S.ma === P?(S.ah.clear(),!1):!0;});P.Jb();this.fua();};N.prototype.lRa=function(P,S){var U,Z,ja;this.KJ();ja=S.Cd;P=[P,void 0 === ja?[0,1]:ja,c.__assign({WP:null !== (Z=null !== (U=S.WP) && void 0 !== U?U:this.y3) && void 0 !== Z?Z:{}},S)];U=this.J.O5?a(964).CUa.apply(void 0,c.__spread(P)):new (k.TQ.bind.apply(k.TQ,c.__spread([void 0],P)))();this.CT.push(U);return U;};N.prototype.rP=function(P){this.KJ();this.CT=this.CT.filter(function(S){return S !== P;});P.Jb();};N.prototype.ixa=function(P,S){this.ZNa=P;this.y3=S;this.wPa=void 0;};N.prototype.EE=function(P,S){var U,Z;Z=null === (U=u.he(this.qw,function(ja){return ja.GM.equals(P);})) || void 0 === U?void 0:U.P;Z?Z.EE(c.__assign(c.__assign({},S),{Zn:this.Ata.bind(this)})):this.MZ.push({ceb:P,Fab:S});};N.prototype.cwa=function(P){this.MZ=this.MZ.filter(function(S){return !S.ceb.equals(P);});};N.prototype.close=function(){this.Sc !== l.ro.CLOSED && (this.pYb(),r.assert(0 === this.qw.length,"Unexpected viewable lease after Playgraph destruction."),this.oYb(),this.MZ=[],delete this.yz,this.Sc=l.ro.CLOSED,this.mt.Jb());};N.prototype.d0b=function(P){this.fya=P;this.FC.$k("streamingModeChanged");};N.prototype.Rn=function(){return this.Ty.Rn();};N.prototype.fBb=function(){this.Ty=new I.Cfa(this.J);this.Ty.rh(new C.IDa(this));this.Ty.rh(new B.sLa(this.Wb,this.FC));this.Ty.rh(new v.FDa(this.Wb));this.Ty.rh(new A.Rv(this.msb));this.Ty.rh(new A.Rv(this.FC.Lq));this.Ty.rh(new A.Rv(this.ROa.Gh));this.Ty.rh(new A.Rv(this.xPa.Gh));};N.prototype.Ata=function(){};N.prototype.Ox=function(P){return c.__awaiter(this,void 0,void 0,function(){var S,U,Z,ja;return c.__generator(this,function(ya){switch(ya.label){case 0:return (r.assert(P,"ase.updateViewable(): Viewable config not found."),S=u.he(this.qw,function(ra){return !0 !== ra.GM.hu && ra.GM.equals(P);}),r.assert(S,"ase.updateViewable(): Viewable entry not found."),[4,S.ZE]);case 1:return (U=ya.xc(),ja=(Z=U).Ox,[4,P.sr]);case 2:return (ja.apply(Z,[ya.xc()]),[2]);}});});};N.prototype.bJ=function(P,S,U,Z){var ja,ya,ra,Y;ja=this;ya=P.Em(U,Z);r.assert(ya,"ase.requestViewable(): Viewable config not found.");ra=u.he(this.qw,function(pa){return !0 !== pa.GM.hu && pa.GM.equals(ya);});ra || (ra={GM:ya,ZE:(function(){return c.__awaiter(ja,void 0,void 0,function(){var pa,T;return c.__generator(this,function(R){switch(R.label){case 0:return [4,ya.sr];case 1:return (pa=R.xc(),T=this.aV(U,ya,pa),ra.P=T,[2,T]);}});});})(),P:void 0,ZOb:new w.TFa(function(pa){pa() && ja.gwa(ra);},F.Oq(G.default,this.I,"" + U))},this.qw.push(ra));Y=this;return {get P() {return null === ra || void 0 === ra?void 0:ra.P;},get ZE() {var pa;pa=this;return (function(){return c.__awaiter(pa,void 0,void 0,function(){var T;return c.__generator(this,function(R){switch(R.label){case 0:return (R.bm.push([0,2,,3]),[4,ra.ZE]);case 1:return [2,R.xc()];case 2:throw (T=R.xc(),Q.TJa.RNb(T) && S.eh(T),Y.gwa(ra,!1),T);case 3:return [2];}});});})();},M8:ra.ZOb.$y()};};N.prototype.gwa=function(P,S){var U,Z;void 0 === S && (S=!0);r.assert(P,"expected viewableEntry to exist");U=P.P;Z=P.ZE;S && (U?U.Jb():Z.then(function(ja){ja.Jb();}));this.qw=this.qw.filter(function(ja){return ja !== P;});};N.prototype.aV=function(P,S,U){var ja,ya,ra,Y,pa,T,R;function Z(ea){ja.events.emit("logdata",ea);}ja=this;this.KJ();ra=U.oa;Y=U.Wi;pa=U.Ie;T=U.Cd;T=void 0 === T?h.Df:T;U=U.config;R=[new q.tea(0),new q.tea(1)];ra={oa:ra,config:U,Wi:Y,Cd:T,D6:void 0,Wb:this.yz.Wb,Vh:this.yz.Vh,sXa:{qs:function(){return ja.FC.$k("networkFailureReset");},eh:this.eh.bind(this,P),Vn:this.Vn.bind(this,P),$n:Z},K0a:{$n:Z,wW:void 0,yD:function(ea){return R[ea];},h8:function(){return !0;},If:void 0,Xl:void 0,xh:void 0,JD:void 0},BP:{bz:this.bz.bind(this),XI:this.XI.bind(this)},wJ:this.y3,Qb:0,rp:void 0,M4a:{Pqa:! !pa,v2a:!1},YX:function(){}};P=new m.Cca(P,ra);U.Rz && (ra=(null === (ya=u.he(this.MZ,function(ea){return ea.ceb.equals(S);})) || void 0 === ya?void 0:ya.Fab) || ({}),this.cwa(S),P.EE(c.__assign(c.__assign({},ra),{Zn:this.Ata.bind(this)})));return P;};N.prototype.x8=function(){var P,S;r.assert(this.state === l.ro.OPEN);P=this.d7();S=this.ON();return this.ROa.y6a(P,S);};N.prototype.ON=function(){var P,S,U;P=this;U=null !== (S=this.J.pWb) && void 0 !== S?S:this.Vp.every(function(Z){return !Z.ma.NH;});S=u.flatten(this.Vp.map(function(Z){return Z.ma.ON().map(function(ja){Z.ma.NH || 1 === Z.$Y || (ja.JH=Z.$Y);return ja;});}));this.fya === l.VQ.disabled?S=[]:this.fya === l.VQ.bQb && (S=S.filter(function(Z){return P.J.Asa >= Z.Zs - Z.ds;}));U || (U=S.filter(function(Z){var ja;return 1 === (null !== (ja=Z.JH) && void 0 !== ja?ja:1);}),U.length && (S=U));U=this.qw.reduce(function(Z,ja){return ja.P?c.__spread(Z,ja.P.ON()):Z;},[]);return u.flatten(c.__spread(S,U));};N.prototype.KJ=function(){if(this.Sc === l.ro.CLOSED)throw Error("Engine CLOSED");};N.prototype.pYb=function(){var P,Z;try{for(var S=c.__values(this.Vp),U=S.next();!U.done;U=S.next()){Z=U.value;Z.ah.clear();this.fv(Z.ma);}}catch(ya){var ja;ja={error:ya};}finally{try{U && !U.done && (P=S.return) && P.call(S);}finally{if(ja)throw ja.error;}}};N.prototype.oYb=function(){var P;try{for(var S=c.__values(this.CT),U=S.next();!U.done;U=S.next()){this.rP(U.value);}}catch(ja){var Z;Z={error:ja};}finally{try{U && !U.done && (P=S.return) && P.call(S);}finally{if(Z)throw Z.error;}}};N.prototype.eh=function(P,S,U,Z,ja,ya,ra){var Y;void 0 === ra && (ra=!1);Y=!1;this.C_a(P).forEach(function(pa){if(!ra || h.hp(pa.Ff.value))(pa.eh(S,P,U,Z,ja,ya,ra),Y=!0);});return Y;};N.prototype.Vn=function(P){return this.C_a(P).some(function(S){return S.Vn();});};N.prototype.C_a=function(P){return this.Vp.filter(function(S){S=S.ma.ma;return "" + P === "" + S.V[S.Pd].S;}).map(function(S){return S.ma;});};N.prototype.d7=function(){var P;P=new H.lEa();this.Vp.forEach(function(S){var U,Z;U=S.ma;S=S.$Y;Z=U.d7();Z.JH=S;P.add(U.id,Z);});return P;};N.prototype.c7=function(){return this.rRb;};N.prototype.jwb=function(){var P,S;S=O.sTa(this.J,this.y4);return {total:(P={},P[1]=this.y4.video || Infinity,P[0]=this.y4.audio || Infinity,P.total=this.y4.total || Infinity,P),Xxa:S};};N.prototype.bz=function(P){this.FC.bz(P);};N.prototype.XI=function(P){this.FC.XI(P);};N.prototype.fua=function(){var P;P=this.tE.reduce(function(S,U){return Math.max(U.weight,0) + S;},0);this.Vp.forEach(function(S){S.$Y=0 >= S.ma.weight?0:S.ma.weight / P;});};N.prototype.$Yb=function(){};N.uSb=0;c.__decorate([z.Rb({methodName:"open"})],N.prototype,"open",null);c.__decorate([z.Rb({methodName:"addPlaygraph",context:function(P){var S,U;return {playgraphCount:null !== (U=null === (S=P.n6a.Vp) || void 0 === S?void 0:S.length) && void 0 !== U?U:0};}})],N.prototype,"CG",null);c.__decorate([z.Rb({methodName:"removePlaygraph",context:function(P){return {playgraphCount:P.n6a.Vp.length};}})],N.prototype,"fv",null);c.__decorate([z.Rb({methodName:"close"})],N.prototype,"close",null);c.__decorate([z.Rb({methodName:"setStreamingMode",Oo:!0})],N.prototype,"d0b",null);c.__decorate([z.Rb({methodName:"notifyAseException",Oo:!0})],N.prototype,"Ata",null);c.__decorate([z.Rb({methodName:"updateViewable"})],N.prototype,"Ox",null);c.__decorate([z.Rb({methodName:"requestViewable"})],N.prototype,"bJ",null);c.__decorate([z.Rb({methodName:"removeViewable"})],N.prototype,"gwa",null);c.__decorate([z.Rb({methodName:"createViewable"})],N.prototype,"aV",null);c.__decorate([z.Rb({methodName:"issueRequestOpportunity",el:!0,return:!0})],N.prototype,"x8",null);c.__decorate([z.Rb({methodName:"reportStreamingFailure",Oo:!0})],N.prototype,"eh",null);return N;})();b.Xza=t;},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p){return n.filter(function(q){return q.groupId === p.groupId;}).reduce(m.f5a(function(q){return q.YA;}),p).YA;}Object.defineProperties(b,{__esModule:{value:!0}});b.oEa=void 0;g=a(2);l=a(215);m=a(25);d=a(16);f=a(86);h=g.__importDefault(a(6));k=a(410);t=(function(){function n(p,q){this.I=p;this.config=q;this.i3a=0;this.Gh=new f.Sv({NA:10,Sq:this,source:"GraphStreamingProcess"});}n.prototype.y6a=function(p,q){var u,r,w,v,x,y,z,A,D,F,G,C,H;w=!1;v=[];if(0 < q.length){x=this.$0b(q);y=x.some(function(M){return 1 === k.uTa(M) && d.hp(M.Ff);});z=x.slice();A=[!1,!1];try{for(var B=g.__values(x),E=B.next();!E.done;E=B.next()){D=E.value;if(D.VD && "global" !== A[D.mediaType]){F=D.G2a(p,null !== (r=D.JH) && void 0 !== r?r:1);G=l.P8a(F.reason);G && (A[D.mediaType]=G,m.dSa(z,D));if(F.result){C=c(z,D);if(this.ixb(D,y,C)){H=D.K2a();this.Zra(v,D,H.reason);H.Hm && (this.i3a=h.default.time.ga());if(w=H.Hm)break;}else if((this.Zra(v,D,"concurrencyCheck"),!G))break;}else this.Zra(v,D,F.reason);}}}catch(M){var K;K={error:M};}finally{try{E && !E.done && (u=B.return) && u.call(B);}finally{if(K)throw K.error;}}}this.Gh.rw({streamableCount:q.length,streamableReasons:v,lastSuccessfulIssueRequestMs:this.i3a});return w;};n.prototype.$0b=function(p){return this.KWb(p).sort(function(q,u){return q.priority - u.priority;}).map(function(q){return q.B1b;});};n.prototype.KWb=function(p){var q;q=this;return p.map(function(u){return {priority:-k.tTa(q.config,u,q.I),B1b:u};});};n.prototype.Zra=function(p,q,u){this.Gh.enabled && p.push(this.nKb(u,q));};n.prototype.nKb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.Ff,currentPlayerMs:q.ds,pathCompletePlayerMs:q.YA,streamingPlayerMs:q.Zs};};n.prototype.ixb=function(p,q,u){return this.config.GU && (q || d.hp(p.Ff))?this.jxb(p,u):this.kxb(p,u);};n.prototype.lxb=function(p){return p.Zs <= p.YA;};n.prototype.kxb=function(p,q){return p.Zs - (p.ds > q?p.ds:q) <= Math.max(this.config.cta,Math.min((p.YA - p.ds) * this.config.dya,this.config.UQb));};n.prototype.jxb=function(p,q){var u,r;if(void 0 === this.config.GU)return !0;u=this.config.GU;r=p.ds + u;return p.Zs <= r?!0:this.lxb(p) && q >= r && p.Zs - q < u;};g.__decorate([f.Rb({methodName:"onRequestOpportunity",el:!0})],n.prototype,"y6a",null);return n;})();b.oEa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.gTa=void 0;c=a(256);g=a(901);b.gTa=function(){return function(l){var f,h,k,n;function m(p){n[p]=function(q){return h({rules:[{Wl:p,config:q}]},!0);};}function d(p){f[p]=function(q){return h({rules:[{Wl:p,config:q}]});};}f={};h=c.map(l.k4a);for(k in l.rZ){d(k);}f.$Sb=h({rules:[],jja:!0});f.oo=h({rules:[],oo:!0});n={};for(k in l.rZ){m(k);}n.$Sb=h({rules:[],jja:!0});n.oo=h({rules:[],oo:!0});f.return=n;return {$la:f,f$a:l,w8a:function(p,q,u){return g.hVa(p,q,u,l.rZ,l.k4a);}};};};},function(t,b,a){(function(c,g){var l;(function(m){(function(d){var h,k;function f(n,p){return function(q,u){"function" !== typeof n[q] && Object.defineProperty(n,q,{configurable:!0,writable:!0,value:u});p && p(q,u);};}h="object" === typeof g?g:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();k=f(m);"undefined" === typeof h.Reflect?h.Reflect=m:k=f(h.Reflect,k);d(k);})(function(d){var H,K,M,I,Q,L,J,O,N,P,S;function f(U,Z,ja){var ya;ya=S.get(U);if(w(ya)){if(!ja)return;ya=new N();S.set(U,ya);}U=ya.get(Z);if(w(U)){if(!ja)return;U=new N();ya.set(Z,U);}return U;}function h(U,Z,ja){if(k(U,Z,ja))return !0;Z=E(Z);return null === Z?!1:h(U,Z,ja);}function k(U,Z,ja){Z=f(Z,ja,!1);return w(Z)?!1:! !Z.has(U);}function n(U,Z,ja){if(k(U,Z,ja))return p(U,Z,ja);Z=E(Z);if(null !== Z)return n(U,Z,ja);}function p(U,Z,ja){Z=f(Z,ja,!1);if(!w(Z))return Z.get(U);}function q(U,Z){var ja,Y,pa;ja=u(U,Z);U=E(U);if(null === U)return ja;Z=q(U,Z);if(0 >= Z.length)return ja;if(0 >= ja.length)return Z;U=new P();for(var ya=[],ra=0;ra < ja.length;ra++){Y=ja[ra];pa=U.has(Y);pa || (U.add(Y),ya.push(Y));}for(ja=0;ja < Z.length;ja++){Y=Z[ja];(pa=U.has(Y)) || (U.add(Y),ya.push(Y));}return ya;}function u(U,Z){var ja,ya;ja=[];U=f(U,Z,!1);if(w(U))return ja;U=U.keys();Z=B(U,I);if(!A(Z))throw new TypeError();U=Z.call(U);if(!v(U))throw new TypeError();for(Z=0;;){ya=U.next();ya=ya.done?!1:ya;if(!ya)return (ja.length=Z,ja);ya=ya.value;try{ja[Z]=ya;}catch(Y){var ra;try{ra=U["return"];ra && ra.call(U);}finally{throw Y;}}Z++;}}function r(U){if(null === U)return 1;switch(typeof U){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === U?1:6;default:return 6;}}function w(U){return void 0 === U;}function v(U){return "object" === typeof U?null !== U:"function" === typeof U;}function x(U,Z){var ja;switch(r(U)){case 0:return U;case 1:return U;case 2:return U;case 3:return U;case 4:return U;case 5:return U;}Z=3 === Z?"string":5 === Z?"number":"default";ja=B(U,M);if(void 0 !== ja){U=ja.call(U,Z);if(v(U))throw new TypeError();return U;}a:{if("string" === ("default" === Z?"number":Z)){Z=U.toString;if(A(Z) && (Z=Z.call(U),!v(Z)))break a;Z=U.valueOf;}else {Z=U.valueOf;if(A(Z) && (Z=Z.call(U),!v(Z)))break a;Z=U.toString;}if(!A(Z) || (Z=Z.call(U),v(Z)))throw new TypeError();}return Z;}function y(U){U=x(U,3);return "symbol" === typeof U?U:"" + U;}function z(U){return Array.isArray?Array.isArray(U):U instanceof Object?U instanceof Array:"[object Array]" === Object.prototype.toString.call(U);}function A(U){return "function" === typeof U;}function B(U,Z){U=U[Z];if(void 0 !== U && null !== U){if(!A(U))throw new TypeError();return U;}}function E(U){var Z,ja;Z=Object.getPrototypeOf(U);if("function" !== typeof U || U === O || Z !== O)return Z;ja=U.prototype;ja=ja && Object.getPrototypeOf(ja);if(null == ja || ja === Object.prototype)return Z;ja=ja.constructor;return "function" !== typeof ja || ja === U?Z:ja;}function D(){var ya,ra,Y;function U(pa){return pa;}function Z(pa,T){return T;}function ja(pa,T){return [pa,T];}ya={};ra=[];Y=(function(){function pa(T,R,ea){this.Ce=0;this.ef=T;this.Ef=R;this.Rrb=ea;}pa.prototype["@@iterator"]=function(){return this;};pa.prototype[I]=function(){return this;};pa.prototype.next=function(){var T,R;T=this.Ce;if(0 <= T && T < this.ef.length){R=this.Rrb(this.ef[T],this.Ef[T]);T + 1 >= this.ef.length?(this.Ce=-1,this.Ef=this.ef=ra):this.Ce++;return {value:R,done:!1};}return {value:void 0,done:!0};};pa.prototype.throw=function(T){0 <= this.Ce && (this.Ce=-1,this.Ef=this.ef=ra);throw T;};pa.prototype.return=function(T){0 <= this.Ce && (this.Ce=-1,this.Ef=this.ef=ra);return {value:T,done:!0};};return pa;})();return (function(){function pa(){this.ef=[];this.Ef=[];this.Wv=ya;this.Ct=-2;}Object.defineProperty(pa.prototype,"size",{get:function(){return this.ef.length;},enumerable:!0,configurable:!0});pa.prototype.has=function(T){return 0 <= this.Hy(T,!1);};pa.prototype.get=function(T){T=this.Hy(T,!1);return 0 <= T?this.Ef[T]:void 0;};pa.prototype.set=function(T,R){T=this.Hy(T,!0);this.Ef[T]=R;return this;};pa.prototype.delete=function(T){var R,ea;R=this.Hy(T,!1);if(0 <= R){ea=this.ef.length;for(R+=1;R < ea;R++){this.ef[R - 1]=this.ef[R];this.Ef[R - 1]=this.Ef[R];}this.ef.length--;this.Ef.length--;T === this.Wv && (this.Wv=ya,this.Ct=-2);return !0;}return !1;};pa.prototype.clear=function(){this.ef.length=0;this.Ef.length=0;this.Wv=ya;this.Ct=-2;};pa.prototype.keys=function(){return new Y(this.ef,this.Ef,U);};pa.prototype.values=function(){return new Y(this.ef,this.Ef,Z);};pa.prototype.entries=function(){return new Y(this.ef,this.Ef,ja);};pa.prototype["@@iterator"]=function(){return this.entries();};pa.prototype[I]=function(){return this.entries();};pa.prototype.Hy=function(T,R){this.Wv !== T && (this.Ct=this.ef.indexOf(this.Wv=T));0 > this.Ct && R && (this.Ct=this.ef.length,this.ef.push(T),this.Ef.push(void 0));return this.Ct;};return pa;})();}function F(){return (function(){function U(){this.Tg=new N();}Object.defineProperty(U.prototype,"size",{get:function(){return this.Tg.size;},enumerable:!0,configurable:!0});U.prototype.has=function(Z){return this.Tg.has(Z);};U.prototype.add=function(Z){return (this.Tg.set(Z,Z),this);};U.prototype.delete=function(Z){return this.Tg.delete(Z);};U.prototype.clear=function(){this.Tg.clear();};U.prototype.keys=function(){return this.Tg.keys();};U.prototype.values=function(){return this.Tg.values();};U.prototype.entries=function(){return this.Tg.entries();};U.prototype["@@iterator"]=function(){return this.keys();};U.prototype[I]=function(){return this.keys();};return U;})();}function G(){var ya,ra;function U(){var Y,R;do {Y="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):ja(new Uint8Array(16),16):ja(Array(16),16);Y[6]=Y[6] & 79 | 64;Y[8]=Y[8] & 191 | 128;for(var pa="",T=0;16 > T;++T){R=Y[T];if(4 === T || 6 === T || 8 === T)pa+="-";16 > R && (pa+="0");pa+=R.toString(16).toLowerCase();}Y="@@WeakMap@@" + pa;}while(J.has(ya,Y));ya[Y]=!0;return Y;}function Z(Y,pa){if(!H.call(Y,ra)){if(!pa)return;Object.defineProperty(Y,ra,{value:J.create()});}return Y[ra];}function ja(Y,pa){for(var T=0;T < pa;++T){Y[T]=255 * Math.random() | 0;}return Y;}ya=J.create();ra=U();return (function(){function Y(){this.Ht=U();}Y.prototype.has=function(pa){pa=Z(pa,!1);return void 0 !== pa?J.has(pa,this.Ht):!1;};Y.prototype.get=function(pa){pa=Z(pa,!1);return void 0 !== pa?J.get(pa,this.Ht):void 0;};Y.prototype.set=function(pa,T){Z(pa,!0)[this.Ht]=T;return this;};Y.prototype.delete=function(pa){pa=Z(pa,!1);return void 0 !== pa?delete pa[this.Ht]:!1;};Y.prototype.clear=function(){this.Ht=U();};return Y;})();}function C(U){U.inb=void 0;delete U.inb;return U;}H=Object.prototype.hasOwnProperty;K="function" === typeof Symbol;M=K && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";I=K && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";K="function" === typeof Object.create;Q=({__proto__:[]}) instanceof Array;L=!K && !Q;J={create:K?function(){return C(Object.create(null));}:Q?function(){return C({__proto__:null});}:function(){return C({});},has:L?function(U,Z){return H.call(U,Z);}:function(U,Z){return (Z in U);},get:L?function(U,Z){return H.call(U,Z)?U[Z]:void 0;}:function(U,Z){return U[Z];}};O=Object.getPrototypeOf(Function);N=(K="object" === typeof c && c.qXa && "true" === c.qXa.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?D():Map;P=K || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?F():Set;S=new (K || "function" !== typeof WeakMap?G():WeakMap)();d("decorate",function(U,Z,ja,ya){var Y;if(w(ja)){if(!z(U))throw new TypeError();if("function" !== typeof Z)throw new TypeError();for(ja=U.length - 1;0 <= ja;--ja){if((ya=(0,U[ja])(Z),!w(ya) && null !== ya)){if("function" !== typeof ya)throw new TypeError();Z=ya;}}return Z;}if(!z(U))throw new TypeError();if(!v(Z))throw new TypeError();if(!v(ya) && !w(ya) && null !== ya)throw new TypeError();null === ya && (ya=void 0);ja=y(ja);for(var ra=U.length - 1;0 <= ra;--ra){Y=(0,U[ra])(Z,ja,ya);if(!w(Y) && null !== Y){if(!v(Y))throw new TypeError();ya=Y;}}return ya;});d("metadata",function(U,Z){return function(ja,ya){var ra;if(!v(ja))throw new TypeError();if(ra=!w(ya)){a:switch(r(ya)){case 3:ra=!0;break a;case 4:ra=!0;break a;default:ra=!1;}ra=!ra;}if(ra)throw new TypeError();f(ja,ya,!0).set(U,Z);};});d("defineMetadata",function(U,Z,ja,ya){if(!v(ja))throw new TypeError();w(ya) || (ya=y(ya));f(ja,ya,!0).set(U,Z);});d("hasMetadata",function(U,Z,ja){if(!v(Z))throw new TypeError();w(ja) || (ja=y(ja));return h(U,Z,ja);});d("hasOwnMetadata",function(U,Z,ja){if(!v(Z))throw new TypeError();w(ja) || (ja=y(ja));return k(U,Z,ja);});d("getMetadata",function(U,Z,ja){if(!v(Z))throw new TypeError();w(ja) || (ja=y(ja));return n(U,Z,ja);});d("getOwnMetadata",function(U,Z,ja){if(!v(Z))throw new TypeError();w(ja) || (ja=y(ja));return p(U,Z,ja);});d("getMetadataKeys",function(U,Z){if(!v(U))throw new TypeError();w(Z) || (Z=y(Z));return q(U,Z);});d("getOwnMetadataKeys",function(U,Z){if(!v(U))throw new TypeError();w(Z) || (Z=y(Z));return u(U,Z);});d("deleteMetadata",function(U,Z,ja){var ya;if(!v(Z))throw new TypeError();w(ja) || (ja=y(ja));ya=f(Z,ja,!1);if(w(ya) || !ya.delete(U))return !1;if(0 < ya.size)return !0;U=S.get(Z);U.delete(ja);if(0 < U.size)return !0;S.delete(Z);return !0;});});})(l || (l={}));}).call(this,a(252),a(197));},function(t,b,a){var l,m,d,f,h;function c(k,n){var p,q;p=Object.getOwnPropertyNames(Object.getPrototypeOf(k));k=Object.keys(k).concat(p);q=Object.getPrototypeOf(n);k.forEach(function(u){Object.getOwnPropertyDescriptor(n,u) || Object.getOwnPropertyDescriptor(q,u) || n[u] || Object.defineProperty(n,u,{get:function(){throw Error("Proxy-provided, not implemented");},configurable:!0,enumerable:!1});});}function g(k,n,p,q){var w;for(var u=[],r=4;r < arguments.length;r++){u[r - 4]=arguments[r];}w=q();if((null === w || void 0 === w?0:w.Wsa) || (null === w || void 0 === w?0:w.zb))u=u.map(function(v,x){var y;x=h.W4a(w.Wsa,null === (y=w.zb) || void 0 === y?void 0:y[x]);return f.uaa(n,v,p,x);});u=k.call.apply(k,l.__spread([void 0],u));return (null === w || void 0 === w?0:w.return)?f.uaa(n,u,p,w.return,d.Jv.Yya):u;}Object.defineProperties(b,{__esModule:{value:!0}});b.NGb=b.oCb=b.hVa=void 0;l=a(2);m=a(256);d=a(181);f=a(412);h=a(902);b.hVa=function(k,n,p,q,u){var r,w;r={};w=m.b_a(u);c(n,k);return new Proxy(k,{get:function(v,x){var y,z,A;if((x in n)){z=n[x];return "function" === typeof z?z.bind(n):z;}A=r[x];if(!A && !Object.getOwnPropertyDescriptor(r,x)){A=null !== (z=null === (y=null === v || void 0 === v?void 0:v.constructor) || void 0 === y?void 0:y.prototype) && void 0 !== z?z:v;y=Object.getOwnPropertyDescriptor(A,x);if(null === y || void 0 === y?0:y.get)return (z=y.get,y=w.bind(null,v,x),v=g.bind(v,z.bind(v),p,q,y),Object.defineProperty(r,x,{get:v,enumerable:!0,configurable:!0}),v());z=v[x];return "function" === typeof z?(y=w.bind(null,v,x),v=g.bind(v,z.bind(v),p,q,y),r[x]=v):z;}return A;},set:function(v,x,y){if((x in n))return (n[x]=y,!0);v[x]=y;delete r[x];return !0;}});};b.oCb=c;b.NGb=g;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.W4a=void 0;c=a(2);g=a(25);b.W4a=function(l,m){var d;if(l || m){d=(null === l || void 0 === l?0:l.rules) && (null === m || void 0 === m?0:m.rules)?g.e4(l.rules,m.rules):(null === l || void 0 === l?void 0:l.rules) || (null === m || void 0 === m?void 0:m.rules);return c.__assign(c.__assign(c.__assign({},l),m),{rules:d});}};},function(t,b,a){var g;function c(l,m){var d,f;d=g.__assign({},l);f=g.__read(null !== m && void 0 !== m?m:[],1)[0];f && l[f] && (l=l[f],"object" === typeof l?(m=m.concat(),m.shift(),d[f]=c(l,m)):d[f]=l);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.U$a=b.Yka=b.W6=b.X1a=b.a2a=b.w2a=b.A0a=b.r2a=b.Yf=void 0;g=a(2);b.Yf=function(l){return !(null === l || void 0 === l || !l.position);};b.r2a=function(l){return !(null === l || void 0 === l || !l.ha) && !(null === l || void 0 === l || !l.offset);};b.A0a=function(l){return !(null === l || void 0 === l || !l.ha);};b.w2a=function(l,m){return "string" === typeof l && !(!m.zQ.ma.V[l] && !m.qg.ma.V[l]);};b.a2a=function(l){return !(null === l || void 0 === l || !l.S) && !(null === l || void 0 === l || !l.In);};b.X1a=function(l){return !(null === l || void 0 === l || !l.Ge);};b.W6=function(l,m){var d;d=l;m.forEach(function(f){d=null === d || void 0 === d?void 0:d[f];});return d;};b.Yka=c;b.U$a=function(l,m,d){for(var f=0;f < m.length - 1 && l;f++){l=l[m[f]];}return l?(l[m[m.length - 1]]=d,!0):!1;};},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.BAa=void 0;c=a(2);g=a(399);l=c.__importDefault(a(6));m=a(248);a(16);d=a(242);f=a(9);h=a(25);k=a(67);n=a(218);p=a(4);q=a(905);t=(function(){function u(r,w,v,x,y,z,A,B,E,D){var F;F=this;this.qa=r;this.X=w;this.I=v;this.J=x;this.kw=y;this.Kh=z;this.Cd=A;this.Js=B;this.wC=E;this.vC=D;this.w2=!1;this.EOa=new f.WLa();this.Nha=this.rTb.bind(this);this.oj=new m.p0(this.I);this.Ix=new q.UMa(this.I,r);this.WAb(this.Ix);this.Uk && (this.frb=this.coa(this.IJb()),this.Hpb=f.Gr.Fza(this.Uk.map(function(G){return G.OA;}),function(G){return G.every(function(C){return C;});},function(G){return F.wC.set(G);}),this.Jnb=new n.Eea(this.Uk.map(function(G){return G.eX;}),function(G){return f.R.min.apply(f.R,c.__spread(G));},function(G){F.vC.set(G);},f.R.Oa(-Infinity)));this.Wp=B.bH(function(){return F.Fvb();},"branchPruner");}u.prototype.Fvb=function(){var r,w,v,x,y,z,A;return c.__generator(this,function(B){switch(B.label){case 0:if(!this.oj.pUa)return [3,2];r=c.__read(this.oj.sba(),1);w=r[0];v=null !== (A=null === (z=this.kw.WP) || void 0 === z?void 0:z.U) && void 0 !== A?A:0;x=w.K8 || w.ye;y=x.add(f.R.Oa(v + 1E3));return [4,k.Tk.FQ(y)];case 1:return (B.xc(),this.oj.remove(w),w.events.removeListener("branchEdited",this.Nha),w.sf(),[3,0]);case 2:return [2];}});};Object.defineProperties(u.prototype,{JWb:{get:function(){var r;return !(null === (r=this.frb) || void 0 === r || !r.OA.value);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{zB:{get:function(){var r;return !(null === (r=this.Uk[0]) || void 0 === r || !r.zB);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{XOb:{get:function(){return this.w2?f.R.max.apply(f.R,c.__spread(this.Uk.map(function(r){var w;return null === (w=r.Fub) || void 0 === w?void 0:w.d3a;}).filter(h.Z9))):void 0;},enumerable:!1,configurable:!0}});u.prototype.GE=function(r){this.Uk.forEach(function(w){w.GE(r);});};u.prototype.rTb=function(){var r;this.Wp.Tm();r=this.Uk.filter(function(w){return w.kNb;}).map(function(w){return w.mediaType;});this.zJ(r);this.resume(r);};u.prototype.LEb=function(r){p.assert(-1 === this.oj.sba().indexOf(r),"Branch " + r.H.id + " is already in the collection, cannot re-queue");r.events.addListener("branchEdited",this.Nha);this.oj.enqueue(r);this.Wp.state === k.qn.complete && this.Wp.Tm();r.H.sv && this.oj.U5();this.w2 || this.hGb(r);};u.prototype.dY=function(r){this.Uk.forEach(function(w){w.dY(r);});};u.prototype.reset=function(){this.Uk.forEach(function(r){r.reset();});this.w2=!1;this.EOa.removeAllListeners();this.QG();};u.prototype.oZ=function(r){r=this.coa(r);null === r || void 0 === r?void 0:r.reset();};u.prototype.QG=function(){var r;r=this;this.oj.sba().forEach(function(w){return w.events.removeListener("branchEdited",r.Nha);});this.oj.clear();this.Wp.Tm();};u.prototype.resume=function(r){this.Uk.forEach(function(w){void 0 !== r && -1 === r.indexOf(w.mediaType) || w.resume();});};u.prototype.zJ=function(r){this.Uk.forEach(function(w){return (void 0 === r || -1 !== r.indexOf(w.mediaType)) && w.stop();});};u.prototype.Dk=function(){this.I.trace("attached-player: onUnderflow");};u.prototype.Q_a=function(){return this.oj.getIterator();};u.prototype.BIb=function(){return this.Zz()[0];};u.prototype.Zz=function(){return this.oj.sba();};u.prototype.WAb=function(r){var w,v;w=this;this.km("createMediaSourceStart");if(this.kw.qW)v=this.kw.qW();else (v=new l.default.MediaSource(this.X.X),v.Rc || (v.Rc=l.default.MediaSource.Rc));if(1 !== v.readyState)this.Xp("exception in init","NFErr_MC_StreamingInitFailure");else {this.km("createMediaSourceEnd");this.mg=v;if(!v.T3(this.Cd))throw (this.I.trace("Error:",v.error),this.Xp("error creating source buffers","NFErr_MC_StreamingInitFailure"),v.error);this.Uk=v.sourceBuffers.filter(function(x){return 0 <= w.Cd.indexOf(x.mediaType);}).map(function(x){var y;y=new d.Mca(w.I,x.mediaType,v,x,w.J,!0,{Ue:function(){return w.X.Xg.U;},ip:function(z){return w.X.ip(z.S);}},w.Js);y.addListener("error",function(z){return w.Xp(z.errorstr);});y.addListener("logdata",function(z){return w.Kh.emit("logdata",z);});y.addListener("managerdebugevent",function(z){w.Kh.emit("managerdebugevent",z);});return new g.Aca(y,x.mediaType,w,w.J,w.I,w.X,w.kw,w.Js,r);});}};u.prototype.Jb=function(){this.Hpb.clear();this.Jnb.clear();this.Uk.forEach(function(r){return r.Jb();});this.kw.qW || this.mg.rq();this.QG();this.Wp.Jb();};u.prototype.Ui=function(r){return this.Uk.every(function(w){return w.Ui(r);});};u.prototype.eoa=function(){return {sXb:this.Zz(),HVb:this.Uk};};u.prototype.hGb=function(r){var w;w=this;this.w2=!0;r.fg.forEach(function(v){var x;x=w.coa(v.mediaType);if(void 0 !== x)w.EOa.once(v.Cna,function(y){return x.jGb(y);});});if(r.Yc)this.RWa();else r.events.once("branchNormalized",function(){return w.RWa();});};u.prototype.RWa=function(){var r;r=this.BIb();r && (p.assert(r.Og),this.Kh.emit("ptsChanged",{initialTimestamp:r.Og}));};u.prototype.coa=function(r){return h.he(this.Uk,function(w){return w.mediaType === r;});};u.prototype.IJb=function(){return -1 !== this.Cd.indexOf(1)?1:0;};u.prototype.km=function(r){r={type:"startEvent",event:r,time:l.default.time.ga()};this.Kh.emit(r.type,r);};u.prototype.Xp=function(r,w){this.qa.eh(r,void 0,w);};return u;})();b.BAa=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.UMa=void 0;c=a(2).__importDefault(a(6));g=a(21);l=a(34);t=(function(){function m(d,f){this.I=d;this.Py=f;}m.prototype.LE=function(d,f,h,k,n){var p,q;void 0 === n && (n=!1);p=d.H;q=this.Pob(p);this.VT={startTime:c.default.time.ga(),b1b:d,a1b:h.U,IDb:f,ae:this.RIb(k,f),s3b:this.xKb(k,n),fma:n,Ye:k,KTa:q,tSb:this.iJb(p,h)};};m.prototype.Loa=function(d){var f,h,k,n,p,q,u,r,w,v,x,y,z;if(this.VT && 0 !== Object.keys(this.VT.KTa).length && d === this.VT.IDb){f=this.VT;h=f.KTa;k=f.tSb;n=f.fma;p=f.Ye;q=f.b1b;u=f.a1b;r=f.startTime;w=f.ae;f=f.s3b;this.VT=void 0;v=this.eha(d).Zr;x=this.dHb(q.H.id,d,h);v=this.oPa(x.weight,v);y={};for(z in h){z !== d && (y[z]=h[z].details);}h=c.default.time.ga() - r;r=p?0:h;z={offset:g.R.Oa(this.iKb(q,u,p,n)),ha:q.H.id};u={offset:g.R.Oa(u),ha:q.H.id};return {segment:d,destPosition:{ha:d,offset:g.R.eb},srcsegment:q.H.id,srcTransitionPosition:z,srcStartPosition:u,srcsegmentduration:q.xba.U,srcoffset:z.offset.U,seamlessRequested:p,atRequest:x,atTransition:v,discard:y,transitionType:w,transitionTypeAtRequest:f,delayToTransition:this.QHb(h,p,n),durationOfTransition:r,nextExitPositionAtRequest:k};}};m.prototype.dHb=function(d,f,h){var k,n,p;p={};(h=h[f])?p=h.details:(l.assert(this.Py),p.weight=null === (n=null === (k=this.Py.ma.V[d].next) || void 0 === k?void 0:k[f]) || void 0 === n?void 0:n.weight);return p;};m.prototype.QHb=function(d,f,h){var k;h || (k=f?d:0);return k;};m.prototype.iJb=function(d,f){var h,k,n;k=d.Mf.add(f);null === (h=d.zx) || void 0 === h?void 0:h.some(function(p){k.lessThan(p.Yc) && (n=p.Yc.U);});return n;};m.prototype.iKb=function(d,f,h,k){return h || k?d.xba.U:f;};m.prototype.RIb=function(d,f){return d?"seamless":this.eha(f).HW?"reset":"long";};m.prototype.xKb=function(d,f){return d || f?"lazy":"immediate";};m.prototype.Pob=function(d){var f,h;f=this;h={};d.TA.forEach(function(k){var n,p;n=d.wSb[k];p=f.eha(k).Zr;h[k]={details:f.oPa(n,p)};});return h;};m.prototype.eha=function(d){var f,h;d=this.Py.H6(d);f=0 < d.length?d[0]:void 0;d=null === f || void 0 === f?void 0:f.uD();if(!f || !d)return {HW:!1,Zr:{qo:0,Ur:0,kt:0,QC:0}};h=f.x0a(0) && !d.Ur;f=f.x0a(1) && !d.qo;return {HW:!h && !f,Zr:d};};m.prototype.oPa=function(d,f){return {weight:d,vbuflmsec:f.qo,abuflmsec:f.Ur,vbuflbytes:f.kt,abuflbytes:f.QC};};return m;})();b.UMa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gKa=void 0;c=a(18);t=a(43);a=(function(){function g(l){var m;m=this;this.X=l;this.tha=!1;this.gG=new c.ii();this.gG.on(l,"paused",function(){return m.n$();});this.gG.on(l,"playing",function(){return m.n$(!0);});this.gG.on(l,"underflow",function(){return m.n$();});this.gG.on(l,"skipped",function(){return m.fY();});this.gG.on(l,"clockAdjusted",function(){return m.cY();});this.gG.on(l,"playbackRateChanged",function(){return m.PTb();});}Object.defineProperties(g.prototype,{currentTime:{get:function(){return this.yQa || this.X.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{xk:{get:function(){return this.tha;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{speed:{get:function(){var l;return null !== (l=this.X.playbackRate) && void 0 !== l?l:1;},enumerable:!1,configurable:!0}});g.prototype.n$=function(l){void 0 === l && (l=!1);l !== this.tha && (this.yQa=(this.tha=l)?void 0:this.X.zc);this.emit("stopStart",{type:"stopStart"});};g.prototype.fY=function(){this.yQa=void 0;this.cY();};g.prototype.cY=function(){this.emit("clockAdjusted",{type:"clockAdjusted"});};g.prototype.PTb=function(){this.emit("speedChanged",{type:"speedChanged"});};g.prototype.Jb=function(){this.n$();this.gG.clear();};return g;})();b.gKa=a;t.Bf(c.EventEmitter,a);},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZAa=void 0;c=a(2);t=(function(){function g(l,m,d,f){this.S=l;this.bJ=m;this.dua=d;this.eua=f;}Object.defineProperties(g.prototype,{P:{get:function(){var l;return null === (l=this.T_) || void 0 === l?void 0:l.P;},enumerable:!1,configurable:!0}});g.prototype.Jb=function(){var l;this.P && (this.P.Xya(this.ib),this.eua(this.P));null === (l=this.T_) || void 0 === l?void 0:l.M8.release();this.T_=void 0;};g.prototype.Eb=function(l){return c.__awaiter(this,void 0,void 0,function(){var m,d,f,h,k;return c.__generator(this,function(n){switch(n.label){case 0:return (this.ib=l,m=this.bJ(this.S),d=m.ZE,f=m.P,h=m.M8,this.T_={M8:h,P:f},f?(this.B1a(f,l,!1),[2,f]):[4,d]);case 1:return (k=n.xc(),this.B1a(k,l,!0),[2,k]);}});});};g.prototype.B1a=function(l,m,d){this.T_ && (this.T_.P=l,l.Wva(m),this.dua(m,l,d));};return g;})();b.ZAa=t;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r;function c(w,v){return (1 === w.mediaType?0:1) - (1 === v.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.VAa=b.YAa=b.mkb=void 0;g=a(2);l=a(18);m=a(9);d=a(21);t=a(103);f=a(43);h=a(909);k=a(4);n=a(911);p=a(178);q=a(245);u=a(20);b.mkb={Ydb:c};(function(w){w[w.Tca=0]="CREATED";w[w.eBa=1]="CANCELLED";})(r=b.YAa || (b.YAa={}));a=(function(){function w(v,x,y,z,A,B,E,D,F,G,C,H){var K,M;K=this;this.J=v;this.I=x;this.D$=y;this.Zp=z;this.Y6=A;this.us=B;this.Bt=E;this.iT=D;this.parent=F;this.Dy=G;this.lw=C;this.S_=H;this.Sc=r.Tca;this.K3=[];this.Uw=new q.KK();this.owa=0;this.Wta=function(){!K.Nh && K.A7 && (K.P.zu.UA("onHeaderFragments",K.Wta),K.X7.resolve());};this.events=new l.EventEmitter();this.Rq=new m.oR();this.X7=new m.oR();if(null === (M=this.parent) || void 0 === M?0:M.ye)this.Bt=this.parent.ye.Ka(this.Zp.Mf);}Object.defineProperties(w.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Nh:{get:function(){return this.Sc === r.eBa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{H:{get:function(){return this.Zp;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Zw:{get:function(){var v;return !(null === (v=this.yd) || void 0 === v || !v.Zw);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Il:{get:function(){var v;return !(null === (v=this.yd) || void 0 === v || !v.Il);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Nt:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.Nt) && void 0 !== x?x:0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ah:{get:function(){var v;return !(null === (v=this.yd) || void 0 === v || !v.Ah);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{D5b:{get:function(){return this.Rq.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{fg:{get:function(){return this.K3;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{VN:{get:function(){var v;return !(null === (v=this.S_) || void 0 === v || !v.P);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{A7:{get:function(){return ! !this.fg.length && this.K3.every(function(v){return v.ke;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{P:{get:function(){k.assert(this.S_.P,"viewable should be available");return this.S_.P;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{W:{get:function(){var v;return (null === (v=this.yd) || void 0 === v?void 0:v.W) || this.us.W;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Za:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.Za) && void 0 !== x?x:this.us.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{tb:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.tb) && void 0 !== x?x:this.H.$i.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Gj:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.Gj) && void 0 !== x?x:this.Ge.dg(this.W).pc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ws:{get:function(){var v,x,y;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.ws) && void 0 !== x?x:null === (y=this.us) || void 0 === y?void 0:y.add(this.Ge);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{sN:{get:function(){var v,x;x=null === (v=this.H.H.Aq) || void 0 === v?void 0:v[0];return x && this.Yc?d.R.Oa(Math.max(0,x[0] - this.Yc.U - this.H.Mf.U)):d.R.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Is:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.Is) && void 0 !== x?x:this.H.Mf.add(this.Ge);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{rE:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.rE) && void 0 !== x?x:this.H.$i.add(this.Ge);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{K8:{get:function(){var v;return null === (v=this.yd) || void 0 === v?void 0:v.K8;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ge:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.Ge) && void 0 !== x?x:this.Bt;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{qr:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.qr) && void 0 !== x?x:this.H.$i.Ka(this.us || this.H.Mf);},enumerable:!1,configurable:!0}});w.prototype.Eb=function(){return g.__awaiter(this,void 0,void 0,function(){var v,x;x=this;return g.__generator(this,function(y){switch(y.label){case 0:if(this.Nh)return [2];u.ia && this.I.log("AseBranch {" + this.H.id + "} awaiting viewable");return [4,this.S_.Eb(this)];case 1:y.xc();u.ia && this.I.log("AseBranch {" + this.H.id + "} viewable available, branch " + (this.Nh?"cancelled":"active"));if(this.Nh)return [2];k.assert(this.Y6,"tracks need to exist upon initialization");this.K3=this.Y6(this.P).sort(c);v=this.fg.map(function(z){var A;return null === (A=x.parent) || void 0 === A?void 0:A.opa(z.mediaType);});this.X$a(this.us);return [4,this.NXa()];case 2:return (y.xc(),u.ia && this.I.log("AseBranch {" + this.H.id + "} have headers"),this.Nh?[2]:this.parent?[4,this.parent.D5b]:[3,4]);case 3:y.xc();if(this.Nh)return [2];this.Uw.forEach(function(z){var A,B;B=null === (A=x.parent) || void 0 === A?void 0:A.opa(z.mediaType);k.assert(B,"Parent state should be defined");-1 === v.indexOf(B) && (z.Kj.Pf.Jb(),A=new p.e2(B),z.Kj.Pf=A);});y.label=4;case 4:return (this.normalize(),[2]);}});});};w.prototype.NXa=function(){return g.__awaiter(this,void 0,void 0,function(){return g.__generator(this,function(){this.A7?this.X7.resolve():(this.P.zu.on("onHeaderFragments",this.Wta),this.events.emit("needsRequest"));return [2,this.X7.promise];});});};w.prototype.normalize=function(){this.Nh || (this.yd=new h.cIa(this,this.J,this.I,this.P,this.D$,this.Zp,this.us,this.Uw.items,this.Bt,this.iT,this.parent,this.Dy,this.events,this.lw),this.Gma(this.yd.lD),this.Rq.resolve(this.yd));};w.prototype.update=function(v){var x;this.Zp=v;(null === (x=this.yd) || void 0 === x?0:x.update(v)) && this.Gma(!0);};w.prototype.Nx=function(v){var x;this.Bt=v;null === (x=this.yd) || void 0 === x?void 0:x.Nx(v);};w.prototype.dA=function(v){return g.__awaiter(this,void 0,void 0,function(){var x;return g.__generator(this,function(y){switch(y.label){case 0:return [4,this.Rq];case 1:return (x=y.xc(),[2,null === x || void 0 === x?void 0:x.dA(v)]);}});});};w.prototype.nH=function(){var v;null === (v=this.yd) || void 0 === v?void 0:v.nH();};w.prototype.reset=function(){var v;null === (v=this.yd) || void 0 === v?void 0:v.reset();};w.prototype.sf=function(){var v;this.Sc=r.eBa;this.VN && this.P.zu.UA("onHeaderFragments",this.Wta);null === (v=this.yd) || void 0 === v?void 0:v.sf();this.Uw.forEach(function(x){return x.cancel();});this.S_.Jb();};w.prototype.VW=function(v){var x;return !(null === (x=this.yd) || void 0 === x || !x.VW(v));};w.prototype.kb=function(v){var x;return null === (x=this.yd) || void 0 === x?void 0:x.kb(v);};w.prototype.x0a=function(v){return this.fg.some(function(x){return x.mediaType === v;});};w.prototype.Eq=function(v){var x,y;void 0 === v && (v=c);return null !== (y=null === (x=this.yd) || void 0 === x?void 0:x.Eq(v)) && void 0 !== y?y:[];};w.prototype.opa=function(v){var x,y;return (null === (x=this.kb(v)) || void 0 === x?void 0:x.Kj.Pf) || (null === (y=this.Uw.get(v)) || void 0 === y?void 0:y.Kj.Pf);};w.prototype.b7=function(){var v,x;return this.A7?null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.b7()) && void 0 !== x?x:[]:this.Uw.items;};w.prototype.IN=function(v){var x;return (null === (x=this.yd) || void 0 === x?void 0:x.IN(v)) || this.Uw.get(v);};w.prototype.Qh=function(v,x){var y;return (null === (y=this.yd) || void 0 === y?void 0:y.Qh(v,x)) || 0;};w.prototype.uD=function(){var v;return (null === (v=this.yd) || void 0 === v?void 0:v.uD()) || ({});};w.prototype.yW=function(v){var x;return (null === (x=this.yd) || void 0 === x?void 0:x.yW(v)) || this.ws.U;};w.prototype.FE=function(v,x,y){return g.__awaiter(this,void 0,void 0,function(){var z,A,B,E;return g.__generator(this,function(D){switch(D.label){case 0:this.K3=v.sort(c);this.X$a(x);if(!this.Ah)return [3,2];k.assert(this.yd);z=this.Uw.filter(function(F){return F.track.ke;}).items;A=this.yd.ldb(z,x,y);B=A.oV;E=A.lD;B && this.Gma(E);if(this.A7)return [3,2];this.X7=new m.oR();this.Rq=new m.oR();u.ia && this.I.log("AseBranch {" + this.H.id + "} setTracks waiting for headers");return [4,this.NXa()];case 1:D.xc();if(this.Nh)return [2];this.yd.ldb(this.Uw.items,x,y);u.ia && this.I.log("AseBranch {" + this.H.id + "} setTracks pipelines updated");this.Rq.resolve(this.yd);this.events.emit("needsRequest");D.label=2;case 2:return [2];}});});};w.prototype.X$a=function(v){var x;x=this;this.owa=0;this.Uw=new q.KK(this.fg.map(function(y){var z,A;A=x.Uw.find(function(B){return B.track === y;});A || (++x.owa,A=new n.KEa(x,y,(null === v || void 0 === v?void 0:v.add(x.Ge)) || d.R.eb,x.J,x.I,null === (z=x.parent) || void 0 === z?void 0:z.opa(y.mediaType),x.D$,function(){0 === --x.owa && x.events.emit("requestQueuesCreated");}));return A;}));};w.prototype.bn=function(v){var x;return (null === (x=this.yd) || void 0 === x?void 0:x.bn(v)) || [];};w.prototype.bY=function(v){var x;return null === (x=this.yd) || void 0 === x?void 0:x.bY(v);};w.prototype.YG=function(v){var x;return !(null === (x=this.yd) || void 0 === x || !x.YG(v));};w.prototype.O6=function(v){return this.yd?this.yd.O6(v):d.R.eb;};w.prototype.Qya=function(v){var x;return !(null === (x=this.yd) || void 0 === x || !x.Qya(v));};w.prototype.Gma=function(v){v={type:"branchNormalized",segmentContentStart:this.H.Mf,branchContentStart:this.Yc,branchContentEnd:this.Sd,didNormalizeSegment:v};this.events.emit(v.type,v);u.ia && this.I.trace("branchNormalized:",v);};w.prototype.toJSON=function(){var v;return (null === (v=this.yd) || void 0 === v?void 0:v.toJSON()) || ({});};return w;})();b.VAa=a;f.Bf(t.Tx,a);f.Bf(t.TB,a);},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x;function c(y,z){return (1 === y.mediaType?0:1) - (1 === z.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.cIa=b.Yea=void 0;g=a(2);l=a(393);m=a(82);d=a(150);f=a(391);h=a(16);k=a(415);n=a(910);p=a(9);q=a(25);u=a(4);r=a(21);w=g.__importDefault(a(6));t=a(103);v=a(43);x=a(245);b.Yea={Ydb:c};a=(function(y){function z(A,B,E,D,F,G,C,H,K,M,I,Q,L,J){var O,N;N=y.call(this,D) || this;N.ib=A;N.J=B;N.P=D;N.D$=F;N.Zp=G;N.Bt=K;N.iT=M;N.parent=I;N.Dy=Q;N.events=L;N.lw=J;N.ee=new x.KK([]);N.gm=!1;N.rT=0;N.SS=N.bY.bind(N);u.assert(D.S === N.H.S || isNaN(D.S) && isNaN(N.H.S));N.console=p.Oq(w.default,E,G.id && G.id.length?"{" + G.id + "}":"");N.us=null !== C && void 0 !== C?C:r.R.Oa(N.H.$);N.Tha=null === I || void 0 === I?void 0:I.ye;null === (O=N.Dy) || void 0 === O?void 0:O.addListener(N.SS);A=N.cVa(H,N.us,! !N.parent).lD;N.lD=A;return N;}g.__extends(z,y);Object.defineProperties(z.prototype,{Nh:{get:function(){return this.gm;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{H:{get:function(){return this.Zp;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Zw:{get:function(){return this.ee.every(function(A){return A.Zw;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Il:{get:function(){return this.ee.every(function(A){return A.Il;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Nt:{get:function(){return this.Eq().reduce(function(A,B){return A + B.Nt;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ah:{get:function(){return this.Eq().every(function(A){return A.Ah();});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{fg:{get:function(){return this.ib.fg;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{W:{get:function(){return this.It.W;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Za:{get:function(){return this.It.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{tb:{get:function(){return this.It.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Gj:{get:function(){return this.Ge.dg(this.W).pc;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ws:{get:function(){return this.us.add(this.Ge);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Is:{get:function(){return this.H.Mf.add(this.Ge);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{rE:{get:function(){return this.H.$i.add(this.Ge);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{K8:{get:function(){return this.ee.reduce(function(A,B){return A && B.ye?r.R.max(A,B.ye):B.ye?B.ye:A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Aqa:{get:function(){return this.ws.U;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Fe:{get:function(){return this.Ge.U;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qr:{get:function(){return this.It.qr;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ge:{get:function(){return this.Bt;},enumerable:!1,configurable:!0}});z.prototype.ldb=function(A,B,E){var D;void 0 === B && (B=null !== (D=this.Yc) && void 0 !== D?D:this.us);return this.cVa(A,B,E);};z.prototype.update=function(A){var B,E,D;D=A.$i.a$(this.Zp.$i);this.Zp=A;return D && this.CC?(D=g.__read(this.CC.FYb(A,A.$i),2),A=D[0],D=D[1],u.assert(A && D,"branch.update: lastFragment should be defined"),null === (B=this.kb(0)) || void 0 === B?void 0:B.truncate(A),null === (E=this.kb(1)) || void 0 === E?void 0:E.truncate(D),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};z.prototype.Nx=function(A){this.Ge.equal(A) || (this.Bt=A);};z.prototype.dA=function(A){return g.__awaiter(this,void 0,void 0,function(){var B;return g.__generator(this,function(E){switch(E.label){case 0:return [4,Promise.resolve()];case 1:return (E.xc(),(B=this.kb(A))?[2,B.dA()]:[2,d.AsyncIterator.CZa()]);}});});};z.prototype.nH=function(){this.Eq().forEach(function(A){return A.nH();});};z.prototype.aU=function(){this.ee.forEach(function(A){return A.aU();});};z.prototype.reset=function(){this.ee.forEach(function(A){A.reset();});};z.prototype.sf=function(){var A,B;this.gm || (this.gm=!0,null === (A=this.CC) || void 0 === A?void 0:A.fd(),this.CC=void 0,this.ee.forEach(function(E){E.sf();}),null === (B=this.Dy) || void 0 === B?void 0:B.removeListener(this.SS),this.events.removeAllListeners());};z.prototype.VW=function(){return !0;};z.prototype.kb=function(A){return this.ee.get(A);};z.prototype.Eq=function(A){void 0 === A && (A=c);return this.ee.items.slice().sort(A);};z.prototype.b7=function(){return this.ee.items;};z.prototype.IN=function(A){return this.kb(A);};z.prototype.Qh=function(A,B){A=this.kb(A);if(!A)return 0;if(B)return A.Sm;B=A.nq;if(void 0 === B)return 0;A=this.iT();return B - A;};z.prototype.uD=function(){var A,B,E,D,F,G,C;C=null === (A=this.kb(0)) || void 0 === A?void 0:A.Hn;A=null === (B=this.kb(1)) || void 0 === B?void 0:B.Hn;return {qo:null !== (E=null === A || void 0 === A?void 0:A.U) && void 0 !== E?E:0,Ur:null !== (D=null === C || void 0 === C?void 0:C.U) && void 0 !== D?D:0,kt:null !== (F=null === A || void 0 === A?void 0:A.fa) && void 0 !== F?F:0,QC:null !== (G=null === C || void 0 === C?void 0:C.fa) && void 0 !== G?G:0};};z.prototype.yW=function(A){var B;return (A=this.kb(A))?null !== (B=A.nq) && void 0 !== B?B:0:0;};z.prototype.bn=function(A){A=this.kb(A);return (null === A || void 0 === A?void 0:A.bn()) || [];};z.prototype.bY=function(A){h.hp(A.newValue) && this.Qr();};z.prototype.YG=function(A){return this.ee.every(function(B){return B.YG(A);});};z.prototype.O6=function(A){var B,E;return null !== (E=null === (B=this.ee.get(A)) || void 0 === B?void 0:B.uVa) && void 0 !== E?E:r.R.eb;};z.prototype.Qya=function(A){var B,E,D;B=this.It.JOb;if(!B)return !1;E=q.he(A,function(F){return B.U <= F.Yc.U;});if(!E)return !1;A=!1;D=g.__read(k.iwa(this.J,this.ee,E.Yc),2);E=D[0];if(D=D[1])(this.kb(1).truncate(D),A=!0);E && (this.kb(0).truncate(E),A=!0);A && (E={type:"branchEdited"},this.events.emit(E.type,E));return A;};z.prototype.Ek=function(A){this.gm || (A.W3 || u.assert(!A.dd),this.Qr(),this.Il && this.Qha());this.pu(A);};z.prototype.EI=function(A){this.J.Q5 && this.Qr(!0);this.vH(A);};z.prototype.DI=function(A){this.J.Q5 && this.Qr(!0);this.sD(A);};z.prototype.cVa=function(A,B,E){var D,F,G;D=this;F=new x.KK();G=!1;A.forEach(function(C){var H;H=D.ee.find(function(K){return K.track === C.track;});void 0 === H?(G=!0,H=new f.Bea(C.mediaType,D.J,D.console),H=new l.Xea(D,D.J,D.console,D.D$,D.ib,C.track,B,C.Kj,H,!0,void 0,C.m3b(),D.lw),H.events.on("lastRequestIssued",function(){return D.Zw && D.events.emit("lastRequestIssued",{type:"lastRequestIssued"});})):(D.ee.remove(H),H.aU());F.add(H);});this.ee.forEach(function(C){return C.sf();});this.ee=F;return G?this.normalize(B,E):{oV:!1,lD:!1};};z.prototype.normalize=function(A,B){var E,D;null === (E=this.CC) || void 0 === E?void 0:E.fd();this.CC=new n.EJa({console:this.console,config:this.J,P:this.P,H:this.H,ql:this.ee,Yc:A,Sd:null !== (D=this.H.$i) && void 0 !== D?D:void 0 !== this.H.La?r.R.Oa(this.H.La):void 0,splice:B});this.It=this.ee.KY;B=this.CC.normalize();A=B.oV;B=B.lD;A && this.Tha && (this.Bt=this.Tha.Ka(this.Yc));return {oV:A,lD:B};};z.prototype.zxa=function(A){var B;return h.hp((null === (B=this.Dy) || void 0 === B?void 0:B.value) || h.Kc.mj) && (!A || this.rT + this.J.z9 < w.default.time.ga());};z.prototype.Qr=function(A){void 0 === A && (A=!1);this.zxa(A) && (this.rT=w.default.time.ga(),A={type:"checkBufferingProgress"},this.events.emit(A.type,A));};z.prototype.Qha=function(){var A;A={type:"branchStreamingComplete"};this.events.emit(A.type,A);};z.prototype.toJSON=function(){var A,B;return {segment:this.H.id,branchOffset:this.Fe,viewableId:this.Zp.S,contentStartPts:null === (A=this.Yc) || void 0 === A?void 0:A.U,contentEndPts:null === (B=this.Sd) || void 0 === B?void 0:B.U};};return z;})(m.xv);b.cIa=a;v.Bf(t.Tx,a);},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.EJa=void 0;c=a(2);g=a(415);l=a(4);t=(function(){function m(d){var f,h,k,n,p,q,u,r;f=this;h=d.console;k=d.config;n=d.P;p=d.ql;q=d.H;u=d.Yc;r=d.Sd;d=d.splice;this.RW=this.EM=!1;this.DTa=function(){f.EM || f.gja() && f.xta();};this.console=h;this.config=k;this.ql=p;this.P=n;this.H=q;this.Yc=u;this.Sd=r;this.splice=d;}m.prototype.Eb=function(d){if(this.EM)throw Error("Cannot call init() after cleanup");if(this.RW)throw Error("Cannot call init() twice");this.RW=!0;this.v6a=d;this.P.zu.addListener("onHeaderFragments",this.DTa);this.gja() && this.xta();};m.prototype.normalize=function(){if(this.EM)throw Error("Cannot call normalize() after cleanup");if(this.RW)throw Error("Cannot call init() / normalize() twice");this.RW=!0;l.assert(this.gja());return this.xta();};m.prototype.FYb=function(d,f){l.assert(this.RW,"expected to be called init() before renormalize");this.H=d;this.Sd=f;d=g.iwa(this.config,this.ql,this.Sd);this.X9();return d;};m.prototype.fd=function(){this.EM || (this.EM=!0,this.v6a=void 0,this.P.zu.removeListener("onHeaderFragments",this.DTa));};m.prototype.xta=function(){var d,f,h;if(this.EM)return {oV:!1,lD:!1};f=this.DSb();h=!1;this.H && !this.H.Rq && (h=this.X9());null === (d=this.v6a) || void 0 === d?void 0:d.call(this,f,h);this.fd();return {oV:f,lD:h};};m.prototype.gja=function(){return this.ql.every(function(d){return d.track.ke;});};m.prototype.DSb=function(){var d,f;d=c.__read(g.R5a(this.config,this.ql,this.Yc,this.Sd,this.splice),2);f=d[0];return d[1] || void 0 === this.ql.get(1) && f;};m.prototype.X9=function(){var d,f,h;l.assert(this.H);l.assert(!this.H.Rq);d=this.ql.KY;f=g.T5a(this.config,d,this.H.Mf);if(void 0 === f || void 0 === d.Sd)return !1;d=d.Sd;h=this.config.mza && "lazy" === this.H.ae?g.m4a(this.console,this.H,this.ql):[];this.H.normalize(f,d,h);return !0;};return m;})();b.EJa=t;},function(t,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.KEa=void 0;c=a(397);g=a(127);l=a(178);m=a(249);d=a(4);t=(function(){function f(h,k,n,p,q,u,r,w){this.ib=h;this.track=k;this.Yaa=n;this.config=p;this.console=q;this.events=r;this.ZTb=w;this.Yn=0;this.g8a=this.Il=!1;this.Kj=this.hBb(u);}Object.defineProperties(f.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ha:{get:function(){return this.ib.H.id;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{dh:{get:function(){return this.ib.dh;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{SU:{get:function(){return this.Yaa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{PE:{get:function(){return this.Yaa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sN:{get:function(){return this.ib.sN;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Kf:{get:function(){return this.Ee || (this.Ee=this.au());},enumerable:!1,configurable:!0}});f.prototype.VD=function(){return this.track.N9;};f.prototype.xs=function(){return this.track.ke;};f.prototype.Ah=function(){return !1;};f.prototype.LZa=function(){return {Y:[],y$:0,Dj:0};};f.prototype.m3b=function(){var h;d.assert(this.xs());h=this.Kf;this.Ee=void 0;return h;};f.prototype.Jcb=function(h){return (h=h.VE(this.Kf))?{Hm:h,reason:"success"}:{Hm:h,reason:"pipelineTryIssueHeaderRequest"};};f.prototype.cancel=function(){this.Ee && (this.ib.P.fM(this.mediaType,this.Ee),g.Hp.instance.WM(this.Ee),this.Ee.removeAllListeners(),this.Ee=void 0);};f.prototype.hBb=function(h){var k,n;k=0 === this.mediaType?this.config.qSa:this.config.cya;h=new l.e2(h);h.KZ(this.track);n=this.config;return new m.Qfa(k,this.config,h,0 === this.mediaType?n.Hma:n.Ima);};f.prototype.au=function(){var h,k;h=this;k=c.au(this.mediaType,this.track.P,this.config,this.console,function(n){return h.events.emit("transportReport",n);},function(){});k.on("created",this.ZTb);return k;};return f;})();b.KEa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qMa=void 0;c=a(2);t=(function(){function g(l,m){this.I=l;this.Kh=m;this.eya=!1;}g.prototype.MYb=function(l){this.eh(l.message,void 0,c.__assign(c.__assign({},l.tXa),{err:l.toString()}));};g.prototype.eh=function(l,m,d){void 0 === m && (m=void 0);void 0 === d && (d={});this.eya || (d.temporaryFailure || (this.eya=!0),l=c.__assign({type:"error",error:null !== m && void 0 !== m?m:"NFErr_MC_StreamingFailure",errormsg:l,temporaryFailure:!1},d),this.I.error("notifyStreamingError:",l),this.Kh.emit("error",l));};g.prototype.Vn=function(){return this.eya;};return g;})();b.qMa=t;},function(t,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Zea=void 0;c=a(2);g=a(4);l=a(9);m=a(20);d=a(257);t=(function(f){function h(k){var n;n=f.call(this) || this;n.qa=k;n.Ib=[];n.VS=new d.c2({xk:!1,currentTime:function(){return n.Yf?n.Xg:l.R.OD;},speed:1});return n;}c.__extends(h,f);Object.defineProperties(h.prototype,{za:{get:function(){return this.VS;},enumerable:!1,configurable:!0}});h.prototype.k4=function(k,n){var p;p=!this.qa;p && (this.qa=k,this.Jga=(null === n || void 0 === n?0:n.Yf)?n.Xg:void 0);return p;};h.prototype.QG=function(){this.Ib=[];this.Jga=void 0;};h.prototype.lma=function(k){m.ia && g.assert(this.qa === k);this.qa=void 0;this.QG();};h.prototype.Rma=function(){for(var k,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(k=this.Ib).push.apply(k,c.__spread(n));};h.prototype.DN=function(){return this.Jga?this.Jga:f.prototype.DN.call(this);};h.prototype.ip=function(){return !1;};h.prototype.GE=function(){};h.prototype.zJ=function(){};return h;})(a(413).mfa);b.Zea=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.GJa=void 0;c=a(56);t=(function(){function g(l){this.kb=l;}Object.defineProperties(g.prototype,{th:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Rn=function(l){var m,d;l=l.bj;if(l === c.de.po || l === c.de.uq){l={};m=this.kb(1);d=this.kb(0);m && (l.videoPipelineSummary=this.Bbb(m));d && (l.audioPipelineSummary=this.Bbb(d));return l;}};g.prototype.Bbb=function(l){var m,d,f,h,k;k=l.Ta.Y;return {actualStartPlayerTimestamp:null === (m=k.Og) || void 0 === m?void 0:m.U,actualPartialPlayerTimestamp:k.l7a,actualCompletePlayerTimestamp:null === (d=l.Mia) || void 0 === d?void 0:d.U,segmentId:l.ha,contentStartMs:null === (f=l.Yc) || void 0 === f?void 0:f.U,contentEndMs:null === (h=l.Sd) || void 0 === h?void 0:h.U,streamingPlayerMs:l.PE.U,isStreamable:l.VD(),isNormalized:l.Ah(),isDoneStreaming:l.xs(),trackNeedsHeaderRequest:l.track.N9,completedRequests:k.qUa,activeRequests:l.Ta.bq,unsentRequests:l.Ta.ft,bytes:{current:k.fa,received:k.U8a,partial:k.Dj,completed:k.eD,unsent:k.U3b}};};return g;})();b.GJa=t;},function(t,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.nKa=void 0;c=a(2);g=a(20);l=a(56);m=a(417);t=(function(){function d(f){this.PVb=f;}Object.defineProperties(d.prototype,{th:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jx:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return g.ia;},enumerable:!1,configurable:!0}});d.prototype.Rn=function(f){var h;f=f.bj;if(f === l.de.uq || f === l.de.po){h={};this.PVb.forEach(function(k,n){var p;p=m.hoa(k);h[n]=c.__assign({probabilities:k.dh.map(function(q){return {duration:q.duration,immediate:q.MD,seamless:q.Ye};})},p);});return h;}};return d;})();b.nKa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.AGa=void 0;t=(function(){function a(c,g,l){this.Oe=c;this.I=g;this.events=l;this.uP=[];}a.prototype.rh=function(c){var g;g=this;this.uP.push(c);this.Oe.$Ua(function(){g.Gcb(c,{pNb:!0});},c.mTa,c.Kw);};a.prototype.fPb=function(c){var g,l;g=this;l={bj:c};this.uP.forEach(function(m){g.Gcb(m,l);});};a.prototype.Gcb=function(c,g){var l,m;try{l=c.tg(g);m=l.event;l.zab && this.events.emit(c.Kw,m);}catch(d){this.I.error("Error generating event for " + c.Kw,d);}};return a;})();b.AGa=t;},function(t,b,a){var c,g,l,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.nEa=void 0;t=a(2);c=a(16);g=t.__importDefault(a(34)).default.YH;l=t.__importDefault(a(145));m=t.__importDefault(a(6));d=a(180);f=a(25);h=a(4);a=(function(){function k(n,p,q,u,r){this.config=n;this.U0b=p;this.navigator=q;this.events=u;this.console=r;n=d.LN(this.config);this.a8a=[n.EY,n.S$];}k.prototype.e_b=function(n,p,q,u,r,w,v){var x,y,z,A,B,E,D;y=[];if(!this.u7a(r.track))return {stream:B,PZ:y,reason:"locationSelectionFailure"};z=r.Kj;A=z.Pf;B=A.Gu;E=w?w.Cm(r.track.$d,n,q.Ka(r.ib.Ge),r.Ah()):r.track.$d;if(0 === E.length && (null === w || void 0 === w?0:w.Awb))return {stream:void 0,PZ:y,reason:"allStreamsFiltered"};B && !B.track.equals(r.track) && (B=this.YFb(B,E));if(0 === r.mediaType && B && !this.A0b(A,B))return {stream:B,PZ:y};n=c.M$(n);p=this.XAb(n,p,u,r,! !v);z=z.Xwa(p,E,void 0,this.a8a[r.mediaType],!0,r.track.P.vq);if(!z)return {stream:B,PZ:y,reason:"streamSelectionFailure"};p={We:z.We};if(z.reason){D={reason:z.reason,Wwa:z.Au,qA:z.qA,fp:z.fp,gp:z.gp};this.Hka(r.mediaType,E,q);}this.TDb(r.mediaType,z,E);B=E[z.Le];A.iab(B);if(null === (x=z.Lz) || void 0 === x?0:x.length)y=z.Lz.map(function(F){return f.he(E,function(G){return G.id === F;});}).filter(f.Z9);return {stream:B,PZ:y,cO:D,xZ:p,ox:z.ox};};k.prototype.Jka=function(n,p,q,u,r,w,v){var x,y,z;if(!c.hp(p))return {complete:!0,reason:"playing"};if(!w.g8a)return {complete:!1,reason:"unknown"};if(w.CUb)return (h.assert(w.O6a),w.O6a);x=w.Kj;y=x.Pf;q=this.TYa(w,q);z=y.Gu;y=q.lk - q.zc;if(y < this.config.zj || void 0 === z)return {complete:!1,XC:y,reason:"preBuf"};if(0 === w.mediaType)return {complete:!0,XC:y,reason:"audio"};if(n=n.HTa(w.mediaType))return {complete:!0,XC:y,reason:n};this.u7a(w.track);x.$ua([z],!1,c.M$(p),q,this.a8a[w.mediaType]);p=x.vz(q,p,r,z,{bu:v});if(!p.complete && u)return {complete:!0,reason:"prebufferTimeLimit",XC:y};p.XC=y;return p;};k.prototype.TDb=function(n,p,q){this.events.emit("streamSelection",{type:"streamSelection",mediaType:n,result:p,streamList:q});};k.prototype.SDb=function(n,p,q,u){n={type:"maxVideoBitrateChanged",time:m.default.time.ga(),streaming:u,maxvb_old:n,maxvb:p,reason:q};this.events.emit(n.type,n);};k.prototype.YFb=function(n,p){var q;q=p[0];p.filter(function(u){return u.Fu;}).every(function(u){return u.bitrate <= n.bitrate?q=u:!1;});return q;};k.prototype.A0b=function(n,p){return 0 < this.config.iQ.length?!0:(n=n.oO) && n === p.location?!1:!0;};k.prototype.u7a=function(n){return n.P.Jm.E_(n.P.S,n.$d);};k.prototype.TYa=function(n,p){var B;for(var q,u=p.Ka(this.U0b),r=[],w=n,v=p,x,y,z=0,A=!0;w;){B=w.LZa(u);if(!A && !w.Il)break;0 < B.Y.length && (v=B.Y[0].Og,void 0 === x && (x=B.Y[B.Y.length - 1].ye,y=B.y$ >= B.Y.length?x:B.Y[B.y$].Og),r=B.Y.concat(r),z+=B.Dj);w=this.navigator.parent(w);A=!1;}return {Aw:m.default.$o()[n.mediaType],$:Math.floor(v.U),zc:p.U,Cc:Math.floor(null !== (q=null === x || void 0 === x?void 0:x.U) && void 0 !== q?q:p.U),lk:Math.floor(y?y.U:p.U),hh:r.reduce(function(E,D){return E + D.fa;},0),Dj:z,wYa:r.length,Y:r};};k.prototype.XAb=function(n,p,q,u,r){var w,v,x;w=this.TYa(u,p);v=1 === u.mediaType?this.config.L_:this.config.nU;x=l.default.instance();return {state:n,Kq:n === c.ta.Lc,Bd:u.Yn,playbackRate:q,buffer:w,wV:v,L3a:!1,eN:r,bq:null === x || void 0 === x?void 0:x.bq,mediaType:u.mediaType,zc:p.U,ys:!1,Rqa:!1,daa:0};};k.prototype.Hka=function(n,p,q){var w,v;if(1 === n){n="manifest";for(var u=0,r=p.length - 1;0 <= r;--r){w=p[r];v=w.bitrate;if(g(w)){u=Math.max(u,v);break;}else this.config.YZ && !w.lu?n="bc":w.Du?w.lA && (n="hf"):n="av";}this.I4a !== u && (this.SDb(this.I4a,u,n,q),this.I4a=u);}};return k;})();b.nEa=a;},function(t,b,a){var l,m;function c(d,f,h,k,n){var p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L;x=d.console;y=d.V3b;z=d.Zi;A=d.cZb;B=d.eDb;E=d.gta;D=d.Xja;d=d.zUb;F=n || ({complete:!0,qr:0});G=F.root;C=F.complete;H=F.Rsb;K=F.H9a;K=void 0 === K?0:K;F=F.qr;M=K < A.length && A[K] === f.id;I=k && z.get(k.id);Q=n && k && I !== f.id?void 0 !== I?{Ye:0}:k.kwb(f.id):{Ye:1};z=Q.Ye;Q=Q.MD;L=void 0 === Q?0:Q;Q=(z + L) * (null !== (p=null === n || void 0 === n?void 0:n.MWb) && void 0 !== p?p:1);m && x.trace("reevaluateBranches: visiting " + f.id + ", distance: " + (h + ", probability: ") + (Q + ", predecessor: ") + ((null === k || void 0 === k?void 0:k.id) + ", decision: ") + (I + ", predecessorComplete: ") + (C + ", isOnRequiredPath: ") + (M + ", requiredPathIndex: ") + (K + ", activeDistance: ") + (H + ", seamless ") + (z + ", immediate ") + (L + ", predecessor sum of: successor weights=") + ((null === k || void 0 === k?void 0:k.kya) + ", immediate weights= ") + (null === k || void 0 === k?void 0:k.fba));p=null !== (u=null === (q=y[f.id]) || void 0 === q?void 0:q.shift()) && void 0 !== u?u:f.duration.U;q=0 === p;if(!M){if(0 === Q)return {Tba:!1};if(!C && 0 === L && F > D)return (d.oD=Math.min(d.oD || Infinity,F - D),{Tba:!1});if(!q && h >= B && 1 > Q || !1 === G && Q < E)return {Tba:!1};}K < A.length && l.assert(A[K] === f.id,"");n=null !== (r=null === n || void 0 === n?void 0:n.dh) && void 0 !== r?r:[];k && 1 > z && (0 === L?n=n.concat([{Ye:z}]):(r=(null === (v=null === (w=k.H.Aq) || void 0 === w?void 0:w[0]) || void 0 === v?void 0:v[0]) || 0,w=Math.max(0,k.duration.U - r),m && x.trace("reevaluateBranches: immediate: " + k.duration.U + ", " + r + ", " + w),n=n.concat([{Ye:z,MD:L,duration:w}])));d.G9a.push({H:f,Xu:null === k || void 0 === k?void 0:k.id,dh:n});h=C?h + f.duration.U:H;m && x.trace("reevaluateBranches: added " + f.id + ", visiting successors, active distance: " + (h + " probabilities: ") + JSON.stringify(n));return {Tba:!0,state:{root:!k,complete:q,MWb:Q,dh:n,Rsb:h,H9a:K + 1,qr:F + p}};}function g(d,f,h,k){k("reevaluateBranches: " + Array(h + 1).join(" ") + d.H.id + " (" + (JSON.stringify(d.dh) + ")"));f.filter(function(n){return n.Xu === d.H.id;}).forEach(function(n){return g(n,f,h + 1,k);});}Object.defineProperties(b,{__esModule:{value:!0}});b.f3b=b.C5b=b.faa=void 0;l=a(4);m=a(20).ia && !1;b.faa=function(d,f,h,k,n,p,q,u,r){var w,v,x,y;v={G9a:[]};x=(null === (w=h.$i) || void 0 === w?void 0:w.Ka(h.Mf).U) || 0;0 < p.length && l.assert(h.id === p[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");m && d.trace("reevaluateBranches: starting at " + h.id + " requiredPath: " + JSON.stringify(p));y={console:d,V3b:k,Zi:n,cZb:p,eDb:q.U + x,gta:u,Xja:r.U,zUb:v};f.B5b(h,function(z,A,B,E){return c(y,z,A,B,E);});return v;};b.C5b=c;b.f3b=function(d,f){g(d[0],d,0,f);};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yKa=void 0;c=a(2);g=a(416);t=(function(){function l(m){this.ma=m;this.V={};}l.prototype.mf=function(m){var d;d=this.V[m];if(void 0 === d){d=this.ma.V[m];if(void 0 === d)throw Error("Segment not found (" + m + ")");d=new g.DKa(m,d,this.ma.ae);this.V[m]=d;}return d;};l.prototype.VHb=function(m){var d;d=this;return m.H.next?Object.keys(m.H.next).map(function(f){return d.mf(f);}):[];};l.prototype.rOb=function(m){var d;return c.__generator(this,function(f){switch(f.label){case 0:return [4,m];case 1:(f.xc(),d=m,f.label=2);case 2:if(!d.H.Md)return [3,4];d=this.mf(d.H.Md);return [4,d];case 3:return (f.xc(),[3,2]);case 4:return [2];}});};l.prototype.nLb=function(m,d){return g.f2a(m.RN(d));};l.prototype.Gi=function(m){var d;d=this;Object.keys(m).forEach(function(f){var h;return null === (h=d.mf(f)) || void 0 === h?void 0:h.Gi(m[f]);});};return l;})();b.yKa=t;},function(t,b,a){var l,m,d;function c(f,h){var k,n;k=Object.keys(f);if(k.some(function(p){var q,u,r,w;return (null === (q=f[p]) || void 0 === q?void 0:q.ae) !== (null === (u=h[p]) || void 0 === u?void 0:u.ae) || (null === (r=f[p]) || void 0 === r?void 0:r.weight) !== (null === (w=h[p]) || void 0 === w?void 0:w.weight);}))return !0;n=Object.keys(h);return 0 !== l.__spread(m.Ot(k,n),m.Ot(n,k)).length?!0:!1;}function g(f,h){return f.some(function(k,n){var p;return 0 !== m.Ot(k,null !== (p=h[n]) && void 0 !== p?p:[]).length;}) || f.length !== h.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.pTa=b.BUa=void 0;l=a(2);m=a(25);d=a(921);b.BUa=function(f){return new d.NCa(function(h){return Object.keys(h.H.next || ({})).map(function(k){var n,p,q;k=f.mf(k);q=null !== (p=null === (n=h.$i) || void 0 === n?void 0:n.Ka(h.Mf).U) && void 0 !== p?p:Infinity;return {m5b:k,weight:q};});});};b.pTa=function(f,h){var k,n,p,q,u,r;k=Object.keys(f.V);n=Object.keys(h.V);p=n.filter(function(w){return -1 === k.indexOf(w);});q=k.filter(function(w){return -1 === n.indexOf(w);});u=k.filter(function(w){var v,x,y,z,A;if(-1 === n.indexOf(w))v=!1;else {v=f.V[w];w=h.V[w];v=v.Md !== w.Md || v.Ca !== w.Ca || v.Aa !== w.Aa || v.ae !== w.ae || v.S !== w.S || g(null !== (x=v.Aq) && void 0 !== x?x:[],null !== (y=w.Aq) && void 0 !== y?y:[]) || c(null !== (z=v.next) && void 0 !== z?z:{},null !== (A=w.next) && void 0 !== A?A:{})?!0:!1;}return v;});r=m.Ot(k,l.__spread(u,p,q));return {ztb:p,sP:q,Twb:u,O3b:r};};},function(t,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.NCa=void 0;c=a(4);g=a(243);l=a(922);m=a(419);t=(function(){function d(f){this.KDb=f;this.Bza=!1;this.Uba=new l.xfa();this.wx=new l.xfa();this.LRa=new m.wfa();}d.prototype.B5b=function(f,h){var n,p,q;function k(){var w,v,x,y,z,A;w=u.pop();v=q.get(w);x=v.Xu;y=v.ZM;v=v.state;if(!r.Uba.has(w)){r.Uba.add(w);x=h(w,y,x,v);z=x.Tba;A=x.state;p(w).forEach(function(B){var E,D;E=B.m5b;if(!n.Uba.has(E) && (B=y + B.weight,z))if(n.wx.has(E)){D=n.LRa.get(E);B < D.ZM && (D.ZM=B,D.Xu=w,D.state=A,u.LWb(E));}else (n.wx.add(E),q.set(E,{ZM:B,Xu:w,state:A}),u.push(E));});}}n=this;p=this.KDb;q=this.LRa;c.assert(!this.Bza);this.Bza=!0;this.Uba.clear();this.wx.clear();q.set(f,{ZM:0,state:{root:!1,complete:!0,H9a:0,qr:0}});for(var u=new g.u1([f],function(w,v){return q.get(w).ZM - q.get(v).ZM;}),r=this;!u.empty;){k();}this.Bza=!1;};return d;})();b.NCa=t;},function(t,b){var g,l,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.MNa);}function c(d){return (a(d)?d:Object.defineProperties(d,{MNa:{value:{},configurable:!1,enumerable:!1}})).MNa;}Object.defineProperties(b,{__esModule:{value:!0}});b.xfa=void 0;l=null !== (g=Number.MAX_SAFE_INTEGER) && void 0 !== g?g:1E9;m=Date.now() % l;t=(function(){function d(){this.Jaa=0;this.id=m=(m + 1) % l;}d.prototype.add=function(f){c(f)[this.id]=this.Jaa;return this;};d.prototype.has=function(f){return a(f) && c(f)[this.id] === this.Jaa;};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.Jaa=(this.Jaa + 1) % l;return this;};return d;})();b.xfa=t;},function(t,b,a){var g,l,m,d;function c(f){return {value:f.ib,parent:f.Xu};}Object.defineProperties(b,{__esModule:{value:!0}});b.oKa=void 0;g=a(9);l=a(25);m=a(4);d=a(924);t=(function(){function f(){this.Ib=new g.THa();this.et=new d.XMa();}Object.defineProperties(f.prototype,{empty:{get:function(){return this.Ib.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){return this.Ib.size;},enumerable:!1,configurable:!0}});f.prototype.reset=function(){var h;h=this.Ib.values();this.Ib.clear();this.et.clear();h.forEach(function(k){return k.sf();});};f.prototype.Zz=function(h){return this.Ib.get(h);};f.prototype.has=function(h){return this.Ib.has(h);};f.prototype.WV=function(h){this.et.WV(h);};f.prototype.Xoa=function(h){return this.et.parent(h);};f.prototype.HHb=function(h){return this.et.children(h);};f.prototype.Lpa=function(h){return this.et.Lpa(h);};f.prototype.$va=function(h){var k;if(this.Ib.delete(h.H.id,h)){k=this.et.children(h);this.et.root === h?0 === k.length?this.et.clear():(m.assert(1 === k.length,"cannot remove the root branch with multiple successors"),this.et.IYb(k[0])):(m.assert(0 === k.length,"cannot remove non-root branch with successors"),this.et.remove(h));}};f.prototype.forEach=function(h){var k;k=this;this.Ib.forEach(function(n,p){return h(n,p,k);});};f.prototype.reduce=function(h,k){var n;n=this;return this.Ib.reduce(function(p,q,u){return h(p,q,u,n);},k);};f.prototype.map=function(h){var k;k=this;return this.Ib.map(function(n,p){return h(n,p,k);});};f.prototype.filter=function(h){var k;k=this;return this.Ib.filter(function(n,p){return h(n,p,k);});};f.prototype.AKb=function(){var h;h={};this.forEach(function(k,n){var p;(k=k.qr) && (null !== (p=h[n]) && void 0 !== p?p:h[n]=[]).push(k.U);});return h;};f.prototype.$3b=function(h,k){var n;n=this;h=this.AQb(h,k).target;k=this.et.CXb(h.map(c));h=k.sP;k=k.t9a;h.forEach(function(p){return n.Ib.delete(p.H.id,p);});return {sP:h,t9a:k.map(function(p){return p.value;})};};f.prototype.AQb=function(h,k){var p,q;function n(u,r){(u=k(u.H.id,r)) && p.Ib.set(u.H.id,u);return u;}p=this;q=[];return {target:h.reduce(function(u,r,w){var v,x;m.assert(0 === w || r.Xu);if(r.Xu){x=null === (v=l.cSa(u,function(y){return y.ib.H.id === r.Xu;})) || void 0 === v?void 0:v.ib;if(!x)return (m.assert(void 0 !== l.he(q,function(y){return y.H.id === r.Xu;}),"predecessorSegmentId " + r.Xu + " specified without previously specifying predecessor requiredBranch."),q.push(r),u);}v=l.he(p.Zz(r.H.id),function(y){return p.et.parent(y) === x || 0 === w;});v=null !== v && void 0 !== v?v:n(r,x);v.dh=r.dh;u.push({ib:v,Xu:x});(null === v || void 0 === v?0:v.VN) && v.update(r.H);return u;},[])};};return f;})();b.oKa=t;},function(t,b,a){var g,l,m;function c(d){return 0 === d.length || void 0 === d[0].parent && d.every(function(f,h){return 0 === h || m.gq(d,function(k){return k.value === f.parent;}) < h;});}Object.defineProperties(b,{__esModule:{value:!0}});b.XMa=void 0;g=a(419);l=a(4);m=a(25);t=(function(){function d(){this.L=new g.wfa();}Object.defineProperties(d.prototype,{empty:{get:function(){return !this.mB;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{root:{get:function(){var f;return null === (f=this.mB) || void 0 === f?void 0:f.value;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{values:{get:function(){var f;f=[];this.WV(function(h){return ! !f.push(h);});return f;},enumerable:!1,configurable:!0}});d.prototype.has=function(f){return ! !this.L.get(f);};d.prototype.parent=function(f){var h;f=this.L.get(f);l.assert(f,"Attempted to find the parent of a node not in the tree");return null === (h=f.parent) || void 0 === h?void 0:h.value;};d.prototype.children=function(f){f=this.L.get(f);l.assert(f,"Attempted to find the children of a node not in the tree");return f.children?f.children.map(function(h){return h.value;}):[];};d.prototype.Lpa=function(f){f=this.L.get(f);l.assert(f,"Attempted to find the children of a node not in the tree");return void 0 !== f.children && 0 < f.children.length;};d.prototype.add=function(f,h){var k;l.assert(!this.L.get(f),"Attempted to add a value to tree that is already present");k={value:f};void 0 === this.mB?(l.assert(void 0 === h,"a parent cannot be specified when the tree is empty"),this.mB=k):(l.assert(void 0 !== h,"a parent must be specified when the tree is non-empty"),h=this.L.get(h),l.assert(h,"Parent value does not exist in tree"),this.oSa(k,h));this.L.set(f,k);return this;};d.prototype.remove=function(f){f=this.L.get(f);l.assert(f,"Attempted to remove a node not in the tree");this.removeNode(f);return this;};d.prototype.removeNode=function(f){var h;h=this;this.Jna(function(k){return h.L.delete(k);},f.value);void 0 === f.parent?this.mB=void 0:this.detach(f);};d.prototype.move=function(f,h){f=this.L.get(f);h=this.L.get(h);l.assert(f,"cannot move a value that is not in the tree");l.assert(h,"cannot move a value to a parent value not in the tree");l.assert(f.parent,"cannot move the root node");l.assert(!this.jNb(f,h),"cannot move a node below itself or one of its decendants");f.parent !== h && (this.detach(f),this.oSa(f,h));return this;};d.prototype.IYb=function(f){var h,k;h=this;f=this.L.get(f);l.assert(f,"cannot replant at a value that is not in the tree");k=[];this.detach(f);this.Jna(function(n){h.L.delete(n);k.unshift(n);return !0;});this.mB=f;};d.prototype.clear=function(){this.mB && this.remove(this.mB.value);return this;};d.prototype.mYa=function(f,h){var k,n;k=this;f=this.L.get(f);l.assert(f,"cannot iterate children of a value not in the tree");null === (n=f.children) || void 0 === n?void 0:n.forEach(function(p){return h(p.value,k);});};d.prototype.WV=function(f,h){var k;k=this;l.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.mB.value,f(h,this) && this.mYa(h,function(n){return k.WV(f,n);}));};d.prototype.Jna=function(f,h){var k;k=this;l.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.mB.value,this.mYa(h,function(n){return k.Jna(f,n);}),f(h,this));};d.prototype.CXb=function(f){var h,k,n;h=this;l.assert(c(f),"entries must be in topological order");if(0 === f.length){k=this.values;n=[];this.clear();}else (n=f.filter(function(p){return h.has(p.value) && p.parent !== h.parent(p.value);}),k=this.values.filter(function(p){return -1 === m.gq(f,function(q){return q.value === p;});}),this.clear(),f.forEach(function(p){return h.add(p.value,p.parent);}));return {sP:k,t9a:n};};d.prototype.oSa=function(f,h){var k;f.parent=h;(null !== (k=h.children) && void 0 !== k?k:h.children=[]).push(f);};d.prototype.detach=function(f){var h;l.assert(f.parent,"cannot detach the root");l.assert(void 0 !== f.parent.children,"logic error: parent node does not have children");h=f.parent.children.indexOf(f);l.assert(0 <= h,"logic error: node does not appear in the children of its parent");f.parent.children.splice(h,1);f.parent=void 0;};d.prototype.jNb=function(f,h){for(;void 0 !== h;){if(h === f)return !0;h=h.parent;}return !1;};return d;})();b.XMa=t;},function(t,b,a){var c,g,l,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cBa=void 0;c=a(2);g=c.__importDefault(a(6));l=a(16);m=a(9);d=a(21);f=a(4);h=a(86);k=a(67);t=(function(){function n(p,q,u,r,w,v,x){var y;y=this;void 0 === x && (x=500);this.I=p;this.config=q;this.Wb=u;this.events=r;this.Uma=w;this.Oe=v;this.Nvb=x;this.fva=this.Kl=0;this.s9=[];this.X5={bu:0};this.state=new m.Gr(l.Kc.lj);this.We=new m.Gr(l.ta.Ih);this.Gh=new h.Sv({NA:10,Sq:this,source:"BufferStateTracker",cja:function(){return {isBuffering:y.ug,alwaysRunUnderflowTimer:y.config.iM};}});}Object.defineProperties(n.prototype,{bu:{get:function(){return this.X5.bu;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ug:{get:function(){return l.hp(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.Jba=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(u){0 === u.mediaType && (q.cTa=c.__assign(c.__assign({},q.cTa),{audio:{trackId:u.trackId,trackIndex:u.UE}}));});};n.prototype.B6a=function(p){this.set(l.Kc.lj);this.yJ(p,l.Kc.xd);};n.prototype.f$=function(){this.X5.bu++;};n.prototype.gY=function(p){this.config.iM || void 0 === this.yA && this.ug && this.Gla();this.yA={LD:p.httpCode,wh:p.errorCode,Aj:p.nativeCode};};n.prototype.o$=function(){this.yA=void 0;this.config.iM || this.z5();};n.prototype.Dk=function(p){this.ug || (this.yJ(p,l.Kc.Rf),this.ug && (this.yA || this.config.iM) && this.Gla());};n.prototype.gUb=function(p,q){this.state.value !== l.Kc.xd && this.yJ(p,l.Kc.DS);this.Jba(q);};n.prototype.DTb=function(p,q){var u;u=this;this.config.Mvb && this.ug && (-1 === this.s9.indexOf(p) && this.s9.push(p),2 === this.s9.length && Promise.resolve().then(function(){u.ug && void 0 !== u.Ex && u.Te("memoryLimit",q.u_,q.v_);}));};n.prototype.y_b=function(p,q){f.assert(this.state.value === l.Kc.xd && void 0 === this.Ex);this.Ex=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.UE}),this.Jba(q));};n.prototype.L_b=function(p,q,u){f.assert(this.ug);this.Bqa=null !== p && void 0 !== p?p:this.Bqa;this.SW=null !== q && void 0 !== q?q:this.SW;void 0 === this.cO?this.cO=u:void 0 !== (null === u || void 0 === u?void 0:u.reason) && (this.cO.reason=u.reason);};n.prototype.Te=function(p,q,u){var r;f.assert(this.ug && void 0 !== this.Ex && void 0 === this.KG && void 0 === this.Oba && void 0 === this.P3);this.KG=p;this.Oba=q;this.P3=u;this.lq=100;this.Wka();this.z5();null === (r=this.Lka) || void 0 === r?void 0:r.Jb();this.state.value === l.Kc.Rf && (this.fva=g.default.time.ga());this.N5();this.set(l.Kc.mj);this.P3=this.Oba=this.KG=this.cO=this.SW=this.Bqa=this.Ex=void 0;};n.prototype.stop=function(){var p;this.set(l.Kc.lj);this.Wka();this.z5();null === (p=this.Lka) || void 0 === p?void 0:p.Jb();};n.prototype.Kka=function(p,q,u,r){var w,v,x,y,z,A,B,E,D,F;w=this;f.assert(this.ug);null === (v=this.Lka) || void 0 === v?void 0:v.Jb();if(this.state.value === l.Kc.Rf && g.default.time.ga() < this.fva + this.config.fta){z=this.config.fta - (g.default.time.ga() - this.fva);this.Lka=this.Oe.$U(k.Tk.aK(d.R.Oa(z)),function(){w.Kka(p,q,u,r);});}else {v=u.IN(0);A=u.IN(1);B=g.default.time.ga() - this.Kl;if(v || A){E=function(G){return G?G.VD() || G.xs()?r.Jka(w.state.value,p,B >= w.config.$A,q,G,w.bu):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=E(v);E=E(A);F=function(G){var C;return {reason:G.reason,complete:G.complete,bl:null !== (C=G.XC) && void 0 !== C?C:0};};this.Gh.rw({as:F(D),vs:F(E),bt:B});F=A?E:D;F.q5b=A && E.XC || 0;F.Iub=v && D.XC || 0;D.complete && E.complete?(F.complete=!0,this.Te(null !== (z=F.reason) && void 0 !== z?z:"unknown",null !== (x=F.q5b) && void 0 !== x?x:0,null !== (y=F.Iub) && void 0 !== y?y:0)):(F.complete=!1,this.cwb(F),this.Gh.rw({bp:this.lq}));}}};n.prototype.cwb=function(p){var q,u,r;r=p.progress;p.aE?r=(g.default.time.ga() - this.Kl) / this.config.$A:r || (r=(null !== (q=p.XC) && void 0 !== q?q:0) / this.config.zj);p=Math.min(Math.max(Math.round(100 * r),null !== (u=this.lq) && void 0 !== u?u:0),99);p != this.lq && (this.lq=p);};n.prototype.yJ=function(p,q){f.assert(q === l.Kc.xd || void 0 !== p);this.Ex=p;this.lq=0;this.b$=void 0;this.X5.bu=0;this.s9=[];p=this.state.value === l.Kc.xd || this.state.value === l.Kc.Rf;this.Kl=g.default.time.ga();this.set(q);p || (this.RDb(),this.h0b());};n.prototype.set=function(p){this.state.set(p);switch(p){case l.Kc.lj:this.We.set(l.ta.lj);break;case l.Kc.xd:case l.Kc.DS:this.We.set(l.ta.xd);break;case l.Kc.Rf:this.We.set(l.ta.Rf);break;case l.Kc.mj:this.We.set(l.ta.Lc);}};n.prototype.RDb=function(){f.assert(this.events && void 0 !== this.lq);this.b$=this.lq;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:g.default.time.ga(),percentage:this.lq});};n.prototype.h0b=function(){var p;p=this;this.Wka();this.ESb=this.Oe.$Ua(function(){return p.QDb();},d.R.Oa(this.Nvb),"buffering-notification");};n.prototype.Wka=function(){var p;null === (p=this.ESb) || void 0 === p?void 0:p.Jb();};n.prototype.QDb=function(){this.ug && this.events && void 0 !== this.lq && this.lq !== this.b$ && this.events.emit("buffering",{type:"buffering",time:g.default.time.ga(),percentage:this.lq}) && (this.b$=this.lq);};n.prototype.N5=function(){var p;f.assert(this.events && this.Ex && void 0 !== this.KG && void 0 !== this.P3 && void 0 !== this.Oba);this.b$=this.lq;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:g.default.time.ga(),actualStartPosition:this.Ex,reason:this.KG,aBufferLevelMs:this.P3,vBufferLevelMs:this.Oba,selector:this.Bqa,initBitrate:this.SW,initSelReason:null === (p=this.cO) || void 0 === p?void 0:p.reason,skipbackBufferSizeBytes:this.qfc},this.cTa));};n.prototype.Gla=function(){var p;p=this;this.config.Adb && (!this.FB || this.FB.state !== k.qn.complete && this.FB.state !== k.qn.XM?void 0 === this.FB && (this.FB=this.Oe.bH(function(){return p.Qcb();},"underflow")):this.FB.Tm());};n.prototype.z5=function(){this.FB && (this.FB.state !== k.qn.XM && this.FB.Jb(),this.FB=void 0);};n.prototype.Qcb=function(){var p,q,u;return c.__generator(this,function(r){switch(r.label){case 0:return (p=this.config.Z8,this.I.trace("BufferingStateTracker: starting underflow timer: " + p + "ms"),[4,k.Tk.aK(d.R.Oa(p))]);case 1:(r.xc(),r.label=2);case 2:if(!this.ug)return [3,4];q=this.Wb.OOb || 0;u=g.default.time.ga() - q;if(u >= p)return (this.I.trace("Forcing streaming failure, " + u + "ms since data received"),this.Uma.iUb(this.yA),[2]);this.I.trace("BufferingStateTracker: network activity, wait " + (p - u) + "ms");return [4,k.Tk.aK(d.R.Oa(p - u))];case 3:return (r.xc(),[3,2]);case 4:return [2];}});};c.__decorate([h.Rb({methodName:"onTemporaryNetworkError",el:!0})],n.prototype,"gY",null);c.__decorate([h.Rb({methodName:"onUnderflow",el:!0})],n.prototype,"Dk",null);c.__decorate([h.Rb({methodName:"bufferingComplete",el:!0})],n.prototype,"Te",null);c.__decorate([h.Rb({methodName:"stop",el:!0})],n.prototype,"stop",null);c.__decorate([h.Rb({methodName:"checkStreamingBufferingComplete",el:!0})],n.prototype,"Kka",null);c.__decorate([h.Rb({methodName:"createUnderflowTask",el:!0})],n.prototype,"Gla",null);c.__decorate([h.Rb({methodName:"destroyUnderflowTask",el:!0})],n.prototype,"z5",null);c.__decorate([h.Rb({methodName:"onUnderflowTimeout",el:!0})],n.prototype,"Qcb",null);return n;})();b.cBa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wXa=void 0;c=a(25);b.wXa=function(g,l){var m;m=[];g=g.filter(function(d){return d.VN;}).map(function(d){var f,h;f=l(d.P);h=c.Ot(f,d.fg).map(function(k){return k.mediaType;});m=c.e4(m,h);return {ib:d,fg:f};});return {Uwb:m,Gvb:g};};},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.MLa=void 0;c=a(2);g=a(21);l=a(4);b.MLa=(function(){function m(){}m.HKb=function(d){var f,h,k;if(d.Ah){d=c.__read(d.fg,2);k=d[1];d=null === (f=d[0].Cp) || void 0 === f?void 0:f.$i;f=null === (h=null === k || void 0 === k?void 0:k.Cp) || void 0 === h?void 0:h.$i;l.assert(d);h=f?g.R.min(d,f):d;return {y5b:d,A5b:h};}};return m;})();},function(t,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.WAa=void 0;c=a(18);g=a(9);l=a(67);m=a(20);d=a(16);t=(function(){function f(h,k,n,p,q,u){this.Oe=h;this.mt=k;this.config=n;this.qTb=p;this.Ff=q;this.console=u;this.Uga=new c.ii();}f.uHb=function(h){var k;return null !== (k=h.ye) && void 0 !== k?k:h.rE;};f.pIb=function(h){var k,n;k=h.H;n=h.OO;return k.Md?k.Md:n.length?n[0]:h.TA[0];};f.prototype.Fya=function(h,k){var n,p,q,u;n=this;q=h.H;this.reset();if(!(q.sv || 1 >= q.TA.length && (null === (p=q.zx) || void 0 === p || !p.length))){u=this.dwb(h);p=u.Nwa;k=k.lessThan(u.oMb);this.OZb(q,k?p:void 0);if(k)this.Uga.on(h.events,"branchEdited",function(){n.Fya(h,n.Oe.za.currentTime);});}};f.prototype.QTa=function(){var h;null === (h=this.IVa) || void 0 === h?void 0:h.Jb();this.IVa=void 0;};f.prototype.reset=function(){this.QTa();this.Uga.clear();};f.prototype.dwb=function(h){var k,n;h=f.uHb(h);k=g.R.Oa(this.config.hE);n=g.R.Oa(this.config.TRb + this.config.NX);k=h.Ka(k);return {oMb:d.hp(this.Ff.value)?h.Ka(n):k,Nwa:k};};f.prototype.OZb=function(h,k){var n;n=this;this.QTa();this.IVa=k?this.Oe.$U(l.Tk.FQ(k),function(){return n.V3a(h);},"scheduled branch decision"):this.mt.$U(l.Tk.G5b,function(){return n.V3a(h);},"immediate branch decision");};f.prototype.V3a=function(h){var k;this.Uga.clear();k=f.pIb(h);m.ia && this.console.trace("BranchDecisionMaker making decision for " + h.id + ", decision is " + k);this.qTb(h.id,k,!0);};return f;})();b.WAa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.RYa=void 0;c=a(930);b.RYa=function(g,l){return g.reduce(function(m,d){var f;f=l(d);d.Eq().forEach(function(h){return m.Tia(h.mediaType,h.Nt,!f);});return m;},new c.xKa());};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xKa=void 0;c=a(420);t=(function(){function g(){this.cs=new c.fS();this.pV=new c.fS();}Object.defineProperties(g.prototype,{total:{get:function(){var l;l=new c.fS();l.add(this.cs);l.add(this.pV);return l;},enumerable:!1,configurable:!0}});g.prototype.add=function(l){this.cs.add(l.cs);this.pV.add(l.pV);};g.prototype.Tia=function(l,m,d){(d?this.pV:this.cs).Tia(l,m);};return g;})();b.xKa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.X_a=void 0;b.X_a=function(a,c){return a.reduce(function(g,l){return g + l.O6(c).U;},0);};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.UUa=void 0;c=a(2);g=a(16);b.UUa=function(l){var h,k;function m(n){g.hp(n.newValue) && !g.hp(n.oldValue)?(null === k || void 0 === k?void 0:k.Jb(),k=h.$U.apply(h,c.__spread(d))):null === k || void 0 === k?void 0:k.Jb();}for(var d=[],f=1;f < arguments.length;f++){d[f - 1]=arguments[f];}f=l.Vf;h=l.mt;f.state.addListener(m);m({oldValue:g.Kc.lj,newValue:f.state.value});};},function(t,b,a){var g,l;function c(m,d){return Object.keys(m.tE).map(function(f){return m.tE[f];}).filter(function(f){return void 0 === f.JH || 1 === f.JH;}).reduce(function(f,h){return f + h.cs[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.pMa=void 0;g=a(16);l=a(20);t=(function(){function m(d,f,h){this.ma=d;this.console=f;this.zoa=h;}m.prototype.Bwb=function(d,f,h){var k,n,p,q;k=h && this.ma.config.U4b;n=this.ma.config.lza || k;p=this.zoa();if(k){k=d.global;k=(q={},q[0]=k[0] - c(d,0),q[1]=k[1] - c(d,1),q);}q=k;p=this.HTa(f) || this.fxb(d) || this.dxb(d,p,q) || this.exb(d,p,q,f);q=g.Nva(p);if(p && (!q || n))return (l.ia && this.console.log("canIssueRequest " + this.ma.id + " [" + f + "] static limit: " + (h + ", usage: " + JSON.stringify(d) + ", failed " + p)),{result:!1,reason:p});l.ia && this.console.log("canIssueRequest " + this.ma.id + " [" + f + "] static limit: " + (h + ", usage: " + JSON.stringify(d) + ", success " + p));return {result:!0,reason:p};};m.prototype.HTa=function(d){var f;f=this.ma.config.KA;if(this.ma.eIb(d) >= (f || Infinity))return "mediaDurationLimit";};m.prototype.fxb=function(d){return d.tE[this.ma.id].total.total > (this.ma.c7() || Infinity)?"playgraphMemoryLimit":void 0;};m.prototype.dxb=function(d,f,h){d=d.global;return h?h[0] + h[1] > (f.Xxa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (f.total.total || Infinity)?"globalMemoryLimit":void 0;};m.prototype.exb=function(d,f,h,k){var n;n=d.global;return h?(l.ia && this.console.log("checkRequestByMediaTypeMemory [" + k + "]: using static limit " + (f.Xxa[k] + ", usage: " + h) + (" (global: " + n[k] + "  - certain contiguous: ") + (c(d,k) + ")")),h[k] > (f.Xxa[k] || Infinity)?1 === k?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[k] > (f.total[k] || Infinity)?1 === k?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return m;})();b.pMa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qKa=void 0;t=(function(){function a(c){this.console=c;this.Qka();}a.prototype.get=function(c){return this.s5[c] || this.Zi[c];};a.prototype.set=function(c,g){void 0 === this.Zi[c] && (this.Zi[c]=g);};a.prototype.D_b=function(c,g){void 0 === this.get(c) && (this.s5[c]=g);};a.prototype.clear=function(c){this.s5[c]=void 0;this.Zi[c]=void 0;};a.prototype.Axb=function(c){var g;this.Zi=(g={},g[c]=this.Zi[c],g);this.s5={};};a.prototype.Qka=function(){this.Zi={};this.s5={};};return a;})();b.qKa=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tKa=b.tF=void 0;c=a(2);g=a(4);(function(m){m[m.Tca=0]="CREATED";m[m.Gfa=1]="STARTED";m[m.yS=2]="REQUEST_ISSUED";m[m.cy=3]="EVALUATED";m[m.lCa=4]="DESTRUCTED";})(l=b.tF || (b.tF={}));t=(function(){function m(d){this.Bx=d;this.Sc=l.Tca;this.NE={};this.VZ={};}Object.defineProperties(m.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});m.prototype.start=function(){var d;d=this;this.Sc !== l.Gfa && (this.HX(l.Gfa),[l.cy,l.yS].forEach(function(f){var h;h=new Promise(function(k){g.assert(d.VZ && d.NE,"state promises should be defined");d.VZ[f]=k;d.NE[f]=h;});}),this.Bx(),this.HX(l.cy));};m.prototype.HX=function(d){this.Sc=d;this.VZ && (d=this.VZ[d],null === d || void 0 === d?void 0:d());};m.prototype.Jb=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Sc !== l.Gfa)return [3,2];g.assert(this.NE,"state resolves should be defined");return [4,this.NE[l.cy]];case 1:(d.xc(),d.label=2);case 2:return (this.VZ=this.NE=void 0,this.Sc=l.lCa,[2]);}});});};m.prototype.Wba=function(d,f){c.__awaiter(this,void 0,void 0,function(){var h;return c.__generator(this,function(k){switch(k.label){case 0:if(this.Sc === l.lCa)return [2];if(this.Sc === l.cy)return [3,6];g.assert(this.NE,"state promises should be defined");h=d;switch(h){case l.cy:return [3,1];case l.yS:return [3,3];}return [3,5];case 1:return [4,this.NE[l.cy]];case 2:return (k.xc(),[3,6]);case 3:return [4,this.NE[l.yS]];case 4:return (k.xc(),[3,6]);case 5:return [3,6];case 6:return (null === f || void 0 === f?void 0:f(),[2]);}});});};return m;})();b.tKa=t;},function(t,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.qLa=void 0;c=a(2);g=a(4);l=c.__importDefault(a(6));m=a(86);d=a(9);t=(function(){function f(h,k){var r31,n;r31=2;for(;r31 !== 14;){switch(r31){case 8:var L3R="Reque";L3R+="stP";L3R+="ace";L3R+="r";var v3R="1";v3R+="S";v3R+="IYbZrNJCp9";v3R;this.Lq=new m.Sv({Sq:this,source:L3R,cja:function(){var s31;s31=2;for(;s31 !== 1;){switch(s31){case 2:return {numOutstanding:n.iG};break;}}},NA:10});r31=6;break;case 4:var G3R="me";G3R+="d";G3R+="ia|asejs";var l3R="ASEJS_";l3R+="REQU";l3R+="EST_P";l3R+="ACER";this.iG=0;this.console=new l.default.Console(l3R,G3R);this.Lwa=!1;r31=8;break;case 2:n=this;this.x8=h;this.config=k;r31=4;break;case 6:this.B9a=new d.d2();r31=14;break;}}}var q31;q31=2;for(;q31 !== 13;){switch(q31){case 2:Object.defineProperties(f.prototype,{aTb:{get:function(){var t31;t31=2;for(;t31 !== 1;){switch(t31){case 2:return this.iG;break;}}},enumerable:!1,configurable:!0}});f.prototype.$k=function(){var u31,k,h;u31=2;for(;u31 !== 9;){switch(u31){case 6:u31=+this.Lwa?8:10;break;u31=!this.Lwa?5:9;break;case 5:this.Lwa=!0;k=l.default.time.ga();return Promise.resolve().then(function(){var v31;v31=2;for(;v31 !== 5;){switch(v31){case 2:h.Lwa=!1;h.ITa(k);v31=5;break;}}});break;case 1:u31=!this.Lwa?5:9;break;case 2:h=this;u31=1;break;}}};q31=5;break;case 5:var M3R="$";M3R+="k";var Y3R="check";Y3R+="RequestOpportuni";Y3R+="ty";f.prototype.bz=function(h){var w31;w31=2;for(;w31 !== 4;){switch(w31){case 2:var j3R="More ";j3R+="than maxAllowedOut";j3R+="standingRequests are outstanding";this.Lq.rw({mediaType:h.mediaType,contentStartPts:h.gd,contentEndPts:h.Mc});this.iG++;g.assert(this.iG <= this.config.Y8,j3R);w31=4;break;}}};f.prototype.XI=function(h){var x31;x31=2;for(;x31 !== 3;){switch(x31){case 2:var b3R="re";b3R+="mo";b3R+="veReque";b3R+="st";var d3R="Received re";d3R+="move";d3R+=" request when the";d3R+="re are no requests outstandin";d3R+="g";this.Lq.rw({mediaType:h.mediaType,contentStartPts:h.gd,contentEndPts:h.Mc});this.iG--;g.assert(0 <= this.iG,d3R);this.$k(b3R);x31=3;break;}}};f.prototype.ITa=function(h){var y31,k,n,p;y31=2;for(;y31 !== 9;){switch(y31){case 1:this.B9a.push(n);y31=5;break;case 2:(k=this.config.Y8,n=l.default.time.ga() - h,p=0);y31=1;break;case 5:y31=this.iG < k && this.x8()?4:3;break;case 6:this.B9a.push(n);y31=1;break;y31=5;break;case 4:p++;y31=5;break;case 3:var I3R="requestOpp";I3R+="ortunity";I3R+="Runne";I3R+="rComplete";this.Lq.gU(I3R,{requestsIssued:p,scheduledMs:h,timeSinceScheduled:n},!0);y31=9;break;}}};c.__decorate([m.Rb({methodName:Y3R,el:!0,Oo:!0})],f.prototype,M3R,null);q31=8;break;case 8:var r3R="I";r3R+="T";r3R+="a";var D3R="check";D3R+="RequestOpportuni";D3R+="tyRunner";var O3R="X";O3R+="I";var q3R="re";q3R+="mov";q3R+="eRe";q3R+="que";q3R+="st";var E3R="b";E3R+="z";var Q3R="addR";Q3R+="e";Q3R+="qu";Q3R+="es";Q3R+="t";c.__decorate([m.Rb({methodName:Q3R,el:!0})],f.prototype,E3R,null);c.__decorate([m.Rb({methodName:q3R,el:!0})],f.prototype,O3R,null);c.__decorate([m.Rb({methodName:D3R,el:!0})],f.prototype,r3R,null);return f;break;}}})();b.qLa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FDa=void 0;c=a(56);t=(function(){function g(l){this.Wb=l;}Object.defineProperties(g.prototype,{th:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Rn=function(l){var m;if(l.bj === c.de.uq && this.Wb){l={};m=this.Wb.get();m && m.avtp && m.avtp.Ba && (l.avtp=m.avtp.Ba,l.dltm=m.avtp.H5);m && m.initialThroughput && m.initialThroughput.Ba && (l.initial_avtp=m.initialThroughput.Ba);m && m.cdnavtp && (l.cdnavtp=m.cdnavtp,l.activecdnavtp=m.activecdnavtp);if(m=this.Wb.f7())(m.bytesRequestedPacingVideo && (l.bytesRequestedPacingVideo=m.bytesRequestedPacingVideo,l.estimatedBytesPacedVideo=m.estimatedBytesPacedVideo,l.bytestotalVideo=m.bytestotalVideo,l.pacedAvtpVideo=m.pacedAvtpVideo),m.bytesRequestedPacingAudio && (l.bytesRequestedPacingAudio=m.bytesRequestedPacingAudio,l.estimatedBytesPacedAudio=m.estimatedBytesPacedAudio,l.bytestotalAudio=m.bytestotalAudio,l.pacedAvtpAudio=m.pacedAvtpAudio),m.pacedAvtp && (l.pacedAvtp=m.pacedAvtp));this.Wb.flush();if(m=this.Wb.EZa())for(var d in m){m.hasOwnProperty(d) && (l["ne" + d]=Number(m[d]).toFixed(6));}return l;}};return g;})();b.FDa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hMa=void 0;c=a(56);t=(function(){function g(l){l.events.on("streamSelection",this.bua.bind(this));}g.prototype.bua=function(l){0 === l.mediaType && void 0 === this.C1a?this.C1a=l:1 === l.mediaType && void 0 === this.E1a && (this.E1a=l);};Object.defineProperties(g.prototype,{th:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Rn=function(l){var m;if(l.bj === c.de.yp)return (l=null !== (m=this.E1a) && void 0 !== m?m:this.C1a,{histdiscbw:null === l || void 0 === l?void 0:l.result.Au,histage:null === l || void 0 === l?void 0:l.result.fp});};return g;})();b.hMa=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.BMa=void 0;t=a(2);c=a(18);g=a(20);l=t.__importDefault(a(6));a=(function(){function m(d){this.Oe=d;this.v2=[];this.reset();}Object.defineProperties(m.prototype,{th:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jx:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return g.ia;},enumerable:!1,configurable:!0}});m.prototype.reset=function(){var d,f;d=this;null === (f=this.wL) || void 0 === f?void 0:f.clear();this.wL=new c.ii();this.wL.on(this.Oe,"clockChanged",function(){d.reset();d.bW("initial");});this.wL.on(this.Oe,"stopping",function(){d.bW("stopping");});this.wL.on(this.Oe.za,"clockAdjusted",function(){d.bW("clockAdjusted");});this.wL.on(this.Oe.za,"stopStart",function(){d.bW("stopStart");});this.wL.on(this.Oe.za,"speedChanged",function(){d.bW("speedChanged");});};m.prototype.bW=function(d){this.v2.push({reason:d,audit:this.Oe.iHb(),time:l.default.time.ga()});5 < this.v2.length && this.v2.shift();};m.prototype.Rn=function(){return this.v2;};return m;})();b.BMa=a;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sLa=void 0;c=a(56);t=(function(){function g(l,m){this.Wb=l;this.C9a=m;}Object.defineProperties(g.prototype,{th:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Rn=function(l){var m;l=l.bj;if(l === c.de.uq || l === c.de.po || void 0 === l){l={numOutstandingRequests:this.C9a.aTb,requestOpportunityDelayStats:this.C9a.B9a};m=this.Wb.WQa;m && m.length && (l.activeRequests=JSON.stringify(m));return l;}};return g;})();b.sLa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IDa=void 0;t=(function(){function a(c){this.T5=c;this.jx="engine";this.enabled=!0;}Object.defineProperties(a.prototype,{th:{get:function(){return this.jx;},enumerable:!1,configurable:!0}});a.prototype.Rn=function(){var c;c=this.T5.QVb.map(function(g){var l;l=g.ma;return {id:l.id,weight:l.weight,relativeWeight:g.$Y};});return {prefetcher:this.T5.Yu.getStats(),playgraphs:c,viewables:this.T5.z5b,players:this.T5.O7a.length};};return a;})();b.IDa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.lEa=void 0;c=a(4);g=a(420);t=(function(){function l(){this.global=new g.fS();this.tE={};}l.prototype.add=function(m,d){c.assert(void 0 === this.tE[m],"Cannot add new memory object for playgraph");this.tE[m]=d;this.global.add(d.cs);this.global.add(d.pV);};return l;})();b.lEa=t;},function(t,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.FHa=void 0;c=a(2);g=a(20);l=a(410);m=a(86);t=(function(){function d(f,h,k){this.zoa=f;this.sIb=h;this.I=k;this.Gh=new m.Sv({Sq:this,console:k,source:"MemoryDeadlockProtector",NA:5});}d.prototype.EGb=function(f){var h,k,n,p;n=f.config;p=n.zj + (null !== (k=null === (h=n.WP) || void 0 === h?void 0:h.U) && void 0 !== k?k:0);h=this.jLb(p,f);g.ia && this.I.debug("MDP: has prebuf: " + h);return h?{B5:!0}:(k=this.nwb(n),h=k.BUb,k=k.c5b,h && k?(g.ia && this.I.debug("MDP: utilizing " + Math.round(100 * k) + "%"),k >= n.pRb?this.O9a(f,h):{B5:!0}):{B5:!1});};d.prototype.O9a=function(f,h){var k,n,p,q,u,w,y,z;this.Gh.rw({o:h});q=f.X;f=f.Ib;u=q.Ib;q=q.bI;for(var r=0;r < u.length;r++){if(!u[r].Il){q=u[r];u=u.slice(0,r + 1);break;}}r=!1;w=[{mediaType:0,YC:0},{mediaType:1,YC:0}];if(null === q || void 0 === q || !q.Il){f=f.map(function(B){return B;}).filter(function(B){return -1 === u.indexOf(B);}).sort(function(B,E){return l.tka(B) - l.tka(E);});try{for(var v=c.__values(f),x=v.next();!x.done;x=v.next()){y=x.value;z=y.uD();w[0].YC+=null !== (n=z.QC) && void 0 !== n?n:0;w[1].YC+=null !== (p=z.kt) && void 0 !== p?p:0;g.ia && this.I.debug("Resetting discontiguous branch " + y.H.id,z);y.reset();if(r=w.every(function(B){return B.YC >= h[B.mediaType].YC;}))break;}}catch(B){var A;A={error:B};}finally{try{x && !x.done && (k=v.return) && k.call(v);}finally{if(A)throw A.error;}}}return {B5:r,tcc:w};};d.prototype.nwb=function(f){var h,k,n,p;if(!f.qRb)return {};h=this.sIb();k=this.zoa().total;n=f.oRb;p=0;f=[0,1].map(function(q){var u;u=h[q] - k[q] * n;p=Math.max(0 < k[q]?h[q] / k[q]:0,p);return {YC:Math.max(0,u),mediaType:q};});return {c5b:p,BUb:f};};d.prototype.jLb=function(f,h){var k,n;k=!1;h=h.NH?h.X:void 0;if(null === h || void 0 === h?0:h.NMb){k=h.Bi.Eq().map(function(p){return p.mediaType;});n=h.KHb();k=k.every(function(p){var q,u;if(0 === p)p=null !== (q=n.Ur) && void 0 !== q?q:0;else if(1 === p)p=null !== (u=n.qo) && void 0 !== u?u:0;else throw Error("Unsupported media type:" + p);return p >= f;});}return k;};c.__decorate([m.Rb({methodName:"resetDiscontiguousBranches",return:!0,el:!0})],d.prototype,"O9a",null);return d;})();b.FHa=t;},function(t,b,a){var c,g,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.tAa=void 0;t=a(2);c=a(9);g=t.__importDefault(a(28));l=a(25);m=t.__importDefault(a(388));d=a(56);a=(function(){function f(h){var k,n;k=this;this.ma=h;this.Kw="aseReport";this.mTa=c.R.OD;this.Io=!1;if(0 === Math.floor(1E6 * Math.random()) % h.config.nM || h.config.rGb){this.mTa=c.R.Oa(h.config.g4);this.ma.oM=!0;n=[];n[g.default.Wa.Pb]=new m.default(h.config,g.default.Wa.Pb);n[g.default.Wa.Yb]=new m.default(h.config,g.default.Wa.Yb);this.ria=n;this.ma.events.on("openComplete",function(){return k.open();});}}f.prototype.open=function(){this.ma.oM && !this.Io && (this.Io=!0,this.ma.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.ma.events.on("streamSelection",this.bua.bind(this)));};f.prototype.bua=function(h){this.ria[h.mediaType].add(h.result,h.streamList);};f.prototype.npa=function(){var h;h=l.flatten(this.ria.map(function(k){return k.get();}).filter(function(k){return void 0 !== k;}));this.ria.forEach(function(k){return k.reset(!0);});return h;};f.prototype.tg=function(h){var k;k=h.bj;h=h.pNb;return this.ma.oM && this.Io && (h || k === d.de.uq) && (k=this.npa()) && k.length?{zab:!0,event:{type:"asereport",strmsel:k}}:{zab:!1,event:{type:"asereport",strmsel:[]}};};return f;})();b.tAa=a;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.MKa=void 0;c=a(2);g=a(18);l=a(16);m=a(9);d=a(946);f=a(25);h=a(4);k=a(947);n=a(20);p=a(99);q=a(948);u=c.__importDefault(a(6));r=a(217);w=a(949);v=a(950);x=a(951);y=a(258);z=a(953);A=a(954);t=(function(){function B(E,D,F,G,C){void 0 === G && (G=new v.CCa());void 0 === C && (C=new w.BCa());this.mXa=E;this.config=D;this.$8a=G;this.Rm=[];this.c8a=[];this.Rx=[];this.Xb={P2a:0,Q2a:0,M2a:0,lka:0,N2a:0,O2a:0,mka:0};this.events=new g.EventEmitter();this.I=m.Oq(u.default,F,"PREFETCH");this.nRa(new x.fCa(D));this.nRa(new A.QLa(D));this.O$a({RH:D.lWb});this.pxa(C);this.JMb();}Object.defineProperties(B.prototype,{mWb:{get:function(){return this.Rm.map(function(E){return E.context;});},enumerable:!1,configurable:!0}});B.prototype.hab=function(E){n.ia && h.assert(E,"Reconciliation strategy is undefined");this.$8a=E;return this;};B.prototype.nRa=function(E){this.c8a.unshift(E);};B.prototype.qab=function(E){n.ia && this.I.debug("Wish list changed",{jec:E.length});this.Rx=E;this.ova();};B.prototype.reset=function(){var E,G,C,H,K,M;if(this.config.uWb)try{for(var D=c.__values(this.Rm),F=D.next();!F.done;F=D.next()){G=F.value;C=G.ma;H=G.C8;K=G.context;if(C){C.sf();H.awa(function(Q){return "segmentNormalized" !== Q.Kw;});M=y.k7(K.Qd,C.ma);C.qB(M);}}}catch(Q){var I;I={error:Q};}finally{try{F && !F.done && (E=D.return) && E.call(D);}finally{if(I)throw I.error;}}else this.qab([]);};B.prototype.O$a=function(E){n.ia && this.I.debug("Budget changed",{sec:this.EU,iec:E});this.EU=E;this.ova();};B.prototype.uxb=function(E,D){var F,G,C,H,K;if(D=this.$8a.YXa(this.Rm,{ma:E,fj:D})){C=this.Rx.indexOf(D.context.Qd);n.ia && this.I.debug("Claiming item: " + y.cp(D.context.Qd.key),{pm:u.default.time.ga() - D.nba,buffer:null === (F=D.ma) || void 0 === F?void 0:F.Qh(m.R.eb)});this.bN(D.context,{qra:! !D.ma});if(D.ma){F=D.ma;H=D.context;K=D.Os;z.KKa.JYb(F,D.C8,this.I);E=y.k7(H.Qd,E);K.IZb(null !== (G=F.KH(E)) && void 0 !== G?G:m.R.eb,C);F.adb({RH:this.config.Ju || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:D.context.Qd,videoBytesBuffered:D.ma.Ow().kt,audioBytesBuffered:D.ma.Ow().QC});}}this.config.Qtb || this.reset();return null === D || void 0 === D?void 0:D.ma;};B.prototype.txb=function(){};B.prototype.getStats=function(){var E;E=u.default.time.ga();return {wishListLength:this.Rx.length,prefetchList:this.mWb.length,contents:this.Rm.map(function(D){var F,G,C,H,K;return {id:y.cp(D.context.Qd.key),buffer:null === (F=D.ma) || void 0 === F?void 0:F.Qh(m.R.eb),pId:null === (G=D.ma) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:D.context.L2a.RH},weight:D.context.Q$,age:E - D.nba,timeOpened:E - (null !== (C=D.K2b) && void 0 !== C?C:0),state:l.Kc[null !== (K=null === (H=D.ma) || void 0 === H?void 0:H.Ff.value) && void 0 !== K?K:l.Kc.lj]};}),aggregated:{itemsRequested:this.Xb.P2a,itemsStarted:this.Xb.Q2a,itemsClaimed:this.Xb.M2a,bytesClaimed:this.Xb.lka,itemsCompleted:this.Xb.N2a,itemsDiscarded:this.Xb.O2a,bytesDiscarded:this.Xb.mka}};};B.prototype.bN=function(E,D){var F;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var G,C,H,K,M,I;return c.__generator(this,function(Q){switch(Q.label){case 0:G=c.__assign({qra:!1,U2a:!1},D);C=G.qra;H=G.U2a;K=f.he(this.Rm,function(L){return L.context === E;});if(!K)return [3,3];this.Rm.splice(this.Rm.indexOf(K),1);H || (M=this.Rx.length,this.Rx=this.Rx.filter(function(L){return L !== E.Qd;}),n.ia && this.I.info("Dropping items from wishlist",M - this.Rx.length),this.Rx.length >= M && n.ia && this.I.warn("Unable to filter out wishlist item",this.Rx.map(function(L){return L.key;}),E.Qd.key));n.ia && this.I.debug("Dropping playgraph",{pm:u.default.time.ga() - K.nba,buffer:null === (F=K.ma) || void 0 === F?void 0:F.Qh(m.R.eb),S:y.cp(E.Qd.key),Qec:!C,icc:!H});if(C)return [3,2];I=this.fv(K);return K.ma?[4,I]:[3,2];case 1:(Q.xc(),Q.label=2);case 2:(this.ova(),Q.label=3);case 3:return [2];}});});};B.prototype.pxa=function(E){h.assert(E,"Playgraph resolver is undefined");this.Sua=E;return this;};B.prototype.JMb=function(){var E;E=this;this.events.on("prefetchComplete",function(){return E.Xb.N2a++;});this.events.on("prefetchStarted",function(){return E.Xb.Q2a++;});this.events.on("itemQueued",function(){return E.Xb.P2a++;});this.events.on("itemClaimed",function(D){var F,G;E.Xb.M2a++;E.Xb.lka+=(null !== (F=D.s5b) && void 0 !== F?F:0) + (null !== (G=D.Kub) && void 0 !== G?G:0);});this.events.on("itemDropped",function(D){var F,G;E.Xb.O2a++;E.Xb.mka+=(null !== (F=D.s5b) && void 0 !== F?F:0) + (null !== (G=D.Kub) && void 0 !== G?G:0);});};B.prototype.ova=function(){var E,D,F,G,C,H;E=this;D=d.KBa.eNb({S5b:this.Rx,LKb:this.EU},this.c8a.map(function(K){return K.qTa.bind(K);})).Rm;F=f.Ot(D,this.Rm,function(K,M){return y.isEqual(K.Qd.key,M.context.Qd.key);});G=f.Ot(this.Rm,D,function(K,M){return y.isEqual(K.context.Qd.key,M.Qd.key);});C=f.Ot(this.Rm,G);n.ia && this.I.debug("Re-evaluated prefetch items. new:" + F.length + ", evict: " + G.length + ", update: " + F.length);G=G.map(function(K){var M;M=K.context.Qd.key;n.ia && E.I.debug("Releasing playgraph",y.cp(M));return E.fv(K).then(function(){E.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:K.context.Qd});});});H=C.map(function(K){return c.__awaiter(E,void 0,void 0,function(){var M,I;return c.__generator(this,function(Q){switch(Q.label){case 0:(M=f.he(D,function(L){return y.isEqual(L.Qd.key,K.context.Qd.key);}),h.assert(M,"Couldn't find the requested item context"),K.context=M,Q.label=1);case 1:return (Q.bm.push([1,3,,4]),[4,K.P$]);case 2:return (I=Q.xc(),[3,4]);case 3:return (Q.xc(),[2]);case 4:return (f.he(this.Rm,function(L){return L === K;}) && (this.YRa(K.context,I),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:K.context.Qd})),[2]);}});});});F=F.map(function(K){var M;M=E.aBb(K);E.events.emit("itemQueued",{type:"itemQueued",wishListItem:K.Qd});return M;});this.Rm=c.__spread(C,F);C=F.map(function(K){return K.P$.catch(function(){});});C=G.concat(H).concat(C);Promise.all(C);};B.prototype.fv=function(E){var D;D=this;return E.P$.then(function(F){return c.__awaiter(D,void 0,void 0,function(){var G;return c.__generator(this,function(C){switch(C.label){case 0:return (n.ia && this.I.debug("Removing prefetch playgraph",{size:F.Qh(m.R.eb)}),E.a6.clear(),[4,this.mXa()]);case 1:return (G=C.xc(),G.fv(F),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:E.context.Qd,videoBytesBuffered:F.Ow().kt,audioBytesBuffered:F.Ow().QC}),[2]);}});});},function(){});};B.prototype.YAb=function(E){return c.__awaiter(this,void 0,void 0,function(){var D,F,G,C,H,K,M;M=this;return c.__generator(this,function(I){switch(I.label){case 0:return (D=E.context,F=y.cp(D.Qd.key),n.ia && this.I.debug("Creating playgraph",F),[4,this.Sua.i4a(D)]);case 1:return (G=I.xc(),[4,D.Qd.jj.Em(F).sr]);case 2:return (C=I.xc(),C.oa.Dw?(this.bN(D,{qra:!0}),[2,Promise.reject("contentPlaygraph viewable:" + F + " is not supported with prefetching")]):[4,this.mXa()]);case 3:return (H=I.xc(),K=H.CG(G,D.Q$,D.fj,D.Qd.jj,!1),E.a6.addListener(K.events,"error",function(Q){n.ia && M.I.debug("Prefetch playgraph resulted in error",Q.gcc);M.bN(D);}),[2,K]);}});});};B.prototype.mUb=function(E,D){return c.__awaiter(this,void 0,void 0,function(){var F,G,C,H,K,M;M=this;return c.__generator(this,function(I){switch(I.label){case 0:return (F=E.context,G=y.cp(F.Qd.key),C=F.Qd.jj.Em(G),[4,C.sr]);case 1:return (H=I.xc(),this.YRa(F,D),this.hub(F,D,! !H.Ie),D.open(),D.FE({Ss:function(Q,L){var J;J=Q.recommendedMedia;return J?f.gq(L,function(O){return O.new_track_id === J.Dn;}):f.gq(L,function(O){return O.track_id === Q.defaultTrackOrderList[0].audioTrackId;});}},{Ss:function(Q,L){var J;J=Q.recommendedMedia;return J?f.gq(L,function(O){return O.new_track_id === J.DQ;}):f.gq(L,function(O){return O.track_id === Q.defaultTrackOrderList[0].videoTrackId;});}}),D.qB(y.k7(F.Qd,D.ma)),K=function(Q){n.ia && M.I.debug("Viewable " + (Q?"superseded":"expired"),y.cp(E.context.Qd.key));E.xdc=!0;M.bN(E.context,{U2a:!Q});},C.events && (E.a6.addListener(C.events,"viewableEvicted",function(){K(!0);}),E.a6.addListener(C.events,"viewableExpired",function(){K(!1);})),C.hu && (n.ia && this.I.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.bN(E.context)),this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:E.context.Qd}),[2]);}});});};B.prototype.YRa=function(E,D){D.tdb(E.Q$);D.adb(E.L2a);};B.prototype.hub=function(E,D,F){var G;G=E.x1b;E=G.audio;G=G.video;F && G.push(new r.JK(this.I,D.config));D.Qaa(new p.At(E,!0),new p.At(G,!0));};B.prototype.aBb=function(E){var D,F,G;D=this;F=new k.LKa();G={context:E,nba:u.default.time.ga(),a6:new g.ii(),Os:F};G.P$=this.YAb(G).then(function(C){return c.__awaiter(D,void 0,void 0,function(){var H,K,M;K=this;return c.__generator(this,function(I){switch(I.label){case 0:return (H=C,H=null !== (M=H.qg) && void 0 !== M?M:C,C.rh(F),F.Dub(C),G.C8=new q.QDa(H.events,{C0b:function(Q){var L;L=Q.Kw;switch(L){case "buffering":return !1;case "bufferingStarted":G.C8.awa(function(J){return "bufferingComplete" === J.Kw || "updateStreamingPts" === J.Kw;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.C8.awa(function(J){return J.Kw === L;});default:return !0;}}}),H.events.on("bufferingComplete",function(){K.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:E.Qd});}),[4,this.mUb(G,C)]);case 1:return (I.xc(),G.K2b=u.default.time.ga(),G.ma=C,[2,C]);}});});});G.P$.catch(function(C){n.ia && D.I.error("Exception occurred creating playgraph",C);D.bN(G.context);});return G;};return B;})();b.MKa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KBa=void 0;b.KBa=(function(){function a(){}a.eNb=function(c,g){var d;function l(f){return m(d++)(f,l);}function m(f){return f >= g.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + f);}:g[f];}d=0;return l(c);};return a;})();},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.LKa=void 0;c=a(2).__importDefault(a(6));g=a(56);t=(function(){function l(){this.creationTime=c.default.time.ga();this.jc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}l.prototype.Dub=function(m){this.ma=m;};l.prototype.IZb=function(m,d){var f;m=null === (f=this.ma) || void 0 === f?void 0:f.Qh(m);this.jc={isPrefetchItem:!0,prefetchedVideoMs:m.v_,prefetchedAudioMs:m.u_,prefetchClaimDurationMs:c.default.time.ga() - this.creationTime,prefetchRank:d};};Object.defineProperties(l.prototype,{th:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.Rn=function(m){if(m.bj === g.de.yp)return this.jc;};return l;})();b.LKa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.QDa=void 0;c=a(2);t=(function(){function l(m,d){void 0 === d && (d={});this.xq=m;this.options=d;this.rH=[];this.UW=new g(m,this.etb.bind(this));}l.prototype.etb=function(m){for(var d,f,h,k,n,p,q=[],u=1;u < arguments.length;u++){q[u - 1]=arguments[u];}q={Kw:m,Oo:q};(null !== (h=null === (f=(d=this.options).C0b) || void 0 === f?void 0:f.call(d,q,this.rH)) && void 0 !== h?h:1) && this.rH.push(q);return null !== (p=null === (n=(k=this.options).mfc) || void 0 === n?void 0:n.call(k,q)) && void 0 !== p?p:!0;};l.prototype.awa=function(m){this.rH=this.rH.filter(function(d,f){return !m(d,f);});};l.prototype.kwa=function(){var m;m=this;this.UW.Scb();this.rH.forEach(function(d){var f;(f=m.xq).emit.apply(f,c.__spread([d.Kw],d.Oo));});this.UW.O1a();};Object.defineProperties(l.prototype,{length:{get:function(){return this.rH.length;},enumerable:!1,configurable:!0}});l.prototype.clear=function(){this.rH=[];};l.prototype.Jb=function(){this.UW.Scb();};return l;})();b.QDa=t;g=(function(){function l(m,d){var f;f=this;this.xq=m;this.JU=d;this.UW=function(h){for(var k,n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return f.JU.apply(f,c.__spread([h],n))?(k=f.I6a).call.apply(k,c.__spread([f.xq,h],n)):!1;};this.I6a=this.xq.emit;this.O1a();}l.prototype.O1a=function(){this.xq.emit=this.UW;};l.prototype.Scb=function(){this.xq.emit=this.I6a;};return l;})();},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.BCa=void 0;c=a(2);g=a(57);l=a(258);t=(function(){function m(){}m.prototype.i4a=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,h,k,n,p;return c.__generator(this,function(q){switch(q.label){case 0:f=d.Qd.key;if(!l.bX(f))return [3,2];h=f.S;k=d.Qd.jj.Em(h);return [4,Promise.resolve(k.sr)];case 1:return (n=q.xc(),p=n.oa,p.Fn?[2,g.wz(p.Fn,{config:n.config})]:[2,g.IE(h,"ps0")]);case 2:return [2,f.ma];}});});};return m;})();b.BCa=t;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.CCa=void 0;c=a(2);g=a(4);l=a(258);t=(function(){function m(){}m.cp=function(d){var f,h;f=d.V;d=d.Pd;h=f[d].S;Object.keys(f).forEach(function(k){return g.assert(f[k].S === h);});return f[d].S;};m.prototype.YXa=function(d,f){var h;h=Object.keys(f.ma.V).length;return c.__read(d.filter(function(k){var n,p;return m.cp(f.ma) === l.cp(k.context.Qd.key) && (1 === h || h === Object.keys(null !== (p=null === (n=k.ma) || void 0 === n?void 0:n.ma.V) && void 0 !== p?p:{}).length);}),1)[0];};return m;})();b.CCa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fCa=b.jCa=void 0;c=a(99);g=a(952);b.jCa=625E3;t=(function(){function l(m){this.config=m;}l.prototype.qTa=function(m){var d,f,h;d=this.config.u5;f=(this.config.P4a || this.config.t5) * b.jCa / 1E3;h=Math.floor(m.LKb.RH / f);return {Rm:m.S5b.sort(function(k,n){return k.priority - n.priority;}).slice(0,d).map(function(k,n){var p;p=k.key.config;return {L2a:{RH:n > h - 1?0:f},Qd:k,Q$:1,fj:p,x1b:{audio:[c.gD(p),new g.Nfa()],video:[c.hD(p),new g.Nfa()]}};})};};return l;})();b.fCa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Nfa=void 0;c=a(16);t=(function(){function g(){}g.prototype.Cm=function(l,m){return m === c.Kc.mj?[]:l;};return g;})();b.Nfa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KKa=void 0;c=a(20);b.KKa=(function(){function g(){}g.JYb=function(l,m,d){l.events.once("opening",function(){c.ia && d.log("Replaying " + m.length + " events from prefetched playgraph");m.kwa();m.Jb();});};return g;})();},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QLa=void 0;t=(function(){function a(c){this.config=c;}a.prototype.qTa=function(c,g){var l,m;l=this;c=g(c);m=c.Rm.map(function(d){return d.Qd.priority;}).sort();c.Rm.forEach(function(d){d.Q$=l.config.oWb / (2 << m.lastIndexOf(d.Qd.priority));});return c;};return a;})();b.QLa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BKa=void 0;t=(function(){function a(c){var g;g=this;c=c.$k;this.LH=function(){g.$k();};this.$k=c;}a.prototype.CG=function(c){c.events.on("requestsPruned",this.LH);};a.prototype.fv=function(c){c.events.removeListener("requestsPruned",this.LH);};return a;})();b.BKa=t;},function(t,b){function a(c,g,l,m){return c && g?Math.min(c - g * l,c - m):(c || Infinity) - m;}Object.defineProperties(b,{__esModule:{value:!0}});b.sTa=void 0;b.sTa=function(c,g){var l,m,d;m=a(g.audio,g.Dja,c.NUa,c.LUa);d=a(g.video,g.yza,c.NUa,c.MUa);return (l={},l[0]=m,l[1]=d,l.total=(g.total || Infinity) - c.LUa - c.MUa,l);};},function(t,b,a){var c,g,l,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DUa=void 0;c=a(2);g=a(414);l=a(958);m=a(959);d=a(961);f=a(151);b.DUa=function(h){var p,q,u,r,w,v;for(var k=[],n=1;n < arguments.length;n++){k[n - 1]=arguments[n];}n=c.__assign({Qlb:g.o0,mib:m.mEa},h);p=n.Qlb;n=n.mib;q=d.z6a(k[5],function(){return v;});k[5]=q.bJ;u=k[0];k=new (p.bind.apply(p,c.__spread([void 0],k)))();p=new l.dIa(k);w={ep:new n(u,p),qg:k,get zQ() {return r;},U5a:p};v=new d.YBa(w,q.R1b,f.sE.f$a.rZ);return r=f.sE.w8a(k,v,function(){return w;});};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dIa=void 0;c=a(2);t=(function(){function g(l){this.qa=l;this.b9a();}Object.defineProperties(g.prototype,{Y9:{get:function(){return this.bqb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ucb:{get:function(){return this.qa.ma;},enumerable:!1,configurable:!0}});g.prototype.b9a=function(){var l,m;l=this;m=this.qa.ma;this.bqb=c.__assign(c.__assign({},m),{V:new Proxy(m.V,{get:function(d,f){return (d=l.mJb(f))?d.H.kub():m.V[f];}})});};g.prototype.mJb=function(l){var m,d,k;d=this.qa.H6(l);try{for(var f=c.__values(d),h=f.next();!h.done;h=f.next()){k=h.value;if(k.Ah)return k;}}catch(p){var n;n={error:p};}finally{try{h && !h.done && (m=f.return) && m.call(f);}finally{if(n)throw n.error;}}if(n=c.__read(this.qa.X.Ib.filter(function(p){return p.H.id === l;}),1)[0])return n;};return g;})();b.dIa=t;},function(t,b,a){var c,g,l,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mEa=void 0;c=a(2);g=a(57);l=a(21);m=c.__importDefault(a(6));d=a(86);f=a(418);h=a(4);k=a(960);t=(function(){function n(p,q){this.yC=p;this.Dga=q;this.console=new m.default.Console("GRAPHLOCATIONSERVICE");this.Gh=new d.Sv({Sq:this,source:"GraphLocation",console:this.console});}n.prototype.$M=function(p){var q,u,r;this.console.trace("downConverting",p);q=this.yC;u=this.Dga;r=u.Y9;if(q === u.Ucb)return p;if(r.V[p.ha])return (this.console.warn("Received a down converted position unexpectedly",p),p);u=f.Pka(p,q);p=g.Rdb(q,r,{offset:u.N4.U,H:p.ha});return {offset:u.Wo.add(l.R.Oa(p.offset)),ha:p.H};};n.prototype.vQ=function(p){var q,u,r;this.console.trace("upConverting",p);q=this.yC;u=this.Dga;r=u.Y9;if(q === u.Ucb)return p;if(q.V[p.ha])return (this.console.warn("Received a up converted position unexpectedly",p),p);u=f.Pka(p,r);p=g.iUa(q,r,{offset:u.N4.U,H:p.ha});return {offset:u.Wo.add(l.R.Oa(p.offset)),ha:p.H};};n.prototype.PIb=function(p){var q;q=g.fZa(this.yC,this.Dga.Y9,{H:p.ha,offset:p.offset.U});q=k.b3a(q);h.assert(q,"Could not find any segments in the path of " + p);return q;};c.__decorate([d.Rb({methodName:"downConvertPosition",el:!0,Oo:!0,return:!0})],n.prototype,"$M",null);c.__decorate([d.Rb({methodName:"upConvertPosition",el:!0,Oo:!0,return:!0})],n.prototype,"vQ",null);return n;})();b.mEa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.b3a=void 0;b.b3a=function(a){var c,g;c=a.next();do {if(!c.done)g=c.value;c=a.next();}while(!c.done);return g;};},function(t,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.z6a=b.YBa=void 0;c=a(2);g=a(57);l=a(962);m=a(182);d=a(86);f=a(25);h=a(4);k=a(422);n=a(963);t=(function(){function p(q,u,r){var w;w=this;this.context=q;this.jUb=u;this.zZb=r;this.events=k.wla(function(){return w.context;},this.context.qg.events,this.zZb,n.Q7a);this.jUb(function(v){var x;x=v.ZE;return c.__awaiter(w,void 0,void 0,function(){var y;return c.__generator(this,function(z){switch(z.label){case 0:return [4,x];case 1:return (y=z.xc(),this.p8a(y),[2]);}});});});this.Py=q.qg.ma;this.hOa=new d.Sv({NA:10,Sq:this,source:"CphAsePlaygraph",console:q.qg.console});q.qg.rh(new l.ZBa(this));q.qg.rh(new m.Rv(this.hOa));q.qg.rh(new m.Rv(q.ep.Gh));}Object.defineProperties(p.prototype,{Ti:{get:function(){return this.WNa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{avb:{get:function(){var q,u;q=this;u=Object.keys(this.qg.ma.V);if(u=f.he(u,function(r){return ! !q.qg.ma.V[r].ei;}))return this.ma.V[this.qg.ma.V[u].ei].S;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Dw:{get:function(){return this.gOa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{qg:{get:function(){return this.context.qg;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ma:{get:function(){return this.Py;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ep:{get:function(){return this.context.ep;},enumerable:!1,configurable:!0}});p.prototype.lU=function(q){var u,r;r=this.context.qg.X;q.lab && q.lab(this.context);(q=this.context.qg.lU(null !== (u=q.Fqa) && void 0 !== u?u:q)) && r.WTa && r.WTa();return q;};p.prototype.p8a=function(q){var u,r,w,v,x;u=q.oa;r=u.Ti;w=u.Dw;r && !this.WNa && (this.WNa=r);if(w && !this.gOa){this.hOa.rw({applyingContentPlaygraph:!0});this.gOa=w;r=this.context.qg;v=r.ma;this.Py=r.ma;u=r.X;x=r.NH && u.Yf?u.Yi:r.HD?r.HP:void 0;r.config.Cza && this.xyb(q.oa) && u.GE(!0);r.sf(!0);q=g.X4a(v,w.ma);this.GB(q);x && (q=this.context.ep.$M(x),r.qB(q),u.resume());}};p.prototype.GB=function(q){q=this.context.qg.GB(q);this.context.U5a.b9a();return q;};p.prototype.xyb=function(q){var u,r;u=q.CSa;r=q.MH;return !(!u || !u.some(function(w){return w.MH !== r;}));};c.__decorate([d.Rb({methodName:"processViewableResponse"})],p.prototype,"p8a",null);return p;})();b.YBa=t;b.z6a=function(p,q){var u;u=[];return {bJ:function(r){var w,v,x,y;if((null === (w=q().Dw) || void 0 === w?void 0:w.Yab.S) === r){v=q().Dw;w=q().Ti;v=v.Yab.b1a;x=q().avb;h.assert(x,"did not receive parent viewable id");v={b1a:v,Ti:w,r4:{Ti:w,oY:x}};}y=p(r,v);u.forEach(function(z){return z({S:r,ZE:y.ZE});});return y;},R1b:function(r){u.push(r);}};};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ZBa=void 0;t=(function(){function a(c){this.Dw=c;this.jx="content-playgraph";this.enabled=!0;}Object.defineProperties(a.prototype,{th:{get:function(){return this.jx;},enumerable:!1,configurable:!0}});a.prototype.Rn=function(){return {contentPlaygraph:this.Dw.Dw};};return a;})();b.ZBa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Q7a=void 0;b.Q7a={"*":{yXa:["logdata"],rules:[{Wl:function(a){return a.Kza;}}]},segmentComplete:[{Wl:function(a){return a.Baa;}}],segmentStarting:[{Wl:function(a){return a.Baa;}}],serverSwitch:[{Wl:function(a){return a.Baa;}}],streamSelected:[{Wl:function(a){return a.Yf;}}]};},function(t,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.CUa=void 0;c=a(2);g=a(151);l=a(411);m=a(965);b.CUa=function(){var h;for(var d=[],f=0;f < arguments.length;f++){d[f]=arguments[f];}d=new (l.TQ.bind.apply(l.TQ,c.__spread([void 0],d)))();h=new m.XBa(d,g.sE.f$a.rZ);return g.sE.w8a(d,h,function(){return h.ura;});};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.XBa=void 0;c=a(422);g=a(966);t=(function(){function l(m,d){var f;f=this;this.Fqa=m;this.events=c.wla(function(){return f.ura;},this.Fqa.events,d,g.M7a);}l.prototype.WTa=function(){this.ura=void 0;};l.prototype.lab=function(m){this.ura=m;};return l;})();b.XBa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.M7a=void 0;b.M7a={"*":{yXa:["logdata"],rules:[{Wl:function(a){return a.Kza;}}]},segmentPresenting:[{Wl:function(a){return a.Kza;},config:{fr:["metrics"]}},{Wl:function(a){return a.Yf;}},{Wl:function(a){return a.Yf;},config:{fr:["metrics","srcStartPosition"]}},{Wl:function(a){return a.Yf;},config:{fr:["metrics","srcTransitionPosition"]}},{Wl:function(a){return a.Yf;},config:{fr:["metrics","destPosition"]}}],streamPresenting:[{Wl:function(a){return a.Yf;}}],segmentAppended:[{Wl:function(a){return a.Baa;}}]};},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.TLa=void 0;c=a(2);g=a(18);l=c.__importStar(a(10));m=a(16);d=a(219);f=a(16);h=a(9);k=a(4);n=a(21);p=a(220);q=a(56);u=a(99);r=a(86);w=a(182);v=c.__importDefault(a(6));x=a(217);y=a(968);z=a(969);A=0;t=(function(B){function E(D,F,G,C,H,K,M,I,Q,L,J){var O,N,P,S,U;S=B.call(this) || this;S.console=D;S.mp=F;S.wT=G;S.aM=H;S.SZ=K;S.Fw=I;S.X=L;S.config=J;S.Nr=!1;S.PS=!1;S.Or=void 0;S.Te=function(){var Z,ja,ya,ra,Y;null === (Z=S.nL) || void 0 === Z?void 0:Z.clear();Z=S.Knb;Y=S.Sqb;k.assert(Z);S.Ng && k.assert(Y);S.Gl.value !== f.ta.Ir && S.Gl.value !== f.ta.lj && (null !== (ja=S.Ja) && void 0 !== ja && ja.Yf?(ja=null === (ra=null === (ya=S.mp.Ia.Wb.get()) || void 0 === ya?void 0:ya.Ua) || void 0 === ra?void 0:ra.Ba,S.qa.A_("startplay",q.de.yp),S.uba.gU("emitBufferingComplete",{}),y.N5(S,Z,S.Ja.Xg,ja,Y,S.qa.oM)):S.console.error("Shim received buffering complete but player has no position (player " + (S.Ja?"":"un") + "defined, state " + S.Gl.value + ")"));};S.tU=function(){var Z,ja,ya;S.uba.gU("audioTrackSwitchComplete",{});k.assert(void 0 !== S.yn);ja=S.wT.audio_tracks[S.yn];ya=S.yn;S.yn=void 0;y.PWa(S,ja,ya);null === (Z=S.aY) || void 0 === Z?void 0:Z.call(S);S.aY=void 0;};k.assert(2 >= C.length,"Ase session shim suports a maximum of 1 parallel graph.");G=c.__read(C,2);D=G[0];G=G[1];S.Ni=new g.ii();S.S=D.ma.V[K[0].ha].S;S.Gl=new h.Gr(f.ta.Ih);S.KB=new u.UF(S.console);M.Ie && (S.l9=new x.JK(S.console,J));S.qa=D;S.Ng=G;C.forEach(function(Z){var ja,ya;ja=Z.hD(S.KB);S.l9 && (ja=new u.At([S.l9,ja]));ya=Z.gD();Z.Qaa(ya,ja);});S.Lbc=!1;S.fWa=!1;y.j4a(S.console,F,S,D,G);U=A++;S.uba=new r.Sv({Sq:S,source:"ShimSession",console:S.console,NA:50,cja:function(){return {shimId:U};}});S.qa.rh(new w.Rv(S.uba));S.Odb=void 0 !== (null === (P=null === (N=(O=S.X).pW) || void 0 === N?void 0:N.call(O)) || void 0 === P?void 0:P.Z);S.Dd=z.uSa(L);F=S.SUa({Cd:S.g4a(S.qa.ma.Cd),qW:S.e7.bind(S)});S.Ja=F;S.Ng && (S.Cj=S.SUa({Cd:S.g4a(S.Ng.ma.Cd),qW:S.e7.bind(S)}));S.Ja.events.on("segmentPresenting",function(){S.Or=S.NOa();});S.on("streamerend",function(){return S.D1b();});S.fab();return S;}c.__extends(E,B);Object.defineProperties(E.prototype,{K:{get:function(){return this.S;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{ca:{get:function(){return this.Fw.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{mediaSourceId:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{ah:{get:function(){return this.Ni;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{He:{get:function(){return {adc:{1:{Y:{La:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{QJ:{get:function(){return void 0 !== this.yn;},enumerable:!1,configurable:!0}});E.prototype.yPb=function(){var D,F,G,C,H;D=this;H=null === (C=null === (G=(F=this.X).pW) || void 0 === G?void 0:G.call(F)) || void 0 === C?void 0:C.Z;k.assert(H,"video element is not defined");H.addEventListener("play",function(){return D.LQa();});H.addEventListener("pause",function(){return D.ck();});};E.prototype.D1b=function(){this.mp.fq(!0,this.Fw.sessionId);};E.prototype.wQ=function(D,F){var G;this.qa.Gi((G={},G[D]=F,G));};E.prototype.open=function(){var D,F,G,C;D=this;if(!this.Nr){this.Nr=!0;this.mp.fq(this.config.Vr,this.Fw.sessionId);C=new Promise(function(H){setTimeout(H,0);}).then(function(){D.emit("openComplete",{type:"openComplete"});});this.qa.open();null === (F=this.Ng) || void 0 === F?void 0:F.open();this.qa.qB(this.SZ[0]);k.assert(this.Ja,"asePlayer should be defined on session.open");this.SZ[1] && (F=this.qa.iA(this.SZ[0]),k.assert(F,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (G=this.Ng) || void 0 === G?void 0:G.qB(this.SZ[1],F.In));y.h4a(this.mp,this,this.Ja,this.console);this.Gl.set(f.ta.xd);C.then(function(){D.ur(D.Te);});this.qa.lU(this.Ja);this.Ng && (k.assert(this.Cj,"parallelPlayer should be defined on session.open"),this.Ng.lU(this.Cj));this.Odb && this.yPb();}};E.prototype.e7=function(){this.yj || (this.yj=new v.default.MediaSource(this.Dd),this.yj.Rc || (this.yj.Rc=v.default.MediaSource.Rc));return this.yj;};E.prototype.SUa=function(D){void 0 === D && (D={});D=c.__assign({hE:this.config.hE,Oua:this.config.Oua},D);return this.mp.Ia.lRa(this.Dd,D);};E.prototype.g4a=function(D){return D?null === D || void 0 === D?void 0:D.map(function(F){return "video" === F?1:0;}):[0,1];};E.prototype.close=function(){this.Nr && (this.Nr=!1);this.mp.fq(!0,this.Fw.sessionId,!0);};Object.defineProperties(E.prototype,{FG:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});E.prototype.flush=function(){var D;this.Nr && this.Gl.value !== f.ta.lj && this.Gl.value !== f.ta.Ir && this.stop();this.qa.A_("endplay",q.de.uq);this.qa.sf();null === (D=this.Ng) || void 0 === D?void 0:D.sf();this.mp.Vh.save();this.mp.Xn.save();};E.prototype.paused=function(){this.Odb || this.ck();};E.prototype.ck=function(){this.Gl.value === f.ta.Lc && (this.Gl.set(f.ta.ph),this.Dd.emit("paused",{type:"paused",Fd:this.Dd.zc}));};E.prototype.LQa=function(){this.Gl.value === f.ta.ph && (this.Gl.set(f.ta.Lc),this.Dd.emit("playing",{type:"playing",Fd:this.Dd.zc}));};E.prototype.fd=function(){var D,F;this.Nr && this.Gl.value !== f.ta.lj && this.Gl.value !== f.ta.Ir && this.stop();this.mp.AYb(this);this.Nr && this.close();this.By && (clearInterval(this.By),this.By=void 0);null === (D=this.nL) || void 0 === D?void 0:D.clear();this.Ja && this.mp.Ia.rP(this.Ja);this.Cj && this.mp.Ia.rP(this.Cj);null === (F=this.yj) || void 0 === F?void 0:F.rq();};E.prototype.suspend=function(){};E.prototype.resume=function(){};E.prototype.play=function(){var D;D=this;this.qa.state !== d.Pj.CLOSED && (k.assert(this.Ja,"ShimSession.play(), expected asePlayer to exist."),this.Ja.resume(this.PS?[1]:void 0),this.Ng && (k.assert(this.Cj,"ShimSession.play(), expected parallelPlayer to exist."),this.Cj.resume(this.PS?[1]:void 0)),this.Gl.set(f.ta.Lc),this.Dd.emit("playing",{type:"playing",Fd:this.Dd.zc}),this.emit("play"),this.By || (this.By=setInterval(function(){return D.HSb();},this.config.tM)));};E.prototype.stop=function(){this.Gl.set(f.ta.Ir);k.assert(this.Ja,"ShimSession.stop(), expected asePlayer to exist.");this.Ja.pause();this.Ng && (k.assert(this.Cj,"ShimSession.stop(), expected parallelPlayer to exist."),this.Cj.pause());this.Dd.emit("paused",{type:"paused",Fd:this.Dd.zc});this.emit("stop");};E.prototype.Oz=function(D){var F,G,C,H;void 0 === F && (F=!0);this.Ja?(D=parseInt(D),l.isFinite(D) && (null === (G=this.l9) || void 0 === G?void 0:G.Kbb(),F?(this.Ja.GZ(D),null === (C=this.Cj) || void 0 === C?void 0:C.GZ(D)):(this.Ja.kxa(D),null === (H=this.Cj) || void 0 === H?void 0:H.kxa(D)))):this.fail("Must call open prior to drmReady");};E.prototype.B7=function(){var D;if(!this.Ja || !this.Ja.Yf)return !1;D=this.Ja.ip(this.qa.ma.V[this.Ja.Yi.ha].S);return D && this.Ng && this.Cj?this.Cj.ip(this.Ng.ma.V[this.Cj.Yi.ha].S):D;};E.prototype.po=function(){var D;null === (D=this.l9) || void 0 === D?void 0:D.Kbb();this.Gl.set(f.ta.Rf);this.Dd.emit("underflow",{type:"underflow",Fd:this.Dd.zc});this.ur(this.Te);};E.prototype.a7=function(D){var F;F=q.de.yp;switch(D){case "intrplay":F=q.de.po;break;case "endplay":F=q.de.uq;}D=this.qa.a7(F);return c.__assign(c.__assign({},D),{aseApiVersion:this.FG});};E.prototype.Lua=function(){this.Dd.emit("playbackRateChanged",{type:"playbackRateChanged",Fd:this.Dd.zc});};E.prototype.mo=function(){var D;D=this.Dd.Ue();D={type:"skipped",pts:n.R.Oa(D)};this.Dd.emit(D.type,D);return new p.SF(Promise.resolve()).Awa;};E.prototype.uka=function(D,F){var G;F=this.epa(F || 0,D);return null === (G=this.qa.Dm(F,D)) || void 0 === G?void 0:G.gd;};E.prototype.Xt=function(D,F){var G;G=new n.R(F,1E3);return (G=this.qa.qp(G,{Oab:!0,Nab:!0}))?this.qa.ma.V[G.ha].Aa + Number(G.offset.U.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + D + ", playerPts: " + F);};E.prototype.LM=function(D,F){D=this.epa(D || 0,F);D={ha:D,offset:new n.R(F - this.qa.ma.V[D].Aa,1E3)};return (D=this.qa.KH(D))?D.U:F;};E.prototype.b8=function(){var D,F,G;F={};G=null === (D=this.qa) || void 0 === D?void 0:D.Ow();D=this.Ng?this.Ng.Ow():G;G && (F.vbuflmsec=G.totalvbuflmsecs,F.vbuflbytes=G.vbuflbytes);D && (F.abuflmsec=D.totalabuflmsecs,F.abuflbytes=D.abuflbytes);return F;};E.prototype.L6=function(){return {Fe:0};};E.prototype.Tn=function(){var D,F;return null !== (D=this.Or) && void 0 !== D?D:(null === (F=this.Ja) || void 0 === F?0:F.C7())?this.NOa():{id:this.SZ[0].ha,Fe:0,gd:0,Mc:Infinity,oe:Infinity,zd:0};};E.prototype.NOa=function(){var D,F,G,C,H,K,M,I,Q;k.assert(this.Ja,"attempted to get presenting branch information with no player");k.assert(this.Ja.C7(),"attempted to get presenting branch information but player has no branches");K=this.Ja.Tn() || ({});M=K.H;I=K.Ge;Q=K.rE;K=K.Is;return {id:M.id,Fe:null !== (D=null === I || void 0 === I?void 0:I.U) && void 0 !== D?D:0,gd:null !== (F=null === M || void 0 === M?void 0:M.Mf.U) && void 0 !== F?F:0,Mc:null !== (G=null === M || void 0 === M?void 0:M.$i.U) && void 0 !== G?G:Infinity,oe:null !== (C=null === Q || void 0 === Q?void 0:Q.U) && void 0 !== C?C:Infinity,zd:null !== (H=null === K || void 0 === K?void 0:K.U) && void 0 !== H?H:0};};E.prototype.o9a=function(){this.nI("removeSession");};E.prototype.Rs=function(D,F){void 0 === F && (F=0);k.assert(!this.Ng,"Seeking with dual playgraphs not supported.");F=this.epa(F,D);this.mp.fq(this.config.Vr,this.Fw.sessionId);D={ha:F,offset:n.R.Oa(D - this.qa.ma.V[F].Aa)};this.Or=void 0;this.qa.qB(D);k.assert(this.Ja);this.Ja.resume();this.Gl.set(f.ta.xd);this.ur(this.Te);D=this.qa.waa(D);k.assert(D,"Valid position must be provided for seek");return D.offset.U;};E.prototype.seek=function(D,F){D=this.Xt(F,D);return this.Rs(D,F);};E.prototype.$r=function(D,F,G){var C,H;C=this.Tn().id;H=this.qa.JN(C,D);if(F){if(!H.Sdb)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (D + " for current segment: " + C)),!1);if(void 0 !== H.MO)return (this.qa.Ei(C,D,!1,F),H.MO === D);this.qa.Ei(C,D,!1,F);return !0;}if(void 0 !== H.MO)return (G || this.Rs(H.gd,0),!1);H.uM?(k.assert(this.Ja),this.Ja.reset(),this.qa.Ei(C,D,!1,F),this.Ja.resume(),this.Gl.set(f.ta.xd),this.ur(this.Te)):G || this.Rs(H.gd,0);return ! !H.uM;};E.prototype.hM=function(){this.nI("addManifest");};E.prototype.cU=function(){return this.nI("activateManifest");};E.prototype.p6a=function(){this.dOa();};E.prototype.jba=function(D){var F,G,C,H,K;F=this.Ng?this.Cj:this.Ja;G=D.Dn;k.assert(!this.Ng,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.yn)return !1;D=this.wT.audio_tracks;if(!D.some(function(M,I){if(M.track_id === G)return (C=M,H=I,!0);}))return !1;D=D[this.aM[0]];this.yn=H;K=null === F || void 0 === F?void 0:F.zB;K?this.dOa():(this.PS=!0,null === F || void 0 === F?void 0:F.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:D.language,oldNumChannels:D.channels,newLangCode:C.language,newNumChannels:C.channels,sourceBufferReset:K}));return !0;};E.prototype.gr=function(D,F){this.KB.gr(D,F);};E.prototype.Ui=function(D){return this.Ja?this.Ja.Ui(n.R.Oa(D)):!1;};E.prototype.Z5=function(){this.nI("evaluateQoE");};E.prototype.Yxa=function(){this.nI("stopBuffering");};E.prototype.yJ=function(){return this.nI("startBuffering");};E.prototype.U_a=function(){return this.nI("getStreamingStatistics");};E.prototype.fail=function(D){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:D,manifestIndex:0});};E.prototype.epa=function(D,F){return 0 !== D?this.fail("Unexpected manifestIndex: " + D + ", single viewable playback only supports manifestIndex: 0"):this.RV(F);};E.prototype.RV=function(D){var F,G,H,K,M,I,Q;F=this.qa.ma;G=[];k.assert(0 <= D,"contentPts must be 0 or greater for segmentId lookup");for(var C in F.V){H=F.V[C];K=H.Aa;H=H.Ca;M=D < Number(null !== H && void 0 !== H?H:Infinity);if(K <= D && M)G.push(C);else if((K=Math.min(Math.abs(D - K),Math.abs(D - H)),void 0 === I || K < I))(I=K,Q=C);}k.assert(1 >= G.length,"Overlapped segments detected in branching, this is not supported");D=G[0] || Q;k.assert(void 0 !== D,"segmentId from contentPts lookup failed");return D;};E.prototype.HSb=function(){var D,F;F=null === (D=this.qa) || void 0 === D?void 0:D.Ow();D=this.Ng?this.Ng.Ow():F;F && D && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:D.abuflbytes,vbuflbytes:F.vbuflbytes,totalabuflmsecs:D.totalabuflmsecs,totalvbuflmsecs:F.totalvbuflmsecs,currentBandwidth:F.currentBandwidth});};E.prototype.nI=function(D){return this.fail("Method not implemented " + D);};E.prototype.dOa=function(){k.assert(void 0 !== this.yn);this.aM[0]=this.yn;this.fab();this.ur(this.tU);};E.prototype.fab=function(){var D;D=this;this.Ng?(this.qa.FE({Ss:function(){}},{Ss:function(){return D.aM[1];}}),this.Ng.FE({Ss:function(){return D.aM[0];}},{Ss:function(){}})):this.qa.FE({Ss:function(){return D.aM[0];}},{Ss:function(){return D.aM[1];}});this.PS && ((this.Ng?this.Cj:this.Ja).resume([0]),this.PS=!1);};E.prototype.x_b=function(D){this.Knb=D;};E.prototype.S_b=function(D){this.Sqb=D;};E.prototype.ur=function(D){var F,G;F=this;D !== this.tU && void 0 !== this.yn?this.aY=D:(null === (G=this.nL) || void 0 === G?void 0:G.clear(),!this.Ng && this.Ja?this.nL=h.Gr.Fza([this.qa.Ff,this.Ja.eX],function(C){var H,K;C=c.__read(C,2);K=C[1];return C[0] === m.Kc.mj && (null === (H=F.Ja) || void 0 === H?void 0:H.Yf) && K.greaterThan(F.Ja.Xg);},this.TUa(D)):this.Ja && (this.nL=h.Gr.Fza([this.qa.Ff,this.Ja.eX,this.Ng.Ff,this.Cj.eX],function(C){var H,K,M,I,Q;C=c.__read(C,4);M=C[1];I=C[2];Q=C[3];return C[0] === m.Kc.mj && (null === (H=F.Ja) || void 0 === H?void 0:H.Yf) && M.greaterThan(F.Ja.Xg) && I === m.Kc.mj && (null === (K=F.Cj) || void 0 === K?void 0:K.Yf) && Q.greaterThan(F.Cj.Xg);},this.TUa(D))));};E.prototype.TUa=function(D){var F;F=this;return function(G){var C;G && (null === (C=F.nL) || void 0 === C?void 0:C.clear(),F.nL=void 0,Promise.resolve().then(D));};};c.__decorate([r.Rb({methodName:"updateChoiceMapEntry",Oo:!0})],E.prototype,"wQ",null);c.__decorate([r.Rb({methodName:"open"})],E.prototype,"open",null);c.__decorate([r.Rb({methodName:"close"})],E.prototype,"close",null);c.__decorate([r.Rb({methodName:"paused"})],E.prototype,"ck",null);c.__decorate([r.Rb({methodName:"unpaused"})],E.prototype,"LQa",null);c.__decorate([r.Rb({methodName:"cleanup"})],E.prototype,"fd",null);c.__decorate([r.Rb({methodName:"suspend"})],E.prototype,"suspend",null);c.__decorate([r.Rb({methodName:"resume"})],E.prototype,"resume",null);c.__decorate([r.Rb({methodName:"play"})],E.prototype,"play",null);c.__decorate([r.Rb({methodName:"stop"})],E.prototype,"stop",null);c.__decorate([r.Rb({Oo:!0,methodName:"drmReady"})],E.prototype,"Oz",null);c.__decorate([r.Rb({methodName:"underflow"})],E.prototype,"po",null);c.__decorate([r.Rb({methodName:"getLogdataReport"})],E.prototype,"a7",null);c.__decorate([r.Rb({methodName:"skipped"})],E.prototype,"mo",null);c.__decorate([r.Rb({methodName:"seekByContentPts"})],E.prototype,"Rs",null);c.__decorate([r.Rb({methodName:"seek"})],E.prototype,"seek",null);c.__decorate([r.Rb({methodName:"chooseNextSegment",Oo:!0})],E.prototype,"$r",null);c.__decorate([r.Rb({methodName:"onAudioTrackSwitchStarted"})],E.prototype,"p6a",null);c.__decorate([r.Rb({methodName:"switchTracks"})],E.prototype,"jba",null);return E;})(g.EventEmitter);b.TLa=t;},function(t,b,a){var l,m;function c(d,f,h){var k,n;k=Array.isArray(h)?h[0]:h;n=Array.isArray(h)?h[1]:h;f.on(k,function(p){d.emit(n,l.__assign(l.__assign({},p),{type:n}));});}function g(d,f,h,k){var n,p;f.events.once(d,function(q){(n=q) && p && k(n,p);});h.events.once(d,function(q){p=q;n && p && k(n,p);});}Object.defineProperties(b,{__esModule:{value:!0}});b.PWa=b.N5=b.h4a=b.j4a=void 0;l=a(2);m=a(20);b.j4a=function(d,f,h,k,n){var q;function p(u,r){c(h,u,r);}f=n?[k,n]:[k];[["aseReport","asereport"],["aseReportEnabled","asereportenabled"],"buffering","managerdebugevent","endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(u){return p(k.events,u);});n?(p(n.events,"initialAudioTrack"),g("streamerEnd",k,n,function(u){h.emit("streamerend",l.__assign(l.__assign({},u),{type:"streamerend"}));})):(p(k.events,["streamerEnd","streamerend"]),p(k.events,"initialAudioTrack"));k.events.on("logdata",function(u){h.emit("logdata",l.__assign(l.__assign({},u),{fields:l.__assign(l.__assign({},u.fields),{aseApiVersion:h.FG})}));});q=!0;k.events.on("bufferingStarted",function(u){h.QJ && q?q=!1:(h.uba.gU("bufferingStarted",{}),h.emit("bufferingStarted",u));});k.events.on("bufferingComplete",function(u){h.QJ?q=!0:h.x_b(u);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(u){h.QJ || h.S_b(u);});k.events.on("maxVideoBitrateChanged",function(u){h.emit("maxvideobitratechanged",l.__assign(l.__assign({},u),{type:"maxvideobitratechanged",vfc:u.streaming.U}));});k.events.on("error",function(u){u=l.__assign(l.__assign({},u),{manifestIndex:0});h.emit("error",u);});h.on("error",function(){});k.events.on("segmentComplete",function(u){h.emit("segmentComplete",{type:"segmentComplete",mediaType:u.mediaType,manifestIndex:0,segmentId:u.segmentId});});k.events.on("segmentNormalized",function(u){var r;r=Math.floor(u.viewableContentEnd.U);h.emit("maxPosition",{type:"maxPosition",index:0,endPts:r,maxPts:r,maxSeekPts:Math.floor(u.viewableEarliestContentEnd.U)});h.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:r,maxPts:r});});k.events.on("segmentStarting",function(u){h.emit("maxBitrates",{type:"maxBitrates",audio:u.maxBitrates.audio,video:u.maxBitrates.video});h.emit("segmentStarting",u);});f.forEach(function(u){u.events.on("serverSwitch",function(r){h.emit("serverSwitch",{type:"serverSwitch",segmentId:r.segmentId,mediatype:r.mediatype,server:r.server,reason:r.reason,location:r.location,bitrate:r.bitrate,confidence:r.confidence,throughput:r.throughput,oldserver:r.oldserver});});u.events.on("streamSelected",function(r){var w;w=u.iA(r.position);h.emit("streamSelected",{type:"streamSelected",nativetime:r.nativetime,mediaType:r.mediaType,streamId:r.streamId,manifestIndex:0,trackIndex:r.trackIndex,streamIndex:r.streamIndex,movieTime:w.In.U,bandwidth:r.bandwidth,longtermBw:r.longtermBw,rebuffer:r.rebuffer});});u.events.on("updateStreamingPts",function(r){var w;w=h.K;m.ia && d.trace("converting updateStreamingPts, movieId:",w);h.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:r.mediaType,manifestIndex:0,trackIndex:r.trackIndex,segmentId:r.position.ha,movieTime:Math.floor(r.completePlayerStreamingTimestamp.U)});});});};b.h4a=function(d,f,h,k){["managerdebugevent","segmentAppended","startEvent","logdata"].forEach(function(n){return c(f,h.events,n);});h.events.on("streamPresenting",function(n){var p,q;p=n.playerTimestamp.U;q=f.qa.iA(n.position);void 0 === q?k.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)):f.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(p),contentStartPts:Math.floor(q.In.U),mediaType:n.mediaType,manifestIndex:0,trackIndex:n.trackIndex,streamIndex:n.streamIndex});});h.events.on("segmentPresenting",function(n){var p,q,u;p=f.qa.iA(n.position);q=n.playerTimestamp.Ka(p.In);u=n.position.ha;f.fWa || (f.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:n.playerTimestamp.U,movieId:p.S.toString(),replace:!1,contentOffset:q.U}),f.fWa=!0);f.emit("segmentPresenting",{type:"segmentPresenting",segmentId:u,contentOffset:q.U,metrics:n.metrics});});h.events.on("ptsChanged",function(n){f.emit("ptschanged",n.initialTimestamp.U);f.Dd.emit("skipped");});};b.N5=function(d,f,h,k,n,p){var q;h=h.U;n=null !== n && void 0 !== n?n:f;d.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:! !p,hashindsight:!1,buffCompleteReason:f.reason,actualbw:k,initSelReason:null !== (q=f.initSelReason) && void 0 !== q?q:"unknown",bcVBufferLevelMs:f.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs}});d.emit("ptschanged",h);d.emit("bufferingComplete",{type:"bufferingComplete",time:f.time,actualStartPts:h,aBufferLevelMs:n.aBufferLevelMs,vBufferLevelMs:f.vBufferLevelMs,selector:f.selector,initBitrate:f.initBitrate,skipbackBufferSizeBytes:f.skipbackBufferSizeBytes});};b.PWa=function(d,f,h){d.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:f.track_id,trackIndex:h});};},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.uSa=void 0;t=a(2);c=a(18);g=t.__importDefault(a(126));l=a(9);b.uSa=function(m){if(m.jnb)return m;g.default(c.EventEmitter.prototype,m);Object.defineProperties(m,{jnb:{value:!0},zc:{get:function(){return new l.R(this.Ue(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.ap?this.ap():1,.01);}}});return m;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qyb={ix:["minInitVideoBitrate",-Infinity],bta:["minHCInitVideoBitrate",-Infinity],JA:["maxInitVideoBitrate",Infinity],MX:["minInitAudioBitrate",-Infinity],LX:["minHCInitAudioBitrate",-Infinity],xX:["maxInitAudioBitrate",Infinity],v9:["minAcceptableVideoBitrate",-Infinity],IX:["minAcceptableVMAF",0],FRb:["minAcceptableVMAFRebufferScalingFactor",0],ata:["minAllowedVideoBitrate",-Infinity],CQb:["maxAllowedVideoBitrate",Infinity],pI:["minAllowedVmaf",-Infinity],p4a:["maxAllowedVmaf",Infinity],fQ:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],R5:["enableResolutionVMAFStreamFilter",!1],Aua:["percentCapTitlesForResolutionVMAFStreamFilter",100],qaa:["resolutionVMAFCappingRuleList",[]],d1a:["ignoreUserFilterOnEmptyResult",!0],qI:["minRequiredBuffer",2E4],D9:["minRequiredAudioBuffer",0],zj:["minPrebufSize",5800],z9:["minCheckBufferingCompleteInterval",200],Q5:["enableMoreFrequentBufferingCompleteCheck",!1],fta:["minimumBufferingCompleteInterval",1E4],laa:["requireDownloadDataAtBuffering",!1],u1a:["indicatorForDownloadDataAtBuffering","oncomplete"],maa:["requireSetupConnectionDuringBuffering",!1],Pva:["rebufferingFactor",1],Es:["maxBufferingTime",2E3],pza:["useMaxPrebufSize",!0],dE:["maxPrebufSize",4E4],Hsa:["maxRebufSize",Infinity],uFb:["fastRebufferRecoveryThreshold",Infinity],tFb:["fastRebufferRecoverBwThrehold",3E3],V7:["initialBitrateSelectionCurve",null],z1a:["initSelectionLowerBound",-Infinity],A1a:["initSelectionUpperBound",Infinity],l_:["throughputPercentForAudio",15],Pja:["bandwidthMargin",0],Rja:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],GSa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,uz:76376,scale:18862.4,gamma:3.0569}],Qja:["bandwidthMarginContinuous",!1],HSa:["bandwidthMarginForAudio",!0],pya:["switchConfigBasedOnInSessionTput",!0],mla:["conservBandwidthMargin",20],UU:["conservBandwidthMarginTputThreshold",6E3],nla:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],Jbb:["switchAlgoBasedOnHistIQR",!1],QE:["switchConfigBasedOnThroughputHistory","iqr"],Gsa:["maxPlayerStateToSwitchConfig",-1],hsa:["lowEndMarkingCriteria","iqr"],Nda:["IQRThreshold",.5],cqa:["histIQRCalcToUse","simple"],Rt:["bandwidthManifold",{curves:[{min:.05,max:.82,uz:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,uz:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Ju:["maxTotalBufferLevelPerSession",0],P0a:["highWatermarkLevel",3E4],qcb:["toStableThreshold",3E4],rba:["toUnstableThreshold",0],Jxa:["skipBitrateInUpswitch",!1],Hza:["watermarkLevelForSkipStart",8E3],Xpa:["highStreamRetentionWindow",9E4],isa:["lowStreamTransitionWindow",51E4],Zpa:["highStreamRetentionWindowUp",5E5],ksa:["lowStreamTransitionWindowUp",1E5],Ypa:["highStreamRetentionWindowDown",6E5],jsa:["lowStreamTransitionWindowDown",0],Wpa:["highStreamInfeasibleBitrateFactor",.5],CA:["lowestBufForUpswitch",9E3],Q8:["lockPeriodAfterDownswitch",15E3],msa:["lowWatermarkLevel",15E3],DA:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],nsa:["lowestWaterMarkLevelBufferRelaxed",!1],Psa:["mediaRate",1.5],g9:["maxTrailingBufferLen",15E3],nU:["audioBufferTargetAvailableSize",262144],L_:["videoBufferTargetAvailableSize",1048576],J4a:["maxVideoTrailingBufferSize",8388608],r4a:["maxAudioTrailingBufferSize",393216],i6:["fastUpswitchFactor",3],KXa:["fastUpswitchFactorWithoutHeaders",3],ina:["fastDownswitchFactor",3],KA:["maxMediaBufferAllowed",27E4],aec:["minMediaBufferLen",1E4],Hxa:["simulatePartialBlocks",!0],Gab:["simulateBufferFull",!0],ola:["considerConnectTime",!0],lla:["connectTimeMultiplier",1],N3a:["lowGradeModeEnterThreshold",12E4],O3a:["lowGradeModeExitThreshold",9E4],t4a:["maxDomainFailureWaitDuration",3E4],q4a:["maxAttemptsOnFailure",18],AXa:["exhaustAllLocationsForFailure",!0],z4a:["maxNetworkErrorsDuringBuffering",20],Z8:["maxBufferingTimeAllowedWithNetworkError",6E4],iM:["alwaysRunUnderflowTimer",!0],IXa:["fastDomainSelectionBwThreshold",2E3],Wbb:["throughputProbingEnterThreshold",4E4],Xbb:["throughputProbingExitThreshold",34E3],B3a:["locationProbingTimeout",1E4],QXa:["finalLocationSelectionBwThreshold",1E4],Ubb:["throughputHighConfidenceLevel",.75],Vbb:["throughputLowConfidenceLevel",.4],Tra:["locationStatisticsUpdateInterval",6E4],NPb:["locationSelectorPersistFailures",!0],bXa:["enablePerfBasedLocationSwitch",!1],Fdc:["maxRateMaxFragmentGroups",4500],Gua:["pipelineScheduleTimeoutMs",2],LA:["maxPartialBuffersAtBufferingStart",2],MRb:["minPendingBufferLen",3E3],e9:["maxPendingBufferLen",6E3],qEb:["enableNginxRateLimit",!1],W9:["nginxSendingRate",4E4],uEb:["enableRequestPacingToken",!1],lRb:["mediaRequestPacingSpeed",2],zqa:["initialMediaRequestToken",2E4],X8:["maxActiveRequestsSABCell100",2],B4a:["maxPendingBufferLenSABCell100",500],M9a:["resetActiveRequestsAtSessionInit",!0],Hma:["enableCprAudio",!1],Ima:["enableCprVideo",!1],XTa:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],o1b:["staticPacingRateKbps",0],FUb:["paceRateSelectorAlgorithm","default"],aXa:["enablePaceReportLogging",!1],S3b:["unpacedFragmentInterval",0],kMb:["ignorePacedRequestsThroughput",!1],jMb:["ignoreInferredPacedRequestsThroughput",!1],t$:["pacedThresholdPct",.1],hYb:["regressionAlgoPacingCoefficients",[{playerStates:[0,1],bufferLevelMs:0,coefficients:{offset:1E5}},{playerStates:[],bufferLevelMs:0,coefficients:{maxAverageBitrate:2}},{playerStates:[],bufferLevelMs:3E4,coefficients:{selectedAverageBitrate:1}}]],XWa:["enableInitialTputLogging",!1],hEb:["enableInitialThroughputHistory",!1],Isa:["maxStreamingSkew",2E3],GQb:["maxBufferOccupancyForSkewCheck",Infinity],I4b:["useBufferOccupancySkipBack",!0],Esa:["maxPendingBufferPercentage",10],E4a:["maxRequestsInBuffer",120],D7:["headerRequestSize",4096],Xma:["estimateHeaderSize",!0],Occ:["headerCacheEstimateHeaderSize",!1],xI:["neverWipeHeaderCache",!1],T4b:["useSidxInfoFromManifestForHeaderRequestSize",!1],JXa:["fastPlayHeaderRequestSize",0],AO:["maxRequestSize",0],GO:["minRequestSize",65536],JX:["minBufferLenForHeaderDownloading",1E4],Mab:["smartHeaderPreDownloading",!1],YDb:["enableAllHeadersPreDownloading",!1],wec:["onlyAllowPtsUpdatePolling",!1],NRb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],nZ:["reserveForSkipbackBufferMs",15E3],Hta:["numExtraFragmentsAllowed",2],Tq:["pipelineEnabled",!0],zO:["maxParallelConnections",3],Q4b:["usePipelineForAudio",!1],P4b:["usePipelineDetectionForAudio",!1],Pab:["socketReceiveBufferSize",0],m4:["audioSocketReceiveBufferSize",32768],CQ:["videoSocketReceiveBufferSize",65536],Kdb:["usePipelineDetectionForVideo",!1],RRb:["minVideoSocketReceiveBufferSize",65536],Upa:["headersSocketReceiveBufferSize",32768],r0b:["shareDownloadTracks",!0],s0b:["shareOpenRangeTracks",!1],UCb:["disableHeaderDownloadTracks",!1],dta:["minTimeBetweenHeaderRequests",void 0],Iba:["updatePtsIntervalMs",1E3],bka:["bufferTraceDenominator",0],tM:["bufferLevelNotifyIntervalMs",2E3],gya:["streamingStatusIntervalMs",2E3],$A:["prebufferTimeLimit",6E4],y9:["minBufferLevelForTrackSwitch",2E3],sEb:["enablePenaltyForLongConnectTime",!1],yua:["penaltyFactorForLongConnectTime",2],fsa:["longConnectTimeThreshold",200],aja:["additionalBufferingLongConnectTime",2E3],bja:["additionalBufferingPerFailure",8E3],XY:["rebufferCheckDuration",6E4],ZWa:["enableLookaheadHints",!1],K3a:["lookaheadFragments",2],Rz:["enableOCSideChannel",!0],jva:["probeRequestTimeoutMilliseconds",3E4],Kec:["probeRequestConnectTimeoutMilliseconds",8E3],E1:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],vEb:["enableSCByteRangeHints",!1],ddb:["updateDrmRequestOnNetworkFailure",!0],s4a:["maxDiffAudioVideoEndPtsMs",1E3],nCb:["deferAseHeaderCache",!1],SVa:["deferAseScheduling",!1],bcb:["timeBeforeEndOfStreamBufferMark",6E3],b9:["maxFastPlayBufferInMs",2E4],JQb:["maxFastPlayContentTimeThresholdMs",112E3],Csa:["maxFastPlayBitThreshold",2E8],Asa:["maxBufferingCompleteBufferInMs",Infinity],Mvb:["bufferingCompleteOnMemoryLimit",!1],w9:["minAudioMediaRequestSizeBytes",0],F9:["minVideoMediaRequestSizeBytes",0],EQb:["maxAudioMediaRequestSizeBytes",Infinity],WQb:["maxVideoMediaRequestSizeBytes",Infinity],NQb:["maxMediaRequestSizeBytesInFraction",1],hx:["minAudioMediaRequestDuration",0],QA:["minVideoMediaRequestDuration",0],B9:["minMediaRequestDuration",0],DQb:["maxAudioMediaRequestDuration",Infinity],VQb:["maxVideoMediaRequestDuration",Infinity],c9:["maxMediaRequestDuration",Infinity],hja:["allowFirstRequestAggregation",!1],IRb:["minAudioMediaRequestDurationCache",0],PRb:["minVideoMediaRequestDurationCache",0],pEb:["enableMultiFragmentRequest",!1],Fdb:[["useHeaderCache","usehc"],!0],nza:[["useHeaderCacheData","usehcd"],!0],u5:["defaultHeaderCacheSize",4],OVa:["defaultHeaderCacheDataCount",4],t5:["defaultHeaderCacheDataPrefetchMs",0],xLb:["headerCacheMaxPendingData",6],Pcc:["headerCachePriorityLimit",5],J0a:["headerCacheAdoptBothAV",!1],R4b:["usePipelineForBranchedAudio",!0],oxb:["childBranchBatchedAmount",1E4],hE:["minimumTimeBeforeBranchDecision",2E3],TRb:["minimumAppendedMediaBeforePlayback",5E3],Cec:["parallelBranchesDuringBuffering",!1],QQb:["maxRequestsToAttachOnBranchActivation",void 0],NX:["minimumJustInTimeBufferLevel",3E3],iEb:["enableJustInTimeAppends",!1],URa:["appendPacingFactor",0],dub:["appendPacingThreshold",3E3],VWa:["enableDelayedSeamless",!1],jbc:["branchEndPtsIntervalMs",250],lMb:["ignorePtsJustBeforeCurrentSegment",!1],v4a:["maxFragsForFittableOnBranching",300],YUb:["pausePlaylistAtEnd",!0],Tsb:["adaptiveParallelTimeoutMs",1E3],gN:["enableAdaptiveParallelStreaming",!1],aka:["bufferThresholdToSwitchToSingleConnMs",45E3],$ja:["bufferThresholdToSwitchToParallelConnMs",35E3],VDb:["enableAPSForBranching",!1],Yba:["waitForPendingConnAdaptation",!1],qta:["networkFailureResetWaitMs",2E3],pta:["networkFailureAbandonMs",6E4],f9:["maxThrottledNetworkFailures",5],lba:["throttledNetworkFailureThresholdMs",200],lsa:["lowThroughputThreshold",400],cna:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],I2b:["timeAtEachBitrateRoundRobin",1E4],wZb:["roundRobinDirection","forward"],WLb:["httpsConnectErrorAsPerm",!1],u5a:["mp4ParsingInNative",!1],vi:["enableManagerDebugTraces",!1],$3a:["managerDebugMessageInterval",1E3],Z3a:["managerDebugMessageCount",20],a6a:["notifyManifestCacheEom",!0],AEb:["enableUsingHeaderCount",!1],Rab:["sourceBufferInOrderAppend",!0],BE:["requireAudioStreamToEncompassVideo",!1],CRa:["allowAudioToStreamPastVideo",!1],RUa:["countGapInBuffer",!1],DRa:["allowCallToStreamSelector",!1],ZSa:["bufferThresholdForAbort",2E4],cya:["ase_stream_selector","optimized"],qSa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],xqa:["initBitrateSelectorAlgorithm","default"],gka:["bufferingSelectorAlgorithm","default"],A1b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],dXa:["enableThroughputTraceResearchData",!1],Ybb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Ax:["researchEnvironmentEnabled",!1],xEb:["enableStreamSelectionAugmentData",!1],Wub:["augmentDataNumOfChunks",30],EVa:["ase_ls_failure_simulation",""],Sla:["ase_dump_fragments",!1],Ula:["ase_location_history",0],FVa:["ase_throughput",0],HVa:["ase_simulate_verbose",!1],fh:["stallAtFrameCount",void 0],Vab:["stallAtFrameCountAudio",void 0],xsa:["marginPredictor","simple"],Adb:["useBackupUnderflowTimer",!0],ySb:["noDuplicateUnderflowTimer",!1],Wfc:["useManifestDrmHeader",!0],Xfc:["useOnlyManifestDrmHeader",!0],rta:["networkMeasurementGranularity","video_location"],pSb:["netIntrStoreWindow",36E3],hec:["minNetIntrDuration",8E3],Hob:["fastHistoricBandwidthExpirationTime",10368E3],gpb:["bandwidthExpirationTime",5184E3],Gob:["failureExpirationTime",86400],QPa:["historyTimeOfDayGranularity",4],Dob:["expandDownloadTime",!0],Rpb:["minimumMeasurementTime",500],Qpb:["minimumMeasurementBytes",131072],hrb:["throughputMeasurementTimeout",2E3],grb:["initThroughputMeasureDataSize",262144],Apb:["historicBandwidthUpdateInterval",2E3],Ppb:["minimumBufferToStopProbing",1E4],Qac:["throughputPredictor","ewma"],Qwa:["secondThroughputEstimator","slidingwindow"],r$a:["secondThroughputMeasureWindowInMs",3E5],Pac:["throughputMeasureWindow",5E3],Rac:["throughputWarmupTime",5E3],Oac:["throughputIQRMeasureWindow",1E3],Aac:["IQRBucketizerWindow",15E3],w4a:["maxIQRSamples",100],i5a:["minIQRSamples",5],Lac:["connectTimeHalflife",10],Fac:["responseTimeHalflife",10],ZOa:["historicThroughputHalflife",14400],YOa:["historicResponseTimeHalflife",100],XOa:["historicHttpResponseTimeHalflife",100],OEa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],CPa:["minReportedNetIntrDuration",4E3],Nac:["throughputBucketMs",500],Dac:["bucketHoltWintersWindow",2E3],vob:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")],Eob:["experimentalFilter",["throughput-wssl"]],jQa:["reportedFilters",[]],Zga:["filterDefinitionOverrides",{}],kob:["defaultFilter","throughput-ewma"],Orb:["secondaryFilter","throughput-sw"],M2:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384}}],Lma:["enableWsslEstimate",!1],Idc:["maxWsslRequestSize",131072],Hdc:["maxWsslRequestRatio",.2],teb:["wsslAggregationMethod","max"],GV:["enableSessionHistoryReport",!0],Fma:["earlyStageEstimatePeriod",1E4],j3a:["lateStageEstimatePeriod",3E4],d9:["maxNumSessionHistoryStored",10],E9:["minSessionHistoryDuration",3E5],ELb:["highAndStableModelName","baseline"],Kma:["enableHighAndStablePredictor",!1],C9:["minNumSessionHistory",5],ebc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],F7:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],FLb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Sia:["addHeaderDataToNetworkMonitor",!0],Sxa:["startMonitorOnLoadStart",!1],mwa:["reportFailedRequestsToNetworkMonitor",!1],C$:["periodicHistoryPersistMs",0],xaa:["saveVideoBitrateMs",0],RX:["needMinimumNetworkConfidence",!0],Uja:["biasTowardHistoricalThroughput",!1],RPb:["logMemoryUsage",!1],av:["probeServerWhenError",!0],dz:["allowSwitchback",!0],TI:["probeDetailDenominator",100],a9:["maxDelayToReportFailure",300],Vr:["allowParallelStreaming",!1],Tdc:["mediaPrefetchDisabled",!1],e5a:["minBufferLevelToAllowPrefetch",5E3],zaa:["seamlessAudio",!1],dfc:["seamlessAudioProfiles",[]],efc:["seamlessAudioProfilesAndTitles",{}],Owa:["seamlessAudioMaximumSyncError",void 0],Pwa:["seamlessAudioMinimumSyncError",void 0],L1a:["insertSilentFrames",0],Gqa:["insertSilentFramesOnSeek",!1],M1a:["insertSilentFramesOnSeekForTitles",[]],TMb:["insertSilentFramesOnSeekCount",3],rcc:["forceDiscontinuityAtTransition",!0],mya:["supportAudioResetOnDiscontinuity",void 0],$1b:["supportAudioEasingOnDiscontinuity",void 0],LDb:["editCompleteFragments",!0],URb:["minimumAudioFramesPerFragment",1],HG:["applyProfileTimestampOffset",!1],qm:["applyProfileStreamingOffset",!0],q8a:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],Qub:["audioProfilesNonSyncSamples",["xheaac-dash"]],B3b:["truncateEndOfStreamAudio",!1],K4b:["useDpiAssumedAacEncoderDelay",!0],Rsa:["mediaSourceSupportsNegativePts",!1],FO:["minAudioPtsGap",void 0],Oub:["audioOverlapGuardSampleCount",2],cXa:["enableRecordJSBridgePerf",!1],Sda:["JSBridgeTDigestConfig",{maxc:25,c:.5}],F2b:["throughputThresholdSelectorParam",0],F4b:["upswitchDuringBufferingFactor",2],Vtb:["allowUpswitchDuringBuffering",!1],GUa:["contentOverrides",void 0],sla:["contentProfileOverrides",void 0],bqa:["hindsightDenominator",0],aqa:["hindsightDebugDenominator",0],G7:["hindsightAlgorithmsEnabled",[]],H7:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],TRa:["appendMediaRequestOnComplete",!1],Xba:["waitForDrmToAppendMedia",!1],Cza:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],s6:["forceAppendHeadersAfterDrm",!1],Vla:["declareBufferingCompleteAtSegmentEnd",!1],cx:["maxActiveRequestsPerSession",void 0],Ora:["limitAudioDiscountByMaxAudioBitrate",!1],mja:["appendFirstHeaderOnComplete",!0],YZ:["strictBufferCapacityCheck",!1],nM:["aseReportDenominator",0],g4:["aseReportIntervalMs",3E5],zba:["translateToVp9Draft",!1],iQ:["switchableAudioProfiles",[]],Rub:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],Lbb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Tub:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],H4a:["maxStartingVideoVMAF",110],Ou:["minStartingVideoVMAF",1],dU:["activateSelectStartingVMAF",!1],Faa:["selectStartingVMAFTDigest",-1],IP:["selectStartingVMAFMethod","fallback"],w$a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],aP:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],VCb:["disablePtsStartsEvent",!0],Sva:["recordFirstFragmentOnSubBranchCreate",!0],O4a:["mediaCacheConvertToBinaryData",!1],Lsa:["mediaCacheSaveOneObject",!1],n4a:["markRequestActiveOnFirstByte",!1],M5:["earlyAppendSingleChildBranch",!0],HB:["useNativeDataViewMethods",!0],J4b:["useCorrectDrainingAmounts",!0],hN:["enableNewAse",!1],H_:["useNewApi",!1],A5:["aseDiagnostics",[{th:"queue-audit",enabled:!0},{th:"task-audit",enabled:!0},{th:"trace-ShimSession",enabled:!0},{th:"trace-engine",enabled:!0},{th:"trace-RequestPacer",enabled:!0},{th:"trace-BufferStateTracker",enabled:!0},{th:"trace-GraphStreamingProcess",enabled:!0},{th:"trace-AsePlaygraph",enabled:!0},{th:"playgraph-branch-audit",enabled:!0},{th:"content-playgraph",enabled:!0},{th:"trace-CphAsePlaygraph",enabled:!0},{th:"trace-GraphLocation",enabled:!0}]],Dvb:["branchDistanceThreshold",6E4],Y8:["maxAllowedOutstandingRequests",4],cta:["minStreamableConcurrencyWindow",3E3],UQb:["maxStreamableConcurrencyWindow",Infinity],dya:["streamableConcurrencyFactor",.3],GU:["bufferingConcurrencyWindow",7800],Xja:["branchCreationThreshold",12E4],P5:["enableDiscontiguousBuffering",!1],Mna:["forceImmediateTransitionTypeForTitles",[]],Lna:["forceImmediateTransitionExitZone",0],NUa:["contiguousBufferMultiplier",3],LUa:["contiguousBufferMinimumAudio",1048576],MUa:["contiguousBufferMinimumVideo",8388608],lWb:["prefetchBudgetInBytes",0],T8a:["rebufferRiskHalfLife",1E4],lza:["useBufferSizeLimiter",!1],U4b:["useStaticBufferSizeLimiter",!1],oWb:["prefetchWeightBudget",32],gta:["minimumDownstreamBranchProbability",.075],mza:["useExitZones",!0],pWb:["prefetchWhilePlaying",!0],uWb:["prefetcherSoftReset",!0],P7a:["playgraphDefaultWeight",65520],pCb:["delayNotificationOfEoS",!1],qRb:["memDeadlockShouldCheckMemory",!0],pRb:["memDeadlockOverageThreshold",.9],oRb:["memDeadlockMaxUtilizationPercentage",.5],Oua:["playerPtsPadding",1],KX:["minFragmentVmaf",void 0],O5:["enableCombinedPlaygraphs",!0],oza:["useLegacyFragmentRounding",!1]};b.vh=b.qyb;},function(t,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Er=b.Dr=b.Fr=b.GA=b.b2=void 0;c=a(2);g=a(118);Object.defineProperties(b,{Dr:{enumerable:!0,get:function(){return g.Dr;}}});Object.defineProperties(b,{Er:{enumerable:!0,get:function(){return g.Er;}}});Object.defineProperties(b,{GA:{enumerable:!0,get:function(){return g.GA;}}});Object.defineProperties(b,{b2:{enumerable:!0,get:function(){return g.b2;}}});l=c.__importDefault(a(6));t=(function(m){function d(f,h,k,n,p){return m.call(this,d.console,f,h,k,n,p) || this;}c.__extends(d,m);Object.defineProperties(d,{console:{get:function(){return this.I || (this.I=new l.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(g.Fr);b.Fr=t;},function(t,b,a){var l,m;function c(){}function g(d,f,h,k,n){this.debug=d;this.version=f;this.wOb=h;this.wVb=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.KLa=void 0;t=a(1);l=a(0);m=a(5);g.prototype.tIb=function(){return this.config().jA;};g.prototype.goa=function(){return this.config().RSa;};g.prototype.E_a=function(){return (0,m.Nc)(this.config().XVb);};g.prototype.$Za=function(){return this.config().HPb;};g.prototype.c_a=function(){return this.config().tQb;};c.prototype.vD=function(d,f,h,k,n){return new g(d,f,h,k,n);};a=c;a=t.__decorate([(0,l.T)()],a);b.KLa=a;},function(t,b,a){var g,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.SMa=void 0;t=a(1);g=a(0);a=a(13);c.prototype.$Wb=function(m,d,f,h){var k;if(this.config().o_b){k=m.metrics;void 0 !== k && k.segment !== k.srcsegment && d.rX.qb.transition({isBranching:h || void 0,isPlaygraph:!h || void 0,mid:d.K,xid:d.ca,srcxid:f.ca,srcmid:f.K,segment:m.position.segmentId,srcsegment:k.srcsegment,srcsegmentduration:k.srcsegmentduration,srcoffset:k.srcoffset,seamlessRequested:k.seamlessRequested,transitionType:k.transitionType,transitionTypeAtRequest:k.transitionTypeAtRequest,nextExitPositionAtRequest:k.nextExitPositionAtRequest,delayToTransition:k.delayToTransition,durationOfTransition:k.durationOfTransition,atRequest:k.atRequest,atTransition:k.atTransition,discard:k.discard});}};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.bd))],l);b.SMa=l;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.$db=void 0;t=a(0);c=a(349);g=a(975);b.$db=new t.rd(function(l){l(c.tNa).to(g.sNa).ba();});},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M;function c(I){this.dc=I;}Object.defineProperty(b,"__esModule",{value:!0});b.sNa=void 0;t=a(1);g=a(0);l=a(95);m=a(29);d=a(27);f=a(7);h=a(98);k=a(214);n=a(424);p=a(976);q=a(259);u=a(88);r=a(425);w=a(977);v=a(263);x=a(81);y=a(19);z=a(120);A=a(264);B=a(434);E=a(13);D=a(435);F=a(436);G=a(38);C=a(265);H=a(437);K=a(72);M=a(31);c.prototype.Cla=function(I,Q,L,J,O,N){return this.dc.get(E.bd)().Kba?new w.uNa(this.dc.get(f.ub),this.dc.get(v.lfa),this.dc.get(x.hy),this.dc.get(y.md),this.dc.get(z.wF),this.dc.get(h.vda),this.dc.get(A.pea),this.dc.get(B.uEa),this.dc.get(D.kKa),this.dc.get(F.Pfa),this.dc.get(F.Pfa),this.dc.get(G.gi),this.dc.get(H.bS),this.dc.get(C.Cda),this.dc.get(M.mh),J,L):new p.IFa(this.dc.get(m.jg),this.dc.get(d.hg),this.dc.get(f.ub),this.dc.get(h.vda),this.dc.get(k.Kfa),this.dc.get(q.Uea),this.dc.get(u.uda),this.dc.get(r.$Ia),this.dc.get(n.LCa),I,Q,L,J,O,N,this.dc.get(K.Nv).mH);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.FFa))],a);b.sNa=a;},function(t,b,a){var g,l,m,d,f,h;function c(k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F){var G;G=this;this.se=k;this.nb=n;this.Vb=q;this.Tu=r;this.RU=w;this.FYa=v;this.config=y;this.Yh=A;this.H=B;this.UNb=F;this.j=z.create(B.K,B.dj,x,E,D,B.zb,B.id,B.oa);this.j.background=!0;this.log=p.mb("VideoPlayer",this.j);this.t7a=[];this.ended=!1;this.bK();this.j.state.addListener(function(C){C.newValue === l.Sb.te && G.Kb(l.Ga.fra,{movieId:B.K});});this.j.bb.zi && (this.sM=u.nAb(this,this.j),this.j.addEventListener(l.ea.lJ,function(C){C=C.position.segmentId;G.SOb !== C && (G.SOb=C,G.Kb(l.Ga.b_b,{segmentId:C}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.IFa=void 0;g=a(3);l=a(15);m=a(5);d=a(11);f=a(88);h=a(24);c.prototype.isReady=function(){return this.j.state.value === l.Sb.te;};c.prototype.n_a=function(){return this.j.K;};c.prototype.fA=function(){return this.j.ca;};c.prototype.Sn=function(){return this.j.Pg;};c.prototype.Kq=function(){return this.j.Fj.value;};c.prototype.ZW=function(){return this.j.paused.value;};c.prototype.Nqa=function(){return this.ended;};c.prototype.Rh=function(){var k;k=this.j.kka.value;return k?{networkStalled:! !k.Xs,stalled:! !k.Xs,progress:k.progress,progressRollback:! !k.fXb}:null;};c.prototype.getError=function(){var k;k=this.j.Ph;return k?k.t_():null;};c.prototype.tu=function(){return this.j.mediaTime.value;};c.prototype.VYa=function(){var k;k=(this.M6() || 0) + this.j.UYa();return Math.min(k,this.moa());};c.prototype.M6=function(){return this.j.AD();};c.prototype.moa=function(){return this.j.Az.da(m.la);};c.prototype.h0a=function(){return this.j.JB?{width:this.j.JB.width,height:this.j.JB.height}:null;};c.prototype.N6=function(){var u;if(this.j.Ep){for(var k,n=0;n < this.j.Ep.length;n++){for(var p=this.j.Ep[n],q=0;q < p.streams.length;q++){u=p.streams[q];this.nb.Qi(u.Ila) && this.nb.Qi(u.i5) && this.nb.Qi(u.h5) && this.nb.Qi(u.g5) && 0 < u.i5 && (u=u.g5 / u.h5,k=this.nb.Qi(k)?Math.min(k,u):u);}}return k;}};c.prototype.jZa=function(){return this.j.N6();};c.prototype.EYa=function(k){var n,p;return (null === (n=this.j.oa) || void 0 === n?0:n.yk.nW("generateScreenshots"))?this.FYa.zq(this.log,this.j.oa.yk,k):(n=null === (p=this.j.bb) || void 0 === p?void 0:p.pp)?this.FYa.tg(this.log,Object.assign({packageId:n},k)):Promise.reject("Unknown packageId");};c.prototype.pZa=function(){return this.UHb(this.j.A5);};c.prototype.doa=function(){var k;k=this;return this.j.Si.map(function(n){return k.Fq(n);});};c.prototype.g_a=function(){var k;return this.oW(this.j.Si,null === (k=this.j.oa) || void 0 === k?void 0:k.Nb.C4a);};c.prototype.m7=function(k){var n;n=this;return this.vW(k).map(function(p){return n.Fq(p);});};c.prototype.Hoa=function(k){var n;return this.oW(this.vW(k),null === (n=this.j.oa) || void 0 === n?void 0:n.Nb.D4a);};c.prototype.Dab=function(){return this.UNb || 5 < this.doa().length || 5 < this.m7().length;};c.prototype.Uqa=function(){return this.j.muted.value;};c.prototype.i0a=function(){return this.j.volume.value;};c.prototype.MYa=function(){var k,n;n=(null === (k=this.qx) || void 0 === k?void 0:k.tc) || this.j.tc.value;return n && this.Fq(n);};c.prototype.tpa=function(){var k,n;n=(null === (k=this.qx) || void 0 === k?void 0:k.k_) || this.j.kc.value;return n && this.Fq(n);};c.prototype.V1a=function(){return ! !this.j.background;};c.prototype.bab=function(k){this.j.muted.set(! !k);};c.prototype.pab=function(k){this.j.volume.set(this.bTb(k));};c.prototype.cab=function(k){this.j.playbackRate.set(k);};c.prototype.ap=function(){return this.j.playbackRate.value;};c.prototype.N$a=function(k){var n,p,q,u,r;n=this;q=this.QV(k);if(q){if(q.yi)return (this.j.tc.set(q),Promise.resolve());u=(k=(null === (p=this.qx) || void 0 === p?void 0:p.k_) || this.j.kc.value) && this.C2a(q,k)?k:q.bi[0];p=q.trackId;r=u.trackId;this.qx={tc:q,k_:u};this.Kb(l.Ga.rm);this.Kb(l.Ga.vv);u !== k && this.Kb(l.Ga.Zl);return this.j.X0a(p,r).then(function(w){w=w.tc;n.qx=void 0;n.j.tc.set(w);}).catch(function(w){n.qx=void 0;w=n.se.wd(w);n.log.error(w);n.close(n.Yh(g.N.FK,{sa:g.M.hea,yb:w,PH:{bMb:q.trackId,Y0a:q.Uf,cMb:u.trackId,Z0a:u.Uf}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.txa=function(k){var n,p,q,u;n=this;q=(null === (p=this.qx) || void 0 === p?void 0:p.tc) || this.j.tc.value;if(null !== q){u=q.bi;p={};for(var r=0;r < u.length;(p={pt:p.pt},r++)){p.pt=u[r];if(!k && null === p.pt)return (this.j.kc.set(null),Promise.resolve());if(this.Fq(p.pt) === k){if(p.pt.yi)return (this.log.info("Setting Timed Text, profile: " + p.pt.profile),this.j.kc.set(p.pt),Promise.resolve());k=q.trackId;u=p.pt.trackId;this.qx={tc:q,k_:p.pt};this.Kb(l.Ga.Zl);return this.j.X0a(k,u).then(function(w){w=w.k_;n.qx=void 0;n.j.kc.set(w);}).catch((function(w){return function(v){n.qx=void 0;v=n.se.wd(v);n.log.error(v);n.close(n.Yh(g.N.FK,{sa:g.M.hea,yb:v,PH:{bMb:q.trackId,Y0a:q.Uf,cMb:w.pt.trackId,Z0a:w.pt.Uf}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.hxa=function(k){this.j.background=k;};c.prototype.bQ=function(){this.j.bQ();};c.prototype.Gba=function(k){this.j.Gba(k);};c.prototype.uk=function(k){return this.j.uk(k);};c.prototype.B_a=function(){return this.j.bb;};c.prototype.lx=function(){this.j.lx();};c.prototype.CI=function(k){this.j.CI(k);};c.prototype.DW=function(k,n,p){return this.j.DW(k,n,p);};c.prototype.Wia=function(k,n){this.j.addEventListener(k,n,void 0);};c.prototype.addEventListener=function(k,n,p){this.Vb.addListener(k,n,p);};c.prototype.removeEventListener=function(k,n){this.Vb.removeListener(k,n);};c.prototype.OI=function(){};c.prototype.load=function(){var k;k=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{k.Kb(l.Ga.z3a,void 0,!0);n.oa && (n.oa.Nb.meb && k.Kb(l.Ga.L5b,n.oa.Nb.meb,!0),n.oa.Nb.Fn && k.Kb(l.Ga.a_b,{segmentMap:n.oa.Nb.Fn},!0));p({aa:!0});}catch(q){p({sa:g.M.Qk,yb:k.se.wd(q)});}}));};c.prototype.close=function(k){var n;n=this;this.$Ta || (this.$Ta=new Promise(function(p){k?n.j.TG(k,p):n.j.close(p);}));return this.$Ta;};c.prototype.play=function(){this.j.si?this.j.fireEvent(l.ea.k$a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(l.ea.Pdb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(l.ea.Z4b));};c.prototype.seek=function(k,n,p,q){n=void 0 === n?l.Re.kC:n;this.j.cg?this.j.cg.seek(k,n,p,q):this.j.xw=k;};c.prototype.F7a=function(k){return this.sM?(this.log.trace("Playing a segment",k),this.sM.play(k)):Promise.resolve();};c.prototype.C8a=function(k){return this.sM?(this.log.trace("Queueing a segment",k),this.sM.Ls(k)):Promise.resolve();};c.prototype.Gi=function(k,n){return this.sM?(this.log.trace("Updating next segment weights",k,n),this.sM.Gi(k,n)):Promise.resolve();};c.prototype.zW=function(){var k;k=this.j.pr.zW();return {bounds:k.CU,margins:k.Ds,size:k.size,visibility:k.visibility};};c.prototype.TP=function(k){var n,p,q;n=k.bounds;p=k.margins;q=k.size;k=k.visibility;this.j.o_ && (n && this.j.o_.uxa(n),p && this.j.o_.vxa(p),"boolean" === typeof k && this.j.o_.wxa(k));this.j.pr && q && this.j.pr.e0b(q);};c.prototype.xxa=function(k){this.j.Zm=k;};c.prototype.e0a=function(k){return this.j.CB && this.j.CB.rIb(k) || null;};c.prototype.JYa=function(){return this.se.rI({playerver:this.config.version,jssid:this.config.wOb,groupName:this.config.tIb(),xid:this.j.ca,pbi:this.j.index},this.config.wVb,{prefix:"pi_"});};c.prototype.v1a=function(k){this.j.Ld(g.N.yDa,g.M.em,k);};c.prototype.v3a=function(k,n,p,q){if(!this.nb.KRa(k))throw Error("invalid url");this.t7a.push({url:k,name:n,$ub:p,options:q});this.o8a();};c.prototype.jpa=function(){var k,n,p,q,u,r,w,v;k={};n=this.j.UZ;try{if((this.j.Ph && (k.errorCode=this.j.Ph.E5,k.errorType=n?"endplay":"startplay"),k.playdelay=(0,h.Xf)(this.j.IU()),k.xid=this.j.ca,this.j.oa && this.nb.aq(this.j.oa.Nb.pp) && (k.packageId=Number(this.j.oa.Nb.pp)),k.auth=this.j.jHb(),n)){k.totaltime=this.j.Tl?this.Zo(this.j.Tl.QN()):0;k.abrdel=this.j.Tl?this.j.Tl.foa():0;p=this.j.cg;q=p?p.zH():null;this.nb.Qi(q) && (k.totdfr=q);q=p?p.gW():null;this.nb.Qi(q) && (k.totcfr=q);u=p?p.HIb():null;u && (k.rbfrs_decoder=u.o5,k.rbfrs_network=u.Q9);k.rbfrs_delay=this.j.Tl?this.j.Tl.Iqa:0;k.init_vbr=this.j.Z7;r=this.GH();this.nb.fH(r) && (k.pdltime=r);w=this.j.pe.value;v=w && w.stream;v && (k.vbr=v.bitrate,k.vdlid=v.Dc);k.bufferedTime=this.j.UYa();}}catch(x){this.log.error("error capturing session summary",x);}return k;};c.prototype.jN=function(k){this.j.bb.Vm && (this.j.bb.Vm.userEngageAction=1);return this.nb.Qi(this.j.mediaTime.value)?(k=Object.assign(Object.assign({},this.Tu.create(this.j)),{action:k}),this.RU(f.Ip.jN).zq(this.log,this.j.oa.yk,k).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.Ec,errorExternalCode:n.Nd,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.UHb=function(k){return {register:k.register.bind(k),notifyUpdated:k.e6a.bind(k),getModel:k.bJb.bind(k),getGroups:k.lW.bind(k),addEventListener:k.addEventListener.bind(k),removeEventListener:k.removeEventListener.bind(k),getTime:k.getTime.bind(k)};};c.prototype.Fq=function(k){var n;n=k.vva=k.vva || ({trackId:k.trackId,bcp47:k.Uf,displayName:k.displayName,trackType:k.yl,rawTrackType:k.VI,channels:k.channels});this.Zqa(k) && (n.isNative=k.isNative,n.surroundFormatLabel=k.c_);this.$qa(k) && (n.isNoneTrack=k.Jq(),n.isForcedNarrative=k.jp(),n.isImageBased=k.wk);n.subType=k.EJ;n.variant=k.variant;return n;};c.prototype.Zqa=function(k){return "undefined" !== typeof k.isNative;};c.prototype.$qa=function(k){return "undefined" !== typeof k.Jq && "undefined" !== typeof k.jp;};c.prototype.QV=function(k){var n;n=this;return k && this.j.Si.find(function(p){return n.Fq(p) === k;});};c.prototype.vW=function(k){var n,p;k=this.QV(k) || (null === (n=this.qx) || void 0 === n?void 0:n.tc) || this.j.tc.value;return null !== (p=null === k || void 0 === k?void 0:k.bi) && void 0 !== p?p:[];};c.prototype.oW=function(k,n){var p;p=k.length - 1;if("number" !== typeof n)return p;k=k.findIndex(function(q){return q.ec > n;});return -1 === k?p:k - 1;};c.prototype.C2a=function(k,n){return 0 <= k.bi.indexOf(n);};c.prototype.bTb=function(k){return 0 <= k?1 >= k?k:1:0;};c.prototype.Zo=function(k){return this.nb.Qi(k)?(k / 1E3).toFixed(0):"";};c.prototype.Kb=function(k,n,p){n=n || ({});n.target=this;this.Vb.Hc(k,n,!p);};c.prototype.bK=function(){var k;k=this;this.j.addEventListener(l.ea.vya,function(){k.Kb(l.Ga.pq);});this.j.addEventListener(l.ea.Xcb,function(){k.Kb(l.Ga.Wcb);});this.j.addEventListener(l.ea.m9,function(){k.Kb(l.Ga.eka);});this.j.addEventListener(l.ea.Fk,function(){k.Kb(l.Ga.eka);});this.j.addEventListener(l.ea.ZN,function(n){k.Kb(l.Ga.ZN,{errorCode:n});});this.j.addEventListener(l.ea.Jja,function(){k.Kb(l.Ga.zSa);});this.j.addEventListener(l.ea.si,function(n){k.Kb(l.Ga.q4,n);});this.j.addEventListener(l.ea.zcb,function(){k.Kb(l.Ga.o4);k.Kb(l.Ga.vv);});this.j.Fj.addListener(function(){k.Kb(l.Ga.Tua);});this.j.paused.addListener(function(){k.Kb(l.Ga.n7a);});this.j.muted.addListener(function(){k.Kb(l.Ga.z5a);});this.j.volume.addListener(function(){k.Kb(l.Ga.feb);});this.j.Ab.addListener(function(){k.edb();});this.j.state.addListener(function(){k.edb();});this.j.kka.addListener(function(n){k.IPb || k.j.state.value != l.Sb.te || n.newValue || (k.IPb=!0,k.Kb(l.Ga.loaded),setTimeout(function(){k.log.debug.bind(k.log,"summary ",k.jpa());}));k.Kb(l.Ga.vM);});this.j.tc.addListener(function(){k.Kb(l.Ga.rm);k.Kb(l.Ga.vv);setTimeout(function(){var n,p;n=k.j.tc.value;p=k.j.kc.value;null === n || null === p || k.C2a(n,p) || (k.log.info("Changing timed text track to match audio track"),k.j.kc.set(n.bi[0]));},0);});this.j.kc.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || k.Kb(l.Ga.Zl);});this.j.addEventListener(l.ea.vv,function(){k.Kb(l.Ga.vv);});this.j.addEventListener(l.ea.y_,function(){k.Kb(l.Ga.y_);});this.j.state.addListener(function(n){switch(n.newValue){case l.Sb.te:k.Kb(l.Ga.HWa);k.Kb(l.Ga.aeb);k.Kb(l.Ga.o4);k.Kb(l.Ga.vv);k.Kb(l.Ga.y3a);k.o8a();k.R5b();break;case l.Sb.CLOSING:k.j.Ph && k.Kb(l.Ga.P1a,k.j.Ph);break;case l.Sb.CLOSED:(k.Kb(l.Ga.closed),k.Vb.Oh());}});};c.prototype.R5b=function(){var k;k=this;this.j.pr.addEventListener("showsubtitle",function(n){k.Kb(l.Ga.Cxa,n,!0);});this.j.pr.addEventListener("removesubtitle",function(n){k.Kb(l.Ga.dwa,n,!0);});};c.prototype.o8a=function(){if(this.j.state.value == l.Sb.te){for(var k,n,p;n=this.t7a.shift();){k=this.j.pr.Pia(n.url,n.name,n.options);n.$ub && (p=k);}p && this.j.kc.set(p);}};c.prototype.edb=function(){var k;k=this.j.state.value == l.Sb.te && this.j.Ab.value == l.hb.yr;this.ended !== k && (this.ended=k,this.j.DG("Ended changed: " + k),(k || this.j.state.value === l.Sb.CLOSING) && this.Kb(l.Ga.kXa));};c.prototype.GH=function(){var k,n;try{k=/playercore.*js/;n=d.Lv.getEntriesByType("resource").filter(function(p){return null !== k.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.IFa=c;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w;function c(v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L){var J,O,N;J=this;this.AY=x;this.nA=y;this.Ea=z;this.Ak=A;this.Vb=B;this.wX=E;this.UVb=D;this.J7a=F;this.Sba=G;this.n4=C;this.za=H;this.vO=K;this.config=M;this.SC=I;this.H=Q;this.Yh=L;this.pX=new p.ic(!0);this.Fj=new p.ic(!1);this.Xs=new p.ic(!1);this.ended=new p.ic(!1);this.D4=new p.ic(0);this.Ab=new p.ic(l.hb.Sf);this.xP=new p.ic(void 0);this.loaded=this.UZ=this.closed=!1;this.h8a=function(P,S){return function(U){var Z,ja,ya,ra,Y;Z=U.newValue;ja=Z.cD;U=Z.um;ya=Z.stream;Z=P.value;ra=Z.streams.find(function(pa){return pa.bitrate === ya.stream.bitrate;});Y=J.xa.tj.find(function(pa){return pa.id === ja;});J.log.info("Presenting " + ra.type + " request with bitrate " + ra.bitrate + ", track " + (Z.trackId + " [" + U.startTime + "..." + U.endTime + "]"));S.set({stream:ra,um:U,uc:Y});};};this.rbb=function(P,S,U){return function(Z){var ja,ya;ja=P.value;ya=ja.streams.find(function(ra){return ra.bitrate === Z.newValue.stream.bitrate;});J.log.info("Streaming " + ya.type + " stream with bitrate " + ya.bitrate + ", track " + ja.trackId);S.set(ya,{PG:Z.zm.PG,yU:void 0});ja=J.xa.tj.filter(function(ra){return ra.id === Z.zm.cD;})[0];U.set(ja);};};this.fYa=new Set();this.log=v.mb("HLSVideoPlayer");this.Z=(0,m.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.Z.playsInline=this.config.V7a;this.xa=this.AY(d.iC.index++,Q.K,Q.id,null !== (O=Q.zb) && void 0 !== O?O:{},this.nA.Cz(),this.Ea.$b(),!1,void 0,function(){return J.tu();});this.xa.mediaTime.set(null !== (N=this.xa.xw) && void 0 !== N?N:0);this.bK();this.Cpb=this.vO.create(this);this.Cpb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.uNa=void 0;g=a(40);l=a(15);m=a(30);d=a(61);f=a(105);h=a(60);k=a(3);n=a(64);p=a(80);q=a(5);u=a(17);r=a(106);w=a(24);c.prototype.e2b=function(){return ! !this.Z.canPlayType && ("" !== this.Z.canPlayType("application/vnd.apple.mpegURL") || "" !== this.Z.canPlayType("audio/mpegurl"));};c.prototype.bK=function(){var v;v=this;this.Z.addEventListener("loadedmetadata",function(){v.Kb(l.Ga.z3a);v.Kb(l.Ga.y3a);v.Kb(l.Ga.rm);v.Kb(l.Ga.o4);v.Kb(l.Ga.Zl);v.Kb(l.Ga.vv);});this.Z.addEventListener("error",function(x){x=v.Yh(k.N.CIa,x);v.close(x);});this.Z.addEventListener("timeupdate",function(){v.ended.set(!1);v.xa.mediaTime.set(v.tu());v.mma();v.Kb(l.Ga.pq);v.Kb(l.Ga.Wcb);});this.Z.addEventListener("durationchange",function(){v.Kb(l.Ga.HWa);});this.Z.addEventListener("resize",function(){v.Kb(l.Ga.aeb);});this.Z.addEventListener("playing",function(){v.mma();v.Xs.set(!1);v.Fj.set(!0);v.ended.set(!1);v.Ab.set(l.hb.Lc);});this.Z.addEventListener("pause",function(){v.Fj.set(!1);v.Xs.set(!1);v.Ab.set(l.hb.ph);});this.Z.addEventListener("waiting",function(){v.Ab.set(l.hb.Sf);});this.Z.addEventListener("stalled",function(){v.Xs.set(!0);});this.Z.addEventListener("seeking",function(){v.Xs.set(!1);v.xP.set(v.xa.mediaTime.value);v.Ab.set(l.hb.Sf);});this.Z.addEventListener("seeked",function(){void 0 !== v.xP.value && (v.xa.Tl.Fta(v.xP.value,v.tu()),v.xP.set(void 0));v.Ab.set(v.Kq()?l.hb.Lc:l.hb.ph);});this.Z.addEventListener("progress",function(){v.Kb(l.Ga.eka);v.a4b();});this.Z.addEventListener("ended",function(){v.Ab.set(l.hb.yr);v.Xs.set(!1);v.Fj.set(!1);v.ended.set(!0);});this.Z.addEventListener("volumechange",function(){v.Kb(l.Ga.feb);v.Kb(l.Ga.z5a);});this.Fj.addListener(function(){v.Kb(l.Ga.Tua);v.Kb(l.Ga.n7a);v.BM();});this.D4.addListener(function(){v.Kb(l.Ga.vM);});this.Xs.addListener(function(){v.Kb(l.Ga.vM);});this.pX.addListener(function(){v.BM();});this.ended.addListener(function(){v.Kb(l.Ga.kXa);});this.xa.playbackRate.addListener(function(x){v.Z.playbackRate=x.newValue;});};c.prototype.BM=function(){!this.Kq() || this.pX.value || this.UZ || this.ySa || (this.UZ=!0,this.xa.UH=this.za.AZ,this.J7a.yp(this,this.xa));};c.prototype.IU=function(){return this.zY - (this.xa.dj.da(q.la) + this.Ea.zA.da(q.la));};c.prototype.xH=function(){var v;v=this.xa.bb.uQ;return (0,u.Fa)(v)?v:this.xa.dj.da(q.la) + this.Ea.zA.da(q.la);};c.prototype.pka=function(){return this.za.kf.da(q.la) - this.xH();};c.prototype.rka=function(){return this.zY - this.xH();};c.prototype.a4b=function(){var v;v=this.Z.readyState <= n.vo.j1.HAVE_METADATA?0:this.Z.readyState <= n.vo.j1.HAVE_CURRENT_DATA?.5:1;1 === v && (this.zY=this.za.kf.da(q.la),this.pX.set(!1),this.wna(l.Ga.loaded));this.D4.set(v);};c.prototype.mma=function(){var v;v=this.tu();this.Sba.Q$a(v);this.n4.Q$a(v);};c.prototype.zZ=function(){var v;v=this;this.xa.Ed("ats");return this.Ak.GN({ca:this.xa.ca,bb:this.xa.bb,S:this.xa.K,ou:f.ln.Y1,$f:h.ji.Mp}).then(function(x){var z;function y(A){var B;B=A;A && A.Jq() && !A.jp() && (B=null);v.xa.Ri.set(B);}v.xa.Ed("at");z=v.wX.create({}).i7a(x);v.xa.oa=x;v.xa.Uc=z;v.Z.audioTracks.addEventListener("addtrack",function(){v.rdb(v.xa.tc.value);});v.Z.audioTracks.addEventListener("change",function(){for(var A,B,E={},D=ba(v.Z.audioTracks),F=D.next();!F.done;(E={NQ:E.NQ},F=D.next())){E.NQ=F.value;E.NQ.enabled && E.NQ.label !== (null === (A=v.xa.tc.value) || void 0 === A?void 0:A.displayName) && (!1,F=null !== (B=v.xa.Si.find((function(G){return function(C){return C.displayName === G.NQ.label;};})(E))) && void 0 !== B?B:null,v.xa.tc.set(F));}});v.xa.tc.addListener(function(A){v.rdb(A.newValue);v.Kb(l.Ga.rm);v.Kb(l.Ga.vv);});v.Z.textTracks.addEventListener("addtrack",function(){v.sdb(v.xa.kc.value);});v.Z.textTracks.addEventListener("change",function(){var G;for(var A,B,E=v.Z.textTracks,D={},F=0;F < E.length;(D={OQ:D.OQ},F++)){if((D.OQ=E[F],"showing" === D.OQ.mode && D.OQ.label !== (null === (A=v.xa.kc.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=v.xa.bi.find((function(C){return function(H){return H.displayName === C.OQ.label;};})(D))) && void 0 !== B?B:null;v.xa.kc.set(G);y(G);}}});v.xa.kc.set(z.jV);y(z.jV);v.xa.kc.addListener(function(A){v.sdb(A.newValue);v.Kb(l.Ga.Zl);});return v.UVb.ti(x,function(A){return v.xa.Ed(A);});}).then(function(x){var y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J;y=x.qQb;z=x.Nwb;x=x.y1b;A=x.audio;B=x.MVa;E=x.video;D=v.xa;F=D.sh;G=D.tc;C=D.Si;H=D.Ze;K=D.Ag;x=D.xw;M=D.pe;I=D.qf;Q=D.Tl;D=D.Uc;D.Si=C.filter(function(O){return A.find(function(N){return N.track.xg === O.trackId;});});K.set(D.w5);G.set(C.find(function(O){return O.trackId === B;}));D=E[0];L=D.stream;C=A.find(function(O){return O.track.xg === B;});J=C.stream;v.SW=L.bitrate;v.Sba.cva.addListener(v.h8a(K,M));v.Sba.hya.addListener(v.rbb(K,H,v.xa.uc[g.Ub.Wa.Pb]));H=z.get(L.gs).kP.mq;v.Sba.Eb(E,D,H);v.n4.cva.addListener(v.h8a(G,I));v.n4.hya.addListener(v.rbb(G,F,v.xa.uc[g.Ub.Wa.Yb]));z=z.get(J.gs).kP.mq;v.n4.Eb(A,C,z);v.Z.src=y;v.Z.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;v.Z.load();Q.Fta(0,x && 0 < x?x:1);}).catch(function(x){var y,z;if(x instanceof Error){z=(0,w.wd)(x);v.log.error("uncaught exception",x,z);}v.close(v.Yh(null !== (y=x.code) && void 0 !== y?y:k.N.gNa,x));});};c.prototype.sdb=function(v){var z;for(var x=this.Z.textTracks,y=0;y < x.length;y++){z=x[y];z.label === v.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== v.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.rdb=function(v){for(var x=ba(this.Z.audioTracks),y=x.next();!y.done;y=x.next()){y=y.value;y.label !== v.displayName || y.enabled || (!1,y.enabled=!0);y.label !== v.displayName && y.enabled && (!1,y.enabled=!1);}};c.prototype.tu=function(){return Math.floor(1E3 * this.Z.currentTime);};c.prototype.M6=function(){return this.tu();};c.prototype.moa=function(){return Math.floor(1E3 * this.Z.duration);};c.prototype.n_a=function(){return this.H.K;};c.prototype.fA=function(){return this.xa.ca;};c.prototype.Sn=function(){return this.Z;};c.prototype.isReady=function(){return null === this.Rh();};c.prototype.Kq=function(){return this.Fj.value;};c.prototype.ZW=function(){return !this.Fj.value;};c.prototype.Nqa=function(){return this.Z.ended;};c.prototype.Rh=function(){return 1 !== this.D4.value?{stalled:this.Xs.value,progress:this.D4.value,progressRollback:!1}:null;};c.prototype.getError=function(){var v,x;return null !== (x=null === (v=this.Ph) || void 0 === v?void 0:v.t_()) && void 0 !== x?x:null;};c.prototype.VYa=function(){return 1 === this.Z.buffered.length?1E3 * this.Z.buffered.end(0):null;};c.prototype.h0a=function(){return {width:this.Z.videoWidth,height:this.Z.videoHeight};};c.prototype.Uqa=function(){return this.Z.muted;};c.prototype.i0a=function(){return this.Z.volume;};c.prototype.bab=function(v){this.Z.muted=v;};c.prototype.pab=function(v){this.Z.volume=v;};c.prototype.addEventListener=function(v,x,y){this.Vb.addListener(v,x,y);};c.prototype.removeEventListener=function(v,x){this.Vb.removeListener(v,x);};c.prototype.load=function(){var v;v=this;this.loaded || (this.loaded=!0,this.SC.tO(function(x){v.e2b()?x.aa?v.zZ():v.close(v.Yh(x.errorCode || k.N.Lda,x)):v.close(v.Yh(k.N.tib));}));};c.prototype.close=function(v){if(this.closed)return Promise.resolve();this.xa.mediaTime.set(this.tu());this.mma();this.xa.VU=this.M6();this.closed=!0;this.Z.removeAttribute("src");this.Z.load();null === v || void 0 === v?void 0:v.dab(!this.pX.value);(this.Ph=v) && this.Kb(l.Ga.error,v.t_());this.Kb(l.Ga.closed);return this.J7a.WZ(this.xa);};c.prototype.play=function(){var v,x;v=this;x=this.Z.play();this.ySa=!1;x && x.then(function(){v.wna(l.Ga.zSa);}).catch(function(y){v.Kb(l.Ga.vM);"NotAllowedError" === y.name && (v.log.warn("Playback is blocked by the browser settings",y),v.ySa=!0,v.si=!0,v.wna(l.Ga.q4,{player:{play:function(){return v.play();}}}));});};c.prototype.Kb=function(v,x,y){x=x || ({});x.target=this;this.Vb.Hc(v,x,!y);};c.prototype.wna=function(v,x){this.fYa.has(v) || (this.fYa.add(v),this.Kb(v,x,void 0));};c.prototype.pause=function(){this.Z.pause();};c.prototype.seek=function(v){this.Z.currentTime=v / 1E3;};c.prototype.v1a=function(v){this.close(this.Yh(k.N.yDa,k.M.em,v));};c.prototype.ap=function(){return this.xa.playbackRate.value;};c.prototype.cab=function(v){this.xa.playbackRate.set(v);};c.prototype.doa=function(){var v;v=this;return this.xa.Si.map(function(x){return v.Fq(x);});};c.prototype.m7=function(v){var x;x=this;return this.vW(v).map(function(y){return x.Fq(y);});};c.prototype.MYa=function(){var v;v=this.xa.tc.value;return v && this.Fq(v);};c.prototype.tpa=function(){var v;v=this.xa.kc.value;return v && this.Fq(v);};c.prototype.N$a=function(v){if((v=this.QV(v)) && v.yi)return (this.xa.tc.set(v),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.txa=function(v){var x,y;x=this;y=this.xa.bi.find(function(z){return x.Fq(z) === v;});if(y && y.yi)return (this.xa.kc.set(y),this.xa.Ri.set(y),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.g_a=function(){var v;return this.oW(this.xa.Si,null === (v=this.xa.oa) || void 0 === v?void 0:v.Nb.C4a);};c.prototype.Hoa=function(v){var x;return this.oW(this.vW(v),null === (x=this.xa.oa) || void 0 === x?void 0:x.Nb.D4a);};c.prototype.Fq=function(v){var x;x=v.vva=v.vva || ({trackId:v.trackId,bcp47:v.Uf,displayName:v.displayName,trackType:v.yl,rawTrackType:v.VI,channels:v.channels});this.Zqa(v) && (x.isNative=v.isNative,x.surroundFormatLabel=v.c_);this.$qa(v) && (x.isNoneTrack=v.Jq(),x.isForcedNarrative=v.jp(),x.isImageBased=v.wk);x.subType=v.EJ;x.variant=v.variant;return x;};c.prototype.Zqa=function(v){return "undefined" !== typeof v.isNative;};c.prototype.$qa=function(v){return "undefined" !== typeof v.Jq && "undefined" !== typeof v.jp;};c.prototype.QV=function(v){var x;x=this;return v && this.xa.Si.find(function(y){return x.Fq(y) === v;});};c.prototype.vW=function(v){var x;v=this.QV(v) || this.xa.tc.value;return null !== (x=null === v || void 0 === v?void 0:v.bi) && void 0 !== x?x:[];};c.prototype.oW=function(v,x){var y;y=v.length - 1;if("number" !== typeof x)return y;v=v.findIndex(function(z){return z.ec > x;});return -1 === v?y:v - 1;};c.prototype.Gba=function(v){this.xa.bb=(0,r.t9)(this.xa.bb,v);};c.prototype.uk=function(v){if(v !== this.xa.ha)throw (!1,Error("Unknown segmentId " + v));return this.xa;};c.prototype.B_a=function(){return this.xa.bb;};c.prototype.Wia=function(){!1;};c.prototype.lx=function(){!1;};c.prototype.CI=function(){!1;};c.prototype.DW=function(){!1;return Promise.reject();};c.prototype.jpa=function(){return {};};c.prototype.N6=function(){};c.prototype.jZa=function(){};c.prototype.JYa=function(){return {};};c.prototype.hxa=function(){};c.prototype.bQ=function(){};c.prototype.V1a=function(){return !1;};c.prototype.pZa=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.jN=function(){!1;return Promise.resolve({success:!0});};c.prototype.e0a=function(){!1;};c.prototype.zW=function(){!1;};c.prototype.TP=function(){!1;};c.prototype.xxa=function(){!1;};c.prototype.v3a=function(){!1;};c.prototype.EYa=function(){!1;return Promise.reject();};c.prototype.F7a=function(){!1;return Promise.reject();};c.prototype.C8a=function(){!1;return Promise.reject();};c.prototype.Gi=function(){!1;return Promise.reject();};c.prototype.OI=function(){!1;};c.prototype.Dab=function(){return !1;};b.uNa=c;},function(t,b,a){var c;b=a(152);c=a(979);a=b(function(g,l,m){return c(function(d,f,h){return g(f,h);},l,m);});t.exports=a;},function(t,b,a){var c,g;b=a(152);c=a(426);g=a(980);a=b(function h(m,d,f){return g(function(k,n,p){return c(n) && c(p)?h(m,n,p):m(k,n,p);},d,f);});t.exports=a;},function(t,b,a){var c;b=a(152);c=a(260);a=b(function(g,l,m){var d,f;d={};for(f in l){c(f,l) && (d[f]=c(f,m)?g(f,l[f],m[f]):l[f]);}for(f in m){c(f,m) && !c(f,d) && (d[f]=m[f]);}return d;});t.exports=a;},function(t,b,a){var c;b=a(427);c=a(990);a=a(1E3);a=c([b,a]);t.exports=a;},function(t){t.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(t){t.exports=function(b,a){for(var c=0,g=a.length,l=[];c < g;){b(a[c]) && (l[l.length]=a[c]);c+=1;}return l;};},function(t,b,a){var c,g;b=a(131);c=a(429);g=a(985);a=b(function(l){return c(l)?!0:!l || "object" !== typeof l || g(l)?!1:1 === l.nodeType?! !l.length:0 === l.length?!0:0 < l.length?l.hasOwnProperty(0) && l.hasOwnProperty(l.length - 1):!1;});t.exports=a;},function(t){t.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(t){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,g){return this.f(c,g);};return a;})();t.exports=function(a){return new b(a);};},function(t,b,a){var c;c=a(262);b=a(53)(function(g,l){return c(g.length,function(){return g.apply(l,arguments);});});t.exports=b;},function(t,b,a){var c,g;b=a(53);c=a(430);g=(function(){function l(m,d){this.Z_=d;this.f=m;}l.prototype["@@transducer/init"]=c.Eb;l.prototype["@@transducer/result"]=c.result;l.prototype["@@transducer/step"]=function(m,d){return this.f(d)?this.Z_["@@transducer/step"](m,d):m;};return l;})();a=b(function(l,m){return new g(l,m);});t.exports=a;},function(t,b,a){var c,g;c=a(260);g=Object.prototype.toString;t.exports=function(){return "[object Arguments]" === g.call(arguments)?function(l){return "[object Arguments]" === g.call(l);}:function(l){return c("callee",l);};};},function(t,b,a){var c;b=a(131);c=a(991);a=b(function(g){return c(function(){return Array.prototype.slice.call(arguments,0);},g);});t.exports=a;},function(t,b,a){var c,g,l,m,d;b=a(53);c=a(432);g=a(433);l=a(993);m=a(994);d=a(999);a=b(function(f,h){return g(d(l,0,m("length",h)),function(){var k,n;k=arguments;n=this;return f.apply(n,c(function(p){return p.apply(n,k);},h));});});t.exports=a;},function(t,b,a){var g,l;function c(m,d,f){return function(){var q;for(var h=[],k=0,n=m,p=0;p < d.length || k < arguments.length;){if(p < d.length && (!l(d[p]) || k >= arguments.length))q=d[p];else (q=arguments[k],k+=1);h[p]=q;l(q) || --n;p+=1;}return 0 >= n?f.apply(this,h):g(n,c(m,h,f));};}g=a(262);l=a(184);t.exports=c;},function(t,b,a){b=a(53)(function(c,g){return g > c?g:c;});t.exports=b;},function(t,b,a){var c,g;b=a(53);c=a(995);g=a(997);a=b(function(l,m){return c(g(l),m);});t.exports=a;},function(t,b,a){var c,g,l,m,d,f;b=a(53);c=a(428);g=a(432);l=a(261);m=a(996);d=a(433);f=a(431);a=b(c(["fantasy-land/map","map"],m,function(h,k){switch(Object.prototype.toString.call(k)){case "[object Function]":return d(k.length,function(){return h.call(this,k.apply(this,arguments));});case "[object Object]":return l(function(n,p){n[p]=h(k[p]);return n;},{},f(k));default:return g(h,k);}}));t.exports=a;},function(t,b,a){var c,g;b=a(53);c=a(430);g=(function(){function l(m,d){this.Z_=d;this.f=m;}l.prototype["@@transducer/init"]=c.Eb;l.prototype["@@transducer/result"]=c.result;l.prototype["@@transducer/step"]=function(m,d){return this.Z_["@@transducer/step"](m,this.f(d));};return l;})();a=b(function(l,m){return new g(l,m);});t.exports=a;},function(t,b,a){var c;b=a(53);c=a(998);a=b(function(g,l){return c([g],l);});t.exports=a;},function(t,b,a){b=a(53)(function(c,g){for(var l=0;l < c.length;){if(null == g)return;g=g[c[l]];l+=1;}return g;});t.exports=b;},function(t,b,a){b=a(152);a=a(261);a=b(a);t.exports=a;},function(t,b,a){var c,g;c=a(1001);b=a(53);g=a(427);a=b(function(l,m){return g(c(l),m);});t.exports=a;},function(t){t.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(t,b,a){var c,g;c=a(1003);b=a(152);g=a(1004);a=b(function(l,m,d){return g(l,c(m,d));});t.exports=a;},function(t){t.exports=function(b,a){var c,g,l,m;b=b || [];a=a || [];g=b.length;l=a.length;m=[];for(c=0;c < g;){m[m.length]=b[c];c+=1;}for(c=0;c < l;){m[m.length]=a[c];c+=1;}return m;};},function(t,b,a){var c;c=a(1005);b=a(53)(function(g,l){for(var m=0,d=l.length,f=[],h;m < d;){h=l[m];c(g,h,f) || (f[f.length]=h);m+=1;}return f;});t.exports=b;},function(t){t.exports=function(b,a,c){for(var g=0,l=c.length;g < l;){if(b(a,c[g]))return !0;g+=1;}return !1;};},function(t,b,a){b=a(53)(function(c,g){for(var l=[],m=0,d=g.length;m < d;){for(var f=m + 1;f < d && c(g[f - 1],g[f]);){f+=1;}l.push(g.slice(m,f));m=f;}return l;});t.exports=b;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.S0a=void 0;t=a(0);c=a(438);g=a(1008);l=a(440);m=a(1009);d=a(434);f=a(1034);h=a(448);k=a(1036);n=a(435);p=a(1037);q=a(436);u=a(1038);r=a(451);w=a(265);v=a(1039);x=a(449);y=a(1040);z=a(1041);A=a(437);B=a(1043);b.S0a=new t.rd(function(E){E(c.IEa).to(g.HEa).ba();E(l.MEa).to(m.LEa).ba();E(d.uEa).to(f.tEa).ba();E(h.wEa).to(k.vEa).ba();E(x.JBa).to(y.IBa).ba();E(n.kKa).to(p.jKa).ba();E(q.Pfa).to(u.mMa);E(r.ZR).to(z.YR);E(A.bS).to(B.aS);E(w.Cda).to(v.PEa);});},function(t,b,a){var g,l,m,d;function c(f,h){this.VLb=f;this.log=h.mb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.HEa=void 0;t=a(1);g=a(0);l=a(7);m=a(439);d=a(89);c.prototype.download=function(f){var k,n,p,q,u;function h(r){if(u < n.length - 1)return (!1,u++,k.xWa(n[u].url,p,q).catch(h));throw r;}k=this;n=f.urls;p=f.offset;q=f.length;u=0;return this.xWa(n[u].url,p,q).catch(h);};c.prototype.xWa=function(f,h,k){return this.VLb.download({url:f,withCredentials:!1,responseType:d.ResponseType.yfb,kD:"hls_headers",jt:!0,offset:h,length:k},{G4a:1});};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.SEa)),t.__param(1,(0,g.l)(l.ub))],a);b.HEa=a;},function(t,b,a){var g,l,m;function c(d){this.wa=d.mb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;t=a(1);g=a(0);l=a(266);a=a(7);c.prototype.parse=function(d,f,h){d=new l.Fr(this.wa,{mediaType:d},f,["sidx"]).parse();if(d.Nm && d.Y)return this.X3(d.Y,h);};c.prototype.X3=function(d,f){var h,k,n,p,q;h=0;k=0;n=0;p=d.offset;q=[];d.vd.forEach(function(u,r){k+=u;n+=d.sizes[r];if(1E3 * k / d.W >= f || r === d.vd.length - 1)(q.push({duration:k / d.W,$:h / d.W,byteOffset:p,Vvb:n}),h+=k,k=0,p+=n,n=0);});return q;};m=c;m=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.ub))],m);b.LEa=m;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.Bc();this.jc=1 === this.version?this.gj([{creationTime:"int64"},{modificationTime:"int64"},{W:"int32"},{duration:"int64"}]):this.gj([{creationTime:"int32"},{modificationTime:"int32"},{W:"int32"},{duration:"int32"}]);return !0;};l.Zb="mvhd";l.Ra=!1;return l;})(a(33).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.Zb="trak";l.Ra=!0;return l;})(a(33).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var m;this.Bc();m=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];m=m.concat({offset:64,type:"offset"},{YOb:"int16"},{Wtb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.jc=this.gj(m);this.jc.g3b=! !(this.flags & 1);this.jc.h3b=! !(this.flags & 2);this.jc.i3b=! !(this.flags & 4);this.jc.j3b=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};l.Zb="tkhd";l.Ra=!1;return l;})(a(33).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.Bc();this.jc=this.gj(1 === this.version?[{y6:"int64"}]:[{y6:"int32"}]);return !0;};l.Zb="mehd";l.Ra=!1;return l;})(a(33).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.jc=this.gj([{OLb:"int32"},{o5b:"int32"}]);return !0;};l.Zb="pasp";l.Ra=!1;return l;})(a(33).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.jc=this.gj([{Lvb:"int32"},{maxBitrate:"int32"},{Mja:"int32"}]);return !0;};l.Zb="btrt";l.Ra=!1;return l;})(a(33).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.u.Ul();this.u.Ul();for(this.UG=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.UG.push(this.u.Ul());}return !0;};l.Zb="ftyp";l.Ra=!1;return l;})(a(33).Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);g=a(90);t=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Bc();this.jc=this.gj([{eWb:"int32"},{GW:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.jc.GW=g.Co(this.jc.GW);return !0;};m.Zb="hdlr";m.Ra=!1;return m;})(a(33).Fc);b.default=t;},function(t,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);g=a(107);l=a(268);m=a(185);t=a(33);d=a(108);a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(){this.Bc();this.Bm=this.u.Da();return !0;};h.prototype.ju=function(k){var n;n=Object.keys(this.Xa);n.length && (n=n[0],this.Xa[n].length && (n=this.Xa[n][0],n instanceof m.default?this.va=new l.R(n.Yz,n.samplerate):n instanceof d.default && (n=n.Xa[g.CF]) && n.length && (n=n[0].jc,1E3 !== n.Jz && 1001 !== n.Jz || 0 !== n.BI % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.BI + "/" + n.Jz):this.va=new l.R(n.Jz,n.BI)),this.va && (k.va=this.va)));return !0;};h.prototype.eZ=function(k){void 0 !== this.Xa[k] && 0 !== this.Xa[k].length && (this.na.jh(this.Bm - 1,this.byteOffset + 12),k=this.Xa[k][0],this.Ke(k.byteLength,k.byteOffset));};h.Zb="stsd";h.Ra=!0;return h;})(t.Fc);b.default=a;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){this.Wna=this.u.Ac(2);this.Yja=this.u.Ac(5);this.Zja=this.u.Ac(3);this.Iia=this.u.Ac(3);this.u.Ac(1);this.u.Ac(5);this.u.Ac(5);return !0;};l.Zb="dac3";return l;})(a(33).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var d;this.Kta=this.u.ad() & 7;this.jya=[];for(var m=0;m < this.Kta;m++){d={Wna:this.u.Ac(2),Yja:this.u.Ac(5),Zja:this.u.Ac(5),Iia:this.u.Ac(3),aPb:this.u.Ac(1),Jta:this.u.Ac(4)};0 < d.Jta?d.Qwb=this.u.Ac(9):this.u.Ac(1);this.jya.push(d);}return !0;};l.Zb="dec3";return l;})(a(33).Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);g=a(33);t=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Bc();this.tZ=this.u.Ul();g.ia && this.u.console.trace("SchemeTypeBoxTranslator: " + this.tZ);"cenc" === this.tZ && (this.u.offset-=4,g.ia && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.na.W_("piff"));this.u.Da();return !0;};m.Zb="schm";m.Ra=!1;return m;})(g.Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var m;this.u.sb();this.tca=this.u.sb();this.u.sb();this.u.sb();this.u.sb();this.RZ=this.mG(this.u.sb() & 31);this.mG(this.u.sb());this.cB=this.RZ.length?this.RZ[0][0]:this.tca;this.FT=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.cB || 110 === this.cB || 122 === this.cB || 144 === this.cB) && (this.u.sb(),this.u.sb(),this.mG(this.u.sb()));m=this.startOffset + this.length - this.FT;0 < m && this.Ke(m,this.FT);return !0;};l.prototype.mG=function(m){var h;for(var d=[],f=0;f < m;++f){h=this.u.ad();d.push(this.u.gB(h));}return d;};l.Zb="avcC";l.Ra=!1;return l;})(a(33).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.ju=function(){var m;m=this.Ol("esds");if(m=m && m.qda.Ol(5))this.Yz=m.Yz;return !0;};l.Zb="mp4a";l.Ra=!0;return l;})(a(185).default);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);g=a(270);t=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Bc();this.qda=g.sR.UY(this.u);return !0;};m.Zb="esds";m.Ra=!1;return m;})(a(33).Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=a(107);a=a(33);g=t.CF;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.Bc();this.jc=this.gj([{BI:"int32"},{Jz:"int16"}]);return !0;};m.Zb=g;m.Ra=!1;return m;})(a.Fc);b.default=a;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=(function(g){function l(){return null !== g && g.apply(this,arguments) || this;}c.__extends(l,g);l.prototype.parse=function(){var m,d,f,h,k;this.Bc();m=this.gj([{SJ:"int32"},{lV:"int32"},{Gz:"int32"},{Iz:"int32"},{Hz:"int32"}]);d=m.SJ;f=m.lV;h=m.Gz;k=m.Hz;m=m.Iz;this.jc={trackId:d,gCb:f,Fz:h,hCb:k,iCb:m};this.SJ=d;this.lV=f;this.Gz=h;this.Iz=m;this.Hz=k;return !0;};l.Zb="trex";l.Ra=!1;return l;})(a(33).Fc);b.default=t;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);g=a(1028);l=a(274);m=a(153);d=a(268);f=a(33);t=a(443);h=a(444);k=a(446);n=a(154);p=a(267);q=a(107);u=a(447);a=(function(){function r(w,v,x,y,z,A){this.console=w;this.stream=v;this.$h=y;this.$ia=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.y0a=n.roa();}r.path=function(w,v){return v.reduce(function(x,y){return x && x.Xa[y] && x.Xa[y][0];},w);};r.Joa=function(w){return w && w.UG && -1 !== w.UG.indexOf("mcl0")?"mcl0":void 0;};r.qna=function(w,v){var x,y;m.assert("mcl0" === w,"Unsupported McClearen brand");x=v.Y;w=x.vd;v=new d.R(120,1).dg(x.W).pc;y=0;for(x=x.vl;y < w.length && x < v;){x+=w[y++];}return y;};r.prototype.parse=function(w){var v;v=this.Jwa();if(!v.done){if(v.SX)return {Nm:!1,vRa:v.SX};this.console.error("Scan error: " + v.error);return {Nm:!1,parseError:v.error || "unknown mp4 scan error"};}v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + v.offset);this.view=new DataView(v);w=this.lua(w);return w.done?this.qla():(this.console.error("Parse error: " + w.error),{Nm:!1,parseError:w.error || "unknown mp4 parse error"});};r.prototype.Nn=function(w){return f.Fc.Nn(this,w);};r.prototype.Ol=function(w){return f.Fc.Ol(this,w);};r.prototype.Jwa=function(){var w,v;w=new u.Ida(this.$h,this.$ia?[q.oy,q.ny]:[],this.config && this.config.x2b || ["moof",q.iS],this.config && this.config.qY);v=c.__assign(c.__assign({},this.config),{II:!1});return new k.eF(r.kJ,w,this.view,this.console,v).parse();};r.prototype.lua=function(w){var v,x,y;v=new u.nR(this.view.byteLength);x=Object.create(p.Pq.Xa);this.config && ((this.config.x$ || this.config.yba || this.config.KE) && g(p.Pq.iJ,x),this.config.zba && g(p.Pq.Jya,x),this.config.yba && g(p.Pq.x_,x));y=c.__assign(c.__assign({},this.config),{II:!0});this.wc=new k.eF(x,v,this.view,this.console,y);w=this.wc.parse(w);w.done && (this.Xa=this.wc.Xa);return w;};r.prototype.qla=function(){var w,v,x,y,z,A;w={Nm:!0};v=r.path(this,["moov"]);x=r.path(v,["trak","mdia","minf","stbl","stsd"]);if(this.config.x$)if(x)(w.va=x.va,w.EZb=x.Xa);else return {Nm:!1,parseError:"Missing sample descriptions"};y=r.path(x,["encv","sinf","schi"]);y && (y=r.path(y,["tenc"]) || r.path(y,[q.nS])) && (w.gXa={wyb:y.uj,aI:y.aI,zOb:!1});if(y=r.path(v,["trak","mdia","mdhd"]))w.W=y.W;if(y=r.path(v,["mvex","trex"]))w.Fz=y && y.jc.Fz;w.Fz && w.W && (w.va=new d.R(w.Fz,w.W));if(y=r.path(this,["sidx"])){z=r.path(this,[q.oy]);z=z && z.Jsa;A=r.path(this,[q.ny]);A=A && A.ri;w.Y=y.Y;w.tI=z;w.ri=A;}if(z=this.Xa.vmaf && this.Xa.vmaf[0])w.Hi=z.Hi;if(this.config.$9a)if(v)(this.trim(v.byteOffset + v.byteLength),this.config.KE && x && 1 < x.Bm && y && (w.Zg=this.KE(x,y)),void 0 === w.Zg && (v=this.wc.Pz?l.concat(this.wc.ya()):this.view.buffer,w.Zg=[{Bd:0,data:v}]));else return {Nm:!1,parseError:"Missing movie box"};w.Nm=!0;w.rY=this.wc.offset;return w;};r.prototype.trim=function(w){var v;v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.wc.trim(w);this.view=new DataView(v);};r.prototype.KE=function(w,v){var x,y,z;x=Object.keys(w.Xa);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=r.path(this,["ftyp"]);z=r.Joa(x);if(z)return (x=[],this.wc.xva(),w.eZ("encv"),x.push({Bd:0,fl:!1,data:l.concat(this.wc.ya())}),this.wc.Vua(),w.eZ(y[0]),w=r.qna(z,v),x.push({Bd:w,fl:!0,data:l.concat(this.wc.ya())}),x);}};r.kJ={};return r;})();b.Fr=a;a.kJ[q.DF]=t.default;a.kJ[q.EF]=h.default;},function(t){t.exports=function g(a,c){var l;a.__proto__ && a.__proto__ !== Object.prototype && g(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){l=Object.getOwnPropertyDescriptor(a,m);void 0 !== l && Object.defineProperty(c,m,l);});};},function(t,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);g=a(153);l=a(274);m=a(90);t=a(1030);d=(function(){function f(h){h?(this.Lf=h.Lf.slice(),this.kh=h.kh.slice(),this.Ud=h.Ud.slice(),this.trim=h.trim):(this.Lf=[],this.kh=[],this.Ud=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.Lf.length && 0 === this.kh.length && 0 === this.Ud.length;},enumerable:!0,configurable:!0}});return f;})();t=(function(f){function h(k,n,p){k=f.call(this,k,n,p) || this;k.AV=[];k.rb=new d();return k;}c.__extends(h,f);h.sja=function(k,n){if(n.offset + n.size <= k.byteLength)switch(n.size){case 1:k.setUint8(n.offset,n.value);break;case 2:n.qv?k.setInt16(n.offset,n.value):k.setUint16(n.offset,n.value);break;case 4:n.qv?k.setInt32(n.offset,n.value):k.setUint32(n.offset,n.value);break;case 8:g.assert(!n.qv);k.setUint32(n.offset,Math.floor(n.value / 4294967296));k.setUint32(n.offset + 4,n.value & 4294967295);break;default:g.assert(!1);}};Object.defineProperties(h.prototype,{Pz:{get:function(){return !this.rb.empty;},enumerable:!0,configurable:!0}});h.prototype.MB=function(k,n){this.rb.kh.push({offset:void 0 !== n?n:this.offset,value:k,size:1});void 0 === n && (this.offset+=1);};h.prototype.Lza=function(k,n){this.rb.kh.push({offset:void 0 !== n?n:this.offset,value:k,size:2,qv:!1});void 0 === n && (this.offset+=2);};h.prototype.jh=function(k,n){this.rb.kh.push({offset:void 0 !== n?n:this.offset,value:k,size:4,qv:!1});void 0 === n && (this.offset+=4);};h.prototype.Mza=function(k,n){this.rb.kh.push({offset:void 0 !== n?n:this.offset,value:k,size:8,qv:!1});void 0 === n && (this.offset+=8);};h.prototype.W_=function(k){this.jh(m.YS(k));};h.prototype.cK=function(k,n){this.rb.Ud.push({offset:this.offset,Jl:k,value:n});this.offset+=4;};h.prototype.Ke=function(k,n,p){this.rb.Lf.push({offset:n,remove:k,fb:p});};h.prototype.gv=function(k,n,p,q){this.rb.Lf.push({offset:p,remove:k,replace:n,fb:q});};h.prototype.trim=function(k){this.rb.trim=k;};h.prototype.xva=function(){this.AV.push(new d(this.rb));};h.prototype.Vua=function(){this.rb=this.AV.pop() || new d();};h.prototype.ya=function(){var k,n,p,q,u,r,w;k=this;if(0 === this.rb.Lf.length && 0 === this.rb.kh.length && 0 === this.rb.Ud.length)return [void 0 === this.rb.trim?this.view.buffer:this.view.buffer.slice(0,this.rb.trim)];this.rb.Lf.sort(function(v,x){return v.offset - x.offset;});this.rb.kh.sort(function(v,x){return v.offset - x.offset;});this.wwa();n=this.nna();p=this.view.buffer.slice(0,n);q=new DataView(p);this.rb.kh.forEach(h.sja.bind(void 0,q));this.cza(q);this.aza(q);u=[];r=void 0 !== this.rb.trim?Math.min(this.rb.trim,this.view.byteLength):this.view.byteLength;w=0;this.rb.Lf.filter(function(v){return v.offset <= r;}).forEach(function(v){v.offset > w && (u.push(q.buffer.slice(w,v.offset)),v.offset > q.byteLength && q !== k.view && (q=k.view,u.push(q.buffer.slice(n,v.offset))));v.replace && u.push(v.replace);w=v.offset + v.remove;});w < n && u.push(p.slice(w));w < r && u.push(this.view.buffer.slice(Math.max(p.byteLength,w),r));return u;};h.prototype.nna=function(){var k,n,p;k=[];n=this.rb.kh[this.rb.kh.length - 1];p=this.rb.Ud[this.rb.Ud.length - 1];n && k.push(n.offset + n.size);p && k.push(p.offset + 4);this.rb.Lf.filter(function(q){return q.fb;}).forEach(function(q){return k.push(q.fb.byteOffset + 4);});n=Math.max.apply(void 0,k);return void 0 !== this.rb.trim?Math.min(n,this.rb.trim):n;};h.prototype.wwa=function(){this.rb.Lf=this.rb.Lf.reduce(function(k,n){var p,q;if(0 === k.length)return (k.push(n),k);p=k[k.length - 1];q=p.offset + p.remove;n.offset >= q?k.push(n):n.offset + n.remove > q && (g.assert(p.fb === n.fb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?l.concat(p.replace,n.replace):n.replace));return k;},[]);};h.prototype.cza=function(k){var n;n=this;this.rb.Ud.forEach(function(p){var q,u,r,w;q=k;u=p.offset;n.rb.Lf.some(function(v){return v.offset <= p.offset && v.replace && v.offset + v.replace.byteLength >= p.offset + 4?(q=new DataView(v.replace),u=p.offset - v.offset,!0):!1;});r=p.Jl + (void 0 !== p.value?p.value:q.getInt32(u));w=n.rb.Lf.reduce(function(v,x){return x.offset > p.Jl && x.offset < r?v + (x.remove - (x.replace?x.replace.byteLength:0)):v;},0);q.setInt32(u,r - p.Jl - w);});};h.prototype.aza=function(k){this.rb.Lf.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.fb;n;){k.setUint32(n.byteOffset,k.getUint32(n.byteOffset) - p);n=n.parent;}});};return h;})(t.cga);b.bga=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(154);a(154);g=a(90);t=(function(){function l(m,d,f){this.view=m;this.console=d;this.config=f;this.view=m;this.console=d;this.Wn=this.lz=this.offset=0;}l.prototype.ooa=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};l.prototype.Ac=function(m){for(;this.Wn < m;){this.lz=(this.lz << 8) + this.sb();this.Wn+=8;}this.Wn-=m;return this.lz >>> this.Wn & (1 << m) - 1;};l.prototype.sb=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};l.prototype.ad=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};l.prototype.Da=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};l.prototype.WI=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};l.prototype.wua=function(m,d){var f;f=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + m;};l.prototype.Vd=function(m,d){m=this.wua(m,d);this.offset+=8;return m;};l.prototype.xua=function(m,d){var f;f=this.view.getInt32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === ((0 < f?f:-f) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * f + m;};l.prototype.Lva=function(){var m;m=this.xua(void 0,void 0);this.offset+=8;return m;};l.prototype.Ul=function(){return g.Co(this.Da());};l.prototype.iB=function(){var d,f,h,k,n,p;function m(q,u){return ("000000" + q.toString(16)).slice(2 * -u);}d=this.Da(!0);f=this.ad(!0);h=this.ad(!0);k=this.ad();n=this.ad();p=this.Da();return [m(d,4),m(f,2),m(h,2),m(k,2),m(n,2) + m(p,4)].join("-");};l.prototype.Iva=function(m){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + m);};l.prototype.Gva=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var f=this.sb();0 !== f && 0 <= --m;){d.push(f);f=this.sb();}return String.fromCharCode.apply(null,d);};l.prototype.gB=function(m){var d,f;void 0 === d && (d=1);void 0 === f && (f=!0);return this.Zh(this.config.HB && c.Cpa || c.Gq,1,m,d,f);};l.prototype.Eva=function(m,d,f){var h;void 0 === d && (d=2);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.Zh(this.config.HB && c.Apa || c.eA,2,m,d,f,h);};l.prototype.fB=function(m,d,f){var h;void 0 === d && (d=4);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.Zh(this.config.HB && c.Bpa || c.uu,4,m,d,f,h);};l.prototype.Jva=function(){for(var m=this.sb(),d=m & 127;m & 128;){m=this.sb();d=d << 7 | m & 127;}return d;};l.prototype.Zh=function(m,d,f,h,k,n){void 0 === k && (k=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,f,h,n);this.offset=k || !h || h === d?this.offset + f * (h || d):this.offset + d;return m;};return l;})();b.cga=t;},function(t,b,a){var l,m,d,f;function c(h,k,n,p){m.call(this,h,k,n,p);}function g(h,k,n){m.call(this,h,k,n,void 0);}l=a(107);m=a(275).Dr;d=a(445);f=a(90).YS;c.prototype=Object.create(m.prototype);g.prototype=Object.create(c.prototype);g.prototype.gha=function(h,k){return "string" === typeof k?d[k]:k?d.reset[h] || d.Oxa[h]:d.Oxa[h];};g.prototype.bwa=function(h,k,n){return this.ya(h,k,!1,n,void 0);};g.prototype.fwa=function(h,k,n){return this.ya(h,k,!0,n,void 0);};g.prototype.ya=function(h,k,n,p,q){var r,w,v,x,y,z,A,B,E,D,F,G,C,H;function u(K){w=r[K];v=w.ci("traf");if(void 0 === v || void 0 === v.ik)return !1;A=v.ci("tfdt");if(void 0 === A)return !1;x=v.ci("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;r=this.Xa.moof;if(!r || 0 === r.length)return !1;if(void 0 !== h){y=h;for(h=0;h < r.length;++h){if(!u(h,this.wc.console.trace))return !1;if(x.Ob > y || n && x.Ob === y)break;y-=x.Ob;}}else if((h=n?r.length - 1:0,!u(h,this.wc.console.trace)))return !1;if(n && h < r.length - 1){z=r[h + 1];this.wc.Ke(this.EBb - z.startOffset,z.startOffset);}else !n && 0 < h && this.wc.Ke(w.startOffset,0);z=v.ci("tfhd");if(void 0 === z)return !1;A=v.ci("tfdt");B=x.Ob;E=v.ci("saiz");D=v.ci("saio");F=v.ci(l.mS);G=v.ci("sbgp");if(!(!E && !D || E && D))return !1;C=v.ci("sdtp");if(this.Xa.mdat && h < this.Xa.mdat.length)H=this.Xa.mdat[h];else if(h !== r.length - 1)return !1;void 0 === y && (y=n?x.Ob:0);if(x.ya(v,z,H || this.wc,k,y,v.ik,n))x.Pz && (!n && A && A.ya(x.Mxa),E && D && (E.ya(x.jr,n),D.ya(F?0:E.hJ,v.ik,n)),F && F.ya(x.jr,n),C && C.ya(x.jr,B,n),G && G.ya(x.jr,n));else if(!n){if(h === r.length - 1)return !1;this.wc.Ke(r[h + 1].startOffset - w.startOffset,w.startOffset);}else if(0 === x.jr)return !1;p && (k=this.gha(this.stream.profile,q)) && x.jwa(v,z,H,n,p,k);n=this.wc.ya();p=n.reduce(function(K,M){return K + M.byteLength;},0);n={Od:n,length:p,fo:this.wc.view.byteLength};x.Pz && !H && (n.$q=v.ik + x.$q,n.hj=x.hj);return n;};t.exports={Er:g,GA:function(h){var k,n;k=new ArrayBuffer(8);n=new DataView(k);n.setUint32(0,h + 8);n.setUint32(4,f("mdat"));return k;}};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);t=a(275);g=a(274);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.ya=function(d){var f,h,k,n;f=this;if(!this.parse().done)return !1;h=this.Xa.moov;if(!h || 0 === h.length)return !1;k=h[0].Ol("tenc");if(!k)return !1;n=new Uint8Array(k.uj);d.forEach(function(p){for(var q=p.from,u=!0,r=0;r < q.length;r++){if(n[r] !== q[r]){u=!1;break;}}u && f.wc.gv(p.from.length,p.to,k.aI);});return g.concat(this.wc.ya());};return m;})(t.Dr);b.BK=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Vj || (b.Vj={});t[t.Yb=0]="AUDIO";t[t.Pb=1]="VIDEO";},function(t,b,a){var d,f,h,k,n,p,q,u,r,w,v,x;function c(y,z,A){this.kV=z;this.Ic=y.filter(function(B){return B.Rya[q.El.o2];}).map(function(B){return {track:B,stream:B.Rya[q.El.o2],id:B.BWa[q.El.o2]};});A || (this.Ic=this.Ic.filter(function(B){return B.track.xg === z;}));}function g(y,z,A){var B;this.HJ=z;this.Ou=A;B=y[0];this.RJ=B.streams.map(function(E){return {track:B,XN:E.Wab,stream:E};});}function l(y,z,A,B,E){function D(F,G){return F.bitrate > G.bitrate?F:G;}this.log=y;this.HJ=A;this.kV=B;this.RJ=z.map(function(F){var G;G=F.streams.reduce(D);return {track:F,XN:G.vB?G.vB.offset + G.vB.size:void 0,stream:G};});E || (this.RJ=this.RJ.filter(function(F){return F.track.xg === B;}));}function m(y,z,A,B,E,D){this.zLb=y;this.ALb=z;this.VVb=A;this.Kwb=B;this.OH=E;this.bg=D;this.wa=D.mb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Mmb=b.Ymb=b.efb=b.tEa=void 0;t=a(1);d=a(0);f=a(266);h=a(438);k=a(440);n=a(3);p=a(41);q=a(45);u=a(448);r=a(449);w=a(265);v=a(7);x=a(1035);m.prototype.ti=function(y,z){var A,B,E,D,F,G;A=this;D=y.Nb;y=this.fHb(D,z);F=this.FKb(D,z);G=null !== (E=null === (B=D.YY) || void 0 === B?void 0:B.oQ) && void 0 !== E?E:D.p_.find(function(C){var H;return C.id === (null === (H=D.v5) || void 0 === H?void 0:H[0].zbb);}).xg;B=new c(D.p_,G,this.OH.ija);return Promise.all([y,F,B]).then(function(C){var H,K;H=ba(C);C=H.next().value;K=H.next().value;H=H.next().value;C={audio:C.getMetadata(),video:K.getMetadata(),text:H.getMetadata(),MVa:C.poa(),kCb:H.poa(),duration:D.duration,ul:D.ul};K=A.Kwb.EHb(C);z("h_s");return {qQb:A.VVb.transform(C,K),Nwb:K,y1b:C};});};m.prototype.FKb=function(y,z){var A;A=new g(y.LB,this.OH.T0a,this.OH.Ou);return this.vWa(A.RJ,f.Vj.Pb,z).then(function(B){A.lxa(B);return A;});};m.prototype.fHb=function(y,z){var A,B,E,D;E=null !== (B=null === (A=y.YY) || void 0 === A?void 0:A.Dn) && void 0 !== B?B:y.Qt.find(function(F){var G;return F.id === (null === (G=y.v5) || void 0 === G?void 0:G[0].Dn);}).xg;D=new l(this.wa,y.Qt,this.OH.hx,E,this.OH.ija);return this.vWa(D.RJ,f.Vj.Yb,z).then(function(F){D.lxa(F);return D;});};m.prototype.oua=function(y,z,A,B){if(y=this.ALb.parse(z,y,A))return y;this.wa.error("Failed to parse headers",{type:z === f.Vj.Yb?"audio":"video",downloadableId:B.stream.gs});};m.prototype.vWa=function(y,z,A){var B;B=this;return Promise.all(y.map(function(E,D){if(E.XN)return B.zLb.download({urls:E.stream.urls,offset:0,length:E.XN}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + D + "_s");return B.oua(F,z,z == f.Vj.Yb?B.OH.hx:B.OH.QA,E);}).catch(function(){A("h_" + E.track.yl[0] + "_" + D + "_f");B.wa.warn("Failed to download and parse headers for " + E.stream.gs);});B.wa.warn("Stream data offset is missing",{downloadableId:E.stream.gs});}));};a=m;a=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(h.IEa)),t.__param(1,(0,d.l)(k.MEa)),t.__param(2,(0,d.l)(u.wEa)),t.__param(3,(0,d.l)(r.JBa)),t.__param(4,(0,d.l)(w.Cda)),t.__param(5,(0,d.l)(v.ub))],a);b.tEa=a;l.prototype.lxa=function(y){var z;z=this;if(!y.find(function(A){return void 0 !== A;}))throw p.od.peb(n.N.qFa,n.M.mea);this.Ic=this.RJ.map(function(A,B){if(B=y[B])return {track:A.track,stream:A.stream,Y:B,HJ:z.HJ};}).filter(x.bra);};l.prototype.getMetadata=function(){return this.Ic;};l.prototype.poa=function(){var y,z;y=this;if(!this.Ic.find(function(A){return A.track.xg === y.kV;}) && 0 < this.Ic.length){z=this.Ic[0].track.xg;this.log.warn("Did not find metadata for audio track " + this.kV + ", falling back to " + z);return z;}return this.kV;};b.efb=l;g.prototype.lxa=function(y){var z,A;z=this;if(!y.find(function(B){return void 0 !== B;}))throw p.od.peb(n.N.qFa,n.M.nea);A=this.RJ.map(function(B,E){if(E=y[E])return {track:B.track,stream:B.stream,Y:E,HJ:z.HJ};}).filter(x.bra);this.Ic=this.uJb(A);};g.prototype.getMetadata=function(){return this.Ic;};g.prototype.uJb=function(y){var z,A,B;z=this;y.sort(function(E){return E.stream.bitrate;});A=y.findIndex(function(E){var D;return (null !== (D=E.stream.xb) && void 0 !== D?D:0) >= z.Ou;});if(-1 !== A && A !== y.length - 1){B=y[A];y.splice(A,1);y.push(B);}y.reverse();return y;};b.Ymb=g;c.prototype.poa=function(){return this.kV;};c.prototype.getMetadata=function(){return this.Ic;};b.Mmb=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bra=void 0;b.bra=function(a){return void 0 !== a && null !== a;};},function(t,b,a){var g,l,m,d,f,h;function c(k){this.wa=k.mb("HLSPlaylistTransformerImpl");this.x5b=d.O0.So();this.Pub=f.lda.So();}Object.defineProperty(b,"__esModule",{value:!0});b.vEa=void 0;t=a(1);g=a(0);l=a(7);m=a(132);d=a(276);f=a(450);h=[0,1];c.prototype.transform=function(k,n){var p,q,u,r,w,v,x,y,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];u=k.text;r=k.audio;w=k.video;v=k.duration;x=k.MVa;y=k.kCb;u.forEach(function(A){h.forEach(function(B){var E,D,F,G;E=0 === B;D=A.stream;F=A.track;G=n.get(A.id);E=E?G.kP:G.Aaa;D=p.rKb({url:E.url,duration:v / 1E3,size:D.size,xm:"Manifest for subtitles " + F.language + ' stream "' + F.YD + '", ' + F.xg + ", cdn " + E.mq});p.wa.trace("Text variant manifest",D.join("\n"));B=p.sKb({groupId:B,name:F.YD,Lqa:F.xg === y,jp:F.m8,lNb:F.yl === m.Op.jca,language:F.language,uri:p.W8(D)});q.push(B);});});r.forEach(function(A){h.forEach(function(B){var E,D,F,G,C,H;E=0 === B;D=A.stream;F=A.track;G=A.Y;C=A.HJ;H=n.get(D.gs);E=E?H.kP:H.Aaa;D=p.l_a({url:E.url,XN:D.vB.offset + D.vB.size,Y:G,Obb:Math.floor(C / 1E3),xm:"Manifest for audio " + F.language + ' stream "' + F.YD + '", ' + F.xg + ", cdn " + E.mq});p.wa.trace("Audio variant manifest",D.join("\n"));B=p.gHb({groupId:B,language:F.language,name:F.YD,Lqa:F.xg === x,uri:p.W8(D)});q.push(B);});});z=this.Pub[r[0].track.profile];w.forEach(function(A){h.forEach(function(B){var E,D,F,G,C,H;E=0 === B;D=A.stream;F=A.track;G=A.Y;C=A.HJ;H=n.get(D.gs);H=E?H.kP:H.Aaa;E=0 < u.length;F=p.l_a({url:H.url,XN:D.vB?D.vB.offset + D.vB.size:D.Wab,Y:G,Obb:Math.floor(C / 1E3),xm:"Manifest for video bitrate " + D.bitrate + ", stream " + F.xg + ", cdn " + H.mq});p.wa.trace("Video variant manifest",F.join("\n"));B=p.GKb({groupId:B,yU:1E3 * D.bitrate,cvb:1E3 * D.bitrate,ONb:0 <= D.ZG.indexOf("-hdr-") || 0 <= D.ZG.indexOf("-dv5-"),framerate:(D.AYa / D.zYa).toFixed(3),eJ:D.J9a + "x" + D.K9a,t5b:p.x5b[D.ZG],Lub:z,z2b:E});q.push(B);B=p.W8(F);q.push("" + B);});});this.wa.trace("Primary manifest",q.join("\n"));return this.W8(q);};c.prototype.gHb=function(k){var n;n=k.Lqa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + k.groupId + '"','CHANNELS="2"','LANGUAGE="' + k.language + '"','NAME="' + k.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + k.uri + '"'].join(", ");};c.prototype.l_a=function(k){var n;n=["#EXTM3U","# " + k.xm,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + k.Obb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + k.XN + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];k.Y.forEach(function(p,q){n.push("#EXTINF:" + p.duration.toFixed(3) + "," + p.$.toFixed(3));n.push("#EXT-X-BYTERANGE:" + p.Vvb + "@" + p.byteOffset);n.push("{$U}&fi=" + q);});n.push("#EXT-X-ENDLIST");return n;};c.prototype.GKb=function(k){var n,p;n=k.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + k.yU,"AVERAGE-BANDWIDTH=" + k.cvb,"VIDEO-RANGE=" + (k.ONb?"PQ":"SDR"),"FRAME-RATE=" + k.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + k.eJ,'CODECS="' + k.t5b + "," + k.Lub + '"'];k.z2b && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.rKb=function(k){var n;n=k.duration;return ["#EXTM3U","# " + k.xm,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + k.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.sKb=function(k){var n,p,q;n=k.Lqa;p=k.language;q=k.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + k.groupId + '"','NAME="' + k.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (k.jp?"YES":"NO")];k.lNb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + q + '"');return n.join(", ");};c.prototype.W8=function(k){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(k.join("\n"));};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub))],a);b.vEa=a;},function(t,b,a){var g,l,m,d,f;function c(h,k){var p;function n(){p.uua.then(function(q){p.wa.trace("Unloading PBO Playdata Services");q.close();});d.we.removeListener(d.Ql,n);}p=this;this.r7a=k;this.uua=k();this.wa=h.mb("PlayerPlaydataMonitorImpl");d.we.addListener(d.Ql,n);}Object.defineProperty(b,"__esModule",{value:!0});b.jKa=void 0;t=a(1);g=a(0);l=a(7);m=a(156);d=a(62);f=a(15);c.prototype.yp=function(h,k){this.uua.then(function(n){n.yp(k,!0,function(p){return h.close(p);});n.Uxa(k);h.addEventListener(f.Ga.Tua,function(){h.Kq() && n.A$a(k).catch(function(p){(p=p.fP) && h.close(p);});});h.addEventListener(f.Ga.Zl,function(){n.Iaa(k).catch(function(p){(p=p.fP) && h.close(p);});});h.addEventListener(f.Ga.rm,function(){n.Iaa(k).catch(function(p){(p=p.fP) && h.close(p);});});});};c.prototype.WZ=function(h){return this.uua.then(function(k){k.hbb();return k.WZ(h).catch();});};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub)),t.__param(1,(0,g.l)(m.rS))],a);b.jKa=a;},function(t,b,a){var g,l,m,d;function c(f){this.Vsa={};this.S7={};this.G8=-1;this.hya=new m.ic(null);this.cva=new m.ic(null);this.wa=f.mb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.mMa=void 0;t=a(1);g=a(0);l=a(40);m=a(80);a=a(7);c.prototype.Eb=function(f,h,k){var n;n=this;f.forEach(function(p){p.stream.urls.forEach(function(q){n.Vsa[q.url]=[p,q.mq];});});this.ama=h;this.cCb=k;new PerformanceObserver(function(p){n.e4b(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.Q$a=function(f){var h,k,n;if(this.ama){k=this.V6(f);if(k !== this.G8){for(this.G8=k;0 <= k && !this.S7[k];){k--;}n=ba(null !== (h=this.S7[k]) && void 0 !== h?h:[this.ama,this.cCb]);h=n.next().value;n=n.next().value;this.wa.debug("Setting time to " + f + ", using metadata from fragment " + k + " for " + ((0,l.U4a)(h.track.type) + " track with bitrate ") + (h.stream.bitrate + " from cdn " + n));f=h.Y[this.G8];k=f.$;this.cva.set({stream:h,um:{startTime:Math.floor(1E3 * k),endTime:Math.floor(1E3 * (k + f.duration))},cD:n});}}};c.prototype.V6=function(f){var h,k,n,p,q;h=this.ama.Y;f/=1E3;k=0;n=h.length - 1;if(f >= h[n].$)return n;for(;n >= k;){p=k + Math.floor((n - k) / 2);q=h[p];if(f < q.$)n=p - 1;else if(f >= q.$ + q.duration)k=p + 1;else return p;}return h.length - 1;};c.prototype.e4b=function(f){var h;h=this;f.filter(function(k){return "video" === k.initiatorType;}).forEach(function(k){var n,p,q;n=k.name.indexOf("&fi=");if(0 < n){p=k.name.substring(0,n);n=Number(k.name.substring(n + 4));if(h.Vsa[p]){q=ba(h.Vsa[p]);k=q.next().value;q=q.next().value;p && !Number.isNaN(n) && k && (h.S7[n] && (h.G8=-1),h.S7[n]=[k,q],p=k.Y[n].$,!1,h.hya.set(k,{PG:Math.floor(1E3 * p),cD:q}));}}});};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.ub))],d);b.mMa=d;},function(t,b,a){var g,l,m,d;function c(f){return l.bf.call(this,f,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PEa=void 0;t=a(1);g=a(0);l=a(47);m=a(37);a=a(46);na(c,l.bf);Ya.Object.defineProperties(c.prototype,{V7a:{configurable:!0,enumerable:!0,get:function(){return !0;}},hx:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},QA:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},T0a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Ou:{configurable:!0,enumerable:!0,get:function(){return 80;}},ija:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;t.__decorate([a.config(a.cd,"playsInline")],d.prototype,"V7a",null);t.__decorate([a.config(a.QD,"minAudioMediaRequestDuration")],d.prototype,"hx",null);t.__decorate([a.config(a.QD,"minVideoMediaRequestDuration")],d.prototype,"QA",null);t.__decorate([a.config(a.QD,"hlsVideoMediaRequestTargetDuration")],d.prototype,"T0a",null);t.__decorate([a.config(a.QD,"minStartingVideoVMAF")],d.prototype,"Ou",null);t.__decorate([a.config(a.cd,"allowMultipleAudioTextTracks")],d.prototype,"ija",null);d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.fm))],d);b.PEa=d;},function(t,b,a){var g,l;function c(m){this.wa=m.mb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.IBa=void 0;t=a(1);g=a(0);a=a(7);c.prototype.EHb=function(m){var f,h,k,n,p,q,u;function d(r,w,v){var x,y,z;x=r.map(function(A){return A.mq;});x.sort(function(A,B){return w[A] - w[B];});if(1 === x.length)(!1,k.set(v,{kP:r[0],Aaa:r[0]}));else {y=x.find(function(A){return f.has(A);});y || ((y=x.find(function(A){return !h.has(A);}))?f.add(y):(y=x[0],!1));z=x.find(function(A){return h.has(A) && A !== y;});z || ((z=x.find(function(A){return !f.has(A) && A !== y;}))?h.add(z):(z=x.find(function(A){return A !== y;}),!1));k.set(v,{kP:r.find(function(A){return A.mq === y;}),Aaa:r.find(function(A){return A.mq === z;})});}}f=new Set();h=new Set();k=new Map();n=m.video;p=m.audio;q=m.text;u=m.ul.reduce(function(r,w){r[w.id]=w.ec;return r;},{});n.forEach(function(r){r=r.stream;d(r.urls,u,r.gs);});p.forEach(function(r){r=r.stream;d(r.urls,u,r.gs);});q.forEach(function(r){var w,v;if(!r.track.UD || r.track.m8){w=r.track;v=r.id;r=Object.entries(r.stream.Hw).map(function(x){var y;y=ba(x);x=y.next().value;y=y.next().value;return {mq:Number(x),url:y};});w=w.xTa.reduce(function(x,y){x[y.id]=y.ec;return x;},{});d(r,w,v);}});return k;};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.ub))],l);b.IBa=l;},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p,q,u,r){this.bg=n;this.BA=p;this.ag=q;this.vc=u;this.Ea=r;}Object.defineProperty(b,"__esModule",{value:!0});b.YR=void 0;t=a(1);g=a(0);l=a(19);m=a(7);d=a(50);f=a(186);h=a(87);k=a(1042);c.prototype.create=function(n){return new k.$R(this.bg,this.BA,this.ag,this.Ea,this.vc,n);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.ub)),t.__param(1,(0,g.l)(h.jy)),t.__param(2,(0,g.l)(d.kn)),t.__param(3,(0,g.l)(f.cea)),t.__param(4,(0,g.l)(l.md))],a);b.YR=a;},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p,q,u,r,w){var v;v=this;this.BA=p;this.ag=q;this.Ea=u;this.vc=r;this.Ysa=this.RD=this.iZ=0;this.dI=!1;this.fE=function(){var x;x=v.yY();x.prstate=v.cA();x.paustate=v.j.ZW();x.midplayseq=v.Ysa++;v.vc.$N(x);v.Jc(g.ed.fE,void 0,k.Ae | k.zt,x);};this.si=function(){v.Jc(g.ed.QSa,void 0,k.Ae | k.Gp,{});};this.Zl=function(x){v.Hra=v.getTime();v.Ira=x.oldValue;};this.qU=function(x){v.sra=x.oldValue;};this.z$=function(x){x != v.dI && (v.Wxa(v.dI,x),v.dI=x);};this.Wxa=function(x,y){var z;z=v.j.xa;x={newstate:y?"Paused":"Playing",oldstate:x?"Paused":"Playing"};v.vc.Hq(x,z.pe.value && z.pe.value.stream,z.qf.value && z.qf.value.stream);v.Jc(g.ed.fbb,void 0,k.Ae,x);};this.QZ=function(x){v.Jc(g.ed.Uab,void 0,k.Ae,{speedold:Math.floor(1E3 * x.oldValue),speed:Math.floor(1E3 * x.newValue)});};this.AB=function(x){var y,z,A;y=v.j.xa;z=y.kc.value;if(x.newValue || z && z.Jq() && !z.jp()){A=(x=null !== (A=x.newValue) && void 0 !== A?A:z)?{trackId:x.trackId,bcp47:x.Uf,downloadableId:x.Dc,rank:x.ec,isImageBased:x.wk}:{};x=(x=v.Ira)?{trackId:x.trackId,bcp47:x.Uf,downloadableId:x.Dc,rank:x.ec,isImageBased:x.wk}:{};A={switchdelay:(0,l.Xf)(v.getTime() - v.Hra),track:A,oldtrack:x};v.vc.Hq(A,y.pe.value && y.pe.value.stream,y.qf.value && y.qf.value.stream);v.Jc(g.ed.jcb,void 0,k.Ae,A);}};this.Hua=function(x,y){var z;z=v.j.xa;x={waittime:(0,l.Xf)(x),abortedevent:"resumeplay",resumeplayreason:y};v.vc.Hq(x,z.Ze.value,z.sh.value);v.Jc(g.ed.J$,void 0,k.Ae | k.Gp,x);};this.EP=function(x,y,z){x={playdelay:(0,l.Xf)(x),reason:z,intrplayseq:v.RD - 1,skipped:y};"repos" === z && (x.prstate=!0 === v.j.Fj.value?"playing":"paused");v.Jc(g.ed.EP,void 0,k.Ae | k.yt,x);};this.Gja=function(){var x,y,z,A;y=v.j.xa.tc.value;z=v.j.xa.sh.value.Dc;y=y?{trackId:y.trackId,bcp47:y.Uf,downloadableId:z,rank:y.ec,chan:y.channels}:{};z=v.xA;A=null === (x=v.sra) || void 0 === x?void 0:x.Dc;x=z?{trackId:z.trackId,bcp47:z.Uf,downloadableId:A,rank:z.ec,chan:z.channels}:{};v.Jc(g.ed.sSa,void 0,k.Ae,{switchdelay:(0,l.Xf)(v.getTime() - v.tra),track:y,oldtrack:x});};this.rm=function(x){v.tra=v.getTime();v.xA=x.oldValue;};this.Iua=function(){var x,y,z;x=v.j.xa;y={abortedevent:"startplay",trackid:x.Nj,prstate:v.cA(),paustate:v.j.ZW()};try{z=(0,m.GH)();z && (y.pdltime=z);(0,l.bc)(y,x.Tc,{prefix:"sm_"});}catch(A){}v.vc.R7(y,x);v.vc.aO(y,x.Ag.value);v.vc.Hq(y,x.Ze.value,x.sh.value);v.SH(y);v.Jc(g.ed.J$,void 0,k.Ae | k.zt | k.Gp,y);};this.DM=function(x,y,z,A){x={moff:(0,l.Zo)(z),moffms:(0,l.Xf)(z),vbitrate:y.bitrate,vbitrateold:x.bitrate,vdlid:y.Dc,vdlidold:x.Dc,vheight:y.height,vheightold:x.height,vwidth:y.width,vwidthold:x.width,bw:A};v.Jc(g.ed.DM,void 0,0,x);};this.wP=function(x,y,z){x={moffold:(0,l.Zo)(x),reposseq:v.iZ++,prstate:v.cA(),paustate:v.j.ZW()};v.vc.Hq(x,z && z.stream,y && y.stream);v.Jc(g.ed.wP,void 0,k.Ae,x);};this.ME=function(x){var y,z,A,B,E;B=x.xa;E={playdelaysdk:(0,l.Xf)(v.j.IU()),applicationPlaydelay:(0,l.Xf)(v.j.pka()),playdelay:(0,l.Xf)(v.j.rka()),trackid:B.Nj,bookmark:(0,l.Xf)(B.xw || 0),pbnum:B.index};v.j.si && (E.blocked=v.j.si);E.initvbitrate=v.j.SW;v.vc.rqa(E);v.vc.j1a(E);E.esnSource=null === (y=nb._cad_global.device) || void 0 === y?void 0:y.Y5;v.t1a(E,B);E.pdltime=(0,m.GH)();(0,l.bc)(E,B.Tc,{prefix:"sm_"});E.ttTrackFields=null === (z=B.kc.value) || void 0 === z?void 0:z.Wh;v.vc.f1a(E,B.tc.value);v.vc.aO(E,B.Ag.value);E.packageId=null === (A=B.oa) || void 0 === A?void 0:A.Nb.pp;v.vc.$N(E);v.vc.R7(E,B);v.SH(E);v.Jc(g.ed.ME,x.Ph,k.Ae | k.yt | k.zt | k.iF | k.Gp,E);};this.oH=function(){var x,y,z;x=v.j;y=x.xa;x=x.Ph;z=v.yY();z.paustate=!v.j.Kq();z.muted=v.j.Uqa();z.endreason=x?"error":v.j.Nqa()?"ended":"stopped";v.vc.aO(z,y.Ag.value);v.vc.$N(z);v.SH(z);v.Jc(g.ed.oH,x,k.Ae | k.yt | k.zt | k.iF | k.Gp,z);};this.hwa=function(x,y,z){var A;A=v.j.xa.qf;x={moff:(0,l.Zo)(z),moffms:(0,l.Xf)(z),vdlidold:x.Dc,vbitrateold:x.bitrate};v.vc.Hq(x,y,A.value && A.value.stream);v.Jc(g.ed.q9a,void 0,0,x);};this.cA=function(){var x;x=v.j.Ab.value;return x === f.hb.Lc?"playing":x === f.hb.ph?"paused":x === f.hb.yr?"ended":"waiting";};this.wa=n.mb("LogblobBuilderImpl");this.j=w;}Object.defineProperty(b,"__esModule",{value:!0});b.$R=void 0;g=a(277);l=a(24);m=a(49);d=a(3);f=a(15);h=a(5);c.prototype.getTime=function(){return this.Ea.$b().da(h.la);};c.prototype.ipa=function(){return this.getTime() - this.j.xa.dj.da(h.la);};c.prototype.t1a=function(n,p){var q;if(p=null === (q=p.Ag.value) || void 0 === q?void 0:q.streams)(n.maxbitrate=(0,m.RQ)(p.map(function(u){return u.bitrate;})),n.maxresheight=(0,m.RQ)(p.map(function(u){return u.height;})));};c.prototype.SH=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.yY=function(){var n,p,q,u;n=this.j.xa;p=n.Tl;q={totaltime:(0,l.Zo)(p.QN()),totalcontenttime:(0,l.Zo)(p.xpa()),reposcount:this.iZ,intrplaycount:this.RD};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});u=n.Ze.value;u && (q.videofr=u.framerate.toFixed(3));(u=p.foa()) && (q.abrdel=u);(u=p.D0a() && p.PYa()) && (q.tw_vmaf=u);(p=p.NYa()) && (0,l.bc)(q,p);q.rbfrs=this.RD;this.t1a(q,n);return q;};c.prototype.Jc=function(n,p,q,u){var r,w,v;r=this;p && (0,d.sda)(p.errorCode,this.ipa()) && (w="info");v=this.j.xa;this.Oia(u,p,q);p=w || (p?"error":"info");u=this.BA.$t(n,p,u,v);this.ag.Jc(u);"error" !== p && n !== g.ed.oH || this.ag.flush(!1).catch(function(){r.wa.debug("Failed to flush the logblobs");});};c.prototype.Oia=function(n,p,q){var u;u=this.j.xa;this.vc.i1a(n,u);q & k.Ae && this.vc.p1a(n,u);q & k.yt && this.vc.r1a(n,u);q & k.zt && this.vc.s1a(n,this.j.Sn());p && q & k.iF && this.vc.l1a(n,u,p);q & k.Gp && this.vc.rqa(n);};b.$R=c;(function(n){n[n.Ae=1]="MOFF";n[n.yt=2]="PRESENTEDSTREAMS";n[n.zt=4]="SCREEN";n[n.iF=8]="FATALERROR";n[n.Gp=16]="BROWSERINFO";})(k || (k={}));},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p,q,u,r){this.ag=n;this.config=p;this.za=q;this.Ea=u;this.dsa=r;}Object.defineProperty(b,"__esModule",{value:!0});b.aS=void 0;t=a(1);g=a(0);l=a(19);m=a(38);d=a(13);f=a(50);h=a(451);k=a(1044);c.prototype.create=function(n){return new k.cS(n,this.ag,this.config,this.Ea,this.dsa.create(n));};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(f.kn)),t.__param(1,(0,g.l)(d.bd)),t.__param(2,(0,g.l)(m.gi)),t.__param(3,(0,g.l)(l.md)),t.__param(4,(0,g.l)(h.ZR))],a);b.aS=a;},function(t,b,a){var g,l,m;function c(d,f,h,k,n){var p;p=this;this.j=d;this.ag=f;this.config=h;this.Ea=k;this.qb=n;this.OU=function(){p.pg();p.j.xa.Ri.removeListener(p.AB);p.j.xa.kc.removeListener(p.qb.Zl);p.j.xa.tc.removeListener(p.rm);p.j.xa.sh.removeListener(p.qb.qU);p.j.Fj.removeListener(p.U7a);p.j.xP.removeListener(p.Fk);p.j.xa.pe.removeListener(p.GY);p.j.Ab.removeListener(p.Bw);p.j.Ab.removeListener(p.BM);p.j.xa.Ze.removeListener(p.P_);p.j.xa.playbackRate.removeListener(p.qb.QZ);p.j.removeEventListener(m.Ga.closed,p.OU);p.j.removeEventListener(m.Ga.q4,p.qb.si);};this.BM=function(){p.j.Ab.value === m.hb.Lc && (p.j.Ab.removeListener(p.BM),p.Vq());};this.AB=function(q){p.ZA && p.qb.AB(q);};this.Fk=function(q){p.ZA && void 0 !== q.newValue && (p.Ps && p.Fp && p.qb.Hua(p.getTime() - p.Fp,p.Ps),p.Ps="repos",p.qb.wP(q.newValue,p.j.xa.qf.value,p.j.xa.pe.value),p.Fp=p.getTime(),(0,l.Wf)(p.Bw));};this.U7a=function(q){p.ZA && p.qb.z$(!q.newValue);};this.rm=function(q){q.oldValue && (p.xA=q.oldValue,p.qb.rm(q),p.Ps="repos",p.Fp=p.getTime(),(0,l.Wf)(p.Bw));};this.Bw=function(){var q;if(p.Fp && p.j.Ab.value !== m.hb.Sf){q=p.getTime() - p.Fp;p.qb.EP(q,!1,p.Ps);p.xA && p.xA != p.j.xa.tc.value && p.qb.Gja();p.Fp=void 0;p.Ps=void 0;}};this.Vq=function(){p.ZA || (p.ZA=!0,p.qb.ME(p.j),p.yqa(),p.config().Y7 && (p.sA=nb.setTimeout(function(){p.ag.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.sA=void 0;},p.config().Y7)));};this.pg=function(){p.sA && (nb.clearTimeout(p.sA),p.sA=void 0);p.D_ && p.D_();p.ZA?p.qb.oH():p.j.Ph?p.qb.ME(p.j):p.qb.Iua();};this.P_=function(q){q.oldValue && q.zm && q.zm.PG && p.qb.DM(q.oldValue,q.newValue,q.zm.PG,q.zm.yU);};this.GY=function(q){var u;if(q.newValue){u=q.newValue.stream;p.eI != u && (p.eI && p.qb.hwa(p.eI,u,q.newValue.um.startTime),p.eI=u);}};this.Xaa();}Object.defineProperty(b,"__esModule",{value:!0});b.cS=void 0;g=a(5);l=a(63);m=a(15);c.prototype.Xaa=function(){this.j.addEventListener(m.Ga.closed,this.OU);this.j.addEventListener(m.Ga.q4,this.qb.si);this.j.xa.Ri.addListener(this.AB);this.j.xa.kc.addListener(this.qb.Zl);this.j.xa.tc.addListener(this.rm);this.j.xa.sh.addListener(this.qb.qU);this.j.Fj.addListener(this.U7a);this.j.xP.addListener(this.Fk);this.j.xa.pe.addListener(this.GY);this.j.Ab.addListener(this.Bw);this.j.Ab.addListener(this.BM);this.j.xa.Ze.addListener(this.P_);this.j.xa.playbackRate.addListener(this.qb.QZ);};c.prototype.getTime=function(){return this.Ea.$b().da(g.la);};c.prototype.yqa=function(){var d,f,h;d=this;h=[];this.config().a5a && (this.config().b5a.forEach(function(k){h.push(nb.setTimeout(d.qb.fE,k));}),this.config().u9 && (f=nb.setInterval(this.qb.fE,this.config().u9)),this.D_=function(){h.forEach(function(k){nb.clearTimeout(k);});f && nb.clearInterval(f);});};b.cS=c;},function(t,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.JJ=void 0;t=a(0);c=a(1046);g=a(1047);l=a(452);m=a(453);b.JJ=new t.rd(function(d){d(m.KMa).to(c.JMa);d(l.HMa).Mj(new g.GMa());d(m.IMa).Af(function(f){return function(){return f.fb.get(m.KMa);};});});},function(t,b,a){var g,l,m,d;function c(f){this.config=f;this.Ixa=l.eb;this.YP=[];}Object.defineProperty(b,"__esModule",{value:!0});b.JMa=void 0;t=a(1);g=a(0);l=a(52);m=a(5);a=a(452);c.prototype.Fm=function(){var h;for(var f;0 < this.YP.length;){f=this.YP.shift();this.$Qa(f);}f=void 0 === this.uV || void 0 === this.iH?m.eb:this.iH.Ka(this.uV);h=f.H2a()?0:this.Ixa.da(l.dF) / f.da(m.la);return {xya:Math.floor(h),Tbc:f.da(m.la)};};c.prototype.Xsb=function(f){this.Ixa=this.Ixa.add(f.size);this.YP.push(f.sDb);for(this.YP.sort(function(h,k){return h.start.Ll(k.start);});this.YP.length > this.config.tDb;){f=this.YP.shift();this.$Qa(f);}};c.prototype.$Qa=function(f){void 0 === this.uV && (this.uV=f.start);void 0 !== this.iH && 0 > this.iH.Ll(f.start) && (this.uV=this.uV.add(f.start.Ka(this.iH)));if(void 0 === this.iH || 0 > this.iH.Ll(f.end))this.iH=f.end;};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.HMa))],d);b.JMa=d;},function(t,b,a){function c(g){this.tDb=void 0 === g?10:g;}Object.defineProperty(b,"__esModule",{value:!0});b.GMa=void 0;t=a(1);a=a(0);c=t.__decorate([(0,a.T)()],c);b.GMa=c;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F;Object.defineProperty(b,"__esModule",{value:!0});b.Jn=void 0;t=a(0);c=a(26);g=a(13);l=a(1049);m=a(157);d=a(158);f=a(1050);h=a(278);k=a(1051);n=a(454);p=a(455);q=a(1052);u=a(279);r=a(11);w=a(460);v=a(1056);x=a(461);y=a(1057);z=a(281);A=a(1058);B=a(462);E=a(39);D=a(459);F=a(1059);b.Jn=new t.rd(function(G){G(d.CS).to(f.$La).ba();G(c.$x).to(l.ECa).ba();G(h.KFa).to(k.JFa).ba();G(p.CBa).to(q.BBa).ba();G(h.IJa).Mj({isTypeSupported:r.eC && r.eC.isTypeSupported});G(u.v0).Mj(nb.cast || null);G(u.DBa).Mj(nb.castReceiverEme || null);G(n.VDa).TE(function(C){return {jIb:function(){return C.fb.get(E.tS);}};});G(m.oK).TE(function(C){return C.fb.get(g.bd);});G(w.oHa).to(v.lHa).ba();G(D.kHa).to(F.jHa).ba();G(x.nHa).to(y.mHa).ba();G(z.wda).to(A.UDa).ba();G(B.SKa).Mj(nb);});},function(t,b,a){var g,l,m,d,f,h;function c(k,n,p){this.config=k;this.wTa=n;this.vVb=p;this.aXb=this.cBb();}Object.defineProperty(b,"__esModule",{value:!0});b.ECa=void 0;t=a(1);g=a(26);l=a(157);m=a(0);d=a(45);f=a(454);a=a(455);c.prototype.Z_a=function(k){return this.LYa().$_a(k);};c.prototype.a0a=function(k){return this.vu().$_a(k);};c.prototype.LYa=function(){this.Bja && this.Bja.type == this.config().Cja || (this.Bja=this.wTa.mAb(this.config().Cja));return this.Bja;};c.prototype.vu=function(){this.Qba && this.Qba.type == this.config().Rba || (this.Qba=this.wTa.rBb(this.config().Rba),this.Qba.Qia(this.vVb.jIb()));return this.Qba;};c.prototype.xIb=function(k){var q;if(!k || !k.length)return g.ue.$0;k=this.$Fb(k);for(var n=[g.ue.AS,g.ue.$0,g.ue.ZK,g.ue.fy,g.ue.st,g.ue.RB,g.ue.pC,g.ue.zl],p=n.length;p--;){q=n[p];if((0,this.aXb[q])(k))return q;}return g.ue.AS;};c.prototype.Gx=function(k){return this.vu().Gx(k);};c.prototype.qz=function(k){return this.vu().qz(k);};c.prototype.ru=function(){return this.vu().ru();};c.prototype.S6=function(){return this.vu().S6();};c.prototype.a_=function(){return this.vu().a_();};c.prototype.ZZ=function(){return this.LYa().ZZ();};c.prototype.hba=function(){return this.vu().hba();};c.prototype.b_=function(){return this.vu().b_();};c.prototype.zN=function(k){return this.vu().zN(k);};c.prototype.KN=function(){return this.vu().KN();};c.prototype.g7=function(){return this.vu().g7();};c.prototype.$Fb=function(k){var n;n={};k.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.Kg]="";});return Object.keys(n);};c.prototype.cBb=function(){var k;k={};k[g.ue.zl]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};k[g.ue.RB]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};k[g.ue.pC]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};k[g.ue.st]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};k[g.ue.fy]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};k[g.ue.ZK]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};k[g.ue.$0]=(function(n,p){var q;q={};n.forEach(function(u){return q[u]=1;});n=ba(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.O.kF]);k[g.ue.AS]=function(){return !0;};return k;};h=c;h=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(l.oK)),t.__param(1,(0,m.l)(a.CBa)),t.__param(2,(0,m.l)(f.VDa))],h);b.ECa=h;},function(t,b,a){var g,l,m,d,f,h,k,n;function c(p,q,u){this.Jn=p;this.nb=q;this.vbb=u;this.Bsb="video/mp4;codecs={0}";this.Dnb="audio/mp4;codecs={0}";p=this.Jn.zN(l.ue.st);this.Asb=d.Hd.qVa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.$La=void 0;t=a(1);l=a(26);m=a(0);d=a(113);f=a(27);h=a(204);k=a(456);n=a(12);c.prototype.f5=function(p){p=this.Jn.xIb(p);p=this.nb.fH(p)?p:l.ue.AS;return this.vbb.format(this.Bsb,this.Asb[p]);};c.prototype.c5=function(p){if(0 === p.length)return this.vbb.format(this.Dnb,d.Hd.a0);p=k.EAa[p[0].Kg] || g.Tza;return p === g.Tza?n.GK:p === g.Seb?n.OGa:n.NGa;};a=g=c;a.Tza="AAC";a.Seb="XHEAAC";a=g=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(l.$x)),t.__param(1,(0,m.l)(f.hg)),t.__param(2,(0,m.l)(h.Rfa))],a);b.$La=a;},function(t,b,a){var g,l,m,d,f,h;function c(k,n,p){this.config=k;this.QVa=n;this.cast=p;}Object.defineProperty(b,"__esModule",{value:!0});b.JFa=void 0;t=a(1);g=a(0);l=a(278);m=a(157);d=a(26);f=a(279);h=a(280);c.prototype.gVa=function(){switch(this.config().Rba){case d.nj.Wca:return f.Xca.xla(this.QVa,this.cast);case d.nj.my:return h.cC.xla(this.config);default:return this.QVa;}};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.oK)),t.__param(1,(0,g.l)(l.IJa)),t.__param(2,(0,g.l)(f.v0))],a);b.JFa=a;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A;function c(B,E,D,F,G,C,H,K,M,I,Q){this.D2a=B;this.cast=E;this.config=D;this.Oc=F;this.za=G;this.is=C;this.Bk=H;this.Bs=K;this.platform=M;this.Xc=I;this.fx=Q;}Object.defineProperty(b,"__esModule",{value:!0});b.BBa=void 0;t=a(1);g=a(0);l=a(26);m=a(278);d=a(157);f=a(279);h=a(1053);k=a(1054);n=a(187);p=a(458);q=a(48);u=a(38);r=a(27);w=a(1055);v=a(70);x=a(7);y=a(35);z=a(36);a=a(459);c.prototype.mAb=function(B){var E;E=this.D2a.gVa();switch(B){case l.zv.my:return new h.KHa(this.config,E,this.is,this.platform,this.fx);default:return new p.N0(this.config,E,this.fx);}};c.prototype.rBb=function(B){var E;E=this.D2a.gVa();switch(B){case l.nj.Wca:B=new f.Xca(this.config,E,this.is,this.cast,this.fx);break;case l.nj.lK:B=new w.MBa(this.config,E,this.is,this.Bk,this.Bs,this.za,this.fx);break;case l.nj.my:B=new k.TGa(this.config,E,this.is,this.Oc,this.za,this.Bs,this.Xc,this.fx,this.Bk);break;default:B=new n.so(this.config,E,this.is,this.fx);}return B;};A=c;A=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.KFa)),t.__param(1,(0,g.l)(f.v0)),t.__param(2,(0,g.l)(d.oK)),t.__param(3,(0,g.l)(q.Wj)),t.__param(4,(0,g.l)(u.gi)),t.__param(5,(0,g.l)(r.hg)),t.__param(6,(0,g.l)(v.xt)),t.__param(7,(0,g.l)(x.ub)),t.__param(8,(0,g.l)(y.Dl)),t.__param(9,(0,g.l)(z.Ji)),t.__param(10,(0,g.l)(a.kHa))],A);b.BBa=A;},function(t,b,a){var g,l,m,d,f;function c(h,k,n,p,q){h=d.N0.call(this,h,k,q) || this;h.is=n;h.platform=p;h.type=g.zv.my;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.KHa=void 0;g=a(26);l=a(45);m=a(112);d=a(458);f=a(280);na(c,d.N0);c.prototype.ZZ=function(){return Promise.resolve(this.config().CV && this.pz(m.Lb.ry,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.So=function(){var h;h={};h[l.ze.lF]="mp4a.40.2";h[l.ze.mF]="mp4a.40.2";"browser" === this.platform.nma?this.config().CV && (h[l.ze.hR]={Gf:"avc1",keySystem:m.Lb.ry,features:["audio-endpoint-codec=DD+JOC"]},h[l.ze.iR]={Gf:"avc1",keySystem:m.Lb.ry,features:["audio-endpoint-codec=DD+JOC"]}):(this.config().UWa && (h[l.ze.hR]="ec-3"),this.config().TWa && (h[l.ze.Zca]="ec-3"),this.config().CV && (h[l.ze.iR]={Gf:"avc1",keySystem:m.Lb.ry,features:["audio-endpoint-codec=DD+JOC"]}));return h;};c.prototype.PXa=function(h){var k;k=this;h=h.filter(function(n){var u;for(var p=ba(k.bv),q=p.next();!q.done;q=p.next()){if(q.value.test(n))return !0;}p=ba(k.io);for(q=p.next();!q.done;q=p.next()){if(q.value.test(n))return !1;}n=k.LY[n];p=[];u=m.Lb.ry;if(n)return (k.is.aq(n)?q=n:(p=n.features,q=n.Gf,u=n.keySystem),k.pz(u,q,p));});return Promise.resolve(h);};c.prototype.pz=function(h,k,n){h=f.cC.d5(h,k,n);return this.qz(h);};b.KHa=c;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D;function c(F,G,C,H,K,M,I,Q,L){F=l.so.call(this,F,G,C,Q) || this;F.Oc=H;F.za=K;F.Bs=M;F.Xc=I;F.fx=Q;F.Bk=L;F.type=m.nj.my;F.fR="hvc1";F.bgb="avc1";F.D7a={};F.log=F.Bs.mb("MicrosoftVideoCapabilityDetector");F.i1b();F.$Z && F.config().xRb?F.DWa=F.DAb():(F.DWa=Promise.resolve(""),F.config().zRb?F.IAb():F.config().yRb && F.HAb());return F;}Object.defineProperty(b,"__esModule",{value:!0});b.TGa=void 0;g=a(45);l=a(187);m=a(26);t=a(114);d=a(112);f=a(5);h=a(333);k=a(113);n=a(280);p=a(55);q=a(188);u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");r=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];E=new t.nC();D=new h.Ica();na(c,l.so);c.prototype.zN=function(F){return F === m.ue.st && this.config().L4b?k.Hd.xR:l.so.prototype.zN.call(this,F);};c.prototype.Gx=function(F){switch(F){case m.Rj.sF:return this.Gbb();case m.Rj.Hv:return this.NY;default:return Promise.resolve(!1);}};c.prototype.ru=function(){var G;function F(){return G.$Z?G.ZLb?G.Gbb().then(function(C){return Promise.resolve(C?d.Lb.Xd:d.Lb.LF);}):Promise.resolve(d.Lb.LF):G.f2b?Promise.resolve(d.Lb.LF):Promise.resolve(d.Lb.ry);}G=this;this.keySystem || (this.keySystem=this.config().Dp?this.Bk.Qw().then(function(C){return C.keySystem;}):F());return this.keySystem;};c.prototype.S6=function(){return this.DWa;};c.prototype.a_=function(){return Promise.resolve({result:this.Fbb(),reason:"is-type-supported"});};c.prototype.b_=function(){return this.$Z && this.Ibb()?this.NY:Promise.resolve(!1);};c.prototype.hba=function(){return Promise.resolve(this.Ebb()).then(function(F){return {result:F,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Qia=function(F){this.Uq=F;Object.assign(this.Uq,this.D7a);F.itshwdrm=this.$Z;F.itsqhd=this.Hbb();F.itshevc=this.Ibb();F.itshdr=this.Fbb();F.itsdv=this.Ebb();F.itsav1=this.c2b();this.fza();};c.prototype.fU=function(F,G){(this.Uq?this.Uq:this.D7a)[F]=G;};c.prototype.KN=function(){var F;F=this;return this.Gx(m.Rj.Hv).then(function(G){return G?F.YU(m.Rj.Hv):F.Gx(m.Rj.sF).then(function(C){return C?F.YU(m.Rj.sF):F.YU(void 0);});});};c.prototype.g7=function(){return this.config().Dp?Promise.resolve(void 0):this.ru().then(function(F){return F === d.Lb.Xd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.Uz=function(F){var G;G=this;return this.ru().then(function(C){var H,K,M;if(G.cra(C,F))return !1;H=G.LY[F];if(H){K=[];if(G.is.aq(H))M=H;else (K=H.features,M=H.Gf,C=H.keySystem);return G.pz(C,M,K);}return !1;});};c.prototype.So=function(){var F;F=l.so.prototype.So.call(this);F[g.O.m2]=F[g.O.KS]=F[g.O.JS]=F[g.O.$fa]={Gf:"vp09.00.11.08.02",keySystem:d.Lb.Xd,features:u};F[g.O.c1]=F[g.O.b1]={Gf:"hev1.2.6.L90.B0",keySystem:d.Lb.Xd,features:r};F[g.O.e1]=F[g.O.d1]={Gf:"hev1.2.6.L93.B0",keySystem:d.Lb.Xd,features:r};F[g.O.g1]=F[g.O.f1]={Gf:"hev1.2.6.L120.B0",keySystem:d.Lb.Xd,features:r};F[g.O.i1]=F[g.O.h1]={Gf:"hev1.2.6.L123.B0",keySystem:d.Lb.Xd,features:r};F[g.O.LR]=F[g.O.KR]={Gf:"hev1.2.6.L150.B0",keySystem:d.Lb.Xd,features:r};F[g.O.NR]=F[g.O.MR]={Gf:"hev1.2.6.L153.B0",keySystem:d.Lb.Xd,features:r};F[g.O.AR]=F[g.O.zR]={Gf:"hev1.2.6.L90.B0",keySystem:d.Lb.Xd,features:v};F[g.O.CR]=F[g.O.BR]={Gf:"hev1.2.6.L93.B0",keySystem:d.Lb.Xd,features:v};F[g.O.DR]=F[g.O.xK]={Gf:"hev1.2.6.L120.B0",keySystem:d.Lb.Xd,features:v};F[g.O.FR]=F[g.O.ER]={Gf:"hev1.2.6.L123.B0",keySystem:d.Lb.Xd,features:x};F[g.O.HR]=F[g.O.GR]={Gf:"hev1.2.6.L150.B0",keySystem:d.Lb.Xd,features:x};F[g.O.JR]=F[g.O.IR]={Gf:"hev1.2.6.L153.B0",keySystem:d.Lb.Xd,features:x};F[g.O.C0]=F[g.O.B0]={Gf:"hev1.2.6.L90.B0",keySystem:d.Lb.Xd,features:y};F[g.O.E0]=F[g.O.D0]={Gf:"hev1.2.6.L93.B0",keySystem:d.Lb.Xd,features:y};F[g.O.F0]=F[g.O.kR]={Gf:"hev1.2.6.L120.B0",keySystem:d.Lb.Xd,features:y};F[g.O.H0]=F[g.O.G0]={Gf:"hev1.2.6.L123.B0",keySystem:d.Lb.Xd,features:z};F[g.O.J0]=F[g.O.I0]={Gf:"hev1.2.6.L150.B0",keySystem:d.Lb.Xd,features:z};F[g.O.L0]=F[g.O.K0]={Gf:"hev1.2.6.L153.B0",keySystem:d.Lb.Xd,features:z};F[g.O.PB]={Gf:"av01.0.04M.10",keySystem:d.Lb.Xd,features:u};F[g.O.QB]={Gf:"av01.0.05M.10",keySystem:d.Lb.Xd,features:u};F[g.O.f0]={Gf:"av01.0.08M.10",keySystem:d.Lb.Xd,features:u};F[g.O.g0]={Gf:"av01.0.09M.10",keySystem:d.Lb.Xd,features:u};F[g.O.h0]={Gf:"av01.0.12M.10",keySystem:d.Lb.Xd,features:w};F[g.O.i0]={Gf:"av01.0.13M.10",keySystem:d.Lb.Xd,features:w};return F;};c.prototype.pz=function(F,G,C){F=n.cC.d5(F,G,C);return this.qz(F);};c.prototype.Hbb=function(){return this.pz(d.Lb.Xd,this.fR,r);};c.prototype.Fbb=function(){return this.pz(d.Lb.Xd,this.fR,v);};c.prototype.Ebb=function(){return this.pz(d.Lb.Xd,this.fR,y);};c.prototype.c2b=function(){return this.pz(d.Lb.Xd,k.Hd.zl,u);};c.prototype.Ibb=function(){return this.pz(d.Lb.Xd,this.fR,w);};c.prototype.Gbb=function(){var F;F=this;return this.NY.then(function(G){return G?Promise.resolve(G):F.s8a;});};c.prototype.fza=function(){this.Uq && (this.Uq.itshdcp=JSON.stringify({hdcp1:this.E0a,time1:this.$bb - this.$ab,hdcp2:this.F0a,time2:this.acb - this.abb}));};c.prototype.i1b=function(){var F;F=this;this.$Z?(this.NY=this.D_a(this.config().$4a,this.config().BRb,function(){var G;G=F.vIb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;}),this.s8a=this.NY.then(function(G){return G?!0:F.D_a(F.config().$4a,F.config().ARb,function(){var C;C=F.uIb();return ["maybe" !== C,C];}).then(function(C){return "probably" === C;});})):(this.s8a=Promise.resolve(!0),this.NY=Promise.resolve(!1));};c.prototype.D_a=function(F,G,C){var H;H=this;return new Promise(function(K){var M,I,Q,L;M=ba(C());I=M.next().value;M=M.next().value;if(I)return K(M);Q=H.Oc.yaa((0,f.Nc)(F),function(){var J,O;J=ba(C());O=J.next().value;J=J.next().value;O && (Q.cancel(),L.cancel(),K(J));});L=H.Oc.Jk((0,f.Nc)(G),function(){Q.cancel();L.cancel();K("timeout");});});};c.prototype.uIb=function(){var F;F=n.cC.d5(d.Lb.LF,this.bgb,A).split("|");this.E0a=n.cC.nya(F[0],F[1]);this.$bb=this.za.kf.da(f.la);this.$ab=this.$ab || this.$bb;this.fza();return this.E0a;};c.prototype.vIb=function(){var F;F=n.cC.d5(d.Lb.Xd,this.fR,B).split("|");this.F0a=n.cC.nya(F[0],F[1]);this.acb=this.za.kf.da(f.la);this.abb=this.abb || this.acb;this.fza();return this.F0a;};c.prototype.DAb=function(){var F;F=this;return this.Ala(d.Lb.Xd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.wIa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(G){F.log.debug("DriverInfo: " + G);return G;}).catch(function(G){F.fU("itsDriverInfo","exception");F.log.error("DriverInfo exception",G);throw G;});};c.prototype.HAb=function(){var F;F=this;this.Ala(d.Lb.ry,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(G){var C;C=String.fromCharCode.apply(void 0,F.Xc.decode(G));F.fU("itsHardwareInfo",C);F.log.debug("HardwareInfo: " + C);return G;}).catch(function(G){F.fU("itsHardwareInfo","exception");F.log.error("HardwareInfo exception",G);throw G;});};c.prototype.IAb=function(){var F;F=this;this.Ala(d.Lb.ry,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(G){var C;C=String.fromCharCode.apply(void 0,F.Xc.decode(G));F.fU("itsHardwareReset",C);F.log.debug("ResetHardwareDRMDisabled: " + C);return G;}).catch(function(G){F.fU("itsHardwareReset","exception");F.log.error("ResetHardwareDRMDisabled exception",G);throw G;});};c.prototype.Ala=function(F,G){var C;C=this;return new Promise(function(H,K){var O,N,P;function M(S){try{L(S.target,"Unexpectedly got an mskeyerror event: 0x" + D.wH(S && S.target && S.target.error && S.target.error.Cfc || 0,4));}catch(U){L(S.target,U);}}function I(S){L(S.target,"Unexpectedly got an mskeyadded event");}function Q(S){var U;try{U=C.gna(S.message,"PlayReadyKeyMessage","Challenge");J(S.target);H(U);}catch(Z){L(S.target,Z);}}function L(S,U){C.log.error("PlayReadyChallenge error",{cdmData:G});J(S);K(U);}function J(S){S.removeEventListener("mskeymessage",Q);S.removeEventListener("mskeyadded",I);S.removeEventListener("mskeyerror",M);P && P.cancel();}try{O=new Uint8Array(E.tbb(G));N=new nb.MSMediaKeys(F).createSession("video/mp4",new Uint8Array(0),O);N.addEventListener("mskeymessage",Q);N.addEventListener("mskeyadded",I);N.addEventListener("mskeyerror",M);P=C.Oc.Jk((0,f.Nc)(1E3),function(){L(N,Error("timeout"));});}catch(S){K(S);}});};c.prototype.gna=function(F,G){var H,K,M;for(var C=1;C < arguments.length;++C){;}C="";K=F.length;for(H=0;H < K;H++){M=F[H];0 < M && (C+=String.fromCharCode(M));}K="\\s*(.*)\\s*";for(H=arguments.length - 1;0 < H;H--){M=arguments[H];if(0 > C.search(M))return;M="(?:[^:].*:|)" + M;K="[\\s\\S]*<" + M + "[^>]*>" + K + "</" + M + ">[\\s\\S]*";}if(C=C.match(new RegExp(K)))return C[1];};c.prototype.cra=function(F,G){return [q.$e.RB,q.$e.pC].some(function(C){return C.test(G);}) && this.config().Xsa && ![d.Lb.LF,d.Lb.NJa].some(function(C){return C === F;});};Ya.Object.defineProperties(c.prototype,{ZLb:{configurable:!0,enumerable:!0,get:function(){return this.config().dEb && (!this.config().CRb || this.Hbb());}},$Z:{configurable:!0,enumerable:!0,get:function(){try{return this.qz(d.Lb.Xd + "|" + k.Hd.$sa);}catch(F){return !1;}}},f2b:{configurable:!0,enumerable:!0,get:function(){try{return this.qz(d.Lb.LF);}catch(F){return !1;}}}});b.TGa=c;},function(t,b,a){var g,l,m,d,f;function c(h,k,n,p,q,u,r){h=g.so.call(this,h,k,n,r) || this;h.Bk=p;h.Bs=q;h.za=u;h.fx=r;h.type=l.nj.lK;h.log=h.Bs.mb("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.MBa=void 0;g=a(187);l=a(26);m=a(5);d=a(55);f=a(188);na(c,g.so);c.prototype.Gx=function(h){switch(h){case l.Rj.Hv:return this.d2b;default:return Promise.resolve(!1);}};c.prototype.KN=function(){var h;h=this;return this.Gx(l.Rj.Hv).then(function(k){return k?l.Rj.Hv:void 0;}).then(function(k){return h.YU(k);});};c.prototype.Qia=function(h){this.Uq=h;};c.prototype.Uz=function(h){var k;k=this;return this.config().Xsa?this.Bk.Qw().then(function(n){return k.cra((0,d.Ioa)(n),h)?!1:g.so.prototype.Uz.call(k,h);}):g.so.prototype.Uz.call(this,h);};c.prototype.mOb=function(h){var k;return !(null === (k=h.getConfiguration().videoCapabilities) || void 0 === k || !k.some(function(n){return (null === n || void 0 === n?void 0:n.robustness) === d.yK;}));};c.prototype.mdb=function(){var h;if(this.Uq){h=this.G0a && this.I0a && this.G0a.Ka(this.I0a).da(m.la);this.Uq.itshdcp=JSON.stringify({hdcp2:this.xu,time2:h});}};c.prototype.cra=function(h,k){return [f.$e.RB,f.$e.pC].some(function(n){return n.test(k);}) && this.config().Xsa && h === d.yK;};Ya.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.S4a || (this.S4a=this.Bk.Qw().then(function(h){return h.createMediaKeys();}));return this.S4a;}},d2b:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.oya || (this.config().eEb?this.oya=Promise.all([this.Bk.Qw(),this.mediaKeys]).then(function(k){var n;n=ba(k);k=n.next().value;n=n.next().value;if(!h.mOb(k))return (h.xu="not HW_SECURE_DECODE",h.log.trace("hdcpStatus: " + h.xu),!1);if(n && n.getStatusForPolicy)return (h.I0a=h.za.kf,n.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(p){h.G0a=h.za.kf;h.xu=p;h.log.trace("hdcpStatus: " + h.xu);return "usable" === h.xu;}));h.xu="not available";h.log.trace("hdcpStatus: " + h.xu);return !1;}).catch(function(k){h.xu="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.xu},k);return !1;}).then(function(k){h.mdb();return k;}):(this.xu="not enabled",this.log.trace("hdcpStatus: " + this.xu),this.mdb(),this.oya=Promise.resolve(!1)));return this.oya;}}});b.MBa=c;},function(t,b,a){var g,l;function c(m){this.navigator=m;this.Q4a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.lHa=void 0;t=a(1);g=a(0);a=a(39);c.prototype.kna=function(m){return this.Q4a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:m.contentType,width:m.width,height:m.height,bitrate:m.bitrate,framerate:m.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.NK))],l);b.lHa=l;},function(t,b,a){var g,l,m,d;function c(f,h){this.mediaCapabilities=f;this.log=h.mb("MediaCapabilities");this.LY=d.O0.So();}Object.defineProperty(b,"__esModule",{value:!0});b.mHa=void 0;t=a(1);g=a(460);l=a(7);m=a(0);d=a(276);c.prototype.kna=function(f){var h,k,n,p;h=this;n={Rc:void 0};if(this.mediaCapabilities.Q4a){p={contentType:'video/mp4;codecs="' + (null !== (k=this.LY[f.Kg]) && void 0 !== k?k:"avc1.640028") + '"',width:f.width,height:f.height,bitrate:1E3 * f.bitrate,framerate:24};this.mediaCapabilities.kna(p).then(function(q){return n.Rc=Object.assign(Object.assign({},q),p);}).catch(function(q){return h.log.error("Error calling MediaCapabilities API",q);});}return n;};a=c;a=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(g.oHa)),t.__param(1,(0,m.l)(l.ub))],a);b.mHa=a;},function(t,b,a){var g,l,m;function c(d){this.DWb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.UDa=void 0;t=a(1);g=a(0);l=a(281);a=a(462);c.prototype.zFb=function(){var d,f;d={LV:l.XB.Vmb};f=this.DWb.PresentationRequest;f && (new f("https://netflix.com").getAvailability() || Promise.reject()).then(function(h){var k;d.LV=h.value?l.XB.RKa:l.XB.Wza;if(d.LV === l.XB.Wza){k=function(){h.value && (d.LV=l.XB.RKa);h.removeEventListener("change",k);};h.addEventListener("change",k);}}).catch(function(){d.LV=l.XB.Error;});return d;};m=c;m=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.SKa))],m);b.UDa=m;},function(t,b,a){var g,l,m,d,f,h,k,n,p;function c(q,u,r,w){this.config=q;this.navigator=u;this.Bs=r;this.eE=w;this.type=l.nj.Cv;this.pSa={};this.Xdb={};this.Yia={};this.log=this.Bs.mb("MediaCapabilityDetector");this.pSa=this.lAb();this.Xdb=this.qBb();}Object.defineProperty(b,"__esModule",{value:!0});b.jHa=void 0;t=a(1);g=a(0);l=a(26);m=a(45);d=a(7);f=a(39);h=a(70);k=a(157);n=a(55);p=a(11);c.prototype.Uz=function(q){var u;u=this;return this.eE.Qw().then(function(r){return u.MFb(q,r);}).catch(function(){return !1;});};c.prototype.DNb=function(q){return ! !q.colorGamut || ! !q.hdrMetadataType || ! !q.transferFunction;};c.prototype.Qqa=function(){return nb.matchMedia("(dynamic-range: high)").matches;};c.prototype.MFb=function(q,u){var r,w,v;try{r={type:"media-source"};w=this.pSa[q];v=this.Xdb[q];if(w)r.audio=w;else if(v){r.video=v;if(this.DNb(v) && !this.Qqa())return Promise.resolve(!1);u && (r.keySystemConfiguration=this.NIb(u));}else return Promise.resolve(!1);return Promise.all([this.Ywb(r),this.Wwb(v.contentType)]).then(function(x){var y;y=ba(x);x=y.next().value;y=y.next().value;return x && y;});}catch(x){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",x),Promise.resolve(!1));}};c.prototype.Ywb=function(q){var u;u=this;return this.navigator.mediaCapabilities.decodingInfo(q).then(function(r){var w;r.configuration || (r.configuration=q);w=u.dOb(q,r);w?u.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(r)):u.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(r));return w;}).catch(function(r){u.log.error("mediaCapabilities.decodingInfo failed",r);return !1;});};c.prototype.Wwb=function(q){var u;u=this;if(!this.config().oEb)return Promise.resolve(!0);this.Yia[q] || (this.Yia[q]=new Promise(function(r){var w;try{w=new p.eC();document.createElement("video").src=URL.createObjectURL(w);w.addEventListener("sourceopen",function(){try{w.addSourceBuffer(q);u.log.trace("addSourceBuffer succeeded for " + q);r(!0);}catch(v){u.log.warn("addSourceBuffer failed",v);r(!1);}});}catch(v){u.log.warn("addSourceBuffer failed",v);r(!1);}}));return this.Yia[q];};c.prototype.NIb=function(q){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:q.keySystem},(q=(0,n.Ioa)(q)) && (this.keySystemConfiguration.video={robustness:q}));return this.keySystemConfiguration;};c.prototype.lAb=function(){var q,u;q={};u={contentType:"audio/mp4;codecs=mp4a.40.2"};q[m.ze.lF]=u;q[m.ze.rEa]=u;q[m.ze.mF]=u;q[m.ze.WF]=u;u={contentType:"audio/mp4;codecs=ec-3"};q[m.ze.hR]=u;q[m.ze.Zca]=u;q[m.ze.iR]=u;return q;};c.prototype.qBb=function(){var q,u,r,w,v,x,y,z,A,B,E,D,F;q={};u={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};r={contentType:'video/mp4; codecs="dvh1.05.04"'};w={width:1920,height:1080};v={width:3840,height:2160};x=Object.assign(Object.assign({},w),{bitrate:12E6,framerate:30});y=Object.assign(Object.assign({},w),{bitrate:2E7,framerate:60});w=Object.assign(Object.assign({},v),{bitrate:25E6,framerate:30});v=Object.assign(Object.assign({},v),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};A={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),x);q[m.O.pEa]=B;q[m.O.vR]=B;q[m.O.wR]=B;q[m.O.zda]=B;B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),x);q[m.O.$fa]=B;q[m.O.JS]=B;q[m.O.KS]=B;q[m.O.m2]=B;B=Object.assign(Object.assign({},u),x);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),y);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),w);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),v);q[m.O.b1]=B;q[m.O.d1]=B;q[m.O.f1]=B;q[m.O.h1]=E;q[m.O.KR]=D;q[m.O.MR]=F;q[m.O.c1]=B;q[m.O.e1]=B;q[m.O.g1]=B;q[m.O.i1]=E;q[m.O.LR]=D;q[m.O.NR]=F;B=Object.assign(Object.assign(Object.assign({},u),x),z);E=Object.assign(Object.assign(Object.assign({},u),y),z);D=Object.assign(Object.assign(Object.assign({},u),w),z);u=Object.assign(Object.assign(Object.assign({},u),v),z);q[m.O.zR]=B;q[m.O.BR]=B;q[m.O.xK]=B;q[m.O.ER]=E;q[m.O.GR]=D;q[m.O.IR]=u;q[m.O.AR]=B;q[m.O.CR]=B;q[m.O.DR]=B;q[m.O.FR]=E;q[m.O.HR]=D;q[m.O.JR]=u;u=Object.assign(Object.assign(Object.assign({},r),x),A);z=Object.assign(Object.assign(Object.assign({},r),y),A);B=Object.assign(Object.assign(Object.assign({},r),w),A);r=Object.assign(Object.assign(Object.assign({},r),v),A);q[m.O.B0]=u;q[m.O.D0]=u;q[m.O.kR]=u;q[m.O.G0]=z;q[m.O.I0]=B;q[m.O.K0]=r;q[m.O.C0]=u;q[m.O.E0]=u;q[m.O.F0]=u;q[m.O.H0]=z;q[m.O.J0]=B;q[m.O.L0]=r;x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),x);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),y);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),w);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),v);q[m.O.Uza]=x;q[m.O.Vza]=x;q[m.O.PB]=x;q[m.O.QB]=x;q[m.O.f0]=x;q[m.O.g0]=y;q[m.O.h0]=w;q[m.O.i0]=v;return q;};c.prototype.dOb=function(q,u){return q.video && this.config().bWb?u.supported && u.powerEfficient:u.supported;};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.oK)),t.__param(1,(0,g.l)(f.NK)),t.__param(2,(0,g.l)(d.ub)),t.__param(3,(0,g.l)(h.xt))],a);b.jHa=a;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;t=a(0);c=a(463);g=a(79);l=a(189);m=a(1061);d=a(466);f=a(1062);h=a(465);k=a(190);n=a(1063);p=a(1065);q=a(1066);u=a(1067);r=a(79);w=a(467);v=a(1069);b.storage=new t.rd(function(x){x(l.VHa).Af(function(){return function(){return nb.localStorage;};});x(l.YEa).Af(function(){return function(){return nb.indexedDB;};});x(w.HHa).to(v.GHa).ba();x(r.SB).to(u.dAa).ba();x(d.kGa).to(f.jGa).ba();x(c.p1).to(p.zFa).ba();x(k.BFa).to(n.AFa).ba();x(g.lMa).to(m.cCa).ba();x(k.XEa).to(n.WEa).ba();x(k.Pda).to(n.CFa).ba();x(h.eCa).to(q.dCa).ba();});},function(t,b,a){var g,l,m,d,f;function c(h,k,n){this.up=k;this.config=n;this.wa=h.mb(d.Ofa);}Object.defineProperty(b,"__esModule",{value:!0});b.cCa=void 0;t=a(1);g=a(0);l=a(7);m=a(65);d=a(464);a=a(465);c.prototype.validate=function(h){return this.config.enabled?this.config.timeout?this.up.cr(this.config.timeout,this.rWa(h)):this.rWa(h):Promise.resolve();};c.prototype.rWa=function(h){var k;k=this;return new Promise(function(n,p){return h.save("indexdb-test","true",!0).then(function(){return h.load("indexdb-test").then(function(q){"true" !== q.value && p();k.wa.debug("save/load test passed");h.remove("indexdb-test").then(function(){n();}).catch(function(){k.wa.error("Failed to remove testValue");n();});});}).catch(function(q){return p(q);});});};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub)),t.__param(1,(0,g.l)(m.ty)),t.__param(2,(0,g.l)(a.eCa))],f);b.cCa=f;},function(t,b,a){var g,l,m;function c(d){this.qE=d;}Object.defineProperty(b,"__esModule",{value:!0});b.jGa=void 0;t=a(1);g=a(0);l=a(3);a=a(189);c.prototype.load=function(d){var f;f=this;return new Promise(function(h,k){var n,p;try{n=f.qE.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}h({key:d,value:p});}else k({sa:l.M.mC});}catch(q){k({sa:l.M.BLa,cause:q});}});};c.prototype.save=function(d,f,h){var k;k=this;return new Promise(function(n,p){if(h && k.qE.getItem(d))n(!1);else try{"string" === typeof f?k.qE.setItem(d,f):k.qE.setItem(d,JSON.stringify(f));n(!0);}catch(q){p({sa:l.M.CLa,cause:q});}});};c.prototype.remove=function(d){var f;f=this;return new Promise(function(h,k){try{f.qE.removeItem(d);h();}catch(n){k({sa:l.M.Hfa,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};m=c;m=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.zkb))],m);b.jGa=m;},function(t,b,a){var m,d,f,h,k,n,p,q,u,r,w,v;function c(x,y,z,A,B,E){this.config=y;this.eV=z;this.no=A;this.j5b=B;this.xl=E;this.wa=x.mb(n.Ofa);}function g(x,y){this.config=x;this.q_=y;}function l(x,y,z,A,B){this.config=y;this.q_=z;this.xl=B;this.wa=x.mb(n.Ofa);this.eV=new Promise(function(E,D){var F;try{F=A();F?E(F):D({sa:k.M.$Ea});}catch(G){D({sa:k.M.o1,cause:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.CFa=b.AFa=b.WEa=void 0;t=a(1);m=a(0);d=a(7);f=a(1064);h=a(189);k=a(3);n=a(464);p=a(463);q=a(65);u=a(79);r=a(71);w=a(190);v=a(64);l.prototype.create=function(){this.Qla || (this.Qla=this.MM());return this.Qla;};l.prototype.rq=function(x){var y;y=this;this.Qla=null;return this.q_.cr(this.config.timeout,new Promise(function(z,A){x.close();y.delete(x.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.Jr?Promise.reject({sa:k.M.o1}):z.sa?Promise.reject(z):Promise.reject({sa:k.M.o1,cause:z});});};l.prototype.delete=function(x){var y;y=this;return this.q_.cr(this.config.timeout,new Promise(function(z,A){y.eV.then(function(B){var E;E=B.deleteDatabase(x);E.onsuccess=function(){z();};E.onerror=function(){A({sa:k.M.o1,cause:E.error});};}).catch(function(B){A(B);});}));};l.prototype.MM=function(){var x,y;x=this;return this.q_.cr(this.config.timeout,new Promise(function(z,A){if(x.config.Gxa)return A({sa:x.config.Gxa});x.eV.then(function(B){x.xl.mark(v.Xj.Hib);y=B.open(x.config.name,x.config.version);if(!y)return A({sa:k.M.aFa});y.onblocked=function(){x.xl.mark(v.Xj.Eib);A({sa:k.M.Aib});};y.onupgradeneeded=function(){var E;x.xl.mark(v.Xj.Oib);E=y.result;try{E.createObjectStore(x.config.$X,{keyPath:"name"});}catch(D){x.wa.error("Exception while creating object store",D);}};y.onsuccess=function(E){var D,F;x.xl.mark(v.Xj.Nib);try{D=E.target.result;F=D.objectStoreNames.length;x.wa.trace("objectstorenames length ",F);if(0 === F){x.wa.error("invalid indexedDb state, deleting");x.xl.mark(v.Xj.Gib);try{D.close();}catch(G){}B.deleteDatabase(x.config.name);setTimeout(function(){A({sa:k.M.zib});},1);return;}}catch(G){x.wa.error("Exception while inspecting indexedDb objectstorenames",G);}z(y.result);};y.onerror=function(){x.xl.mark(v.Xj.Fib);x.wa.error("IndexedDB open error",y.error);A({sa:k.M.Bib,cause:y.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.Jr){try{y && y.readyState && x.xl.mark("readyState-" + y.readyState);}catch(A){}if(x.config.d4 && y && "done" === y.readyState){if(x.e5b(y))return (x.xl.mark(v.Xj.Lib),Promise.resolve(y.result));x.xl.mark(v.Xj.Kib);}x.xl.mark(v.Xj.Jib);return Promise.reject({sa:k.M.Dib});}if(z.sa)return Promise.reject(z);x.xl.mark(v.Xj.Iib);x.wa.error("IndexedDB open exception occurred",z);return Promise.reject({sa:k.M.Cib,cause:z});});};l.prototype.e5b=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.xl.mark(v.Xj.Mib);this.wa.error("failed to check open request state",y);}return !1;};a=l;a=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(d.ub)),t.__param(1,(0,m.l)(p.p1)),t.__param(2,(0,m.l)(q.ty)),t.__param(3,(0,m.l)(h.YEa)),t.__param(4,(0,m.l)(r.RF))],a);b.WEa=a;g.prototype.create=function(x){return Promise.resolve(new f.yFa(this.config,this.q_,x));};a=g;a=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(p.p1)),t.__param(1,(0,m.l)(q.ty))],a);b.AFa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.ZU || (this.ZU=this.MM(this.j5b));return this.ZU;};c.prototype.MM=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,A){y.xl.mark(v.Xj.tmb);y.eV.create().then(function(B){y.no.create(B).then(function(E){Promise.all(x.map(function(D){return D.validate(E);})).then(function(){y.storage=E;z(y.storage);}).catch(function(D){y.wa.debug("DB validation failed, cause: " + D);y.config.jYa?(y.wa.debug("Fixing corrupt DB"),y.eV.rq(B).then(function(){y.wa.error("Invalid database deleted, creating new database.");y.MM().then(function(F){y.wa.error("Invalid database successfully recreated.");y.storage=F;z(y.storage);});}).catch(function(F){y.wa.error("Couldn't delete invalid database.");A(F);})):(y.wa.debug("Ignoring invalid DB due to config"),y.storage=E,z(y.storage));});}).catch(function(E){A(E);});}).catch(function(B){A(B);});});};a=c;a=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(d.ub)),t.__param(1,(0,m.l)(p.p1)),t.__param(2,(0,m.l)(w.XEa)),t.__param(3,(0,m.l)(w.BFa)),t.__param(4,(0,m.uI)(u.lMa)),t.__param(5,(0,m.l)(r.RF))],a);b.CFa=a;},function(t,b,a){var l,m,d;function c(f,h,k){this.config=f;this.up=h;this.qE=k;}function g(f,h){this.reason=f;this.cause=h;}Object.defineProperty(b,"__esModule",{value:!0});b.yFa=b.dLa=void 0;l=a(3);m=a(65);(function(f){f[f.Aea=0]="NoData";f[f.Error=1]="Error";f[f.XK=2]="Timeout";})(d=b.dLa || (b.dLa={}));c.prototype.load=function(f){var h;h=this;return new Promise(function(k,n){h.d6("get",!1,f).then(function(p){k({key:f,value:p});}).catch(function(p){var q;q=l.M.BLa;switch(p.reason){case d.Aea:q=l.M.mC;break;case d.XK:q=l.M.umb;}n({sa:q,cause:p.cause});});});};c.prototype.save=function(f,h,k){var n;n=this;return new Promise(function(p,q){n.d6(k?"add":"put",!0,{name:f,data:h}).then(function(){p(!k);}).catch(function(u){var r;r=l.M.CLa;switch(u.reason){case d.XK:r=l.M.xmb;}q({sa:r,cause:u.cause});});});};c.prototype.remove=function(f){var h;h=this;return new Promise(function(k,n){h.d6("delete",!0,f).then(function(){k();}).catch(function(p){var q;q=l.M.Hfa;switch(p.reason){case d.XK:q=l.M.ALa;}n({sa:q,cause:p.cause});});});};c.prototype.removeAll=function(){var f;f=this;return new Promise(function(h,k){f.d6("clear",!0,"").then(function(){h();}).catch(function(n){var p;p=l.M.Hfa;switch(n.reason){case d.XK:p=l.M.ALa;}k({sa:p,cause:n.cause});});});};c.prototype.loadAll=function(){var f;f=this;return this.up.cr(this.config.timeout,new Promise(function(h,k){var n,p,q;if(f.config.Fxa)k(new g(f.config.Fxa));else {n=[];p=f.qE.transaction(f.config.$X,"readonly");q=p.objectStore(f.config.$X).openCursor();p.onerror=function(){k(new g(d.Error,q.error));};q.onsuccess=function(u){if(u=u.target.result)try{n.push({key:u.value.name,value:u.value.data});u.continue();}catch(r){k(new g(d.Error,r));}else h(n);};q.onerror=function(){k(new g(d.Error,q.error));};}})).catch(function(h){return h instanceof m.Jr?Promise.reject(new g(d.XK,h)):h instanceof g?Promise.reject(h):Promise.reject(new g(d.Error,h));});};c.prototype.d6=function(f,h,k){var n;n=this;return this.up.cr(this.config.timeout,new Promise(function(p,q){var u,r;u=n.qE.transaction(n.config.$X,h?"readwrite":"readonly");r=u.objectStore(n.config.$X)[f](k);u.onerror=function(){q(new g(d.Error,r.error));};r.onsuccess=function(w){var v;if("get" == f)try{v=w.target.result;v?p(v.data):q(new g(d.Aea));}catch(x){q(new g(d.Aea,x));}else p(void 0);};r.onerror=function(){q(new g(d.Error,r.error));};})).catch(function(p){return p instanceof m.Jr?Promise.reject(new g(d.XK,p)):p instanceof g?Promise.reject(p):Promise.reject(new g(d.Error,p));});};b.yFa=c;},function(t,b,a){var g,l,m,d,f;function c(h,k){h=m.bf.call(this,h,"IndexedDBConfigImpl") || this;h.config=k;h.version=1;h.$X="namedatapairs";return h;}Object.defineProperty(b,"__esModule",{value:!0});b.zFa=void 0;t=a(1);g=a(0);l=a(46);m=a(47);d=a(42);a=a(37);na(c,m.bf);Ya.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.Jw?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.$xa;}},d4:{configurable:!0,enumerable:!0,get:function(){return this.config.d4;}},Gxa:{configurable:!0,enumerable:!0,get:function(){return 0;}},Fxa:{configurable:!0,enumerable:!0,get:function(){return 0;}},jYa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;t.__decorate([l.config(l.EB,"simulateIdbOpenError")],f.prototype,"Gxa",null);t.__decorate([l.config(l.EB,"simulateIdbLoadAllError")],f.prototype,"Fxa",null);t.__decorate([l.config(l.cd,"fixInvalidDatabase")],f.prototype,"jYa",null);f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.fm)),t.__param(1,(0,g.l)(d.jn))],f);b.zFa=f;},function(t,b,a){var g,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.dCa=void 0;t=a(1);g=a(0);a=a(42);Ya.Object.defineProperties(c.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.$xa;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.Rbb;}}});l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.jn))],l);b.dCa=l;},function(t,b,a){var l,m,d,f,h,k,n;function c(p,q,u,r){this.wa=p;this.config=q;this.dMb=u;this.Tsa=r;this.WG={mem:{storage:this.Tsa,key:"mem"}};this.OE=this.config.OE;}function g(p,q,u,r){this.bg=p;this.no=q;this.Tsa=u;this.config=r;}Object.defineProperty(b,"__esModule",{value:!0});b.uca=b.dAa=void 0;t=a(1);l=a(0);m=a(3);d=a(190);f=a(7);h=a(467);k=a(1068);a=a(42);g.prototype.create=function(){this.ZU || (this.ZU=this.MM());return this.ZU;};g.prototype.MM=function(){this.$tb=new c(this.bg.mb("AppStorage"),this.config,this.no,this.Tsa);return this.$tb.create();};n=g;n=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(f.ub)),t.__param(1,(0,l.l)(d.Pda)),t.__param(2,(0,l.l)(h.HHa)),t.__param(3,(0,l.l)(a.jn))],n);b.dAa=n;c.prototype.create=function(){var p;p=this;return this.JAb().then(function(q){if(!p.Cwb(q,p.config.NW))throw p.ASb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(u,r){q.fW(p).storage.load(p).then(function(w){u(w);}).catch(function(w){r(w);});});};c.prototype.save=function(p,q,u){var r;r=this;return new Promise(function(w,v){r.fW(p).storage.save(p,q,u).then(function(x){w(x);}).catch(function(x){v(x);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(u,r){q.fW(p).storage.remove(p).then(function(){u();}).catch(function(w){r(w);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,u){p.h9a("mem").then(function(){return p.h9a("idb");}).catch(function(r){return Promise.reject(r);}).then(function(){q();}).catch(function(r){p.wa.error("remove all failed");u(r);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.t3a("mem").then(function(u){q=q.concat(u);return p.t3a("idb");}).catch(function(u){p.aOb(u) || p.wa.error("IndexedDb.LoadAll exception",u);return [];}).then(function(u){return q=q.concat(u);}).catch(function(u){p.wa.error("load all failed",u);throw u;});};c.prototype.JAb=function(){var p;p=this;return this.dMb.create().then(function(q){p.WG.idb={storage:q,key:"idb"};}).catch(function(q){p.wa.error("idb failed to load",q);return q || ({sa:m.M.em});});};c.prototype.Cwb=function(p,q){return !p || p && q?!0:!1;};c.prototype.ASb=function(p){var q;q="";p && (q+=p.sa);return {sa:q};};c.prototype.h9a=function(p){return (p=this.WG[p])?p.storage.removeAll():Promise.resolve();};c.prototype.t3a=function(p){return (p=this.WG[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.WFb=function(p){for(var q in this.OE){if(p.startsWith(q))return this.OE[q];}return this.OE[k.Qgb];};c.prototype.fW=function(p){var q,u;q=this;this.WFb(p).every(function(r){return q.WG[r]?(u=q.WG[r],!1):!0;});if(!u){this.wa.error("component not found for storageKey",{t1b:p,abc:Object.keys(this.WG),rules:this.OE});u=this.WG.mem;}this.wa.trace("component found for key",{storageKey:p,componentKey:u.key});return u;};c.prototype.aOb=function(p){return (p && (p.sa || p.errorSubCode)) === m.M.mC;};b.uca=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qgb="__default_rule_key__";},function(t,b,a){var g,l,m;function c(d){this.bg=d;this.wI={};this.wa=this.bg.mb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.GHa=void 0;t=a(1);g=a(0);l=a(3);a=a(7);c.prototype.load=function(d){var f;if(this.wI.hasOwnProperty(d)){f=this.wI[d];this.wa.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:f});}this.wa.debug("Storage entry not found",{key:d});return Promise.reject({sa:l.M.mC});};c.prototype.save=function(d,f,h){if(h && this.wI.hasOwnProperty(d))return Promise.resolve(!1);this.wI[d]=f;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.wI[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.wI).map(function(f){var h;h=ba(f);f=h.next().value;h=h.next().value;return {key:f,value:h};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.wI={};return Promise.resolve();};m=c;m=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.ub))],m);b.GHa=m;},function(t,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.rM=void 0;t=a(0);c=a(468);g=a(469);l=a(470);m=a(1071);d=a(1072);f=a(1073);b.rM=new t.rd(function(h){h(c.SAa).to(m.RAa).ba();h(g.QAa).to(d.NAa).ba();h(l.PAa).to(f.OAa).ba();});},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p,q,u,r){this.u4=p;this.nb=q;this.xvb=u;this.config=r;this.wa=n.mb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.RAa=void 0;t=a(1);g=a(0);l=a(469);m=a(470);d=a(7);f=a(27);h=a(5);a=a(13);c.prototype.Ftb=function(n){var p,q;p=n.bb.playbackState && n.bb.playbackState.currentTime;q=this.JHb(n.K);p=this.nb.fH(p)?(0,h.Nc)(p):q;if(this.nb.Mg(p))(this.wa.info("Overriding bookmark",{From:n.XJ.da(h.la),To:p.da(h.la)}),n=Object.assign({},n,{XJ:p}));else if(this.hMb(n))return (this.wa.trace("Ignoring bookmark because it's too close to beginning"),(0,h.Ch)(0));return n.XJ.Wqa()?(this.wa.trace("Ignoring bookmark because it's negative"),(0,h.Ch)(0)):this.gMb(n)?(this.wa.trace("Ignoring bookmark because it's too close to end"),(0,h.Ch)(0)):this.fMb(n)?(this.wa.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,h.Ch)(0)):n.XJ;};c.prototype.hMb=function(n){return 0 > n.XJ.Ll(this.Aoa(n));};c.prototype.Aoa=function(n){return this.SSa(this.u4.Aoa(),n.E$);};c.prototype.gMb=function(n){return 0 < n.XJ.Ll(this.Boa(n));};c.prototype.Boa=function(n){var p;p=n.bb.zi?this.u4.zIb():this.u4.Boa();return n.E$.Ka(this.SSa(p,n.E$));};c.prototype.fMb=function(n){return 0 < n.XJ.Ll(this.hIb(n));};c.prototype.hIb=function(n){var p;p=n.bb.zi?this.config().E6a:this.config().GI;return n.E$.Ka((0,h.Nc)(p));};c.prototype.JHb=function(n){var p;n=this.u4.goa()[n];p=-1;this.nb.aq(n)?p=parseInt(n):this.nb.Qi(n) && (p=n);if(this.nb.hU(p))return (0,h.Nc)(p);};c.prototype.SSa=function(n,p){return this.xvb.H1b(n,p);};k=c;k=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(d.ub)),t.__param(1,(0,g.l)(l.QAa)),t.__param(2,(0,g.l)(f.hg)),t.__param(3,(0,g.l)(m.PAa)),t.__param(4,(0,g.l)(a.bd))],k);b.RAa=k;},function(t,b,a){var g,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.NAa=void 0;t=a(1);g=a(0);a=a(13);c.prototype.Aoa=function(){return this.vD().yvb;};c.prototype.Boa=function(){return this.vD().zvb;};c.prototype.zIb=function(){return this.vD().Avb;};c.prototype.goa=function(){return this.vD().RSa;};c.prototype.vD=function(){return this.config();};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.bd))],l);b.NAa=l;},function(t,b,a){var g,l,m;function c(d){this.nb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.OAa=void 0;t=a(1);g=a(0);l=a(27);m=a(5);c.prototype.H1b=function(d,f){var h,k;h=parseFloat(d);k=0;"%" === d[d.length - 1] && this.nb.Qi(h)?k=Math.round(h * f.da(m.la) / 100):(d=parseInt(d),this.nb.hU(d) && (k=d));return (0,m.Nc)(Math.min(k,f.da(m.la)));};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.hg))],a);b.OAa=a;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.lTa=void 0;t=a(0);c=a(471);g=a(1075);b.lTa=new t.rd(function(l){l(c.iBa).to(g.hBa).ba();});},function(t,b,a){var g,l,m,d,f,h,k,n,p;function c(q,u,r,w,v,x){this.config=q;this.jE=r;this.profile=w;this.Aba=v;this.KU=x;this.log=u.mb("CDMAttestedDescriptor");this.aZa(n.Kv.vS);}Object.defineProperty(b,"__esModule",{value:!0});b.hBa=void 0;t=a(1);g=a(0);l=a(13);m=a(7);d=a(159);f=a(282);h=a(95);k=a(169);n=a(42);p=a(60);c.prototype.aZa=function(q){var u;u=this;return this.Aba.Saa(q)?this.config().$Db?this.ZYa().then(function(r){if(r)return (!1,Promise.resolve(void 0));u.m3a || (!1,u.m3a=u.KU.hpa(p.ji.wo));return u.m3a;}).catch(function(r){u.log.error("Failed to generate challenge",r);}).then(function(r){null === r || void 0 === r?void 0:r.cc.close();return null === r || void 0 === r?void 0:r.Cka;}).then(function(r){return Promise.all([Promise.resolve(r),u.ZYa()]);}).then(function(r){var w;r=ba(r);w=r.next().value;if(r.next().value)!1;else return w;}):this.jE().then(function(r){r.PX.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.ZYa=function(){var q;q=this;return this.jE().then(function(u){return (u=u.PX.getServiceTokens(q.profile)) && u.find(function(r){return "cad" === r.name;});});};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.bd)),t.__param(1,(0,g.l)(m.ub)),t.__param(2,(0,g.l)(d.hS)),t.__param(3,(0,g.l)(h.xS)),t.__param(4,(0,g.l)(f.l2)),t.__param(5,(0,g.l)(k.u0))],a);b.hBa=a;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.d4a=void 0;t=a(0);c=a(264);g=a(1077);l=a(472);m=a(1084);d=a(476);f=a(478);h=a(1085);k=a(133);n=a(1086);p=a(480);q=a(1087);b.d4a=new t.rd(function(u){u(l.$Ga).to(m.ZGa).ba();u(c.pea).to(g.aHa).ba();u(d.mKa).Mj(function(r){for(var w=[],v=0;v < arguments.length;++v){w[v - 0]=arguments[v];}v=a(284).QF;return new (Function.prototype.bind.apply(v,[null].concat(ha(w))))();});u(f.dHa).Af(function(){return function(r){return new h.eHa(r);};});u(k.IK).to(n.XGa).ba();u(p.WGa).to(q.VGa).ba();});},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u;function c(r,w,v,x){this.bg=r;this.config=w;this.Rua=v;this.Kya=x;}Object.defineProperty(b,"__esModule",{value:!0});b.aHa=void 0;t=a(1);g=a(0);l=a(7);m=a(472);d=a(1078);f=a(1079);h=a(1080);k=a(1081);n=a(1082);p=a(1083);q=a(476);a=a(477);c.prototype.create=function(r){var w,v;w=this.bg.mb("ManifestParser",r);v=new d.HBa(w,this.config);return new h.bHa(v,new f.EMa(w,this.config,r,v,this.Rua),new k.aNa(w,r,this.Kya),new n.DAa(w,this.config,r),new p.zNa(w));};u=c;u=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub)),t.__param(1,(0,g.l)(m.$Ga)),t.__param(2,(0,g.l)(q.mKa)),t.__param(3,(0,g.l)(a.ZMa))],u);b.aHa=u;},function(t,b,a){var g,l,m;function c(d,f){this.log=d;this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.HBa=void 0;g=a(106);l=a(283);m=a(22);c.prototype.mua=function(d,f,h){var k,n,p,q,u;k=this;n=this.config.Aka;p=this.config.zka;d=ba((0,g.Qu)(function(r){return (!n.length || 0 <= n.indexOf(r.id)) && 0 > p.indexOf(r.id);},d || []));q=d.next().value;d.next().value.forEach(function(r){return k.log.warn("Cdn is not allowed",{Id:r.id});});u=q.map(function(r){var w;w=(f?f.find(function(v){return v.key === r.key;}):void 0) || ({});return {id:r.id,name:r.name,ec:r.ec,type:r.type,Sra:r.key,gdc:r.R3a,location:{id:w.key,ec:w.ec,level:w.level,weight:w.weight,tj:[]}};});u.sort(function(r,w){return r.ec - w.ec;});u.forEach(function(r){return r.location.tj=u.filter(function(w){return w.Sra === r.Sra;});});this.log.trace("Transformed cdns",{Count:u.length});if(h && !u.length)throw Error("no valid cdns");return u;};c.prototype.$Lb=function(d,f,h,k){var n;n=d.filter(function(p){return -1 === h.findIndex(function(q){return q.id === p.id;});}).map(function(p){return {H6a:!0,Pc:p};}).concat(h.map(function(p){return {H6a:!1,Pc:p};})).sort(function(p,q){return p.Pc.ec === q.Pc.ec?p.H6a?-1:1:p.Pc.ec - q.Pc.ec;}).map(function(p,q){(0,l.xO)(p.Pc).ec=q + 1;return p.Pc;});d=f.filter(function(p){return -1 === k.findIndex(function(q){return q.key === p.key;});}).concat(k).map(function(p){var q;q=n.findIndex(function(u){return u.key === p.key;});(0,m.jb)(-1 !== q);q=n[q];(0,l.xO)(p).ec=q.ec;return p;});return {p_b:n,MPb:d};};b.HBa=c;},function(t,b,a){var g,l,m,d;function c(f,h,k,n,p){this.log=f;this.config=h;this.j=k;this.MU=n;this.Rua=p;}Object.defineProperty(b,"__esModule",{value:!0});b.EMa=void 0;g=a(45);l=a(11);m=a(132);d=a(473);c.prototype.k7a=function(f,h){var k;k=this;h=h.map(function(n){var p,q,u,r,w;u=k.o3b(n);n.UD || !n.yi || u && 0 < u.length || k.log.error("track without downloadables",k.UIb(n));r={};w=[];0 < u.length && (r=n.language && 0 <= k.config.YN.indexOf(n.language)?u[1] && u[1].profile === g.El.ZEa?u[1]:u[0]:u[0],r.profile == g.El.LK && (r=k.d_b(u),!1),w=k.MU.mua(n.xTa,void 0,!1));n=k.Rua(k.j,n.xg,n.id,null !== (p=n.ec) && void 0 !== p?p:-1,null !== (q=n.yi) && void 0 !== q?q:!0,f,r.Dc,r.urls || ({}),w,n.language,n.YD,m.j2[n.yl.toLowerCase()] || m.Op.PK,n.EJ,n.variant,n.VI.toUpperCase(),r.profile,k.$Ib(r) || ({}),n.UD,n.m8,n.p8,n.yu);k.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:h.length});return h;};c.prototype.N2b=function(f){var h,k;h=this;k=this.config.Ona;if(k){if(f=ba(f.filter(function(n){return n.Uf == k || n.trackId == k;})).next().value)return f;}else if(this.j.u6 && (f=ba(f.filter(function(n){return n.trackId == h.j.u6;})).next().value))return f;};c.prototype.o3b=function(f){var h,k;h=this;k=f.BWa;f=Object.entries(f.Rya || ({})).map(function(n){var p;p=ba(n);n=p.next().value;p=p.next().value;return {Dc:k[n],profile:n,size:p.size || 0,priority:h.$Hb(n,p),offset:p.Zsa || 0,nVb:p.width,y7a:p.height,urls:p.Hw};});f.sort(function(n,p){return n.priority - p.priority;});return f;};c.prototype.$Hb=function(f,h){var k,n;k=this.config.uv.indexOf(f);h=h.size;n=this.config.nQ;return f === g.El.bda && 0 < n && h > n?this.config.uv.length + 1:0 <= k?k:this.config.uv.length;};c.prototype.$Ib=function(f){if(f.profile === g.El.LK)return {offset:f.offset,length:f.size,eJ:{width:f.nVb,height:f.y7a}};};c.prototype.d_b=function(f){var h,k;h=this.config.lqa || d.Sfa.F_a();k=ba(f.filter(function(n){return n.profile === g.El.LK;}).filter(function(n){return n.y7a === h;})).next().value;if(k)return k;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:l.Mv.height,intendedResolution:h});return f[0];};c.prototype.UIb=function(f){return {isNone:f.UD,isForced:f.m8,bcp47:f.language,id:f.xg};};b.EMa=c;},function(t,b,a){var g;function c(l,m,d,f,h){this.MU=l;this.tya=m;this.x3b=d;this.uU=f;this.beb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.bHa=void 0;g=a(283);c.prototype.i7a=function(l){var m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A;f=l.Nb;h=null !== (d=null === (m=f.L4) || void 0 === m?void 0:m.Fs) && void 0 !== d?d:"";k=! !f.YY;m=this.MU.mua(f.ul,f.wj,!0);d=this.tya.k7a(h,f.p_);l=this.x3b.UUb(f.A3b);n=k?this.uU.Z6a(h,f.Qt,d):this.uU.PUb(h,f.Qt,f.media,d);h=this.beb.VUb(h,f.LB);p=h[0];q=this.uU.Uub(n) || n.find(function(B){return k?B.trackId === f.YY.Dn:B.tA === f.v5[0].Dn;}) || n[0];u=this.tya.N2b(q.bi) || d.find(function(B){return k?B.trackId === f.YY.oQ:B.tA === f.v5[0].zbb;}) || q.bi[0];r=this.beb.RUb(f.LB);w=f.Ai;v=f.Jxb;x=f.MH;y=f.Am;z=f.Qt.findIndex(function(B){return B.xg == q.trackId;});A=f.LB.findIndex(function(B){return B.xg == p.trackId;});return {cv:r,tj:m,Si:n,Ep:h,bi:d,DB:l,Ai:w,t_b:v,ZH:x,Am:y,bCb:z,lCb:A,w5:p,hV:q,jV:u};};c.prototype.aMb=function(l,m,d){var f,h,k,n,p,q;f=this;n=this.MU.$Lb(l.Nb.ul,l.Nb.wj,d.Nb.ul,d.Nb.wj);p=n.p_b;n=n.MPb;(0,g.xO)(l.Nb).ul=p;(0,g.xO)(l.Nb).wj=n;m.tj=this.MU.mua(p,n,!0);q=null !== (k=null === (h=d.Nb.L4) || void 0 === h?void 0:h.Fs) && void 0 !== k?k:"";d=d.Nb;h=d.Qt;d.p_.forEach(function(u){var r;if(u.yi){r=f.u9a(l.Nb.p_,m.bi,u,function(w){return f.tya.k7a(q,[w])[0];});r && m.Si.forEach(function(w){var v;w=w.bi;v=w.findIndex(function(x){return x.trackId === r.trackId;});-1 !== v && (w[v]=r);});}});h.forEach(function(u){u.yi && f.u9a(l.Nb.Qt,m.Si,u,function(r){return f.uU.Z6a(q,[r],m.bi)[0];});});return {oa:l,Uc:m};};c.prototype.HZb=function(l,m){return this.uU.KFb(l,m);};c.prototype.u9a=function(l,m,d,f){var h,k,n,p;h=l.findIndex(function(q){return q.xg === d.xg;});k=-1 !== h?l[h]:void 0;n=m.findIndex(function(q){return q.trackId === d.xg;});p=-1 !== n?m[n]:void 0;if(k && !k.yi && p && !p.yi)return (f=f(d),l[h]=d,m[n]=f);};b.bHa=c;},function(t,b){function a(c,g,l){this.log=c;this.j=g;this.Kya=l;}Object.defineProperty(b,"__esModule",{value:!0});b.aNa=void 0;a.prototype.UUb=function(c){var g;g=this;c=(c || []).filter(function(l){return l.urls && 0 < l.urls.length;}).map(function(l){return g.Kya(g.j,l.id,l.height,l.width,l.sVb,l.tVb,l.size,l.yu,{unknown:l.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(l,m){return l.size - m.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.aNa=a;},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p,q){n=l.eS.call(this,n) || this;n.config=p;n.j=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.DAa=void 0;g=a(456);l=a(474);m=a(106);d=a(91);f=a(132);h=a(3);k=a(41);na(c,l.eS);c.prototype.Z6a=function(n,p,q){var u,r;u=this;r=this.config.gba;p=p.filter(function(w){var v,x;v=w.UD || !w.yi || w.streams && 0 < w.streams.length;v || u.log.warn("Audio track is missing streams",u.o7(w));x=0 === r.length || 0 <= r.indexOf(w.yl);x || u.log.warn("Audio track is not supported",u.o7(w));return v && x;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(w){return u.Y6a(n,w,u.bHb(w,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.PUb=function(n,p,q,u){var r,w,v,x;r=this;w=ba((0,m.Qu)(function(y){return y.UD;},p));p=w.next().value;w=w.next().value;w=ba((0,m.Qu)(function(y){return y.streams && 0 < y.streams.length;},w));v=w.next().value;w.next().value.forEach(function(y){return r.log.warn("Audio track is missing streams",r.o7(y));});x=this.config.gba;w=ba((0,m.Qu)(function(y){return 0 === x.length || 0 <= x.indexOf(y.yl);},v));v=w.next().value;w.next().value.forEach(function(y){return r.log.warn("Audio track is not supported",r.o7(y));});p=[].concat(ha(v),ha(p)).map(function(y){return r.Y6a(n,y,r.QIb(y.xg,q,u));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.Uub=function(n){var p,q;p=this;q=this.config.Kna;if(q){if(n=ba(n.filter(function(u){return u.Uf == q || u.trackId == q;})).next().value)return n;}else if(this.j.t6 && (n=ba(n.filter(function(u){return u.trackId == p.j.t6;})).next().value))return n;};c.prototype.KFb=function(n,p){this.config.BSa.forEach(function(q){var u,r,w;u=p.Qt.filter(function(v){return v.profile === q;}).reduce(function(v,x){x.streams.map(function(y){return y.bitrate;}).forEach(function(y){v.add(y);});return v;},new Set());r=!1;w=n.Nb.Qt.map(function(v){var x;if(v.profile === q){x=v.streams.filter(function(y){return u.has(y.bitrate);});if(x.length === v.streams.length)return v;r=!0;if(0 === x.length)throw new k.od(h.N.HGa,h.M.Web);return Object.assign(Object.assign({},v),{streams:x});}return v;});r && (n.Nb=Object.assign(Object.assign({},n.Nb),{Qt:w}));});return n;};c.prototype.Y6a=function(n,p,q){var u,r,w,v;v=p.yl;n={type:d.Li.audio,EJ:p.EJ,variant:p.variant,trackId:p.xg,tA:p.rQ,yl:f.j2[v.toLowerCase()] || f.Op.PK,VI:v,Lg:n,Uf:p.language,displayName:p.YD,ec:null !== (u=p.ec) && void 0 !== u?u:-1,yi:null !== (r=p.yi) && void 0 !== r?r:!0,channels:p.channels,tbc:p.channels,bi:q,Wh:{Bcp47:p.language,TrackId:p.xg},streams:[],isNative:p.isNative,Jq:p.UD,c_:p.c_};n.streams=this.Bcb(p.streams,n);this.log.trace("Transformed audio track",n,{StreamCount:n.streams.length,AllowedTimedTextTracks:n.bi.length});n.Rxb=g.EAa[null === (w=n.streams[0]) || void 0 === w?void 0:w.Kg];return n;};c.prototype.o7=function(n){return {language:n.YD,bcp47:n.language,type:n.yl};};c.prototype.bHb=function(n,p){return p.filter(function(q){if(0 <= n.ZCb.indexOf(q.tA))return !1;if(n.RVa){if(n.RVa !== q.tA && (q.Jq() || q.jp()))return !1;}else if(n.oTb){if(q.Jq() || q.jp())return !1;}else if(q.jp())return !1;return !0;});};c.prototype.QIb=function(n,p,q){return p.filter(function(u){return u.fg.Yb === n;}).map(function(u){return u.fg.pn;}).map(function(u){return q.find(function(r){return r.trackId === u;});}).filter(Boolean);};b.DAa=c;},function(t,b,a){var g,l,m,d;function c(f){return l.eS.call(this,f) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zNa=void 0;g=a(106);l=a(474);m=a(91);d=a(132);na(c,l.eS);c.prototype.VUb=function(f,h){var k,n;k=this;h=ba((0,g.Qu)(function(p){return p.streams && 0 < p.streams.length;},h));n=h.next().value;h.next().value.forEach(function(p){return k.log.warn("Video track is missing streams",{trackId:p.xg});});h=n.map(function(p){var q;q=p.yl;q={type:m.Li.video,trackId:p.xg,tA:p.rQ,yl:d.j2[q.toLowerCase()] || d.Op.PK,VI:q,Lg:f,streams:[],Wh:{},$u:p.$u};q.streams=k.Bcb(p.streams,q);k.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!h.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:h.length});return h;};c.prototype.RUb=function(f){var h;h=f.map(function(k){return k.$u;}).filter(Boolean);h=[].concat.apply([],ha(h)).map(function(k){return k.fa;});f=f.map(function(k){return k.zma;}).filter(Boolean).map(function(k){return k.fa;});return 0 < h.length?h:f;};b.zNa=c;},function(t,b,a){var g,l,m,d,f,h;function c(k,n){k=l.bf.call(this,k,"ManifestParserConfigImpl") || this;k.vh=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.ZGa=void 0;t=a(1);g=a(0);l=a(47);m=a(37);d=a(46);f=a(111);h=a(52);na(c,l.bf);Ya.Object.defineProperties(c.prototype,{gba:{configurable:!0,enumerable:!0,get:function(){return [];}},Kna:{configurable:!0,enumerable:!0,get:function(){return "";}},Aka:{configurable:!0,enumerable:!0,get:function(){return [];}},zka:{configurable:!0,enumerable:!0,get:function(){return [];}},Ona:{configurable:!0,enumerable:!0,get:function(){return "";}},lqa:{configurable:!0,enumerable:!0,get:function(){return 0;}},nQ:{configurable:!0,enumerable:!0,get:function(){return this.vh.nQ.da(h.Av);}},uv:{configurable:!0,enumerable:!0,get:function(){return this.vh.uv;}},YN:{configurable:!0,enumerable:!0,get:function(){return this.vh.YN;}},BSa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;t.__decorate([d.config(d.CJ,"supportedAudioTrackTypes")],a.prototype,"gba",null);t.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"Kna",null);t.__decorate([d.config(d.Tya,"cdnIdWhiteList")],a.prototype,"Aka",null);t.__decorate([d.config(d.Tya,"cdnIdBlackList")],a.prototype,"zka",null);t.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"Ona",null);t.__decorate([d.config(d.EB,"imageSubsResolution")],a.prototype,"lqa",null);t.__decorate([d.config(d.EB,"timedTextSimpleFallbackThreshold")],a.prototype,"nQ",null);t.__decorate([d.config(d.CJ,"timedTextProfiles")],a.prototype,"uv",null);t.__decorate([d.config(d.CJ,"imscLanguageList")],a.prototype,"YN",null);t.__decorate([d.config(d.CJ,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"BSa",null);a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.fm)),t.__param(1,(0,g.l)(f.KF))],a);b.ZGa=a;},function(t,b){function a(c){this.Uc=c;this.yb=JSON.stringify(this.XIb());}Object.defineProperty(b,"__esModule",{value:!0});b.eHa=void 0;a.prototype.XIb=function(){var c;c=[];(!this.Uc.tj || 0 >= this.Uc.tj.length) && c.push({error:"No CDN."});this.Uc.hV || c.push({error:"No default audio track.",foundTracks:this.yoa(this.Uc.Si)});this.Uc.w5 || c.push({error:"No default video track.",foundTracks:this.yoa(this.Uc.Ep)});this.Uc.jV || c.push({error:"No default subtitle track.",foundTracks:this.yoa(this.Uc.bi)});return c;};a.prototype.yoa=function(c){return c && 0 < c.length?c.map(function(g){return g.trackId;}):"No tracks found.";};b.eHa=a;},function(t,b,a){var g,l,m,d,f;function c(h,k){this.gPb=h;this.nQb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.XGa=void 0;t=a(1);g=a(0);l=a(479);m=a(480);d=a(41);f=a(3);c.prototype.create=function(h){var k;if(h && !this.GNb(h)){if(this.LNb(h))throw d.od.U5b(f.N.FK,f.M.ymb,h);k=this.gPb();k.gRa(h.links);this.nQb.kN(h);return {Nb:h,yk:k,j2a:!1,i2a:!1};}};c.prototype.LNb=function(h){return ("type" in h) && "muxed" === h.type;};c.prototype.GNb=function(h){return ("runtime" in h) && ! !h.runtime;};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.dJa)),t.__param(1,(0,g.l)(m.WGa))],a);b.XGa=a;},function(t,b,a){var g,l;function c(m){this.NEb=m;this.a4a={Xo:"drmType",Xbc:"drmVersion",expiration:"expiration",K:"movieId",pp:"packageId",duration:"duration",Ai:"playbackContextId",v5:["defaultTrackOrderList",{BO:"mediaId",DQ:"videoTrackId",zbb:"subtitleTrackId",Dn:"audioTrackId",Iec:"preferenceOrder"}],bcc:["eligibleABTestMap",{rn:l.rn}],dbc:["badgingInfo",{Qbc:"dolbyDigitalAudio",Ncc:"hdrVideo",Rbc:"dolbyVisionVideo",Pfc:"ultraHdVideo","3dVideo":"3dVideo",Pbc:"dolbyAtmosAudio",Xac:"assistiveAudio",cfc:"sdVideo",Mcc:"hdVideo"}],type:"type",$ac:["audioTextShortcuts",{id:"id",Dn:"audioTrackId",Efc:"textTrackId"}],Dec:"partiallyHydrated",C4a:"maxRecommendedAudioRank",D4a:"maxRecommendedTextRank",Am:"drmContextId",iLb:"hasDrmProfile",hLb:"hasClearProfile",MH:"hasDrmStreams",Mpa:"hasClearStreams",wj:["locations",{ec:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],ul:["servers",{id:"id",name:"name",type:"type",ec:"rank",R3a:"lowgrade",iDb:["dns",{host:"host",fNb:"ipv4",gNb:"ipv6",tGb:"forceLookup"}],key:"key"}],Qt:["audio_tracks",{type:"type",EJ:"subType",variant:"variant",yl:"trackType",xg:"new_track_id",rQ:"track_id",bXb:"profileType",q1b:"stereo",profile:"profile",channels:"channels",language:"language",Vwb:"channelsFormat",c_:"surroundFormatLabel",YD:"languageDescription",ZCb:"disallowedSubtitleTracks",RVa:"defaultTimedText",isNative:"isNative",UD:"isNoneTrack",streams:["streams",{gs:"downloadable_id",size:"size",ZG:"content_profile",yl:"trackType",bitrate:"bitrate",ll:"isDrm",urls:["urls",{mq:"cdn_id",url:"url"}],rSb:"new_stream_id",type:"type",channels:"channels",Vwb:"channelsFormat",c_:"surroundFormatLabel",language:"language",Zac:"audioKey",bSb:["moov",{size:"size",offset:"offset"}],Ws:["sidx",{size:"size",offset:"offset"}],vB:["ssix",{size:"size",offset:"offset"}],wl:"tags"}],Rxb:"codecName",VI:"rawTrackType",id:"id",ec:"rank",yi:"hydrated",oTb:"offTrackDisallowed"}],LB:["video_tracks",{yl:"trackType",xg:"new_track_id",type:"type",rQ:"track_id",iLb:"hasDrmProfile",hLb:"hasClearProfile",MH:"hasDrmStreams",Mpa:"hasClearStreams",jA:"groupName",streams:["streams",{gs:"downloadable_id",size:"size",ZG:"content_profile",yl:"trackType",EWa:"drmHeaderId",bitrate:"bitrate",ll:"isDrm",urls:["urls",{mq:"cdn_id",url:"url"}],rSb:"new_stream_id",type:"type",Fec:"peakBitrate",RCb:"dimensionsCount",SCb:"dimensionsLabel",A7a:"pix_w",z7a:"pix_h",K9a:"res_w",J9a:"res_h",yBb:"crop_x",zBb:"crop_y",xBb:"crop_w",wBb:"crop_h",AYa:"framerate_value",zYa:"framerate_scale",Wab:"startByteOffset",xb:"vmaf",bSb:["moov",{size:"size",offset:"offset"}],Ws:["sidx",{size:"size",offset:"offset"}],vB:["ssix",{size:"size",offset:"offset"}],er:["segmentVmaf",{offset:"offset",xb:"vmaf"}],wl:"tags"}],bXb:"profileType",q1b:"stereo",profile:"profile",RCb:"dimensionsCount",SCb:"dimensionsLabel",tfc:["snippets",{rn:[l.rn,{sfc:"snippetSpec",Aa:"startTimeMs",Ca:"endTimeMs"}]}],zma:["drmHeader",{fa:"bytes",nxb:"checksum",EWa:"drmHeaderId",uj:"keyId",eJ:["resolution",{height:"height",width:"width"}]}],$u:["prkDrmHeaders",{fa:"bytes",nxb:"checksum",EWa:"drmHeaderId",uj:"keyId",eJ:["resolution",{height:"height",width:"width"}]}],ou:"flavor",Wcc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",qVb:"pixelAspectX",rVb:"pixelAspectY",Bdc:"maxCroppedWidth",Adc:"maxCroppedHeight",Cdc:"maxCroppedX",Ddc:"maxCroppedY",Kdc:"max_framerate_value",Jdc:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",Ydc:"minCroppedWidth",Xdc:"minCroppedHeight",Zdc:"minCroppedX",$dc:"minCroppedY",$g:["license",{cPb:"licenseResponseBase64",Lec:"providerSessionToken",gfc:"secureStopExpected",Wbc:"drmSessionId",links:["links",{}]}]}],L4:["cdnResponseData",{qJ:"sessionABTestCell",Fs:"pbcid"}],Fn:["choiceMap",{Pd:"initialSegment",type:"type",S:"viewableId",V:["segments",{rn:[l.rn,{Aa:"startTimeMs",Ca:"endTimeMs",next:["next",{rn:[l.rn,{weight:"weight"}]}],Md:"defaultNext",Aq:"exitZones"}]}]}],Dw:["contentPlaygraph",{ma:["playgraph",{Pd:"initialSegment",V:["segments",{rn:[l.rn,{S:"viewableId",Aa:"startTimeMs",Ca:"endTimeMs",next:["next",{rn:[l.rn,{weight:"weight"}]}],Md:"defaultNext"}]}]}],Yab:["startIdent",{b1a:"identToken",S:"viewableId"}]}],media:["media",{id:"id",fg:["tracks",{Yb:"AUDIO",pn:"TEXT",Pb:"VIDEO"}]}],YY:["recommendedMedia",{DQ:"videoTrackId",Dn:"audioTrackId",oQ:"timedTextTrackId"}],p_:["timedtexttracks",{yl:"trackType",xg:"new_track_id",type:"type",EJ:"subType",variant:"variant",VI:"rawTrackType",YD:"languageDescription",language:"language",id:"id",UD:"isNoneTrack",m8:"isForcedNarrative",BWa:["downloadableIds",{}],xTa:["cdnlist",{id:"id",name:"name",type:"type",ec:"rank",R3a:"lowgrade",iDb:["dns",{host:"host",fNb:"ipv4",gNb:"ipv6",tGb:"forceLookup"}],key:"key"}],Rya:["ttDownloadables",{rn:[l.rn,{id:"id",size:"size",Dfc:"textKey",Lcc:"hashValue",Kcc:"hashAlgo",fdc:"isImage",Zsa:"midxOffset",c5a:"midxSize",height:"height",width:"width",Hw:["downloadUrls",{}],urls:["urls",{url:"url",mq:"cdn_id"}]}]}],p8:"isLanguageLeftToRight",yu:"headIdentDuration",ec:"rank",yi:"hydrated"}],A3b:["trickplays",{gs:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",tVb:"pixelsAspectY",sVb:"pixelsAspectX",width:"width",height:"height",yu:"headIdentDuration"}],meb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],Vbc:"dpsid",zi:"isBranching",$fc:"viewableType",nO:"isSupplemental",Jxb:"clientIpAddress",Ufc:"urlExpirationDuration",wdc:"manifestExpirationDuration",xfc:["steeringAdditionalInfo",{yfc:"steeringId",Uac:"additionalGroupNames",Afc:["streamingClientConfig",{}]}],Ti:"auxiliaryManifestToken"};this.oQb=Object.assign(Object.assign({},this.a4a),{CSa:["auxiliaryManifests",this.a4a]});}Object.defineProperty(b,"__esModule",{value:!0});b.VGa=void 0;t=a(1);g=a(0);l=a(212);c.prototype.kN=function(m){this.NEb.kN(m,this.oQb);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.KDa))],a);b.VGa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oVa=void 0;b.oVa=function(a,c,g,l){return {LJb:function(){var m;m=a.Uoa();l.yu && (m+=l.yu);return m;},wa:c,request:g,xf:!1};};},function(t,b,a){var g,l,m,d,f;function c(h,k){var n;h=g.EventEmitter.call(this) || this;h.content="";h.entries=[];(0,l.jb)(("videoSize" in k) && ("xml" in k) && ! !k.xml,"Subtitle options didn't contain XML data");("videoSize" in k) && ("xml" in k) && (h.content=null !== (n=k.xml) && void 0 !== n?n:"",h.JB=k.videoSize);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.cGa=void 0;g=a(18);l=a(22);m=a(14);d=a(30);f=a(1090);na(c,g.EventEmitter);c.prototype.yH=function(h){var k;(0,d.$c)(h) && (0,d.$c)(this.duration) && h < this.duration && this.entries && (k=this.sSb || this.entries[Math.floor(h * this.L2b)] || this.entries[0]);if(k){for(;k && k.endTime < h;){k=k.next;}for(;k && k.previous && k.previous.endTime >= h;){k=k.previous;}this.sSb=k;}return k?[k]:[];};c.prototype.PN=function(h,k){var n;n=[];try{n=this.entries.filter(function(p){var q;q=ba([p.startTime,p.endTime]);p=q.next().value;q=q.next().value;return p >= h && p <= k || p <= h && h <= q;});}catch(p){}return n;};c.prototype.ms=function(h,k){return this.PN(h,k).reduce(function(n,p){return n + p.blocks.length;},0);};c.prototype.start=function(){var h,k;h=this;if(this.content)(0,f.h7a)(this.content,this.JB.width / this.JB.height,m.config.Aya,m.config.oba).then(function(n){h.duration=n && Math.max.apply(Math,ha(n.map(function(p){return p.endTime;}))) || 0;h.L2b=n && n.length / h.duration || 0;h.entries=n;h.emit("ready");}).catch(function(n){h.emit("error",n);});else {k=Error("Subtitle content was empty");k.errorDetails="Subtitle content was empty";this.emit("error",k);}};c.prototype.pause=function(){};c.prototype.stop=function(){};c.prototype.uva=function(){throw Error("Method not implemented.");};c.prototype.ht=function(){throw Error("Method not implemented.");};c.prototype.tB=function(){throw Error("Method not implemented.");};c.prototype.Ei=function(){throw Error("Method not implemented.");};c.prototype.Gi=function(){throw Error("Method not implemented.");};b.cGa=c;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.h7a=void 0;c=a(1091);g=a(285);b.h7a=function(l,m,d,f){return new Promise(function(h,k){(0,g.Oza)(l,function(n){n.aa?(n=n.object,(0,c.$6a)(n,m,d,f,function(p){p.aa?h(p.entries):k(p);})):k(n);});});};},function(t,b,a){var c,g,l,m,d,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.b7a=b.a7a=b.nua=b.d7a=b.KUb=b.LUb=b.c7a=b.e7a=b.w$=b.f7a=b.g7a=b.$6a=void 0;c=a(22);g=a(30);l=a(12);m=a(160);d=a(11);f=a(17);h=a(24);b.$6a=(function(){var F,G,C,H,K,M,I,Q,L,J,O,N;function k(P){if((0,g.wA)(P)){P=P.toLowerCase();if("#" == P[0]){if(7 == P.length)return P;if(4 == P.length)return "#" + P[1] + P[1] + P[2] + P[2] + P[3] + P[3];}return b.e7a[P];}}function n(P,S,U){S=S[P];0 <= S || (S=parseFloat(P));if(0 <= S)return (0,d.Jp)(S,U);}function p(P,S){var U,Z;U=P.length;Z=P[U - 1];if("t" === Z)return parseFloat(P) * S | 0;if("s" === Z)return "m" === P[U - 2]?parseFloat(P) | 0:parseFloat(P) * l.cm | 0;if((P=P.match(L)) && 4 <= P.length)return (3600 * parseInt(P[1],10) + 60 * parseInt(P[2],10) + parseFloat(P[3])) * l.cm | 0;throw Error("dfxp-badtime");}function q(P,S,U,Z,ja){var ya,ra,Y,pa,T,R,ea,sa;ya=void 0;if(P){ra=P.style;U=ra?U[ra]:void 0;Z=(ra=P.region)?Z[ra]:void 0;ra=ja.length;for(Y=0;Y < ra;Y++){T=ja[Y];R=P[T];void 0 === R && U && (R=U[T]);void 0 === R && Z && (R=Z[T]);if(void 0 !== R && R !== S[T]){if(!ya)for((ya={},pa=0);pa < ra;pa++){ea=ja[pa];sa=S[ea];void 0 !== sa && (ya[ea]=sa);}ya[T]=R;}}}return ya || S;}function u(P,S,U,Z,ja,ya,ra,Y,pa){var R,ea;function T(sa,la,Ka){var Ua,$a,Za,cb,Va,Qa;Ua=sa[m.Pk];$a=Ua.style || la.style || "";Za=Ua.region || la.region || "";if($a || Za)(cb=$a + "/" + Za,Va=U[cb]);else Va=S;if(!Va){Va=S;Qa=(0,g.UP)(Z);(0,g.bc)(Qa,ja[$a]);Va=x(Va,Qa,ra,Y,pa);U[$a + "/"]=Va;Za && ((0,g.bc)(Qa,ya[Za]),(0,g.bc)(Qa,ja[$a]),Va=x(Va,Qa,ra,Y,pa),U[cb]=Va);}if(!Ka)a:{for(Ka=M.length;Ka--;){if(void 0 !== Ua[M[Ka]]){Ka=!0;break a;}}Ka=void 0;}Ka && (Ua=q(Ua,la,ja,ya,I),Va=x(Va,Ua,ra,Y,pa));la=(sa=sa[m.KQ]) && sa.length;for($a=0;$a < la;$a++){Za=sa[$a];(0,g.Th)(Za)?J.test(Za[m.LQ])?ea++:T(Za,Ua,Ka):(R.push({text:Za,lineBreaks:ea,style:Va}),ea=0);}}R=[];ea=0;T(P,Z,!1);0 < ea && R.push({text:"",lineBreaks:ea,style:S});return R;}function r(P,S,U,Z,ja,ya,ra,Y){var pa,T;U && (U=G[U] || "top",P.verticalAlignment !== U && (P.verticalAlignment=U));Z && (U=C[Z] || "left",P.horizontalAlignment !== U && (P.horizontalAlignment=U));if(ja){if(pa=Y[ja])(Z=pa.marginLeft,U=pa.marginTop);else {T=ja.split(" ");Z=z(T[0],ra.x) || 0;U=z(T[1],ra.y) || 0;pa={Bm:0,marginLeft:Z,marginTop:U,Itb:Z * S.Ipa + S.FW,Ktb:U * S.vza + S.Pba};30 > Y.Bm && (Y.Bm++,Y[ja]=pa);}P.marginLeft=pa.Itb;P.marginTop=pa.Ktb;}else (U=Z=0,(pa=Y["default"]) || (Y["default"]=pa={Bm:0}));ya && (ja=pa[ya],ja || (T=ya.split(" "),ja={Jtb:(1 - (Z + (z(T[0],ra.x) || 0))) * S.Ipa + S.FW,Htb:(1 - (U + (z(T[1],ra.y) || 0))) * S.vza + S.Pba},30 > pa.Bm && (pa.Bm++,pa[ya]=ja)),P.marginRight=ja.Jtb,P.marginBottom=ja.Htb);}function w(P,S,U,Z,ja){var ya,ra,Y;ya=P.displayAlign;ra=P.textAlign;Y=P.origin;P=P.extent;U=(0,g.UP)(U);r(U,S,ya,ra,Y,P,Z,ja);U.id=F++;return U;}function v(P,S,U,Z){var ja,ya,ra,Y,pa,T;ja=n(U.characterSize || S.characterSize,b.f7a,2) || 1;ya=(ya=P.fontSize) && O.test(ya)?(0,g.Kp)((0,g.Je)(ya),25,200):void 0;ja*=ya / 100 || 1;if((ya=P.textOutline) && "none" != ya){ra=ya.split(" ");if(N.test(ra))(Y=0,pa=P.color);else (Y=1,pa=k(ra[0]));T=y(ra[Y]);ra=y(ra[Y + 1]);}return {characterStyle:U.characterStyle || b.g7a[P.fontFamily] || S.characterStyle,characterSize:ja * Z,characterColor:k(U.characterColor || P.color || S.characterColor),characterOpacity:n((0,g.S4)(U.characterOpacity,P.opacity,S.characterOpacity),b.w$,1),characterEdgeAttributes:U.characterEdgeAttributes || ya && ("none" === ya?b.c7a:ra?b.nua:b.d7a) || S.characterEdgeAttributes,characterEdgeColor:k(U.characterEdgeColor || pa || S.characterEdgeColor),characterEdgeWidth:T,characterEdgeBlur:ra,characterItalic:"italic" === P.fontStyle,characterUnderline:"underline" === P.textDecoration,backgroundColor:k(U.backgroundColor || P.backgroundColor || S.backgroundColor),backgroundOpacity:n((0,g.S4)(U.backgroundOpacity,P.opacity,S.backgroundOpacity),b.w$,1)};}function x(P,S,U,Z,ja){var ya;S=v(S,U,Z,ja);(0,h.ve)(S,function(ra,Y){Y !== P[ra] && (ya || (ya=(0,d.IF)(P)),ya[ra]=Y);});return ya || P;}function y(P){P=(0,g.Je)(P);return (0,f.vA)(P,0,100)?P:0;}function z(P,S){var U;U=P[P.length - 1];if("%" === U)return (0,g.Kp)(.01 * parseFloat(P),0,1);if("c" === U)return (0,g.Kp)((0,g.Je)(P) / S,0,1);}function A(P){for(var S=P.length,U=P[--S].endTime;S--;){U=(0,d.Jp)(P[S].endTime,U);}return U;}function B(P){(0,h.ve)(P,function(S,U){0 <= S.toLowerCase().indexOf("color") && (P[S]=k(U));});}function E(P,S){var U,Z,ja,ya;U=P.pixelAspectRatio;Z={FW:0,Ipa:1,Pba:0,vza:1};P=(P.extent || "640px 480px").split(" ");if(2 <= P.length){U=(U || "").split(" ");ja=parseFloat(P[0]) * (parseFloat(U[0]) || 1);ya=parseFloat(P[1]) * (parseFloat(U[1]) || 1);}ja=0 < ja && 0 < ya?ja / ya:1280 / 720;S=S || 1280 / 720;U=ja / S;.01 < (0,d.xF)(S - ja) && (S >= ja?(Z.FW=(1 - U) / 2,Z.Ipa=U):(0,c.jb)(!1,"not implemented"));return Z;}function D(P){var S,U,Z,ja,ya;if(S=P.cellResolution)if((S=S.split(" "),2 <= S.length)){U=(0,g.Je)(S[0]);S=(0,g.Je)(S[1]);if(0 < U && 0 < S)return {x:U,y:S};}if((S=P.extent) && (S=S.split(" "),2 <= S.length)){U=(0,g.Je)(S[0]);Z=(0,g.Je)(S[1]);if(P=P.pixelAspectRatio){S=P.split(" ");ja=(0,g.Je)(S[0]);ya=(0,g.Je)(S[1]);}if(U && Z && 1.5 < U * (ja || 1) / (Z * (ya || 1)))return b.b7a;}return b.a7a;}F=1;G={before:"top",center:"center",after:"bottom"};C={left:"left",start:"left",center:"center",right:"right",end:"right"};H={id:F++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};K={id:F++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};M=("fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline").split(" ");I=M.concat(["style","region"]);Q=["region","textAlign","displayAlign","extent","origin"];L=/^([0-9]+):([0-9]+):([0-9.]+)$/;J=/^br$/i;O=/^[0-9]{1,3}%$/;N=/^[0-9]/;return function(P,S,U,Z,ja){var pa,T,R,ea,sa,la,Ka,Ua,$a,Za,cb,Va,Qa,xa,Da,Na,Xa,hb,wb,Fb,Nb,Cb,Kb,Ub,mc,Ec,Md,se,Nd,gd;function ya(){var ec,hc,Xb,nc,dc,tb,Vc,qb,Sb,bc,uc,Wc,fc,vc,Od,Xc,hd;try{for(var qc;Kb;){hb=Kb[m.Pk];ec=Ub;hc=ec.push;Xb=F++;nc=p(hb.begin,R);dc=p(hb.end,R);tb=void 0;Vc=Ua;qb=ea;Sb=Va;bc=Na;uc=Kb[m.Pk];Wc=q(Kb[m.Pk],Ec,la,Ka,Q);fc=Wc.region;vc=uc.displayAlign;Od=Wc.textAlign;Xc=uc.origin;hd=uc.extent;fc || vc || Od || Xc || hd?((tb=Vc[fc])?tb=(0,d.IF)(tb):vc || Xc || hd?(tb=(0,d.IF)(K),tb.id=F++):tb=(0,d.IF)(H),r(tb,qb,vc,Od,Xc,hd,Sb,bc)):tb=H;hc.call(ec,{id:Xb,startTime:nc,endTime:dc,region:tb,textNodes:u(Kb,Md,se,mc,la,Ka,xa,Da,Qa)});Kb=Kb[m.$E];qc=(0,d.nK)();if(100 < qc - Nd){Nd=Date.now();gd=setTimeout(ya,1);return;}}}catch(te){Y({sa:g.M.X0,yb:(0,g.wd)(te)});return;}gd=setTimeout(ra,1);}function ra(){var ec,hc,Xb,nc,dc,tb,Vc;function qc(qb,Sb){for(var bc,uc=[],Wc={},fc,vc=hc.length;vc--;){bc=hc[vc];fc=bc.region.id;Wc[fc] || (Wc[fc]=1,uc.unshift(bc));}(bc=ec[ec.length - 1]) && bc.endTime == qb && (0,g.Vt)(bc.blocks,uc)?bc.endTime=Sb:ec.push({id:F++,startTime:qb,endTime:Sb,blocks:uc});}try{if(!Ub.length){Y({aa:!0,entries:[]});return;}(0,g.eSa)(Ub,"startTime");ec=[];hc=[];Xb=Ub[0];nc=Ub[0].startTime;for(dc=1;hc.length || Xb;){for(;!hc.length || Xb && Xb.startTime == nc;){hc.push(Xb);nc=Xb.startTime;Xb=Ub[dc++];}Vc=A(hc);if(!Xb || Vc <= Xb.startTime)for((qc(nc,Vc),nc=Vc,tb=hc.length);tb--;){hc[tb].endTime <= nc && hc.splice(tb,1);}else (qc(nc,Xb.startTime),nc=Xb.startTime,hc.push(Xb),Xb=Ub[dc++]);}for(dc=ec.length;dc--;){ec[dc].index=dc;ec[dc].previous=ec[dc - 1];ec[dc].next=ec[dc + 1];}}catch(qb){Y({sa:g.M.X0,yb:(0,g.wd)(qb)});return;}Y({aa:!0,entries:ec});}function Y(qc){setTimeout(function(){pa.abort=g.Bl;ja(qc);},1);}pa={abort:function(){gd && clearTimeout(gd);}};try{T=P[m.Pk];R=l.cm / ((0,g.Je)(T.tickRate) || 1);ea=E(T,S);sa=(0,g.bc)(K,{marginLeft:ea.FW,marginTop:ea.Pba,marginRight:ea.FW,marginBottom:ea.Pba});la={};Ka={};Ua={};Za=P.head;cb=P.body;Va=D(T,S);Qa=1 / Va.y * ea.vza;xa=(0,g.bc)({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.nua,characterEdgeColor:"#000000",characterSize:1},U,{VA:!0});Da=Z || ({});Na={Bm:0};if(Za){Xa=Za.styling;if(Xa)for($a=Xa.style;$a;){hb=$a[m.Pk];B(hb);la[hb.id]=hb;$a=$a[m.$E];}wb=Za.layout;if(wb)for(var Eb=wb.region;Eb;){hb=Eb[m.Pk];Fb=hb.id;Nb=(0,g.UP)(la[hb.style]);Nb=(0,g.bc)(Nb,hb);for($a=Eb.style;$a;){(0,g.bc)(Nb,$a[m.Pk]);$a=$a[m.$E];}B(Nb);Ka[Fb]=Nb;Ua[Fb]=w(Nb,ea,sa,Va,Na);Eb=Eb[m.$E];}}Cb=cb.div;Kb=Cb.p;Ub=[];mc={};mc=q(cb[m.Pk],mc,la,Ka,I);mc=q(Cb[m.Pk],mc,la,Ka,I);Ec={};Ec=q(cb[m.Pk],Ec,la,Ka,Q);Ec=q(Cb[m.Pk],Ec,la,Ka,Q);Md=v(mc,xa,Da,Qa);(0,g.bc)(Md,{windowColor:k(Da.windowColor || xa.windowColor),windowOpacity:n((0,g.S4)(Da.windowOpacity,xa.windowOpacity),b.w$,1),cellResolution:Va},{VA:!0});se={};Cb.p=void 0;Cb[m.KQ]=[];}catch(qc){Y({sa:g.M.X0,yb:(0,g.wd)(qc)});return;}Nd=(0,d.nK)();gd=setTimeout(ya,1);return pa;};})();b.g7a={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.f7a={SMALL:.5,MEDIUM:1,LARGE:2};b.w$={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.e7a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.c7a="NONE";b.LUb="RAISED";b.KUb="DEPRESED";b.d7a="UNIFORM";b.nua="DROP_SHADOW";b.a7a={x:40,y:19};b.b7a={x:52,y:19};},function(t,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.Imb=void 0;c=a(1);t=a(117);g=a(1093);l=a(1098);m=a(1105);a=(function(d){function f(h,k){var n,p,q,u;q=d.call(this) || this;q.ck=!0;q.oT=[];q.hw=0;q.cQa=!0;u=h.xf || !1;q.Na=h.wa || console;q.oG=h.request;q.dw=h.LJb;q.V2=null !== (n=h.Hcc) && void 0 !== n?n:function(r,w){return r - (null !== w && void 0 !== w?w:q.dw());};q.Vg=null;q.ck=!0;q.oT=[];q.ET=k.profile;q.Hl=k.url;q.lG=k.Fd;q.DT=k.preferences;q.$S=k.vh;q.hw=q.lG || 0;q.cQa=null !== (p=k.Oec) && void 0 !== p?p:!0;h={url:q.Hl,request:q.oG,Fd:q.lG,xml:k.xml,preferences:q.DT,vh:q.$S,wa:q.Na,xf:u,bufferSize:k.bufferSize,Lu:k.Lu,sva:k.sva || 0,$Sa:k.$Sa};if("nflx-cmisc" === q.ET)(h.offset=k.Zsa,h.size=k.c5a,h.Caa=k.Caa,h.SWa=k.SWa,q.pd=new l(h));else if(-1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(q.ET) && "function" === typeof g)q.pd=new g(h);else throw Error("SubtitleManager: " + q.ET + " is an unsupported profile");q.pd.on("ready",function(){var r,w;r=! !k.ASa;q.Na.info("ready event fired by subtitle stream");q.emit("ready");w=q.pd.yH.bind(q.pd);q.Vg=new m(q.dw,w,q.V2,function(){return q.ck;},q.Na,k);if("dfxp-ls-sdh" === q.ET && "function" === typeof g)q.Vg.on("stagesubtitle",q.d1b.bind(q));q.Vg.on("showsubtitle",q.Cxa.bind(q));q.Vg.on("removesubtitle",q.dwa.bind(q));q.Vg.on("underflow",q.po.bind(q));q.Vg.on("bufferingComplete",q.Te.bind(q));r && (q.Na.info("autostarting subtitles"),setTimeout(function(){q.ht(q.dw());},10));});q.pd.on("error",q.emit.bind(q,"error"));return q;}c.__extends(f,d);f.prototype.start=function(){this.pd.start();};f.prototype.uva=function(){this.ck || (this.ck=!0,this.hXa(this.hw));};f.prototype.ht=function(h){this.cQa && !this.ck && 1E4 < Math.abs(h - this.hw) && (this.Na.warn("Detected an unexpected pts jump larger than",1E4,"at",h,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.uva());this.hw=h;this.ck && (this.ck=!1,this.f1b(h));null !== this.Vg && (this.f4b(h),this.Vg.ht(h));};f.prototype.stop=function(){var h;this.Na.info("stop called");this.ck || this.pause();this.pd.removeAllListeners(["ready"]);null !== this.Vg && this.Vg.stop();h=this.oT.reduce(function(k,n){k.Eab+=n.LZ;k.e6+=n.f6 || 0;k.aNb.push(n);return k;},{Eab:0,e6:0,aNb:[]});"object" === typeof this.pd && this.pd.close();this.Na.info("metrics: " + JSON.stringify(h));return h;};f.prototype.pause=function(){var h;h=this.dw();this.ck?this.Na.warn("pause called on subtitle manager, but it was already paused!"):(this.Na.info("pause called at " + h),this.ck=!0,this.hXa(h));null !== this.Vg && this.Vg.pause();};f.prototype.PN=function(h,k){return "function" === typeof this.pd.PN?this.pd.PN(h,k):[];};f.prototype.ms=function(h,k){return this.pd.ms(h,k);};f.prototype.yH=function(h){return this.pd.yH(h);};f.prototype.tB=function(h){var n;function k(){n.Na.info("bufferingComplete from setStreamStartPosition");n.emit("bufferingComplete");}n=this;"function" === typeof this.pd.tB?this.pd.tB(h,k):k();};f.prototype.Ei=function(h,k){"function" === typeof this.pd.Ei && this.pd.Ei(h,k);};f.prototype.Gi=function(h,k){"function" === typeof this.pd.Gi && this.pd.Gi(h,k);};f.prototype.noa=function(){return this.oT[this.oT.length - 1];};f.prototype.Cxa=function(h){var k,n,p,r;n=0;this.Na.info("show subtitle called at " + this.dw() + " for displayTime " + h.displayTime);this.emit("showsubtitle",h);p=this.noa();p.VP || (p.VP={});if("dfxp-ls-sdh" === this.ET)try{for(var q=c.__values(h.blocks),u=q.next();!u.done;u=q.next()){r=u.value;p.VP[r.id] || (n++,p.VP[r.id]=!0);}}catch(v){var w;w={error:v};}finally{try{u && !u.done && (k=q.return) && k.call(q);}finally{if(w)throw w.error;}}else p.VP[h.id] || (n++,p.VP[h.id]=!0);p.LZ+=n;};f.prototype.dwa=function(h){this.Na.info("remove subtitle called at " + this.dw() + " for remove time " + (h.displayTime + h.duration));this.emit("removesubtitle",h);};f.prototype.d1b=function(h){this.Na.info("stage subtitle called at " + this.dw() + " for displayTime " + h.displayTime);this.emit("stagesubtitle",h);};f.prototype.po=function(){this.Na.info("underflow fired by the subtitle timer");this.emit("underflow");};f.prototype.Te=function(){this.Na.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};f.prototype.f1b=function(h){this.Na.info("creating a new subtitle interval at " + h);this.oT.push({$:h,LZ:0});};f.prototype.f4b=function(h){var k;k=this.noa();k && (k.Bra=h);};f.prototype.hXa=function(h){var k;this.Na.info("ending subtitle interval at " + h);k=this.noa();k && (k.La=h,k.La < k.$ && (this.Na.warn("correcting for interval where endPts is smaller than startPts"),k.$=0 < k.La?k.La - 1:0),k.f6=this.pd.ms(k.$,k.La),delete k.VP,k.f6 > k.LZ && k.Bra && 500 > k.La - k.Bra && (k.f6=this.pd.ms(k.$,k.Bra)),this.Na.info("showed " + k.LZ + " during this interval"),this.Na.info("expected " + k.f6 + " for this interval"));};return f;})(t.EventEmitter);b.Imb=a;b.default=a;},function(t,b,a){var w,v,x,y,z,A,B,E,D;function c(F){var G,C,H,K,M;G=F.preferences;C=F.vh;H=F.Fd;K=F.xml;M=F.wa;if(!F.xml && !F.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");w.call(this);this.Ce=this.jha=null;this.DT="object" === typeof G?F.preferences:{};this.$S="object" === typeof C?F.vh:{};this.KC="number" === typeof H?F.Fd:0;this.yG="string" === typeof K?F.xml:"";this.Na="object" === typeof M?F.wa:D;this.oG=F.request;this.Hl=F.url;this.Ay=[];this.hw=this.KC;this.Vg=null;this.Vha=this.dQa=!1;this.Enb=F.sva || 0;}function g(F,G){return F && "object" === typeof F[G] && null !== F[G]?F[G]:{};}function l(F,G){return F !== G && !(F && 0 === Object.keys(F).length && G && 0 === Object.keys(G).length);}function m(){var F,G,C;F=this;G=F.yG.indexOf("<p");if(-1 < G){C=F.yG.slice(0,G);h(C,function(H,K){null !== H?(H.Qcc=C,F.emit("error",H)):(F.jha=K,F.Ce=new x(F.yG,K.tickRate),f.call(F,F.KC));});}else F.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function d(F,G){var C;C=F.filter(function(H){return H.startTime <= G && G <= H.endTime;});F=F.filter(function(H){return H.startTime > G;});return 0 < F.length?C.concat([F[0]]):C;}function f(F){var G,C,H,K,M,I,Q;G=this;C=G.jha;H=0;K=[];M=C.defaultStyle?[C.defaultStyle]:[];G.Na.info("parsing the next 5 entries...");I=G.Ce.jJb(F);G.Na.info(I);Q=v.wc(!0);Q.onerror=function(L){L.xml=I;G.emit("error",L);};Q.onend=function(){var L;L=G.Ay.reduce(function(J,O){O=O.blocks.reduce(function(N,P){return N.concat([P.id]);},[]);return J.concat(O);},[]);K.forEach(function(J){var O;if(-1 === L.indexOf(J.id)){O=J && J.blocks && J.blocks.filter(function(N){return 0 < N.textNodes.length;});O && 0 < O.length && (J.blocks=O,G.Ay.push(J));}});G.Vha=!1;G.dQa || (G.dQa=!0,G.emit("ready"));};Q.ontext=function(L){("" !== L.trim() || L.match(/ +/)) && q(q(K).blocks).textNodes.push({text:L.match(/ +/)?L:L.trim(),style:q(M),lineBreaks:H});H=0;};Q.onclosetag=function(){"undefined" !== typeof Q.tag.attributes.style && M.pop();};Q.onopentag=function(L){var J,O,N,P,S;J=L.attributes;O=L.name;L=C.tickRate;if("p" === O){H=0;O=J["xml:id"];J.style && M.push(J.style);N=Math.floor(parseInt(J.begin) / L * 1E3);if(0 === K.length || q(K).displayTime !== N){N=K.push;P={};S=parseInt(J.begin) / L;L=parseInt(J.end) / L;P.id=O;P.startTime=Math.floor(1E3 * S);P.endTime=Math.floor(1E3 * L);P.style=J.style;P.region=J.region;P.displayTime=P.startTime;P.duration=P.endTime - P.startTime;P.extent=J["tts:extent"] || null;P.origin=J["tts:origin"] || null;P.latestEndSoFar=0 > P.endTime?0:P.endTime;P.blocks=[{textNodes:[],region:P.region,id:O,extent:P.extent,origin:P.origin}];N.call(K,P);}else q(K).blocks.push({textNodes:[],region:J.region,id:O,extent:J["tts:extent"] || null,origin:J["tts:origin"] || null});}else "span" === O?M.push(J.style):"br" === O && H++;};Q.write("<entries>").write(I).write("</entries>").close();}function h(F,G){var C,H,K,M,I,Q;C=v.wc(!0);H={};K=[];M=null;I=[];Q={};C.onerror=function(L){G(L,null);};C.onend=function(){G(null,H);};C.onclosetag=function(){K.pop();};C.onopentag=function(L){var J,O,N,P;J=L.attributes;O=L.name;N=H.regions;P=H.styles;K.push(L);if("tt" === O)H=k(J);else if("body" === O)"undefined" !== typeof J.style && (H.defaultStyle=J.style,I.push(J.style));else if("initial" === O && p(K,"styling"))Q=n(J,A);else if("style" === O && p(K,"styling")){N=J["xml:id"];L=Q;J=n(J,A);if(Object.keys(L).length)for(var S in L){"undefined" === typeof J[S] && (J[S]=L[S]);}P[N]=J;}else "style" === O && p(K,"region")?(P=Object.keys(J)[0],"string" === typeof P && (N[M][P.slice(4)]=J[P])):"region" === O && p(K,"layout") && (M=J["xml:id"],N[M]=n(J,E));};setTimeout(function(){var L;for(C.write(F);0 < K.length && !C.error;){L=q(K).name;C.write("</" + L + ">");}C.close();},10);}function k(F){var G;F=n(F,B);if("string" === typeof F.extent){G=F.extent.split(" ").map(function(C){return parseInt(C,10);});F.width=G[0];F.height=G[1];}else (F.width=1280,F.height=720);F.aspectRatio=F.width / F.height;"string" === typeof F.cellResolution?(G=F.cellResolution.split(" ").map(function(C){return parseInt(C,10);}),F.cellResolution={},F.cellResolution.x=G[0],F.cellResolution.y=G[1]):F.cellResolution={x:52,y:19};return F;}function n(F,G){var C;C={};G.forEach(function(H){"undefined" !== typeof F["tts:" + H]?C[H]=F["tts:" + H]:"undefined" !== typeof F["ttp:" + H]?C[H]=F["ttp:" + H]:"undefined" !== typeof F["ebutts:" + H]?C[H]=F["ebutts:" + H]:"undefined" !== typeof F["xml:" + H] && (C[H]=F["xml:" + H]);});C.styles={};C.regions={};return C;}function p(F,G){var C;for(C=F.length - 1;0 <= C;C--){if(F[C].name === G)return !0;}return !1;}function q(F){if(!Array.isArray(F))throw Error("last called on non-array: " + F);return F[F.length - 1];}function u(F,G){return {lineBreaks:G.lineBreaks,text:G.text,style:z.jBb(F[G.style] || ({}),this.$S,this.DT),id:G.id};}function r(F,G){var C,H;C=this;H=F.styles || ({});return {startTime:G.startTime,id:G.id,endTime:G.endTime,displayTime:G.displayTime,duration:G.duration,blocks:G.blocks.map(function(K){var M;M=y.eBb(F,K);return {textNodes:K.textNodes.map(u.bind(C,H)),region:M,id:K.id};})};}w=a(117).EventEmitter;v=a(1094);x=a(1095);y=a(1096);z=a(1097);A=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline multiRowAlign").split(" ");B=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");E=("backgroundColor displayAlign extent origin writingMode multiRowAlign").split(" ");D={info:function(){}};b=Object.create(w.prototype);c.prototype=b;b.start=function(){var F;F=this;F.Na.info("incremental text stream created, starting at pts " + F.KC);F.yG?m.call(F):F.oG({url:F.Hl},function(G,C){F.yG=C;m.call(F);});};b.yH=function(F){var G,C,H;G=this;F < G.hw - G.Enb && (G.Ay=[]);C=G.Ay;H=0 < C.length?C[C.length - 1].startTime:F;G.hw=F;for(!G.Vg && 5 > G.Ay.length && !G.Vha && (G.Na.info("buffer size: " + G.Ay.length + "; minimum: 5"),G.Vha=!0,G.Vg=setTimeout(function(){G.Vg=null;f.call(G,H + 1);},10));0 < C.length && C[0].endTime < F;){C.shift();}C=d(C,F).map(r.bind(G,G.jha));F < G.Ce.NFb() && 0 === C.length && (C=null);return C;};b.ms=function(F,G){return this.Ce?this.Ce.ms(F,G):0;};b.close=function(){};b.Tfc=function(F){var G;G=g(F,"preferences");F=g(F,"defaults");return l(G,this.DT) || l(F,this.$S)?(this.DT=G,this.$S=F,!0):!1;};t.exports=c;},function(t,b){(function(a){var x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L;function c(){}function g(J,O){if(!(this instanceof g))return new g(J,O);for(var N=0,P=x.length;N < P;N++){this[x[N]]="";}this.q=this.c=this.Mn=this.textNode="";this.WSa=a.iea;this.eo=O || ({});this.eo.P3a=this.eo.P3a || this.eo.pdc;this.gsa=this.eo.P3a?"toLowerCase":"toUpperCase";this.wl=[];this.closed=this.PU=this.FP=!1;this.tag=this.error=null;this.oo=! !J;this.V5a=!(!J && !this.eo.V5a);this.state=L.Eca;this.by=(this.sbb=this.eo.sbb)?Object.create(a.enb):Object.create(a.by);this.TC=[];this.eo.$_ && (this.Ck=Object.create(M));if(this.wba=!1 !== this.eo.position)this.position=this.line=this.QU=0;this.onready && this.onready(void 0);}function l(J,O){var N;if(!(this instanceof l))return new l(J,O);c.apply(this);this.Oy=new g(J,O);this.readable=this.writable=!0;N=this;this.Oy.onend=function(){N.emit("end");};this.Oy.onerror=function(P){N.emit("error",P);N.Oy.error=null;};y.forEach(function(P){Object.defineProperty(N,"on" + P,{get:function(){return N.Oy["on" + P];},set:function(S){if(!S)return (N.removeAllListeners(P),N.Oy["on" + P]=S);N.on(P,S);},enumerable:!0,configurable:!1});});}function m(J){return J.split("").reduce(function(O,N){O[N]=!0;return O;},{});}function d(J,O){return "[object RegExp]" === Object.prototype.toString.call(J)?! !O.match(J):J[O];}function f(J,O,N){J.textNode && h(J);J[O] && J[O](N);}function h(J){J.textNode=k(J.eo,J.textNode);J.textNode && J.ontext && J.ontext(J.textNode);J.textNode="";}function k(J,O){J.trim && (O=O.trim());J.normalize && (O=O.replace(/\s+/g," "));return O;}function n(J,O){h(J);J.wba && (O+="\nLine: " + J.line + "\nColumn: " + J.QU + "\nChar: " + J.c);O=Error(O);J.error=O;J.onerror && J.onerror(O);return J;}function p(J){J.FP && !J.PU && q(J,"Unclosed root tag");J.state !== L.Eca && J.state !== L.Fca && J.state !== L.pn && n(J,"Unexpected end");h(J);J.c="";J.closed=!0;J.onend && J.onend(void 0);g.call(J,J.oo,J.eo);return J;}function q(J,O){if("object" !== typeof J || !(J instanceof g))throw Error("bad call to strictFail");J.oo && n(J,O);}function u(J,O){var N,P;N=0 > J.indexOf(":")?["",J]:J.split(":");P=N[0];N=N[1];O && "xmlns" === J && (P="xmlns",N="");return {prefix:P,local:N};}function r(J){var O,N,P;J.oo || (J.pj=J.pj[J.gsa]());if(-1 !== J.TC.indexOf(J.pj) || J.tag.attributes.hasOwnProperty(J.pj))return J.pj=J.qj="";if(J.eo.$_){O=u(J.pj,!0);N=O.local;if("xmlns" === O.prefix)if("xml" === N && J.qj !== H)q(J,"xml: prefix must be bound to " + H + "\nActual: " + J.qj);else if("xmlns" === N && J.qj !== K)q(J,"xmlns: prefix must be bound to " + K + "\nActual: " + J.qj);else {O=J.tag;P=J.wl[J.wl.length - 1] || J;O.Ck === P.Ck && (O.Ck=Object.create(P.Ck));O.Ck[N]=J.qj;}J.TC.push([J.pj,J.qj]);}else (J.tag.attributes[J.pj]=J.qj,f(J,"onattribute",{name:J.pj,value:J.qj}));J.pj=J.qj="";}function w(J,O){var N,P,U,Z,ja,ya,ra;if(J.eo.$_){N=J.tag;P=u(J.tagName);N.prefix=P.prefix;N.local=P.local;N.uri=N.Ck[P.prefix] || "";N.prefix && !N.uri && (q(J,"Unbound namespace prefix: " + JSON.stringify(J.tagName)),N.uri=P.prefix);P=J.wl[J.wl.length - 1] || J;N.Ck && P.Ck !== N.Ck && Object.keys(N.Ck).forEach(function(Y){f(J,"onopennamespace",{prefix:Y,uri:N.Ck[Y]});});P=0;for(var S=J.TC.length;P < S;P++){U=J.TC[P];Z=U[0];ja=U[1];ya=u(Z,!0);U=ya.prefix;ra="" == U?"":N.Ck[U] || "";ja={name:Z,value:ja,prefix:U,local:ya.local,uri:ra};U && "xmlns" != U && !ra && (q(J,"Unbound namespace prefix: " + JSON.stringify(U)),ja.uri=U);J.tag.attributes[Z]=ja;f(J,"onattribute",ja);}J.TC.length=0;}J.tag.jdc=! !O;J.FP=!0;J.wl.push(J.tag);f(J,"onopentag",J.tag);O || (J.state=J.V5a || "script" !== J.tagName.toLowerCase()?L.pn:L.TK,J.tag=null,J.tagName="");J.pj=J.qj="";J.TC.length=0;}function v(J){var O,N,S;if(J.tagName){if(J.Kk){if("script" !== J.tagName){J.Kk+="</" + J.tagName + ">";J.tagName="";J.state=L.TK;return;}f(J,"onscript",J.Kk);J.Kk="";}O=J.wl.length;N=J.tagName;J.oo || (N=N[J.gsa]());for(var P=N;O--;){if(J.wl[O].name !== P)q(J,"Unexpected close tag");else break;}if(0 > O)(q(J,"Unmatched closing tag: " + J.tagName),J.textNode+="</" + J.tagName + ">");else {J.tagName=N;for(N=J.wl.length;N-- > O;){S=J.tag=J.wl.pop();J.tagName=J.tag.name;f(J,"onclosetag",J.tagName);for(var U in S.Ck){;}P=J.wl[J.wl.length - 1] || J;J.eo.$_ && S.Ck !== P.Ck && Object.keys(S.Ck).forEach(function(Z){f(J,"onclosenamespace",{prefix:Z,uri:S.Ck[Z]});});}0 === O && (J.PU=!0);J.tagName=J.qj=J.pj="";J.TC.length=0;}}else (q(J,"Weird empty close tag."),J.textNode+="</>");J.state=L.pn;}a.wc=function(J,O){return new g(J,O);};a.z$b=g;a.A$b=l;a.lVa=function(J){return new l(J,void 0);};a.iea=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.Pe=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(J){function O(){this.__proto__=J;}O.prototype=J;return new O();});Object.getPrototypeOf || (Object.getPrototypeOf=function(J){return J.__proto__;});Object.keys || (Object.keys=function(J){var O,N;O=[];for(N in J){J.hasOwnProperty(N) && O.push(N);}return O;});g.prototype={end:function(){p(this);},write:function(J){var S,U,Z,ja,ya,ra;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === J)return p(this);if(this.error)throw this.error;for(var O=0,N;this.c=N=J.charAt(O++);){switch((this.wba && (this.position++,"\n" === N?(this.line++,this.QU=0):this.QU++),this.state)){case L.Eca:if((this.state=L.Fca,"\ufeff" === N))continue;case L.Fca:"<" === N?(this.state=L.Dea,this.Vxa=this.position):d(z,N) || (q(this,"Non-whitespace before first tag."),this.textNode=N,this.state=L.pn);continue;case L.pn:if(this.FP && !this.PU){for(var P=O - 1;N && "<" !== N && "&" !== N;){(N=J.charAt(O++)) && this.wba && (this.position++,"\n" === N?(this.line++,this.QU=0):this.QU++);}this.textNode+=J.substring(P,O - 1);}"<" !== N || this.FP && this.PU && !this.oo?(d(z,N) || this.FP && !this.PU || q(this,"Text data outside of root node."),"&" === N?this.state=L.Tfa:this.textNode+=N):(this.state=L.Dea,this.Vxa=this.position);continue;case L.TK:"<" === N?this.state=L.tLa:this.Kk+=N;continue;case L.tLa:"/" === N?this.state=L.Sca:(this.Kk+="<" + N,this.state=L.TK);continue;case L.Dea:"!" === N?(this.state=L.Ffa,this.Vs=""):d(z,N) || (d(I,N)?(this.state=L.jIa,this.tagName=N):"/" === N?(this.state=L.Sca,this.tagName=""):"?" === N?(this.state=L.GIa,this.Y$=this.UI=""):(q(this,"Unencoded <"),this.Vxa + 1 < this.position && (N=Array(this.position - this.Vxa).join(" ") + N),this.textNode+="<" + N,this.state=L.pn));continue;case L.Ffa:(this.Vs + N).toUpperCase() === G?(f(this,"onopencdata"),this.state=L.r0,this.sm=this.Vs=""):"--" === this.Vs + N?(this.state=L.t0,this.Vs=this.xm=""):(this.Vs + N).toUpperCase() === C?(this.state=L.z0,(this.doctype || this.FP) && q(this,"Inappropriately located doctype declaration"),this.Vs=this.doctype=""):">" === N?(f(this,"onsgmldeclaration",this.Vs),this.Vs="",this.state=L.pn):(d(E,N) && (this.state=L.wLa),this.Vs+=N);continue;case L.wLa:N === this.q && (this.state=L.Ffa,this.q="");this.Vs+=N;continue;case L.z0:">" === N?(this.state=L.pn,f(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=N,"[" === N?this.state=L.cda:d(E,N) && (this.state=L.sCa,this.q=N));continue;case L.sCa:this.doctype+=N;N === this.q && (this.q="",this.state=L.z0);continue;case L.cda:this.doctype+=N;"]" === N?this.state=L.z0:d(E,N) && (this.state=L.rCa,this.q=N);continue;case L.rCa:this.doctype+=N;N === this.q && (this.state=L.cda,this.q="");continue;case L.t0:"-" === N?this.state=L.oBa:this.xm+=N;continue;case L.oBa:"-" === N?(this.state=L.nBa,(this.xm=k(this.eo,this.xm)) && f(this,"oncomment",this.xm),this.xm=""):(this.xm+="-" + N,this.state=L.t0);continue;case L.nBa:">" !== N?(q(this,"Malformed comment"),this.xm+="--" + N,this.state=L.t0):this.state=L.pn;continue;case L.r0:"]" === N?this.state=L.fBa:this.sm+=N;continue;case L.fBa:"]" === N?this.state=L.gBa:(this.sm+="]" + N,this.state=L.r0);continue;case L.gBa:">" === N?(this.sm && f(this,"oncdata",this.sm),f(this,"onclosecdata"),this.sm="",this.state=L.pn):"]" === N?this.sm+="]":(this.sm+="]]" + N,this.state=L.r0);continue;case L.GIa:"?" === N?this.state=L.Pea:d(z,N)?this.state=L.Oea:this.Y$+=N;continue;case L.Oea:if(!this.UI && d(z,N))continue;else "?" === N?this.state=L.Pea:this.UI+=N;continue;case L.Pea:">" === N?(f(this,"onprocessinginstruction",{name:this.Y$,body:this.UI}),this.Y$=this.UI="",this.state=L.pn):(this.UI+="?" + N,this.state=L.Oea);continue;case L.jIa:if(d(Q,N))this.tagName+=N;else {this.oo || (this.tagName=this.tagName[this.gsa]());P=this.wl[this.wl.length - 1] || this;S=this.tag={name:this.tagName,attributes:{}};this.eo.$_ && (S.Ck=P.Ck);this.TC.length=0;">" === N?w(this):"/" === N?this.state=L.F1:(!d(z,N) && q(this,"Invalid character in tag name"),this.state=L.fK);}continue;case L.F1:">" === N?(w(this,!0),v(this)):(q(this,"Forward-slash in opening tag not followed by >"),this.state=L.fK);continue;case L.fK:if(d(z,N))continue;else ">" === N?w(this):"/" === N?this.state=L.F1:d(I,N)?(this.pj=N,this.qj="",this.state=L.e0):q(this,"Invalid attribute name");continue;case L.e0:"=" === N?this.state=L.kca:">" === N?(q(this,"Attribute without value"),this.qj=this.pj,r(this),w(this)):d(z,N)?this.state=L.Rza:d(Q,N)?this.pj+=N:q(this,"Invalid attribute name");continue;case L.Rza:if("=" === N)this.state=L.kca;else if(d(z,N))continue;else (q(this,"Attribute without value"),this.qj=this.tag.attributes[this.pj]="",f(this,"onattribute",{name:this.pj,value:""}),this.pj="",">" === N?w(this):d(I,N)?(this.pj=N,this.state=L.e0):(q(this,"Invalid attribute name"),this.state=L.fK));continue;case L.kca:if(d(z,N))continue;else d(E,N)?(this.q=N,this.state=L.nca):(q(this,"Unquoted attribute value"),this.state=L.oca,this.qj=N);continue;case L.nca:if(N !== this.q){"&" === N?this.state=L.lca:this.qj+=N;continue;}r(this);this.q="";this.state=L.Sza;continue;case L.Sza:d(z,N)?this.state=L.fK:">" === N?w(this):"/" === N?this.state=L.F1:d(I,N)?(q(this,"No whitespace between attributes"),this.pj=N,this.qj="",this.state=L.e0):q(this,"Invalid attribute name");continue;case L.oca:if(!d(F,N)){"&" === N?this.state=L.mca:this.qj+=N;continue;}r(this);">" === N?w(this):this.state=L.fK;continue;case L.Sca:if(this.tagName)">" === N?v(this):d(Q,N)?this.tagName+=N:this.Kk?(this.Kk+="</" + this.tagName,this.tagName="",this.state=L.TK):(!d(z,N) && q(this,"Invalid tagname in closing tag"),this.state=L.lBa);else if(d(z,N))continue;else d(I,N)?this.tagName=N:this.Kk?(this.Kk+="</" + N,this.state=L.TK):q(this,"Invalid tagname in closing tag.");continue;case L.lBa:if(d(z,N))continue;">" === N?v(this):q(this,"Invalid characters in closing tag");continue;case L.Tfa:case L.lca:case L.mca:switch(this.state){case L.Tfa:(U=L.pn,Z="textNode");break;case L.lca:U=L.nca;Z="attribValue";break;case L.mca:(U=L.oca,Z="attribValue");}if(";" === N){N=Z;P=this[N];S=this.Mn;ja=S.toLowerCase();ya="";if(this.by[S])S=this.by[S];else if(this.by[ja])S=this.by[ja];else {S=ja;if("#" === S.charAt(0))if("x" === S.charAt(1)){S=S.slice(2);ra=parseInt(S,16);ya=ra.toString(16);}else (S=S.slice(1),ra=parseInt(S,10),ya=ra.toString(10));S=S.replace(/^0+/,"");S=ya.toLowerCase() !== S?(q(this,"Invalid character entity"),"&" + this.Mn + ";"):String.fromCodePoint(ra);}this[N]=P + S;this.Mn="";this.state=U;}else d(D,N)?this.Mn+=N:(q(this,"Invalid character entity"),this[Z]+="&" + this.Mn + N,this.Mn="",this.state=U);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.WSa){J=Math.max(a.iea,10);N=O=0;for(U=x.length;N < U;N++){Z=this[x[N]].length;if(Z > J)switch(x[N]){case "textNode":h(this);break;case "cdata":f(this,"oncdata",this.sm);this.sm="";break;case "script":f(this,"onscript",this.Kk);this.Kk="";break;default:n(this,"Max buffer length exceeded: " + x[N]);}O=Math.max(O,Z);}this.WSa=a.iea - O + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){h(this);"" !== this.sm && (f(this,"oncdata",this.sm),this.sm="");"" !== this.Kk && (f(this,"onscript",this.Kk),this.Kk="");}};y=a.Pe.filter(function(J){return "error" !== J && "end" !== J;});l.prototype=Object.create(c.prototype,{constructor:{value:l}});l.prototype.write=function(J){this.Oy.write(J.toString());this.emit("data",J);return !0;};l.prototype.end=function(J){J && J.length && this.write(J);this.Oy.end();return !0;};l.prototype.on=function(J,O){var N;N=this;N.Oy["on" + J] || -1 === y.indexOf(J) || (N.Oy["on" + J]=function(){var P;P=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);P.splice(0,0,J);N.emit.apply(N,P);});return c.prototype.on.call(N,J,O);};z="\r\n\t ";A="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";E="'\"";D=A + B + "#";F=z + ">";G="[CDATA[";C="DOCTYPE";H="http://www.w3.org/XML/1998/namespace";K="http://www.w3.org/2000/xmlns/";M={xml:H,$_:K};z=m(z);A=m(A);B=m(B);I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;Q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;E=m(E);D=m(D);F=m(F);L=0;a.lC={Eca:L++,Fca:L++,pn:L++,Tfa:L++,Dea:L++,Ffa:L++,wLa:L++,z0:L++,sCa:L++,cda:L++,rCa:L++,W6b:L++,t0:L++,oBa:L++,nBa:L++,r0:L++,fBa:L++,gBa:L++,GIa:L++,Oea:L++,Pea:L++,jIa:L++,F1:L++,fK:L++,e0:L++,Rza:L++,kca:L++,nca:L++,Sza:L++,oca:L++,lca:L++,mca:L++,Sca:L++,lBa:L++,TK:L++,tLa:L++};a.enb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.by={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.by).forEach(function(J){var O;O=a.by[J];O="number" === typeof O?String.fromCharCode(O):O;a.by[J]=O;});for(L in a.lC){a.lC[a.lC[L]]=L;}L=a.lC;String.fromCodePoint || (function(){var O,N;function J(){var P,S,U,ja,ya;P=[];S=-1;U=arguments.length;if(!U)return "";for(var Z="";++S < U;){ja=Number(arguments[S]);if(!isFinite(ja) || 0 > ja || 1114111 < ja || N(ja) != ja)throw RangeError("Invalid code point: " + ja);if(65535 >= ja)P.push(ja);else {ja-=65536;ya=(ja >> 10) + 55296;ja=ja % 1024 + 56320;P.push(ya,ja);}if(S + 1 == U || 16384 < P.length)(Z+=O.apply(null,P),P.length=0);}return Z;}O=String.fromCharCode;N=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:J,configurable:!0,writable:!0}):String.fromCodePoint=J;})();})(b);},function(t){function b(a,c){var g,l,m,d,f,h;g=[];l=a.indexOf("<p");m=-1;do {d={};d.Y0b=l;f=a.indexOf("begin=",l) + 7;h=a.indexOf("end=",l) + 5;f=Math.floor(parseInt(a.substr(f,25),10) / c * 1E3);h=Math.floor(parseInt(a.substr(h,25),10) / c * 1E3);m=h > m?h:m;d.startTime=f;d.endTime=h;d.latestEndSoFar=m;d.rXa=a.indexOf("/p>",l) + 3;l=d.rXa;g.push(d);l=a.indexOf("<p",l);}while(-1 !== l);this.R2=g;this.yG=a;}b.prototype.NFb=function(){return this.R2[this.R2.length - 1].endTime;};b.prototype.ms=function(a,c){return this.R2.filter(function(g){return g.startTime <= c && g.endTime >= a;}).length;};b.prototype.jJb=function(a){for(var c="",g=this.R2.filter(function(m){return m.startTime <= a && a < m.endTime || m.startTime >= a;}),l=4;l + 1 < g.length && g[l + 1].startTime === g[4].startTime;){l++;}g=g.slice(0,l + 1);0 < g.length && (c=this.yG.slice(g[0].Y0b,g[g.length - 1].rXa));return c;};t.exports=b;},function(t,b,a){var m,d,f,h;function c(k){return "string" !== typeof k?null:d[k];}function g(k){return "string" !== typeof k?null:f[k];}function l(k){return k.split(" ").map(function(n){return .01 * parseFloat(n);});}m=a(483);t.exports={eBb:function(k,n){var p,q,u,r,w,v;p=n.textNodes[0] || ({});q=k.regions;u=k.styles;k=k.aspectRatio;q=q && q[n.region]?q[n.region]:{};p=u && u[p.style]?u[p.style]:{};u=l(m(n.extent,q.extent,"80% 80%"));r=l(m(n.origin,q.origin,"10% 10%"));n=Object;k/=1280 / 720;w=(1 - k) / 2;v=r[0];r=r[1];u=n.create.call(n,{marginLeft:v * k + w,marginTop:r,marginRight:(1 - (v + u[0])) * k + w,marginBottom:1 - (r + u[1])});1 < Object.keys(q).length?u.verticalAlignment=c(m(p.displayAlign,q.displayAlign,"before")):u.verticalAlignment=c(m(p.displayAlign,"after"));u.horizontalAlignment=g(m(p.textAlign,q.textAlign,"center"));k=q.writingMode?q.writingMode:"lrtb";u.writingMode="string" !== typeof k?null:h[k];u.multiRowAlignment=g(m(p.multiRowAlign,q.multiRowAlign,p.textAlign,q.textAlign,"center"));return u;}};d={before:"top",center:"center",after:"bottom"};f={left:"left",start:"start",center:"center",right:"right",end:"end"};h={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};},function(t,b,a){var l,m,d,f,h,k,n;function c(p){return "string" !== typeof p || "#" === p[0] && 7 === p.length?p:"#" === p[0] && 4 === p.length?"#" + p[1] + p[1] + p[2] + p[2] + p[3] + p[3]:d[p.toLowerCase()];}function g(p){var q,u,r;q=(p || "").split(" ");u=(/^[0-9]/).test(q);p=u?"#000000":c(q[0]);r=u?0:1;u=parseInt(q[r]);q=parseInt(q[r + 1]);return {color:p,width:0 < u?u:0,blur:0 < q?q:0};}l=a(483);t.exports={jBb:function(p,q,u){var r,w,v,x,y,z,A,B,E,D,F,G,C,H;r=l(u.characterSize,q.characterSize,"MEDIUM");w=p.fontFamily;w=l(u.characterStyle,"string" !== typeof w?null:f[w],q.characterStyle,"PROPORTIONAL_SANS_SERIF");v=(p.fontSize || "").split(" ")[0] || "";x=-1 < v.indexOf("%")?parseInt(v,10) / 100:-1 < v.indexOf("em")?parseFloat(v):1;v="underline" === p.textDecoration;y="italic" === p.fontStyle;z=m[l(u.P5b,q.P5b,"OPAQUE")];A=m[l(u.characterOpacity,q.characterOpacity,"OPAQUE")];B=m[l(u.backgroundOpacity,p.opacity,q.backgroundOpacity,"OPAQUE")];E=c(l(u.characterColor,p.color,q.characterColor,"#ffffff"));D=c(l(u.backgroundColor,p.backgroundColor,q.backgroundColor,null));F=c(l(u.oeb,p.oeb,q.oeb,null));G=l(u.characterEdgeAttributes,q.characterEdgeAttributes,null);x*=h[r] || 1;C=1;k[r] && (C=k[r][w] || 1);x*=1 / 19 * C;C=0;n[r] && (C=n[r][w] || 0);r=C;C=p.textOutline;C="string" !== typeof C?null:g(C).width;C=l(C,0);H=p.textOutline;H="string" !== typeof H?null:g(H).blur;H=l(H,0);u=u.characterEdgeColor;p=p.textOutline;p="string" !== typeof p?null:g(p).color;return {characterUnderline:v,characterItalic:y,characterStyle:w,windowOpacity:z,characterOpacity:A,backgroundOpacity:B,characterColor:E,backgroundColor:D,windowColor:F,characterEdgeAttributes:G,characterSize:x,characterTracking:r,characterEdgeWidth:C,characterEdgeBlur:H,characterEdgeColor:c(l(u,p,q.characterEdgeColor,"#000000"))};}};m={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};f={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};h={SMALL:.5,MEDIUM:1,LARGE:2};k={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};n={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(t,b,a){var g,l,m,d,f,h;function c(k){g.call(this);this.Hl=k.url;this.oG=k.request;this.lG=k.Fd || 0;this.Na=k.wa;this.Oi=this.Pr=null;k.Lu?this.Pr=k.Lu:(this.Se=k.offset,this.WL=k.size);this.mm;this.Rha=k;}g=a(117).EventEmitter;l=a(1099);m=a(1100);d=a(1101);f=a(161);h=c.events={Sjb:"midxready",mmb:"sidxready",Ylb:"ready",Qf:"error"};c.prototype=Object.create(g.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Sp:{get:function(){return this.mm && this.mm.Ola;}}});c.prototype.start=function(){this.Pr?(this.Na.warn("midx was prefectched and provided"),this.yOa(this.Pr)):this.pob(this.Se,this.WL,this.jrb.bind(this));};c.prototype.close=function(){};c.prototype.PN=function(k,n){return this.mm && this.mm.ppa(k,n);};c.prototype.ms=function(k,n){return (k=this.PN(k,n))?k.length:k;};c.prototype.tB=function(k,n){this.Na.debug("setStreamStartPosition: buffering subtitles at pts " + k);this.lG=k;this.mm?this.mm.tB(k,n):n && n();};c.prototype.yH=function(k){var n,p,q;if(!this.mm || k > f.nIb(this.Pr))return [];this.mm && this.mm.xma(k);n=this.Sp.Ws;p=this.Sp.index;q=[];p=f.$c(p) && this.Oi[p + 1];if(!(p && p.entries.length || n && !(k > n.endTime)))return [];n && n.images.length && (q=this.KOa(n,k,[]));2 > q.length && p && p.images.length && (n=this.KOa(p,k,q),q.push.apply(q,n));return this.mm.Axa(k)?null:f.AUa(q);};c.prototype.Gi=function(k,n){this.mm && this.mm.Gi(k,n);};c.prototype.Ei=function(k,n){this.mm && this.mm.Ei(k,n);};c.prototype.pob=function(k,n,p){this.Na.debug("downloading midx...");this.WOa(k,n,"binary",p);};c.prototype.qob=function(k,n,p){this.Na.debug("downloading sidx...");this.WOa(k,n,void 0,p);};c.prototype.WOa=function(k,n,p,q){this.oG({url:this.Hl,offset:k,size:n,responseType:p},q);};c.prototype.jrb=function(k,n){if(k)this.emit(h.Qf,f.kW(k,"midxdownloaderror"));else try{this.Pr=new l(n);this.yOa(this.Pr);}catch(p){this.emit(h.Qf,f.kW(p,"midxparseerror"));}};c.prototype.yOa=function(k){var n;n=k.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(h.Sjb,k),this.qob(k.startOffset,n,this.mrb.bind(this,k))):this.emit(h.Qf,f.kW({},"nosidxfoundinmidx"));};c.prototype.mrb=function(k,n,p){var q,u,r,w;q=this;if(n)q.emit(h.Qf,f.kW(n,"sidxdownloaderror"));else {u=0;r=0;q.Oi=[];try{w=0;k.entries.forEach(function(v){var x;x=new m(p,u,k.wqa,q.Na,r,r + v.duration,w);q.Oi.push(x);v.M0b=x;r=x.Xq;u+=v.size;w++;});}catch(v){q.emit(h.Qf,f.kW(v,"sidxparseerror"));return;}q.emit(h.mmb,q.Oi);this.mm=new d(q.Rha,k,q.Oi);n=q.lG;q.Rha && q.Rha.Caa || (n=Math.max(q.lG - 1E4,0));this.mm.xma(n,function(v){v && q.Na.error("initial sidx download failed");q.emit(h.Ylb);});}};c.prototype.KOa=function(k,n,p){var y;for(var q=k.entries,u=0,r=q.length,w=[],v,x=this.Pr;u < r;){v=q[u];if(v.displayTime <= n)v.displayTime + v.duration >= n && w.push(f.Fla(v,k.images[u].data,x));else {y=w.length && w[w.length - 1] || p.length && p[p.length - 1];if(y && y.displayTime > n && y.displayTime !== v.displayTime)break;y.QH !== v.QH && w.push(f.Fla(v,k.images[u].data,x));}u++;}return w;};t.exports=c;},function(t,b,a){var g,l;function c(m,d){this.duration=m;this.size=d;this.M0b=void 0;}g=a(286);l=a(161);t.exports=function(m){var k;m=new g(m);this.identifier=m.Hva(4);l.assert("midx" === this.identifier);this.version=m.Yq(4);l.assert(0 === this.version);this.wqa=m.Zh(36);this.creationTime=m.oP();this.pp=m.oP();this.K=m.oP();this.tZb=m.Bh();this.uZb=m.Bh();this.language=m.Zh(16);m.Zh(16);this.startOffset=m.oP();this.Bm=m.Bh();for(var d=[],f=0,h=0;h < this.Bm;h++){k=new c(m.Yq(4),m.Bh());d.push(k);f+=k.duration;}this.entries=d;this.endTime=f;};},function(t,b,a){var l,m;function c(d,f,h,k,n,p,q,u){this.displayTime=d;this.duration=f;this.oUb=h;this.pUb=k;this.S0b=n;this.T0b=p;this.QH=q;this.kqa=u;}function g(d,f,h,k,n,p,q){var u;d=new l(d);u=0;d.position=f;this.Na=k;this.identifier=d.Hva(4);m.assert("sidx" === this.identifier,k);this.wqa=d.Zh(36);m.Xxb(this.wqa,h,k);this.duration=d.Yq(4);this.Bm=d.Bh();this.xx=n;this.Xq=p;this.index=q || 0;this.entries=[];this.images=[];for(this.iia=0;u < this.Bm;){f=new c(d.Yq(4),d.Yq(4),d.Bh(),d.Bh(),d.Bh(),d.Bh(),d.oP(),d.Yq(4));u++;this.entries.push(f);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}l=a(286);m=a(161);g.prototype.CMb=function(){this.iia++;};g.prototype.aCb=function(){var d;d=0;this.iia--;1 > this.iia?this.images && 0 < this.images.length && (d+=m.kpa([this]),this.images=[]):this.Na.debug("Not cleaning up shared sidx with range",this.xx,"-",this.Xq);return d;};t.exports=g;},function(t,b,a){var m,d;function c(f,h){var n;f=f || 0;if(h)for(var k in h.V){n=h.V[k];if(f >= (n.Aa || 0) && (!n.Ca || f < n.Ca))return k;}}function g(f,h){return f && h && h.V[f];}function l(f,h,k){var n;this.Na=f.wa;this.Oi=k;this.HC=this.Vnb(f.Caa);this.qh=[];n=k && k[k.length - 1];this.hw=n && (n.endTime || n.Xq);this.Eg=new m(f,h,k);f=c(f.Fd || 0,this.HC);this.Do=this.Fy(f);}m=a(1102);d=a(1104);Object.defineProperties(l.prototype,{Ola:{get:function(){return this.Eg.Ola;}}});l.prototype.ppa=function(f,h){return this.Eg && this.Eg.ppa(f,h);};l.prototype.xma=function(f,h){this.Eg.B_b(f);this.MQa(f);if(!this.HC && this.hw && f > this.hw)h && h();else if((f=this.uOa(f,this.Do,2,h),this.HC && 0 < this.Do.K5a.length))h && h();else if(this.HC && this.Do.hO && f){2 > this.qh.length && this.aob(this.Do);h=Math.ceil(2 / (this.qh.length - 1));for(var k=0;k < this.qh.length && f && 3 > k;k++){f=this.qh[k];f=this.uOa(f.startTime,f,h);}}};l.prototype.Axa=function(f){return this.Eg.Axa(f)?(this.Eg.Ntb(),this.xma(f),this.Do.hO=!1,!0):!1;};l.prototype.tB=function(f,h){var k;this.MQa(f);this.qh.forEach(function(n){n.hO=!1;});k=this.Do.ko && this.Do.ko[0];this.Eg.tB(f,k && k.index);(f=this.Eg.eKb(f)) && f.length?this.Eg.zWa(f,h):h && h();};l.prototype.Ei=function(f,h){var k;this.Na.debug("Set next segment to",h,"for segment",f);f=this.COa(f) || this.Fy(f);f.x$a=h;k=this;f.WX=f.WX.filter(function(n){if(n.id === h)return !0;k.Mga(n);return !1;});};l.prototype.Gi=function(f,h){var k;k=g(f,this.HC);Object.keys(k.next).forEach(function(n){k.next[n].weight=h[n] || 0;});};l.prototype.Vnb=function(f){var h,n;h={};if(f=(f || ({})).V){h.V={};for(var k in f){n=f[k] || ({});h.V[k]={Aa:n.Aa,Ca:n.Ca,Md:n.Md,next:this.Unb(n.next)};}}return h;};l.prototype.Unb=function(f){var h,k;h={};for(k in f){h[k]={weight:(f[k] || ({})).weight};}return h;};l.prototype.MQa=function(f){var h,k;if(this.HC && this.Do.startTime > f || this.Do.endTime && this.Do.endTime < f){h=this.Do;k=c(f,this.HC);k?(this.Na.debug("Switching segments from",this.Do.id,"to",k,"at pts",f),this.Do=this.COa(k) || this.Fy(k),this.Mga(h)):this.Na.debug("The pts is outside of the current segment but not in a new one yet");}};l.prototype.Fy=function(f){this.Na.debug("SegmentManager: creating segment",f);f=new d(f,g(f,this.HC),this.Oi,this.Na);this.qh.push(f);this.Na.debug("SegmentManager: segment contains",f.ko.length,"sidxes");return f;};l.prototype.Mga=function(f){var h;if(f && f !== this.Do){this.Na.debug("SegmentManager: deleting segment",f.id);f.WX.forEach(this.Mga.bind(this));this.qh=this.qh.filter(function(k){return k !== f;});h=f.NTa();this.Eg.mYb(h && h.size || 0,h && h.ko);}};l.prototype.COa=function(f){var k;for(var h=0;f && h < this.qh.length;h++){k=this.qh[h];if(f === k.id)return k;}};l.prototype.aob=function(f){var h,n;h=f.x$a;if(h && "" !== h)f.WX.push(this.Fy(h));else {h=f.K5a;for(var k in h){n=h[k];if(!n || !n.weight)break;f.WX.push(this.Fy(k));}}};l.prototype.uOa=function(f,h,k,n){if(!h || h.hO)return (this.Na.debug("Done driving segment",h && h.id),!0);if(!this.Eg.ywb)return (this.Na.debug("Throttling buffering in quiet period"),!1);this.Na.debug("Drive streaming of segment",h.id,"from pts",f);k=(f=this.Eg.fKb(f,h,k)) && f.length || 0;if(0 === k)return (this.Na.debug("Segment is fully downloaded",h && h.id),h.hO=!0,n && n(),!0);this.Na.debug("Downloading",k,"sidxes in segment",h.id);return this.Eg.zWa(f,function(p,q){p && (h.hO=!1);n && n(p,q);});};t.exports=l;},function(t,b,a){var h,k;function c(n,p,q){var u;u=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || u;}function g(n,p,q){return p && (!p.entries.length && n > p.xx || n > p.endTime) && q.entries.length && n < q.endTime;}function l(n,p,q){this.qG=this.Zv=0;this.Fpb=n.bufferSize || 4194304;this.Sp=new f();this.kG;this.cG=n.xf;this.Na=n.wa;this.Pr=p;this.Oi=q;this.Lo=new h(n);this.zG=new d(this.Oi.length,n.SWa);this.HT=new m(n.$Sa);}function m(n){this.xob=0 !== n;this.on=!1;this.Zj=n || 3E3;this.Vg;}function d(n,p){if(this.enabled=p)this.ko=Array.apply(null,Array(n)).map(function(){return "-";});}function f(n,p){this.Ws=n;this.index=p;}h=a(1103);k=a(161);f.prototype.reset=function(){this.index=this.Ws=void 0;};d.prototype.da=function(n){this.enabled && n < this.ko.length && (this.ko[n]="x");};d.prototype.K6a=function(n){this.enabled && n < this.ko.length && (this.ko[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.ko.join("") + "|";};m.prototype.start=function(){var n;if(this.xob){n=this;this.on=!0;this.Vg=setTimeout(function(){n.on=!1;n.Vg=void 0;},this.Zj);}};m.prototype.stop=function(){this.on=!1;clearTimeout(this.Vg);this.Vg=void 0;};Object.defineProperties(l.prototype,{Ola:{get:function(){return this.Sp;}},ywb:{get:function(){return !this.HT.on;}}});l.prototype.vT=function(){this.zG.enabled && this.Na.debug("Buffer: " + this.zG.toString());};l.prototype.Grb=function(n){this.qG+=n;this.Na.debug("Reserved buffer size is",this.Zv + this.qG,"after reserving",n);};l.prototype.rsb=function(n){this.qG-=n;this.Na.debug("Reserved buffer size is",this.Zv + this.qG,"after unreserving",n);};l.prototype.Tnb=function(n){this.Zv+=n;this.Na.debug("Buffer size is",this.Zv,"after claiming",n);};l.prototype.hQa=function(n){this.Zv-=n;this.Na.debug("Buffer size is",this.Zv,"after clearing",n);};l.prototype.mYb=function(n,p){var q;this.hQa(n);q=this;p && this.zG.enabled && (p.forEach(function(u){q.zG.K6a(u.index);}),this.vT());};l.prototype.Axa=function(n){var p;p=this.Job(n);return k.e1a(p) && k.S1b(n,p);};l.prototype.B_b=function(n){var p;p=this.POa(n);(!p || p.index) !== (!this.Sp || this.Sp.index) && (this.kG=this.Sp.Ws,p?(this.cG && this.Na.debug("Current sidx is index",p.index),this.Sp=p):(this.cG && this.Na.debug("Current sidx is out of range"),this.Sp.reset()));this.kG && "number" === typeof this.kG.index && (n < this.kG.xx - 35E3 || n > this.kG.Xq + 35E3) && (this.Cga(this.kG.index),this.kG=void 0,this.vT());};l.prototype.tB=function(n,p){var q,u;q=this.Oi && this.Oi.length;for(p;p < q;p++){(u=this.Oi[p]) && ((u.endTime || u.Xq) >= n - 1E4 && (u.endTime || u.Xq) < n + 3E5 || this.Cga(p));}this.HT.stop();this.vT();};l.prototype.Ntb=function(){var n,p;this.Na.debug("executing aggressive cleanup");n=this.Oi && this.Oi.length;for(p=0;p < n;p++){p === this.Sp.index && (p+=2);this.Cga(p);}this.HT.stop();this.vT();};l.prototype.eKb=function(n){var p,q,u,r;p=[];q=this.POa(n);if(!q)return (this.Sp.reset(),p);this.Sp=q;u=n + 1E4;q=q.index;r=this.Oi[q];q;for(r;q < this.Oi.length && u > r.xx;(q++,r=this.Oi[q])){k.e1a(r) && k.T1b(n,u,r) && p.push(r);}return p;};l.prototype.zWa=function(n,p){var q,u,r,w,v,x;if(!n || !n.length)return (p && p(null),!0);this.Lo.BT && 2 <= Object.keys(this.Lo.BT).length && !this.HT.on && (this.Na.debug("Enabling buffering quiet period"),this.HT.start());q=this;u=n[0];r=n[n.length - 1];if(0 < u.entries.length)(w=u.entries[0].QH,v=u.entries[u.entries.length - 1]);0 < r.entries.length && (k.$c(w) || (w=r.entries[0].QH),v=r.entries[r.entries.length - 1]);if(w)x=v.QH + v.kqa - w;else return (p && p(null),!0);u=k.toa(w,x);if(this.Lo.BT[u])(this.Na.debug("The request for",u,"is already pending. Not requesting again"),p && p());else if(this.dpb(k.kpa(n)))(this.Na.debug("Reserving",x,"bytes for subtitle request",n[0].xx,n[n.length - 1].Xq),this.Grb(x),this.Lo.qDb(n,w,x,function(y,z){q.Na.debug("Claiming reserved space.  Expected",x,"received",z);q.zG.enabled && (n.forEach(function(A){q.zG.da(A.index);}),q.vT());q.rsb(x);q.Tnb(z);p && p(y);}));else return (this.Na.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};l.prototype.ppa=function(n,p){var q,u,r;q=this.Pr;u=this.OOa(n,p,this.Oi);if(!u || 0 === u.length)return [];r=[];p=c.bind(null,n,p);for(var w=0;w < u.length;w++){n=u[w];r=r.concat(n.entries.filter(p));}r=r.map(function(v){return k.Fla(v,null,q);});return k.AUa(r);};l.prototype.fKb=function(n,p,q){return this.OOa(n,p.endTime,p.ko,q,!0);};l.prototype.OOa=function(n,p,q,u,r){var w,v,x,y;if(p && n > p || 0 > n)this.Na.error("invalid range startPts: " + n + ", endPts: " + p);else {w=q && q.length || 0;v=[];if(q && 0 !== w){x=q[0].duration;y=q[0].xx;if(k.$c(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.cG && this.Na.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < w && (y=q[x],!k.kDb(y,n));x++){;}for(;x < w && (!u || v.length < u);){y=q[x];if(!r || !y.images.length && y.endTime > n)v.push(y);else if(v.length)break;if(p && p <= y.Xq)break;x++;}return v;}}};l.prototype.Job=function(n){var p,q,r;p=this.Oi;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.xx > n || n > q.Xq))a:{this.yob || (this.yob=!0,q=k.OIb(this.Pr.language),this.Na.error("bruteforce search for ",{movieId:this.Pr.K,packageId:this.Pr.pp,lang:q}));q=p.length;for(var u=0;u < q;u++){r=p[u];if(r.xx <= n && n <= r.Xq){q=r;break a;}}q=void 0;}return q;}};l.prototype.POa=function(n){var p,q,u,r,w,v,x,y;p=this.Sp;q=p.Ws;u=p.index;r=this.Oi;this.Kga(k.$c(n));if(q)if(q.entries.length){if(0 === u && n <= q.startTime || n >= q.startTime && n <= q.endTime)(w=!0,v=p);else {if(0 < u){x=r[u - 1];g(n,x,q) && (w=!0,v=p);}}}else {x=r[u - 1];y=r[u + 1];g(n,x,q)?(w=!0,v=p):y && y.endTime && n <= y.endTime && (n >= q.endTime || n >= q.Xq) && (w=!0,v=new f(y,u + 1));}if(!w)for((p=r.length,q=0);q < p;q++){if((u=r[q],u.entries.length && n <= u.endTime)){v=new f(u,q);break;}}return v;};l.prototype.dpb=function(n){return this.Zv + this.qG + n <= this.Fpb;};l.prototype.Cga=function(n){var p,q,u;p=this.Oi[n];q=p && p.images && p.images.length || 0;if(0 < q){u=k.kpa([p]);p.images=[];this.zG.K6a(n);this.hQa(u);this.cG && this.Na.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:u,images:q,lec:this.Zv});}};l.prototype.Kga=function(n){this.cG && k.assert(n,this.Na);};t.exports=l;},function(t,b,a){var g,l;function c(m){this.Hl=m.url;this.oG=m.request;this.lG=m.Fd || 0;this.cG=m.xf;this.Na=m.wa;this.BT={};}g=a(286);l=a(161);c.prototype.qDb=function(m,d,f,h){this.BT[l.toa(d,f)]=!0;m && m.forEach(function(k){k.z9a=!0;});this.oG({url:this.Hl,offset:d,size:f},this.Hqb.bind(this,m,d,f,h));};c.prototype.Hqb=function(m,d,f,h,k,n){var p,q,u,r;p=this;q=l.toa(d,f);setTimeout(function(){delete p.BT[q];},1E3);if(k)(h && h(k,0),m && m.forEach(function(w){delete w.z9a;}));else {u=new g(n);r=0;m && m.forEach(function(w){delete w.z9a;w.entries.forEach(function(v,x){u.position=v.QH - d;v={data:u.Zh(v.kqa)};w.images[x]=v;l.g5b(w.images[x].data,p.Kga.bind(p));r+=w.images[x].data.length;});});h && h(null,r);}};c.prototype.Kga=function(m){this.cG && l.assert(m,this.Na);};t.exports=c;},function(t){function b(a,c,g,l){this.Na=l;this.id=a;this.startTime=c && c.Aa || 0;this.endTime=c && c.Ca;this.K5a=c && c.next || [];this.x$a;this.WX=[];this.hO=!1;a=this.startTime;c=this.endTime;for(var m=[],d=0;d < g.length;d++){(l=g[d]) && (!c || c > l.xx) && a < l.Xq && (l.CMb(),m.push(l));}this.ko=m;}b.prototype.NTa=function(){this.Na.debug("Cleaning up segment",this.id);for(var a,c=0,g,l=[],m=0;m < this.ko.length;m++){a=this.ko[m];(g=a.aCb()) && l.push(a);a && (c+=g);}this.ko=[];return {size:c,ko:l};};t.exports=b;},function(t,b,a){var g;function c(l,m,d){return {timeout:d,type:l,entry:m};}g=a(117).EventEmitter;a(1106)({});b=function p(m,d,f,h,k,n){if(!(this instanceof p))return new p(m,d,f,h,k,n);g.call(this);this.dw=m;this.Uob=d;this.V2=f;this.rpb=h;this.Wy={};this.uG={};this.Na=k || console;this.RS=!1;this.prb=n && n.sva || 0;};b.prototype=Object.create(g.prototype);b.prototype.stop=function(){clearTimeout(this.Vg);this.qYb();};b.prototype.qYb=function(){var m;m=this;Object.keys(m.Wy).forEach(function(d){m.emit("removesubtitle",m.Wy[d]);});m.Wy={};m.uG={};};b.prototype.pause=function(){this.RS || clearTimeout(this.Vg);};b.prototype.ht=function(m,d){var f,h;f=this;h=f.dw();clearTimeout(this.Vg);m=f.Uob(h);null !== m && f.RS && (f.RS=!1,this.Na.info("bufferingComplete"),f.emit("bufferingComplete"),this.rpb())?this.Na.info("bufferingComplete while paused, no longer scheduling internal pts events"):(d="number" === typeof d?d:0,Object.keys(f.Wy).forEach(function(k){k=f.Wy[k];k.displayTime - f.prb <= h && h < k.displayTime + k.duration || (delete f.Wy[k.id],f.emit("removesubtitle",k));}),Object.keys(f.uG).forEach(function(k){k=f.uG[k];h >= k.displayTime + k.duration && delete f.uG[k.id];}),null !== m && 0 < m.length?(d=m.length,f.Na.info("found " + d + " entries for pts " + h),m.forEach(function(k){k.displayTime - 0 <= h && h < k.displayTime + k.duration && !f.Wy[k.id] && (f.emit("showsubtitle",k),f.Wy[k.id]=k,delete f.uG[k.id]);}),d=m[m.length - 1],f.Wy[d.id] || f.uG[d.id] || (f.emit("stagesubtitle",d),f.uG[d.id]=d),d=f.Wpb(h,m),0 < d.length?f.s3(d[0].timeout):f.s3(2E4)):null === m?(m=250 * Math.pow(2,d),2E3 < m && (m=2E3),f.Na.warn("checking buffer again in " + m + "ms"),f.RS || (f.RS=!0,f.emit("underflow")),f.s3(m,d + 1)):f.s3(2E4));};b.prototype.s3=function(m,d){var f;f=this;f.Na.info("Scheduling pts check.");f.Vg=setTimeout(function(){f.ht(f.dw(),d);},m);};b.prototype.Wpb=function(m,d){return d.reduce(this.Xpb.bind(this,m),[]);};b.prototype.Xpb=function(m,d,f){var h,k;h=this.V2(f.displayTime,m);m=this.V2(f.displayTime + f.duration,m);k=0 < d.length?d[0].timeout:Infinity;return 0 < h && h < k?[c("showsubtitle",f,h)]:h === k?d.concat([c("showsubtitle",f,h)]):0 < m && m < k?[c("removesubtitle",f,m)]:m === k?d.concat([c("removesubtitle",f,m)]):d;};t.exports=b;},function(t){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}t.exports=function(a){var m,d,f;function c(h,k,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + h + "' but found '" + k + "'"));}function g(h,k,n){var p;p=d[h];"undefined" !== typeof p?p(k) || c(h,k,n):h !== typeof k && c(h,k,n);}function l(h,k){var n;n=h.filter(function(p){return "object" !== typeof p && -1 === f.indexOf(p);});n=n.concat(h.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(u){return q[u];}).filter(function(u){return -1 === f.indexOf(u);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== h.length)throw new TypeError("Types: unexpected number of arguments");h.forEach(function(q,u){var r;r=p[u];if("string" === typeof q)g(q,r,{index:u});else if("object" === typeof q)Object.keys(q).forEach(function(w){g(q[w],r[w],{key:w});});else throw Error("Types: unexpected type in type array");});return k.apply(this,p);};}m=("number boolean string object function symbol").split(" ");d={array:function(h){return Array.isArray(h);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(h){if("undefined" !== typeof d[h] || -1 < m.indexOf(h))throw new TypeError("Types: attempting to override a built in type with " + h);d[h]=a[h];});}f=Object.keys(d).concat(m);return l(["array","function"],l);};},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});b.jE=void 0;t=a(0);c=a(484);g=a(1108);l=a(159);b.jE=new t.rd(function(m){m(c.yea).to(g.QHa).ba();m(l.hS).s_(function(d){return function(){return d.fb.get(c.yea).jSb;};});});},function(t,b,a){var g;function c(){var l;l=this;this.ready=!1;this.jSb=new Promise(function(m){l.iZb=m;});}Object.defineProperty(b,"__esModule",{value:!0});b.QHa=void 0;t=a(1);a=a(0);c.prototype.kSb=function(l){this.ready || (this.iZb(l),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};g=c;g=t.__decorate([(0,a.T)()],g);b.QHa=g;},function(t,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.pk=void 0;t=a(0);c=a(92);g=a(485);l=a(1110);m=a(487);d=a(1111);b.pk=new t.rd(function(f){f(c.ay).Af(function(){return function(){return nb._cad_global.device;};});f(m.JCa).to(d.ICa).ba();f(g.GCa).to(l.FCa).ba();});},function(t,b,a){var g,l,m,d,f,h;function c(k,n){this.za=k;this.Bva=n;}Object.defineProperty(b,"__esModule",{value:!0});b.FCa=void 0;t=a(1);g=a(38);l=a(5);m=a(141);d=a(486);f=a(59);a=a(0);c.prototype.PGb=function(){for(var k="",n=this.za.kf.da(l.la),p=6;p--;){k=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + k;n=Math.floor(n / 32);}for(;30 > k.length;){k+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Bva.E8a(new d.Afa(0,31,f.l6a))];}return k;};h=c;h=t.__decorate([(0,a.T)(),t.__param(0,(0,a.l)(g.gi)),t.__param(1,(0,a.l)(m.T1))],h);b.FCa=h;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r;function c(w,v,x,y,z,A,B,E,D){this.LCb=w;this.no=v;this.nb=y;this.Jla=z;this.Xc=A;this.debug=B;this.b5b=E;this.$Ub=D;this.tDa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=x.mb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.ICa=void 0;t=a(1);g=a(3);l=a(27);m=a(1112);d=a(7);f=a(485);h=a(36);k=a(97);n=a(29);p=a(0);q=a(79);u=a(488);a=a(489);c.prototype.DXa=function(w){try{return w.match(this.tDa)[2];}catch(v){}};c.prototype.FXa=function(w){try{return w.match(this.tDa)[1];}catch(v){}};c.prototype.create=function(w){var v;v=this;return new Promise(function(x,y){v.no.create().then(function(z){var B,E,D,F,G,C;function A(H){v.nb.Bn(H) && v.nb.Bn(B)?(E=new m.HCa(H,B,void 0,D,w.nV || "cadmium"),x(E)):y({sa:g.M.oCa});}B=w.Yo;if(w.qoa){D="bind_device";v.$Ub.tg(v.log,{}).then(function(H){A(H.esn);}).catch(function(H){y(H);});}else if(w.xN){G=w.gl;if(v.nb.Bn(G)){C=v.FXa(G);C != w.Yo && v.log.error("esn prefix from ui is different",{ui:C,cad:w.Yo,ua:w.userAgent});}else w.Wra && v.log.error("esn from ui is missing");!w.xQ && v.nb.Bn(G)?(D="config",A(G)):z.load(w.cWa).then(function(H){F=H.value;v.nb.Bn(F) && (!1,v.nb.Bn(G)?(H=v.DXa(G),D=H === F?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):D="storage_esn_not_in_config",A(B + F));}).catch(function(H){var I;function K(){z.save(w.cWa,I,!1).then(function(){A(B + I);}).catch(function(Q){y(Q);});}function M(){I=v.LCb.PGb();!1;K();}if(H.sa === g.M.mC){if(v.nb.Bn(w.gl)){I=v.DXa(w.gl);v.nb.Bn(I)?(D="config_since_not_in_storage",K()):(D="generated_since_invalid_in_config_and_not_in_storage",v.log.error("invalid esn passed from UI",w.gl),M());}else (D="generated_since_not_in_config_and_storage",M());}else y(H);});}else w.MCb && v.Jla && v.Jla.getKeyByName?v.Jla.getKeyByName(w.Xub).then(function(H){H=H.id;if(v.nb.aq(H))(H=String.fromCharCode.apply(void 0,v.Xc.decode(H)),v.debug.assert("" != H),B=v.FXa(H),A(H));else throw "ESN from getKeyByName is not a string";}).catch(function(H){y({sa:g.M.nCa,yb:v.b5b.wd(H)});}):A();}).catch(function(z){y(z);});});};r=c;r=t.__decorate([(0,p.T)(),t.__param(0,(0,p.l)(f.GCa)),t.__param(1,(0,p.l)(q.SB)),t.__param(2,(0,p.l)(d.ub)),t.__param(3,(0,p.l)(l.hg)),t.__param(4,(0,p.l)(u.gCa)),t.__param(5,(0,p.l)(h.Ji)),t.__param(6,(0,p.l)(k.Bv)),t.__param(7,(0,p.l)(n.jg)),t.__param(8,(0,p.l)(a.QIa))],r);b.ICa=r;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.HCa=void 0;b.HCa=function(a,c,g,l){this.gl=a;this.Yo=c;this.Y5=l;};},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C;Object.defineProperty(b,"__esModule",{value:!0});b.I3a=void 0;t=a(0);c=a(159);g=a(1114);l=a(1115);m=a(1116);d=a(1117);f=a(1118);h=a(13);k=a(1119);n=a(1120);p=a(1121);q=a(48);u=a(92);r=a(494);w=a(491);v=a(490);x=a(87);y=a(287);z=a(50);A=a(186);B=a(1122);E=a(496);D=a(497);F=a(1125);G=a(498);C=a(1126);b.I3a=new t.rd(function(H){H(z.kn).to(l.nGa).ba();H(w.JHa).to(m.IHa).ba();H(v.CGa).to(d.BGa).ba();H(y.yGa).to(f.xGa).ba();H(z.$da).to(k.mGa).ba();H(x.jy).to(n.uGa).ba();H(y.wGa).to(p.vGa).ba();H(A.ZR).to(B.YR).ba();H(A.cea).to(F.zGa).ba();H(G.bS).to(C.aS).ba();H(E.RCa).to(D.QCa).ba();H(r.cAa).to(g.bAa).ba();H(z.oGa).s_(function(K){return function(){return K.fb.get(c.hS)().then(function(M){return new Promise(function(I){var L,J,O;function Q(){J() && O() && M.PX?I(K.fb.get(z.kn)):L.Xl(Q);}L=K.fb.get(q.Wj);J=K.fb.get(h.bd);O=K.fb.get(u.ay);L.Xl(Q);});});};});});},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p,q,u){var r;r=this;this.ZPb=n;this.BA=p;this.config=u;this.Tva=[];this.ZPb.gaa(g.Ceb,this.VKb.bind(this));q().then(function(w){var v;v=u().sq.sGb;r.MQb=v?k.Sj[v.toUpperCase()]:k.Sj.Qf;r.ag=w;r.l_b();});}Object.defineProperty(b,"__esModule",{value:!0});b.bAa=void 0;t=a(1);l=a(0);m=a(13);d=a(116);f=a(50);h=a(87);k=a(7);c.prototype.VKb=function(n,p){this.ag?this.B8a(n,p):this.Tva.push([n,p]);};c.prototype.l_b=function(){var n,p;n=this;p=this.Tva;this.Tva=[];p.forEach(function(q){n.B8a(q[0],q[1]);});};c.prototype.B8a=function(n,p){var q;if(this.ag && this.x0b(n)){q={debugMessage:n.message,debugCategory:n.Ro};n.jc.forEach(function(u){return q=Object.assign(Object.assign({},q),u.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.BA.$t("debug",k.Sj[n.level].toLowerCase(),q,p);this.ag.Jc(n);}};c.prototype.x0b=function(n){var p;p=this.MQb;return void 0 !== p && n.level <= p && !n.jc.find(function(q){return q.IV(k.pR);});};a=g=c;a.Ceb="adaptorAll";a=g=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(d.EK)),t.__param(1,(0,l.l)(h.jy)),t.__param(2,(0,l.l)(f.oGa)),t.__param(3,(0,l.l)(m.bd))],a);b.bAa=a;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u;function c(r,w,v,x,y,z,A){this.config=r;this.json=w;this.Oc=v;this.PPb=x;this.FX=z;this.Tla=A;this.o8=this.Un=!1;this.listeners=[];(0,l.lp)(this,"json");this.wa=y.mb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.nGa=void 0;t=a(1);g=a(0);l=a(59);m=a(39);d=a(490);f=a(48);h=a(7);k=a(50);n=a(491);p=a(3);q=a(98);a(191);u=a(277);c.prototype.Eb=function(){this.Un=!0;};c.prototype.Jc=function(r){var w;w=this;this.E0b(r) || (!1,0 < r.size.Ll(this.config.IQb)?this.wa.error("Logblob is too large, dropping from the queue",{logblobType:r.type,logblobSize:r.size.toString()}):(this.listeners.forEach(function(v){return v.uRb(r);}),!1,this.FX.Uia(r),this.Oc.Xl(function(){w.dGb();})));};c.prototype.flush=function(r){var w;w=this;r=void 0 === r?!1:r;return this.o8?(this.wa.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(v,x){w.wa.trace("Flushing",h.pR);w.Ys();w.Oc.Xl(function(){w.Zwa(r).then(function(){v();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(r){this.listeners.push(r);};c.prototype.removeListener=function(r){r=this.listeners.indexOf(r);0 <= r && this.listeners.splice(r,1);};c.prototype.Zwa=function(r){var w,v;w=this;r=void 0 === r?!1:r;if(!this.Un)return (this.wa.trace("LogBatcher is not initialized"),Promise.resolve());if(this.o8)return (this.wa.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());v=this.FX.pHb();if(0 === v.length && !r)return (this.wa.trace("No logblobs to send"),Promise.resolve());!1;this.Ys();this.listeners.forEach(function(){});r=Promise.resolve();for(var x={},y=ba(v),z=y.next();!z.done;(x={cca:x.cca},z=y.next())){x.cca=z.value;r=r.then((function(A){return function(){return w.h_b(A.cca);};})(x));}return r.then(function(){return w.pH();}).catch(function(A){v.filter(function(B){return !B.uA;}).forEach(function(B){return B.iu();});w.pH();throw Error("Send failure. " + A);});};c.prototype.h_b=function(r){var w;w=this;this.wa.trace("Sending batch: " + r.size,h.pR);return Promise.resolve(this.FX.rYb(r)).then(function(){return w.PPb.send(r.mI);}).then(function(){return r.hQ();}).catch(function(v){w.wa.warn("Failed to send batch of logblobs.",v,h.pR);r.iu();w.u0b(v) && w.FX.Usb(r);w.F0b(v) && (w.o8=!0);throw v;});};c.prototype.u0b=function(r){return r.Nd === p.m1.KIa?!1:this.config.Ria;};c.prototype.F0b=function(r){return r.Ec === p.M.iEa || r.Ec === p.M.OR || r.Ec === p.M.SR?!0:!1;};c.prototype.dGb=function(){var r;r=this;0 < this.FX.size.Ll(this.config.x4a)?this.Zwa().catch(function(w){return r.wa.warn("Failed to send log messages on size threshold. " + w);}):this.pH();};c.prototype.Ys=function(){this.B8 && (!1,this.B8.cancel(),this.B8=void 0);};c.prototype.pH=function(){this.B8 || (!1,this.B8=this.Oc.Jk(this.config.i_b,this.VO.bind(this)));};c.prototype.VO=function(){var r;r=this;this.o8=!1;this.Ys();this.Zwa().catch(function(w){return r.wa.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(r){var w;w="";try{w=this.json.stringify(r.data,void 0,"  ");}catch(v){}return w;};c.prototype.E0b=function(r){return 0 <= this.config.xab.indexOf(r.type)?!0:r.type === u.ed.debug?0 <= this.config.wab.indexOf(r.data.debugCategory):!1;};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.$da)),t.__param(1,(0,g.l)(m.qF)),t.__param(2,(0,g.l)(f.Wj)),t.__param(3,(0,g.l)(d.CGa)),t.__param(4,(0,g.l)(h.ub)),t.__param(5,(0,g.l)(n.JHa)),t.__param(6,(0,g.l)(q.M0))],a);b.nGa=a;},function(t,b,a){var l,m,d,f,h,k,n;function c(p){this.WL=d.eb;this.Hha=[];this.pT=this.Y2=!1;p && (this.WL=p.size,this.Hha=p.mI);}function g(p,q,u,r){this.vRb=p;this.config=q;this.bg=u;this.json=r;(0,m.lp)(this,"json");this.wa=this.bg.mb("MessageQueue");this.St=[];}Object.defineProperty(b,"__esModule",{value:!0});b.IHa=void 0;t=a(1);l=a(0);m=a(59);d=a(52);f=a(287);h=a(7);k=a(39);a=a(50);g.prototype.Uia=function(p){var q,u;0 === this.St.length && this.St.push(this.voa());if(p=this.WJb(p)){q=this.vRb.measure([p]);u=this.St[this.St.length - 1];0 < u.size.add(q).Ll(this.config.x4a) && (u=this.voa(),this.St.push(u));u.Uia(p);}};g.prototype.pHb=function(){var p;p=this.St.filter(function(q){return q.Dwb;});this.St.push(this.voa());p.forEach(function(q){return q.vQb();});return p;};g.prototype.Usb=function(p){p.uA || this.St.unshift(new c(p));};g.prototype.rYb=function(p){p=this.St.indexOf(p);0 <= p && this.St.splice(p,1);};g.prototype.WJb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(r){var q,u;q={};p=p.data;u=p.debugMessage;u && "string" === typeof u && (q.originalDebugMessage=u);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.wa.error("JSON.stringify error: " + r.message,q);}};g.prototype.voa=function(){return new c();};Ya.Object.defineProperties(g.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.St.reduce(function(p,q){return p.add(q.size);},d.eb);}}});n=g;n=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(f.yGa)),t.__param(1,(0,l.l)(a.$da)),t.__param(2,(0,l.l)(h.ub)),t.__param(3,(0,l.l)(k.qF))],n);b.IHa=n;c.prototype.hQ=function(){this.Y2=!1;this.pT=!0;};c.prototype.iu=function(){this.Y2=!1;};c.prototype.Uia=function(p){this.Hha.push(p);this.WL=this.WL.add(p.size);};c.prototype.vQb=function(){this.Y2=!0;};Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.WL;}},mI:{configurable:!0,enumerable:!0,get:function(){return this.Hha;}},Dwb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.mI.length && !1 === this.Y2;}},uA:{configurable:!0,enumerable:!0,get:function(){return this.pT;}}});},function(t,b,a){var l,m,d,f,h,k,n,p,q,u,r;function c(w,v,x,y,z,A,B,E){this.Ea=w;this.platform=x;this.pk=y;this.json=z;this.ce=A;this.Xh=B;this.XPb=E;(0,m.lp)(this,"json");this.wa=v.mb("LogblobSender");}function g(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.BGa=void 0;t=a(1);l=a(0);m=a(59);d=a(39);f=a(5);h=a(29);k=a(19);n=a(35);p=a(92);q=a(7);u=a(492);a=a(72);c.prototype.send=function(w){var v;v=this;return new Promise(function(x,y){var z;try{z=w.reduce(function(A,B){A.entries.push(v.OAb(B));return A;},new g());x(v.SGb(z));}catch(A){v.wa.error(A.message);y(A);}}).then(function(x){return v.bxa(x);});};c.prototype.OAb=function(w){return this.ce.rI(this.ce.rI({},w.data),{esn:this.pk().gl,sev:w.severity,type:w.type,lver:this.platform.bsa,jssid:this.Ea.id,devmod:this.platform.Mz,jsoffms:w.timestamp.Ka(this.Ea.zA).da(f.la),clienttime:w.timestamp.da(f.la),client_utc:w.timestamp.da(f.Ao),uiver:this.Xh.Lx});};c.prototype.SGb=function(w){var v;v=this;try{return this.json.stringify(w);}catch(z){for(var x={},y=0;y < w.entries.length;(x={PQ:x.PQ,wv:x.wv},++y)){x.wv=Object.assign({},w.entries[y]);try{this.json.stringify(x.wv);}catch(A){x.PQ=void 0;this.ce.qD(x.wv,(function(B){return function(E,D){try{v.json.stringify(D);}catch(F){B.PQ=F.message;B.wv[E]=B.PQ;}};})(x));x.wv.stringifyException=x.PQ;x.wv.originalType=x.wv.type;x.wv.type="debug";x.wv.sev="error";}}return this.json.stringify(w);}};c.prototype.bxa=function(w){var v;v=this;return this.XPb.tg(this.wa,{logblobs:w}).then(function(){!1;}).catch(function(x){v.wa.error("PBO logblob failed",x);return Promise.reject(x);});};r=c;r=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(k.md)),t.__param(1,(0,l.l)(q.ub)),t.__param(2,(0,l.l)(n.Dl)),t.__param(3,(0,l.l)(p.ay)),t.__param(4,(0,l.l)(d.qF)),t.__param(5,(0,l.l)(h.jg)),t.__param(6,(0,l.l)(a.Nv)),t.__param(7,(0,l.l)(u.hJa))],r);b.BGa=r;},function(t,b,a){var g,l,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.xGa=void 0;t=a(1);g=a(0);l=a(287);m=a(52);c.prototype.measure=function(d){var f;f=this;return d.map(function(h){return h.size.add(f.config.SPb());}).reduce(function(h,k){return h.add(k);},(0,m.fa)(0));};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.wGa))],a);b.xGa=a;},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p){n=h.bf.call(this,n,"LogBatcherConfigImpl") || this;n.config=p;n.IQb=(0,g.fa)(5E5);n.i_b=(0,l.H9)(1);n.x4a=(0,g.fa)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.mGa=void 0;t=a(1);g=a(52);l=a(5);m=a(0);d=a(13);f=a(46);h=a(47);a=a(37);na(c,h.bf);Ya.Object.defineProperties(c.prototype,{Ria:{configurable:!0,enumerable:!0,get:function(){return this.config().Ria;}},xab:{configurable:!0,enumerable:!0,get:function(){return [];}},wab:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});k=c;t.__decorate([f.config(f.object(),"shedLogblobTypes")],k.prototype,"xab",null);t.__decorate([f.config(f.gz("string"),"shedDebugTypes")],k.prototype,"wab",null);k=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(a.fm)),t.__param(1,(0,m.l)(d.bd))],k);b.mGa=k;},function(t,b,a){var l,m,d,f,h,k,n,p,q;function c(u,r,w,v,x,y,z,A,B,E){this.platform=r;this.Kla=w;this.type=v;this.severity=x;this.timestamp=y;this.Ea=A;this.data=z;this.data.type=v;this.data.sev=x;this.data.devmod=this.platform.Mz;this.data.clver=this.platform.version;u && u.ie && (u.ie.os && (this.data.osplatform=u.ie.os.name,this.data.osver=u.ie.os.version),this.data.browsername=u.ie.name,this.data.browserver=u.ie.version);u.jra && (this.data.tester=!0);u.jA && !this.data.groupname && (this.data.groupname=u.jA);u.zM && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + u.zM:u.zM);u.VJ && (this.data.uigroupname=u.VJ);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ea.VIb();this.data.uniqueLogId=B.GYa();this.data.appId=this.Ea.id;E && (u=this.Ea.$b(),this.data.soffms=u.Ka(E.dj).da(f.la),this.data.mid=this.data.mid || E.K,this.data.lvpi=E.$ra,this.data.uiLabel=E.Wd,this.data.uxLabels=E.Nba,v="startup" === v?"playbackxid":"xid",this.data[v]="xid" === v && this.data.xid || E.ca,E.qJ && (v=E.qJ,(E=E.qJ.split(".")) && 1 < E.length && "S" !== E[0][0] && (v="SABTest" + E[0] + ".Cell" + E[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + v:v));}function g(u,r,w,v,x,y){this.za=u;this.Kla=r;this.config=w;this.Ea=v;this.d5b=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.uGa=void 0;t=a(1);l=a(52);m=a(0);d=a(38);f=a(5);h=a(335);k=a(42);n=a(19);p=a(493);a=a(35);g.prototype.$t=function(u,r,w,v){return new c(this.config,this.platform,this.Kla,u,r,this.za.kf,w,this.Ea,this.d5b,v);};q=g;q=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(d.gi)),t.__param(1,(0,m.l)(h.iCa)),t.__param(2,(0,m.l)(k.jn)),t.__param(3,(0,m.l)(n.md)),t.__param(4,(0,m.l)(p.nNa)),t.__param(5,(0,m.l)(a.Dl))],q);b.uGa=q;Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.kTa || (this.kTa=(0,l.fa)(this.Kla.encode(this.data).length));return this.kTa;}}});},function(t,b,a){var g,l,m;function c(d){this.pk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.vGa=void 0;t=a(1);g=a(0);l=a(52);a=a(92);c.prototype.SPb=function(){var d;d=this.pk()?this.pk().gl.length:40;return (0,l.fa)(d + 33);};m=c;m=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.ay))],m);b.vGa=m;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D;function c(F,G,C,H,K,M,I,Q,L,J,O,N,P,S,U,Z,ja,ya,ra){this.Zbb=F;this.ag=G;this.Msa=C;this.fna=H;this.se=K;this.I5=M;this.nf=I;this.config=Q;this.Gd=L;this.za=J;this.Ea=O;this.platform=N;this.Uq=P;this.BA=S;this.fj=U;this.ks=Z;this.oI=ja;this.vc=ya;this.eE=ra;}Object.defineProperty(b,"__esModule",{value:!0});b.YR=void 0;t=a(1);g=a(453);l=a(50);m=a(29);d=a(461);f=a(281);h=a(0);k=a(186);n=a(495);p=a(496);q=a(89);u=a(13);r=a(38);w=a(19);v=a(35);x=a(87);y=a(121);z=a(163);A=a(39);B=a(42);E=a(288);a=a(70);c.prototype.create=function(F,G){return new n.$R(F,G,this.Zbb,this.ag,this.Msa,this.fna,this.se,this.I5,this.nf,this.config,this.Gd,this.za,this.Ea,this.Uq,this.BA,this.fj,this.ks,this.oI,this.vc,this.eE);};D=c;D=t.__decorate([(0,h.T)(),t.__param(0,(0,h.l)(g.IMa)),t.__param(1,(0,h.l)(l.kn)),t.__param(2,(0,h.l)(d.nHa)),t.__param(3,(0,h.l)(f.wda)),t.__param(4,(0,h.l)(m.jg)),t.__param(5,(0,h.l)(p.RCa)),t.__param(6,(0,h.l)(q.iy)),t.__param(7,(0,h.l)(u.bd)),t.__param(8,(0,h.l)(y.VF)),t.__param(9,(0,h.l)(r.gi)),t.__param(10,(0,h.l)(w.md)),t.__param(11,(0,h.l)(v.Dl)),t.__param(12,(0,h.l)(A.tS)),t.__param(13,(0,h.l)(x.jy)),t.__param(14,(0,h.l)(z.MF)),t.__param(15,(0,h.l)(B.jn)),t.__param(16,(0,h.l)(E.vea)),t.__param(17,(0,h.l)(k.cea)),t.__param(18,(0,h.l)(a.xt))],D);b.YR=D;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.PCa=void 0;c=a(52);b.PCa=function(g,l){this.sDb=g;this.size=l.Wqa()?c.eb:l;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bsa=void 0;b.Bsa=function(a,c){var d,f;if(0 !== a.length){if(1 === a.length)return a[0];for(var g=a[0],l=c(g),m=1;m < a.length;m++){d=a[m];f=c(d);f > l && (g=d,l=f);}return g;}};},function(t,b,a){var g,l,m,d,f,h,k,n,p,q;function c(u,r,w){this.platform=u;this.config=r;this.Ea=w;this.wNa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.zGa=void 0;t=a(1);g=a(0);l=a(40);m=a(19);d=a(3);f=a(35);h=a(5);k=a(13);n=a(24);p=a(11);q=a(162);c.prototype.Hq=function(u,r,w){w && (u.adlid=w.Dc,u.abitrate=w.bitrate);r && (u.vdlid=r.Dc,u.vbitrate=r.bitrate);};c.prototype.l1a=function(u,r,w){w?u=Object.assign(u,(0,q.Toa)(this.platform.wq,w)):u.errorcode=d.N.em;u.errorcode === this.platform.wq + d.N.yIa && (u.lastSyncWithVideoElement=this.getTime() - r.e_);};c.prototype.s1a=function(u,r){var w;Object.assign(u,(0,q.dpa)());try{w=r.getBoundingClientRect();u.rendersize=w.width + "x" + w.height;u.renderpos=w.left + "x" + w.top;}catch(v){}};c.prototype.r1a=function(u,r){var w,v,x;w=r.uc[l.Ub.Wa.Pb].value;v=r.uc[l.Ub.Wa.Yb].value;x=r.qf.value;r=r.pe.value;w && (u.cdnid=w.id,u.cdnname=w.name);v && (u.acdnid=v.id,u.acdnname=v.name);if(null === x || void 0 === x?0:x.stream)(u.adlid=x.stream.Dc,u.abitrate=x.stream.bitrate);if(null === r || void 0 === r?0:r.stream)(u.vdlid=r.stream.Dc,u.vbitrate=r.stream.bitrate,u.vheight=r.stream.height,u.vwidth=r.stream.width);};c.prototype.qMb=function(u,r){var w,v;v=null === (w=r.Ia) || void 0 === w?void 0:w.BBb;v && (null === v || void 0 === v?void 0:v.S) !== r.iD && (u.auxMid=v.S);};c.prototype.p1a=function(u,r){0 <= r.mediaTime.value && (r=r.Npa() && !r.bb.zi?r.k5:r.mediaTime.value,u.moff=(0,n.Zo)(r),u.moffms=(0,n.Xf)(r));};c.prototype.i1a=function(u,r){r.Lg && (u.pbcid=r.Lg);r.Ai && (u.playbackcontextid=r.Ai);};c.prototype.rqa=function(u){var r,w;u.browserua=p.gC;u.browseruad=null === (w=null === (r=p.Qe.userAgentData) || void 0 === r?void 0:r.brands) || void 0 === w?void 0:w.map(function(v){return [v.brand,v.version];});u.browserhref=location.href;(r=p.Qe && p.Qe.connection && p.Qe.connection.type) && (u.nettype=r);};c.prototype.$N=function(u){var r,w,v,x,y;if(this.config().tEb){y=null === (r=null === p.Qe || void 0 === p.Qe?void 0:p.Qe.connection) || void 0 === r?void 0:r.effectiveType;r=null === p.Qe || void 0 === p.Qe?void 0:p.Qe.deviceMemory;y && (u.effectiveType=y);r && (u.deviceMemory=r);}(y=null === (w=null === p.Qe || void 0 === p.Qe?void 0:p.Qe.connection) || void 0 === w?void 0:w.type) && (u.connectionType=y);w=null === (v=null === p.Qe || void 0 === p.Qe?void 0:p.Qe.connection) || void 0 === v?void 0:v.downlink;"number" === typeof w && isFinite(w) && (u.downlink=w);v=null === (x=null === p.Qe || void 0 === p.Qe?void 0:p.Qe.connection) || void 0 === x?void 0:x.rtt;"number" === typeof v && isFinite(v) && (u.rtt=v);};c.prototype.R7=function(u,r){if(r=r.bb.Vm)(r.isUIAutoPlay && (u.isUIAutoPlay=!0),r.clLogId && (u.cl_log_id=r.clLogId));};c.prototype.aO=function(u,r){var w,v,x,y;w=this;if(r=r && r.streams){v=new Set();x=new Set();y=new Set();r.forEach(function(z){z=z.Kg;v.add(z);x.add(z.replace(w.wNa,""));(z=z.match(w.wNa)) && 0 < z.length && y.add(z[1]);});u.videoProfiles=[].concat(ha(v));u.videoProfile=0 === x.size?"none":[].concat(ha(x))[0];u.videoProfileLevels=[].concat(ha(y));r && r.length && (u.isMcClearen=! !r[0].wl.find(function(z){return 0 <= z.toLowerCase().indexOf("mcclearen");}));}};c.prototype.f1a=function(u,r){var w;if(r=r && r.streams){w={};r.forEach(function(v){w[v.Kg]=void 0;});u.audioProfiles=Object.keys(w);}};c.prototype.j1a=function(u){u.configversion=this.config().version;this.config().endpoint || (u.configendpoint="error");};c.prototype.getTime=function(){return this.Ea.$b().da(h.la);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(f.Dl)),t.__param(1,(0,g.l)(k.bd)),t.__param(2,(0,g.l)(m.md))],a);b.zGa=a;},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p,q,u,r){this.ag=n;this.config=p;this.za=q;this.Ea=u;this.dsa=r;}Object.defineProperty(b,"__esModule",{value:!0});b.aS=void 0;t=a(1);g=a(50);l=a(0);m=a(186);d=a(13);f=a(38);h=a(19);k=a(1127);c.prototype.create=function(n,p,q){var u;u=this.dsa.create(n,p);return new k.cS(n,p,q,this.ag,this.config,this.Ea,u);};a=c;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(g.kn)),t.__param(1,(0,l.l)(d.bd)),t.__param(2,(0,l.l)(f.gi)),t.__param(3,(0,l.l)(h.md)),t.__param(4,(0,l.l)(m.ZR))],a);b.aS=a;},function(t,b,a){var g,l,m,d,f;function c(h,k,n,p,q,u,r){var w;w=this;this.j=h;this.xa=k;this.ag=p;this.config=q;this.Ea=u;this.qb=r;this.AA=function(v,x){return function(y){var z;z=x(y);if("number" !== typeof z)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");z === w.K && v(y);};};this.e4a=this.AA(function(v){w.Xaa(v.l8);},function(v){return v.K;});this.b4a=this.AA(function(){w.OU();},function(v){return v.K;});this.aUa=this.AA(function(){w.OU();},function(v){return v.movieId;});this.Gka=this.AA(function(){w.j.Ab.value === f.hb.Lc && (w.j.Ab.removeListener(w.Gka),w.Vq());},function(){return w.j.K;});this.AB=function(v){w.ZA && w.qb.AB(v);};this.fUa=this.AA(this.qb.Txb,function(v){return v.K;});this.wWa=this.AA(this.qb.mDb,function(v){return v.K;});this.C3a=this.AA(this.qb.qX,function(v){return w.j.uk(v.segmentId).K;});this.F$a=this.AA(this.qb.BZ,function(v){return w.j.uk(v.segmentId).K;});this.lWa=this.AA(this.qb.uma,function(v){return v.K;});this.Fk=function(v){v.skip && (w.mo=!0);switch(v.cause){case f.Re.kC:case f.Re.g2:w.Ps && w.Fp && w.qb.Hua(w.getTime() - w.Fp,w.Ps);w.Ps="repos";w.qb.wP(v.Tta,v.qf,v.pe);w.Fp=w.getTime();(0,d.Wf)(w.Bw);break;case f.Re.W0:(w.Ps="force_rebuffer",w.Fp=w.getTime(),(0,d.Wf)(w.Bw));}};this.rm=function(v){w.xA=v.oldValue;w.qb.rm(v);};this.Bw=function(){var v;if(w.Fp && w.j.Ab.value !== f.hb.Sf){v=w.getTime() - w.Fp;w.qb.EP(v,w.mo,w.Ps);w.xA && w.xA != w.j.tc.value && w.qb.Gja();w.Fp=void 0;w.Ps=void 0;w.mo=void 0;}};this.Vq=function(){w.ZA || (w.ZA=!0,w.qb.ME(!1),w.yqa(),w.config().Y7 && (w.sA=nb.setTimeout(function(){w.ag.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.sA=void 0;},w.config().Y7)));};this.pg=function(){w.sA && (nb.clearTimeout(w.sA),w.sA=void 0);if(w.config().J5 || w.config().nM)(w.wma && (nb.clearInterval(w.wma),w.wma=void 0),w.qb.jWa());w.D_ && w.D_();w.ZA?w.qb.oH(! !w.j.Ph):w.j.Ph?w.qb.ME(!0):w.xa.background || w.qb.Iua();};this.P_=function(v){v.oldValue && v.zm && v.zm.PG && w.qb.DM(v.oldValue,v.newValue,v.zm.PG,v.zm.yU);};this.GY=function(v){var x;if(v.newValue){x=v.newValue.stream;w.eI != x && (w.eI && w.qb.hwa(w.eI,x,v.newValue.um.startTime),w.eI=x);}};this.K=k.K;this.log=(0,l.Sh)(h,"LogblobBuilder");this.Eb();n && this.Xaa();}Object.defineProperty(b,"__esModule",{value:!0});b.cS=void 0;g=a(12);l=a(8);m=a(5);d=a(63);f=a(15);c.prototype.Eb=function(){this.j.addEventListener(f.ea.hI,this.e4a);this.j.addEventListener(f.ea.ssa,this.b4a);this.j.addEventListener(f.ea.qX,this.C3a);this.j.addEventListener(f.ea.BZ,this.F$a);this.j.addEventListener(f.ea.pg,this.aUa);this.j.addEventListener(f.ea.hH,this.lWa,g.H1);if(this.config().J5 || this.config().nM)(this.j.addEventListener(f.ea.hH,this.wWa),this.wma=nb.setInterval(this.qb.jWa,this.config().rDb));this.config().nwa && this.j.addEventListener(f.ea.hH,this.fUa);};c.prototype.Xaa=function(h){var k;k=this;this.r5a || (this.j.Ab.value !== f.hb.Lc || (void 0 === h?0:h)?this.j.Ab.addListener(this.Gka):this.Vq(),this.j.Ri.addListener(this.AB),this.j.kc.addListener(this.qb.Zl),this.j.tc.addListener(this.rm),this.j.sh.addListener(this.qb.qU),this.j.paused.addListener(this.qb.z$),this.j.pe.addListener(this.GY),this.j.Ab.addListener(this.Bw),this.j.Ab.addListener(this.qb.vcb),this.j.Ze.addListener(this.P_),this.j.playbackRate.addListener(this.qb.QZ),this.j.addEventListener(f.ea.si,this.qb.si),this.j.addEventListener(f.ea.mM,this.qb.mM),this.j.addEventListener(f.ea.gQ,this.qb.gQ),this.j.addEventListener(f.ea.nz,function(n){k.Ps="rebuffer";k.qb.nz(n);k.Fp=k.getTime();(0,d.Wf)(k.Bw);}),this.j.addEventListener(f.ea.Fk,this.Fk),this.j.addEventListener(f.ea.mQ,this.qb.mQ),this.xa.hq && this.xa.hq.addListener(this.qb.hq),this.r5a=!0);};c.prototype.OU=function(){this.pg();this.r5a && (this.j.removeEventListener(f.ea.hI,this.e4a),this.j.removeEventListener(f.ea.ssa,this.b4a),this.j.removeEventListener(f.ea.qX,this.C3a),this.j.removeEventListener(f.ea.BZ,this.F$a),this.j.Ri.removeListener(this.AB),this.j.kc.removeListener(this.qb.Zl),this.j.tc.removeListener(this.rm),this.j.sh.removeListener(this.qb.qU),this.j.paused.removeListener(this.qb.z$),this.j.pe.removeListener(this.GY),this.j.Ab.removeListener(this.Bw),this.j.Ab.removeListener(this.Gka),this.j.Ab.removeListener(this.qb.vcb),this.j.Ze.removeListener(this.P_),this.j.playbackRate.removeListener(this.qb.QZ),this.j.removeEventListener(f.ea.hH,this.lWa),this.j.removeEventListener(f.ea.pg,this.aUa),this.j.removeEventListener(f.ea.si,this.qb.si),this.j.removeEventListener(f.ea.mM,this.qb.mM),this.j.removeEventListener(f.ea.gQ,this.qb.gQ),this.j.removeEventListener(f.ea.nz,this.qb.nz),this.j.removeEventListener(f.ea.Fk,this.Fk),this.j.removeEventListener(f.ea.mQ,this.qb.mQ),this.xa.hq && this.xa.hq.removeListener(this.qb.hq),this.j.removeEventListener(f.ea.hH,this.wWa),this.j.removeEventListener(f.ea.hH,this.fUa));};c.prototype.getTime=function(){return this.Ea.$b().da(m.la);};c.prototype.yqa=function(){var h,k,n;h=this;n=[];this.config().a5a && (this.config().b5a.forEach(function(p){n.push(nb.setTimeout(h.qb.fE,p));}),this.config().u9 && (k=nb.setInterval(this.qb.fE,this.config().u9)),this.D_=function(){n.forEach(function(p){nb.clearTimeout(p);});k && nb.clearInterval(k);});};b.cS=c;},function(t,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.E5a=void 0;t=a(0);c=a(1129);g=a(89);l=a(499);m=a(1130);d=a(289);f=a(500);h=a(1131);k=a(439);n=a(1135);b.E5a=new t.rd(function(p){p(l.KNa).to(c.JNa).ba();p(g.iy).TE(function(){return nb._cad_global.http;});p(d.C1).to(m.ZHa).ba();p(f.$Ha).Mj(h.default);p(k.SEa).to(n.REa).ba();});},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.JNa=void 0;t=a(1);a=a(0);c.prototype.create=function(){return new XMLHttpRequest();};g=c;g=t.__decorate([(0,a.T)()],g);b.JNa=g;},function(t,b,a){var g,l,m,d;function c(f,h,k){this.config=f;this.KPb=h;this.Wb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.ZHa=void 0;t=a(1);g=a(324);l=a(0);m=a(189);a=a(500);c.prototype.zla=function(){if(this.config.Hdb)return this.Wb(this.KPb());};d=c;d=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(g.YHa)),t.__param(1,(0,l.l)(m.VHa)),t.__param(2,(0,l.l)(a.$Ha))],d);b.ZHa=d;},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(1132);g=a(1133);l=a(1134);b.default=function(m){var d;m=new c.uca(m);d=new l.Ckb(m);return new g.Bkb(m,d);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c){this.A3a=c;}a.prototype.mxa=function(c){try{this.A3a.setItem("gtp",JSON.stringify(c));}catch(g){return !1;}return !0;};a.prototype.NZa=function(){var c;try{c=this.A3a.getItem("gtp");if(c)return JSON.parse(c);}catch(g){}};a.prototype.Fm=function(){var c;c=this.NZa();if(c && c.tp)return c.tp.a;};a.prototype.IIb=function(){var c;c=this.Coa();if(c)return c.p25;};a.prototype.JIb=function(){var c;c=this.Coa();if(c)return c.p50;};a.prototype.KIb=function(){var c;c=this.Coa();if(c)return c.p75;};a.prototype.Coa=function(){var c;c=this.NZa();if(c && (c=c.iqr))return c;};return a;})();b.uca=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c,g){this.uw=c;this.XX=g;}a.prototype.mxa=function(c){return this.uw.mxa(c);};a.prototype.Fm=function(){return this.uw.Fm();};a.prototype.lJb=function(){return this.XX.XX();};return a;})();b.Bkb=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c){this.uw=c;}a.prototype.XX=function(){var c,g,l;c=this.uw.IIb();g=this.uw.JIb();l=this.uw.KIb();if("number" === typeof c && "number" === typeof g && "number" === typeof l)return (l - c) / g;};return a;})();b.Ckb=t;},function(t,b,a){var g,l,m;function c(d,f){this.nf=f;this.wa=d.mb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.REa=void 0;t=a(1);g=a(0);l=a(7);a=a(89);c.prototype.download=function(d,f){var h;h=this;f=void 0 === f?{G4a:0}:f;return new Promise(function(k,n){var q;function p(u){if(u.aa)return k(u.content);if(q === f.G4a)return n({sa:u.sa,LD:u.tk});q++;!1;h.nf.download(d,p);}q=0;h.nf.download(d,p);});};m=c;m=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub)),t.__param(1,(0,g.l)(a.iy))],m);b.REa=m;},function(t,b,a){var c,g,l,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.CYa=void 0;t=a(0);c=a(1137);g=a(1138);l=a(1139);m=a(1140);d=a(1141);f=a(501);h=a(502);k=a(170);b.CYa=new t.rd(function(n){n(k.gEa).to(c.fEa).ba();n(k.jLa).to(g.iLa).ba();n(k.hLa).to(l.gLa).ba();n(f.cEa).to(m.bEa).ba();n(h.VEa).to(d.UEa).ba();});},function(t,b,a){var g,l,m,d,f,h,k,n;function c(p,q,u,r,w,v,x){this.config=p;this.W0a=q;this.Oc=u;this.wc=r;this.NYb=w;this.lwa=v;this.sOb=0;this.wa=x.mb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.fEa=void 0;t=a(1);l=a(0);m=a(5);d=a(48);f=a(7);h=a(501);k=a(502);a=a(170);c.prototype.start=function(){this.config.enabled && !this.Qs && (this.Qs=this.Oc.Jk(this.config.Xab,this.Bx.bind(this)));};c.prototype.stop=function(){this.Qs && (this.Qs.cancel(),this.Qs=void 0);};c.prototype.Bx=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.sOb++;this.pKb(q).then(function(u){return Promise.all(u.urls.map(function(r){return p.eLb(u,r.url,r.name);})).then(function(r){0 < r.length && p.NYb.gZ({data:r,context:u.context,esa:u.esa});}).then(function(){return u;});}).then(function(u){p.Qs && (u.R2a?p.Qs=p.Oc.Jk(u.R2a,p.Bx.bind(p)):p.stop());}).catch(function(u){return p.wa.error("FTL run failed",u);});};c.prototype.pKb=function(p){var q;q=this;return this.W0a.get(p,!1).then(function(u){var r;if(200 != u.status || null == u.body)return (q.lwa.gZ({url:p,status:u.status,Eua:"FTL API request failed",me:u.me}),Promise.reject(Error("FTL API request failed: " + u.status)));r=q.wc.parse(u.body);return r instanceof Error?(q.lwa.gZ({url:p,status:4,Eua:"FTL Probe API JSON parsing error",me:u.me}),Promise.reject(r)):Promise.resolve(r);}).catch(function(u){u instanceof Error && (q.lwa.gZ({url:p,status:0,Eua:u.message}),q.wa.error("FTL API call failed",u.message));return Promise.reject(u);});};c.prototype.eLb=function(p,q,u){var r;r=this;return new Promise(function(w,v){var F;for(var x,y,z,A,B=[],E={},D=0;D < p.lXb;(E={dca:E.dca,eca:E.eca},++D)){E.dca=D < p.y8a.length?p.y8a[D]:m.eb;E.eca="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (D + 1);F=(function(G){return function(){return new Promise(function(C,H){r.Oc.Jk(G.dca,function(){g.SWb(r.W0a,G.eca,p.kXb).then(function(K){function M(I,Q,L){I || (I=L.headers[Q]);return I;}x=M(x,"via",K);y=M(y,"x-ftl-probe-data",K);z=M(z,"x-ftl-error",K);A=M(A,"latency-trace",K);K={status:K.status,me:K.me,p5b:x || "",rxb:y || "",KV:z || "",WOb:r.TUb(A)};C(K);}).catch(function(K){H(K);});});});};})(E);B.push(0 < D?B[D - 1].then(F):F());}Promise.all(B).then(function(G){w({url:q,name:u,data:G});}).catch(function(G){v(G);});});};c.prototype.TUb=function(p){var q;if(p){q={};p=ba(p.split(";"));for(var u=p.next();!u.done;u=p.next()){if((u=u.value.trim().split("=")) && 2 == u.length)try{q[u[0].trim()]=Number.parseInt(u[1]);}catch(r){}}return q;}};c.SWb=function(p,q,u){return p.get(q,!1,u).then(function(r){return Object.assign({},r);});};n=g=c;n=g=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(a.eEa)),t.__param(1,(0,l.l)(k.VEa)),t.__param(2,(0,l.l)(d.Wj)),t.__param(3,(0,l.l)(h.cEa)),t.__param(4,(0,l.l)(a.jLa)),t.__param(5,(0,l.l)(a.hLa)),t.__param(6,(0,l.l)(f.ub))],n);b.fEa=n;},function(t,b,a){var g,l,m,d,f,h;function c(k,n){this.ag=k;this.Usa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.iLa=void 0;t=a(1);l=a(0);m=a(52);d=a(5);f=a(50);a=a(87);c.prototype.gZ=function(k){var n;n={ctx:k.context,data:k.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return g.W5b({d:q.me.duration.da(d.la),sc:q.status,sz:q.me.size.da(m.Av),via:q.p5b,cip:q.rxb,err:q.KV},q);})};})};k=this.Usa.$t(k.esa,"info",n);this.ag.Jc(k);};c.W5b=function(k,n){g.tw(k,"dns",n.me.qWa);g.tw(k,"tcp",n.me.sya);g.tw(k,"tls",n.me.Cya);g.tw(k,"ttfb",n.me.yya);g.ltb(k,n.WOb);return k;};c.ltb=function(k,n){n && (k.rtts=n);};c.tw=function(k,n,p){p && (k[n]=p.da(d.la));};h=g=c;h=g=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(f.kn)),t.__param(1,(0,l.l)(a.jy))],h);b.iLa=h;},function(t,b,a){var g,l,m,d,f,h;function c(k,n){this.ag=k;this.Usa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.gLa=void 0;t=a(1);l=a(0);m=a(52);d=a(5);f=a(50);a=a(87);c.prototype.gZ=function(k){k=this.Usa.$t("ftlProbeError","info",g.V5b({url:k.url,sc:k.status,pf_err:k.Eua},k));this.ag.Jc(k);};c.V5b=function(k,n){n.me && (n=n.me,g.tw(k,"d",n.duration),g.tw(k,"dns",n.qWa),g.tw(k,"tcp",n.sya),g.tw(k,"tls",n.Cya),g.tw(k,"ttfb",n.yya),k.sz=n.size.da(m.Av));return k;};c.tw=function(k,n,p){p && (k[n]=p.da(d.la));};h=g=c;h=g=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(f.kn)),t.__param(1,(0,l.l)(a.jy))],h);b.gLa=h;},function(t,b,a){var g,l,m,d,f;function c(h,k){this.is=h;this.json=k;(0,l.lp)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.bEa=void 0;t=a(1);g=a(0);l=a(59);m=a(39);d=a(5);a=a(27);c.prototype.parse=function(h){var n;h=this.json.parse(h);if(!this.is.Gia(h))throw Error("FtlProbe: param: not an object");if(h.next && !this.is.$T(h.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.$T(h.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(h.pulse_delays && !this.is.ez(h.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.$T(h.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.ez(h.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Bn(h.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.jM(h.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var k=0;k < h.urls.length;++k){n=h.urls[k];if(!this.is.Gia(n))throw Error("FtlProbe: param.urls[" + k + "]: not an object");if(!this.is.aq(n.name))throw Error("FtlProbe: param.urls[" + k + "].name: not a string");if(!this.is.aq(n.url))throw Error("FtlProbe: param.urls[" + k + "].url: not a string");}return {lXb:h.pulses,y8a:h.pulse_delays?h.pulse_delays.map(d.Nc):[],kXb:(0,d.Nc)(h.pulse_timeout),R2a:h.next?(0,d.Nc)(h.next):void 0,urls:h.urls,esa:h.logblob,context:h.ctx};};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.hg)),t.__param(1,(0,g.l)(m.qF))],f);b.bEa=f;},function(t,b,a){var g,l,m,d,f,h,k,n,p;function c(q,u,r){this.za=q;this.Y5b=u;this.performance=r;(0,l.lp)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=void 0;t=a(1);l=a(59);m=a(283);d=a(52);f=a(39);h=a(38);k=a(0);n=a(499);p=a(5);c.prototype.get=function(q,u,r){var w;w=this;return new Promise(function(v,x){var y,z,A;try{y=w.Y5b.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",q,!0);u && (y.withCredentials=!0);r && (y.timeout=r.da(p.la));z=w.za.kf;A=void 0;y.onreadystatechange=function(){var B;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=w.za.kf.Ka(z);break;case XMLHttpRequest.DONE:B=w.za.kf.Ka(z);B={body:y.responseText,status:y.status,headers:g.oua(y.getAllResponseHeaders()),me:w.Loa(q,(0,d.fa)(y.responseText.length),B,A)};v(B);}};y.send();}catch(B){x(B);}});};c.oua=function(q){var u,w,v;u={};q=q.split("\r\n");for(var r=0;r < q.length;r++){w=q[r];v=w.indexOf(": ");0 < v && (u[w.substring(0,v).toLowerCase()]=w.substring(v + 2));}return u;};c.prototype.Loa=function(q,u,r,w){u={size:u,duration:r,yya:w};if(!this.performance || !this.performance.getEntriesByName)return u;r=this.performance.getEntriesByName(q);if(0 == r.length && (r=this.performance.getEntriesByName(q + "/"),0 == r.length))return u;q=r[r.length - 1];u=(0,m.xO)(u);q.decodedBodySize && (u.size=(0,d.fa)(q.decodedBodySize));0 < q.duration?u.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (u.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (u.qWa=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),u.sya=(0,p.timestamp)(q.connectEnd - q.connectStart),u.yya=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?u.Cya=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (r=q.connectEnd - q.secureConnectionStart,u.Cya=(0,p.timestamp)(r),u.sya=(0,p.timestamp)(q.connectEnd - q.connectStart - r)));return u;};a=g=c;a=g=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(h.gi)),t.__param(1,(0,k.l)(n.KNa)),t.__param(2,(0,k.l)(f.Wea)),t.__param(2,(0,k.optional)())],a);b.UEa=a;},function(t,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.v8a=void 0;t=a(0);c=a(325);g=a(1143);l=a(192);m=a(1144);b.v8a=new t.rd(function(d){d(c.ZCa).to(g.YCa).ba();d(l.XR).to(m.hGa).ba();});},function(t,b,a){var g,l,m,d,f,h,k,n;function c(p,q,u,r){this.ce=p;this.jz=q;this.a5b=u;this.sO=r;}Object.defineProperty(b,"__esModule",{value:!0});b.YCa=void 0;t=a(1);g=a(0);l=a(29);m=a(36);d=a(78);f=a(138);h=a(60);k=a(55);a=a(192);c.prototype.$g=function(p){var q;q=this;return this.ce.Vt(p.jk[0].data[0],[8,4])?Promise.resolve({xe:[{id:"ddd",gI:"cert",nX:void 0}],vj:[{sessionId:"ddd",data:new Uint8Array(this.jz.decode(k.ANa))}]}):this.ce.Vt(p.jk[0].data[0],this.a5b.decode("certificate"))?Promise.resolve({xe:[{id:"ddd",gI:"cert",nX:void 0}],vj:[{sessionId:"ddd",data:new Uint8Array(this.jz.decode(k.V0))}]}):this.sO.$y(this.GGb(p)).then(function(u){return q.HGb(u);});};c.prototype.release=function(p){return this.sO.release(this.KGb(p)).then(function(){});};c.prototype.GGb=function(p){var q,u;q=this;u=p.jk.map(function(r){return r.data.map(function(w){return {sessionId:r.sessionId,dataBase64:q.jz.encode(w)};});});return {ca:p.ca,Ai:p.Ai,K5:p.K5,$f:(0,h.Nra)(p.$f),Xo:f.uo[p.Xo],jk:u.reduce(function(r,w){return r.concat(w);},[]),CX:p.CX,yk:p.yk};};c.prototype.KGb=function(p){return {ca:p.ca,xe:p.xe};};c.prototype.HGb=function(p){return {xe:p.xe,vj:p.vj};};n=c;n=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.jg)),t.__param(1,(0,g.l)(m.Ji)),t.__param(2,(0,g.l)(d.Uv)),t.__param(3,(0,g.l)(a.XR))],n);b.YCa=n;},function(t,b,a){var g,l,m,d,f,h;function c(k,n,p,q,u){this.Nsb=k;this.kYb=n;this.E9a=q;this.mZb=u;this.wa=p.mb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.hGa=void 0;t=a(1);g=a(0);l=a(7);m=a(503);a(504);d=a(505);f=a(506);a=a(290);c.prototype.$y=function(k){var n,p;n=this;!1;p=this.E9a.n3b(k);return this.Nsb.zq(this.wa,k.yk,p).then(function(q){q.map(function(u){return u.cPb;});return n.mZb.Acb(q);}).catch(function(q){n.wa.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(k){var n;n=this;!1;k=this.E9a.q3b(k);return this.kYb.tg(this.wa,k).then(function(){return {aa:!0};}).catch(function(p){n.wa.error("PBO release license failed",p);return Promise.reject(p);});};h=c;h=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.MIa)),t.__param(1,(0,g.l)(d.AJa)),t.__param(2,(0,g.l)(l.ub)),t.__param(3,(0,g.l)(f.bJa)),t.__param(4,(0,g.l)(a.Sea))],h);b.hGa=h;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v;function c(x){return function(){return x.fb.get(g.vJa).Eb();};}Object.defineProperty(b,"__esModule",{value:!0});b.MI=void 0;t=a(0);g=a(156);l=a(259);m=a(291);d=a(507);f=a(1146);h=a(1147);k=a(508);n=a(1148);p=a(509);q=a(1149);u=a(292);r=a(1150);w=a(510);v=a(1151);b.MI=new t.rd(function(x){x(k.eKa).to(n.dKa).ba();x(l.Uea).to(m.rJa).ba();x(d.SIa).to(f.RIa).ba();x(g.vJa).to(h.uJa).ba();x(g.rS).s_(c);x(w.tJa).to(v.sJa).ba();x(p.YIa).to(q.XIa).ba().U_();x(u.xJa).to(r.wJa).ba();x(u.oJa).to(r.nJa).ba();x(u.qJa).to(r.pJa).ba();});},function(t,b,a){var m,d,f,h,k,n,p,q,u,r;function c(){}function g(){}function l(w,v,x,y,z){var A;A=this;this.is=w;this.no=v;this.config=x;this.gH=y;this.bVb=z;this.Hx=function(){return new c().encode({version:A.version,data:A.MI});};this.C4b=function(B){B=A.upgrade(B);A.bVb.validate(B);return B;};this.upgrade=function(B){var E;if(A.is.Bn(B))return A.D4b(B);E=B.version;if(void 0 != E && A.is.Qi(E) && 1 == E)return A.E4b(B);E=B.version;if(void 0 != E && A.is.Qi(E) && 2 == E)return new c().decode(B);if(B.version && A.is.Qi(B.version))throw new k.od(f.N.$B,f.M.dBa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new k.od(f.N.$B,f.M.WB,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.Us=new n.Oda(2,this.config().L7a,"" !== this.config().L7a && 0 < this.config().FVb,this.no,this.Hx);}Object.defineProperty(b,"__esModule",{value:!0});b.RIa=void 0;t=a(1);m=a(0);d=a(13);f=a(3);h=a(27);k=a(41);n=a(322);p=a(79);q=a(92);u=a(291);a=a(292);l.prototype.xXb=function(){return this.Us.load(this.C4b).catch(function(w){throw new k.od(f.N.$B,w.sa || w.Ec,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};l.prototype.ptb=function(w){return this.Us.add(w);};l.prototype.n9a=function(w){return this.Us.remove(w,function(v,x){return v.ca === x.ca;});};l.prototype.gza=function(w){return this.Us.update(w,function(v,x){return v.ca === x.ca;});};l.prototype.toString=function(){return JSON.stringify(this.Hx(),null,"  ");};l.prototype.wdb=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.gH().gl:"";};l.prototype.kza=function(w){return w.map(function(v){return {Dc:v.downloadableId,duration:v.duration};});};l.prototype.xdb=function(w){var v;return w?{total:w.playTimes.total,OJ:null !== (v=w.playTimes.totalContentTime) && void 0 !== v?v:w.playTimes.total,audio:this.kza(w.playTimes.audio || []),video:this.kza(w.playTimes.video || []),text:this.kza(w.playTimes.timedtext || [])}:{total:0,OJ:0,audio:[],video:[],text:[]};};l.prototype.D4b=function(w){var v,x,y;v=this;w=JSON.parse(w);x={type:"online",href:this.wdb(w.playbackContextId),ca:w.xid?w.xid.toString():"",K:w.movieId,position:w.position,NU:w.timestamp,CZ:w.playback?1E3 * w.playback.startEpoch:-1,BO:w.mediaId,wY:this.xdb(w.playback),trackId:"",Vm:{},profileId:w.accountKey};y=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.no.create().then(function(z){z.save(v.config().xV,y,!1);});if("" === x.href || "" === x.ca)throw new k.od(f.N.$B,f.M.WB);return {version:2,data:[x]};};l.prototype.E4b=function(w){var v;v=this;if(!w.playdata || !this.is.ez(w.playdata))throw new k.od(f.N.$B,f.M.WB,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:v.wdb(y.playbackContextId),ca:y.xid?y.xid.toString():"",K:y.movieId,position:y.position,NU:y.timestamp,CZ:y.playback?1E3 * y.playback.startEpoch:-1,BO:y.mediaId,wY:v.xdb(y.playback),trackId:"",Vm:{},profileId:y.profileId};});})(w.playdata)};};Ya.Object.defineProperties(l.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Us.version;}},MI:{configurable:!0,enumerable:!0,get:function(){return this.Us.yw;}}});r=l;r=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(h.hg)),t.__param(1,(0,m.l)(p.SB)),t.__param(2,(0,m.l)(d.bd)),t.__param(3,(0,m.l)(q.ay)),t.__param(4,(0,m.l)(a.qJa))],r);b.RIa=r;g.prototype.encode=function(w){var v;v=new u.L1();return w.map(v.encode);};g.prototype.decode=function(w){var v;v=new u.L1();return w.map(v.decode);};c.prototype.encode=function(w){return {version:w.version,data:new g().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new g().decode(w.data)};};},function(t,b,a){var m,d,f,h,k,n,p,q,u,r,w,v,x;function c(y,z,A,B,E,D,F,G){this.config=y;this.Oc=A;this.Mx=B;this.Tu=E;this.K$=D;this.Yh=F;this.cI=Promise.resolve();this.closed=!1;this.log=z.mb("PlaydataServices");this.LI=[];this.active=new Set();this.qZb=new g(y,G);}function g(y,z){this.config=y;this.za=z;}function l(y,z,A,B,E,D){this.log=y;this.Oc=z;this.ej=A;this.Tu=B;this.Mx=E;this.yVb=D;this.GXa=this.Nh=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.uJa=b.Ilb=void 0;t=a(1);m=a(0);d=a(5);f=a(7);h=a(48);k=a(259);n=a(507);p=a(508);q=a(3);u=a(291);r=a(509);w=a(106);v=a(38);a=a(142);l.prototype.J9=function(y,z){var B;function A(){var E;E=B.Tu.create(B.ej);B.Mx.gza(E).catch(function(D){var F;F=B.GXa?f.Sj.ega:f.Sj.Qf;B.GXa=!0;B.log.write(F,"Unable to save playdata changes to IDB",D);});}B=this;this.log.trace("Adding initial playdata",z);this.Mx.ptb(z).then(function(){B.log.trace("Scheduling monitor",{interval:y});B.Qs=B.Oc.yaa(y,A);}).catch(function(E){B.log.error("Unable to add playdata",{error:E,playdata:new u.L1().encode(z)});B.Qs=B.Oc.yaa(y,A);});};l.prototype.stop=function(y){var z,A;z=this;if(this.Nh)return Promise.resolve();this.Qs && this.Qs.cancel();A=this.Tu.create(this.ej);return this.Mx.gza(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(y){if(z.ej.background)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.yVb.C$a(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (z.log.trace("Removing playdata from the persisted store",A),z.Mx.n9a(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.K);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};l.prototype.cancel=function(){this.Nh=!0;this.Qs && this.Qs.cancel();this.Mx.gza(this.Tu.create(this.ej));};Ya.Object.defineProperties(g.prototype,{zwb:{configurable:!0,enumerable:!0,get:function(){var y;y=this.za.kf;return !this.cI || 0 <= y.Ka(this.cI).Ll(this.config.T2a)?(this.cI=y,!0):!1;}}});b.Ilb=g;c.prototype.Eb=function(){var y;y=this;this.PD || (this.log.trace("Starting playdata services"),this.PD=this.Mx.xXb().then(function(){!1;return y;}).catch(function(z){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return y;}));return this.PD;};c.prototype.close=function(){this.closed=!0;this.LI.forEach(function(y){y.J9.cancel();});};c.prototype.send=function(y){var z;if(this.closed)return Promise.resolve();z=this.config;return z.bP && z.$wa?this.g_b(y):Promise.resolve();};c.prototype.yp=function(y,z,A,B){var E;E=this;this.closed || (this.Uxa(y),this.cxa(y,B).catch(function(D){E.log.error("Start command failed",{playdata:D.MI,error:D.KV});}),z && this.Rxa(this.LIb(y),y,A));};c.prototype.WZ=function(y){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.Tu.create(y);this.active.delete(A.ca);y=ba((0,w.Qu)(function(E){return E.key === A.ca;},this.LI));B=y.next().value;this.LI=y.next().value;return Promise.all(B.map(function(E){E.stopped=!0;return E.J9.stop(z.config.$wa);})).then(function(){});};c.prototype.Uxa=function(y){var z,A;y.Ed("pdb");if(this.config.Cua.SNb()){z=this.Tu.create(y);A=z.ca;this.LI.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.LI.push({key:A,J9:this.cJb(y,z),Fx:!1,stopped:!1}));}};c.prototype.g_b=function(y){var z,A,B,E;z=this;A=this.Mx.MI.filter(function(D){return !z.active.has(D.ca);});B=void 0;E=void 0;y && Infinity === y?B=A:(A=ba((0,w.Qu)(function(D){return D.K === y;},A)),B=A.next().value,E=A.next().value);E && 0 < E.length && this.Oc.Jk(this.config.z$a,function(){z.B$a(E);});return B && 0 !== B.length?this.B$a(B):Promise.resolve();};c.prototype.B$a=function(y){var A;function z(B){return A.K$.C$a(B).then(function(){return A.xYb(B);});}A=this;return y.reduce(function(B,E){return B.then(function(){return z(E);});},Promise.resolve());};c.prototype.xYb=function(y){var z;z=this;return this.Mx.n9a(y).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.cJb=function(y,z){y=new l(this.log,this.Oc,y,this.Tu,this.Mx,this.K$);y.J9(this.config.Cua,z);return y;};c.prototype.cxa=function(y,z){var A,B;A=this;B=this.Tu.GAb(y,z);return this.K$.cxa(y,B).then(function(){!1;A.LI.filter(function(E){return E.key === y.ca.toString();}).forEach(function(E){E.Fx=!0;});}).catch(function(E){throw {MI:B,KV:E};});};c.prototype.A$a=function(y){return this.qZb.zwb?this.yZ(r.Rea.dX,y,q.N.Uda):Promise.resolve();};c.prototype.Iaa=function(y){return this.yZ(r.Rea.splice,y,q.N.xLa);};c.prototype.yZ=function(y,z,A){var E;function B(D){var F;F=E.LI.filter(function(G){return G.key === D.ca.toString();});return 0 === F.length?!0:F.reduce(function(G,C){return G || C.stopped || !C.Fx;},!1);}E=this;return B(z)?this.cI:this.cI=this.cI.catch(function(){return Promise.resolve();}).then(function(){var D;if(B(z))return Promise.resolve();!1;D=E.Tu.create(z);return E.K$.yZ(y,z,D);}).then(function(D){!1;return D;}).catch(function(D){var F;E.log.error("Failed to send event",{eventKey:y,xid:z.ca,error:D});D.sk?F=E.Yh(A,D):D.RA === q.v1.Zfa && (F=E.Yh(A,D));throw {KV:D,fP:F};});};c.prototype.Rxa=function(y,z,A){var B;B=this;!1;this.Vka();this.pra=this.Oc.Jk(y,function(){B.Vka();B.yZ(r.Rea.dX,z,q.N.Uda).then(function(){B.Rxa(y,z,A);}).catch(function(E){var D;D=E.KV;(E=E.fP) && A(E);D.RA === q.v1.Zfa && B.Rxa(y,z,A);});});};c.prototype.hbb=function(){this.Vka();};c.prototype.Vka=function(){this.pra && (this.pra.cancel(),this.pra=void 0);};c.prototype.LIb=function(y){return y.bb.Vpa?(0,d.Nc)(y.bb.Vpa):this.config.S2a;};x=c;x=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(p.eKa)),t.__param(1,(0,m.l)(f.ub)),t.__param(2,(0,m.l)(h.Wj)),t.__param(3,(0,m.l)(n.SIa)),t.__param(4,(0,m.l)(k.Uea)),t.__param(5,(0,m.l)(r.YIa)),t.__param(6,(0,m.l)(a.uS)),t.__param(7,(0,m.l)(v.gi))],x);b.uJa=x;},function(t,b,a){var g,l,m,d,f,h;function c(k,n){k=l.bf.call(this,k,"PlaydataConfigImpl") || this;k.config=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.dKa=void 0;t=a(1);g=a(0);l=a(47);m=a(37);d=a(46);f=a(5);a=a(42);na(c,l.bf);Ya.Object.defineProperties(c.prototype,{bP:{configurable:!0,enumerable:!0,get:function(){return this.config.Jw?"unsentplaydatatest":"unsentplaydata";}},$wa:{configurable:!0,enumerable:!0,get:function(){return !0;}},z$a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Nc)(1E4);}},Cua:{configurable:!0,enumerable:!0,get:function(){return (0,f.Nc)(4E3);}},S2a:{configurable:!0,enumerable:!0,get:function(){return (0,f.H9)(1);}},T2a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ch)(30);}}});h=c;t.__decorate([d.config(d.string,"playdataPersistKey")],h.prototype,"bP",null);t.__decorate([d.config(d.cd,"sendPersistedPlaydata")],h.prototype,"$wa",null);t.__decorate([d.config(d.ml,"playdataSendDelayMilliseconds")],h.prototype,"z$a",null);t.__decorate([d.config(d.ml,"playdataPersistIntervalMilliseconds")],h.prototype,"Cua",null);t.__decorate([d.config(d.ml,"heartbeatCooldown")],h.prototype,"S2a",null);t.__decorate([d.config(d.ml,"keepAliveWindow")],h.prototype,"T2a",null);h=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.fm)),t.__param(1,(0,g.l)(a.jn))],h);b.dKa=h;},function(t,b,a){var g,l,m;function c(d,f){this.RU=f;this.log=d.mb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.XIa=void 0;t=a(1);g=a(88);l=a(7);a=a(0);c.prototype.cxa=function(d,f){var h;h=this.RU(g.Ip.start);return this.zXa(h,d,f);};c.prototype.C$a=function(d){var f;f=this;return this.RU(g.Ip.stop).tg(this.log,d).then(function(){}).catch(function(h){f.log.error("PBO stop event failed",h);throw h;});};c.prototype.yZ=function(d,f,h){d=this.RU(d);return this.zXa(d,f,h);};c.prototype.zXa=function(d,f,h){var k;k=this;return d.zq(this.log,f.oa.yk,h).then(function(){}).catch(function(n){k.log.error("PBO event failed",n);throw n;});};m=c;m=t.__decorate([(0,a.T)(),t.__param(0,(0,a.l)(l.ub)),t.__param(1,(0,a.l)(g.uda))],m);b.XIa=m;},function(t,b,a){var m,d,f,h;function c(){}function g(k){this.aVb=k;}function l(k){this.cVb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.wJa=b.pJa=b.nJa=void 0;t=a(1);m=a(0);d=a(292);f=a(41);h=a(3);l.prototype.validate=function(k){k.map(this.cVb.validate);};a=l;a=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(d.xJa))],a);b.nJa=a;g.prototype.validate=function(k){this.aVb.validate(k.data);};a=g;a=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(d.oJa))],a);b.pJa=a;c.prototype.validate=function(k){var n;k.ca && "string" === typeof k.ca?k.href && "string" === typeof k.href?k.profileId && "string" === typeof k.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new f.od(h.N.$B,h.M.WB,void 0,void 0,void 0,n,void 0,k.ca);};d=c;d=t.__decorate([(0,m.T)()],d);b.wJa=d;},function(t,b,a){var g,l,m,d;function c(f,h){this.r7a=h;this.log=f.mb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.sJa=void 0;t=a(1);g=a(0);l=a(7);m=a(15);a=a(156);c.prototype.yp=function(f){var h;h=this;this.r7a().then(function(k){f.addEventListener(m.ea.hI,function(n){var p;if(void 0 !== n.iP){p=f.zD(n.iP);k.WZ(p);n.l8 || new Promise(function(q){var u;if(f.Fj.value)q();else {u=function(r){r.newValue && (q(),f.Fj.removeListener(u));};f.Fj.addListener(u);}}).then(function(){return k.yp(f,h.Aab(f),function(q){return f.TG(q);},f.JM);});}});f.addEventListener(m.ea.Vq,function(){k.yp(f.ja,h.Aab(f),function(n){return f.TG(n);},f.JM);});f.background || f.addEventListener(m.ea.oX,function(n){n=f.zD(n.K);k.Uxa(n);});f.addEventListener(m.ea.pg,function(){k.hbb();});f.addEventListener(m.ea.Pdb,function(){k.A$a(f.ja).catch(function(n){(n=n.fP) && f.TG(n);});});f.kc.addListener(function(){f.bb.sma?h.log.trace("stickiness is disabled for timedtext"):k.Iaa(f.ja);});f.tc.addListener(function(){f.bb.sma?h.log.trace("stickiness is disabled for audio"):k.Iaa(f.ja).catch(function(n){(n=n.fP) && f.TG(n);});});});};c.prototype.Aab=function(f){return f.state.value == m.Sb.te;};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub)),t.__param(1,(0,g.l)(a.rS))],d);b.sJa=d;},function(t,b,a){var g,l,m,d,f,h,k,n;function c(p){return function(){return new Promise(function(q,u){var r;r=p.fb.get(l.gDa);r.Eb().then(function(){q(r);}).catch(function(w){u(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.JWa=void 0;t=a(0);g=a(511);a(1153);l=a(513);m=a(1155);d=a(104);f=a(1156);h=a(514);k=a(1157);n=a(1158);a(1159);b.JWa=new t.rd(function(p){p(h.qGa).to(k.pGa).ba();p(g.dDa).to(n.rGa);p(d.SQ).to(f.fAa).ba();p(l.gDa).to(m.eDa).ba();p(l.fDa).s_(c);});},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p,q){var u;u=f.ES.call(this,n,p,"idb") || this;u.no=q;u.d$a=function(r){u.tCb(r.target.id).then(function(){return u.refresh();});};u.yTb=function(){u.Bxb().then(function(){return u.refresh();});};u.WTb=function(){u.refresh();};u.BTb=function(){u.Iyb();};return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Ajb=void 0;t=a(1);g=a(0);l=a(29);m=a(27);d=a(190);f=a(512);h=a(135);k=a(293);na(c,f.ES);c.prototype.Eb=function(){var n;n=this;if(this.Un)return Promise.resolve();nb.addEventListener("keydown",function(p){p.ctrlKey && p.altKey && p.shiftKey && p.keyCode == h.Gv.yib && n.toggle();});return this.no.create().then(function(p){n.storage=p;n.Un=!0;});};c.prototype.jl=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.cpa=function(n,p,q){var u;n=n.toString();u='<font color="#C41A16">"' + p + '"</font>';q=this.qb.ti({name:p,data:q});return '<tr><td><span class="' + (this.prefix + '-display-indexvalue">' + n + '</span></td><td><span class="') + (this.prefix + '-display-keyvalue">' + u + '</span></td><td style="border-right:solid 0px"><ul class="') + (this.prefix + '-display-tree">' + q + '</ul></td><td style="border-left:solid 0px"><ul class="') + (this.prefix + '-display-item-inline"><button id="' + p + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td></tr>');};c.prototype.rpa=function(n){var p,q;p=this;q='<table class="' + this.prefix + '-display-table" width="100%">' + this.jl();Object.entries(n).forEach(function(u,r){var w;w=ba(u);u=w.next().value;w=w.next().value;q+=p.cpa(r,u,w);});return q + "</table>";};c.prototype.iZa=function(){var n,p,q;n=this.ce.createElement("button",f.kK,"Clear",{"class":this.prefix + "-display-btn"});p=this.ce.createElement("button",f.kK,"Refresh",{"class":this.prefix + "-display-btn"});q=this.ce.createElement("button",f.kK,"Copy",{"class":this.prefix + "-display-btn"});n.onclick=this.yTb;p.onclick=this.WTb;q.onclick=this.BTb;return [n,p,q];};c.prototype.FPb=function(){var n;n=this;return this.storage.loadAll().then(function(p){n.a1a=p.reduce(function(q,u){q[u.key]=u.value;return q;},{});return n.a1a;});};c.prototype.tCb=function(n){return this.storage.remove(n);};c.prototype.Bxb=function(){return this.storage.removeAll();};c.prototype.e9a=function(){var n;n=this;return this.FPb().then(function(p){return n.rpa(p);});};c.prototype.Iyb=function(){var n;n=JSON.stringify(this.a1a,null,4);k.w0.ula(n);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.jg)),t.__param(1,(0,g.l)(m.hg)),t.__param(2,(0,g.l)(d.Pda))],a);b.Ajb=a;},function(t,b){function a(c){this.is=c;this.yOb="#881391";this.F1b="#C41A16";this.Bvb=this.cTb="#1C00CF";this.bNb="#D79BDB";this.R3b=this.ZSb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.YMa=void 0;a.prototype.ti=function(c){return this.getValue("~~NONAME~~",c);};a.prototype.xD=function(c,g){return '<font color="' + ((void 0 === g?0:g)?this.bNb:this.yOb) + '">' + c + ": </font>";};a.prototype.KYa=function(c,g){g=g || "";c='<li><a href="#">' + this.xD(c) + "Array[" + g.length + "]</a>";c+="<ul>";for(var l=0;l < g.length;++l){c+=this.getValue(l.toString(),g[l]);}c+=this.getValue("length",g.length,!0);return c + "</ul></li>";};a.prototype.q_a=function(c,g){var l,m;l=this;if(g instanceof CryptoKey)return this.NHb(c,g);m="";m+='<li><a href="#">' + ("~~NONAME~~" !== c?this.xD(c):"") + "Object</a>";m+="<ul>";Object.entries(g).forEach(function(d){var f;f=ba(d);d=f.next().value;f=f.next().value;m=d.startsWith("$")?m + l.getValue(d,"REMOVED"):m + l.getValue(d,f);});m+="</ul>";return m+="</li>";};a.prototype.NHb=function(c,g){c='<li><a href="#">' + this.xD(c) + "CryptoKey</a>";c=c + "<ul>" + this.q_a("algorithm",g.algorithm);c+=this.QYa("extractable",g.extractable);c+=this.V_a("type",g.type);c+=this.KYa("usages",g.usages);return c + "</ul></li>";};a.prototype.qJb=function(c,g,l){return '<li><a href="#">' + this.xD(c,void 0 === l?!1:l) + ('<font color="' + this.cTb + '">' + g.toString() + "</font></a></li>");};a.prototype.QYa=function(c,g,l){return '<li><a href="#">' + this.xD(c,void 0 === l?!1:l) + ('<font color="' + this.Bvb + '">' + g.toString() + "</font></a></li>");};a.prototype.V_a=function(c,g,l){128 < g.length && (g=g.substr(0,128) + "...");return '<li><a href="#">' + this.xD(c,void 0 === l?!1:l) + ('<font color="' + this.F1b + '">"' + g + '"</font></a></li>');};a.prototype.pJb=function(c){return '<li><a href="#">' + this.xD(c) + ('<font color="' + this.ZSb + '">null</font></a></li>');};a.prototype.zKb=function(c,g){g="undefined" === typeof g?"":g.toString();255 < g.length && (g=g.substr(0,255) + "...");return '<li><a href="#">' + this.xD(c) + ('<font color="' + this.R3b + '">' + g + "</font></a></li>");};a.prototype.getValue=function(c,g,l){l=void 0 === l?!1:l;return null === g?"" + this.pJb(c):this.is.ez(g)?"" + this.KYa(c,g):this.is.jM(g)?"" + this.q_a(c,g):this.is.aq(g)?"" + this.V_a(c,g,l):this.is.Qi(g)?"" + this.qJb(c,g,l):this.is.ZT(g)?"" + this.QYa(c,g,l):"" + this.zKb(c,g);};b.YMa=a;},function(t,b,a){var g,l;function c(m){this.dDb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.eDa=void 0;t=a(1);g=a(0);a=a(511);c.prototype.Eb=function(){var m;m=this;this.PD || (this.PD=new Promise(function(d,f){var h;h=[];m.dDb.forEach(function(k){h.push(k.Eb());});Promise.all(h).then(function(){d();}).catch(function(k){f(k);});}));return this.PD;};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.uI)(a.dDa))],l);b.eDa=l;},function(t,b,a){var g,l;function c(){this.Twa="";this.eeb=[[],[]];this.Y=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.fAa=void 0;t=a(1);g=a(0);a(5);l=a(104);c.prototype.downloadRequest=function(m){var d;"" === this.Twa && (this.Twa=m.ha);if(!m.dd){d=this.T2b(m);this.Y[m.mediaType].push(d);this.eeb[m.mediaType].forEach(function(f){f.Tac(d);});}};c.prototype.T2b=function(m){return {id:m.wi(),ha:m.ha,mediaType:m.mediaType,mk:m.mk,startTime:m.eB,endTime:m.vx,offset:m.dv,xM:m.xM,wM:m.wM,duration:m.hs,bitrate:m.bitrate,state:l.xca.CWa,Fj:!1,Zcc:!1,v0a:!1,Sbc:l.wca.waiting};};c.prototype.update=function(m){this.eeb[m.mediaType].forEach(function(d){d.Sfc(m);});};Ya.Object.defineProperties(c.prototype,{ha:{configurable:!0,enumerable:!0,get:function(){return this.Twa;}}});a=c;a=t.__decorate([(0,g.T)()],a);b.fAa=a;},function(t,b,a){var g,l,m,d,f;function c(h,k){h=m.bf.call(this,h,"LogDisplayConfigImpl") || this;h.vh=k;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.pGa=void 0;t=a(1);g=a(0);l=a(46);m=a(47);d=a(37);a=a(111);na(c,m.bf);Ya.Object.defineProperties(c.prototype,{fZ:{configurable:!0,enumerable:!0,get:function(){return !0;}},uO:{configurable:!0,enumerable:!0,get:function(){return this.vh.uO;}},H3a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});f=c;t.__decorate([l.config(l.cd,"renderDomDiagnostics")],f.prototype,"fZ",null);t.__decorate([l.config(l.QD,"logDisplayMaxEntryCount")],f.prototype,"uO",null);t.__decorate([l.config(l.QD,"logDisplayAutoshowLevel")],f.prototype,"H3a",null);f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(d.fm)),t.__param(1,(0,g.l)(a.KF))],f);b.pGa=f;},function(t,b,a){var m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A;function c(B,E,D,F,G,C,H,K,M,I){var Q;Q=this;this.za=B;this.og=E;this.ce=D;this.Oc=F;this.lo=G;this.config=C;this.gH=H;this.uya=K;this.HBb=M;this.no=I;this.A2b=function(){Q.F_.Xl(function(){Q.update();});};this.clear=function(){Q.entries=[];Q.update();};this.j5a=function(){Q.Ne.mO=!Q.Ne.mO;Q.cE && Q.gE && (Q.Ne.mO?(Q.cE.style.display="inline-block",Q.gE.style.display="none"):(Q.gE.style.display="inline-block",Q.cE.style.display="none"));Q.tJ(!1);};this.YPb=function(L){var J;Q.entries.push(L);J=Q.config.uO;0 <= J && Q.entries.length > J && Q.entries.shift();void 0 === Q.Ne.rz[L.Ro] && (Q.Ne.rz[L.Ro]=!0,Q.tJ(!1));Q.Ne.isVisible && !Q.Sbb?Q.A2b():Q.F_.Xl();};this.lDb=function(){l.download("all",Q.entries.map(function(L){return L.qba(!1,!1);})).catch(function(L){console.error("Unable to download all logs to the file",L);});};this.Un=!1;this.Ne={isVisible:!1,mO:!0,F5:!0,Yra:r.Sj.Kda,rz:{}};this.F_=this.uya((0,p.Ch)(1));this.IFb=this.HBb((0,p.Nc)(250));this.entries=[];!1;!1;}function g(B){var E;this.elements=[];E=document.createElementNS(g.d_,"svg");E.setAttribute("viewBox",B);this.elements.push(E);}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.rGa=void 0;t=a(1);m=a(0);d=a(29);f=a(115);h=a(344);k=a(48);n=a(38);p=a(5);q=a(19);u=a(92);r=a(7);w=a(116);v=a(294);x=a(514);y=a(79);z=a(135);A=a(293);l.download=function(B,E){return l.lIb(B).then(function(D){return l.qKb(D,E.join("\r\n")).then(function(F){return l.jDb(F.filename,F.text);});});};l.lIb=function(B){return new Promise(function(E,D){var F,G,C,H,K,M,I;try{F=new Date();G=F.getDate().toString();C=(F.getMonth() + 1).toString();H=F.getFullYear().toString();K=F.getHours().toString();M=F.getMinutes().toString();I=F.getSeconds().toString();1 === G.length && (G="0" + G);1 === C.length && (C="0" + C);1 === K.length && (K="0" + K);1 === M.length && (M="0" + M);1 === I.length && (I="0" + I);E(H + C + G + K + M + I + "." + B + ".log");}catch(Q){D(Q);}});};l.qKb=function(B,E){return new Promise(function(D,F){try{D({filename:B,text:URL.createObjectURL(new Blob([E],{type:"text/plain"}))});}catch(G){F(G);}});};l.jDb=function(B,E){var D;try{D=document.createElement("a");D.setAttribute("href",E);D.setAttribute("download",B);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(F){return Promise.reject(F);}};g.prototype.aQ=function(){var B;B=document.createElementNS(g.d_,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};g.prototype.cQ=function(B,E,D){var F;F=document.createElementNS(g.d_,"path");F.setAttribute("d",B);E && F.setAttribute("fill",E);D && F.setAttribute("fill-rule",D);this.addElement(F);return this;};g.prototype.TZ=function(B,E,D,F,G){var C;G=void 0 === G?"#000000":G;C=document.createElementNS(g.d_,"rect");C.setAttribute("x",B.toString());C.setAttribute("y",E.toString());C.setAttribute("height",D.toString());C.setAttribute("width",F.toString());G && C.setAttribute("fill",G);this.addElement(C);return this;};g.prototype.j1b=function(){var B;B=document.createElementNS(g.d_,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};g.prototype.end=function(){this.elements.pop();return this;};g.prototype.ti=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};g.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Ya.Object.defineProperties(g,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},dH:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});g.d_="http://www.w3.org/2000/svg";c.prototype.Eb=function(){var B;B=this;this.PD || (this.PD=new Promise(function(E){nb.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.Gv.Djb?B.toggle():D.keyCode == z.Gv.E && A.w0.ula(B.gH().gl));});B.lo.gaa(v.dea.Ugb,B.YPb);E();}));return this.PD;};c.prototype.show=function(){document.body && (this.element || (this.uAb(),this.Un=!0),!this.Ne.isVisible && this.element && (document.body.appendChild(this.element),this.Ne.isVisible=!0,this.update(!0)));};c.prototype.rs=function(){this.Un && this.Ne.isVisible && this.element && (document.body.removeChild(this.element),this.Ne.isVisible=!1);};c.prototype.toggle=function(){this.Ne.isVisible?this.rs():this.show();this.tJ(!1);};c.prototype.uAb=function(){var B,E;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});E=this.createElement("style");E.type="text/css";E.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(E);B.appendChild(this.zp=this.lBb());B.appendChild(this.mBb());B.appendChild(this.oAb());this.element=B;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.lBb=function(){var B,E;B=this;E=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");E.setAttribute("wrap","off");E.setAttribute("readonly","readonly");E.addEventListener("focus",function(){B.Sbb=!0;B.update();B.zp && (B.zp.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});E.addEventListener("blur",function(){B.Sbb=!1;B.update();B.zp && (B.zp.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return E;};c.prototype.mBb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.NAb());B.appendChild(this.EAb());B.appendChild(this.zAb());B.appendChild(this.oBb());B.appendChild(this.sAb());B.appendChild(this.TAb());B.appendChild(this.RAb());B.appendChild(this.BAb());B.appendChild(this.tAb());return B;};c.prototype.oAb=function(){var B,E,D,F,G,C;B=this;E=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");F=this.createElement("select",this.Pw(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");E.appendChild(D);E.appendChild(G);D.appendChild(F);D.addEventListener("mousedown",function(H){H.preventDefault();});C=!1;D.addEventListener("click",function(){C?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.Ne.rz).sort()).forEach(function(H){G.appendChild(B.pAb(H,D));}),G.style.display="block");C=!C;});return E;};c.prototype.pAb=function(B,E){var D,F,G;D=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.Ne.rz[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(D.Ne.rz).forEach(function(C){D.Ne.rz[C]="all" === B;}),E.click()):D.Ne.rz[B]=!D.Ne.rz[B];D.tJ(!0);});F.appendChild(G);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.NAb=function(){var B,E;B=this;E=this.createElement("select",this.Pw(22,NaN,1,2),'<option value="' + r.Sj.Qf + '">Error</option><option value="' + (r.Sj.ega + '">Warn</option><option value="') + (r.Sj.Kda + '">Info</option><option value="') + (r.Sj.yMa + '">Trace</option><option value="') + (r.Sj.ia + '">Debug</option>'));E.value=this.Ne.Yra.toString();E.addEventListener("change",function(D){B.Ne.Yra=parseInt(D.target.value);B.tJ(!0);},!1);return E;};c.prototype.EAb=function(){var E,D;function B(F){return E.IFb.Xl(function(){var G;G=F.target.value;E.Ne.filter=G?new RegExp(G):void 0;E.tJ(!0);});}E=this;D=this.createElement("input",this.Pw(14,150,1,2));D.value=this.Ne.filter?this.Ne.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",B,!1);D.addEventListener("change",B,!1);return D;};c.prototype.zAb=function(){var B,E,D,F;B=this;E=this.createElement("div",this.Pw(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.Ne.F5;D.addEventListener("change",function(G){B.Ne.F5=G.target.checked;B.tJ(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";E.appendChild(D);E.appendChild(F);return E;};c.prototype.oBb=function(){var B,E,D;B=this;E=this.createElement("button",this.Pw());D=new g("0 0 24 24").aQ().j1b().end().cQ("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",g.dH,"nonzero").end().end().ti();E.appendChild(D);E.addEventListener("click",function(){B.update();},!1);E.setAttribute("title","Refresh the log console");return E;};c.prototype.sAb=function(){var B,E;B=this.createElement("button",this.Pw());E=new g("0 0 24 24").aQ().TZ(0,0,24,24,g.background).end().cQ("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",g.dH).end().end().ti();B.appendChild(E);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.TAb=function(){var B;this.gE=this.createElement("button",this.Pw());this.gE.style.display=this.Ne.mO?"none":"inline-block";B=new g("0 0 24 24").aQ().TZ(0,0,24,24,g.background).end().cQ("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",g.dH,"nonzero").end().end().ti();this.gE.addEventListener("click",this.j5a,!1);this.gE.appendChild(B);this.gE.setAttribute("title","Shrink the log console");return this.gE;};c.prototype.RAb=function(){var B;this.cE=this.createElement("button",this.Pw());this.cE.style.display=this.Ne.mO?"inline-block":"none";B=new g("0 0 24 24").aQ().TZ(4,4,16,16,g.background).end().cQ("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",g.dH,"nonzero").end().end().ti();this.cE.addEventListener("click",this.j5a,!1);this.cE.appendChild(B);this.cE.setAttribute("title","Expand the log console");return this.cE;};c.prototype.BAb=function(){var B,E;B=this.createElement("button",this.Pw());E=new g("0 0 26 26").aQ().TZ(0,0,24,24,g.background).end().cQ("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",g.dH,"nonzero").end().end().ti();B.appendChild(E);B.addEventListener("click",this.lDb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.tAb=function(){var B,E,D;B=this;E=this.createElement("button",this.Pw());D=new g("0 0 24 24").aQ().TZ(0,0,24,24,g.background).end().cQ("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",g.dH,"nonzero").end().end().ti();E.appendChild(D);E.addEventListener("click",function(){B.toggle();},!1);E.setAttribute("title","Close the log console");return E;};c.prototype.tJ=function(B){var E;B=void 0 === B?!1:B;E=void 0 === E?!1:E;!1;B && this.update(E);};c.prototype.update=function(B){var E;E=this;B=void 0 === B?!1:B;this.element && this.config.fZ && Promise.resolve(this.Qvb() + this.mIb().join("\r\n")).then(function(D){E.element && E.zp && (E.zp.value=D,E.element.style.cssText=E.Ne.mO?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && E.Oc.Jk(p.eb,function(){E.zp.scrollTop=E.zp.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.mIb=function(){var B,E;B=this;E=[];this.entries.forEach(function(D){(D.level || D.level) <= B.Ne.Yra && B.Ne.rz[D.Ro] && (D=D.qba(!B.Ne.F5,!B.Ne.F5),B.Ne.filter && !B.Ne.filter.test(D) || E.push(D));});return E;};c.prototype.Qvb=function(){var B;B=this.gH();return "Version: 6.0034.571.911 \n" + ((B?"Esn: " + B.gl:"") + "\nJsSid: ") + (this.og.id + ", Epoch: " + this.za.kf.da(p.Ao) + ", Start: " + this.og.zA.da(p.Ao) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,E,D,F){return this.ce.createElement(B,E,D,F);};c.prototype.Pw=function(B,E,D,F){B=void 0 === B?26:B;E=void 0 === E?26:E;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + g.dH + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(E)?"":"width:" + E + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.t1b="logDxDisplay";a=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(n.gi)),t.__param(1,(0,m.l)(q.md)),t.__param(2,(0,m.l)(d.jg)),t.__param(3,(0,m.l)(k.Wj)),t.__param(4,(0,m.l)(w.EK)),t.__param(5,(0,m.l)(x.qGa)),t.__param(6,(0,m.l)(u.ay)),t.__param(7,(0,m.l)(f.WK)),t.__param(8,(0,m.l)(h.uCa)),t.__param(9,(0,m.l)(y.SB))],a);b.rGa=a;},function(t,b,a){var g,l,m,d,f,h,k,n;function c(p,q,u){var r;r=h.ES.call(this,p,q,"network") || this;r.Tla=u;r.G5=f.yCa.hkb;r.HQb=30;r.hUb=function(w){r.G5=w.target.value;r.refresh();};r.xTb=function(){r.data={};r.refresh();};r.d$a=function(w){var v,x;v=Number(w.target.id);w=w.target.getAttribute("data-type");v=r.data[r.G5][v].value;x=JSON.stringify(v,null,4);"copy" === w?n.w0.ula(x):"log" === w && console.log(v);};return r;}Object.defineProperty(b,"__esModule",{value:!0});b.Akb=void 0;t=a(1);g=a(0);l=a(29);m=a(27);d=a(98);f=a(191);h=a(512);k=a(135);n=a(293);na(c,h.ES);c.prototype.Eb=function(){var p;p=this;if(this.Un)return Promise.resolve();nb.addEventListener("keydown",function(q){q.ctrlKey && q.altKey && q.shiftKey && q.keyCode == k.Gv.okb && p.toggle();});this.data={};this.Tla.addListener(f.ida.Hlb,function(q){var u;p.data[q.type] || (p.data[q.type]=[]);u=p.data[q.type];u.length === p.HQb && u.shift();u.push(q);q.type === p.G5 && p.refresh();});this.Un=!0;return Promise.resolve();};c.prototype.jl=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.cpa=function(p,q,u){var r;r=p.toString();q='<font color="#C41A16">"' + q + '"</font>';u=this.qb.ti(u);return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + r + '</span></td>\n                <td><span class="' + this.prefix + '-display-keyvalue">' + q + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + u + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + p + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + p + '" class="' + this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};c.prototype.rpa=function(){for(var p='<table class="' + this.prefix + '-display-table" width="100%">' + this.jl(),q=this.data[this.G5] || [],u=0;u < q.length;++u){p+=this.cpa(u,q[u].name,q[u].value);}return p + "</table>";};c.prototype.iZa=function(){var p;p=this.ce.createElement("button",h.kK,"Clear",{"class":this.prefix + "-display-btn"});p.onclick=this.xTb;return [p,this.nBb(),this.bBb()];};c.prototype.nBb=function(){var p;p=this.ce.createElement("select",h.kK,Object.values(f.yCa).reduce(function(q,u){return q + ('<option value="' + u + '">' + u + "</option>");},""),{"class":this.prefix + "-display-select"});p.onchange=this.hUb;return p;};c.prototype.bBb=function(){var p,q,u,r;p=this;q=this.ce.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});q.checked=this.JY;q.onchange=function(){return p.$2b();};u=this.ce.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});r=this.ce.createElement("div",void 0,void 0,{"class":this.prefix + "-display-div"});r.appendChild(q);r.appendChild(u);return r;};c.prototype.e9a=function(){return Promise.resolve(this.rpa());};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.jg)),t.__param(1,(0,g.l)(m.hg)),t.__param(2,(0,g.l)(d.M0))],a);b.Akb=a;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;t=a(0);c=a(488);g=a(11);b.crypto=new t.rd(function(l){l(c.gCa).Mj(g.x1);});},function(t,b,a){var c,g,l,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.se=void 0;t=a(0);c=a(1162);g=a(1163);l=a(1164);m=a(140);d=a(323);f=a(493);h=a(1165);k=a(1166);n=a(515);p=a(1167);b.se=new t.rd(function(q){q(m.f2).to(c.sMa).ba();q(d.vfa).to(l.YKa).ba();q(f.nNa).to(g.mNa).ba();q(h.Mkb).to(k.lIa).ba();q(n.GNa).to(p.FNa).ba();});},function(t,b,a){var g,l,m,d,f,h;function c(k,n){this.is=k;this.json=n;(0,l.lp)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.sMa=void 0;t=a(1);l=a(59);m=a(39);d=a(0);f=a(27);h=a(140);c.prototype.M8a=function(k){var n;n=this;return g.read(k,function(p){return parseInt(p);},function(p){return n.is.kja(p);});};c.prototype.Fva=function(k){var n;n=this;return g.read(k,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.ZT(p);});};c.prototype.Zq=function(k){var n;n=this;return g.read(k,function(p){return parseInt(p);},function(p){return n.is.hU(p);});};c.prototype.vXb=function(k){var n;n=this;return g.read(k,function(p){return parseFloat(p);},function(p){return n.is.Qi(p);});};c.prototype.L8a=function(k,n){return g.read(k,function(p){return g.RFb(p,n);},function(p){return void 0 !== p;});};c.prototype.Mva=function(k,n){return g.read(k,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.N8a=function(k){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return g.read(k,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.jM(q) && p(q);});}catch(q){return new h.Lp();}};c.prototype.Zh=function(k,n,p){var q,u;q=this;p=void 0 === p?1:p;k=k.trim();u=n instanceof Function?n:this.UAb(n,p);n=k.indexOf("[");p=k.lastIndexOf("]");if(0 != n || p != k.length - 1)return new h.Lp();k=k.substring(n + 1,p);try{return g.QUb(k).map(function(r){r=u(q,g.h5b(r));if(r instanceof h.Lp)throw r;return r;});}catch(r){return r instanceof h.Lp?r:new h.Lp();}};c.prototype.UAb=function(k,n){var p;p=this;n=void 0 === n?1:n;return function(q,u){q=g.tJb(k);return 1 < n?p.Zh(u,k,n - 1):q(p,u);};};c.RFb=function(k,n){var q;for(var p in n){q=parseInt(p);if(n[q] == k)return q;}};c.read=function(k,n,p){k=n(k);return void 0 !== k && p(k)?k:new h.Lp();};c.tJb=function(k){switch(k){case "int":return function(n,p){return n.M8a(p);};case "bool":return function(n,p){return n.Fva(p);};case "uint":return function(n,p){return n.Zq(p);};case "float":return function(n,p){return n.vXb(p);};case "string":return function(n,p){return n.Mva(p);};case "object":return function(n,p){return n.N8a(p);};}};c.QUb=function(k){var x;for(var n=[["[","]"]],p=[],q=0,u=0,r=0,w=[],v={};u < k.length;(v={MQ:v.MQ},++u)){v.MQ=k.charAt(u);x=void 0;"," == v.MQ && 0 == r?(p.push(k.substr(q,u - q)),q=u + 1):(x=n.find((function(y){return function(z){return z[0] == y.MQ;};})(v)))?(++r,w.push(x)):0 < w.length && w[w.length - 1][1] == v.MQ && (--r,w.pop());}if(q != u)p.push(k.substr(q,u - q));else if(q == u && 0 < q)throw new h.Lp();return p;};c.h5b=function(k){var n;n=k.charAt(0);if('"' == n || "'" == n){if(k.charAt(k.length - 1) != n)throw new h.Lp();return k.substring(1,k.length - 1);}return k;};a=g=c;a=g=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(f.hg)),t.__param(1,(0,d.l)(m.qF))],a);b.sMa=a;},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mNa=void 0;t=a(1);a=a(0);c.prototype.GYa=function(l){var m;m=this;return l?(l ^ 16 * Math.random() >> l / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return m.GYa(d);});};g=c;g=t.__decorate([(0,a.T)()],g);b.mNa=g;},function(t,b,a){var g,l,m,d;function c(f){this.location=f;(0,l.lp)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.YKa=void 0;t=a(1);l=a(59);m=a(39);a=a(0);c.pY=function(f){var h,n,p;h={};if(0 < f.length){f=f.split("&");for(var k=0;k < f.length;k++){n=f[k].trim();p=n.indexOf("=");0 <= p?h[decodeURIComponent(n.substr(0,p).replace(g.FIa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(g.FIa,"%20")):h[n.toLowerCase()]="";}}return h;};Ya.Object.defineProperties(c.prototype,{oXb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=g.pY(this.A8a);}},A8a:{configurable:!0,enumerable:!0,get:function(){var f;if(void 0 !== this.RY)return this.RY;this.RY=this.location.search.substr(1);f=this.RY.indexOf("#");0 <= f && (this.RY=this.A8a.substr(0,f));return this.RY;}}});d=g=c;d.FIa=/[+]/g;d=g=t.__decorate([(0,a.T)(),t.__param(0,(0,a.l)(m.lGa))],d);b.YKa=d;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mkb="ObjectComparerSymbol";},function(t,b,a){var g,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.lIa=void 0;t=a(1);g=a(0);l=a(198);c.prototype.compare=function(m,d){var f;f=[];this.dla(m,d,"",f);return f;};c.prototype.dla=function(m,d,f,h){var k;k=this;if(l.pF.ez(m))l.pF.ez(d) && m.length === d.length?m.forEach(function(q,u){k.dla(m[u],d[u],f + "[" + u + "]",h);}):h.push({a:m,b:d,path:f});else if(l.pF.jM(m) && null != m){if(l.pF.jM(d) && null != d){for(var n in m){this.dla(m[n],d[n],f + "." + n,h);}for(var p in d){(p in m) || void 0 === d[p] || h.push({a:void 0,b:d[p],path:f + "." + p});}}else h.push({a:m,b:d,path:f});}else m !== d && h.push({a:m,b:d,path:f});};a=c;a=t.__decorate([(0,g.T)()],a);b.lIa=a;},function(t,b,a){var g,l,m,d,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.FNa=void 0;t=a(1);g=a(0);l=a(11);m=a(35);d=a(295);f=a(8);c.prototype.SJb=function(){var h;h=nb.devicePixelRatio || 1;return {width:this.Wha.m7b || l.Mv.width * h,height:this.Wha.l7b || l.Mv.height * h};};Ya.Object.defineProperties(c.prototype,{Wha:{configurable:!0,enumerable:!0,get:function(){return f.pa.get(m.hC);}}});a=c;t.__decorate([d.iX],a.prototype,"Wha",null);a=t.__decorate([(0,g.T)()],a);b.FNa=a;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x;Object.defineProperty(b,"__esModule",{value:!0});b.Gd=void 0;t=a(0);c=a(516);g=a(1169);l=a(121);m=a(296);d=a(1170);f=a(1171);h=a(1173);k=a(1174);n=a(1175);p=a(517);q=a(518);u=a(164);r=a(298);w=a(1176);v=a(297);x=a(1178);b.Gd=new t.rd(function(y){y(c.MJa).to(g.LJa).ba();y(m.qfa).to(d.QKa).ba();y(l.VF).to(f.vNa).ba();y(p.PKa).to(n.cHa).ba();y(p.OKa).to(k.gGa).ba();y(p.NKa).to(h.YFa).ba();y(r.rAa).X2b(function(){var z;return null === (z=u.Pt.Fi) || void 0 === z?void 0:z.Yu;});y(r.qAa).to(w.pAa).ba();y(q.ofa).to(q.CKa);y(v.Uca).to(x.yBa).ba();});},function(t,b,a){var g,l,m;function c(d,f){this.nb=f;this.wa=d.mb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.LJa=void 0;t=a(1);g=a(0);l=a(7);a=a(27);c.prototype.FCb=function(d){var f;f=this;try{return {direction:d.direction,ndc:d.layoutHasChanged,Yec:d.rowInteractionIndex,ab:d.lolomos.map(function(h){return f.ACb(h);})};}catch(h){this.wa.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.ACb=function(d){var f;f=this;return {context:d.context,list:d.list.map(function(h){return f.zCb(h);}),requestId:d.requestId,rowIndex:d.rowIndex,Zec:d.rowSegment};};c.prototype.zCb=function(d){var f,h;f={Fd:d.pts,property:d.property,S:d.viewableId,index:d.index};h=d.preplay;this.nb.Mg(h) && (f.V$=this.ECb(h));d=d.params;this.nb.Mg(d) && (f.zb=this.ZVa(d));return f;};c.prototype.ECb=function(d){var f;f={Fd:d.pts,S:d.viewableId,cP:d.pipelineNum,index:d.index};d=d.params;this.nb.Mg(d) && (f.zb=this.ZVa(d));return f;};c.prototype.ZVa=function(d){return {Wd:d.uiLabel,Nj:d.trackingId,Vm:d.sessionParams};};c.prototype.DCb=function(d){var f;f=this;try{return d.map(function(h){return f.BCb(h);});}catch(h){this.wa.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.BCb=function(d){var f,h;h=d.params;this.nb.Mg(h) && (f=this.CCb(h));return {K:d.movieId,priority:d.priority,force:d.force,zb:f,Wd:d.uiLabel,Ofc:d.uiExpectedStartTime,Nfc:d.uiExpectedEndTime,Pl:d.firstTimeAdded};};c.prototype.CCb=function(d){var f,h;f=void 0;h=d.sessionParams;this.nb.Mg(h) && (f=h);return {p4:this.yCb(d.authParams),Vm:f,Nj:d.trackingId,$:d.startPts,oa:d.manifest,zi:d.isBranching};};c.prototype.yCb=function(d){return {mVb:null === d || void 0 === d?void 0:d.pinCapableClient};};m=c;m=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub)),t.__param(1,(0,g.l)(a.hg))],m);b.LJa=m;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q;function c(u,r,w,v){this.is=w;this.og=v;this.log=u.mb("TaskScheduler");this.Vb=new p.Rk();this.config=r();this.currentIteration=this.bV=0;this.IJ=[];this.paused=!1;this.Zaa=[];this.rUa=[];this.UMb=this.config.wWb || q.append;this.addEventListener=this.Vb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.QKa=void 0;t=a(1);g=a(0);l=a(296);m=a(7);d=a(13);f=a(134);h=a(27);k=a(19);n=a(5);p=a(73);(function(u){u.prepend="prepend";u.append="append";u.eMb="ignore";})(q || (q={}));c.prototype.vtb=function(u){this.log.trace("adding tasks, number of tasks: " + u.length);this.paused=!1;this.IJ=this.VMb(u);this.bV=0;this.currentIteration+=1;this.Wf();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Wf=function(){var u,r,w,v;u=this;if(this.bV === this.IJ.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.bV,numberOfTasks:this.IJ.length});else {r=this.kJb();w=this.currentIteration;r.startTime=this.og.$b().da(n.la);r.status=f.Sk.Fx;this.Vb.Hc(l.RK.v2b,{K:r.K,type:r.type});this.Zaa.push(r);v=function(x){r.endTime=u.og.$b().da(n.la);x();u.rUa.push(r);u.Zaa.splice(u.Zaa.indexOf(r),1);u.currentIteration === w && (u.bV++,u.Wf());};r.AZb().then(function(){v(function(){r.status=f.Sk.hQ;u.nva(r,l.RK.w2b,"task succeeded");});}).catch(function(x){v(function(){0 <= [f.Sk.Nh,f.Sk.Fwb,f.Sk.yka].indexOf(x.status)?(r.status=x.status,u.nva(r,l.RK.t2b,"cancelled task")):(r.status=f.Sk.iu,u.nva(r,l.RK.u2b,"task failed",x));});});}};c.prototype.kJb=function(){return this.IJ[this.bV];};c.prototype.getStats=function(u,r,w){var v,x,y,z;v=this.rUa.map(function(A){return A.su();});x=this.Zaa.map(function(A){return A.su();});y=this.is.Mg(u) && this.is.Mg(r);z={};if(this.is.Mg(w))return (z.cyb=v.filter(function(A){return A.movieId === w;}),z);v.concat(x).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == f.Sk.Fx?A.startTime:A.endTime;y && B && B >= u && B < r && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.nva=function(u,r,w,v){var x;x=u.su();v?this.log.warn(w,x,v):this.log.trace(w,x);this.Vb.Hc(r,{K:u.K,type:u.type,reason:u.status});u.QO(x);};c.prototype.VMb=function(u){var r,w;r=this.IJ.filter(function(v){return v.kVb && v.status === f.Sk.Uo;});w=this.UMb;return w === q.eMb?[].concat(u):w === q.prepend?r.concat(u):u.concat(r);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.ub)),t.__param(1,(0,g.l)(d.bd)),t.__param(2,(0,g.l)(h.hg)),t.__param(3,(0,g.l)(k.md))],a);b.QKa=a;},function(t,b,a){var l,m,d,f,h,k,n,p,q,u,r,w,v,x;function c(y,z,A,B,E,D,F,G,C,H,K){this.Z5b=A;this.nb=B;this.og=E;this.Oe=D;this.OXa=F;this.AFb=G;this.BFb=C;this.jna=H;this.events=new x.EventEmitter();this.log=y.mb("VideoPreparer");this.config=z();this.Nza={};this.K9={};this.Xb={num_of_calls:0,num_of_movies:0};this.Jg=K.Jg;}function g(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.vNa=void 0;t=a(1);l=a(1172);m=a(13);d=a(0);f=a(7);h=a(81);k=a(27);n=a(296);p=a(19);q=a(5);u=a(134);r=a(297);w=a(517);v=a(298);x=a(18);c.prototype.P$a=function(y,z,A){this.Jg.setData(y,"ldl",z,A);};c.prototype.s0a=function(y){return this.Jg.IW(y,"ldl");};c.prototype.PTa=function(y){this.Jg.clearData(y,"ldl",void 0,!0);};c.prototype.yN=function(y,z){return this.Jg.getData(y,z);};c.prototype.XYa=function(y){var z;z=this.Jg.getData(y,"ldl");this.Jg.clearData(y,"ldl",void 0,!0);return z;};c.prototype.deb=function(y){return this.dbb === y || this.sVa === y;};c.prototype.OI=function(y,z){var A,B,E;A=this;y=y.map(function(D){D.zb=D.zb || ({p4:{mVb:!1},Nj:0});A.nb.fH(D.zb.Nj) || (D.zb.Nj=0);A.nb.fH(D.Fd) && (D.zb.$=D.Fd);return D;});B=y.map(function(D){return A.kBb(D,z);}).reduce(function(D,F){return D.concat(F);},[]);E=B.map(function(D){return D.K + "-" + D.type;});this.log.trace("prepare tasks",E);this.Oe.vtb(B);this.Xb.num_of_calls++;this.Xb.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,A){return Object.assign(Object.assign({},A && this.K9[A] || ({})),{IJ:this.Oe.getStats(y,z,A),cache:this.Jg.getStats(y,z),OGb:Object.assign(Object.assign({},this.Xb),this.jna.getStats())});};c.prototype.aLb=function(y){this.dbb=y;};c.prototype.$Kb=function(y){this.log.trace("task scheduler paused on playback created");this.Oe.pause();this.config.wCb && this.Jg.Rka(y,["manifest"]);this.config.vCb && this.Jg.Rka(y,["ldl"]);this.config.rCb && this.Jg.clearData(y,"manifest");this.jna.j9a(y);this.sVa=y;};c.prototype.p0a=function(){this.log.info("track changed, clearing all manifests from cache");this.Jg.Rka("none",["manifest"]);};c.prototype.ZKb=function(y){var z;z=this;this.config.sCb?this.Jg.clearData(y,"manifest"):this.Jg.IW(y,"manifest") && this.Jg.getData(y,"manifest").then(function(A){A.Nb.isSupplemental || z.Jg.clearData(y,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",A);});this.Xka(y);this.dbb=this.sVa=void 0;};c.prototype.Xka=function(y){delete this.Nza[y];};c.prototype.fA=function(y){return this.Nza[y];};c.prototype.rVa=function(y){return this.Nza[y]=this.Z5b.Cz();};c.prototype.yab=function(y,z){if(this.s0a(y))return u.Sk.Nh;if(!z.MH)return u.Sk.yka;};c.prototype.kBb=function(y,z){var A,B;y.Wd && y.zb && (y.zb.Wd=y.Wd);this.s4b(y.K,y.Pl);A=this.QAb(y,z);B=this.MAb(y,null === A || void 0 === A?void 0:A.id,z);y=this.SAb(y,null === A || void 0 === A?void 0:A.id,z);return [A,B,y].filter(g);};c.prototype.QAb=function(y,z){if(this.Jg.IW(y.K,"manifest"))this.log.trace("manifest exists in cache for " + y.K);else return new l.wS("manifest",this.og.$b().da(q.la),! !y.zb.ai,void 0,z,this.OXa,y,this);};c.prototype.MAb=function(y,z,A){if(this.config.EV)if(this.Jg.IW(y.K,"ldl"))!1;else return this.config.Dp?new l.wS("ldl",this.og.$b().da(q.la),! !y.zb.ai,z,A,this.AFb,y,this):new l.wS("ldl",this.og.$b().da(q.la),! !y.zb.ai,z,A,this.BFb,y,this);};c.prototype.SAb=function(y,z,A){if(this.config.$Wa)return new l.wS("getMedia",this.og.$b().da(q.la),! !y.zb.ai,z,A,this.jna,y,this);};c.prototype.s4b=function(y,z){this.K9[y] || (this.K9[y]={T$:0,Pl:0});y=this.K9[y];y.T$=(void 0 !== y?void 0 !== y.T$?y.T$:0:0) + 1;y.Pl=z;};a=c;a=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(f.ub)),t.__param(1,(0,d.l)(m.bd)),t.__param(2,(0,d.l)(h.hy)),t.__param(3,(0,d.l)(k.hg)),t.__param(4,(0,d.l)(p.md)),t.__param(5,(0,d.l)(n.qfa)),t.__param(6,(0,d.l)(w.PKa)),t.__param(7,(0,d.l)(w.OKa)),t.__param(8,(0,d.l)(w.NKa)),t.__param(9,(0,d.l)(v.qAa)),t.__param(10,(0,d.l)(r.Uca))],a);b.vNa=a;},function(t,b,a){var g,l;function c(m,d,f,h,k,n,p,q){this.type=m;this.Uo=d;this.kVb=void 0 === f?!1:f;this.notify=k;this.CFb=n;this.hP=p;this.Gd=q;this.id=++l;this.status=g.Sk.Uo;}Object.defineProperty(b,"__esModule",{value:!0});b.wS=void 0;g=a(134);l=0;c.prototype.su=function(){var m;m={id:this.id,type:this.type,created:this.Uo,status:this.status,movieId:this.K};this.startTime && (m.startTime=this.startTime);this.endTime && this.startTime && (m.duration=this.endTime - this.startTime,m.endTime=this.endTime);return m;};c.prototype.QO=function(m){this.notify && this.notify(m);};c.prototype.AZb=function(){return this.CFb.fetch(this.hP,this.Gd);};Ya.Object.defineProperties(c.prototype,{K:{configurable:!0,enumerable:!0,get:function(){return this.hP.K;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.hP.priority;}}});b.wS=c;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y;function c(z,A,B,E,D,F,G,C,H,K){this.Gs=B;this.NZ=E;this.Xc=D;this.za=F;this.Ea=G;this.sO=C;this.uVb=H;this.Ak=K;this.log=z.mb("VideoPreparer");this.config=A();}Object.defineProperty(b,"__esModule",{value:!0});b.YFa=void 0;t=a(1);g=a(0);l=a(7);m=a(13);d=a(134);f=a(64);h=a(60);k=a(35);n=a(158);p=a(192);q=a(36);u=a(5);r=a(38);w=a(19);v=a(193);x=a(203);a=a(120);c.prototype.fetch=function(z,A){var B;B=this;this.log.trace("Fetching LDL",(0,v.vK)(z));this.K=z.K;this.Gd=A;return A.yN(z.K,"ldl").catch(function(){B.log.trace("Requesting a new license",(0,v.vK)(z));return B.Ak.K6(z.K).then(function(E){var D,F;B.oa=E;B.Nb=E.Nb;if(E=B.Gd.yab(z.K,B.Nb))throw {status:E};E=B.Nb.LB[0].$u;D=B.Nb.LB[0].zma;F=(E?E:[D]).map(function(G){return B.Xc.decode(G.bytes);});B.uf=B.aH({OWa:B.log,Uma:function(G){return B.handleError(G);},Ed:void 0,Cta:function(){},za:{getTime:function(){return B.Ea.$b().da(u.la);},zcc:function(){return B.za.kf.da(u.Ao);}}});A.P$a(z.K,B.uf);return B.uf.create(B.config.Im).then(function(){return B.uf.$g(h.ji.wo,F,!0);}).then(function(){return B.uf;}).catch(function(G){B.handleError(G);throw G;});}).catch(function(E){B.log.warn("Manifest not available for ldl request",E);if(void 0 !== E.status)throw E;throw {status:d.Sk.Nh};});});};c.prototype.handleError=function(z){this.log.warn("ldl is now invalid",z);this.uf.close();this.Gd.PTa(this.K);this.Gd.Xka(this.K);};c.prototype.aH=function(z){var A,B;A=this;if(!this.Gs.tK || !this.Gs.rK){B=this.uVb();this.Gs.tK=B.cc;this.Gs.rK=B.request;}B=new this.Gs.rK(z.OWa,function(E){var D;D=[];E.jk.forEach(function(F){D.push({sessionId:F.sessionId,dataBase64:A.Xc.encode(F.data)});});E={jk:D,K5:[A.Nb.Am],$f:f.vo.OUa(E.$f),Ai:A.Nb.Ai,ca:A.Gd.rVa(A.K),yk:A.oa.yk};A.log.trace("xid created ",{MovieId:A.K,xid:E.ca});return A.sO.$y(E);},void 0,{xf:!1,kl:!1});return this.Gs.tK(z.OWa,z.Ed,{xf:!1,kl:!1,Vl:B,MY:this.config.r8a,Z:void 0,IB:this.config.WWa,onerror:z.Uma,Cta:z.Cta,za:z.za,KI:!1,Mub:this.NZ.c5([]),u5b:this.NZ.f5([]),Q7:this.config.Q7});};y=c;y=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub)),t.__param(1,(0,g.l)(m.bd)),t.__param(2,(0,g.l)(k.hC)),t.__param(3,(0,g.l)(n.CS)),t.__param(4,(0,g.l)(q.Ji)),t.__param(5,(0,g.l)(r.gi)),t.__param(6,(0,g.l)(w.md)),t.__param(7,(0,g.l)(p.XR)),t.__param(8,(0,g.l)(x.afa)),t.__param(9,(0,g.l)(a.wF))],y);b.YFa=y;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q;function c(u,r,w,v,x,y){this.Xc=w;this.ADb=v;this.CO=x;this.Ak=y;this.log=u.mb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;t=a(1);g=a(0);l=a(7);m=a(13);d=a(60);f=a(36);h=a(124);k=a(139);n=a(134);p=a(193);a=a(120);c.prototype.fetch=function(u,r){var w;w=this;this.log.trace("Fetching LDL",(0,p.vK)(u));this.K=u.K;this.Gd=r;return r.yN(u.K,"ldl").then(function(v){return v.Laa;}).catch(function(){w.log.trace("Requesting a new license",(0,p.vK)(u));return w.Ak.K6(u.K).then(function(v){var x,y,z,A;w.Nb=v.Nb;if(r.s0a(u.K))return r.yN(u.K,"ldl").then(function(B){return B.Laa;});x=w.Gd.yab(u.K,w.Nb);if(x)throw {status:x};y=w.Nb.LB[0].$u;x=w.Nb.LB[0].zma;z=(y?y:[x]).map(function(B){return w.Xc.decode(B.bytes);});A=w.ADb().then(function(B){var E;E={type:d.ji.wo,initData:z,context:{$u:y},cj:{K:u.K,ca:r.rVa(u.K),Ai:w.Nb.Ai,Am:w.Nb.Am,yk:v.yk}};return B.$g(E,w.CO());}).catch(function(B){w.handleError("Unable to prepare an EME session.",B);throw B;});w.Gd.P$a(u.K,{Laa:A,source:"videopreparer"},function(){if(!w.Gd.deb(u.K))try{A.then(function(B){return B.close();}).catch(function(B){w.handleError("Unable to cleanup LDL session, Unable to get the session.",B);});}catch(B){w.handleError("Unable to cleanup LDL session, unexpected exception.",B);}});return A;}).catch(function(v){w.log.warn("Manifest not available for ldl request",v);if(void 0 !== v.status)throw v;throw {status:n.Sk.Nh};});});};c.prototype.handleError=function(u,r){this.log.warn(u + " LDL is now invalid.",r);this.Gd.PTa(this.K);this.Gd.Xka(this.K);};q=c;q=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub)),t.__param(1,(0,g.l)(m.bd)),t.__param(2,(0,g.l)(f.Ji)),t.__param(3,(0,g.l)(h.Q0)),t.__param(4,(0,g.l)(k.dS)),t.__param(5,(0,g.l)(a.wF))],q);b.gGa=q;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q;function c(u,r,w,v,x){this.vX=w;this.og=v;this.Ak=x;this.log=u.mb("VideoPreparer");this.config=r();}Object.defineProperty(b,"__esModule",{value:!0});b.cHa=void 0;t=a(1);g=a(13);l=a(0);m=a(7);d=a(19);f=a(5);h=a(133);k=a(105);n=a(193);p=a(120);q=a(60);c.prototype.fetch=function(u,r){var w,v;this.log.trace("Fetching manifest",(0,n.vK)(u));v=u.zb;this.config.Lsb && v && v.oa && !this.Ak.Kpa(u.K) && (!(("clientGenesis" in v.oa) && v.oa.clientGenesis) || Date.now() - v.oa.clientGenesis < this.config.d8a) && (v=this.vX.create(v.oa)) && (v.aJ=this.og.$b().da(f.la),v.zP=this.og.$b().da(f.la),this.Ak.XZ(u.K,v));return this.Ak.GN({S:u.K,bb:null !== (w=u.zb) && void 0 !== w?w:{},ou:k.ln.JF,$f:q.ji.wo},!0,function(){r.events.emit("manifestRemovedFromCache",{target:r,type:"manifestRemovedFromCache",S:u.K});});};a=c;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(m.ub)),t.__param(1,(0,l.l)(g.bd)),t.__param(2,(0,l.l)(h.IK)),t.__param(3,(0,l.l)(d.md)),t.__param(4,(0,l.l)(p.wF))],a);b.cHa=a;},function(t,b,a){var l,m,d,f,h,k,n,p,q,u,r,w,v,x;function c(){var y;y=this;this.promise=new Promise(function(z,A){y.resolve=z;y.reject=A;});}function g(y,z,A,B,E){var D;D=this;this.Sua=A;this.tWb=B;this.Ak=E;this.V_=[];this.aB=new Map();this.TTb=function(F){var G,C;F=F.wishListItem.key.S;if(D.aB.has(F)){C=D.aB.get(F);F=C.hP;C=C.hla;null === (G=C.resolve) || void 0 === G?void 0:G.call(C,F);}};this.t6a=function(F){!F.target.deb(F.S) && D.aB.has(F.S) && (D.j9a(F.S),D.rab(D.V_),D.jj.has({S:F.S}) && (D.jj.Em(F.S).hu=!0));};this.wa=y.mb("VideoPreparer");this.config=z();this.jj=new v.dga();}Object.defineProperty(b,"__esModule",{value:!0});b.pAa=void 0;t=a(1);l=a(7);a(193);m=a(164);d=a(40);f=a(13);h=a(14);k=a(105);n=a(298);p=a(0);q=a(518);u=a(18);r=a(120);w=a(60);v=a(519);x=a(1177);g.prototype.fetch=function(y,z){if(-1 === z.events.listeners("manifestRemovedFromCache").indexOf(this.t6a))z.events.on("manifestRemovedFromCache",this.t6a);!1;this.rab(this.Vxb(this.tBb(y,z)));return this.aB.get(y.K).hla.promise;};g.prototype.getStats=function(){return this.Yu.getStats();};g.prototype.Vxb=function(y){return [y].concat(ha(this.V_.filter(function(z){return z.key.S !== y.key.S;}))).slice(0,this.config.rWb).map(this.config.sWb?function(z,A){return Object.assign({},z,{priority:A});}:function(z){return z;});};g.prototype.GN=function(y){var z;return this.Ak.GN({S:y.K,ou:k.ln.JF,$f:w.ji.wo,bb:null !== (z=y.zb) && void 0 !== z?z:{}}).then(function(A){return A.Nb;});};g.prototype.tBb=function(y,z){var A,B,E,D,F,G;E=new c();if(this.aB.has(y.K)){D=this.aB.get(y.K);F=D.hP;if(F.K === y.K && F.Wd === y.Wd)G=D.T5b.key;this.Yu.getStats().contents.some(function(C){return C.id === y.K;}) && (E=D.hla);}D=m.Pt.jf.Yt((0,h.kla)(y.Wd));G || (G={S:y.K,config:D});F={S:y.K};this.jj.has(F) || this.jj.store(F,this.sBb(y,z,D));z={key:G,hdc:!1,priority:y.priority,t4:d.R.Oa(null !== (B=null === (A=y.zb) || void 0 === A?void 0:A.$) && void 0 !== B?B:0),jj:this.jj};this.aB.set(y.K,{T5b:z,hP:y,hla:E});return z;};g.prototype.sBb=function(y,z,A){var B,E,D;B=this;E=y.K;return {get ca() {return z.fA(E);},hu:!1,events:new u.EventEmitter(),xka:function(){},get sr() {D || (D=B.GN(y).then(function(F){return {oa:F,Wi:F.Mpa && !F.MH,config:A,Fab:{}};}));return D;},S:E,Cbb:!1,equals:function(F){var G;G=z.fA(E);return F.S === E && (!F.ca || !G || G === F.ca);}};};g.prototype.Y$a=function(y){this.V_=y;};g.prototype.rab=function(y){this.Y$a(y);this.Yu.qab(this.V_);};g.prototype.j9a=function(y){this.aB.has(y) && (this.Y$a(this.V_.filter(function(z){return z.key.S !== y;})),this.aB.delete(y));};Ya.Object.defineProperties(g.prototype,{Yu:{configurable:!0,enumerable:!0,get:function(){this.Qy || (this.Qy=this.tWb(),this.Qy.pxa(this.Sua).hab(new x.EFa()).O$a({RH:this.config.qWb}),this.Qy.events.on("prefetchComplete",this.TTb));return this.Qy;}}});a=g;a=t.__decorate([(0,p.T)(),t.__param(0,(0,p.l)(l.ub)),t.__param(1,(0,p.l)(f.bd)),t.__param(2,(0,p.l)(q.ofa)),t.__param(3,(0,p.l)(n.rAa)),t.__param(4,(0,p.l)(r.wF))],a);b.pAa=a;},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.EFa=void 0;a.prototype.YXa=function(c,g){var l;return null !== (l=this.SFb(c,g)) && void 0 !== l?l:this.VFb(c,g);};a.prototype.SFb=function(c,g){var l,m;l=this;m=g.ma;return c.find(function(d){var f;return l.r5(m,null === (f=d.ma) || void 0 === f?void 0:f.ma);});};a.prototype.VFb=function(c,g){var l,m;l=g.ma.Pd;m=g.ma.V[l];return c.find(function(d){var f;d=null === (f=d.ma) || void 0 === f?void 0:f.ma;d=(f=null === d || void 0 === d?void 0:d.Pd) && (null === d || void 0 === d?void 0:d.V[f]) || void 0;return l === f && m.S === (null === d || void 0 === d?void 0:d.S) && m.Aa === (null === d || void 0 === d?void 0:d.Aa);});};a.prototype.r5=function(c,g){var l;l=this;return c === g?!0:"object" !== typeof c || "object" !== typeof g?c === g:Object.keys(c).length === Object.keys(g).length && Object.keys(c).every(function(m){return l.r5(c[m],g[m]);});};b.EFa=a;},function(t,b,a){var g,l,m,d,f,h;function c(k,n,p){var q;q=this;this.og=n;n=p();this.Jg=new h({log:k.mb("CacheManager"),za:{getTime:function(){return q.og.$b().da(d.la);}},Promise:Promise,xf:!1,$vb:n.zWb,Zvb:n.xWb,eFb:n.d8a,dFb:n.yWb});}Object.defineProperty(b,"__esModule",{value:!0});b.yBa=void 0;t=a(1);g=a(0);l=a(19);m=a(7);d=a(5);f=a(13);h=a(1179);c=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.ub)),t.__param(1,(0,g.l)(l.md)),t.__param(2,(0,g.l)(f.bd))],c);b.yBa=c;},function(t,b,a){var d;function c(){return Object.create(null);}function g(f){this.log=f.log;this.za=f.za;this.iE=c();this.Promise=f.Promise;this.zz=f.zz;this.Uya=f.Uya;this.xf=f.xf || !1;this.Lw=c();this.$C=c();this.LG=c();this.Xrb(f);f.xq && (this.xq=f.xq);}function l(f){return "undefined" !== typeof f;}function m(f){var n;for(var h=0,k=arguments.length;h < k;){n=arguments[h++];if(l(n))return n;}}a(1180);d=a(1181);g.prototype.Xrb=function(f){this.Lw.manifest=m(f.eFb,d.Lw.oa);this.Lw.ldl=m(f.dFb,d.Lw.jX);this.Lw.metadata=m(f.kcc,d.Lw.Ic);this.$C.manifest=m(f.$vb,d.$C.oa);this.$C.ldl=m(f.Zvb,d.$C.jX);this.$C.metadata=m(f.qbc,d.$C.Ic);this.LG.manifest=m(f.obc,d.LG.oa);this.LG.ldl=m(f.nbc,d.LG.jX);this.LG.metadata=m(f.pbc,d.LG.Ic);};g.prototype.IW=function(f,h){this.du("undefined" !== typeof f);this.du("undefined" !== typeof h);return ! !this.BOa(f,h,void 0).value;};g.prototype.BOa=function(f,h,k){var n,p;n={value:null,reason:"",log:""};p=this.iE[h];if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + h,n.reason="unavailable",n);"undefined" === typeof p[f]?(n.log="cache miss: no data exists for movieId:" + f,n.reason="unavailable"):(k=p[f][k?k:"DEFAULTCAPS"]) && k.value?this.k8(h,k.creationTime)?(n.log="cache miss: " + h + " data expired for movieId:" + f,n.reason="expired"):(n.log=this.Promise && k.value instanceof this.Promise?"cache hit: " + h + " request in flight for movieId:" + f:"cache hit: " + h + " available for movieId:" + f,n.value=k.value):(n.log="cache miss: " + h + " data not available for movieId:" + f,n.reason="unavailable");return n;};g.prototype.getData=function(f,h,k){this.du("undefined" !== typeof f);this.du("undefined" !== typeof h);f=this.BOa(f,h,k);this.log.trace(f.log);return f.value?this.Promise?f.value instanceof this.Promise?f.value:Promise.resolve(f.value):this.Uya?JSON.parse(this.Uya(f.value,"gzip",!1)):f.value:this.Promise?Promise.reject(f.reason):f.reason;};g.prototype.setData=function(f,h,k,n,p){var q,u,r;this.du("undefined" !== typeof f);this.du("undefined" !== typeof h);q=this.iE;u=p?p:"DEFAULTCAPS";q[h] || (q[h]=c(),Object.defineProperty(q[h],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[h],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));k=this.zz?this.zz(JSON.stringify(k),"gzip",!0):k;q=q[h];this.Epb(f,h,u,q);r=this;n={creationTime:this.za.getTime(),value:k,size:0,type:h,kma:n,cFb:setTimeout(function(){r.clearData(f,h,u,!1,"expired");},this.Lw[h] + 1)};q[f]=q[f] || c();q[f][u]=q[f][u] || c();q[f][u]=n;q.size+=0;q.numEntries++;this.xq && this.xq.emit("addedCacheItem",n);return n;};g.prototype.Epb=function(f,h,k,n){var p,q,u,r,w,v,x,y,z;p=this;q=n.numEntries;u=this.$C[h];r=n[f] && n[f][k];if(r && r.value)(w=f,v="promise_or_expired");else if(q >= u){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][k];B && B.value && p.k8(h,B.creationTime) && (z=A);B && B.value && B.creationTime < y && (y=B.creationTime,x=A);return !0;});w=z || x;v="cache_full";}this.xf && this.log.debug("makespace ",{maxCount:u,currentCount:n.numEntries,field:h,movieId:f,movieToBeRemoved:w});w && (p.clearData(w,h,k,void 0,v),this.log.debug("removed from cache: ",w,h));};g.prototype.Rka=function(f,h){var k,n;k=this;k.du("undefined" !== typeof f);n=f + "";h.forEach(function(p){var q;q=k.iE[p];q && Object.keys(q).forEach(function(u){u != n && k.clearData(u,p,void 0,void 0,"clear_all");});});};g.prototype.clearData=function(f,h,k,n,p){var q;this.du("undefined" !== typeof f);this.du("undefined" !== typeof h);q=this.iE[h];h=q?q[f]:void 0;k=k?k:"DEFAULTCAPS";if(h && h[k]){q.size-=h[k].size;q.numEntries--;if(q=h && h[k])(clearTimeout(q.cFb),h[k]=void 0,!n && q.kma && q.kma());this.xq && (f={creationTime:q.creationTime,destroyFn:q.kma,size:q.size,type:q.type,value:q.value,reason:p,movieId:f},this.xq.emit("deletedCacheItem",f));}};g.prototype.flush=function(f){var h;this.du("undefined" !== typeof f);h=this.iE;h[f]=c();h[f].numEntries=0;h[f].size=0;};g.prototype.NTa=function(){var f,h;this.du(!1);f=this;h=this.iE;h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function(k){var n;n=h[void 0][k].DEFAULTCAPS;f.za.getTime() - n.creationTime > f.Lw[void 0] && this.clearData(k,void 0,"DEFAULTCAPS",void 0,"clean_up");});};g.prototype.k8=function(f,h){return this.za.getTime() - h > this.Lw[f];};g.prototype.getStats=function(f,h,k){var n,p,q,u,r;n={};p=this;q=p.iE;u=l(f) && l(h);r=k || "DEFAULTCAPS";Object.keys(q).forEach(function(w){var v,x;v=Object.keys(q[w]);x=q[w];v.forEach(function(y){!(y=x && x[y] && x[y][r]) || !l(y.value) || y.value instanceof this.Promise || (n[w]=(n[w] | 0) + 1,p.k8(y.type,y.creationTime) && (n[w + "_expired"]=(n[w + "_expired"] | 0) + 1),u && y.creationTime >= f && y.creationTime < h && (n[w + "_delta"]=(n[w + "_delta"] | 0) + 1));});});return n;};g.prototype.getState=function(f){var h,k,n,p;h=[];k=this;n=k.iE;p=f || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var u,r;u=Object.keys(n[q]);r=n[q];u.forEach(function(w){var v,x;v=r && r[w] && r[w][p];if(v && l(v.value)){x=k.k8(v.type,v.creationTime)?"expired":v.value instanceof this.Promise?"loading":"cached";h.push({movieId:w,state:x,type:q,size:v.size});}});});return h;};g.prototype.du=function(f){if(!f && (this.log.error("Debug Assert Failed",void 0),this.xf))throw Error("Debug Assert Failed ");};t.exports=g;},function(t){function b(a){var c;c=[];return (function m(l){if(l && "object" === typeof l){if(-1 !== c.indexOf(l))return !0;c.push(l);for(var d in l){if(l.hasOwnProperty(d) && m(l[d]))return !0;}}return !1;})(a);}t.exports=function(a,c){var l;if(c && b(a))return -1;c=[];a=[a];for(var g=0;a.length;){l=a.pop();if("boolean" === typeof l)g+=4;else if("string" === typeof l)g+=2 * l.length;else if("number" === typeof l)g+=8;else if("object" === typeof l && -1 === c.indexOf(l)){c.push(l);for(var m in l){a.push(l[m]);}}}return g;};},function(t){t.exports={Lw:{oa:12E5,jX:9E5,Ic:12E5},$C:{oa:10,jX:10,Ic:10},LG:{oa:10240,jX:10240,Ic:10240}};},function(t,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ia=void 0;t=a(0);c=a(194);g=a(1183);l=a(520);m=a(1184);d=a(521);f=a(1185);h=a(1186);k=a(522);n=a(1187);b.Ia=new t.rd(function(p){p(c.mda).to(g.SCa).ba();p(l.tHa).to(m.sHa).ba();p(d.pIa).to(f.oIa).ba();p(d.AHa).to(h.zHa).ba();p(k.yHa).to(n.xHa).ba();});},function(t,b,a){var g,l,m,d;function c(f){function h(k,n){this.J=k;this.hm=n;this.h6=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Ig=f.mb("DownloadTrack");}h.prototype.rq=function(){!1;this.UT=void 0;this.emit("destroyed");};h.prototype.toString=function(){return "id:" + this.UT + " config: " + JSON.stringify(this.J);};h.prototype.toJSON=function(){return "Download Track id:" + this.UT + " config: " + JSON.stringify(this.J);};h.prototype.aX=function(){return void 0 === this.UT?!1:!0;};h.prototype.eaa=function(k){this.J.connections !== k.connections && (this.J=k);};h.prototype.Eu=function(){return 1 < this.J.connections?!0:!1;};Ya.Object.defineProperties(h.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.UT;}},Uo:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.UT;}},config:{configurable:!0,enumerable:!0,get:function(){return this.J;}},G$:{configurable:!0,enumerable:!0,get:function(){return this.Ig;}},kI:{configurable:!0,enumerable:!0,get:function(){return this.hm.kI;}}});this.pK=Object.assign(h,new m.TCa());}Object.defineProperty(b,"__esModule",{value:!0});b.SCa=void 0;t=a(1);g=a(0);l=a(7);m=a(194);d=a(117).EventEmitter;c=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub))],c);b.SCa=c;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q;function c(u,r,w,v,x,y){this.lM=u;this.nf=w;this.nb=v;this.Ea=x;this.config=y;this.log=r.mb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.sHa=void 0;t=a(1);g=a(195);l=a(104);m=a(3);d=a(7);f=a(0);h=a(89);k=a(27);n=a(19);p=a(5);a=a(13);c.prototype.$z=function(){return this.Ea.$b().da(p.la);};c.prototype.Z5a=function(u,r){u.KSb({mediaRequest:u,timestamp:r});};c.prototype.s6a=function(u){var r;r=u.mediaRequest.PA;r.readyState=g.yc.Vc.uy;u=u.connect?u:{timestamp:this.$z(),connect:!1};u.mediaRequest=r;u.readyState=r.readyState;r.Bta(u);};c.prototype.k$=function(u){this.Z5a(u.mediaRequest.PA,u.timestamp);};c.prototype.m$=function(u){var r,w;r=u.mediaRequest.PA;w=u.bytes;"undefined" === typeof r?!1:(r.readyState === g.yc.Vc.wy && this.s6a(u),this.nb.Qi(w) && (u.mediaRequest=r,u.timestamp=this.$z(),w > r.bytesReceived && (u.newBytes=w - r.bytesReceived,u.bytesLoaded=w,r.OSb(u))));};c.prototype.ao=function(u){var r,w,v,x;r=u.mediaRequest;w=u.errorcode;v=u.httpcode;x=g.yc.T0;if("undefined" === typeof r)!1;else if((r=r.PA,"undefined" === typeof r))!1;else if(r.readyState !== g.yc.Vc.uK)if(w === m.M.ZB)(r.readyState=g.yc.Vc.QQ,u.mediaRequest=r,u.readyState=r.readyState,r.GSb(u));else {r.readyState=g.yc.Vc.uK;switch(w){case m.M.SR:v=x.pBa;break;case m.M.Gda:v=x.Dda;break;case m.M.PR:v=400 < v && 500 > v?x.Fda:500 <= v?x.FEa:x.Dda;break;case m.M.QR:v=x.Eda;break;case m.M.OR:v=x.qBa;break;case m.M.RR:v=x.k1;break;case m.M.nF:v=x.k1;break;case m.M.EEa:v=x.DEa;break;case m.M.AEa:v=x.Fda;break;case m.M.thb:v=x.Eda;break;default:v=x.k1;}u.mediaRequest=r;u.readyState=r.readyState;u.errorcode=v;u.nativecode=w;r.Dta(u);}};c.prototype.Vta=function(u,r){var w,v;w=r.request.PA;if(w)if(r.aa){if((!1,u.j && w.readyState !== g.yc.Vc.DONE)){switch(w.readyState){case g.yc.Vc.QQ:!1;return;case g.yc.Vc.uK:!1;break;case g.yc.Vc.uy:break;case g.yc.Vc.wy:this.s6a({mediaRequest:r.request});break;default:!1;}w.readyState=g.yc.Vc.DONE;if(!w.dd){v={mediaRequest:w,readyState:w.readyState,timestamp:this.$z(),cadmiumResponse:r};u.j.Eya+=1;w.vKb();w.WNb() && (u.j.ywa+=1,r.Km.Di=Math.ceil(w.Ana),r.Km.wp=Math.ceil(w.VG),r.Km.ar=Math.floor(w.$D));w.V4=v;w.QO(v);}}}else (!1,w.readyState === g.yc.Vc.QQ?!1:(u={mediaRequest:r.request,timestamp:this.$z(),errorcode:r.sa,httpcode:r.tk},this.ao(u)));};c.prototype.download=function(u,r){var w,v;w=this;r=this.nf.download(u,r);if(u.PA){v=u.PA;-1 < [g.yc.Vc.OPENED,g.yc.Vc.uK].indexOf(v.readyState) && (v.readyState=g.yc.Vc.wy,this.config().Qsa?r.P_b(function(x){w.k$(x);}):this.Z5a(v,this.$z()));}r.Nia(function(x){w.Vta(u,x);});r.V_b(function(x){w.m$(x);});r.G_b(function(x){w.ao(x);});return r;};q=c;q=t.__decorate([(0,f.T)(),t.__param(0,(0,f.l)(l.SQ)),t.__param(1,(0,f.l)(d.ub)),t.__param(2,(0,f.l)(h.iy)),t.__param(3,(0,f.l)(k.hg)),t.__param(4,(0,f.l)(n.md)),t.__param(5,(0,f.l)(a.bd))],q);b.sHa=q;},function(t,b,a){var g,l,m;function c(d,f){this.nf=f;this.log=d.mb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.oIa=void 0;t=a(1);g=a(0);l=a(7);a=a(89);c.prototype.aW=function(d,f,h){d={url:d.url,RZb:h};!1;this.nf.L0b(d);};c.prototype.AG=function(d){try{d.hqa();}catch(f){this.log.warn("exception aborting request");}};m=c;m=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub)),t.__param(1,(0,g.l)(a.iy))],m);b.oIa=m;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u;function c(r,w,v,x,y,z){this.Ea=r;this.ks=w;this.config=v;this.nf=y;this.jRb=z;this.log=x.mb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;t=a(1);g=a(40);l=a(0);m=a(7);d=a(89);f=a(520);h=a(91);k=a(195);n=a(19);p=a(5);q=a(42);a=a(13);c.prototype.aW=function(r,w,v){var y,z,A;function x(){r.removeEventListener(k.yc.Pe.GF,x);r.MV?r.MV++:r.MV=1;r.MV >= y.config().hna.length && (r.MV=y.config().hna.length - 1);setTimeout(function(){y.aW(r,w,v);},y.config().hna[r.MV]);}y=this;r.idc=!0;z=this.jRb.download({url:r.url,responseType:this.nf.$lb.hfb,withCredentials:!1,kD:r.mediaType === g.Ub.Wa.Yb?"audio":"video",offset:w.start,length:r.hh,track:{type:r.mediaType === g.Ub.Wa.Yb?h.Li.audio:h.Li.video},stream:{Dc:r.Sa,bitrate:r.bitrate},uc:r.re,PA:r,Uaa:v,jt:this.ks.jt},function(B){B.aa && r.readyState !== k.yc.Vc.DONE && (r.readyState === k.yc.Vc.QQ?!1:(r.readyState === k.yc.Vc.uK?!1:r.readyState === k.yc.Vc.wy?(r.readyState=k.yc.Vc.uy,r.Bta({mediaRequest:r,readyState:r.readyState,timestamp:y.$z(),connect:!1})):r.readyState !== k.yc.Vc.wy && r.readyState !== k.yc.Vc.uy && !1,r.readyState=k.yc.Vc.DONE,B={mediaRequest:r,readyState:r.readyState,timestamp:y.$z(),cadmiumResponse:B,response:B.content},r.V4=B,r.QO(B)));});if(r.dd){A={mediaRequest:r,readyState:r.readyState,timestamp:this.$z(),connect:!1};r.Bta(A);}r.addEventListener(k.yc.Pe.GF,x);r.hqa=z.abort;};c.prototype.AG=function(r){try{r.hqa();}catch(w){this.log.warn("exception aborting request");}};c.prototype.$z=function(){return this.Ea.$b().da(p.la);};u=c;u=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(n.md)),t.__param(1,(0,l.l)(q.jn)),t.__param(2,(0,l.l)(a.bd)),t.__param(3,(0,l.l)(m.ub)),t.__param(4,(0,l.l)(d.iy)),t.__param(5,(0,l.l)(f.tHa))],u);b.zHa=u;},function(t,b,a){var g,l,m,d,f,h,k,n;function c(p,q,u,r,w,v){function x(z,A){this.track=z;this.label=A;this.Lh=n.yc.Vc.UNSENT;this.bytesReceived=0;this.fJ=[];this.requestId=v.Cz().toString();this.nb=u;this.log=q.mb("MediaRequest");this.config=p;this.Vb=new k.Rk();"notification" === this.label?this.config().Rz && (this.kI=r):this.kI=w;!1;}function y(z,A){this.requestId=v.Cz().toString();this.nb=u;this.log=q.mb("MediaRequest");this.config=p;this.Vb=new k.Rk();this.label=A;"notification" === this.label?this.config().Rz && (this.kI=r):this.kI=w;this.TW=this.wM=this.xM=void 0;this.track=z;this.E4=this.url=this.responseType=void 0;this.Lh=n.yc.Vc.UNSENT;this.Aj=this.pN=this.wh=this.status=void 0;this.Ks=this.bytesReceived=0;this.connect=this.Ana=this.VG=this.$D=this.yra=this.yf=this.zna=this.loadTime=this.TL=void 0;this.fJ=[];this.Uo=!1;!1;}x.prototype.addEventListener=function(z,A,B){this.Vb.addListener.call(this,z,A,B);};x.prototype.removeEventListener=function(z,A){this.Vb.removeListener.call(this,z,A);};x.prototype.emit=function(z,A,B){this.Vb.Hc.call(this,z,A,B);};x.prototype.KSb=function(z){this.Lh === n.yc.Vc.OPENED && (this.TW=!0,this.loadTime=this.yf=z.timestamp,!1,this.Lh=n.yc.Vc.wy,this.emit(n.yc.Pe.hIa,z));};x.prototype.Bta=function(z){var A;if(this.Lh < n.yc.Vc.uy){this.fJ=[];A=z.timestamp - this.loadTime;!this.dd && 0 < A && (this.connect=!0,this.fJ.push(A));!0 === this.config().iMb?this.zna=z.timestamp:this.zna=this.yf=z.timestamp;!1;this.Lh=n.yc.Vc.uy;this.emit(n.yc.Pe.gIa,z);}};x.prototype.OSb=function(z){this.Lh === n.yc.Vc.uy && (!1,this.yra=this.yf=z.timestamp,z.newBytes=z.bytesLoaded - this.bytesReceived,this.bytesReceived=z.bytesLoaded,this.nb.Mg(this.yra) && this.emit(n.yc.Pe.iIa,z));};x.prototype.QO=function(z){-1 < [n.yc.Vc.wy,n.yc.Vc.uy].indexOf(this.Lh) && (this.TW=!1,!1,this.yf=z.timestamp,this.Lh=n.yc.Vc.DONE,z.newBytes=this.hh - this.bytesReceived,this.bytesReceived=this.hh,this.nb.Mg(this.VG) && (this.yf=this.VG,0 === z.newBytes && (this.yra=this.VG)),this.nb.Mg(this.$D) && (this.loadTime=this.$D),this.TL=z.response,this.emit(n.yc.Pe.lS,z));};x.prototype.GSb=function(z){this.TW=!1;!1;this.emit(n.yc.Pe.Ikb,z);};x.prototype.Dta=function(z){this.yf=z.timestamp;this.status=z.httpcode;this.wh=z.errorcode;this.pN=n.yc.T0.name[this.wh];this.Aj=z.nativecode;!1;this.emit(n.yc.Pe.GF,z);this.TW=!1;};x.prototype.open=function(z,A,B,E,D,F,G){this.Fx=!1;this.E4=A;this.url=z;this.responseType=B;!1;if(!this.url)return (!1,!1);this.Lh=n.yc.Vc.OPENED;this.kI.aW(this,A,G);return !0;};x.prototype.fd=function(){!1;-1 !== [n.yc.Vc.OPENED,n.yc.Vc.wy,n.yc.Vc.uy].indexOf(this.Lh) && this.abort();return !0;};x.prototype.OTa=function(){this.TL=void 0;this.V4 && (this.V4.response=void 0,this.V4.cadmiumResponse.content=void 0);this.hqa=void 0;};x.prototype.iba=function(z){!1;this.url=z;return !0;};x.prototype.abort=function(){this.Lh=n.yc.Vc.QQ;this.kI.AG(this);return !0;};x.prototype.pause=function(){};x.prototype.getResponseHeader=function(){return null;};x.prototype.getAllResponseHeaders=function(){return "";};x.prototype.aZ=function(){};x.prototype.wi=function(){return this.requestId;};x.prototype.toString=function(){var z;z={requestId:this.wi(),segmentId:this.ha,isHeader:this.dd,ptsStart:this.eB,ptsOffset:this.dv,responseType:this.responseType,duration:this.hs,readystate:this.Lh};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);};x.prototype.toJSON=function(){return this.toString();};x.prototype.vKb=function(){var z,A;if(this.config().Ldb && d.Lv && d.Lv.getEntriesByType && (!this.nb.Mg(this.$D) || !this.nb.Mg(this.VG) && this.nb.Mg(this.url))){z="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.xM + "-" + this.wM + "*");A=new RegExp(z);z=d.Lv.getEntriesByType("resource").filter(function(B){return A.exec(B.name);})[0];this.nb.Mg(z) && (0 < z.startTime && (this.$D=z.startTime,0 < z.requestStart && (this.$D=Math.max(this.$D,z.requestStart))),0 < z.responseStart && (this.Ana=z.responseStart),0 < z.responseEnd && (this.VG=z.responseEnd));}};x.prototype.WNb=function(){return this.nb.Mg(this.$D) && this.nb.Mg(this.VG) && this.nb.Mg(this.Ana);};Ya.Object.defineProperties(x.prototype,{hh:{configurable:!0,enumerable:!0,get:function(){return this.E4.end - this.E4.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.wM - this.xM + 1;}},v0a:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},dd:{configurable:!0,enumerable:!0,get:function(){return !this.TD;}},response:{configurable:!0,enumerable:!0,get:function(){return this.TL;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Lh;},set:function(){}}});Object.getOwnPropertyNames(x.prototype).forEach(function(z){var A;A=Object.getOwnPropertyDescriptor(x.prototype,z);Object.defineProperty(y.prototype,z,A);});this.Cr=Object.assign(y,n.yc);}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;t=a(1);g=a(0);l=a(7);m=a(13);d=a(11);f=a(27);h=a(521);k=a(73);n=a(195);a=a(81);c=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.bd)),t.__param(1,(0,g.l)(l.ub)),t.__param(2,(0,g.l)(f.hg)),t.__param(3,(0,g.l)(h.pIa)),t.__param(4,(0,g.l)(h.AHa)),t.__param(5,(0,g.l)(a.hy))],c);b.xHa=c;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.v5a=void 0;t=a(0);c=a(337);g=a(1189);b.v5a=new t.rd(function(l){l(c.xea).to(g.PHa).ba();});},function(t,b,a){var g,l,m,d,f;function c(h){return l.bf.call(this,h,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PHa=void 0;t=a(1);g=a(46);l=a(47);m=a(0);d=a(37);f=a(5);na(c,l.bf);Ya.Object.defineProperties(c.prototype,{m5a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Nc)(5E3);}},F6a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Nc)(1E3);}},G6a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Nc)(1E3);}}});a=c;t.__decorate([g.config(g.ml,"minDecoderBufferMilliseconds")],a.prototype,"m5a",null);t.__decorate([g.config(g.ml,"optimalDecoderBufferMilliseconds")],a.prototype,"F6a",null);t.__decorate([g.config(g.ml,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"G6a",null);a=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(d.fm))],a);b.PHa=a;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.q7a=void 0;t=a(0);c=a(523);g=a(1191);l=a(72);m=a(1193);d=a(526);f=a(1194);h=a(479);k=a(1195);n=a(299);p=a(1196);b.q7a=new t.rd(function(q){q(l.Nv).to(m.UIa).ba();q(c.WIa).to(g.VIa).ba();q(h.fJa).to(k.eJa);q(h.dJa).Af(function(u){return function(){return u.fb.get(h.fJa);};});q(d.CJa).to(f.BJa).ba();q(n.Vea).to(p.yJa).ba();});},function(t,b,a){var m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B;function c(E){this.config=E;this.xz=[];}function g(E,D,F){this.Ea=E;this.sQ=D;this.context=F;this.startTime=this.Ea.$b();}function l(E,D,F,G,C,H,K,M,I,Q){this.Ecb=D;this.json=F;this.Ea=G;this.ks=C;this.Bva=H;this.Oc=K;this.config=M;this.Vb=I;this.receiver=Q;this.log=E.mb("Pbo");M.a9a && (this.xz=new c(M));this.sQ=this.Ecb();}Object.defineProperty(b,"__esModule",{value:!0});b.VIa=void 0;t=a(1);m=a(0);d=a(5);f=a(524);h=a(7);k=a(39);n=a(19);p=a(42);q=a(141);u=a(48);r=a(525);w=a(72);v=a(98);x=a(15);y=a(68);z=a(1192);a=a(299);A={"shakti-":"akira","UI-":"chromecast"};l.prototype.send=function(E,D){var F;F=new g(this.Ea,this.sQ,E);this.xz && this.xz.append(F);return this.bxa(E,D,F);};l.prototype.bxa=function(E,D,F){var G;G=this;return new Promise(function(C,H){G.retry(E,D).then(function(K){var M,I;G.m_b(K);M=ba(G.i5b(K));I=M.next().value;M=M.next().value;I && (G.receiver.wva({command:E.Gn,inputs:D,outputs:I}),G.Qxb(F),C(K));M && (G.receiver.wva({command:E.Gn,inputs:D,outputs:M}),G.cUa(F,M),H(M));}).catch(function(K){var M;G.receiver.wva({command:E.Gn,inputs:D,outputs:K});M=G.cUa(F,K);K.yb && (K.yb=[K.yb," ",M].join(""));H(K);});});};l.prototype.m_b=function(E){(E=E.serverTime) && this.Vb.Hc(x.Qda.G$a,(0,d.Nc)(E));};l.prototype.i5b=function(E){var D;!1;D=E.result;if(("deviceCommand" in E)){E=E.deviceCommand;this.log.trace("Received device command '" + E + "'");switch(E){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + E + "'"));}return [,{pE:!0,code:D,detail:{message:"Server sent device action to '" + E + "' device"}}];}if(D)return (!1,[D,void 0]);if(E.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",E),[,{code:E.code,detail:{message:E.message}}]);this.log.error("Response did not contain a result or an error",E);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};l.prototype.Gub=function(E,D,F){var G;G=this;this.y4b(D,E);this.sQ=this.Ecb(F);return this.sQ.send(D,F).then(function(C){return {retry:!1,result:z.K1.SUb(G.json,C.body)};}).catch(function(C){var H,K;H=z.K1.YIb(C);K=void 0 !== H?Math.min(H,D.Bwa):D.Bwa;return G.Raa(D,C,E,K)?(H=G.owb(C,E,K),G.log.warn("Method failed, retrying",Object.assign({Method:D.Gn,Attempt:E + 1,WaitTime:H,MaxRetries:K},G.Wla(C))),Promise.resolve({retry:!0,delay:H,error:C})):Promise.resolve({retry:!1,error:C});});};l.prototype.XGb=function(E){var D,F;if(!this.Hia || this.Hia.vUb !== E){D="";F=E;Object.entries(A).find(function(G){var C;C=ba(G);G=C.next().value;C=C.next().value;if(0 === E.indexOf(G))return (D=C,E=E.slice(G.length),!0);});this.Hia={YTa:D,Lx:E,vUb:F};}return this.Hia;};l.prototype.y4b=function(E,D){var F,G,C,H;H=E.url.searchParams;H.set(y.jC.cmb,(D + 1).toString());H.set(y.jC.dmb,E.vp);E=this.XGb(null !== (F=this.config.Lx) && void 0 !== F?F:"");E.YTa && (H.set(y.jC.ugb,E.YTa),E.Lx && H.set(y.jC.Rmb,encodeURIComponent(E.Lx)),F=this.ks.ie,(null === F || void 0 === F?0:F.name) && H.set(y.jC.Pfb,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && H.set(y.jC.Ufb,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && H.set(y.jC.Jkb,encodeURIComponent(F.os.name)),(null === (C=null === F || void 0 === F?void 0:F.os) || void 0 === C?0:C.version) && H.set(y.jC.Kkb,encodeURIComponent(F.os.version)));};l.prototype.retry=function(E,D,F){var G;G=this;F=void 0 === F?0:F;return this.Gub(F++,E,D).then(function(C){if(C.retry)return G.wait(C.delay).then(function(){return G.retry(E,D,F);});if(C.error)throw C.error;if(void 0 === C.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return C.result;});};l.prototype.Raa=function(E,D,F,G){var C;C=this.ks.Z9a || z.K1.XNb(D);if(C && F < G)return !0;C?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:E.Gn,Attempt:F + 1,MaxRetries:G},this.Wla(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:E.Gn},this.Wla(D)));return !1;};l.prototype.owb=function(E,D,F){if(E && E.CE && void 0 !== E.CE.retryAfterSeconds)return (0,d.Ch)(E.CE.retryAfterSeconds);E=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,F));return (0,d.Nc)(this.Bva.E8a(E,D));};l.prototype.wait=function(E){var D;D=this;return new Promise(function(F){D.Oc.Jk(E || d.eb,F);});};l.prototype.Wla=function(E){return (0,r.p2a)(E)?E:{message:E.message,subCode:E.Ec,extCode:E.Nd,mslCode:E.RA,data:E.data};};l.prototype.Qxb=function(E){E.hQ();};l.prototype.cUa=function(E,D){var F;E.iu(D);if(this.xz)try{F=this.json.stringify(this.xz);this.log.error("PBO command history",F);return F;}catch(G){}return "";};B=l;B=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(h.ub)),t.__param(1,(0,m.l)(f.WMa)),t.__param(2,(0,m.l)(k.qF)),t.__param(3,(0,m.l)(n.md)),t.__param(4,(0,m.l)(p.jn)),t.__param(5,(0,m.l)(q.T1)),t.__param(6,(0,m.l)(u.Wj)),t.__param(7,(0,m.l)(w.Nv)),t.__param(8,(0,m.l)(v.yda)),t.__param(9,(0,m.l)(a.Vea))],B);b.VIa=B;g.prototype.hQ=function(){this.aa=!0;this.elapsedTime=this.Ea.$b().Ka(this.startTime);};g.prototype.iu=function(E){this.aa=!1;this.elapsedTime=this.Ea.$b().Ka(this.startTime);this.L1b=E.Ec || E.subCode;this.jFb=E.Nd || E.extCode;};g.prototype.toString=function(){return JSON.stringify(this);};g.prototype.toJSON=function(){var E;E=Object.assign({success:this.aa,method:this.context.Gn,startTime:this.startTime.da(d.la),elapsedTime:this.elapsedTime?this.elapsedTime.da(d.la):"in progress"},this.sQ.pla());return this.aa?E:Object.assign(Object.assign(Object.assign({},E),this.sQ.pla()),{subcode:this.L1b,extcode:this.jFb});};c.prototype.append=function(E){this.xz.push(E);0 < this.config.dqa && this.xz.length > this.config.dqa && this.xz.shift();};c.prototype.toJSON=function(){return this.xz;};},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.K1=void 0;g=a(3);c.XNb=function(l){var m,d;m=l && l.code;d=l && (l.sa || l.Ec);l=l.Nd !== g.m1.KIa;d=! !d && d >= g.M.SR && d <= g.M.QR && l;return !("RETRY" !== m && "FAIL" !== m) || d;};c.YIb=function(l){var m,d;d=null === (m=null === l || void 0 === l?void 0:l.CE) || void 0 === m?void 0:m.maxRetries;return "number" === typeof d?d:"FAIL" === (null === l || void 0 === l?void 0:l.code)?1:void 0;};c.SUb=function(l,m){var d;if(m){try{d=l.parse(m);}catch(f){throw {pE:!0,code:"FAIL",message:"Unable to parse the response body",data:m};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (l=d.result.find(function(f){return f.error;})))throw l.error;return d;}throw {pE:!0,code:"FAIL",message:"There is no result property on the response"};}throw {pE:!0,code:"FAIL",message:"There is no body property on the response"};};b.K1=c;},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p,q,u){n=l.bf.call(this,n,"PboConfigImpl") || this;n.config=p;n.Ztb=q;n.vh=u;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.UIa=void 0;t=a(1);g=a(0);l=a(47);m=a(37);d=a(46);f=a(13);h=a(125);a=a(111);na(c,l.bf);Ya.Object.defineProperties(c.prototype,{Lx:{configurable:!0,enumerable:!0,get:function(){return this.config().sq.Lx || "";}},Dba:{configurable:!0,enumerable:!0,get:function(){return this.config().sq.Dba || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().sq.ava;}},n2a:{configurable:!0,enumerable:!0,get:function(){return !1;}},bRb:{configurable:!0,enumerable:!0,get:function(){return !0;}},dRb:{configurable:!0,enumerable:!0,get:function(){return !0;}},H$a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Ztb.LSa,version:"^1.0.0"},pair:{service:"pbo_mdx",version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.I$a);}},I$a:{configurable:!0,enumerable:!0,get:function(){return {};}},a9a:{configurable:!0,enumerable:!0,get:function(){return !1;}},dqa:{configurable:!0,enumerable:!0,get:function(){return 10;}},uRa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Cw:{configurable:!0,enumerable:!0,get:function(){return this.vh.Cw;}},pD:{configurable:!0,enumerable:!0,get:function(){return this.vh.pD;}},$J:{configurable:!0,enumerable:!0,get:function(){return this.vh.$J;}},Ndb:{configurable:!0,enumerable:!0,get:function(){return !1;}},YWa:{configurable:!0,enumerable:!0,get:function(){return !0;}},eXa:{configurable:!0,enumerable:!0,get:function(){return !0;}},mH:{configurable:!0,enumerable:!0,get:function(){return this.vh.mH;}},HUa:{configurable:!0,enumerable:!0,get:function(){return ["start"];}}});k=c;t.__decorate([d.config(d.string,"uiVersion")],k.prototype,"Lx",null);t.__decorate([d.config(d.string,"uiPlatform")],k.prototype,"Dba",null);t.__decorate([d.config(d.EB,"pboVersion")],k.prototype,"version",null);t.__decorate([d.config(d.string,"pboOrganization")],k.prototype,"organization",null);t.__decorate([d.config(d.CJ,"pboLanguages")],k.prototype,"languages",null);t.__decorate([d.config(d.cd,"hasLimitedPlaybackFunctionality")],k.prototype,"n2a",null);t.__decorate([d.config(d.cd,"mdxBindUsingNodeQuark")],k.prototype,"bRb",null);t.__decorate([d.config(d.cd,"mdxPairUsingNodeQuark")],k.prototype,"dRb",null);t.__decorate([d.config(d.object(),"pboCommands")],k.prototype,"H$a",null);t.__decorate([d.config(d.object(),"pboCommandsOverride")],k.prototype,"I$a",null);t.__decorate([d.config(d.cd,"pboRecordHistory")],k.prototype,"a9a",null);t.__decorate([d.config(d.EB,"pboHistorySize")],k.prototype,"dqa",null);t.__decorate([d.config(d.cd,"pboAddXEsnHeader")],k.prototype,"uRa",null);t.__decorate([d.config(d.cd,"combineManifestAndLicense")],k.prototype,"Cw",null);t.__decorate([d.config(d.cd,"enableLicensedManifestForPrefetch")],k.prototype,"pD",null);t.__decorate([d.config(d.cd,"useLdlForPrefetchLicensedManifest")],k.prototype,"$J",null);t.__decorate([d.config(d.cd,"pboUseStudioManifest")],k.prototype,"Ndb",null);t.__decorate([d.config(d.cd,"pboEnableLeanManifest")],k.prototype,"YWa",null);t.__decorate([d.config(d.cd,"pboEnableV2OptimizedManifest")],k.prototype,"eXa",null);t.__decorate([d.config(d.cd,"pboEnableManifestPartialHydrationSupport")],k.prototype,"mH",null);t.__decorate([d.config(d.CJ,"pboContentPlaygraphTypes")],k.prototype,"HUa",null);k=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.fm)),t.__param(1,(0,g.l)(f.bd)),t.__param(2,(0,g.l)(h.gK)),t.__param(3,(0,g.l)(a.KF))],k);b.UIa=k;},function(t,b,a){var l,m;function c(d,f,h,k,n,p,q){this.version=d;this.url=f;this.id=h;this.languages=k;this.zb=n;this.JDb=p;this.hSb=q;}function g(d){this.Xh=d;}Object.defineProperty(b,"__esModule",{value:!0});b.BJa=void 0;t=a(1);l=a(0);a=a(72);g.prototype.create=function(d,f,h,k,n){return new c(this.Xh.version,f,d,this.Xh.languages,h,k,n);};m=g;m=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(a.Nv))],m);b.BJa=m;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.zb,echo:this.JDb};};},function(t,b,a){var g,l,m;function c(d,f){this.gH=f;this.log=d.mb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.eJa=void 0;t=a(1);g=a(0);l=a(7);a=a(92);c.prototype.gRa=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.nW=function(d){!1;return this.links[d];};m=c;m=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub)),t.__param(1,(0,g.l)(a.ay))],m);b.eJa=m;},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.yJa=void 0;t=a(1);a=a(0);c.prototype.O_b=function(l){this.listener=l;};c.prototype.wva=function(l){var m;null === (m=this.listener) || void 0 === m?void 0:m.call(this,l);};g=c;g=t.__decorate([(0,a.T)()],g);b.yJa=g;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,O,N,P,S,U,Z;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;t=a(0);c=a(477);g=a(527);l=a(1198);m=a(529);d=a(1199);f=a(424);h=a(348);k=a(1200);n=a(1211);p=a(13);q=a(19);u=a(97);r=a(27);w=a(7);v=a(1212);x=a(263);y=a(1213);z=a(5);A=a(1214);B=a(1215);E=a(549);D=a(1216);F=a(98);G=a(530);C=a(1217);H=a(115);K=a(29);M=a(158);I=a(92);Q=a(288);L=a(552);J=a(1218);O=a(71);N=a(42);P=a(531);S=a(1219);U=a(300);Z=a(26);b.j=new t.rd(function(ja){ja(L.jfa).to(J.$Ja).ba();ja(U.zca).Af(function(ya){var ra;ra=ya.fb;return function(Y,pa){return new (a(1220).kAa)(Y,pa,ra.get(u.Bv));};});ja(c.ZMa).Af(function(ya){var ra;ra=ya.fb;return function(Y,pa,T,R,ea,sa,la,Ka,Ua){return new (a(1223).$Ma)(ra.get(A.eNa),Y,pa,T,R,ea,sa,la,Ka,Ua);};});ja(A.eNa).to(B.dNa).ba();ja(g.cNa).to(l.bNa).ba();ja(h.VJa).to(k.UJa).ba();ja(P.nLa).to(S.mLa);ja(P.lLa).ncb(P.nLa);ja(f.LCa).Af(function(ya){var ra;ra=ya.fb;return function(Y){return new (a(1224).MCa)(ra.get(F.KCa),ra.get(u.Bv),ra.get(q.md),Y);};});ja(m.JAa).Af(function(){return function(ya){return new d.KAa(ya);};});ja(v.OJa).Af(function(ya){var ra;ra=ya.fb;return function(Y){return new n.PJa(Y,ra.get(w.ub),ra.get(p.bd),ra.get(r.hg),ra.get(u.Bv));};});ja(x.lfa).Af(function(ya){var ra;ra=ya.fb;return function(Y,pa,T,R,ea,sa,la,Ka,Ua,$a,Za){$a=void 0 === $a?function(){return !1;}:$a;return new y.bKa(Y,pa,T,R,ea,sa,la,Ka,Ua,ra.get(v.OJa),ra.get(L.jfa),$a,Za);};});ja(E.GLa).Af(function(ya){return function(ra){var Y,pa;Y=ya.fb.get(p.bd);pa=ya.fb.get(w.ub);return new D.HLa(Y,ra,pa);};});ja(G.XJa).Af(function(ya){return function(ra){var Y,pa,T,R,ea;Y=ya.fb.get(I.ay);pa=ya.fb.get(H.WK);T=ya.fb.get(K.jg);R=ya.fb.get(M.CS);ea=ya.fb.get(Z.$x);return new C.YJa(ra,Y,pa((0,z.Ch)(1)),T,R,ea);};});ja(Q.vea).TE(function(ya){return new (a(1225).LHa)(ya.fb.get(O.gS),ya.fb.get(N.jn));}).ba();});},function(t,b,a){var g,l,m,d,f,h;function c(k,n){this.og=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.bNa=void 0;t=a(1);g=a(15);l=a(528);m=a(19);d=a(0);f=a(5);a=a(13);c.prototype.iN=function(k){var n;k.z_={};if(!k.nO() && k.DB && 0 < k.DB.length && (k.CB=this.PZa(k),k.CB)){n=this.n0b(k);n() || (k.Ab.addListener(n),k.Ze.addListener(n));}};c.prototype.n0b=function(k){var p;function n(){var q,u;if(!k.Ze.value || k.Ab.value === g.hb.Sf)return !1;q=k.CB;u=q.getState();return u === l.Pp.LOADING?!1:u !== l.Pp.rF && q.retry?(q=p.yKb(k))?(k.z_.offset=p.og.$b().da(f.la),k.CB=q,q.download(),!0):!1:(k.Ab.removeListener(n),k.Ze.removeListener(n),!1);}p=this;return n;};c.prototype.yKb=function(k){var n,p;n=this.config();p=k.Tl.QN() < n.w3b;n=(k.Ze.value?k.Ze.value.bitrate:0) > n.v3b;return this.XJb(k,p && n);};c.prototype.XJb=function(k,n){if(n && (n=this.PZa(k),this.N_a(k,n.size)))return (k.z_.I9a="h",n);n=this.WIb(k);if(this.N_a(k,n.size))return (k.z_.I9a="l",n);};c.prototype.N_a=function(k,n){var p,q;p=this.config();q=Math.min(k.mU(),k.K_());return k.ivb.ewb(n) * (1 + .01 * p.Ctb[2]) < q * p.z3b;};c.prototype.PZa=function(k){return k.DB[k.DB.length - 1];};c.prototype.WIb=function(k){return k.DB[0];};h=c;h=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(m.md)),t.__param(1,(0,d.l)(a.bd))],h);b.bNa=h;},function(t,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.KAa=void 0;a.prototype.qdb=function(){var c;c=this.j.Ia;if(null !== c && void 0 !== c && c.uC){c=c.Wb.get();if(null === c || void 0 === c?0:c.Gk)this.j.Gk=c.Gk.Ba;if(null === c || void 0 === c?0:c.Ua)this.j.Ua=c.Ua.Ba;}};a.prototype.Fm=function(){-1 === this.j.Ua && this.qdb();return this.j.Ua;};a.prototype.ewb=function(c){-1 !== this.j.Gk && -1 !== this.j.Ua || this.qdb();return -1 === this.j.Gk || -1 === this.j.Ua?Number.MAX_VALUE:this.j.Gk + 8 * c / this.j.Ua;};b.KAa=a;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I;function c(Q,L,J,O,N,P,S,U,Z,ja,ya,ra,Y,pa,T,R,ea,sa,la,Ka,Ua,$a,Za,cb,Va,Qa){this.nA=Q;this.SC=L;this.Ea=J;this.za=O;this.jvb=N;this.uya=P;this.wX=S;this.tsa=U;this.vO=Z;this.Gd=ja;this.Yh=ya;this.fj=ra;this.rM=Y;this.AY=pa;this.Ak=T;this.Lya=R;this.ag=ea;this.Om=sa;this.se=la;this.Jua=Ka;this.PYb=Ua;this.uja=$a;this.oI=Za;this.tua=cb;this.K4=Va;this.lM=Qa;}Object.defineProperty(b,"__esModule",{value:!0});b.UJa=void 0;t=a(1);g=a(81);l=a(0);m=a(115);d=a(31);f=a(19);h=a(38);k=a(529);n=a(264);p=a(478);q=a(498);u=a(121);r=a(142);w=a(163);v=a(104);x=a(468);y=a(263);z=a(1201);A=a(527);B=a(50);E=a(29);D=a(530);F=a(71);G=a(531);C=a(300);H=a(288);K=a(120);M=a(510);c.prototype.create=function(Q,L,J,O,N,P,S,U){return new (a(532).WJa)(Q,L,P,S,O,N,this.nA,J,this.Ea,this.SC,this.za,this.wX,this.jvb,this.uya,this.tsa,this.vO,this.Gd,this.Yh,this.fj,this.rM,this.AY,this.Ak,this.Lya,this.ag,this.se,this.Jua,this.Om,this.PYb(),this.uja,this.oI,this.tua,void 0,this.K4,U);};I=c;I=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(g.hy)),t.__param(1,(0,l.l)(d.mh)),t.__param(2,(0,l.l)(f.md)),t.__param(3,(0,l.l)(h.gi)),t.__param(4,(0,l.l)(k.JAa)),t.__param(5,(0,l.l)(m.WK)),t.__param(6,(0,l.l)(n.pea)),t.__param(7,(0,l.l)(p.dHa)),t.__param(8,(0,l.l)(q.bS)),t.__param(9,(0,l.l)(u.VF)),t.__param(10,(0,l.l)(r.uS)),t.__param(11,(0,l.l)(w.MF)),t.__param(12,(0,l.l)(x.SAa)),t.__param(13,(0,l.l)(y.lfa)),t.__param(14,(0,l.l)(K.wF)),t.__param(15,(0,l.l)(A.cNa)),t.__param(16,(0,l.l)(B.kn)),t.__param(17,(0,l.l)(F.gS)),t.__param(18,(0,l.l)(E.jg)),t.__param(19,(0,l.l)(D.XJa)),t.__param(20,(0,l.l)(G.lLa)),t.__param(21,(0,l.l)(C.zca)),t.__param(22,(0,l.l)(H.vea)),t.__param(23,(0,l.l)(M.tJa)),t.__param(24,(0,l.l)(z.EBa)),t.__param(24,(0,l.optional)()),t.__param(25,(0,l.l)(v.SQ)),t.__param(25,(0,l.optional)())],I);b.UJa=I;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.EBa=b.FBa=void 0;t=b.FBa || (b.FBa={});t[t.Qkb=0]="PAUSE";t[t.amb=1]="RESUME";t[t.T6b=2]="CAPTIONS_ON";t[t.S6b=3]="CAPTIONS_OFF";t[t.U6b=4]="CAPTION_LANGUAGE_CHANGED";t[t.i6b=5]="AUDIO_LANGUAGE_CHANGED";t[t.t9b=6]="NEXT_EP";t[t.k$b=7]="PREV_EP";t[t.kC=8]="SEEK";t[t.zLa=9]="STOP";b.EBa="CastInteractionTrackerSymbol";},function(t,b,a){var d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I;function c(){this.tba=[];this.e3b=50;}function g(Q){var L;L=this;this.j=Q;this.leb=Promise.resolve();this.xDa=nb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.JC=[];this.Ft=new n.Rk();this.nOa=this.nga=0;this.E2=[];this.Ig=(0,u.Sh)(this.j,"MediaElementASE");this.mQa=z.Bl;this.Lga=!1;this.Rb=new c();this.Mo={};this.QOa={};this.R6=this.G2(function(){var J;if(L.Z)return null !== (J=L.Z.webkitDecodedFrameCount) && void 0 !== J?J:0;});this.wD=this.G2(function(){var J;if(L.Z){J=L.fha();return J?J.totalVideoFrames:L.Z.webkitDecodedFrameCount;}});this.zH=this.G2(function(){var J;if(L.Z){J=L.fha();return J?J.droppedVideoFrames:L.Z.webkitDroppedFrameCount;}});this.gW=this.G2(function(){var J;if(L.Z){J=L.fha();return J && J.corruptedVideoFrames;}});this.mPa=function(J){return L.Ft.Hc(F.Uj.o3a,{S:J});};this.Rl=u.pa.get(D.eGa).create(k.config.Dp,this,this.j);k.config.ZD && (this.leb=new Promise(function(J){L.mQa=J;L.j.addEventListener(H.ea.pg,J);}));this.Ig.trace("Created Media Element");this.addEventListener=this.Ft.addListener;this.removeEventListener=this.Ft.removeListener;}function l(Q){var L,J;L=u.pa.get(G.GNa).SJb();Q=Q.width / Q.height * L.height;J=(L.width - Q) / 2;return k.config.i0b?(0,z.createElement)("VIDEO","position:absolute;width:" + Q + "px;height:" + L.height + "px;left:" + J + "px;top:0px"):(0,z.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function m(Q){Q.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.rHa=void 0;d=a(40);f=a(305);h=a(12);k=a(14);n=a(73);p=a(62);q=a(49);u=a(8);r=a(3);w=a(22);v=a(93);x=a(332);y=a(24);z=a(30);A=a(306);B=a(11);E=a(17);D=a(538);F=a(307);G=a(515);C=a(5);H=a(15);K=a(64);M=a(55);I=! !(B.eC && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);g.prototype.hW=function(Q){try{this.Z && (this.nOa=this.Z.currentTime);}catch(L){this.Ig.error("Exception while getting VIDEO.currentTime",L);Q && this.WS(r.N.wlb,L);}return (0,B.Tj)(this.nOa * z.cm);};g.prototype.seek=function(Q){var L;(0,w.jb)(!this.Yp);this.fQa();L=this.hW(!0);if(!k.config.Ttb && (0,B.xF)(L - Q) <= this.Swa)(this.Ig.trace("Seek delta too small",{currentTime:L,seekTime:Q,min:this.Swa}),this.Rb.trace("smallseek",Q));else {this.Rb.trace("seek",Q);try{this.Ig.trace("Setting video elements currentTime",{From:(0,v.kj)(L),To:(0,v.kj)(Q)});this.Yp={};this.Z.currentTime=Q / z.cm;this.Ft.Hc(F.Uj.pq);}catch(J){this.Ig.error("Exception while setting VIDEO.currentTime",J);this.WS(r.N.xlb,J);}}};g.prototype.O_a=function(){return ! !this.Yp;};g.prototype.addSourceBuffer=function(Q){var L,J;L=(0,z.Je)(this.nga.toString() + this.JC.length.toString());L={OZ:this.nga,z4:L};try{J=new f.sea(this.j,Q,this.mg,L,this.Ig);this.JC.push(J);Q == h.HK && J.Bna && J.Bna.addListener(this.mQa);return J;}catch(O){J=(0,z.wd)(O);this.Ig.error("Unable to add source buffer.",{error:J});this.j.Ld(r.N.Mea,{sa:Q === d.Ub.Al.Yb?z.M.mea:z.M.nea,yb:J});}};g.prototype.T3=function(Q){var L;L=this;Q.forEach(function(J){return L.addSourceBuffer(J);});this.Ft.Hc(F.Uj.Sab);return !0;};g.prototype.removeSourceBuffer=function(Q){this.JC=this.JC.filter(function(L){return !(0,q.lUa)(Q,L);});this.mg.removeSourceBuffer(Q);};g.prototype.endOfStream=function(){this.Rb.trace("endofstream");!1;k.config.vka && this.mg.endOfStream();};g.prototype.rq=function(Q){!1;this.JC=[];Q && Q.vec();return !0;};g.prototype.u_b=function(Q){this.nga=Q;};g.prototype.j_a=function(){if(this.mg)return (0,C.$7a)(this.mg.duration);};g.prototype.NCb=function(){var Q;if(!this.Lga && this.Z && this.Z.readyState >= K.vo.j1.HAVE_CURRENT_DATA){Q=this.Z.webkitDecodedFrameCount;if(void 0 === Q || 0 < Q || k.config.M5b)this.Lga=!0;}return this.Lga;};g.prototype.open=function(){var Q,L,J;Q=this;this.Z=l(this.j.JB);this.sourceBuffers=this.JC;this.j.addEventListener(H.ea.Bab,function(O){return Q.Mqb(O);});if(I){this.j.ZH && !k.config.Cdb && this.Rl.l$();try{this.mg=new B.eC();}catch(O){this.WS(r.N.nlb,O);return;}try{this.Hl=URL.createObjectURL(this.mg);}catch(O){this.WS(r.N.olb,O);return;}try{this.Rl.ftb(this.mPa);this.mg.addEventListener("sourceopen",function(O){return Q.LPa(O);});this.mg.addEventListener(this.xDa + "sourceopen",function(O){return Q.LPa(O);});this.Z.addEventListener("error",this.Mo.error=function(O){return Q.yT(O);});this.Z.addEventListener("seeking",this.Mo.seeking=function(){return Q.Lqb();});this.Z.addEventListener("seeked",this.Mo.seeked=function(){return Q.Kqb();});this.Z.addEventListener("timeupdate",this.Mo.timeupdate=function(){return Q.Nqb();});this.Z.addEventListener("loadstart",this.Mo.loadstart=function(){return Q.Pha();});this.Z.addEventListener("volumechange",this.Mo.volumechange=function(O){return Q.Oqb(O);});this.Z.addEventListener(this.Rl.kE,this.Mo[this.Rl.kE]=function(){Q.Ig.trace(Q.Rl.kE);Q.Iqb();});L=this.j.Pg;J=L.lastChild;J?L.insertBefore(this.Z,J):L.appendChild(this.Z);k.config.hWa && this.Z.addEventListener("contextmenu",m);this.Z.src=this.Hl;p.we.addListener(p.ns,this.QOa[p.ns]=function(){return Q.KPa();});this.KPa();}catch(O){this.WS(r.N.plb,O);}}else this.A2(r.N.DIa);};g.prototype.close=function(){var L;function Q(){L.Hl && (L.fQa(),p.we.removeListener(p.ns,L.QOa[p.ns]),L.Wnb());}L=this;this.Rb.trace("close");this.Z.removeEventListener(this.Rl.kE,this.Mo[this.Rl.kE]);this.Z.removeEventListener("error",this.Mo.error);this.Z.removeEventListener("seeking",this.Mo.seeking);this.Z.removeEventListener("seeked",this.Mo.seeked);this.Z.removeEventListener("timeupdate",this.Mo.timeupdate);this.Z.removeEventListener("loadstart",this.Mo.loadstart);this.Z.removeEventListener("volumechange",this.Mo.volumechange);this.Rl.vYb(this.mPa);k.config.Dp?this.Rl.jB().then(function(){return Q();}):Q();this.Rl.s9a && clearTimeout(this.Rl.s9a);};g.prototype.CD=function(){return this.Rb.CD();};g.prototype.Iqb=function(){k.config.Cdb && this.Rl.l$();};g.prototype.fha=function(){if(this.Z)return this.Z.getVideoPlaybackQuality && this.Z.getVideoPlaybackQuality() || this.Z.videoPlaybackQuality || this.Z.playbackQuality;};g.prototype.Zrb=function(){var Q;Q=this.j.Ph;return (Q=Q && Q.errorCode) && 0 <= [r.N.I1,r.N.n1].indexOf(Q);};g.prototype.Wnb=function(){var Q;Q=!1;k.config.IWb && this.Zrb() && (Q=!0);k.config.Ixb && !Q && (this.Z.removeAttribute("src"),this.Z.load && this.Z.load());URL.revokeObjectURL(this.Hl);k.config.hWa && this.Z.removeEventListener("contextmenu",m);!Q && this.Z && this.j.Pg.removeChild(this.Z);this.Z=this.mg=void 0;this.Hl="";};g.prototype.KPa=function(){!0 === B.Be.hidden?this.E2.forEach(function(Q){Q.refresh();Q.e1b();}):this.E2.forEach(function(Q){Q.refresh();Q.r1b();});};g.prototype.G2=function(Q){var L;L=u.pa.get(x.mIa)(Q);this.E2.push(L);return function(){L.refresh();return L.MHb();};};g.prototype.WS=function(Q,L){var J,O;J={sa:z.M.Qk,yb:(0,z.wd)(L)};try{(O=L.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == O.length && (J.wf=O);}catch(N){}this.j.Ld(Q,J);};g.prototype.fQa=function(){this.E2.forEach(function(Q){Q.refresh();});};g.prototype.Qob=function(){return this.Z && this.Z.msGraphicsTrustStatus;};g.prototype.A2=function(Q,L){this.j.Ld(Q,L,void 0);};g.prototype.Mqb=function(Q){var L,O,N,P,S,U,Z;if(this.Z){Q=Q.M_;L=this.Qob();L && (Q.ConstrictionActive=L.constrictionActive,Q.Status=L.status);try{Q.readyState="" + this.Z.readyState;Q.currentTime="" + this.Z.currentTime;Q.pbRate="" + this.Z.playbackRate;}catch(ja){}L=this.JC.length;for(var J;L--;){J=this.JC[L];O="";J.type == h.s1?O="audio":J.type == h.HK && (O="video");(0,z.bc)(Q,J.J6(),{prefix:O});k.config.kEb && this.j.Ph && h.HK == J.type && (O=(0,z.UP)(J.P6()),3E3 > (O.data && O.data.length) && (O.data=(0,y.QUa)(O.data).join(),(0,z.bc)(Q,O,{prefix:J.type})));}this.mg && (L=this.mg.duration) && !isNaN(L) && (Q.duration=L.toFixed(4));if(k.config.QPb)try{N=this.j.uf;P=N && N.Mb;if(P){S=P.expiration;isNaN(S) || (Q.exp=S);U=P.keyStatuses.entries();if(U.next){Z=U.next().value;Z && (Q.keyStatus=Z[1]);}}}catch(ja){}}};g.prototype.LPa=function(Q){!1;this.bsb || (this.bsb=!0,this.Ft.Hc(F.Uj.Tab,Q));};g.prototype.Lqb=function(){this.Rb.trace("seeking");this.Ig.trace("Video element event: seeking");this.Yp?this.Yp.hTb=!0:(this.Ig.error("unexpected seeking event"),k.config.xFb && this.A2(r.N.Clb,{yb:{Trace:this.CD()}}));};g.prototype.Kqb=function(){this.Rb.trace("seeked");this.Ig.trace("Video element event: seeked");this.Yp?((0,w.jb)(this.Yp.hTb),this.Yp.gTb=!0,this.JQa()):(this.Ig.error("unexpected seeked event"),k.config.wFb && this.A2(r.N.Blb,{yb:{Trace:this.CD()}}));};g.prototype.Nqb=function(){var Q;this.Rb.trace("timeupdate",null === (Q=this.Z) || void 0 === Q?void 0:Q.currentTime);!1;this.Yp && (this.Yp.jTb=!0,this.JQa());this.Ft.Hc(F.Uj.pq);};g.prototype.Pha=function(){this.Ig.trace("Video element event: loadstart");};g.prototype.Oqb=function(Q){this.Ig.trace("Video element event:",Q.type);try{this.j.volume.set(this.Z.volume);this.j.muted.set(this.Z.muted);}catch(L){this.Ig.error("error updating volume",L);}};g.prototype.yT=function(Q){var L,J,O,N,P,S,U,Z;L=this.A2;J=r.N.CIa;O=r.ODa;N=this.CD();P=Q.target;S=P && P.error;U=Q.errorCode;P=S && S.code;(0,z.$c)(P) || (P=U && U.code);U=S && S.message;Z=S && S.msExtendedCode;(0,z.$c)(Z) || (Z=S && S.systemCode);(0,z.$c)(Z) || (Z=Q.systemCode);(0,z.$c)(Z) || (Z=(0,M.Soa)(U));Q=(0,z.bc)({},{code:P,systemCode:Z,trace:JSON.stringify(N)},{VA:!0});O={sa:O(P),yb:(0,A.osa)(Q)};try{U && (O.EX=U);}catch(ja){}Z=(0,z.Je)(Z);(0,E.Fa)(Z) && (O.wf=(0,u.Sja)(Z,4));L.call(this,J,O);};g.prototype.JQa=function(){this.Yp && this.Yp.gTb && this.Yp.jTb && (this.Rb.trace("seekcomplete"),this.Yp=void 0,this.Ft.Hc(F.Uj.vZ));};Ya.Object.defineProperties(g.prototype,{Swa:{configurable:!0,enumerable:!0,get:function(){return k.config.X0b;}}});b.rHa=g;c.prototype.trace=function(Q,L){this.tba.push([Q,L]);this.tba.length > this.e3b && this.tba.shift();};c.prototype.CD=function(){return this.tba;};},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u;function c(r){var w;w=this;this.j=r;this.lya=this.A5a=0;this.pg=this.Pm=!1;this.raa=0;this.Zl=function(){var v,x;w.oaa();w.cH && (w.log.info("Deactivating",w.cH),w.yB.GBb(w.Ue()));w.j.Ri.set(null);w.LJ.Z$a(void 0);w.TTa();v=w.j.kc.value;v && v.Jq() && !v.jp() && (v=null);if(v && w.j.Ab.value !== q.hb.Sf){x=w.Ue();w.yB.Qsb(x,v);}v?(w.log.info("Activating",v),w.j.Ym.set(v.getState() === g.QF.lC.rF?q.Cf.te:q.Cf.xd),w.Pm || w.j.Ed("tt_start"),v.U7().then(w.gM).catch(w.gM)):w.j.Ym.set(q.Cf.te);w.cH=v;w.YJ();};this.sync=function(){w.Pm && (w.LJ.start(),w.j.Ab.value !== q.hb.Lc && w.LJ.stop());};this.YJ=function(){var v;w.j.state.value === q.Sb.te && w.j.Ab.value !== q.hb.Sf && (w.Eh?v=w.LJ.ZGb():w.j.kc.value && (v=c.n1b[w.j.kc.value.getState()]));v && (0,p.$c)(v.startTime) && w.j.tv.value !== v && (w.A5a++,w.lya+=w.LJ.k_a() - v.startTime,w.ESa=Math.ceil(w.lya / (w.A5a + 0)));w.j.tv.set(v);};this.Ue=function(){var v;v=w.j.Uoa();w.cH && w.cH.yu && (v+=w.cH.yu);return v;};this.cUb=function(v){w.fireEvent(c.K0b,v);v && v.id && (w.yB.udb(v.id),!1);w.log.trace("showsubtitle",w.W_a(v));};this.YTb=function(v){w.fireEvent(c.DYb,v);w.log.trace("removesubtitle",w.W_a(v));};this.Dk=function(){w.log.warn("imagesubs buffer underflow",w.j.kc.value.Wh);w.j.Ym.set(q.Cf.xd);};this.vTb=function(){w.log.info("imagesubs buffering complete",w.j.kc.value.Wh);w.j.Ym.set(q.Cf.te);};this.g$=function(){w.Pm && w.Eh && w.Eh.ht(w.Ue());};this.x6a=function(v){w.Pm && w.Eh && (w.Eh.pause(),w.Eh.tB(v.mk));};this.mE=function(){w.Pm && w.Eh && w.Eh.uva();};this.u6a=function(v){w.Eh && w.Eh.Ei(v.Yg,v.NO);};this.C6a=function(v){w.Eh && w.Eh.Gi(v.ha,v.B4b);};this.QTb=function(){w.Pm=!0;(0,n.Wf)(function(){var v,x;(null === (v=w.cH) || void 0 === v?0:v.wk)?null === (x=w.Eh) || void 0 === x?void 0:x.ht(w.Ue()):w.sync();w.YJ();});};this.NTb=function(){w.TTa();w.LJ.stop();w.YJ();w.pg=!0;w.oaa();};this.cua=function(v){(v=v.newValue) && (0,p.isArray)(v.blocks) && (w.yB.udb.apply(w.yB,ha(v.blocks.map(function(x){return x.id;}))),!1);};this.UTb=function(v){w.v4b(v.newValue,v.oldValue);w.sync();w.YJ();};this.gM=function(v){var x;if(!w.pg){x=v.track;if(x === w.j.kc.value)try{w.Eh=x.iya;x.wk?w.Osb(v):w.Psb(v);}catch(y){w.log.error("Error activating track:",y,x);return;}w.Pm || w.j.Ed(v.aa?"tt_comp":"tt_err");v.aa?(d.config.j$a?setTimeout(function(){w.j.Ym.set(q.Cf.te);},d.config.j$a):w.j.Ym.set(q.Cf.te),x.wk || w.YJ()):v.aborted?w.log.warn("aborted timed text track loading"):d.config.vFb?w.j.Ld(k.N.kjb,{yb:v.track?v.track.Wh:{}}):(w.log.error("ignore subtitle initialization error",v),w.j.Ym.set(q.Cf.te));}};this.Vb=new m.Rk();this.yB=new h.tMa((0,f.Sh)(r,"SubtitleTracker"),d.config.yEb);this.log=(0,f.Sh)(r,"TimedTextManager");this.LJ=new l.PMa(this.Ue,this.YJ);this.j.kc.addListener(this.Zl);d.config.dWb?(this.j.addEventListener(q.ea.Pm,this.QTb),this.Zl()):(this.j.Ym.set(q.Cf.te),this.j.addEventListener(q.ea.Pm,function(){w.Pm=!0;w.Zl();}));this.j.Ab.addListener(this.UTb);this.j.addEventListener(q.ea.vya,this.sync);this.j.tv.addListener(this.cua);this.j.addEventListener(q.ea.pg,this.NTb);}Object.defineProperty(b,"__esModule",{value:!0});b.NMa=void 0;g=a(284);l=a(539);m=a(73);d=a(14);f=a(8);h=a(1204);k=a(3);n=a(63);p=a(17);q=a(15);u=a(1205);c.prototype.addEventListener=function(r,w,v){this.Vb.addListener(r,w,v);};c.prototype.removeEventListener=function(r,w){this.Vb.removeListener(r,w);};c.prototype.fireEvent=function(r,w,v){this.Vb.Hc(r,w,v);};c.prototype.Pia=function(r,w,v){var x,y;x=this;y=u.LMa.wAb(this.j,r,w,v);this.N1a(this.j.bi,y);this.j.Si.forEach(function(z){x.N1a(z.bi,y);});this.j.kc.set(y);this.j.fireEvent(q.ea.vv);};c.prototype.kWb=function(r){this.swa(r)?r.U7().then(function(){}):Promise.resolve();};c.prototype.oKb=function(r){return this.yB.YJb(r);};c.prototype.qpa=function(r){return this.yB.qpa(r);};c.prototype.zW=function(){var r,w;r=this.j.o_;w=d.config.Aya.characterSize;w={size:d.config.oba.characterSize || w};r && (w.visibility=r.wpa(),w.CU=r.upa(),w.Ds=r.vpa());return w;};c.prototype.e0b=function(r){d.config.oba.characterSize=r;r=this.j.kc.value;this.swa(r) && !r.wk && r.U7().then(this.gM).catch(this.gM);};c.prototype.v4b=function(r,w){var v;r === q.hb.Lc || r == q.hb.ph?w !== q.hb.Lc && w !== q.hb.ph && ((w=this.j.kc.value) && !this.swa(w) || this.yB.F5a(this.Ue(),w || void 0,"presentingstate:" + r)):r !== q.hb.Sf && r !== q.hb.yr || this.yB.Oma(null !== (v=this.Ue()) && void 0 !== v?v:void 0,"presentingstate:" + r);};c.prototype.oaa=function(){this.raa=0;clearTimeout(this.sZb);};c.prototype.TTa=function(){var r;this.Eh && this.Eh.stop();(null === (r=this.cH) || void 0 === r?0:r.wk) && this.Y3a("removeListener");this.Eh=void 0;};c.prototype.Y3a=function(r){this.Eh && (this.Eh[r]("showsubtitle",this.cUb),this.Eh[r]("removesubtitle",this.YTb),this.Eh[r]("underflow",this.Dk),this.Eh[r]("bufferingComplete",this.vTb),"addListener" === r?(this.j.addEventListener(q.ea.pq,this.g$),this.j.addEventListener(q.ea.Fk,this.x6a),this.j.addEventListener(q.ea.lJ,this.mE),this.j.addEventListener(q.ea.U9,this.u6a),this.j.addEventListener(q.ea.eza,this.C6a)):(this.j.removeEventListener(q.ea.pq,this.g$),this.j.removeEventListener(q.ea.Fk,this.x6a),this.j.removeEventListener(q.ea.lJ,this.mE),this.j.removeEventListener(q.ea.U9,this.u6a),this.j.removeEventListener(q.ea.eza,this.C6a)));};c.prototype.W_a=function(r){return {currentPts:this.Ue(),displayTime:r.displayTime,duration:r.duration,id:r.id,originX:r.originX,originY:r.originY,sizeX:r.sizeX,sizeY:r.sizeY,rootContainerExtentX:r.rootContainerExtentX,rootContainerExtentY:r.rootContainerExtentY};};c.prototype.Osb=function(r){var w,v;w=this;v=r.track;if(!v || !v.wk)throw Error("Not an image base subtitle");r.aa?(this.oaa(),this.Y3a("addListener"),this.log.info("Activated",v),this.j.Ri.set(v),this.Pm?(0,n.Wf)(function(){w.Eh.ht(w.Ue());}):this.Eh.pause()):this.Y9a(v,r);};c.prototype.Psb=function(r){var w,v;w=r.track;v=r.aa;if(!w || w.wk)throw Error("Not a valid text track");v?(this.oaa(),this.LJ.Z$a(this.Eh),this.log.info("Activated",w),this.j.Ri.set(w)):this.Y9a(w,(0,k.Fv)(r));this.YJ();};c.prototype.Y9a=function(r,w){var v,x;v=this;x=this.raa < d.config.SQb;x && (this.sZb=setTimeout(function(){v.raa++;r.U7().then(v.gM).catch(v.gM);},d.config.M2b));this.log.error("Failed to activate" + ((null === r || void 0 === r?0:r.wk)?" img subtitle":""),{retry:x},w,r);};c.prototype.swa=function(r){return !(!r || r.Jq() && !r.jp());};c.prototype.N1a=function(r,w){var v;v=r.findIndex(function(x){return x.ec >= w.ec;});-1 === v && (v=0);r.splice(v,0,w);};b.NMa=c;t={};c.n1b=(t[g.QF.lC.LOADING]={pX:!0},t[g.QF.lC.WR]={iu:!0},t);c.K0b="showsubtitle";c.DYb="removesubtitle";},function(t,b,a){var l;function c(m,d,f){this.start=m;this.track=d;this.FJ=Array.isArray(f)?f:[];}function g(m,d){this.log=m;this.IB=d;this.Dva=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.tMa=void 0;l=a(22);g.prototype.Qsb=function(m,d){this.F5a(m,d,"activating");};g.prototype.GBb=function(m){this.Oma(m,"de-activating");};g.prototype.F5a=function(m,d,f){var h;this.al && this.Oma(m,"close current for new");h=[];this.orphans.length && (h.push.apply(h,ha(this.orphans)),this.orphans=[]);this.al=new c(m,d,h);this.IB && this.log.trace("new range: " + f,this.al);};g.prototype.Oma=function(m,d){this.al && (this.al.end=m,this.Dva.push(this.al),this.IB && this.log.trace("end range: " + d,this.al || ({})),this.al=void 0);};g.prototype.udb=function(m){for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}this.al?this.al.FJ.push.apply(this.al.FJ,ha(d)):this.orphans.push.apply(this.orphans,ha(d));};g.prototype.qpa=function(m){var d,f;d=this.Dva.slice(0);if(this.al && "undefined" !== typeof m){f=new c(this.al.start,this.al.track,this.al.FJ);f.end=m;d.push(f);}m=d.reduce(function(h,k){var n,p,q,u;if(!k.track)return h;p=k.track.Dc;q=k.track.ms(k.start,k.end);if(void 0 === q || null === q)return h;u=new Set(k.FJ);h[p]?(k=h[p],k.expected+=q,k.missed+=q - u.size):h[p]={dlid:p,bcp47:k.track.Uf,profile:k.track.profile,expected:q,missed:q - u.size,startPts:null !== (n=k.track.jKb()) && void 0 !== n?n:0};return h;},{});m=Object.values(m);this.IB && this.log.trace("subtitleqoe:",JSON.stringify(m,null,"\t"));return m;};g.prototype.YJb=function(m){var d,f,h,k;d=this.Dva.slice(0);f=0;h=0;if(this.al && "undefined" != typeof m){k=new c(this.al.start,this.al.track,this.al.FJ);k.end=m;d.push(k);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){(0,l.jb)(!1,"negative range");n.DE=0;return;}p=new Set(n.FJ);q=n.track.ms(n.start,n.end);n.e6=q;n.DE=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.DE=100;p=n.end - n.start;f+=p;h+=n.DE * p;});k=f?Math.round(h / f):100;this.log.trace("qoe score " + k + ", at pts: " + m);this.IB && (m=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.DE),lang:n.track?n.track.Uf:"none","actual  ":n.FJ.join(" "),expected:n.e6};}),this.log.trace("score for each range: ",JSON.stringify(m,function(n,p){return p;}," ")));return k;};b.tMa=g;},function(t,b,a){var g,l,m,d,f,h,k,n,p;function c(q,u,r,w,v,x){var y,z;q=f.QF.call(this,u,q,q,v,!0,"","1",{0:r},[{id:0,name:"custom"}],"xx",w || q,h.Op.PK,void 0,void 0,"primary",null !== (y=null === x || void 0 === x?void 0:x.profile) && void 0 !== y?y:"dfxp-ls-sdh",null !== (z=null === x || void 0 === x?void 0:x.midx) && void 0 !== z?z:{},!1,!1,null === x || void 0 === x?void 0:x.isLanguageLeftToRight) || this;q.j=u;q.url=r;q.options=x;q.jt=null === x || void 0 === x?void 0:x.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.LMa=void 0;t=a(61);g=a(14);l=a(62);m=a(8);d=a(30);f=a(284);h=a(132);k=a(74);n=a(135);p=a(15);(0,t.ifa)(t.efa,function(q){var r;function u(w){var v;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == n.Gv.Jmb){v=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});v.addEventListener("change",function(){var x,y,z;x=v.files[0];if(x){y=x.name;r.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return q.pr.Pia("nourl",y,{content:z.result});});}});v.click();}}r=(0,m.Sh)(q,"TimedTextCustomTrack");g.config.Pla && (r.info("Loading url",{Url:g.config.Pla}),q.pr.Pia(g.config.Pla,"custom"));l.we.addListener(l.FD,u);q.addEventListener(p.ea.pg,function(){l.we.removeListener(l.FD,u);});});na(c,f.QF);c.wAb=function(q,u,r,w){var v;v="custom" + c.WMb++;return new c(v,q,u,r,-1,w);};c.prototype.AWa=function(){var q;q=this;return new Promise(function(u,r){var w,v;if(null === (w=q.options) || void 0 === w?0:w.content)u(q.options.content);else if(q.url){v={responseType:k.eqa,url:q.url,track:q,uc:null,kD:"tt-" + q.Uf};q.j.L7.download(v,function(x){x.aa?u(x.content):(x.reason="downloadfailed",x.url=v.url,x.track=q,r(x));});}});};b.LMa=c;c.WMb=0;},function(t,b,a){var g,l,m,d,f,h;function c(k){var n,p;n=this;this.j=k;this.ATb=function(){var q;m.we.removeListener(m.u7,n.A6a);q=n.ss.Sn();q && q.parentNode && q.parentNode.removeChild(q);};this.cua=function(q){n.ss.F_b(q.newValue);};this.fUb=function(q){n.ss.M_b(q.newValue?q.newValue.p8:void 0);};this.A6a=function(){n.ss.tP();};this.ss=new f.MMa(d.config.zya,k.kc.value?k.kc.value.p8:void 0);p=k.JB;(0,l.jb)(.1 < p.width / p.height);this.ss.v_b(p.width / p.height);k.Pg.appendChild(this.ss.Sn());k.tv.addListener(this.cua);k.kc.addListener(this.fUb);k.addEventListener(h.ea.pg,this.ATb,g.HF);m.we.addListener(m.u7,this.A6a);}Object.defineProperty(b,"__esModule",{value:!0});b.OMa=void 0;g=a(12);l=a(22);m=a(62);d=a(14);f=a(544);h=a(15);c.prototype.wxa=function(k){this.ss.wxa(k);};c.prototype.wpa=function(){return this.ss.wpa();};c.prototype.uxa=function(k){this.ss.uxa(k);};c.prototype.upa=function(){return this.ss.upa();};c.prototype.vxa=function(k){this.ss.vxa(k);};c.prototype.vpa=function(){return this.ss.vpa();};b.OMa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.t8a=void 0;b.t8a=function(a){var c,g;c=!1;g=!1;return function(){if(c)g=!0;else for(g=!0;g;){g=!1;c=!0;a();c=!1;}};};},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u;function c(r){this.j=r;this.h2b=!1;this.log=(0,d.Sh)(this.j,"MediaAppendManager");this.ac=this.j.ac;this.Z=this.ac.Z;this.Q_=this.rU=!1;this.audio={type:m.Li.audio,Gw:[],Sl:[],$O:!1};this.video={type:m.Li.video,Gw:[],Sl:[],$O:!1};r={};this.PJ=(r[g.Ub.Al.Pb]=this.video,r[g.Ub.Al.Yb]=this.audio,r);this.closed=!1;this.HA=l.config.HA;this.A9=l.config.A9;this.GI=(0,l.wUa)(! !this.j.bb.zi).GI;this.FSa=!0;(0,h.jb)(this.HA > this.A9,"bad config");(0,h.jb)(this.HA > this.GI,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.iHa=void 0;g=a(40);l=a(14);m=a(91);d=a(8);f=a(3);h=a(22);k=a(30);n=a(15);p=a(171);q=a(5);u=a(64);c.prototype.I6=function(){var v,x;function r(y,z){return w(y,z.p9);}function w(y,z){var A,B,E,D;E=! !z.response;D=z.response;if(z.dd)return y + (D.byteLength || 0);z=(null !== (A=null === z || void 0 === z?void 0:z.wM) && void 0 !== A?A:0) - (null !== (B=null === z || void 0 === z?void 0:z.xM) && void 0 !== B?B:0);return (E?D.byteLength:z) + y;}v=this.PJ[g.Ub.Al.Pb];x=this.PJ[g.Ub.Al.Yb];return {videoToAppend:v.Sl.reduce(w,0),videoInBuffer:v.Gw.reduce(r,0),audioToAppend:x.Sl.reduce(w,0),audioInBuffer:x.Gw.reduce(r,0)};};c.prototype.XSb=function(){this.audio.ij && !this.audio.ij.Rh() && (!1,this.audio.ij.SRa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.X_b=function(){this.audio.Bxa=!0;this.video.Bxa=!0;};c.prototype.c0b=function(r){r === g.Ub.Al.Yb?this.rU=!0:r === g.Ub.Al.Pb && (this.Q_=!0);};c.prototype.Rh=function(){var r,w;return !(null === (r=this.audio.ij) || void 0 === r || !r.Rh()) || !(null === (w=this.video.ij) || void 0 === w || !w.Rh());};c.prototype.Naa=function(r){var w,v;null === (w=this.audio.ij) || void 0 === w?void 0:w.Naa(r);null === (v=this.video.ij) || void 0 === v?void 0:v.Naa(r);};c.prototype.cub=function(r){var w;r.mediaType === g.Ub.Al.Yb?this.rU=!1:r.mediaType === g.Ub.Al.Pb && (this.Q_=!1);w=this.PJ[r.mediaType];w?w.Sl.push(r):(0,h.jb)(!1);};c.prototype.aub=function(r,w,v){w={mediaType:r.type,TD:!1,response:w,wi:function(){return "header";},get dd() {return !this.TD;},profile:v.profile};(r=this.PJ[r.type])?r.Sl.push(w):(0,h.jb)(!1);};c.prototype.a0b=function(r){var w;w=this.PJ[r.type];if(w)try{w.ij=r;}catch(v){this.Ld(f.N.Mea,{sa:(0,p.U6)(r.type),yb:(0,k.wd)(v)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.Ld=function(r,w,v){this.closed || this.j.Ld(r,w,v);};c.prototype.Yla=function(r){return this.sWa(this.audio,r,this.n5()) && this.sWa(this.video,r,this.n5());};c.prototype.n5=function(){return this.j.Ab.value === n.hb.Sf?this.GI:this.A9;};c.prototype.S2b=function(){var r,w;r=this.video.Sl.filter(function(v){return !v.dd;}).reduce(function(v,x){return v + x.hs;},0);w=this.audio.Sl.filter(function(v){return !v.dd;}).reduce(function(v,x){return v + x.hs;},0);return Math.min(r,w);};c.prototype.sWa=function(r,w,v){var x;x=r.Zla;x=x && x.p9;return !r.ij || 0 === r.Sl.length && (r.type === m.Li.audio && this.rU || r.type === m.Li.video && this.Q_)?!0:x && x.vx - w >= v || !1;};c.prototype.Oya=function(r){this.h2b || (this.Hcb(this.audio,r),this.Hcb(this.video,r));this.closed || this.FTa();};c.prototype.FTa=function(){var r,w,v,x,y;v=!this.audio.ij || 0 !== this.audio.Gw.length;x=0 === this.video.Sl.length && this.Q_;y=!this.video.ij || 0 !== this.video.Gw.length;!(!(0 === this.audio.Sl.length && this.rU && y || x && v) || (null === (r=this.audio.ij) || void 0 === r?0:r.Rh()) || (null === (w=this.video.ij) || void 0 === w?0:w.Rh()) || this.Nma) && this.Z.readyState > u.vo.j1.HAVE_NOTHING && (this.Nma=!0,this.ac.endOfStream());};c.prototype.Hcb=function(r,w){var v,x,y;if(!this.closed && r.ij){v=r.ij;x=r.Gw;!v.Rh() && 0 < x.length && (r.Zla=x[x.length - 1]);if(r.Bxa){if(v.Rh())return;r.Bxa=!1;y=this.ac.j_a().Z7a(q.Ao);0 < y && v.remove(0,y);}for(y=r.Sl[0];y && y.response && (y.dd || y.eB - w <= this.HA);){if((this.Nma=!1,this.G3b(y)))(r.Sl.shift(),y=r.Sl[0]);else break;}!v.Rh() && 0 < x.length && (r.Zla=x[x.length - 1]);}};c.prototype.G3b=function(r){var w,v,x;!1;(0,h.jb)(r && ! !r.response);w=r.response;v=r.mediaType;x=this.PJ[v];if(!this.closed && x.ij && !x.ij.Rh()){try{r.dd && r.profile && x.ij.Swb(r.profile);this.log.trace("Feeding media segment to decoder",{Bytes:w.byteLength});x.ij.SRa(w,r);r.dd || x.Gw.push(this.yAb(r));l.config.$Cb && !r.dd && r.OTa();}catch(y){"QuotaExceededError" === y.name?(this.j.p5=this.j.p5?this.j.p5 + 1:1,this.FSa=!1,x.$O=!0):(this.log.error("Exception while appending media",r,y),this.Ld("CodecSwitchingError" === y.name?f.N.EIa:f.N.ylb,(0,p.U6)(v)));return;}return !0;}};c.prototype.qAb=function(r){var w;w=this.j.gLb(r.re);w || (this.log.warn("Could not find CDN",{cdnId:r.re}),w={id:r.re,Sra:r.location});return w;};c.prototype.lVa=function(r){var w,v;v=r.Sa;r.mediaType === g.Ub.Al.Yb?w=this.j.q0a(v):r.mediaType === g.Ub.Al.Pb && (w=this.j.C0a(v));w || this.log.error("Could not find stream",{stream:v});return w;};c.prototype.yAb=function(r){var w;w=this.lVa(r);return {p9:r,stream:w,um:{startTime:Math.floor(r.eB),endTime:Math.floor(r.vx)},uc:this.qAb(r)};};c.prototype.Fka=function(r){this.JTa(r,g.Ub.Al.Yb);this.JTa(r,g.Ub.Al.Pb);};c.prototype.JTa=function(r,w){var v,x,y,z,A,B,E,D,F;v=this;x=r;this.FSa && (x-=l.config.nZ);y=this.PJ[w];z=y.Gw;E=!1;z.some(function(G,C){var H;H=G.p9;if(r < H.eB)return ((0,h.jb)(!1,"decoder content does not contain media time"),!0);x >= H.vx && (A=C);if(r < H.vx)return (B=C,C=w === g.Ub.Al.Yb?v.j.qf:v.j.pe,G !== C.value && (C.set(G),E=!0),!0);});if((y.$O || E) && void 0 !== A && !this.Nma){if(A + 1 === B){if(0 === A)return;A--;}D=z[A].p9.vx - 1;if(0 < D){F=y.ij;F && !F.Rh()?(F.remove(0,D / k.cm),y.$O=!1,z.splice(0,A + 1)):(y.$O=!0,!1);}}};c.prototype.N9a=function(){!1;[this.audio,this.video].forEach(function(r){r.Gw=[];r.Zla=void 0;r.Sl=[];});this.Q_=this.rU=!1;this.j.fireEvent(n.ea.m9);};c.prototype.Dpa=function(){return [this.audio,this.video].filter(function(r){return r.ij;});};c.prototype.vHb=function(){var r,w;if(this.Rh())(0,h.jb)(!1,"should not be busy while checking buffer ranges");else {r=this.Dpa().map(function(v){var x,y,z,A,B;A=v.Sl.filter(function(E){return E.TD;});B=v.ij.buffered();v=B.length?Math.ceil(1E3 * B.start(0)):void 0;B=B.length?Math.floor(1E3 * B.end(B.length - 1)):void 0;v=null !== v && void 0 !== v?v:null === (x=A[0]) || void 0 === x?void 0:x.eB;x=null !== (z=null === (y=A[A.length - 1]) || void 0 === y?void 0:y.vx) && void 0 !== z?z:B;if(void 0 !== v && void 0 !== x)return {start:v,end:x};});if(r.every(function(v){return v;})){w=Math.max.apply(Math,ha(r.map(function(v){return v.start;})));r=Math.min.apply(Math,ha(r.map(function(v){return v.end;})));if(r > w)return {start:(0,q.Nc)(w),end:(0,q.Nc)(r)};}}};c.prototype.skip=function(r){(0,h.jb)(!this.Rh(),"should not be busy while skipping");this.Dpa().forEach(function(w){w.$O=!0;});this.Fka(r);this.Dpa().forEach(function(w){0 < w.Gw.length || (w.Sl=w.Sl.filter(function(v){return v.dd || v.vx > r?!0:!1;}));});};b.iHa=c;},function(t,b){function a(g,l,m){var d,f,h,k;d=[];g.forEach(function(n){-1 == d.indexOf(n.Kg) && d.push(n.Kg);});f=null;h=null;l.forEach(function(n){null === f?h=f=n.bitrate:h < n.bitrate?h=n.bitrate:f > n.bitrate && (f=n.bitrate);});k=[];d.forEach(function(n){var p;p={ranges:[],profile:n};f && h && (p.ranges.push({min:f,max:h}),m && (p.disallowed=m.filter(function(q){return q.stream.Kg === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.D5};})),k.push(p));});return k;}function c(g,l){var m;m=void 0;g=g.filter(function(f){var h;h=l(f);h && (m=m || [],m.push({stream:f,D5:h}));return !h;});for(var d=0;d < g.length;d++){g[d].lower=g[d - 1];g[d].GLb=g[d + 1];}return {rD:g,YCb:m};}Object.defineProperty(b,"__esModule",{value:!0});b.XCb=b.Zt=b.pBb=b.g0a=void 0;b.g0a=function(g,l){l=c(g,l);return a(g,l.rD,l.YCb);};b.pBb=a;b.Zt=c;b.XCb=function(g){if(g.ll && g.lower && 1080 < g.height)return ["Prefetch UHD"];};},function(t,b,a){var g,l;function c(m,d){m=g.ic.call(this,m) || this;m.Fsa=d;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.aKa=void 0;g=a(80);l=a(93);na(c,g.ic);c.prototype.set=function(m){g.ic.prototype.set.call(this,(0,l.Kp)(m,0,this.Fsa));};b.aKa=c;},function(t,b,a){var l,m,d,f,h,k,n,p;function c(q,u,r,w,v){var x;x=this;this.ej=q;this.config=r;this.nb=w;this.debug=v;this.L$=[];this.Hs=[];this.Mua=[];this.JG={};this.tWa=!1;this.xU={};this.Iqa=0;this.log=u.mb("PlayTimeTracker");this.startTime=this.ej.mediaTime.value;this.T8=this.config().Ksb;this.bK();this.JG.abrdel=0;this.T8.forEach(function(y){y="abrdel" + y;x.xU[y]=0;x.JG[y]=0;});}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.PJa=void 0;l=a(1);t=a(0);m=a(7);d=a(13);f=a(95);a(5);h=a(27);k=a(97);n=a(12);p=a(24);g.prototype.encode=function(q){return {downloadableId:q.Dc,correlationId:q.Lg,bitrate:q.bitrate,vmaf:q.xb,duration:q.duration,metric:q.GX,cdnId:q.cD};};g.prototype.decode=function(q){return {Dc:q.downloadableId,Lg:q.correlationId,bitrate:q.bitrate,xb:q.vmaf,duration:q.duration,GX:q.metric,cD:q.cdnId};};c.prototype.QN=function(){var q;this.xJ(this.ej.mediaTime.value);q=0;this.Hs.forEach(function(u){q+=(u.endTime - u.startTime) / u.rate;});return Math.floor(q);};c.prototype.xpa=function(){var q;this.xJ(this.ej.mediaTime.value);q=0;this.Hs.forEach(function(u){q+=u.endTime - u.startTime;});this.debug.assert(q === Math.floor(q),"Value of totalContentPlayTime is not an integer.");return Math.floor(q);};c.prototype.hHb=function(){this.xJ(this.ej.mediaTime.value);return {audio:this.jW(this.L$,this.sZa),video:this.jW(this.Hs,this.sZa)};};c.prototype.BJb=function(){var q;q={total:this.QN(),totalContentTime:this.xpa(),audio:this.jW(this.L$,this.T6),video:this.jW(this.Hs,this.T6),timedtext:this.jW(this.Mua,this.T6)};this.debug.assert(!(!q.audio || !q.video));return q;};c.prototype.foa=function(){var q,u;this.xJ(this.ej.mediaTime.value);q=this.$na(this.Hs,this.tHb);try{u=this.OYa(q);}catch(r){return (this.log.warn("Failed to calc average bitrate."),null);}this.JG.abrdel=Math.round(u);return this.JG.abrdel;};c.prototype.PYa=function(){var q,u;this.xJ(this.ej.mediaTime.value);q=this.$na(this.Hs,this.JKb);try{u=this.OYa(q);}catch(r){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(u);};c.prototype.NYa=function(){var q,u;q=this;if(!this.tWa){u=this.QN();this.T8.forEach(function(r){var w,v,x;if(0 === q.xU["abrdel" + r] && u > r * n.cm){w=0;v=0;x=0;q.Hs.some(function(y){w+=y.stream.bitrate * (y.endTime - y.startTime);v+=y.endTime - y.startTime;x=y.stream.bitrate;if(v > r * n.cm)return !0;});w && (q.xU["abrdel" + r]=Math.round((w - x * (v - r * n.cm)) / (r * n.cm)));}});0 !== this.xU["abrdel" + this.T8[this.T8.length - 1]] && (this.tWa=!0);(0,p.ve)(this.xU,function(r,w){q.JG[r]=0 === w?q.JG.abrdel:w;});}return this.JG;};c.prototype.dtb=function(q){this.Iqa+=q;};c.prototype.D0a=function(){return ! !(this.Hs[0] && this.Hs[0].stream && this.nb.Mg(this.Hs[0].stream.xb));};c.prototype.bK=function(){var q;q=this;this.ej.qf.addListener(function(u){q.OM=q.BTa(q.OM,q.L$,u.newValue);});this.ej.pe.addListener(function(u){q.QM=q.BTa(q.QM,q.Hs,u.newValue);});this.ej.playbackRate.addListener(function(u){q.xJ(q.ej.mediaTime.value,u.oldValue);});this.ej.Ri.addListener(this.pTb.bind(this));};c.prototype.Fta=function(q,u){this.xJ(q);this.startTime=u;this.QM=this.OM=void 0;this.PM && (this.PM.startTime=this.startTime);!1;};c.prototype.pTb=function(q){this.PY(this.PM,this.Mua,this.ej.mediaTime.value);this.PM=q.newValue?{track:q.newValue,startTime:this.ej.mediaTime.value,endTime:f.ky}:void 0;};c.prototype.xJ=function(q,u){u=void 0 === u?this.ej.playbackRate.value:u;q && this.OM && this.QM && (q=Math.min(q,this.OM.endTime,this.QM.endTime),this.PY(this.OM,this.L$,q,u),this.OM.startTime=q,this.PY(this.QM,this.Hs,q,u),this.QM.startTime=q,this.PM && (this.PY(this.PM,this.Mua,q,u),this.PM.startTime=q),this.startTime=q,!1);};c.prototype.BTa=function(q,u,r){q && this.PY(q,u,Math.min(q.endTime,this.ej.mediaTime.value));if(r && r.stream)return (q=r.um,u=r.stream,{uc:r.uc,track:u.track,stream:u,startTime:Math.max(q.startTime,this.startTime),endTime:q.endTime});};c.prototype.PY=function(q,u,r,w){w=void 0 === w?this.ej.playbackRate.value:w;q && r && r >= q.startTime && (q={uc:q.uc,track:q.track,stream:q.stream,startTime:q.startTime,endTime:r,rate:w},(r=u[u.length - 1]) && r.track === q.track && r.stream === q.stream && r.uc === q.uc && r.endTime === q.startTime && r.rate === q.rate?r.endTime=q.endTime:u.push(q),!1);};c.prototype.$na=function(q,u){var r,w;r=this;w={};return q.reduce(function(v,x){var y,z,A;y=u.bind(r,x)();z=y.key;y=l.__rest(y,["key"]);x=x.endTime - x.startTime;A=w[z];A?A.duration+=x:(A=y,A.duration=x,v.push(A),w[z]=A);return v;},[]);};c.prototype.jW=function(q,u){return this.$na(q,u).map(function(r){return new g().encode(r);});};c.prototype.T6=function(q){var u,r,w;u=q.stream;if(u){q=u.Dc;r=u.bitrate;w=u.xb;}else q=q.track.Dc;return {key:q + "$" + r + "$" + w,Dc:q,bitrate:r,xb:w};};c.prototype.sZa=function(q){var u,r,w;r=this.T6(q);w=null === (u=q.uc) || void 0 === u?void 0:u.id;q=q.track.Lg;return Object.assign({},r,{key:r.key + "$" + w + "$" + q,cD:w,Lg:q});};c.prototype.tHb=function(q){var u;u=q.stream;q=null === u || void 0 === u?void 0:u.Dc;u=null === u || void 0 === u?void 0:u.bitrate;return {key:q + "$" + u,Dc:null !== q && void 0 !== q?q:"",GX:u};};c.prototype.JKb=function(q){var u;u=q.stream;q=null === u || void 0 === u?void 0:u.Dc;u=null === u || void 0 === u?void 0:u.xb;return {key:q + "$" + u,Dc:null !== q && void 0 !== q?q:"",GX:u};};c.prototype.OYa=function(q){var u,r,w;u=this;r=0;q.forEach(function(v){if(u.nb.Mg(v.duration) && u.nb.Mg(v.GX))r+=v.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!r)return 0;w=0;q.forEach(function(v){w+=v.GX * v.duration / r;});return w;};a=c;a=l.__decorate([(0,t.T)(),l.__param(1,(0,t.l)(m.ub)),l.__param(2,(0,t.l)(d.bd)),l.__param(3,(0,t.l)(h.hg)),l.__param(4,(0,t.l)(k.Bv))],a);b.PJa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.OJa="PlayTimeTrackerFactorySymbol";},function(t,b,a){var g,l;function c(m,d,f,h,k,n,p,q,u,r,w,v,x){this.index=m;this.K=d;this.ha=f;this.bb=h;this.ca=k;this.dj=n;this.$ra=p;this.zyb=u;this.d5a=w;this.Npa=void 0 === v?function(){return !1;}:v;this.rj=x;this.tc=new g.ic(null);this.Ag=new g.ic(null);this.kc=new g.ic(null);this.Ri=new g.ic(null);this.tv=new g.ic(void 0);this.Ze=new g.ic(null);this.sh=new g.ic(null);this.qf=new g.ic(null);this.pe=new g.ic(null);this.uc=[new g.ic(null),new g.ic(null)];this.mediaTime=new g.ic(void 0);this.playbackRate=new g.ic(1);this.hq=new g.ic(null);this.NG=this.MG="notcached";this.C5=this.background=!1;q && (this.Ze.set(q.Ze.value),this.sh.set(q.sh.value));this.Tl=r(this);this.Om=this.d5a.fYb(this.ca,this.dj);}Object.defineProperty(b,"__esModule",{value:!0});b.bKa=void 0;g=a(80);l=a(5);c.prototype.Ed=function(m){this.Om.cq(m);};c.prototype.oA=function(m){var d;d=this;Object.entries(m).forEach(function(f){var h;h=ba(f);f=h.next().value;h=h.next().value;d.Om.cq(f,(0,l.Nc)(h - d.dj.da(l.la)));});};c.prototype.c$=function(){this.d5a.yYb(this.ca);};Ya.Object.defineProperties(c.prototype,{Wd:{configurable:!0,enumerable:!0,get:function(){return this.bb.Wd;}},Nba:{configurable:!0,enumerable:!0,get:function(){return this.bb.Nba;}},Am:{configurable:!0,enumerable:!0,get:function(){return this.Uc && this.Uc.Am;}},Si:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Uc && this.Uc.Si) && void 0 !== m?m:[];}},Ep:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Uc && this.Uc.Ep) && void 0 !== m?m:[];}},DB:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Uc && this.Uc.DB) && void 0 !== m?m:[];}},bi:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Uc && this.Uc.bi) && void 0 !== m?m:[];}},Ai:{configurable:!0,enumerable:!0,get:function(){return this.Uc && this.Uc.Ai;}},ZH:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Uc && this.Uc.ZH) && void 0 !== m?m:!1;}},cv:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Uc && this.Uc.cv) && void 0 !== m?m:[];}},tj:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Uc && this.Uc.tj) && void 0 !== m?m:[];}},Az:{configurable:!0,enumerable:!0,get:function(){return this.Ega && 0 < this.Ega.da(l.la)?this.Ega:(0,l.Nc)(this.oa?this.oa.Nb.duration:0);},set:function(m){this.Ega=m;}},Nj:{configurable:!0,enumerable:!0,get:function(){return this.bb.Nj || 0;}},k5:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.VU?this.VU:void 0 === this.mediaTime.value?null:this.zyb(this.mediaTime.value,this.ha);}},Lg:{configurable:!0,enumerable:!0,get:function(){var m,d;return null === (d=null === (m=this.oa) || void 0 === m?void 0:m.Nb.L4) || void 0 === d?void 0:d.Fs;}},qJ:{configurable:!0,enumerable:!0,get:function(){var m,d;return null === (d=null === (m=this.oa) || void 0 === m?void 0:m.Nb.L4) || void 0 === d?void 0:d.qJ;}},Tc:{configurable:!0,enumerable:!0,get:function(){return this.Om.Tc;}}});b.bKa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eNa="TrickPlayParserSymbol";},function(t,b,a){var g,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.dNa=void 0;t=a(1);l=a(168);a=a(0);c.prototype.parse=function(d){var f,h;if(!d)throw Error("invalid array buffer");f=new Uint8Array(d);h=new l.lR(f);d=this.MUb(h);f=this.NUb(h,f,d);return {header:d,images:f};};c.prototype.MUb=function(d){var f,h,k,n;if(d.apa() < this.bZb())throw Error("array buffer too short");g.GGa.forEach(function(p){if(p != d.hB())throw Error("BIF has invalid magic.");});f=d.nP();if(f > g.VERSION)throw Error("BIF version in unsupported");h=d.nP();if(0 == h)throw Error("BIF has no frames.");k=d.nP();n=d.Zh(g.ZKa);return {version:f,eTb:h,kcb:k,L9a:n};};c.prototype.NUb=function(d,f,h){var p,q;for(var k=[],n=0;n <= h.eTb;n++){p={timestamp:d.nP(),offset:d.nP()};void 0 != q && k.push(f.subarray(q.offset,p.offset));q=p;}return k;};c.prototype.bZb=function(){return g.GGa.length + 4 + 4 + 4 + g.ZKa;};m=g=c;m.GGa=[137,66,73,70,13,10,26,10];m.VERSION=0;m.ZKa=44;m=g=t.__decorate([(0,a.T)()],m);b.dNa=m;},function(t,b,a){var g,l,m,d;function c(f,h,k){this.config=f;this.j=h;this.bg=k;this.uY=void 0;this.A$=!1;this.Cra=0;this.log=this.bg.mb();}Object.defineProperty(b,"__esModule",{value:!0});b.HLa=void 0;g=a(15);l=a(5);m=a(93);d=a(17);c.prototype.gJb=function(f,h,k,n,p){var q,u,r,w;k=void 0 === k?this.j.ha:k;n=void 0 === n?!1:n;q=h === g.Re.UK;u=this.qwb(q?f:this.xxb(f,k),n,k);n=this.j.Ia;q?(f=u,u=n.Xt(u)):f=n.LM(k,u);h === g.Re.gy && (this.j.TSa=u);p=this.Ui(f,h,p);r=(q=q || p)?f:u;if(this.j.Uu){w=this.config().GI;this.j.t0a(r,w) || h !== g.Re.kC || (r=this.j.Uu.da(l.la) - w - 1E3,q?(f=r,u=n.Xt(r)):(f=n.LM(k,r),u=r));}return {T9:r,mk:u,LVb:f,Ui:p};};c.prototype.qwb=function(f,h,k){this.TNb() || h?f=Math.round(f):(h=this.j.Ia.uka(f,k),f=(0,d.Fa)(h)?h:Math.round(f));this.j.bb.zi && (f=this.vGb(f));this.config().Rwa && (f+=this.config().Rwa);return f;};c.prototype.Ui=function(f,h,k){if(this.config().WCb || h === g.Re.gy || h === g.Re.g2 || h === g.Re.W0 || !k || f < k.start.da(l.la) || f >= k.end.da(l.la))return !1;h=this.j.Ia;return (null === h || void 0 === h?void 0:h.li) && h.Ui(f) || !1;};c.prototype.TNb=function(){return this.j.bb.zi?!0:"boolean" === typeof this.j.bb.DY?this.j.bb.DY:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().DY && this.config().gWb:this.config().DY;};c.prototype.xxb=function(f,h){var k;h=this.j.uk(h);k=h.Az;h=(h.TQb || k).da(l.la) - this.config().X5b;return (0,m.Kp)(f,0,h);};c.prototype.vGb=function(f){var h,k,n;h=this.j.eW();if(Object.values(h).find(function(p){var q;q=p.Ca;q=f < (null !== q && void 0 !== q?q:Infinity);return p.Aa <= f && q;}))return (!1,f);n=f;Object.entries(h).forEach(function(p){var q;p=ba(p);p.next();p=p.next().value.Aa;q=p - f;0 < q && (void 0 === k || q < k) && (k=q,n=p);});!1;return n;};Ya.Object.defineProperties(c.prototype,{Yqa:{configurable:!0,enumerable:!0,get:function(){return this.A$ || ! !this.uY;}}});b.HLa=c;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v;function c(x,y,z,A,B,E){var D;D=this;this.j=x;this.pk=y;this.F_=z;this.ce=A;this.NZ=B;this.Jn=E;this.yVa={};this.update=function(){var F;if(D.zp.selectionStart == D.zp.selectionEnd){F="";D.lW().forEach(function(G){F=F?F + "\n":"";Object.entries(G).forEach(function(C){var H;H=ba(C);C=H.next().value;H=H.next().value;F+=C + ": " + H + "\n";});});D.zp.style.fontSize=(0,d.Kp)((0,h.bC)(D.element.clientHeight / 60),8,18) + "px";D.zp.value=F;}};this.FTb=function(){var F,G;if(D.j.cg){G=D.j.cg.zH();G && (D.Mla=G - (null !== (F=D.scb) && void 0 !== F?F:0),D.scb=G,D.TO());}};this.TO=function(){D.F_.Xl(D.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == p.Gv.xgb || F.keyCode == p.Gv.Q) && D.toggle();};this.I7a=[x.mediaTime,x.uc[g.Ub.Wa.Yb],x.uc[g.Ub.Wa.Pb],x.qf,x.pe,x.sh,x.Ze,x.Ri,x.state,x.Xr,x.Ab,x.volume,x.muted];this.element=this.ce.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.zp=this.ce.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.zp);this.controls=this.ce.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.ce.createElement("button",void 0,"X");y.addEventListener("click",function(){return D.rs();},!1);this.controls.appendChild(y);m.we.addListener(m.FD,this.onkeydown);x.addEventListener(n.ea.pg,function(){m.we.removeListener(m.FD,D.onkeydown);D.rs();});}Object.defineProperty(b,"__esModule",{value:!0});b.YJa=void 0;g=a(40);l=a(61);m=a(62);d=a(93);f=a(306);h=a(11);k=a(17);n=a(15);p=a(135);q=a(5);t={};u=(t[n.Sb.MK]="Not Loaded",t[n.Sb.LOADING]="Loading",t[n.Sb.te]="Normal",t[n.Sb.CLOSING]="Closing",t[n.Sb.CLOSED]="Closed",t);t={};r=(t[n.Cf.te]="Normal",t[n.Cf.xd]="Pre-buffering",t[n.Cf.yLa]="Network stalled",t);t={};w=(t[n.hb.Sf]="Waiting for decoder",t[n.hb.Lc]="Playing",t[n.hb.ph]="Paused",t[n.hb.yr]="Media ended",t);v=[n.ea.m9];c.prototype.C_b=function(x){this.yVa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.$Mb=nb.setInterval(this.FTb,1E3),document.body.appendChild(this.element),this.I7a.forEach(function(y){y.addListener(x.TO);}),v.forEach(function(y){x.j.addEventListener(y,x.TO);}),this.visible=!0,this.Jn.a_().then(function(y){x.Rpa=y;x.TO();}));this.update();};c.prototype.rs=function(){var x;x=this;this.visible && (clearInterval(this.$Mb),this.scb=this.Mla=void 0,document.body.removeChild(this.element),this.I7a.forEach(function(y){y.removeListener(x.TO);}),v.forEach(function(y){x.j.removeEventListener(y,x.TO);}),this.F_.Xl(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.rs():this.show();};c.prototype.lW=function(){var x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,O,N,P,S,U,Z,ja,ya,ra,Y,pa,T,R,ea,sa,la,Ka,Ua,$a,Za,cb;G=[];C=this.pk();G.push({Version:"6.0034.571.911",Esn:C?C.gl:"UNKNOWN",PBCID:this.j.Lg,UserAgent:h.gC});try{H={MovieId:this.j.K,TrackingId:this.j.Nj,Xid:this.j.ca + " (" + l.zo.map(function(Va){return Va.ca;}).join(", ") + ")",Position:(0,d.kj)(this.j.mediaTime.value),Duration:(0,d.kj)(this.j.Az.da(q.la)),PlayerDuration:(0,d.kj)(this.j.Uu.da(q.la)),Volume:(0,h.Tj)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.bb.zi || this.j.bb.s8)(H["Segment Position"]=(0,d.kj)(this.j.AD()),H.Segment=this.j.Voa());G.push(H);}catch(Va){}try{G.push({"Player state":u[this.j.state.value],"Buffering state":r[this.j.Xr.value],"Rendering state":w[this.j.Ab.value]});}catch(Va){}try{K=this.j.wza() + this.j.Aja();M=this.j.qf.value;I=null === M || void 0 === M?void 0:M.stream;Q=this.j.pe.value;L=null === Q || void 0 === Q?void 0:Q.stream;J=null !== (x=null === I || void 0 === I?void 0:I.bitrate) && void 0 !== x?x:"?";O=L?L.bitrate + " (" + L.width + "x" + L.height + ")":"?";N=null !== (y=null === L || void 0 === L?void 0:L.xb) && void 0 !== y?y:"?";P=null !== (A=null === (z=this.j.Ze.value) || void 0 === z?void 0:z.xb) && void 0 !== A?A:"?";S=null !== (E=null === (B=this.j.sh.value) || void 0 === B?void 0:B.bitrate) && void 0 !== E?E:"?";U=null !== (F=null === (D=this.j.Ze.value) || void 0 === D?void 0:D.bitrate) && void 0 !== F?F:"?";Z=this.j.uc[g.Ub.Wa.Pb].value;ja=this.j.uc[g.Ub.Wa.Yb].value;G.push({"Playing bitrate (a/v)":J + " / " + O,"Playing/Buffering vmaf":N + "/" + P,"Buffering bitrate (a/v)":S + " / " + U,"Buffer size in Bytes (a/v)":this.j.Aja() + " / " + this.j.wza(),"Buffer size in Bytes":"" + K,"Buffer size in Seconds (a/v)":(0,d.kj)(this.j.mU()) + " / " + (0,d.kj)(this.j.K_()),"Current CDN (a/v)":(ja?ja.name + ", Id: " + ja.id:"?") + " / " + (Z?Z.name + ", Id: " + Z.id:"?")});}catch(Va){}try{if(this.j.qf.value && this.j.pe.value){ya=this.j.qf.value.stream;ra=ya.track;Y=this.j.pe.value.stream;pa=this.j.Ri.value;T=this.NZ.f5(this.j.Ag.value?this.j.Ag.value.streams:[]);R=this.NZ.c5(ra.streams);ea=Y.Kg;sa=(/hevc/).test(ea)?"hevc":(/vp9/).test(ea)?"vp9":(/h264hpl/).test(ea)?"avchigh":(/av1/).test(ea)?"av1":"avc";(/hdr/).test(ea) && (sa+=", hdr");(/dv/).test(ea) && (sa+=", dv");(/prk/).test(ea) && (sa+=", prk");la=ya.Kg;Ka=(/xheaac/).test(la)?"xhe-aac":(/heaac/).test(la)?"he-aac":(/ddplus/).test(la)?"ddplus":"unknown";(/atmos/).test(la) && (Ka+=", atmos");G.push({"Audio Track":ra.Uf + ", Id: " + ra.trackId + ", Channels: " + ra.channels + ", Codec: " + R + " (" + Ka + ")","Video Track":"Codec: " + T + " (" + sa + ")","Timed Text Track":pa?pa.Uf + ", Profile: " + pa.profile + ", Id: " + pa.trackId:"none"});}}catch(Va){}try{Ua=this.j.cg;$a=this.j.Ze.value?this.j.Ze.value.framerate:0;Za=a(551).U3a;G.push({Framerate:$a.toFixed(3),"Current Dropped Frames":(0,k.Fa)(this.Mla)?this.Mla:"","Total Frames":Ua.wD(),"Total Dropped Frames":Ua.zH(),"Total Corrupted Frames":Ua.gW(),"Main Thread stall/sec":Za?Za.yIb().join(" "):"DISABLED",VideoDiag:(0,f.osa)(this.j.q7()),"HDR support":this.Rpa?this.Rpa.result + " (" + this.Rpa.reason + ")":"unknown"});}catch(Va){}try{G.push({Throughput:this.j.Ua + " kbps"});}catch(Va){}cb=void 0;try{Object.entries(this.yVa).forEach(function(Va){var Qa;Qa=ba(Va);Va=Qa.next().value;Qa=Qa.next().value;cb=cb || ({});cb[Va]=JSON.stringify(Qa);});cb && G.push(cb);}catch(Va){}return G;};b.YJa=c;},function(t,b,a){var l,m,d,f;function c(h,k,n,p){this.ca=h;this.YYb=k;this.wa=n;this.og=p;this.Tc={};}function g(h,k){this.bg=h;this.og=k;this.Ic={};this.wa=h.mb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Plb=b.$Ja=void 0;t=a(1);l=a(0);m=a(7);d=a(19);f=a(5);g.prototype.fYb=function(h,k){this.Ic[h] && this.wa.warn("registerPlayback: xid " + h + " already registered, overriding");k=(k?k:this.og.$b()).da(f.la);this.wa.trace("registerPlayback: xid " + h + " at " + k);this.Ic[h]=new c(h,k,this.wa,this.og);return this.Ic[h];};g.prototype.DJb=function(h){this.Ic[h] || this.wa.warn("getPlaybackMilestones: xid " + h + " is not registered");return this.Ic[h];};g.prototype.yYb=function(h){this.wa.trace("removePlayback: xid " + h);delete this.Ic[h];};a=g;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(m.ub)),t.__param(1,(0,l.l)(d.md))],a);b.$Ja=a;c.prototype.cq=function(h,k){k=k?k.da(f.la):this.og.$b().da(f.la) - this.YYb;this.wa.trace("addMilestone: xid " + this.ca + " " + h + " at " + k);this.Tc[h]=k;};b.Plb=c;},function(t,b,a){var g,l,m,d;function c(f){this.Ea=f;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.mLa=void 0;t=a(1);g=a(15);l=a(0);m=a(19);d=a(5);c.prototype.Fk=function(f){f.cause !== g.Re.gy && (this.trace.unshift({time:this.Ea.$b(),event:f}),5 < this.trace.length && this.trace.pop());};c.prototype.Y_a=function(){var f,h;f=this;if(0 === this.trace.length)return {};h=this.trace[0];return {timeSinceLastRepositionMs:this.gcb(h.time),lastRepositionCause:this.$Ya(h.event.cause),repositionTrace:this.trace.map(function(k){return {timeSince:f.gcb(k.time),cause:f.$Ya(k.event.cause),newMediaTime:k.event.T9,oldMediaTime:k.event.Tta,contentPts:k.event.mk,skip:k.event.skip};})};};c.prototype.gcb=function(f){return this.Ea.$b().Ka(f).da(d.la);};c.prototype.$Ya=function(f){switch(f){case g.Re.gy:return "initial";case g.Re.kC:return "seek";case g.Re.UK:return "segment_changed";case g.Re.g2:return "track_changed";case g.Re.W0:return "force_rebuffer";}};a=c;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(m.md))],a);b.mLa=a;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x;function c(y,z,A){var B;B=this;this.lb=y;this.j=z;this.debug=A;this.Nr=this.li=this.uC=!1;this.F8=this.Or=this.yn=void 0;this.Te=function(){var E,D,F,G,C,H;B.debug.assert(B.qa,"has access to asePlaygraph");B.debug.assert(B.jd,"has access to internalLogger");B.debug.assert(B.Ku,"has access to mediaBufferGetLogFields");if(B.We.value !== g.ta.Ir && B.We.value !== g.ta.lj){C=B.Po;H=null === (D=null === (E=B.Wb.get()) || void 0 === E?void 0:E.Ua) || void 0 === D?void 0:D.Ba;E={type:"logdata",target:"startplay",fields:{hasasereport:B.j.eN,hashindsight:!1,buffCompleteReason:C.reason,actualbw:H,initSelReason:null !== (F=C.initSelReason) && void 0 !== F?F:"unknown",bcVBufferLevelMs:C.vBufferLevelMs,bcABufferLevelMs:C.aBufferLevelMs}};(0,h.zja)({xXa:E,zk:B.zk,loadTime:B.loadTime});B.qa.A_("startplay",m.de.yp);null !== (G=B.Ja) && void 0 !== G && G.Yf?(B.jd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:C},B.Ku()),B.j.Po=C,B.j.Xr.set(k.Cf.te),B.mGb || (B.mGb=!0,B.j.Ed("pb")),B.play()):B.jd.error("Shim received buffering complete but player has no position (player " + (B.Ja?"":"un") + "defined, state " + B.j.state + ")");}};this.tU=function(){var E,D;B.debug.assert(B.jd,"has access to internalLogger");!1;B.yn=void 0;B.j.paused.value && B.oE && (B.oE=!1,B.j.paused.set(!1,{zta:!0}));null === (E=B.j.cg) || void 0 === E?void 0:E.ayb();null === (D=B.aY) || void 0 === D?void 0:D.call(B);B.aY=void 0;};this.events=new x();this.jj=new v.dga(this.Kja.bind(this));}Object.defineProperty(b,"__esModule",{value:!0});b.kAa=void 0;g=a(40);l=a(18);m=a(300);d=a(63);f=a(3);h=a(1221);k=a(15);n=a(14);p=a(17);q=a(5);u=a(1222);r=a(93);w=a(80);v=a(519);x=a(117).EventEmitter;c.prototype.fd=function(){var y;this.Nr=!1;this.Wb.QP(null);this.debug.assert(this.Fi,"has access to streamingEngine");this.qa && this.Fi.fv(this.qa);this.Ja && this.Fi.rP(this.Ja);this.Fi.cwa(this.jj.Em(this.lb.ja.S));this.jj.clear();null === (y=this.yj) || void 0 === y?void 0:y.rq();};c.prototype.m0b=function(y){var z,A,B,E,D,F,G,C,H,K,M,I,Q;z=y.config;A=y.Pt;B=y.jd;E=y.se;D=y.Ku;F=y.aj;G=y.EZ;y=y.mJ;this.jd=B;this.Ku=D;this.EZ=G;this.mJ=y;D=this.j.ja;this.debug.assert(D,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(E,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.Fi,"has access to streamingEngine");this.debug.assert(D.oa,"has access to manifest");this.Fi=A.Fi;A.jf.set(a(183)(z),!0,F("ASE"));A.jf.set({maxNumberTitlesScheduled:null !== (H=null === (C=z.cWb) || void 0 === C?void 0:C.maxNumberTitlesScheduled) && void 0 !== H?H:1},!0,B);z.Kyb && 3E5 > D.oa.Nb.duration?A.jf.lY({expandDownloadTime:!1},!0,B):A.jf.lY({expandDownloadTime:A.jf.w7a().expandDownloadTime},!0,B);z=D.background || z.aWb && "postplay" === D.Wd?"historical":A.jf.w7a().initBitrateSelectorAlgorithm;A.jf.lY({initBitrateSelectorAlgorithm:z},!0,B);z=null === (Q=null === (I=null === (M=null === (K=D.Ag) || void 0 === K?void 0:K.value) || void 0 === M?void 0:M.streams) || void 0 === I?void 0:I[0]) || void 0 === Q?void 0:Q.Kg;A.jf.lY((0,n.vUa)(! !D.bb.zi,! !D.bb.s8,z),!0,B);B=E.rI({},(0,n.kla)(D.Wd));this.jf=A.jf.Yt(B);g.platform.events.emit("networkchange",D.Uc.t_b);this.uC=!0;};c.prototype.a8=function(y){var z,A;this.debug.assert(this.Fi,"has access to streamingEngine");z=this.j.uk(y.ha);this.debug.assert(z.Uc,"has access to playback parsedManifest");A=y.flags;this.Wb.reset();this.Cd=new Set([g.Ub.Wa.Yb,g.Ub.Wa.Pb]);(A.XE || A.pU) && this.Cd.delete(A.XE?g.Ub.Wa.Yb:g.Ub.Wa.Pb);this.qQ=[z.Uc.bCb,z.Uc.lCb];this.aV(y.ha,y.Fw);this.MMb(y);this.Cla();};c.prototype.GB=function(y){var z;null === (z=this.qa) || void 0 === z?void 0:z.GB(y);};c.prototype.uvb=function(y){var z,A,B,E;z=this;A=y.loadTime;B=y.zk;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ja,"has access to asePlayer");this.zk=B;this.loadTime=A;y=this.qa.events;E=this.Ja.events;y.addListener("error",function(D){"NFErr_MC_StreamingFailure" === D.error && (z.jd.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),z.jd.trace("StreamingFailure, buffer status:" + JSON.stringify(z.Ku())),(0,d.Wf)(function(){z.j.Ld(f.N.Jeb,{sa:D.nativeCode,yb:D.errormsg,tk:D.httpCode,O9:D.networkErrorCode});}));});y.addListener("logdata",function(D){var F;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (F=z.qa) || void 0 === F?void 0:F.FG,(0,h.zja)({xXa:D,zk:B,loadTime:A}));});y.addListener("bufferingStarted",function(){z.j.Xr.set(k.Cf.xd);});y.addListener("bufferingComplete",function(D){z.Po=D;});this.j.paused.addListener(function(D){var F;z.debug.assert(z.jd,"has access to internalLogger");null !== (F=D.zm) && void 0 !== F && F.zta || !z.uC || (D.newValue && z.We.value === g.ta.Lc?(z.We.set(g.ta.ph),z.Dd.emit("paused",{type:"paused",pts:z.Dd.zc})):D.newValue || z.We.value !== g.ta.ph || (z.We.set(g.ta.Lc),z.Dd.emit("playing",{type:"playing",pts:z.Dd.zc})));D.newValue || (z.oE=!1);z.jd.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,r.kj)(z.j.mediaTime.value)});});this.j.tc.addListener(function(D){var F,G,C,H;if(z.uC)if((z.debug.assert(z.jd,"has access to internalLogger"),D.zm && D.zm.HRa))z.jd.trace("Not processing already applied track",null === (F=D.newValue) || void 0 === F?void 0:F.trackId);else {H=D.newValue;z.jba({Dn:H.tA,toJSON:function(){return H.Wh;}})?z.jd.trace("ASE accepted the audio track switch",null === (C=D.newValue) || void 0 === C?void 0:C.trackId):(z.jd.trace("ASE rejected the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.tA !== H.tA && z.j.tc.set(D.oldValue,{HRa:!0}));}});y.addListener("serverSwitch",function(D){var F;z.j.fireEvent(k.ea.BZ,D);if("video" === D.mediatype)F=g.Ub.Wa.Pb;else "audio" === D.mediatype && (F=g.Ub.Wa.Yb);(0,p.$c)(F) && z.EZ(D.segmentId,D.server,F);});y.addListener("streamSelected",function(D){var F,G,C,H;G=(null === (F=z.qa) || void 0 === F?void 0:F.iA(D.position)).In.U;F=[];if(D.mediaType === g.Ub.Wa.Pb){C=z.j.C0a(D.streamId);H=z.j.Ze;F=z.j.IH();}else D.mediaType === g.Ub.Wa.Yb && (C=z.j.q0a(D.streamId),H=z.j.sh,F=z.j.eHb());C && H?(!1,H.set(C,{PG:G,yU:D.bandwidth})):z.jd.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:F,cachedManifest:z.j.NG});});y.addListener("segmentNormalized",function(D){var F,G;F=D.segmentId;G=Math.floor(D.viewableContentEnd.U);D=Math.floor(D.viewableEarliestContentEnd.U);G=(0,q.Nc)(G);D=(0,q.Nc)(D);if(F=z.j.uk(F))(F.Az=G,F.TQb=D);z.j.Uu || (z.j.Uu=G);});E.addListener("segmentPresenting",function(D){var F;z.debug.assert(z.qa,"has access to asePlaygraph");z.debug.assert(z.Ja,"has access to asePlayer");z.debug.assert(z.mJ,"has access to segmentPresentingHandler");F=z.qa.iA(D.position);z.mJ(F.S,!1);z.j.fireEvent(k.ea.lJ,{type:"segmentPresenting",position:{segmentId:D.position.ha,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});z.Or=z.Ja.Tn();});E.addListener("ptsChanged",function(){z.Dd.emit("skipped");});y.addListener("locationSelected",function(D){z.j.fireEvent(k.ea.qX,D);});y.addListener("aseReportEnabled",function(){z.j.eN=!0;});y.addListener("aseReport",function(D){z.j.fireEvent(k.ea.mM,D);});};c.prototype.Tn=function(){var y,z,A,B,E,D,F,G,C;G=null === (y=this.Ja) || void 0 === y?void 0:y.C7();y=(null !== (z=this.Or) && void 0 !== z?z:G && this.Ja.Tn()) || ({});z=y.H;G=y.Ge;C=y.rE;y=y.Is;return {id:String(null === z || void 0 === z?void 0:z.id),Fe:null !== (A=null === G || void 0 === G?void 0:G.U) && void 0 !== A?A:0,gd:null !== (B=null === z || void 0 === z?void 0:z.Mf.U) && void 0 !== B?B:Infinity,Mc:null !== (E=null === z || void 0 === z?void 0:z.$i.U) && void 0 !== E?E:0,oe:null !== (D=null === C || void 0 === C?void 0:C.U) && void 0 !== D?D:Infinity,zd:null !== (F=null === y || void 0 === y?void 0:y.U) && void 0 !== F?F:0};};c.prototype.L6=function(){return {Fe:0};};c.prototype.b8=function(){var y,z;this.debug.assert(this.qa,"has access to asePlaygraph");y={};z=this.qa.Ow();y.vbuflmsec=z.totalvbuflmsecs;y.vbuflbytes=z.vbuflbytes;y.abuflmsec=z.totalabuflmsecs;y.abuflbytes=z.abuflbytes;return y;};c.prototype.paused=function(){};c.prototype.Lua=function(){this.Dd.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Dd.zc});};c.prototype.sU=function(y,z){var A;this.debug.assert(this.j.oa,"has access to playback manifest");A=this.qQ[g.Ub.Wa.Yb];return y.K === this.j.oa.Nb.K?A:this.UFb(this.j.oa.Nb.Qt[A],z);};c.prototype.UFb=function(y,z){var A,B,E;this.debug.assert(this.jd,"has access to internalLogger");!1;A=z.filter(function(D){return D.profile === y.profile;}).sort(function(D,F){var G,C,H;G="zxx" === D.language || "zxx" === F.language?0:D.language.localeCompare(F.language);if(0 === G){D=(null !== (C=D.ec) && void 0 !== C?C:0) - (null !== (H=F.ec) && void 0 !== H?H:0);}else D=G;return D;});B=0;E=ba(A).next().value;E && z.some(function(D,F){if(D === E)return (B=F,!0);});!1;return B;};c.prototype.jba=function(y){var z,A,B,E;z=this;this.debug.assert(this.jd,"has access to internalLogger");this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ja,"has access to asePlayer");this.debug.assert(this.j.oa,"has access to playback manifest");if(this.QJ)return (!1,!1);if(!this.j.oa.Nb.audio_tracks.some(function(D,F){if(D.track_id === y.Dn)return (E=F,!0);}))return (!1,!1);!1;this.yn=E;null === (A=this.j.cg) || void 0 === A?void 0:A.m1b();(null === (B=this.Ja) || void 0 === B?0:B.zB)?this.oE=!1:n.config.XUb && !this.j.paused.value && (this.Ja.pause([g.Ub.Wa.Yb]),this.oE=!0,this.j.paused.set(!0,{zta:!0}));this.debug.xja(this.yn,"has access to valid requestedAudioTrackIndex number");this.qQ[g.Ub.Wa.Yb]=this.yn;(this.qa.FE({Ss:this.sU.bind(this)},{Ss:function(){return z.qQ[g.Ub.Wa.Pb];}}) || this.oE) && this.Ja.resume(this.oE?[g.Ub.Wa.Yb]:void 0);this.ur(this.tU);return !0;};c.prototype.po=function(){var y;this.We.set(g.ta.Rf);null === (y=this.qa) || void 0 === y?void 0:y.A_("intrplay",m.de.po);this.Dd.emit("underflow",{type:"underflow",pts:this.Dd.zc});this.ur(this.Te);};c.prototype.gr=function(y,z){this.KB.gr(y,z);};c.prototype.open=function(){this.Nr || (this.debug.assert(this.qa,"has access to asePlaygraph"),this.debug.assert(this.Ja,"has access to asePlayer"),this.Nr=this.li=!0,this.qa.open(),this.debug.assert(this.Ex,"invalid start position relative to playgraph"),this.qa.qB(this.Ex),this.We.set(g.ta.xd),this.ur(this.Te),this.qa.lU(this.Ja),this.zPb());};c.prototype.play=function(){this.debug.assert(this.qa,"has access to asePlaygrah");this.debug.assert(this.Ja,"has access to asePlayer");0 !== this.qa.state && (this.Ja.resume(this.oE?[g.Ub.Wa.Yb]:void 0),this.We.set(g.ta.Lc),this.Dd.emit("playing",{type:"playing",pts:this.Dd.zc}));};c.prototype.stop=function(){var y;this.We.set(g.ta.Ir);null === (y=this.Ja) || void 0 === y?void 0:y.pause();this.events.emit("stop");this.Dd.emit("paused",{type:"paused",pts:this.Dd.zc});};c.prototype.flush=function(){this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Fi,"has access to streamingEngine");this.Nr && this.We.value !== g.ta.lj && this.We.value !== g.ta.Ir && this.stop();this.qa.A_("endplay",m.de.uq);this.qa.sf();this.Fi.Vh.save();this.Fi.Xn.save();};c.prototype.Xt=function(y){var z;this.debug.assert(this.qa,"has access to asePlaygraph");z=g.R.Oa(y);return (z=this.qa.qp(z,{Oab:!0,Nab:!0}))?this.qa.ma.V[z.ha].Aa + Number(z.offset.U.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + y);};c.prototype.LM=function(y,z){this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.jd,"has access to internalLogger");this.qa.ma.V[y] || (y=this.RV(z));this.debug.j4(y,"has access to segmentId");y={ha:y,offset:g.R.Oa(z - this.qa.ma.V[y].Aa)};if(y=this.qa.KH(y))return y.U;!1;return z;};c.prototype.uka=function(y,z){var A,B,E;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ja,"has access to asePlayer");z && this.qa.ma.V[z] || (z=null !== (A=this.RV(y)) && void 0 !== A?A:null === (B=this.Ja) || void 0 === B?void 0:B.Yi.ha);z=this.j.uk(z);y={In:g.R.Oa(y),S:z.K};return null === (E=this.qa.Dm(y)) || void 0 === E?void 0:E.gd;};c.prototype.Oz=function(y){var z;z=void 0 === z?!0:z;this.li?Number.isFinite(y) && (this.debug.assert(this.Ja,"has access to asePlayer"),z?this.Ja.GZ(y):this.Ja.kxa(y)):this.fail("Must call open prior to drmReady");};c.prototype.B7=function(){var y;return null !== (y=this.Ja) && void 0 !== y && y.Yf?this.Ja.ip(this.lb.ja.S):!1;};c.prototype.Ui=function(y){!1;return this.Ja?this.Ja.Ui(g.R.Oa(y)):(!1,!1);};c.prototype.Rs=function(y,z){var A;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ja,"has access to asePlayer");z && this.qa.ma.V[z] || (z=null !== (A=this.RV(y)) && void 0 !== A?A:this.lb.Yg);this.debug.j4(z,"has access to segmentId");this.debug.assert(this.qa.ma.V[z],"segment exists in playgraph map");y={ha:z,offset:g.R.Oa(y - this.qa.ma.V[z].Aa)};this.qa.qB(y);this.Ja.resume();this.We.set(g.ta.xd);this.ur(this.Te);y=this.qa.waa(y);this.debug.assert(y,"Valid position must be provided for seek");return y.offset.U;};c.prototype.addEventListener=function(y,z){this.events.addListener(y,z);return this;};c.prototype.removeEventListener=function(y,z){this.events.removeListener(y,z);return this;};c.prototype.wQ=function(y,z){var A;A={};this.qa.Gi((A[y]=z,A));};c.prototype.$r=function(y,z){var A,B;this.debug.assert(this.jd,"has access to internalLogger");this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ja,"has access to asePlayer");A=this.Tn().id;B=this.qa.JN(A,y);if(z){if(!B.Sdb)return (this.jd.warn("chooseNextSegment, seamless transition, invalid destination: " + (y + " for current segment: " + A)),!1);if(void 0 !== B.MO)return (!1,B.MO === y);this.qa.Ei(A,y,!1,z);return !0;}if(void 0 !== B.MO)return (!1,!1);B.uM && (this.Ja.reset(),this.qa.Ei(A,y,!1,z),this.Ja.resume(),this.We.set(g.ta.xd),this.ur(this.Te));return ! !B.uM;};c.prototype.Ei=function(y,z,A,B){this.debug.assert(this.qa,"has access to asePlaygraph");this.qa.Ei(y,z,A,B);};c.prototype.mo=function(){var y;this.debug.assert(this.jd,"has access to internalLogger");y=this.Dd.zc;!1;this.Dd.emit("skipped",{type:"skipped",pts:y});return new g.SF(Promise.resolve()).Awa;};c.prototype.RV=function(y){var z,A,B,E,D,F,G,C,H;this.debug.assert(this.qa,"has acccess to asePlaygraph");this.debug.assert(this.jd,"has acccess to internalLogger");z=this.qa.ma;A=[];B=Infinity;for(E in z.V){D=z.V[E];F=D.Aa;D=D.Ca;G=F <= y;C=y < Number(null !== D && void 0 !== D?D:Infinity);!1;if(G && C)(!1,A.push(E));else if((F=Math.min(Math.abs(y - F),Math.abs(y - D)),F < B)){B=F;H=E;}}y=A[0] || H;this.debug.j4(y,"has access to locatedSegmentId");!1;return y;};c.prototype.zPb=function(){var y,z;y=this;this.debug.assert(this.j.ac,"has acccess to mediaElement");z=this.j.ac.Z;this.debug.assert(z,"has acccess to videoElement");z.addEventListener("play",function(){y.We.value === g.ta.ph && (y.We.set(g.ta.Lc),y.Dd.emit("playing",{type:"playing",pts:y.Dd.zc}));});z.addEventListener("pause",function(){y.We.value === g.ta.Lc && (y.We.set(g.ta.ph),y.Dd.emit("paused",{type:"paused",pts:y.Dd.zc}));});};c.prototype.fail=function(y){var z;null === (z=this.qa) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:y});};c.prototype.ur=function(y){var z,A,B,E,D,F,G,C;z=this;if(y !== this.tU && this.QJ)this.aY=y;else {C=!0 === (null === (A=this.Ja) || void 0 === A?void 0:A.OA.value);A=(null === (B=this.qa) || void 0 === B?void 0:B.Ff.value) === g.Kc.mj;null === (E=this.Ja) || void 0 === E?void 0:E.OA.removeListener(this.N4a);null === (D=this.qa) || void 0 === D?void 0:D.Ff.removeListener(this.dTa);C && A?y():(this.N4a=function(){return z.ur(y);},this.dTa=function(){return z.ur(y);},null === (F=this.Ja) || void 0 === F?void 0:F.OA.addListener(this.N4a),null === (G=this.qa) || void 0 === G?void 0:G.Ff.addListener(this.dTa));}};c.prototype.HYa=function(y){var z,A;z=this;y=this.j.uk(y);return Promise.resolve(null !== (A=y.oa) && void 0 !== A?A:this.Ava(y)).then(function(B){B=B.Nb;return {oa:B,Wi:B.Mpa && !B.MH,config:z.jf,Cd:[].concat(ha(z.Cd))};});};c.prototype.Ava=function(y){var z,A,B,E,D;z=this;B=Promise.resolve();if(y.rj){E=y.rj.oY;(D=null === (A=this.j.zD(E).oa) || void 0 === A?void 0:A.Nb)?y.rj.v$=D:B=this.jj.Em(E).sr.then(function(F){return F.oa;}).then(function(F){y.rj.v$=F;}).catch(function(){return z.j.Ld(f.N.FK,f.M.Veb);});}return B.then(function(){return z.j.Ava(y);}).then(function(){z.j.nWb(y);return y.oa;});};c.prototype.Kja=function(y,z){this.debug.assert(this.F8,"Auxiliary viewable config request needs to happen after main viewable");this.debug.assert(void 0 !== this.F8.ca,"Auxiliary viewable xid is the same as main viewable, needs to be defined");this.j.VAb(y,z,this.F8.ca);};c.prototype.aV=function(y,z){var A,B,E,D,F;A=this;this.debug.assert(this.Fi,"has access to streamingEngine");B=this.j.uk(y);E=B.rj;D={S:B.K,Ti:null === E || void 0 === E?void 0:E.Ti};this.F8=z;if(!this.jj.has(D)){this.jj.store(D,{xka:function(){},equals:function(G){return G && G.S === D.S && (z.ca === G.ca || !G.ca || !z.ca);},get sr() {F || (F=A.HYa(y));return F;},set sr(G) {F=G;},events:new l.EventEmitter(),ca:z.ca,S:D.S,hu:!1,Cbb:!1});this.jf.Rz && this.Fi.EE(this.jj.Em(D.S,E?{r4:{Ti:E.Ti,oY:E.oY}}:void 0),{ca:z.ca,Fs:z.Fs,mD:z.Qz});}};c.prototype.Ox=function(y){var z,A;this.debug.assert(this.Fi,"has access to streamingEngine");z=this.j.uk(y);A=z.rj;z={S:z.K,Ti:null === A || void 0 === A?void 0:A.Ti};A=this.lb.mf(y).S;if(!this.jj.has(z))return Promise.resolve();z=this.jj.Em(A);z.sr=this.HYa(y);return this.Fi.Ox(z);};c.prototype.JN=function(y){var z;this.debug.assert(this.Ja,"has access to asePlayer");this.debug.assert(this.qa,"has access to asePlaygraph");return this.qa.JN(null === (z=this.Ja.Tn().H) || void 0 === z?void 0:z.id,y);};c.prototype.MMb=function(y){var z,A,B;z=this;A=y.Fw;B=y.ha;this.debug.assert(this.Fi,"has access to streamingEngine");this.debug.assert(this.jd,"has access to internalLogger");y=this.j.uk(B);y=this.lb.h7(y);B=y.V[B];this.debug.assert(B,"segment exists");this.Ex=(0,u.xW)(B.S,y,this.j.$,B.Aa);A=Object.create(this.jf,{Qz:{value:A.Qz}});this.We=new w.ic(g.ta.Ih);this.qa=this.Fi.CG(y,this.jf.P7a,A,this.jj);this.KB=new g.UF(this.jd);A=this.qa.hD(this.KB);y=this.qa.gD();this.qa.Qaa(y,A);this.qa.FE({Ss:function(){return z.qQ[g.Ub.Wa.Yb];}},{Ss:function(){return z.qQ[g.Ub.Wa.Pb];}});this.oE=!1;};c.prototype.Cla=function(){var y,z;y=this;this.debug.assert(this.Fi,"has access to streamingEngine");z=Object.create(this.jf,{Cd:{value:[].concat(ha(this.Cd))},qW:{value:function(){return y.e7();}}});this.Dd=Object.create(new l.EventEmitter(),{zc:{get:function(){y.debug.xja(y.j.mediaTime.value,"has access to mediaTime.value");return g.R.Oa(y.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(y.j.playbackRate.value,.01);}},pW:{value:function(){y.debug.assert(y.j.ac,"has access to mediaElement");return y.j.ac;}}});this.Ja=this.Fi.lRa(this.Dd,z);};c.prototype.e7=function(){this.yj || (this.yj=new g.platform.MediaSource(this.Dd),this.yj.Rc || (this.yj.Rc=g.platform.MediaSource.Rc));return this.yj;};Ya.Object.defineProperties(c.prototype,{QJ:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.yn;}},Wb:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Fi,"has access to streamingEngine");return this.Fi.Wb;}},qg:{configurable:!0,enumerable:!0,get:function(){var y,z;return null === (z=null === (y=this.qa) || void 0 === y?void 0:y.qg) || void 0 === z?void 0:z.ma;}},hUa:{configurable:!0,enumerable:!0,get:function(){var y;return null === (y=this.Ja) || void 0 === y?void 0:y.Fqa;}},BBb:{configurable:!0,enumerable:!0,get:function(){var y,z,A;if(null === (y=this.hUa) || void 0 === y?0:y.Yf){A=(y=this.hUa.Yi) && (null === (z=this.qg) || void 0 === z?void 0:z.V[y.ha]);if(A)return {In:g.R.Oa(y.offset.U + A.Aa),S:A.S};}}}});b.kAa=c;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.zja=void 0;c=a(17);b.zja=function(g){var l,m,d,f;l=g.zk;m=g.loadTime;g=g.xXa;d=(0,c.Fa)(m)?m:0;f=l[g.target] || ({});l[g.target] !== f && (l[g.target]=f);Object.entries(g.fields).forEach(function(h){var k,n,p,q;k=ba(h);h=k.next().value;k=k.next().value;if("object" !== typeof k || null === k)f[h]=k;else {n=k.type;if("count" === n)(void 0 === f[h] && (f[h]=0),++f[h]);else if(void 0 !== k.value){if("array" === n){n=f[h];p=k.adjust;q=k.value;n || (n=f[h]=[]);p && 0 < p.length && p.forEach(function(u){q[u]-=d || 0;});n.push(q);}else f[h]="sum" === n?(f[h] || 0) + k.value:k.value;}else f[h]=k;}});};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.xW=void 0;c=a(40);g=a(22);b.xW=function(l,m,d,f){return m.V[m.Pd].Aa === f?(l=(0,c.IM)(m,l,c.R.Oa(d)),(0,g.jb)(l,"has valid start position relative to playgraph"),l):{ha:m.Pd,offset:c.R.eb};};},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p,q,u,r,w,v,x,y,z){var A;A=this;this.y3b=n;this.j=p;this.id=q;this.height=u;this.width=r;this.oVb=w;this.pVb=v;this.size=x;this.yu=y;this.urls=z;this.type=g.Li.Mya;this.retry=!0;this.state=f.Pp.B1;this.Wh={};this.l4={};this.ZWb=function(B){if(B.aa)try{A.data=A.y3b.parse(B.content);A.state=f.Pp.rF;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.Wh);A.j.fireEvent(h.ea.y_);}catch(E){A.state=f.Pp.qIa;A.log.error("TrickPlay parse failed.",E);}else (A.state=f.Pp.B1,A.log.error("TrickPlay download failed.",(0,k.Fv)(B),A.Wh));};this.log=(0,m.Sh)(p,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ma=void 0;g=a(91);l=a(14);m=a(8);d=a(74);f=a(528);h=a(15);k=a(3);c.prototype.rIb=function(n){if(this.data && (this.yu && (n+=this.yu),n=Math.floor(n / this.data.header.kcb),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.kcb,height:this.height,width:this.width,pixelAspectHeight:this.oVb,pixelAspectWidth:this.pVb};};c.prototype.l7=function(){switch(this.state){case f.Pp.rF:return "downloaded";case f.Pp.LOADING:return "loading";case f.Pp.WR:return "downloadfailed";case f.Pp.qIa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.BKb();n?(this.state=f.Pp.LOADING,this.pDb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.BKb=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(u){return (n.l4[n.urls[u]] || 0) <= l.config.u3b;});if(p){q=this.urls[p];(q in this.l4)?this.l4[q]++:this.l4[q]=1;return {url:q,cD:p};}};c.prototype.pDb=function(n){this.log.trace("Downloading",n.url,this.Wh);n={responseType:d.LW,uc:this.ioa(n.cD),url:n.url,track:this};this.j.L7.download(n,this.ZWb);};c.prototype.ioa=function(n){return this.j.tj.find(function(p){return p && p.id === n;});};b.$Ma=c;},function(t,b,a){var g;function c(l,m,d,f){this.oma=l;this.debug=m;this.Ea=d;this.j=f;this.u$=[];this.I9={};this.qma={};this.xna=!1;this.Pbb=1;this.FAa=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.MCa=void 0;g=a(5);a(15);a(17);a(74);c.prototype.register=function(l,m){this.debug.assert(!(0 <= this.u$.indexOf(l)),"panel already registered");this.I9[l]=m;this.u$.push(l);};c.prototype.e6a=function(l){var m;m=this;this.qma[l]=!0;this.xna || (this.xna=!0,setTimeout(function(){return m.fGb();},0));};c.prototype.bJb=function(l){return (l=this.I9[l])?l():void 0;};c.prototype.lW=function(){var l;l=this.j.F$;return l?l.lW():[];};c.prototype.addEventListener=function(l,m){this.oma.addListener(l,m);this.I9[l] && this.e6a(l);};c.prototype.removeEventListener=function(l,m){this.oma.removeListener(l,m);};c.prototype.getTime=function(){return this.Ea.$b().da(g.la);};c.prototype.fGb=function(){this.xna=!1;for(var l=this.u$.length,m;l--;){m=this.u$[l];this.qma[m] && (this.qma[m]=!1,this.oma.Hc(m + "changed",{getModel:this.I9[m]}));}};b.MCa=c;},function(t,b,a){var g,l,m,d,f,h,k;function c(n,p){var q;q=this;this.Om=n;this.ks=p;this.ucb=function(u){var r,w,v,x,y,z,A;r=q.Pbb++;w=u.request.kD || "dl";v=q.d0a(w,"start");if(v){x=u.request.PA;y=x.stream.P.rp;x=ba(x.stream.P.ki).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.H.id,!q.ebb.has(y))){z=q.z_a(y);A=u.Ms;q.Om.mark(v,z,A?w + "-" + A + "-" + r:w);u.Nia(function(){var B,E;B=q.d0a(w,"end");E=A?w + "-" + A + "-" + r:w;B && q.Om.mark(B,z,E);});}}};this.Pbb=0;this.ebb=new Set();this.Uwa=new Map();p.FV && this.Q5b();}Object.defineProperty(b,"__esModule",{value:!0});b.LHa=void 0;t=a(1);g=a(0);l=a(64);m=a(71);d=a(5);f=a(74);a=a(42);h={start:{video:l.Ma.eR,audio:l.Ma.aR},end:{video:l.Ma.dR,audio:l.Ma.$Q}};c.prototype.A_a=function(n){var q,u,r,w,v,x,y,z;function p(A){return (0,d.timestamp)(q.zRa((0,d.timestamp)(A),n,!0));}q=this;u=new Set();r=n.Tc;w=n.ca;v=void 0 === n.Zab?null:n.Zab;x=n.ha;y=this.Om.d_a(w);z=x && this.z_a(x);z && y.push.apply(y,ha(this.Om.d_a(z)));this.Om.l9a(n.ca);z && this.Om.l9a(z);x && this.ebb.add(x);x=[];("pr_ats" in r) && x.push({name:l.Ma.S1,$s:p(r.pr_ats),ca:w,Lg:"request-pre-manifest"});("ats" in r) && x.push({name:l.Ma.Q1,$s:p(r.ats),ca:w,Lg:"request-manifest"});("pr_at" in r) && x.push({name:l.Ma.R1,$s:p(r.pr_at),ca:w,Lg:"request-pre-manifest"});("at" in r) && x.push({name:l.Ma.P1,$s:p(r.at),ca:w,Lg:"request-manifest"});("lg" in r) && x.push({name:l.Ma.O1,$s:p(r.lg),ca:w,Lg:"request-license"});("lr" in r) && (x.push({name:l.Ma.N1,$s:p(r.lr),ca:w,Lg:"request-license"}),x.push({name:l.Ma.d0,$s:p(r.lr),ca:w,Lg:"apply-license"}));("ld" in r) && x.push({name:l.Ma.c0,$s:p(r.ld),ca:w,Lg:"apply-license"});("tt_start" in r) && x.push({name:l.Ma.cR,$s:p(r.tt_start),ca:w,Lg:"request-timed-text"});("tt_comp" in r) && x.push({name:l.Ma.bR,$s:p(r.tt_comp),ca:w,Lg:"request-timed-text"});return x.concat(y).map(function(A){return q.Q2b(A,n);}).filter(function(A){return A.ts <= (null !== v && void 0 !== v?v:A.ts)?("end" === A.step && u.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || u.has(A.eventId)?!0:!1;}).sort(function(A,B){return A.ts - B.ts;}).reduce(function(A,B){var E;E=B.eventName;delete B.eventName;E && (A[E]=B);return A;},{});};c.prototype.Etb=function(n,p,q){return (void 0 === q?0:q)?n.da(d.la) + p.dj.da(d.la):n.da(d.la) - p.dj.da(d.la);};c.prototype.zRa=function(n,p,q){q=void 0 === q?!1:q;if(p.Zm)if(q)n.da(d.la) + p.Zm;else return n.da(d.la) - p.Zm;return this.Etb(n,p,q);};c.prototype.Q2b=function(n,p){var q,u;q=n.Lg;u=n.name;return {eventName:this.BSb(u,q),eventId:q || u,ts:this.zRa(n.$s,p),comp:this.fW(u),cat:this.AHb(u),step:this.lKb(u)};};c.prototype.BSb=function(n,p){switch(n){case l.Ma.cR:case l.Ma.bR:case l.Ma.aR:case l.Ma.$Q:case l.Ma.eR:case l.Ma.dR:return n + "-" + p;default:return n;}};c.prototype.fW=function(n){switch(n){case l.Ma.S1:case l.Ma.R1:case l.Ma.Q1:case l.Ma.P1:return "manifest";case l.Ma.O1:case l.Ma.N1:case l.Ma.Efa:case l.Ma.Dfa:case l.Ma.Z0:case l.Ma.Y0:case l.Ma.d0:case l.Ma.c0:return "license";case l.Ma.cR:case l.Ma.bR:case l.Ma.aR:case l.Ma.$Q:case l.Ma.eR:case l.Ma.dR:case l.Ma.ica:case l.Ma.hca:return "buffering";case l.Ma.Jea:case l.Ma.Iea:return "playback";default:return null;}};c.prototype.AHb=function(n){switch(n){case l.Ma.S1:case l.Ma.R1:case l.Ma.Q1:case l.Ma.P1:return "aws";case l.Ma.O1:case l.Ma.N1:return "mixed";case l.Ma.Jea:case l.Ma.Iea:case l.Ma.Efa:case l.Ma.Dfa:case l.Ma.Z0:case l.Ma.Y0:case l.Ma.d0:case l.Ma.c0:case l.Ma.ica:case l.Ma.hca:return "device";case l.Ma.cR:case l.Ma.bR:case l.Ma.aR:case l.Ma.$Q:case l.Ma.eR:case l.Ma.dR:return "cdn";default:return null;}};c.prototype.lKb=function(n){switch(n){case l.Ma.S1:case l.Ma.Jea:case l.Ma.Q1:case l.Ma.O1:case l.Ma.ica:case l.Ma.cR:case l.Ma.aR:case l.Ma.eR:case l.Ma.Efa:case l.Ma.Z0:case l.Ma.d0:return "start";case l.Ma.R1:case l.Ma.Iea:case l.Ma.P1:case l.Ma.N1:case l.Ma.Dfa:case l.Ma.Y0:case l.Ma.c0:case l.Ma.hca:case l.Ma.bR:case l.Ma.$Q:case l.Ma.dR:return "end";default:return null;}};c.prototype.d0a=function(n,p){if((n in h[p]))return h[p][n];};c.prototype.W3b=function(){f.nf.removeEventListener(f.I7,this.ucb);};c.prototype.Q5b=function(){this.W3b();f.nf.addEventListener(f.I7,this.ucb);};c.prototype.z_a=function(n){var p;if(this.Uwa.has(n))return this.Uwa.get(n);p=Date.now();this.Uwa.set(n,p);return p;};k=c;k=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.gS)),t.__param(1,(0,g.l)(a.jn))],k);b.LHa=k;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,O,N,P,S;Object.defineProperty(b,"__esModule",{value:!0});b.jUa=void 0;t=a(0);c=a(492);g=a(1227);l=a(105);m=a(1228);d=a(503);f=a(1229);h=a(505);k=a(1230);n=a(506);p=a(1231);q=a(290);u=a(1232);r=a(88);w=a(1233);v=a(1234);x=a(41);y=a(3);z=a(1235);A=a(1236);B=a(1237);E=a(54);D=a(1238);F=a(554);G=a(1239);C=a(1240);H=a(1241);K=a(489);M=a(1242);I=a(1243);Q=a(1244);L=a(425);J=a(1245);O=a(72);N=a(553);P=a(1246);S=a(1247);b.jUa=new t.rd(function(U){U(E.nn).to(D.TIa);U(c.hJa).to(g.gJa);U(F.OIa).to(G.NIa);U(K.QIa).to(M.PIa);U(C.Jlb).to(H.lJa);U(l.Tea).to(m.iJa);U(N.jJa).Af(function(Z){return function(){var ja;ja=Z.fb.get(O.Nv);return ja && ja.Ndb?Z.fb.resolve(S.DJa):Z.fb.resolve(P.kJa);};});U(d.MIa).to(f.LIa);U(h.AJa).to(k.zJa);U(n.bJa).to(p.aJa);U(q.Sea).to(u.cJa);U(r.gMa).to(w.fMa);U(r.kMa).to(v.jMa);U(r.PFa).to(z.OFa);U(r.bMa).to(A.aMa);U(r.HDa).to(B.GDa);U(Q.Klb).to(I.mJa);U(L.$Ia).to(J.ZIa);U(r.uda).Af(function(Z){return function(ja){switch(ja){case r.Ip.start:return Z.fb.get(r.gMa);case r.Ip.stop:return Z.fb.get(r.kMa);case r.Ip.dX:return Z.fb.get(r.PFa);case r.Ip.splice:return Z.fb.get(r.bMa);case r.Ip.jN:return Z.fb.get(r.HDa);}throw new x.od(y.N.Wkb,void 0,void 0,void 0,void 0,"The event key was invalid - " + ja);};});});},function(t,b,a){var g,l,m,d,f;function c(h){return d.Ki.call(this,h,l.N.Hjb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gJa=void 0;t=a(1);g=a(0);l=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ki);c.prototype.tg=function(h,k){var n;n=this;return this.send(h,{url:"/" + m.Bg.csa,name:m.Bg.csa,vp:m.Bg.csa},k).then(function(p){return p.result;}).catch(function(p){throw n.Qn(p);});};c.prototype.zq=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.nn))],f);b.gJa=f;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u;function c(r,w,v,x,y){r=d.Ki.call(this,r,l.N.FK,3) || this;r.platform=w;r.vX=v;r.dPb=x;r.pQb=y;return r;}Object.defineProperty(b,"__esModule",{value:!0});b.iJa=void 0;t=a(1);g=a(105);l=a(3);m=a(68);a(191);d=a(75);f=a(54);h=a(35);k=a(42);n=a(133);p=a(290);q=a(0);a=a(553);na(c,d.Ki);c.prototype.tg=function(r,w){var v,x,y,z;v=this;x=w.ou === g.ln.JF?"prefetch/manifest":m.Bg.oa;y=m.Bg.oa;z=w.ou === g.ln.Y1?k.Kv.JKa:k.Kv.vS;return this.pQb().transform(w,z).then(function(A){var B,E;A=ba(A);B=A.next().value;E=A.next().value;!1;"licensedManifest" === E.Gn && (x=w.ou === g.ln.JF?"prefetch/licensedManifest":"licensedManifest",y=m.Bg.ePb);return v.send(r,{url:E.Gn,name:y,vp:x},B,void 0,void 0,z).then(function(D){var F;D=v.vX.create(D.result);F=D.Nb.LB.map(function(G){return G.$g;}).filter(Boolean);E.Nz && (0 < F.length?(F=v.dPb.Acb(F),E.Nz.eRa(F),D.Nz=E.Nz,D.j2a=w.ou === g.ln.JF,D.i2a=!0):E.Nz.close());!1;return D;});}).catch(function(A){!1;throw v.Qn(A);});};c.prototype.zq=function(){return Promise.reject(Error("Links are not supported with manifest command"));};u=c;u=t.__decorate([(0,q.T)(),t.__param(0,(0,q.l)(f.nn)),t.__param(1,(0,q.l)(h.Dl)),t.__param(2,(0,q.l)(n.IK)),t.__param(3,(0,q.l)(p.Sea)),t.__param(4,(0,q.l)(a.jJa))],u);b.iJa=u;},function(t,b,a){var g,l,m,d,f;function c(h){return d.Ki.call(this,h,l.N.CK,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LIa=void 0;t=a(1);g=a(0);l=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ki);c.prototype.tg=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.zq=function(h,k,n){var p;p=this;k={url:k.nW(n.q3a).href,name:m.Bg.$g,vp:"ldl" === n.q3a?"prefetch/license":m.Bg.$g};return this.send(h,k,n.inputs,"drmSessionId").then(function(q){q=q.result;p.axb(q);return q;}).catch(function(q){throw p.Qn(q);});};c.prototype.axb=function(h){h.forEach(function(k){if(!k.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.nn))],f);b.LIa=f;},function(t,b,a){var g,l,m,d,f;function c(h){return d.Ki.call(this,h,l.N.yfa,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zJa=void 0;t=a(1);g=a(0);l=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ki);c.prototype.tg=function(h,k){var n;n=this;return this.send(h,{url:"/bundle",name:m.Bg.$g,vp:"release/license"},k).then(function(p){return p.result;}).catch(function(p){throw n.Qn(p);});};c.prototype.zq=function(){return Promise.reject(Error("Links are unsupported with release"));};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.nn))],f);b.zJa=f;},function(t,b,a){var g,l,m;function c(d){this.za=d;}Object.defineProperty(b,"__esModule",{value:!0});b.aJa=void 0;t=a(1);g=a(0);l=a(38);m=a(5);c.prototype.n3b=function(d){var f;f=this.za.kf.da(m.Ao);return {inputs:d.jk.map(function(h){return {drmSessionId:h.sessionId,clientTime:f,challengeBase64:h.dataBase64,xid:d.ca.toString(),mdxControllerEsn:d.CX};}),q3a:"standard" === d.$f.toLowerCase()?"license":"ldl"};};c.prototype.q3b=function(d){var f,h;f=this;h=[];return d.xe.map(function(k){h.push(k.id);return {url:f.Svb(k.gI,k.nX),echo:"drmSessionId",params:{drmSessionId:k.id,xid:d.ca.toString()}};});};c.prototype.Svb=function(d,f){return "/releaseLicense?drmLicenseContextId=" + d + (f?"&licenseId=" + f:"");};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.gi))],a);b.aJa=a;},function(t,b,a){var g,l,m;function c(d,f){this.ce=d;this.jz=f;}Object.defineProperty(b,"__esModule",{value:!0});b.cJa=void 0;t=a(1);g=a(0);l=a(29);a=a(36);c.prototype.Acb=function(d){var f,h;f=this;h=d.map(function(k){return k.links.releaseLicense.href;}).map(function(k){return f.ce.pY(k.substring(k.indexOf("?") + 1));});return {aa:!0,xe:d.map(function(k,n){return {id:k.drmSessionId,gI:h[n].drmlicensecontextid,nX:h[n].licenseid};}),vj:d.map(function(k){return {data:f.jz.decode(k.licenseResponseBase64),sessionId:k.drmSessionId};})};};m=c;m=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.jg)),t.__param(1,(0,g.l)(a.Ji))],m);b.cJa=m;},function(t,b,a){var g,l,m,d,f;function c(h){return m.xr.call(this,h,l.N.smb,d.Ip.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fMa=void 0;t=a(1);g=a(0);l=a(3);m=a(165);d=a(88);a=a(54);na(c,m.xr);f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.nn))],f);b.fMa=f;},function(t,b,a){var g,l,m,d,f;function c(h){return m.xr.call(this,h,l.N.zLa,d.Ip.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jMa=void 0;t=a(1);g=a(0);l=a(3);m=a(165);d=a(88);a=a(54);na(c,m.xr);f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.nn))],f);b.jMa=f;},function(t,b,a){var g,l,m,d,f;function c(h){return m.xr.call(this,h,l.N.Uda,d.Ip.dX,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.OFa=void 0;t=a(1);g=a(0);l=a(3);m=a(165);d=a(88);a=a(54);na(c,m.xr);f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.nn))],f);b.OFa=f;},function(t,b,a){var g,l,m,d,f;function c(h){return m.xr.call(this,h,l.N.xLa,d.Ip.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aMa=void 0;t=a(1);g=a(0);l=a(3);m=a(165);d=a(88);a=a(54);na(c,m.xr);f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.nn))],f);b.aMa=f;},function(t,b,a){var g,l,m,d,f;function c(h){return m.xr.call(this,h,l.N.Vhb,d.Ip.jN,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GDa=void 0;t=a(1);g=a(0);l=a(3);m=a(165);d=a(88);a=a(54);na(c,m.xr);c.prototype.B4=function(h){return Object.assign(Object.assign({},m.xr.prototype.B4.call(this,h)),{action:h.action});};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.nn))],f);b.GDa=f;},function(t,b,a){var g,l,m,d,f,h,k,n,p;function c(q,u,r,w,v,x,y,z,A){this.Mh=q;this.nf=u;this.Xh=r;this.cDb=w;this.nA=v;this.H4b=x;this.Tla=y;this.SYb=z;this.gH=A;}Object.defineProperty(b,"__esModule",{value:!0});b.TIa=void 0;t=a(1);g=a(0);l=a(125);m=a(72);d=a(526);f=a(523);h=a(81);k=a(89);n=a(339);p=a(98);a=a(92);c=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.gK)),t.__param(1,(0,g.l)(k.iy)),t.__param(2,(0,g.l)(m.Nv)),t.__param(3,(0,g.l)(f.WIa)),t.__param(4,(0,g.l)(h.hy)),t.__param(5,(0,g.l)(n.hNa)),t.__param(6,(0,g.l)(p.M0)),t.__param(7,(0,g.l)(d.CJa)),t.__param(8,(0,g.l)(a.ay))],c);b.TIa=c;},function(t,b,a){var g,l,m,d,f;function c(h){return d.Ki.call(this,h,l.N.ifb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.NIa=void 0;t=a(1);g=a(0);l=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ki);c.prototype.tg=function(h,k,n){var p;p=this;return this.send(h,{url:"/" + m.Bg.bind,name:m.Bg.bind,vp:m.Bg.bind},k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Qn(q);});};c.prototype.zq=function(){return Promise.reject(Error("Links are unsupported with bind"));};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.nn))],f);b.NIa=f;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jlb="PboPairCommandSymbol";},function(t,b,a){var g,l,m,d,f;function c(h){return d.Ki.call(this,h,l.N.Okb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.lJa=void 0;t=a(1);g=a(0);l=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ki);c.prototype.tg=function(h,k,n){var p;p=this;return this.send(h,{url:"/" + m.Bg.kua,name:m.Bg.kua,vp:m.Bg.kua},k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Qn(q);});};c.prototype.zq=function(){return Promise.reject(Error("Links are unsupported with pair"));};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.nn))],f);b.lJa=f;},function(t,b,a){var g,l,m,d,f;function c(h){return d.Ki.call(this,h,l.N.jfb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PIa=void 0;t=a(1);g=a(0);l=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ki);c.prototype.tg=function(h,k,n){var p;p=this;return this.send(h,{url:"/bindDevice",name:m.Bg.bind,vp:m.Bg.bind},k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Qn(q);});};c.prototype.zq=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.nn))],f);b.PIa=f;},function(t,b,a){var g,l,m,d,f;function c(h){return d.Ki.call(this,h,l.N.ilb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.mJa=void 0;t=a(1);g=a(0);l=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ki);c.prototype.tg=function(h,k,n){var p;p=this;return this.send(h,{url:"/" + m.Bg.ping,name:m.Bg.ping,vp:m.Bg.ping},k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Qn(q);});};c.prototype.zq=function(){return Promise.reject(Error("Links are unsupported with ping"));};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.nn))],f);b.mJa=f;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Klb="PboPingCommandSymbol";},function(t,b,a){var g,l,m,d,f;function c(h){return d.Ki.call(this,h,l.N.lib,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZIa=void 0;t=a(1);g=a(0);l=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ki);c.prototype.tg=function(h,k){var n;n=this;return this.send(h,{url:"/generateScreenshots",name:m.Bg.oa,vp:"generateScreenshots"},k).then(function(p){return p.result;}).catch(function(p){throw n.Qn(p);});};c.prototype.zq=function(h,k,n){var p;p=this;k={url:k.nW("generateScreenshots").href,name:m.Bg.oa,vp:"generateScreenshots"};return this.send(h,k,n).then(function(q){return q.result;}).catch(function(q){throw p.Qn(q);});};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.nn))],f);b.ZIa=f;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w,v,x;function c(y,z,A,B,E,D,F,G,C,H){this.Xh=y;this.platform=z;this.config=A;this.Jwb=B;this.CVb=E;this.Bk=D;this.KU=F;this.za=G;this.o9=C;this.Jn=H;}Object.defineProperty(b,"__esModule",{value:!0});b.kJa=void 0;t=a(1);g=a(0);l=a(105);m=a(13);d=a(473);f=a(471);h=a(552);k=a(70);n=a(35);p=a(38);q=a(5);u=a(169);r=a(72);w=a(341);v=a(26);x=a(60);c.prototype.transform=function(y,z){var A,B,E,D,F,G,C,H;A=this;B=y.bb;E=Object.assign({},B.p4,B.Vm);D={};F=y.S;D[F]={unletterboxed:! !E.preferUnletterboxed};G=this.config();C=G.S4b?30:25;G=G.Dp?this.Bk.cIb():Promise.resolve(this.o9.qu());H={Wd:null === B || void 0 === B?void 0:B.Wd};return Promise.all([this.Jn.Z_a(H),this.Jn.a0a(H),this.Jn.KN(),this.Jn.g7(),this.BHb(y.ca,z),this.gIb(y),G]).then(function(K){var M,I,Q,L,J,O,N,P,S;M=ba(K);I=M.next().value;Q=M.next().value;L=M.next().value;J=M.next().value;O=M.next().value;K=M.next().value;M=M.next().value;I=(I || []).concat(Q || []).concat(A.config().uv).concat(["BIF240","BIF320"]).filter(Boolean);J=J?J.DEVICE_SECURITY_LEVEL:void 0;Q="postplay" === B.Wd?!0:! !E.isUIAutoPlay;L={type:"standard",manifestVersion:A.Xh.eXa?"v2":"v1",viewableId:F,profiles:I,flavor:y.ou,drmType:M,drmVersion:C,usePsshBox:!0,isBranching:! !y.bb.zi,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().g2b,imageSubtitleHeight:d.Sfa.F_a(),uiVersion:A.Xh.Lx,uiPlatform:A.Xh.Dba,clientVersion:A.platform.version,supportsPreReleasePin:A.config().sq.a2b,supportsWatermark:A.config().sq.b2b,packageId:A.wJb(B),deviceSecurityLevel:J,videoOutputInfo:L,titleSpecificData:D,preferAssistiveAudio:! !E.assistiveAudioPreferred,preferredTextLocale:E.preferredTextLocale,preferredAudioLocale:E.preferredAudioLocale,isUIAutoPlay:Q,challenge:O,isNonMember:A.Xh.n2a,pin:B.x7a,desiredVmaf:A.config().Gdb?A.config().aWa:A.config().bWa,desiredSegmentVmaf:A.config().Gdb?A.config().aWa:A.config().bWa,requestSegmentVmaf:A.config().XYb,supportsPartialHydration:A.Xh.mH,contentPlaygraph:A.Xh.HUa,auxiliaryManifestToken:y.bb.zi?void 0:null === (N=y.rj) || void 0 === N?void 0:N.Ti,originalPlaybackContextId:!y.bb.zi && (null === (P=y.rj) || void 0 === P?0:P.Ti)?null === (S=y.rj) || void 0 === S?void 0:S.hua:void 0};B.CXa && (L.extraParams=B.CXa);B.$Va && (L.desiredDownloadables=B.$Va);B.qwa && (L.requestReference=B.qwa);N={Gn:K?"licensedManifest":"manifest",Nz:null === K || void 0 === K?void 0:K.cc};K && (K={drmSessionId:K.cc.aA() || "session",clientTime:A.za.AZ.da(q.Ao),challengeBase64:K.Cka},L.challenges={"default":[K]},L.profileGroups=[{name:"default",profiles:I}],L.licenseType=y.$f == x.ji.wo?"limited":"standard",y.ca && (L.xid=y.ca.toString()));A.Xh.mH || (L.showAllSubDubTracks=A.config().sq.J0b || ! !E.showAllSubDubTracks,A.Xh.YWa && y.ou === l.ln.Y1 && (L.maxSupportedLanguages=2));y.vba && (L.originalPlaybackContextId=y.vba.hua,L.requiredAudioTrackId=y.vba.aZb,L.requiredTextTrackId=y.vba.dZb);return [L,N];});};c.prototype.wJb=function(y){if(this.config().$$.enabled){if(void 0 !== y.pp)return y.pp;if(void 0 !== this.config().$$.pp)return Number(this.config().$$.pp);}};c.prototype.BHb=function(y,z){var A;A=this;return this.Jwb.aZa(z).then(function(B){var E;E=y && A.CVb.DJb(y);E && E.cq("cad");return B;});};c.prototype.gIb=function(y){var z;if(void 0 === y.$f || !this.config().Dp)return Promise.resolve(void 0);z=y.$f === x.ji.Mp && this.Xh.Cw;return y.$f === x.ji.wo && this.Xh.pD || z?this.KU.hpa(y.$f):Promise.resolve(void 0);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(r.Nv)),t.__param(1,(0,g.l)(n.Dl)),t.__param(2,(0,g.l)(m.bd)),t.__param(3,(0,g.l)(f.iBa)),t.__param(4,(0,g.l)(h.jfa)),t.__param(5,(0,g.l)(k.xt)),t.__param(6,(0,g.l)(u.u0)),t.__param(7,(0,g.l)(p.gi)),t.__param(8,(0,g.l)(w.rea)),t.__param(9,(0,g.l)(v.$x))],a);b.kJa=a;},function(t,b,a){var g,l,m,d,f,h;function c(k,n,p,q){this.platform=k;this.config=n;this.KU=p;this.Jn=q;}Object.defineProperty(b,"__esModule",{value:!0});b.DJa=void 0;t=a(1);g=a(0);l=a(13);m=a(35);d=a(169);f=a(26);h=a(60);c.prototype.transform=function(k){var n,p,q;n=this;p=k.bb;q={Wd:void 0};return Promise.all([this.Jn.Z_a(q),this.Jn.a0a(q),this.KU.hpa(h.ji.Mp)]).then(function(u){var r,w;r=ba(u);u=r.next().value;w=r.next().value;r=r.next().value;return [{viewableId:k.S,packageId:p.pp,assetId:p.yja,challenge:r.Cka,audioProfiles:u,textProfiles:n.config().uv,trickplayProfiles:["BIF240","BIF320"],videoProfiles:w,audioLanguages:p.Nub,textLanguages:p.y2b,videoLanguages:p.Zdb?[p.Zdb]:void 0,requestReference:p.qwa,additionalAudioAssets:p.Btb,additionalTextAssets:p.Dtb},{Nz:null === r || void 0 === r?void 0:r.cc,Gn:"studioManifest"}];});};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.Dl)),t.__param(1,(0,g.l)(l.bd)),t.__param(2,(0,g.l)(d.u0)),t.__param(3,(0,g.l)(f.$x))],a);b.DJa=a;},function(t,b,a){var c,g,l,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;t=a(0);c=a(282);g=a(524);l=a(1249);m=a(1250);d=a(1251);f=a(42);b.transports=new t.rd(function(h){h(c.l2).to(d.VMa).ba();h(g.SHa).to(l.RHa);h(g.dMa).to(m.cMa);h(g.WMa).Af(function(k){return function(n){var p;return k.fb.get(c.l2).Saa(null !== (p=null === n || void 0 === n?void 0:n.hSb) && void 0 !== p?p:f.Kv.vS)?k.fb.get(g.SHa):k.fb.get(g.dMa);};});});},function(t,b,a){var g,l,m,d,f,h;function c(k,n,p){var q;q=this;this.jE=n;this.profile=p;this.log=k.mb("MslTransport");this.jE().then(function(u){return q.L9=u;});}Object.defineProperty(b,"__esModule",{value:!0});b.RHa=void 0;t=a(1);g=a(0);l=a(7);m=a(159);d=a(5);a=a(95);f={license:!0};c.prototype.send=function(k,n){var p,q;p=this;q={w5a:Object.assign({nf:k.nf,log:k.log,profile:this.profile},k.tvb),method:k.Gn,url:k.url.href,body:JSON.stringify(n),timeout:k.timeout.da(d.la),Y4b:this.profile,Rec:!f[k.Gn],zSb:! !f[k.Gn],fl:!0,raa:k.Bwa,headers:k.headers};!1;return this.jE().then(function(u){return u.send(q).catch(function(r){var w;if(!r.error)throw (r.Ec=r.sa || r.Ec,r);w=r.error;w.CE=r.CE;p.log.error("Error sending MSL request",{mslCode:w.RA,subCode:w.Ec,data:w.data,message:w.message});throw w;});});};c.prototype.pla=function(){var k;return {userTokens:null === (k=this.L9) || void 0 === k?void 0:k.PX.getUserIdTokenKeys()};};h=c;h=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.ub)),t.__param(1,(0,g.l)(m.hS)),t.__param(2,(0,g.l)(a.xS))],h);b.RHa=h;},function(t,b,a){var g,l,m,d;function c(f,h){this.nf=h;this.log=f.mb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.cMa=void 0;t=a(1);g=a(0);l=a(5);m=a(7);a=a(89);c.prototype.send=function(f,h){var k,n;k=this;n={url:f.url.href,kD:"nq-" + f.Gn,Wua:JSON.stringify(h),X4:f.timeout.da(l.la),headers:f.headers,withCredentials:!0};!1;return new Promise(function(p,q){k.nf.download(n,function(u){u.aa?p(u):q(u);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.Ec=p.sa || p.Ec,p);q=p.error;q.CE=p.CE;k.log.error("Error sending SSL request",{subCode:q.Ec,data:q.content,message:q.message});throw q;});};c.prototype.pla=function(){return {};};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.ub)),t.__param(1,(0,g.l)(a.iy))],d);b.cMa=d;},function(t,b,a){var g,l,m,d,f;function c(h){return l.bf.call(this,h,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.VMa=void 0;t=a(1);g=a(0);l=a(47);m=a(37);d=a(46);f=a(42);na(c,l.bf);c.prototype.Saa=function(h){var k,n;k=this.xQ;n=this.ERa;switch(h){case f.Kv.vS:return k;case f.Kv.JKa:return k && !n;case f.Kv.Fkb:return !1;}};Ya.Object.defineProperties(c.prototype,{xQ:{configurable:!0,enumerable:!0,get:function(){return !0;}},ERa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;t.__decorate([d.config(d.cd,"usesMsl")],a.prototype,"xQ",null);t.__decorate([d.config(d.cd,"allowRequestsWithoutMsl")],a.prototype,"ERa",null);a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.fm))],a);b.VMa=a;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Rl=void 0;t=a(0);c=a(538);g=a(1253);b.Rl=new t.rd(function(l){l(c.eGa).to(g.dGa);});},function(t,b,a){var g,l,m,d,f,h,k,n;function c(p,q,u,r,w){this.jH=p;this.tq=q;this.config=u;this.CO=r;this.Gd=w;}Object.defineProperty(b,"__esModule",{value:!0});b.dGa=void 0;t=a(1);g=a(0);l=a(124);m=a(1254);d=a(1255);f=a(69);h=a(13);k=a(139);a=a(121);c.prototype.create=function(p,q,u){return p?new m.fGa(this.config(),this.tq,this.Gd,q,u,this.jH,this.CO()):new d.XFa(this.config,this.Gd,q,u);};n=c;n=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.Q0)),t.__param(1,(0,g.l)(f.Ev)),t.__param(2,(0,g.l)(h.bd)),t.__param(3,(0,g.l)(k.dS)),t.__param(4,(0,g.l)(a.VF))],n);b.dGa=n;},function(t,b,a){var g,l,m,d,f,h,k,n,p;function c(q,u,r,w,v,x,y){w=k.ZQ.call(this,w,v) || this;w.config=q;w.tq=u;w.Gd=r;w.jH=x;w.Osa=y;w.log=(0,l.Sh)(w.j,"LicenseBroker");w.lX=new Set();w.Nsa=!1;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.fGa=void 0;t=a(1);g=a(3);l=a(8);m=a(330);d=a(5);f=a(0);h=a(295);k=a(555);n=a(60);p=a(15);na(c,k.ZQ);c.prototype.l$=function(){var q,u;q=this;u=this.j.ja;this.lX.has(u.K) || (this.lX.add(u.K),this.fub(u).catch(function(){return q.y9a(u);}).then(function(){return q.XRa(u);}).catch(function(r){return q.WRa(u,r);}).catch(function(r){return q.Ld(r.code,r,r.Nd);}));};c.prototype.fub=function(q){var u;u=this;return Promise.all([this.Gd.XYa(q.K),this.jH()]).then(function(r){var w,v;r=ba(r);w=r.next().value;v=r.next().value;return w.Laa.then(function(x){var y;if("manifest" === w.source){y=u.ZZa(q);v.q5a(y,x);}return x;}).then(function(x){return u.c4(x,q,w.source);});}).catch(function(r){u.log.warn("eme not in cache",r);throw r;});};c.prototype.c4=function(q,u,r){this.l8a(q,u);u.MG=r;this.Osa.hRa(q.mediaKeys);return q.qja();};c.prototype.yGb=function(q){var u;u={};q.forEach(function(r){u[(0,m.GWa)(r.HX)]=r.time.da(d.la);});return u;};c.prototype.l8a=function(q,u){var r;r=this;u.uf=q;q.H_b(function(w){r.Ld(w.code,w,w.Nd);});};c.prototype.XRa=function(q){this.log.info("Successfully applied license for xid: " + q.ca + ", viewable: " + q.K + ", segment: " + q.ha);this.oA(q);this.Nsa?this.p6(q.K):this.setMediaKeys(q);};c.prototype.WRa=function(q,u){this.oA(q);throw u;};c.prototype.oA=function(q){q.uf && q.oA(this.yGb(q.uf.Tc));};c.prototype.ZZa=function(q){var u;return {type:this.Z6(!1),initData:q.cv.map(function(r){return (0,l.Yr)(r);}),context:{Z:this.ac.Z,$u:null === (u=q.Ag.value) || void 0 === u?void 0:u.$u},cj:{K:q.K,ca:q.ca,Ai:q.Ai,Am:q.Am,yk:q.oa.yk}};};c.prototype.y9a=function(q){var u;u=this;return this.jH().then(function(r){var w;w=u.ZZa(q);u.lX.add(q.K);return r.$g(w,u.Osa).then(function(v){u.l8a(v,q);u.j.fireEvent(p.ea.oX,{K:q.K});return v.qja();});});};c.prototype.setMediaKeys=function(q){var u;u=this;if(this.Nsa)this.log.trace("Media Keys already set");else try{this.ac.Z?this.ac.Z.setMediaKeys(q.uf.mediaKeys).then(function(){u.p6(q.K);u.Nsa=!0;}).catch(function(r){r=u.f0a(r);u.Ld(g.N.OK,r,r.wf);}):this.p6(q.K);}catch(r){this.Ld(g.N.OK,r,void 0);}};c.prototype.jB=function(){var q,u;q=this;u=this.j.ja.uf;return u?this.jH().then(function(r){return r.release(u,q.Osa).then(function(w){q.log.trace("Successfully released the license");return w.close();}).catch(function(w){q.log.error("Unable to release the license",w);});}):Promise.resolve();};c.prototype.x9a=function(q){var u;u=this;q=void 0 === q?this.j:q;return this.y9a(q).then(function(){return u.XRa(q);}).catch(function(r){return u.WRa(q,r);});};c.prototype.Z6=function(q){return this.tq.XV?n.ji.wo:q?n.ji.wo:n.ji.Mp;};Ya.Object.defineProperties(c.prototype,{kE:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Im:{configurable:!0,enumerable:!0,get:function(){return this.config.Im;}}});a=c;t.__decorate([h.iX],a.prototype,"kE",null);a=t.__decorate([(0,f.T)()],a);b.fGa=a;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u;function c(r,w,v,x){v=p.ZQ.call(this,v,x) || this;v.config=r;v.Gd=w;v.log=(0,l.Sh)(v.j,"LegacyLicenseBroker");v.Im=v.config().Im;v.config().r8a?(0,d.s2a)()?v.Mba=!0:v.log.error("Promise based eme requested but platform does not support it",{browserua:f.gC}):v.Mba=!1;return v;}Object.defineProperty(b,"__esModule",{value:!0});b.XFa=void 0;t=a(1);g=a(3);l=a(8);m=a(158);d=a(49);f=a(11);h=a(0);k=a(295);n=a(35);p=a(555);q=a(60);na(c,p.ZQ);c.prototype.YUa=function(r){var w;w=void 0 === w?this.j:w;return new this.Gs.rK(r,function(v){return w.Y4.DH(v);},function(v){return w.Y4.release(v);},{xf:!1,kl:!1});};c.prototype.aH=function(r){var w,v,x,y,z,A;w=this;r=void 0 === r?this.j:r;v=a(51).kk;this.Gs.rK || this.Ld(g.N.CK,g.M.Khb);x=(0,l.Sh)(r,"Eme");y=this.YUa(x);z=l.pa.get(m.CS);A=z.c5(r.tc.value.streams);z=z.f5(r.Ag.value.streams);return this.Gs.tK(x,function(B){return r.Ed(B);},{xf:!1,kl:!1,za:{getTime:v},Vl:y,MY:! !this.Mba,Z:this.ac.Z,IB:this.config().WWa,onerror:function(B,E,D){return w.Ld(B,E,D);},Cta:function(){},KI:!0,Mub:A,u5b:z,Q7:this.config().Q7});};c.prototype.setMediaKeys=function(r){var w;w=this;return this.Mba?new Promise(function(v,x){if(w.ac.Z)w.ac.Z.setMediaKeys(r).then(function(){v();}).catch(function(y){var z;z=w.f0a(y);x({aa:!1,code:g.N.OK,Ec:z.sa,Nd:z.wf,yb:z.yb,message:"Set media keys is a failure",cause:y});});else return Promise.resolve();}):Promise.resolve();};c.prototype.uXa=function(r){return {code:r.code,subCode:r.Ec,extCode:r.Nd,edgeCode:r.Ln,message:r.message,errorDetails:r.yb,errorData:r.qH,state:r.state};};c.prototype.nxa=function(r,w,v){var y,z,A;function x(){z.YI().catch(function(B){y.log.error("Unable to set the license",y.uXa(B));B.cause && B.cause.yb && (B.yb=B.yb?B.yb + B.cause.yb:B.cause.yb);y.Ld(B.code,B,B.Nd);});}y=this;v=void 0 === v?this.j:v;z=v.uf;this.log.info("Setting the license");A=w?function(){return Promise.resolve();}:function(){return z.$g(y.Z6(!1),r);};return (w?function(){return z.c4(y.ac.Z);}:function(){return z.create(y.Im).then(function(){return Promise.resolve();});})().then(function(){return y.config().$$a?y.setMediaKeys(z.mediaKeys):Promise.resolve();}).then(A).then(function(){return y.config().$$a?Promise.resolve():y.setMediaKeys(z.mediaKeys);}).then(function(){y.log.info("license set");y.p6(v.K);y.ac.leb.then(function(){y.config().ZD && (w || y.config().XV) && (y.s9a=nb.setTimeout(x,y.config().ZD));});}).catch(function(B){y.log.error("Unable to set the license",y.uXa(B));B.cause && B.cause.yb && (B.yb=B.yb?B.yb + B.cause.yb:B.cause.yb);if(w)throw Error(B && B.message?B.message:"failed to set license");y.Ld(B.code,B,B.Nd);});};c.prototype.jB=function(){return Promise.resolve();};c.prototype.l$=function(){var w;function r(){var v;w.j.uf=w.aH();v=[];w.j.cv.forEach(function(x){v.push((0,l.Yr)(x));});w.nxa(v);}w=this;this.lX || (this.lX=!0,this.Gs.tK?this.j.cv?this.config().EV && this.config().sx?this.Gd.XYa(this.j.K).then(function(v){w.j.uf=v;return v.Dza.then(function(){var x;x=[];w.j.cv.forEach(function(y){x.push((0,l.Yr)(y));});return w.nxa(x,!0).then(function(){var y;if(v.Abc)w.Ld(g.N.Ohb);else {y=(0,l.Sh)(w.j,"Eme");v.odb({log:y,bo:function(z){return w.j.Ed(z);}},{Vl:w.YUa(y),onerror:function(z,A,B){return w.Ld(z,A,B);}});w.j.oA(v.Tc || ({}));w.j.MG="videopreparer";}});});}).catch(function(v){w.log.warn("eme not in cache",v);r();}):r():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Ld(g.N.ulb)):this.Ld(g.N.CK,g.M.Lhb));};c.prototype.x9a=function(r){var w;r=void 0 === r?this.j:r;r.uf=this.aH();w=[];r.cv.forEach(function(v){w.push((0,l.Yr)(v));});return this.nxa(w,!1,r);};c.prototype.Z6=function(r){return this.config().XV?q.ji.wo:r?q.ji.wo:q.ji.Mp;};Ya.Object.defineProperties(c.prototype,{Gs:{configurable:!0,enumerable:!0,get:function(){return l.pa.get(n.hC);}},kE:{configurable:!0,enumerable:!0,get:function(){return this.Mba?"encrypted":this.ac.xDa + "needkey";}}});u=c;t.__decorate([k.iX],u.prototype,"Gs",null);t.__decorate([k.iX],u.prototype,"kE",null);u=t.__decorate([(0,h.T)()],u);b.XFa=u;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.bh=void 0;t=a(0);c=a(308);g=a(1257);l=a(309);m=a(1262);d=a(122);f=a(1264);h=a(1265);k=a(163);n=a(556);p=a(1266);q=a(557);u=a(1268);r=a(81);w=a(558);v=a(1269);b.bh=new t.rd(function(x){x(c.nfa).to(g.uKa).ba();x(l.pfa).to(m.GKa).ba();x(d.QK).to(f.sKa).ba();x(k.MF).to(h.pKa).ba();x(n.AKa).to(p.zKa).ba();x(q.EKa).Af(function(y){var z;z=y.fb;return function(A){return new u.FKa(A,z.get(r.hy),z.get(k.MF));};});x(w.aGa).Af(function(y){var z;z=y.fb;return function(A,B,E){return new v.bGa(A,B,E,z.get(k.MF),z.get(d.QK));};});});},function(t,b,a){var g,l,m,d,f,h,k,n,p;function c(q,u,r,w,v,x,y){this.bg=q;this.bna=u;this.fj=r;this.Iya=w;this.RVb=v;this.TVb=x;this.SVb=y;}Object.defineProperty(b,"__esModule",{value:!0});b.uKa=void 0;t=a(1);g=a(0);l=a(1258);m=a(7);d=a(163);f=a(342);h=a(556);k=a(423);n=a(557);a=a(309);c.prototype.create=function(q){return new l.vKa(q,this.bg,this.bna,this.fj,this.Iya,this.RVb,this.TVb,this.SVb);};p=c;p=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.ub)),t.__param(1,(0,g.l)(f.tR)),t.__param(2,(0,g.l)(d.MF)),t.__param(3,(0,g.l)(k.TMa)),t.__param(4,(0,g.l)(h.AKa)),t.__param(5,(0,g.l)(n.EKa)),t.__param(6,(0,g.l)(a.pfa))],p);b.uKa=p;},function(t,b,a){var g,l,m;function c(d,f,h,k,n,p,q,u){this.Iya=n;this.zza=u;this.UV=!1;k.Lba && (d=new m.wKa().p3b(d));this.lb=q(d);this.Ok=new l.HKa(this.lb);this.Ok.S$a(this.lb.ja.S);this.log=f.mb("PlaygraphManager");this.Vb=h.create();this.Ru=p.create(this.lb,this.Ok,this.log,this.Vb);this.p0b();}Object.defineProperty(b,"__esModule",{value:!0});b.vKa=void 0;g=a(15);l=a(1259);m=a(1261);c.prototype.GJb=function(){return this.lb.O$;};c.prototype.P6=function(){return this.lb.ja;};c.prototype.lZa=function(){return this.lb.Yg;};c.prototype.HH=function(){return this.lb.rl;};c.prototype.Ei=function(d){for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}this.lb.Ei.apply(this.lb,ha(f));};c.prototype.Exb=function(d){for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}this.lb.kSa(f);};c.prototype.GB=function(d){this.lb.rl=d;};c.prototype.Gi=function(d,f){this.lb.Gi(d,f);};c.prototype.Fpa=function(d,f,h,k){var n,p;h=void 0 === h?{}:h;k=void 0 === k?!0:k;if(d !== this.lb.Yg)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.HH().V[d].next) && void 0 !== n?n:{}).indexOf(f))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + f);this.vab();null === (p=h.Vm) || void 0 === p?void 0:p.isUIAutoPlay;return this.Ru.Gpa(f,h,k);};c.prototype.isReady=function(){return this.Ru.isReady();};c.prototype.addListener=function(d,f,h){this.Vb.addListener(d,f,h);};c.prototype.removeListener=function(d,f){this.Vb.removeListener(d,f);};c.prototype.Sn=function(){return this.Ru.Sn();};c.prototype.Db=function(){return this.Ru.FH();};c.prototype.dBb=function(d,f,h){var k;d=void 0 === d?this.HH().Pd:d;f=void 0 === f?{}:f;k=this.zza.jVa(this);this.vWb(null !== d && void 0 !== d?d:this.HH().Pd,f,h);return k;};c.prototype.ytb=function(d){var f;this.log.info("Adding segment - movieId: " + d.K + ", startPts: " + d.$ + ", logicalEnd: " + d.xj);f=Object.assign({},d.zb,d.$?{$:d.$}:{},d.xj?{xj:d.xj}:{});this.mbb(d.K,f,d.oa);d=this.Ru.tRa(d);this.vab();return d;};c.prototype.transition=function(d){var f;f=this.lb.rW(this.lb.Yg);return f?this.Fpa(this.lb.Yg,f,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Ru.close(d);};c.prototype.vWb=function(d,f,h){var k;void 0 === d && (d=null === (k=this.HH()) || void 0 === k?void 0:k.Pd);(f || h) && this.mbb(this.HH().V[d].S,null !== f && void 0 !== f?f:{},h);this.Ru.QI(d);};c.prototype.mbb=function(d,f,h){h && this.Ok.hM(d,h);this.Ok.otb(d,f);};c.prototype.p0b=function(){var d;d=this;this.lb.P1b(function(){d.Ok.lx();d.Ru.lx();});this.lb.Q1b(function(f){d.Ru.aua(f);});this.lb.O1b(function(f){d.Ru.CI(f);});this.addListener(g.NF.wZ,function(){return d.aUb();});this.addListener(g.Ga.P1a,function(f){return d.OTb(f);});};c.prototype.vab=function(){var d;d=this;this.UV || (this.Db().Wia(g.ea.lJ,function(f){return d.mE(f);}),this.UV=!0);};c.prototype.OTb=function(d){var f;f=this;this.Ru.Lcb(d).catch(function(){return f.Vb.Hc(g.Ga.error,d.t_());});};c.prototype.aUb=function(){var d;d=this.Db().getError();d?this.Vb.Hc(g.Ga.vM,d):(this.Vb.Hc(g.Ga.o4),this.Vb.Hc(g.Ga.rm),this.Vb.Hc(g.Ga.vv),this.Vb.Hc(g.Ga.Zl),this.Vb.Hc(g.Ga.y_),this.Vb.Hc(g.Ga.vM));};c.prototype.mE=function(d){var f,h,k;!1;f=d.metrics;if(f){h=this.Db();k=h.uk(d.position.segmentId);f=h.uk(f.srcsegment);this.Iya.$Wb(d,k,f,! !h.B_a().zi);}};b.vKa=c;},function(t,b,a){var g;function c(l){this.ma=l;this.EQ={};this.lx();}Object.defineProperty(b,"__esModule",{value:!0});b.HKa=void 0;g=a(1260);c.prototype.lx=function(){var l;l=this;Object.values(this.ma.rl.V).forEach(function(m){m=m.S;l.EQ[m] || l.I1a(m);});this.Fba();};c.prototype.SN=function(l){return this.EQ[l];};c.prototype.J_b=function(l){this.tW(l).state=g.yy.aEa;this.Fba();};c.prototype.I_b=function(l,m){l=this.tW(l);l.state=g.yy.Error;l.error=m;l.W9a(!1);this.Fba();};c.prototype.S$a=function(l){l=this.tW(l);l.state=g.yy.Bhb;l.W9a(!0);this.Fba();};c.prototype.otb=function(l,m){this.tW(l).zb=m;};c.prototype.hM=function(l,m){this.tW(l).oa=m;};c.prototype.tW=function(l){var m;return null !== (m=this.SN(l)) && void 0 !== m?m:this.I1a(l);};c.prototype.I1a=function(l){var m,d;m=void 0;d=new Promise(function(f,h){m=function(k){(k?f:h)();};});return this.EQ[l]={state:g.yy.bIa,zXb:d,W9a:m};};c.prototype.Fba=function(){var m;for(var l=this.ma.Yg;l=this.ma.rW(l);){m=this.cp(l);if(this.EQ[m].state === g.yy.Error)break;if(this.EQ[m].state === g.yy.aEa)break;if(this.EQ[m].state === g.yy.bIa)break;}};c.prototype.cp=function(l){return this.ma.rl.V[l].S;};b.HKa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yy=void 0;t=b.yy || (b.yy={});t[t.bIa=0]="None";t[t.aEa=1]="Fetching";t[t.Bhb=2]="Done";t[t.Error=3]="Error";},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wKa=void 0;g=a(57);c.prototype.p3b=function(l){var m;if(!this.ZNb(l.V))return l;m=new g.sy().rJ(l.Pd);Object.entries(l.V).forEach(function(d){var f;f=ba(d);d=f.next().value;f=f.next().value;d === l.Pd?m.Yk(d,Object.assign(Object.assign({},f),{next:void 0,Ca:void 0,Md:void 0})):m.Yk(d,f);});return m.ti();};c.prototype.ZNb=function(l){l=Object.values(l).map(function(m){return m.S;});return 1 === new Set(l).size;};b.wKa=c;},function(t,b,a){var g,l,m,d;function c(f,h){this.Ea=f;this.$Ob=h;}Object.defineProperty(b,"__esModule",{value:!0});b.GKa=void 0;t=a(1);g=a(0);l=a(19);m=a(558);c.prototype.create=function(f){return new (a(310).n2)(this.Ea.$b(),f);};c.prototype.jVa=function(f){return new (a(1263).rNa)(this.Ea.$b(),f,this.$Ob);};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.md)),t.__param(1,(0,g.l)(m.aGa))],d);b.GKa=d;},function(t,b,a){var g;function c(l,m,d){var f;f=g.n2.call(this,l,m) || this;f.seek=function(h){return f.Db().seek(h);};f.addEpisode=function(h){return f.Mra.Zsb(h);};f.playNextEpisode=function(h){h=void 0 === h?{}:h;return f.Mra.zVb(h);};f.watchCredits=function(h){return f.Mra.K5b(h);};f.playSegment=function(h){return f.Db().F7a(h);};f.queueSegment=function(h){return f.Db().C8a(h);};f.updateNextSegmentWeights=function(h,k){return f.Db().Gi(h,k);};f.setNextSegment=function(h){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}k=k.map(function(p){return {ha:p.segmentId,NO:p.nextSegmentId};});f.bh.Ei.apply(f.bh,ha(k));};f.clearNextSegment=function(h){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}return f.bh.Exb.apply(f.bh,ha(k));};f.goToNextSegment=function(h,k){return f.bh.Fpa(h,k);};f.getPlaying=function(){return f.isPlaying();};f.getPaused=function(){return f.isPaused();};f.getMuted=function(){return f.isMuted();};f.getEnded=function(){return f.isEnded();};f.getTimedTextVisibility=function(){return f.isTimedTextVisible();};f.isTimedTextVisible=function(){return ! !f.Db().zW().visibility;};f.setTimedTextVisibility=function(h){return f.setTimedTextVisible(h);};f.setTimedTextSize=function(h){return f.Db().TP({size:h});};f.setTimedTextBounds=function(h){return f.Db().TP({bounds:h});};f.setTimedTextMargins=function(h){return f.Db().TP({margins:h});};f.setTimedTextVisible=function(h){return f.Db().TP({visibility:h});};f.getCongestionInfo=function(h){h && h({success:!1,name:null,isCongested:null});};f.Mra=d(l,m,f.log);return f;}Object.defineProperty(b,"__esModule",{value:!0});b.rNa=void 0;g=a(310);na(c,g.n2);b.rNa=c;},function(t,b,a){var g,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.sKa=void 0;t=a(1);g=a(122);l=a(0);m=a(57);c.prototype.ZAb=function(d){var k,n,p;for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}k=this;if(0 === f.length)throw Error("Empty playgraph");n=new m.sy().rJ(this.ls(f[0]));f.reverse().forEach(function(q){var u;u=k.ls(q);n.Yk(u,Object.assign({S:q,Aa:0,Ca:Infinity},p?{Md:p}:{}));p=u;});return n.ti();};c.prototype.ls=function(d,f){f=void 0 === f?g.OF.gea:f;return d + ":" + f;};c.prototype.eub=function(d,f){var h,k,n,p;if(void 0 === n)n=null !== (h=f.id) && void 0 !== h?h:this.ls(f.K);h=this.WZa(d);p=new m.sy(d);p.Yk(n,{S:f.K,Aa:null !== (k=f.$) && void 0 !== k?k:0,Ca:Infinity});d=d.V[h];f={};p.Yk(h,Object.assign({},d,{Md:n,next:Object.assign({},d.next || ({}),(f[n]={},f))}));return p.ti();};c.prototype.WZa=function(d){for(var f=d.Pd,h=f;h=d.V[h].Md;){f=h;}return f;};a=c;a=t.__decorate([(0,l.T)()],a);b.sKa=a;},function(t,b,a){var g,l,m,d,f;function c(h){return l.bf.call(this,h,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.pKa=void 0;t=a(1);g=a(0);l=a(47);m=a(37);d=a(46);f=a(5);na(c,l.bf);Ya.Object.defineProperties(c.prototype,{BWb:{configurable:!0,enumerable:!0,get:function(){return 2;}},AWb:{configurable:!0,enumerable:!0,get:function(){return (0,f.H9)(3);}},sza:{configurable:!0,enumerable:!0,get:function(){return !1;}},Lba:{configurable:!0,enumerable:!0,get:function(){return !1;}},Mdb:{configurable:!0,enumerable:!0,get:function(){return !1;}},pYa:{configurable:!0,enumerable:!0,get:function(){return !1;}},R$:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;t.__decorate([d.config(d.EB,"prepareSegmentsUpfront")],a.prototype,"BWb",null);t.__decorate([d.config(d.ml,"prepareSegmentsDuration")],a.prototype,"AWb",null);t.__decorate([d.config(d.cd,"usePlaygraphForPostPlay")],a.prototype,"sza",null);t.__decorate([d.config(d.cd,"usePlaygraphForSkipSegment")],a.prototype,"Lba",null);t.__decorate([d.config(d.cd,"useSinglePlayerPlayback")],a.prototype,"Mdb",null);t.__decorate([d.config(d.cd,"forcePlaygraphTrace")],a.prototype,"pYa",null);t.__decorate([d.config(d.cd,"postPlayDefaultNextEpisode")],a.prototype,"R$",null);a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.fm))],a);b.pKa=a;},function(t,b,a){var g,l,m,d,f,h,k,n,p,q;function c(u,r,w,v,x,y,z){this.Ea=u;this.YZb=w;this.fj=x;this.Qm=z;this.XZb=r.vD(!1,"6.0034.571.911",u.id,y,v);}Object.defineProperty(b,"__esModule",{value:!0});b.zKa=void 0;t=a(1);g=a(0);l=a(19);m=a(163);d=a(1267);f=a(347);h=a(214);k=a(13);n=a(559);p=a(39);a=a(122);c.prototype.create=function(u,r,w,v){var x,y;x=this.YZb.PAb(u,this.XZb,r);y=u.tza;w.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new d.ZLa(this.fj,u,r,w,x,v,this.Qm):new n.BF(u,r,x,v,this.Qm);};q=c;q=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.md)),t.__param(1,(0,g.l)(f.LLa)),t.__param(2,(0,g.l)(h.Kfa)),t.__param(3,(0,g.l)(k.bd)),t.__param(4,(0,g.l)(m.MF)),t.__param(5,(0,g.l)(p.tS)),t.__param(6,(0,g.l)(a.QK))],q);b.zKa=q;},function(t,b,a){var g,l,m,d,f;function c(h,k,n,p,q,u,r){var w;w=d.BF.call(this,k,n,q,u,r) || this;w.fj=h;w.wa=p;w.UV=!1;w.Vma=new Map();w.RTb=function(){w.FH().Wia(l.ea.lJ,function(v){w.Vb.Hc(l.NF.wZ);w.lb.Yg=v.position.segmentId;});};w.GMb();u.addListener(l.Ga.loaded,w.RTb);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.ZLa=void 0;g=a(57);l=a(15);m=a(3);d=a(559);f=a(122);na(c,d.BF);c.prototype.tRa=function(h){var k,n,p,q,u,r,w,v,x,y,z;k=this;p=this.lb.rl;q=this.Qm.ls(h.K,"ident");u=this.Qm.ls(h.K,"main");r=this.Qm.ls(h.K,"credits");w=isFinite(h.xj);v=isFinite(h.$) && h.K !== p.V[p.Pd].S;x={};y=new g.sy(p).Yk(u,Object.assign({S:h.K,Aa:v && h.$ || 0,Ca:null !== (n=h.xj) && void 0 !== n?n:Infinity},w?{next:(x[r]={},x),Md:r}:{}));v && (n={},y.Yk(q,{S:h.K,Aa:0,Ca:h.$,next:(n[u]={},n),Md:u}));w && y.Yk(r,{S:h.K,Aa:h.xj,Ca:Infinity});if(!this.lb.rB(u)){h=p.V[this.Qm.WZa(p)].S;z=this.Qm.ls(h,f.OF.tBa);[this.Qm.ls(h,f.OF.gea),z].filter(function(A){return k.lb.rB(A);}).forEach(function(A){var B,E,D;B=k.lb.mf(A);E=A === z || k.fj.R$;D={};y.Yk(A,Object.assign({},B,{next:Object.assign({},B.next,(D[u]={},D))},E?{Md:u}:{}));});}this.lb.rl=y.ti();return this.QI(u);};c.prototype.lx=function(){this.isReady() && this.FH().lx();};c.prototype.aua=function(){};c.prototype.CI=function(h){this.FH().CI(h);};c.prototype.Gpa=function(h,k,n){k=void 0 === k?{}:k;this.wa.debug("goToSegment " + h);return this.FH().DW(h,k,n);};c.prototype.QI=function(h){if(h === this.WZb)return null;this.WZb=h;return this.UV?this.Ok.SN(this.lb.mf(h).S).zXb:(this.UV=!0,d.BF.prototype.QI.call(this,h));};c.prototype.Lcb=function(h){return h.errorCode && this.Vma.has(h.errorCode)?this.Vma.get(h.errorCode)(h):Promise.reject(Error("Error " + h.errorCode + " isn't recoverable"));};c.prototype.GMb=function(){var h;h=this;this.Vma.set(m.N.EIa,function(){var k,n;return null !== (n=null === (k=d.BF.prototype.QI.call(h,h.lb.Yg)) || void 0 === k?void 0:k.then(function(){var p,q;d.BF.prototype.Gpa.call(h,h.lb.Yg,null !== (q=null === (p=h.Ok.SN(h.lb.ja.S)) || void 0 === p?void 0:p.zb) && void 0 !== q?q:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.ZLa=c;},function(t,b,a){var g,l;function c(m,d,f){this.nA=d;this.fj=f;this.i3={};this.fdb=[];this.Lab=[];this.I5a=[];this.vja=new WeakMap();this.reset(m);}Object.defineProperty(b,"__esModule",{value:!0});b.FKa=void 0;g=a(57);l=a(57);c.prototype.reset=function(m){var d;d=1 < Object.keys(m.V).length && 1 === new Set(Object.values(m.V).map(function(f){return f.S;})).size;this.xsb=this.fj.Mdb || d;this.gab(m);this.Yg=m.Pd;this.brb=this.nA.Cz();this.Kxa=new Map();};c.prototype.h7=function(m){if(this.tza)return this.rl;this.vja.has(m) || this.vja.set(m,(0,g.IE)(m.K,m.ha));return this.vja.get(m);};c.prototype.gab=function(m){this.crb=m;this.i3={};m=Object.keys(m.V);this.kSa(m);this.WSb();};c.prototype.Ei=function(m){var h;for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}h=this;d.filter(function(k){return h.rB(k.ha);}).filter(function(k){k=k.NO;return !k || h.rB(k);}).forEach(function(k){var n;n=k.ha;h.i3[n]=h.f6a(k.NO);h.NSb(n);});};c.prototype.kSa=function(m){var d;d=this;m.filter(function(f){return d.rB(f);}).forEach(function(f){d.i3[f]=d.f6a(d.mf(f).Md);});};c.prototype.Gi=function(m,d){var f,h,k;f=this.mf(m);if(f && f.next){h=new l.sy(this.rl);k=Object.keys(f.next).reduce(function(n,p){n[p]=void 0 === d[p]?f.next[p]:Object.assign({},f.next[p],{weight:d[p]});return n;},{});k=Object.assign({},f,{next:k});h.Yk(m,k);this.rl=h.ti();}};c.prototype.rB=function(m,d){d=void 0 === d?this.rl.V:d;return (m in d);};c.prototype.rW=function(m){return this.i3[m];};c.prototype.mf=function(m){return this.rl.V[m];};c.prototype.gKb=function(m){if(this.Kxa.has(m))return this.Kxa.get(m);m=this.mf(m);return isFinite(m.Ca)?m.Ca:void 0;};c.prototype.r4b=function(m,d){this.Kxa.set(m,d);this.SSb(m);};c.prototype.P1b=function(m){this.fdb.push(m);};c.prototype.Q1b=function(m){this.Lab.push(m);};c.prototype.O1b=function(m){this.I5a.push(m);};c.prototype.WSb=function(){var m;m=this;this.fdb.forEach(function(d){return d(m.rl);});};c.prototype.NSb=function(m){this.I5a.forEach(function(d){return d(m);});};c.prototype.SSb=function(m){this.Lab.forEach(function(d){return d(m);});};c.prototype.f6a=function(m){return null === m?void 0:m;};Ya.Object.defineProperties(c.prototype,{O$:{configurable:!0,enumerable:!0,get:function(){return this.brb;}},tza:{configurable:!0,enumerable:!0,get:function(){return this.xsb;}},rl:{configurable:!0,enumerable:!0,get:function(){return this.crb;},set:function(m){if(this.Yg && !this.rB(this.Yg,m.V))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Yg);this.gab(m);}},Yg:{configurable:!0,enumerable:!0,get:function(){return this.iob;},set:function(m){if(!this.rB(m))throw Error("Provided currentSegmentId " + m + " does not exist in the current playgraph");this.iob=m;}},ja:{configurable:!0,enumerable:!0,get:function(){return this.mf(this.Yg);}}});b.FKa=c;},function(t,b,a){var g,l;function c(m,d,f,h,k){this.dj=m;this.bh=d;this.log=f;this.fj=h;this.Qm=k;this.H$=new g.kfa();}Object.defineProperty(b,"__esModule",{value:!0});b.bGa=void 0;g=a(560);l=a(122);c.prototype.Zsb=function(m){var d,f,h,k,n,p,q;this.log.info("Next episode added",m);p=this.H$.usa(m.playbackParams);q=Math.max(0,null !== (h=null !== (f=null !== (d=m.startPts) && void 0 !== d?d:m.nextStartPts) && void 0 !== f?f:p.$) && void 0 !== h?h:0);d=null !== (n=null !== (k=m.endPts) && void 0 !== k?k:m.currentEndPts) && void 0 !== n?n:p.xj;return this.bh.ytb({K:m.movieId,$:q,xj:d,zb:p,oa:m.manifest,dj:this.dj});};c.prototype.zVb=function(m){var d,f,h,k,n,p;m=this.H$.usa(m);this.log.info("Playing the next episode",m);h=this.bh.lZa();k=this.bh.HH();n=k.V[h];p=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(q){return n.S !== k.V[q].S;});d=!this.fj.R$ || !(null === (f=m.Vm) || void 0 === f?0:f.isUIAutoPlay);return p?this.bh.Fpa(h,p,m,d):Promise.reject(Error("Next episode not found"));};c.prototype.K5b=function(m){var d,f;d=this.Qm.ls(m,l.OF.gea);m=this.Qm.ls(m,l.OF.tBa);f=this.bh.lb;this.fj.R$ && f.Yg !== m && f.rB(m) && f.rW(d) !== m && this.bh.Ei({ha:d,NO:m});};b.bGa=c;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.nSa=void 0;t=a(0);c=a(1271);g=a(31);b.nSa=new t.rd(function(l){l(g.mh).to(c.zAa).ba();});},function(t,b,a){var g,l,m,d,f,h,k,n,p,q,u,r,w;function c(v,x,y,z,A,B){var E;E=this;this.xl=v;this.config=y;this.up=z;this.debug=A;this.Ea=B;this.ocb=[];this.Tc={};this.log=x.mb("loadAsync");this.jQb=(0,u.hEa)(function(D){E.gYb=!0;E.startTime=E.Ea.$b().da(p.la);E.load(E.ocb).then(function(){E.endTime=E.Ea.$b().da(p.la);D(w.af);}).catch(function(F){E.endTime=E.Ea.$b().da(p.la);D(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.zAa=void 0;t=a(1);g=a(71);l=a(3);m=a(1272);d=a(64);f=a(0);h=a(7);k=a(13);n=a(65);p=a(5);q=a(97);u=a(561);r=a(19);w=a(12);c.prototype.tO=function(v){this.jQb(v);};c.prototype.register=function(v,x){this.debug.assert(!this.gYb);this.ocb.push({EPb:this.wwb(x),errorCode:v});};c.prototype.Ed=function(v){this.debug.assert(void 0 === this.Tc[v]);this.Tc[v]=this.Ea.$b().da(p.la);};c.prototype.load=function(v){var x;x=this;return (0,m.j8a)(v).then(function(y){x.xl.mark(d.vo.Xj.Reb);return y.reduce(function(z,A){return z.then(function(){return x.BPb(A);});},Promise.resolve()).then(function(){x.xl.mark(d.vo.Xj.Peb);});});};c.prototype.BPb=function(v){var x,y;x=this;y=v.EPb;!1;return this.up.cr((0,p.Nc)(this.config().Aub),y()).catch(function(z){x.log.error("Failed to load component " + v.errorCode,z);x.xl.mark(d.vo.Xj.Qeb);if(z instanceof n.Jr)throw {sa:l.M.Oeb,errorCode:v.errorCode};z.errorCode=z.errorCode || v.errorCode;z.sa=z.sa || l.M.Neb;throw z;});};c.prototype.wwb=function(v){return function(){return new Promise(function(x,y){v(function(z){z.aa?x():y(z);});});};};a=c;a=t.__decorate([(0,f.T)(),t.__param(0,(0,f.l)(g.RF)),t.__param(1,(0,f.l)(h.ub)),t.__param(2,(0,f.l)(k.bd)),t.__param(3,(0,f.l)(n.ty)),t.__param(4,(0,f.l)(q.Bv)),t.__param(5,(0,f.l)(r.md))],a);b.zAa=a;},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});b.j8a=void 0;c=a(3);g=[c.N.Uib,c.N.lFa,c.N.jFa,c.N.kFa,c.N.pFa,c.N.gFa,c.N.eFa,c.N.Mda,c.N.rFa,c.N.hFa,c.N.Rib,c.N.Sib,c.N.fFa,c.N.$B,c.N.bFa,c.N.dFa,c.N.mFa,c.N.nFa,c.N.oFa,c.N.Vib,c.N.Xib,c.N.ajb,c.N.Zib,c.N.Yib,c.N.Wib,c.N.$ib,c.N.cjb,c.N.iFa,c.N.bjb,c.N.cFa];(function(m){m.Dkb=function(d){var k;for(var f={},h=0;h < d.length;h++){k=d[h];if(f[k.errorCode])return {errorCode:k.errorCode,sa:c.M.Leb};f[k.errorCode]=1;}};m.Ekb=function(d){var h;for(var f=0;f < d.length;f++){h=d[f];if(-1 === g.indexOf(h.errorCode))return {errorCode:h.errorCode,sa:c.M.Meb};}};})(l || (l={}));b.j8a=function(m){return new Promise(function(d,f){var h;h=l.Ekb(m);h && f(h);(h=l.Dkb(m)) && f(h);d(m.sort(function(k,n){return g.indexOf(k.errorCode) - g.indexOf(n.errorCode);}));});};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.oa=void 0;t=a(0);c=a(1274);g=a(120);b.oa=new t.rd(function(l){l(g.wF).to(c.YGa).ba();});},function(t,b,a){var g,l,m,d,f,h,k,n,p,q;function c(u,r,w,v,x,y){this.og=r;this.c4a=v;this.vX=y;this.cZ=new Map();this.log=u.mb("ManifestFetcher");this.Jg=w.Jg;this.Yvb=x().lEb;}Object.defineProperty(b,"__esModule",{value:!0});b.YGa=void 0;t=a(1);g=a(0);l=a(19);m=a(41);d=a(7);f=a(5);h=a(13);k=a(105);n=a(51);p=a(297);a=a(133);c.prototype.GN=function(u,r,w){var v;v=this;r=void 0 === r?!0:r;w && this.stb(u.S,w);return r && this.Kpa(u.S)?this.K6(u.S).catch(function(){return v.A9a(u,r);}):this.A9a(u,r);};c.prototype.Kpa=function(u){return this.Jg.IW(u,"manifest");};c.prototype.XZ=function(u,r){var w;w=this;this.Yvb && this.Jg.setData(u,"manifest",r,function(){return w.WKb(u);});};c.prototype.K6=function(u){var r;r=this;return this.Jg.getData(u,"manifest").then(function(w){if(!w)throw Error("Manifest not found");if(w.Nb.expiration <= (0,n.Q4)())throw (r.Jg.clearData(u,"manifest"),Error("Manifest has expired"));return w;});};c.prototype.WKb=function(u){var r;null === (r=this.cZ.get(u)) || void 0 === r?void 0:r.forEach(function(w){return w();});this.cZ.delete(u);};c.prototype.stb=function(u,r){this.cZ.has(u) || this.cZ.set(u,[]);this.cZ.get(u).push(r);};c.prototype.A9a=function(u,r){var w,v,x;w=this;this.log.trace("Requesting a new manifest",u.S);v=this.og.$b().da(f.la);x=(u.rj?this.H3b(u).catch(function(y){w.log.warn(y.message);return w.c4a.tg(w.log,u);}):this.c4a.tg(this.log,u)).then(function(y){var z,A;if(y.Nz){z=y.Nz;A={Laa:Promise.resolve(z),source:"manifest"};delete y.Nz;w.Jg.setData(u.S,"ldl",A,function(){z.close().catch(function(B){w.log.info("Unable to cleanup LDL session.",B);});});}u.ou === k.ln.JF && (y.aJ=v,y.zP=w.og.$b().da(f.la));return y;}).catch(function(y){r && w.XZ(u.S,void 0);w.log.error("Failed to fetch manifest",m.od.wd(y));throw y;});r && this.XZ(u.S,x);return x;};c.prototype.H3b=function(u){var r;r=this;return new Promise(function(w,v){var x,y,z;r.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",u.S);z=null === (x=u.rj) || void 0 === x?void 0:x.v$;if(!z)return v(Error("Parent manifest does not exist."));x=null === (y=z.CSa) || void 0 === y?void 0:y.find(function(A){var B;return A.K === u.S && A.Ti === (null === (B=u.rj) || void 0 === B?void 0:B.Ti);});if(!x)return v(Error("Auxiliary manifest not found in parent manifest."));w(r.vX.create(x));});};q=c;q=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(d.ub)),t.__param(1,(0,g.l)(l.md)),t.__param(2,(0,g.l)(p.Uca)),t.__param(3,(0,g.l)(k.Tea)),t.__param(4,(0,g.l)(h.bd)),t.__param(5,(0,g.l)(a.IK))],q);b.YGa=q;},function(t,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.PRa=void 0;c=a(1276);g=a(125);t=a(0);l=a(95);m=a(13);b.PRa=new t.rd(function(d){d(g.gK).to(c.aAa).ba();});b.profile=new t.rd(function(d){d(l.xS).TE(function(f){return (f=f.fb.get(m.bd)()) && f.Jw?"browsertest":"browser";});});},function(t,b,a){var g,l,m,d,f,h;function c(k,n,p,q){k=d.bf.call(this,k,void 0 === q?"AppInfoConfigImpl":q) || this;k.config=n;k.Aba=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.aAa=void 0;t=a(1);g=a(0);l=a(42);m=a(46);d=a(47);f=a(37);a=a(282);na(c,d.bf);c.prototype.oJb=function(k){return "" + this.lXa + (this.Aba.Saa(k)?"/msl_v1":"");};c.prototype.AJb=function(k){return "" + this.host + (this.Aba.Saa(k)?"/msl":"") + "/playapi";};Ya.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},lXa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.lN){case l.dy.Amb:k="www.stage";break;case l.dy.DMa:k="www-qa.test";break;case l.dy.HFa:k="www-int.test";break;default:k="www";}return "https://" + k + ".netflix.com";}},LSa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});h=c;t.__decorate([m.config(m.string,"apiEndpoint")],h.prototype,"endpoint",null);t.__decorate([m.config(m.string,"nqEndpoint")],h.prototype,"lXa",null);t.__decorate([m.config(m.string,"bindService")],h.prototype,"LSa",null);h=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(f.fm)),t.__param(1,(0,g.l)(l.jn)),t.__param(2,(0,g.l)(a.l2)),t.__param(3,(0,g.l)(f.x0)),t.__param(3,(0,g.optional)())],h);b.aAa=h;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.$4b=b.Hmb=b.Fmb=b.Emb=b.Gmb=void 0;c=a(30);g=a(11);b.Gmb=function(l,m,d){for(d=(d - l.length) / m.length;0 < d--;){l+=m;}return l;};b.Emb=function(l,m,d){d=(0,c.Ve)(d)?d:"...";return l.length <= m?l:l.substr(0,l.length - (l.length + d.length - m)) + d;};b.Fmb=function(l,m){var f;for(var d=1;d < arguments.length;++d){;}f=g.slice.call(arguments,1);return l.replace(/{(\d+)}/g,function(h,k){return "undefined" != typeof f[k]?f[k]:h;});};b.Hmb=function(l){for(var m=l.length,d=new Uint16Array(m),f=0;f < m;f++){d[f]=l.charCodeAt(f);}return d.buffer;};b.$4b=function(l){var m;m=new Uint8Array(l.length);Array.prototype.forEach.call(l,function(d,f){m[f]=d.charCodeAt(0);});return m;};},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(8);b=a(116);a=a(294);t.pa.get(b.EK).gaa(a.dea.kgb,function(c){var g,l;g=c.level;if(!nb._cad_global.config || g <= nb._cad_global.config.WPb){c=c.qba();l=nb.console;1 >= g?l.error(c):2 >= g?l.warn(c):l.log(c);}});},function(t,b,a){var h,k,n,p,q;function c(u){var r,v;(0,k.UM)(u);if((0,n.Ve)(u) && b.uFa.test(u)){r=u.split(".");if(4 === r.length){for(var w=0;w < r.length;w++){v=(0,n.Je)(r[w]);if(0 > v || !(0,q.vA)(v,0,255) || 1 !== r[w].length && 0 === r[w].indexOf("0"))return;}return u;}}}function g(u){var r;r=0;if(c(u) === u)return (u=u.split("."),r+=(0,n.Je)(u[0]) << 24,r+=(0,n.Je)(u[1]) << 16,r+=(0,n.Je)(u[2]) << 8,r + (0,n.Je)(u[3]));}function l(u){var r,w;(0,k.UM)(u);if((0,n.Ve)(u) && u.match(b.vFa)){r=u.split(":");-1 !== r[r.length - 1].indexOf(".") && (u=m(r[r.length - 1]),r.pop(),r.push(u[0]),r.push(u[1]),u=r.join(":"));u=u.split("::");if(!(2 < u.length || 1 === u.length && 8 !== r.length) && (r=1 < u.length?d(u):r,u=r.length,8 === u)){for(;u--;){w=parseInt(r[u],16);if(!(0,q.vA)(w,0,h.JGa))return;}return r.join(":");}}}function m(u){var r;u=g(u) >>> 0;r=[];r.push((u >>> 16 & 65535).toString(16));r.push((u & 65535).toString(16));return r;}function d(u){var r,w,v;r=u[0].split(":");u=u[1].split(":");1 === r.length && "" === r[0] && (r=[]);1 === u.length && "" === u[0] && (u=[]);w=8 - (r.length + u.length);if(1 > w)return [];for(v=0;v < w;v++){r.push("0");}for(v=0;v < u.length;v++){r.push(u[v]);}return r;}function f(u){return -1 << 32 - u;}Object.defineProperty(b,"__esModule",{value:!0});b.tjb=b.yjb=b.vjb=b.ujb=b.xjb=b.sjb=b.wjb=b.oF=b.vFa=b.uFa=void 0;h=a(12);k=a(22);n=a(30);p=a(11);q=a(17);b.uFa=/^[0-9.]*$/;b.vFa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.oF="0000000000000000";b.wjb=c;b.sjb=g;b.xjb=l;b.ujb=m;b.vjb=d;b.yjb=function(u,r,w){var v,x,y,z;v=c(u);x=l(u);y=c(r);z=l(r);if(!v && !x || !y && !z || v && !y || x && !z)return !1;if(u === v)return (w=f(w),(g(u) & w) !== (g(r) & w)?!1:!0);if(u === x){u=u.split(":");r=r.split(":");for(v=(0,p.bC)(w / b.oF.length);v--;){if(u[v] !== r[v])return !1;}w%=b.oF.length;if(0 !== w)for((u=parseInt(u[v],16).toString(2),r=parseInt(r[v],16).toString(2),u=b.oF.substring(0,b.oF.length - u.length) + u,r=b.oF.substring(0,b.oF.length - r.length) + r,v=0);v < w;v++){if(u[v] !== r[v])return !1;}return !0;}return !1;};b.tjb=f;},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(14);a(12);t=a(8);a(116);a(294);a(3);a(115);a(5);a=a(31);t.pa.get(a.mh);!1;},function(t,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(49);g=a(12);l=a(14);m=a(3);d=a(202);f=a(35);h=a(11);k=a(8);t=a(31);n=k.pa.get(t.mh);n.register(m.N.pFa,function(p){h.oq && h.oq.generateKey && h.oq.importKey && h.oq.unwrapKey?!k.pa.get(f.hC).ada && l.config.qM != d.Ux.Glb && l.config.qM != d.Ux.Rjb || h.x1?(n.Ed("wcs"),(0,c.FI)(h.oq.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){n.Ed("wcdone");p(g.af);},function(q){var u;q="" + q;if(0 <= q.indexOf("missing crypto.subtle"))u=m.M.fga;else 0 <= q.indexOf("timeout waiting for iframe to load") && (u=m.M.$mb);p({sa:u,yb:q});})):p({sa:m.M.Zmb}):p({sa:m.M.fga});});},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});t=a(3);c=a(8);g=a(513);a=a(31);c.pa.get(a.mh).register(t.N.eFa,function(l){c.pa.get(g.fDa)().then(function(){l({aa:!0});}).catch(function(m){c.log.error("error in initializing indexedDb debug tool",m);l({aa:!0});});});},function(t,b,a){var m,d,f,h;function c(k,n,p,q){var u,r,w;(0,m.jb)((0,h.Th)(k) && !(0,h.isArray)(k));q=q || "";u="";r=k.hasOwnProperty(f.Pk) && k[f.Pk];r && (0,d.ve)(r,function(v,x){u && (u+=" ");u+=v + '="' + l(x) + '"';});p=(n?n + ":":"") + p;r=q + "<" + p + (u?" " + u:"");w=k.hasOwnProperty(f.ot) && k[f.ot].trim && "" !== k[f.ot].trim() && k[f.ot];if(w)return r + ">" + l(w) + "</" + p + ">";k=g(k,n,q + "  ");return r + (k?">\n" + k + "\n" + q + "</" + p + ">":"/>");}function g(k,n,p){var q;(0,m.jb)((0,h.Th)(k) && !(0,h.isArray)(k));p=p || "";q="";(0,d.ve)(k,function(u,r){var x;if("$" != u[0])for(var w=(0,d.$w)(r),v=0;v < w.length;v++){if((r=w[v],q && (q+="\n"),(0,h.Th)(r)))q+=c(r,n,u,p);else {x=(n?n + ":":"") + u;q+=p + "<" + x + ">" + l(r) + "</" + x + ">";}}});return q;}function l(k){if((0,h.Ve)(k))return (0,d.KW)(k);if((0,h.Fa)(k))return ((0,m.fV)(k,"Convert non-integer numbers to string for xml serialization."),"" + k);if(null === k || void 0 === k)return "";(0,m.jb)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.Z2b=b.vOb=b.uOb=void 0;m=a(22);d=a(24);f=a(160);h=a(17);b.uOb=c;b.vOb=g;b.Z2b=l;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x,y,z,A;Object.defineProperty(b,"__esModule",{value:!0});c=a(301);g=a(196);l=a(14);m=a(12);d=a(3);f=a(22);h=a(8);k=a(71);n=a(64);p=a(79);q=a(24);u=a(11);r=a(17);w=a(49);v=a(115);x=a(5);t=a(31);y=a(484);z={};A=h.pa.get(t.mh);A.register(d.N.hFa,function(B){var G,C,H,K,M,I,Q,L,J,O,N,P,S,U;function E(Z){Z && Z.userList && l.config.z0b && (Z.userList=[]);K({esn:g.pk.gl,esnPrefix:g.pk.Yo,authenticationType:l.config.qM,authenticationKeyNames:l.config.wSa,systemKeyWrapFormat:l.config.m2b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:S,storeState:Z,notifyMilestone:A.Ed.bind(A),log:Q,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:d.M.ekb,MSL_READ_TIMEOUT:d.M.dkb}},{result:function(ja){D(ja);},timeout:function(){B({sa:d.M.SGa});},error:function(ja){B(F(d.M.SGa,void 0,ja));}});}function D(Z){var ya,ra,Y;function ja(){P && h.pa.get(p.SB).create().then(function(pa){return pa.save(O,ra,!1);}).catch(function(pa){Q.error("Error persisting msl store",(0,d.Fv)(pa));});}ya=h.pa.get(v.WK)((0,x.Nc)(100));Y=M.extend({init:function(pa){this.APa=pa;},getResponse:function(pa,T,R){var ea,sa;T=this.APa;ea=T.w5a.nf || ea;pa=(0,r.kra)(pa.body)?(0,h.I_)(pa.body):pa.body;(0,f.UM)(pa,"Msl should not be sending empty request");pa={url:T.url,Wua:pa,withCredentials:!0,kD:"nq-" + T.method,headers:T.headers};T=this.APa.timeout;pa.X4=T;pa.wta=T;sa=ea.download(pa,function(la){try{if(la.aa)R.result({body:la.content});else if(400 === la.tk && la.yb)R.result({body:la.yb});else throw (0,q.bc)(new I("HTTP error, SubCode: " + la.sa + (la.tk?", HttpCode: " + la.tk:"")),{cadmiumResponse:la});}catch(Ka){R.error(Ka);}});return {abort:function(){sa.abort();}};}});J && Z.addEventHandler("shouldpersist",function(pa){ra=pa.storeState;ya.Xl(ja);});(0,q.bc)(z,{$cc:function(){N=!0;},send:function(pa){function T(){var R,ea;R=pa.w5a;ea={method:pa.method,nonReplayable:pa.zSb,encrypted:pa.fl,userId:pa.Y4b,body:pa.body,timeout:2 * pa.timeout,url:new Y(pa),allowTokenRefresh:P,sendUserAuthIfRequired:U,shouldSendUserAuthData:l.config.D0b};R.email?(ea.email=R.email,ea.password=R.password || ""):R.a3b?(ea.token=R.a3b,ea.mechanism=R.Pdc,R.nta && (ea.netflixId=R.nta,ea.secureNetflixId=R.UZb),R.qva && (ea.profileGuid=R.qva)):R.nta?(ea.netflixId=R.nta,ea.secureNetflixId=R.UZb):R.cRb?(ea.mdxControllerToken=R.cRb,ea.mdxPin=R.Ndc,ea.mdxNonce=R.Mdc,ea.mdxEncryptedPinB64=R.Ldc,ea.mdxSignature=R.Odc):N || R.useNetflixUserAuthData?ea.useNetflixUserAuthData=!0:R.qva && (ea.profileGuid=R.qva);return ea;}return new Promise(function(R,ea){var sa;sa=T();Z.send(sa).then(function(la){N && (N=!1);R({aa:!0,body:la.body});}).catch(function(la){var Ka,Ua;if(la.error){Ka=la.error.cadmiumResponse && la.error.cadmiumResponse.sa?la.error.cadmiumResponse.sa:Z.isErrorReauth(la.error)?d.M.RGa:Z.isErrorHeader(la.error)?d.M.Yjb:d.M.Xjb;Ua=Z.getErrorCode(la.error);ea(F(Ka,Ua,la.error));}else (Q.error("Unknown MSL error",la),la.Ec=la.subCode,ea({sa:la.Ec?la.Ec:d.M.fkb}));});});},PX:Z});B(m.af);h.pa.get(y.yea).kSb(z);}function F(Z,ja,ya){var ra,Y,pa,T;pa={sa:Z,W5:ja};if(ya){T=function(R){var ea;R=R || "" + ya;if(ya.stack){ea="" + ya.stack;R=0 <= ea.indexOf(R)?ea:R + ea;}return R;};if(Y=ya.cadmiumResponse){if(ra=Y.wf && Y.wf.toString())Y.wf=ra;Y.sa=Z;Y.W5=ja;Y.yb=T(ya.message);Y.error={Ec:Z,Nd:ra,RA:ja,data:ya.cause,message:ya.message};return Y;}T=T(ya.errorMessage);ra=(0,q.Je)(ya.internalCode) || (0,q.Je)(ya.error && ya.error.internalCode);Y=void 0 !== ya.VEb?(0,w.Lta)(ya.VEb):void 0;}T && (pa.yb=T);ra && (pa.wf=ra);pa.error={Ec:Z,Nd:ra.toString(),RA:ja,data:Y,message:T};return pa;}(0,f.jb)(l.config);G=h.pa.get(k.RF);C=n.vo.Xj;if(u.fC && u.oq && u.oq.unwrapKey){try{H=nb.netflix.msl;K=H.createMslClient;M=H.IHttpLocation;I=H.MslIoException;}catch(Z){B({sa:d.M.Zjb});return;}Q=(0,h.aj)("Msl");L=l.config.gSb;J=l.config.iSb;O=l.config.Jw?"mslstoretest":"mslstore";H=c.AJ.K$a;N=l.config.wMb;P=!H || H.aa;S=(0,h.Yr)(l.config.Jw?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");U=! !l.config.dxa;h.pa.get(p.SB).create().then(function(Z){L?Z.remove(O).then(function(){E();}).catch(function(ja){Q.error("Unable to delete MSL store",(0,d.Fv)(ja));E();}):J?Z.load(O).then(function(ja){G.mark(C.akb);E(ja.value);}).catch(function(ja){ja.sa == d.M.mC?(G.mark(C.ckb),E()):(Q.error("Error loading msl store",(0,d.Fv)(ja)),G.mark(C.bkb),Z.remove(O).then(function(){E();}).catch(function(ya){B(ya);}));}):E();}).catch(function(Z){Q.error("Error creating app storage while loading msl store",(0,d.Fv)(Z));B(Z);});}else B({sa:d.M.$jb});});},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(162);g=a(12);l=a(14);m=a(61);d=a(51);t=a(3);f=a(8);h=a(71);k=a(11);n=a(63);p=a(17);q=a(50);u=a(87);a=a(31);v=f.pa.get(a.mh);v.register(t.N.fFa,function(x){var z;function y(){var A,B,E;A=v.startTime;B={browserua:k.gC,browserhref:k.z1.href,initstart:A,initdelay:v.endTime - A};(A=k.Be.documentMode) && (B.browserdm="" + A);"undefined" !== typeof nb.nrdp && nb.nrdp.device && (B.firmware_version=nb.nrdp.device.firmwareVersion);(0,p.wA)(l.config.MXa) && (B.fesn=l.config.MXa);Object.assign(B,(0,c.dpa)());E=k.Lv && k.Lv.timing;E && l.config.TPb.map(function(D){var F;F=E[D];F && (B["pt_" + D]=F - (0,d.ZTa)());});A=z.a_a();Object.entries(A).forEach(function(D){var F;F=ba(D);D=F.next().value;F=F.next().value;return B["m_" + D]=F;});A=w.$t("startup","info",B,m.iC.Dna);r.Jc(A);}w=f.pa.get(u.jy);r=f.pa.get(q.kn);z=f.pa.get(h.RF);v.tO(function(){r.Eb();(0,n.Wf)(y);});x(g.af);});},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w,v,x;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);g=a(40);l=a(522);m=a(1288);d=a(305);f=a(14);h=a(12);k=a(194);n=a(563);p=a(51);t=a(3);q=a(8);u=a(289);r=a(11);w=a(302);b=a(31);v=a(61);x=a(164);q.pa.get(b.mh).register(t.N.bFa,function(y){var z,A,B,E,D,F,G;z=q.pa.get(u.C1).zla();A=q.pa.get(k.mda).pK;B=q.pa.get(l.yHa).Cr;E={G$:(0,q.cW)("ASE"),lub:(0,q.cW)("JS-ASE",void 0,"Platform"),aj:q.cW,storage:w.storage,nJb:r.nK,getTime:p.kk,rO:{},Cr:B,Ov:m.Ov,pK:A,MediaSource:n.BHa,SourceBuffer:d.sea,$o:function(){return [f.config.f4,f.config.i4];},Zt:function(C){v.zo.forEach(function(H){H.mab(C);});}};A=new Promise(function(C){w.storage.load("nh",function(H){E.rO.nh=H.aa?H.data:void 0;C();});});B=new Promise(function(C){w.storage.load("lh",function(H){E.rO.lh=H.aa?H.data:void 0;C();});});D=new Promise(function(C){w.storage.load("gh",function(H){E.rO.gh=H.aa?H.data:void 0;C();});});F=new Promise(function(C){w.storage.load("sth",function(H){E.rO.sth=H.aa?H.data:void 0;C();});});G=new Promise(function(C){w.storage.load("vb",function(H){E.rO.vb=H.aa?H.data:void 0;C();});});Promise.all([A,B,G,F,D]).then(function(){return c.__awaiter(this,void 0,void 0,function H(){var K,M;return Ja(H,function(I){var Q;if(1 == I.yI){K=a(1290)(E);x.Pt.jf=a(564);x.Pt.jf.declare(g.vh);x.Pt.jf.set(a(183)(f.config),!0,(0,q.cW)("ASE"));Q=g.EH(K);I.yI=2;return {value:Q};}M=I.Pza;M.open(x.Pt.jf,z);M.ixa({audio:f.config.f4,video:f.config.i4},{U:f.config.nZ,fa:void 0});x.Pt.Fi=M;y(h.af);I.yI=0;});});}).catch(function(C){E.G$.error("Exception loading location history from local storage",C);});});},function(t,b,a){var g,l,m,d,f,h,k;function c(){var n;n=new l.Rk();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.Hc.bind(this);this.p3=h++;this.Ig=(0,m.aj)("ProbeRequest");this.XPa=g.UKa;(0,d.jb)(void 0 !== this.XPa);this.Lh=b.Ov.Vc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Ov=void 0;g=a(1289);l=a(73);m=a(8);d=a(22);f=a(30);h=0;(function(){function n(){return JSON.stringify({url:this.Hl,id:this.p3,affected:this.t2,readystate:this.Lh});}(0,f.bc)(c.prototype,{QO:function(p){p.affected=this.t2;p.probed={requestId:this.p3,url:this.Hl,re:this.PT,groupId:this.W2};this.emit(b.Ov.Pe.lS,p);},Dta:function(p){this.esb=p.httpcode;p.affected=this.t2;p.probed={requestId:this.p3,url:this.Hl,re:this.PT,groupId:this.W2};this.emit(b.Ov.Pe.GF,p);},open:function(p,q,u,r){if(!p)return (!1,!1);this.Hl=p;this.t2=q;this.PT=u;this.Lh=b.Ov.Vc.OPENED;this.zpb=r;this.XPa.aW(this);return !0;},fd:function(){!1;return !0;},wi:function(){return this.p3;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Lh;},set:function(){}},status:{get:function(){return this.esb;}},url:{get:function(){return this.Hl;}},Vac:{get:function(){return this.t2;}},LPb:{get:function(){return this.zpb;}}});})();(function(n){n.Pe={lS:"pr0",GF:"pr1"};n.Vc={UNSENT:0,OPENED:1,wy:2,DONE:3,uK:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(k || (k={}));b.Ov=Object.assign(c,k);},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.UKa=void 0;c=a(8);g=a(74);b.UKa=(function(){(0,c.aj)("ProbeDownloader");return {aW:function(l){l={url:l.url,OWb:l};!1;g.nf.RWb(l);}};})();},function(t,b,a){var f,h,k,n,p,q,u,r,w,v,x,y,z,A,B,E;function c(D,F,G){this.Ro=D;this.groups=F;this.prefix=G;D=v(D,F,G);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function g(){this.WUa=function(){throw Error("Not implemented");};this.bDb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function l(){}function m(){return w?w:"0.0.0.0";}function d(D){D({J6a:0,f_:0,N0a:0,LXa:0});}f=a(18);g.prototype.set=function(D,F){n[D]=F;p.save(D,F);};g.prototype.get=function(D,F){if(n.hasOwnProperty(D))return n[D];r.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(G){G.aa?(n[D]=G.data,F && F(G.data)):n[D]=void 0;});};g.prototype.remove=function(D){p.remove(D);};g.prototype.clear=function(){r.info("WARNING: Calling unimplemented function Storage.clear()");};l.prototype.now=function(){return q();};l.prototype.ga=function(){return u();};l.prototype.jta=function(D){return D + q() - u();};l.prototype.Gta=function(D){return D + u() - q();};c.prototype.mVa=function(D){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ha(this.prefix)):this.prefix && F.push(this.prefix);F.push(D);return new c(this.Ro,this.groups,F);};x=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();t.exports=function(D){h=D.G$;v=D.aj;p=D.storage;n=D.rO;q=D.nJb;u=D.getTime;r=D.lub;y=D.Cr;E=D.Ov;z=D.pK;A=D.SourceBuffer;B=D.MediaSource;w=D.cdc;k=D.Zt;return {name:"cadmium",Zt:k,G$:h,storage:new g(),Storage:g,time:new l(),events:new f.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,Cr:y,pK:z,ikb:A,MediaSource:B,Ov:E,op:{name:m},memory:{wIb:d},$o:D.$o};};},function(t,b,a){t.exports={EventEmitter:a(1292),ii:a(1293)};},function(t){function b(c,g){var l;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return (this.Ad={},this.Ad[c]=[g],!0);l=this.Ad[c];return void 0 === l?(this.Ad[c]=[g],!0):0 > l.indexOf(g)?(l.push(g),!0):!1;}function a(c,g){c=this.Ad?this.Ad[c]:void 0;if(!c)return !1;c.forEach(function(l){l(g);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(c,g){var l;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return !1;l=this.Ad[c];if(void 0 === l)return !1;g=l.indexOf(g);if(0 > g)return !1;if(1 === l.length)return (delete this.Ad[c],!0);l.splice(g,1);return !0;},Ya:a,emit:a,removeAllListeners:function(c){this.Ad && (void 0 === c?delete this.Ad:delete this.Ad[c]);return this;}};},function(t){function b(c,g,l,m){c.trace(":",l,":",m);g(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,g,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,g));if("function" === typeof c.addEventListener)m=c.addEventListener(g,l);else if("function" === typeof c.addListener)m=c.addListener(g,l);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var l,m;l=g[0];m=g[1];g=g[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,g):"function" === typeof l.removeListener && l.removeListener(m,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};t.exports=a;},function(t,b,a){var g,l,m,d,f,h,k,n,p;function c(q,u){var v,x,y,z,A,B,E,D,F,G,C;function r(){var H;H=q.Ab.value === n.hb.Lc && q.state.value === n.Sb.te && q.K === u.K;C?H || (clearInterval(C),B=C=void 0):H && (C=nb.setInterval(w,1E3));}function w(){var H,K,M,I,Q,L;H=q.pe.value;H=(H=H && H.stream) && H.height;if(null !== H && 0 < H){K=(0,d.kk)();M=q.cg.zH();if(M){if(B && 2E3 > K - B.time && H === B.height){I=M - B.CDb;Q=x[H];Q || (x[H]=Q=[],H > D && (A.push(H),(0,m.j0)(A)));0 < I && !(G && G < H) && (G=H);Q.push(I);Q.length > E && Q.shift();(Q=z[H]) || (z[H]=Q={});L=Q[I];Q[I]=L?L + 1:1;}B={time:K,CDb:M,height:H};q.F$ && q.F$.C_b(x);}}}v=(0,f.Sh)(q,"DFF");x={};y=g.config.GDb;z={};A=[];E=g.config.EDb;D=g.config.FDb;F=l.IGa;if(g.config.DDb)return (u.Dma={mHb:function(){var H;H={};z && A.forEach(function(K){var M,I,Q;M=z[K];if(M){I=0;Q=0;(0,p.ve)(M,function(L,J){Q+=(0,h.Je)(L);I+=J;});H[K]=Q / I;}});return H;},uW:function(H){var K;K={};H.forEach(function(M){K[M]={};});z && ((0,m.j0)(H),A.forEach(function(M){var I,Q,L,J;I=z[M];if(I){Q=0;L=0;(0,p.ve)(I,function(U,Z){Q+=Z;});J=Object.keys(I).map(Number);(0,m.j0)(J);for(var O=J.length - 1,N=J[O],P=H.length - 1;0 <= P;P--){for(var S=H[P];N >= S && 0 <= O;){(N=I[N]) && (L+=N);N=J[--O];}K[S][M]=(0,k.Tj)(L / Q * 100);}}}));return K;}},q.state.addListener(r),q.Ab.addListener(r),q.addEventListener(n.ea.hI,r),{qN:"df",pv:function(H){var I,Q,L,N,P;if(H.lower && H.height > D){H=H.height;a:{if(G){for(var K=A.length,M=0;M < K;M++){I=A[M];if(I >= G && I < F){Q=x[I];if(L=Q)b:{L=y.length;for(var J=Q.length,O=0;O < L;O++){N=y[O];P=N[0];N=N[1];for(var S=0;S < J;S++){if(Q[S] >= N && 0 >= --P){L=!0;break b;}}}L=!1;}if(L && F != I){v.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:I});u.hq.set({reason:"droppedFrames",height:I});K=F=I;break a;}}}G=void 0;}K=F;}H=H >= K;}else H=!1;return H;}});}Object.defineProperty(b,"__esModule",{value:!0});b.kkb=void 0;t=a(109);g=a(14);l=a(12);m=a(49);d=a(51);f=a(8);h=a(30);k=a(11);n=a(15);p=a(24);(0,t.zF)(c);b.kkb=c;},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(109);(0,t.zF)(function(){return {qN:"op",pv:function(){}};});},function(t,b,a){var g,l;function c(m,d){var f,h;f=(0,l.Sh)(m,"MSS");if(g.config.DRb)return {qN:"mss",pv:function(k){var n,p;if(k.lower && 2160 <= k.height)a:{for(n=k;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === h){try{p=nb.MSMediaKeys;h=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){f.error("hasUltraHdDisplay exception");h=!0;}h || (f.warn("Restricting resolution due screen size",{MaxHeight:k.height}),d.hq.set({reason:"microsoftScreenSize",height:k.height}));}return !h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.lkb=void 0;t=a(109);g=a(14);l=a(8);(0,t.zF)(c);b.lkb=c;},function(t,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});t=a(109);c=a(1298);g=a(8);l=a(35);m=a(70);(0,t.zF)(function(d){var f;if(g.pa.get(l.Dl).bZ){f=g.pa.get(m.xt);return new c.RFa(d,g.bg,f);}});},function(t,b,a){var g;function c(l,m,d){var f;f=this;this.j=l;this.wa=m;this.eE=d;this.hra=!1;this.log=this.wa.mb("KeySystemRobustness",this.j);this.hra=!1;this.eE.Qw().then(function(h){var k,n;n=null === (k=h.getConfiguration().videoCapabilities) || void 0 === k?void 0:k.map(function(p){return p.robustness;});f.hra=!(null === n || void 0 === n || !n.some(function(p){return p === g.yK;}));l.nab("keySystem",h.keySystem);l.nab("robustness",null === n || void 0 === n?void 0:n.toString());f.log.trace("KeySystemRobustness: " + n);}).catch(function(h){f.log.error("KeySystemRobustness exception",h);});}Object.defineProperty(b,"__esModule",{value:!0});b.RFa=void 0;g=a(55);c.prototype.pv=function(l){return l.lower && l.ll && !this.hra && 720 < l.height;};Ya.Object.defineProperties(c.prototype,{qN:{configurable:!0,enumerable:!0,get:function(){return "KeySystemRobustness";}}});b.RFa=c;},function(t,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});t=a(109);c=a(14);g=a(8);l=a(1300);(0,t.zF)(function(m,d){if(c.config.AOb)return new l.QFa(m,d,g.bg,c.config,g.za,g.Oc);});},function(t,b,a){var g,l,m;function c(d,f,h,k,n,p){var q;q=this;this.j=d;this.xa=f;this.wa=h;this.config=k;this.za=n;this.Oc=p;this.Utb=function(u){!0 === u.oldValue && !1 === u.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.oZb());};this.J3b=function(u){var r,w,v;q.log.trace("UhdKeyStatus: " + u.oldValue + " -> " + u.newValue);w=null === u || void 0 === u?void 0:u.newValue;v=null === u || void 0 === u?void 0:u.oldValue;"usable" !== w && (q.w_b(w,(null === (r=null === u || void 0 === u?void 0:u.zm) || void 0 === r?void 0:r.height) || 0),"usable" === v && (u=q.za.kf.Ka(q.COb),q.log.error("UHD KeyStatus unexpectedly changed: " + u.da(m.la))));};this.E2a=!1;this.log=this.wa.mb("KeyStatusStreamFilter",this.j);this.FRa=new l.ic(!1,this.Utb);this.I3b=new l.ic(void 0,this.J3b);}Object.defineProperty(b,"__esModule",{value:!0});b.QFa=void 0;g=a(210);l=a(80);m=a(5);c.prototype.pv=function(d){return d.ll && (this.M1b(),this.FRa.set(this.E2a && this.vLb),d.lower && 1080 < d.height && !this.FRa.value)?!0:!1;};c.prototype.$xb=function(){this.vLb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.H0a);};c.prototype.KAb=function(){var d,f,h;f={};h=null === (d=this.xa.Ag.value) || void 0 === d?void 0:d.$u;null === h || void 0 === h?void 0:h.forEach(function(k){f[k.uj]=k.eJ.height;});this.log.trace("KeyStatusMap",f);return f;};c.prototype.G5a=function(d){var f;f=this;Object.entries(d).forEach(function(h){var k;k=ba(h);h=k.next().value;k=k.next().value;h=f.BOb[h];1080 < h && (f.E2a="usable" === k,f.I3b.set(k,{height:h}));});};c.prototype.M1b=function(){var d,f;d=this;f=this.xa.uf;!this.cOb && (0,g.Mqa)(f) && (this.cOb=!0,this.BOb=this.KAb(),this.G5a(f.keyStatuses.value),f.keyStatuses.addListener(function(h){return d.G5a(h.newValue);}),this.Oc.Jk((0,m.Nc)(this.config.H0a),function(){return d.$xb();}),this.COb=this.za.kf);};c.prototype.w_b=function(d,f){this.log.error("Restricting resolution due to keyStatus",{keyHeight:f,keyStatus:d});this.xa.hq.set({reason:"keyStatus",height:f});};Ya.Object.defineProperties(c.prototype,{qN:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.QFa=c;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});t=a(109);c=a(14);g=a(8);(0,t.zF)(function(l,m){var d,f,h,k;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.K3b);f=d[m.Wd];if(c.config.L3b && f){h={};k=(0,g.Sh)(l,"MediaStreamFilter");return {qN:"uiLabel",pv:function(n){if(n.lower && n.height > f)return (h[n.height] || (h[n.height]=!0,k.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:n.height}),m.hq.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(162);g=a(562);t=a(61);l=a(14);m=a(62);d=a(12);f=a(49);h=a(51);k=a(24);n=a(11);p=a(8);q=a(125);u=a(15);r=a(31);w=a(35);(0,t.ifa)(t.dfa,function(v){var D,F,G,C,H,K;function x(M){var I,Q;if(M.newValue >= u.Sb.LOADING){v.state.removeListener(x);M=(0,n.y1);try{I="" + (0,h.P4)();localStorage.setItem("player$test",I);Q=localStorage.getItem("player$test");localStorage.removeItem("player$test");I=I == Q?"success":"mism";}catch(L){I="ex: " + L;}E("type=openplay&sev=info&locstor=" + M(I));G=(0,h.kk)();A();}}function y(){K("type=startplay&sev=info&outcome=success");}function z(){var M,I;M=v.Ph;if(M){I="type=startplay&sev=error&outcome=error";M=(0,c.Toa)(p.pa.get(w.Dl).wq,M);(0,k.ve)(M,function(Q,L){I+="&" + (0,n.y1)(Q) + "=" + (0,n.y1)(L || "");});K(I);}else K("type=startplay&sev=info&outcome=abort");}function A(){var M,I;M=C.shift();if(0 < M){I=(0,n.xo)(M - ((0,h.kk)() - G),0);F=setTimeout(function(){E("type=startstall&sev=info&kt=" + M);A();},I);}}function B(){K("type=startplay&sev=info&outcome=unload");}function E(M){M=H + "&soffms=" + v.$oa() + "&" + M;v.Tc && Object.keys(v.Tc).length && (M+="&" + (0,f.SO)((0,k.bc)({},v.Tc,{prefix:"sm_"})));(0,g.wcb)("playback",M,D);}D=p.pa.get(q.gK).host + l.config.Gya;if(l.config.xcb && D && l.config.ycb.playback){C=l.config.l3b.slice();H="xid=" + v.ca + "&pbi=" + v.index + "&uiLabel=" + (v.Wd || "");v.state.addListener(x);v.addEventListener(u.ea.Vq,y);v.addEventListener(u.ea.pg,z);m.we.addListener(m.Ql,B,d.HF);K=function(M){var I;K=d.Bl;I=p.pa.get(r.mh);M+="&initstart=" + I.startTime + "&initend=" + I.endTime;E(M);clearTimeout(F);v.removeEventListener(u.ea.Vq,y);v.removeEventListener(u.ea.pg,z);m.we.removeListener(m.Ql,B);};}});},function(t,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(14);g=a(12);t=a(3);l=a(8);m=a(170);a=a(31);l.pa.get(a.mh).register(t.N.dFa,function(d){c.config.A6 && l.pa.get(m.gEa).start();d(g.af);});},function(t,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.SBa=void 0;c=a(74);g=a(49);l=a(22);m=a(24);d=a(30);b.SBa=function(f,h){(0,l.jb)(f);(0,l.jb)(h);(0,l.UM)(h.KEb,"endpointURL property is required");(0,l.jb)(h.ie);this.log=f;this.N7a=h;};b.SBa.prototype.vD=function(){var f,h,k;f=this;f.log.trace("Downloading config data.");h={browserInfo:JSON.stringify(f.N7a.ie)};k=f.N7a.KEb + "?" + (0,g.SO)(h);return new Promise(function(n,p){function q(x){var y,z;try{if(x.aa){y=new Uint8Array(x.content);z=String.fromCharCode.apply(null,y);return {aa:!0,config:JSON.parse(z).core.initParams};}return {aa:!1,message:"Unable to download the config. " + x.yb,LD:x.tk};}catch(A){return (x=(0,m.wd)(A),f.log.error("Unable to download the config. Received an exception parsing response",{message:A.message,exception:x,url:k}),{aa:!1,yb:x,message:"Unable to download the config. " + A.message});}}function u(x,y,z){return y > z?(f.log.error("Config download failed, retry limit exceeded, giving up",(0,d.bc)({Attempts:y - 1,MaxRetries:z},x)),!1):!0;}function r(x,y){x=1E3 * Math.pow(2,Math.min(x - 1,y));return (0,m.Cva)(1E3,x);}function w(x){return new Promise(function(y){setTimeout(function(){y();},x);});}function v(x,y,z){c.nf.download(x,function(A){var B;A=q(A);if(A.aa)n(A);else {f.log.warn("Config download failed, retrying",(0,d.bc)({Attempt:y,WaitTime:B,MaxRetries:z},A));if(u(A,y + 1,z)){B=r(y,z);return w(B).then(function(){return v(x,y + 1,z);});}p(A);}});}return c.nf?v({url:k,responseType:3,withCredentials:!0,kD:"config-download"},1,3):Promise.reject({aa:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});c=a(196);g=a(166);l=a(12);m=a(14);t=a(3);d=a(8);f=a(22);h=a(24);k=a(30);n=a(17);p=a(50);q=a(87);a=a(31);d.pa.get(a.mh).register(t.N.mFa,function(u){var r,w;r=(0,d.aj)("NccpApi");w=(0,h.fSa)(["info","warn","trace","error"]);g.$K.kU.nccp={getEsn:function(){return c.pk.gl;},getPreferredLanguages:function(){return m.config.sq.ava;},setPreferredLanguages:function(v){(0,f.jb)((0,n.isArray)(v) && (0,k.wA)(v[0]));m.config.sq.ava=v;},queueLogblob:function(v,x,y){var z;if(v && x)if((x=x.toLowerCase(),w[x])){z=d.pa.get(p.kn);v=d.pa.get(q.jy).$t(v,x,y);z.Jc(v);}else r.warn("Invalid severity",{severity:x});},flushLogblobs:function(){d.pa.get(p.kn).flush(!0);}};u(l.af);});},function(t,b,a){var c,g,l,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});t=a(31);b=a(3);c=a(7);g=a(35);l=a(299);m=a(12);d=a(14);f=a(8);h=a(61);k=a(166);n=a(554);p=a(121);f.pa.get(t.mh).register(b.N.oFa,function(q){var w,v,x;function u(y,z){return void 0 === y || void 0 === z?Promise.reject("Invalid email and/or password"):f.pa.get(n.OIa).tg(this.log,{},{email:y,password:z}).then(function(){});}function r(y){var z;z=f.pa.get(p.VF);return z.OXa.fetch(y,z);}if(d.config.hFb){w=f.pa.get(l.Vea);v=f.pa.get(g.Dl);x=f.pa.get(c.ub).mb("Test");k.$K.kU.test={setPboRequestsListener:function(y){return w.O_b(y);},playbacks:h.zo,getPlayback:function(y){return h.zo.find(function(z){return z.ca === y;});},playgraphManager:{isNextSegmentReady:function(y,z){var A,B;return void 0 !== (null === (B=null === (A=h.zo.find(function(E){return E.ca === y;})) || void 0 === A?void 0:A.Ia) || void 0 === B?void 0:B.L6(z));},isNextSegmentBuffering:function(y,z){var A,B;return null === (B=null === (A=h.zo.find(function(E){return E.ca === y;})) || void 0 === A?void 0:A.Ia) || void 0 === B?void 0:B.JN(z).uM;}},device:{esn:nb._cad_global.device.gl,esnPrefix:v.Yo,errorPrefix:v.wq},log:{info:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.info(y,A);},error:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.error(y,A);},warn:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.warn(y,A);},trace:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.trace(y,A);},log:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.log(y,A);},debug:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.debug(y,A);}},login:u,getManifest:r};}q(m.af);});},function(t,b,a){var c,g,l,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});t=a(1308);c=a(12);g=a(14);l=a(61);b=a(7);m=a(8);d=a(50);f=a(116);h=a(22);k=a(30);n=a(11);nb.netflix=nb.netflix || ({});(0,h.jb)(!nb.netflix.player);nb.netflix.player={VideoSession:t.yNa,diag:{togglePanel:function(p,q){var u;u=[];if(!g.config || g.config.fZ){switch(p){case "info":u=l.zo.map(function(r){return r.F$;});break;case "streams":u=l.zo.map(function(r){return r.I$;});break;case "log":u=[];}u.forEach(function(r){(0,k.$c)(q)?q?r.show():r.rs():r.toggle();});}},addLogMessageSink:function(p){m.pa.get(d.kn).addListener({lfc:function(){},uRb:function(q){p({data:q.data});}});}},log:(0,m.aj)("Ext"),LogLevel:b.Sj,addLogSink:function(p,q){m.pa.get(f.EK).gaa(p,q);},getVersion:function(){return "6.0034.571.911";},getMostRecentPlaybackDiagnosticGroups:function(){var p;return null === (p=l.iC.t5a) || void 0 === p?void 0:p.A5.lW();},isWidevineSupported:function(p){var u;function q(r){return function(w,v){return v.contentType == r;};}if("function" !== typeof p)throw Error("input param is not a function");u=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.ly,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.GK,robustness:"SW_SECURE_CRYPTO"}]}];try{n.Qe.requestMediaKeySystemAccess("com.widevine.alpha",u).then(function(r){var w;w=r.getConfiguration();r=w.videoCapabilities || [];w=(w.audioCapabilities || []).reduce(q(c.GK),!1);r=r.reduce(q(c.ly),!1);p(w && r);}).catch(function(){p(!1);});}catch(r){p(!1);}}};},function(t,b,a){var g,l,m,d,f,h;function c(k){var n;n=m.$K.call(this,k) || this;n.createPlayer=function(p,q){var u,r,w;q=void 0 === q?{}:q;q="number" === typeof q?{Nj:q}:q;u=g.pa.get(l.QK);r=g.pa.get(f.IK).create(q.manifest);w=g.pa.get(d.pfa);p=u.ZAb(p);u=g.pa.get(h.nfa).create(p);p=u.P6();w=w.jVa(u);w.addEpisode({movieId:p.S,playbackParams:n.vSa(q,p),manifest:r});return w;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.yNa=void 0;g=a(8);l=a(122);m=a(166);d=a(309);f=a(133);h=a(308);na(c,m.$K);b.yNa=c;},function(t,b,a){var c,g,l,m,d,f,h,k,n,p,q,u,r;Object.defineProperty(b,"__esModule",{value:!0});c=a(166);g=a(196);l=a(12);m=a(49);t=a(3);d=a(8);f=a(168);h=a(22);k=a(30);n=a(11);b=a(31);p=a(51);q=a(95);u=a(159);r=a(167);d.pa.get(b.mh).register(t.N.nFa,function(w){var B;function v(){return g.pk.gl;}function x(E){var D;D=d.pa.get(q.xS);d.pa.get(u.hS)().then(function(F){var G,C;G=F.PX.getStateForMdx(D);C=G.cryptoContext;F=G.masterToken;G=G.userIdToken;F && G?((0,h.jb)(C),F=["1",(0,d.UC)(JSON.stringify(F.toJSON())),(0,d.UC)(JSON.stringify(G.toJSON()))].join(),E({success:!0,cryptoContext:{cTicket:F,encrypt:function(H,K){H=(0,k.Ve)(H)?(0,d.yQ)(H):H;C.encrypt(H,{result:function(M){M=(0,d.UC)(M);K({success:!0,mslEncryptionEnvelopeBase64:M});},timeout:function(){K({success:!1});},error:function(M){(0,h.jb)(!1,"Encrypt error: " + M);K({success:!1});}});},decrypt:function(H,K){H=(0,d.Yr)(H);C.decrypt(H,{result:function(M){K({success:!0,text:(0,d.I_)(M)});},timeout:function(){K({success:!1});},error:function(M){(0,h.jb)(!1,"Decrypt error: " + M);K({success:!1});}});},hmac:function(H,K){H=(0,k.Ve)(H)?(0,d.yQ)(H):H;C.sign(H,{result:function(M){K({success:!0,hmacBase64:(0,d.UC)(M)});},timeout:function(){K({success:!1});},error:function(M){(0,h.jb)(!1,"Hmac error: " + M);K({success:!1});}});}}})):((0,h.jb)(!1,"Must login first"),E({success:!1}));});}function y(E,D){var F;F=(0,d.Yr)(E);E=F.subarray(32,48);F=F.subarray(0,32);if(16 != E.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,m.FI)(n.oq.importKey("raw",E,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,m.FI)(n.oq.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:z(G[0],G[1])});},function(){D({success:!1});});}function z(E,D){function F(G){G=new f.lR((0,d.Yr)(G));G.hB();return {iv:G.I8a(),IEb:G.I8a()};}return {encrypt:function(G,C){var H;G=(0,k.Ve)(G)?(0,d.yQ)(G):G;H=n.fC.getRandomValues(new Uint8Array(16));(0,m.FI)(n.oq.encrypt({name:"AES-CBC",iv:H},E,G)).then(function(K){var M,I;K=new Uint8Array(K);M=[];I=new f.lR(M);I.aca(2);I.seb(H);I.seb(K);K=(0,d.UC)(M);C({success:!0,encryptedDataAsn1Base64:K});},function(K){(0,h.jb)(!1,"Encrypt error: " + K);C({success:!1});});},decrypt:function(G,C){var H;H=F(G);G=H.iv;H=H.IEb;(0,m.FI)(n.oq.decrypt({name:"AES-CBC",iv:G},E,H)).then(function(K){K=new Uint8Array(K);C({success:!0,text:(0,d.I_)(K)});},function(K){(0,h.jb)(!1,"Decrypt error: " + K);C({success:!1});});},hmac:function(G,C){G=(0,k.Ve)(G)?(0,d.yQ)(G):G;(0,m.FI)(n.oq.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(H){H=new Uint8Array(H);C({success:!0,hmacBase64:(0,d.UC)(H)});},function(H){(0,h.jb)(!1,"Hmac error: " + H);C({success:!1});});}};}function A(){return (0,p.Q4)();}B=d.pa.get(r.VB);if(B.$1a || B.Ww)c.$K.kU.mdx={getEsn:v,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:A};w(l.af);});},function(t,b,a){var c,g,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(14);g=a(12);t=a(3);l=a(8);b=a(31);m=a(121);l.pa.get(b.mh).register(t.N.iFa,function(f){var h,k,n;if(c.config.KVb){h=(0,l.aj)("PlayerPredictionModel");k=l.pa.get(m.VF);n=a(1311);h.log=h.trace.bind(h);d=new n({},h,{hZ:function(){},KYb:function(){}},k,{OI:function(){}});nb._cad_global.playerPredictionModel=d;h.info("ppm v2 initialized");}f(g.af);});},function(t,b,a){var m,d,f,h,k,n,p;function c(q,u,r,w,v,x){this.K=this.S=q;this.priority=u;this.Fd=r;x && x.Wd && (this.Wd=x.Wd);void 0 !== w && (this.cP=w);this.Pl=v;this.zb=x;}function g(q,u,r,w,v){f(void 0 !== w,"video preparer is null");f(void 0 !== v,"ui preparer is null");this.I=u;this.Na=r;this.ysb=w;this.qsb=v;this.UPa=n.Yua;this.ZL=[];this.Cia=!1;this.bT=0;new p().on(n,"changed",l,this);this.reset();}function l(){this.I.log("config changed");n.Yua && (this.UPa=n.Yua);n.OX !== this.OL && (this.reset(),this.kwa());}m=a(311);d=a(312);b=a(565);f=b.assert;h=b.XXa;k=a(1312);n=a(566).config;p=a(1313).ii;n.declare({Yua:["ppmConfig",{K6b:{k6a:0,j6a:2,h6a:0,i6a:5,sab:0},Y$b:{k6a:0,j6a:1,h6a:0,i6a:3,sab:1E3},$6b:{k6a:0,j6a:1,h6a:0,i6a:3,sab:1E3}}]});g.prototype.constructor=g;g.prototype.reset=function(){this.aha=!0;this.OL=n.OX;this.I.log("create model: " + n.OX,n.c$a,n.dUa);switch(n.OX){case "modelone":this.OL=new k(this.I);break;default:this.OL=new k(this.I);}};g.prototype.kwa=function(){var u,r;if(!1 === this.Cia){this.Cia=!0;for(var q=0;q < this.ZL.length;q++){this.I.log("PlayPredictionModel replay: ",JSON.stringify(this.ZL[q]));u=this.PUa(this.ZL[q]);r=this.IYa(u);this.OL.update(u,r);this.aha=!1;}this.ZL=[];}};g.prototype.update=function(q){var u,r,w;this.I.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.ab && q.ab[0]){!1 === this.Cia && this.ZL.length < n.OQb && this.ZL.push(q);u=this.PUa(q);r=this.IYa(u);this.I.log("actionType",r);u="mlmodel" == n.OX?this.OL.update(q,r):this.OL.update(u,r);u=this.VGb(u,n.pOb || 1);this.I.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(u));0 === this.bT && (this.bT=m(),this.Na && this.Na.hZ && this.Na.hZ({GCb:this.bT}));if(this.Na && this.Na.KYb){this.THb();w=[];u.forEach(function(v){w.push({Lfc:v.S});});JSON.stringify(q);JSON.stringify(u);}this.ysb.OI(u);this.qsb.OI(u);this.aha=!1;}};g.prototype.THb=function(){m();};g.prototype.hZ=function(){this.bT=m();this.Na && this.Na.hZ && this.Na.hZ({GCb:this.bT});};g.prototype.PUa=function(q){var u,r,w,v,x;u={};w=q.ab || [];v=(function(y){var z,A;z={};x=d.VR.name.indexOf(y.context);z.context=0 <= x?x:d.VR.qy;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];r=y.list || [];r.forEach((function(B){A={S:B.S,Fd:B.Fd,index:B.index,cP:B.cP,V$:B.V$,list:B.list,zb:B.zb};void 0 !== B.property && (x=d.AK.name.indexOf(B.property),A.property=0 <= x?x:d.AK.qy);z.list.push(A);}).bind(this));u.ab.push(z);}).bind(this);if(void 0 !== q.direction){x=d.Iv.name.indexOf(q.direction);u.direction=0 <= x?x:d.Iv.qy;}void 0 !== q.VV && (u.qcc=q.VV.rowIndex,u.pcc=q.VV.Uxb);u.VV=q.VV;u.ab=[];w.forEach(v);return u;};g.prototype.IYa=function(q){var u,r,w;u=q.direction || d.Iv.qy;r=q.VV;w=q.ab || [];!0 === this.aha?q=d.Sx.WDa:!0 === w.some(this.sLb)?(q=d.Sx.oS,this.iaa(w,u,r)):q=w[0].context === d.VR.V1?d.Sx.V1:u === d.Iv.bLa || u === d.Iv.SFa?d.Sx.uLa:d.Sx.qy;return q;};g.prototype.sLb=function(q){return (q.list || []).some(function(u){return u.property === d.AK.oS || u.property === d.AK.mCa;});};g.prototype.iaa=function(q,u,r){var w,v;this.I.log("reportPlayFocusEvent: ",u,r);w={};v=h(q);this.Na && this.Na.iaa && (w.hcc=m(),w.direction=d.Iv.name[u],r && (w.rowIndex=r.rowIndex,w.bla=r.Uxb),void 0 !== v.Hk && (w.requestId=q[v.Hk].requestId),this.Na.iaa && this.Na.iaa(w));};g.prototype.VGb=function(q,u){for(var r=q.length,w=[],v,x,y,z,A=0;A < r;A++){x=q[A];v=Math.floor(A / u) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var B=0;B < Math.min(n.Sxb,z) && !(y[B].Pl=x.Pl,this.kRa(y[B],v,w),w.length >= n.A4a);B++){;}}else this.kRa(x,v,w);if(w.length >= n.A4a)break;}return w;};g.prototype.kRa=function(q,u,r){var v,x;function w(y){y.Wd && (y.zb || (y.zb={}),y.zb.Wd=y.Wd);return y.zb;}v=q.V$;if(void 0 !== v && v instanceof Array)v.forEach(function(y){void 0 !== y.S && (x=w(y),r.push(new c(y.S,u,y.Fd,y.cP,q.Pl,x)));});else if(void 0 !== v && void 0 !== v.S){v=q.V$;x=w(v);r.push(new c(v.S,u,v.Fd,v.cP,q.Pl,x));}void 0 !== q.S && (x=w(q),r.push(new c(q.S,u,q.Fd,q.cP,q.Pl,x)));};g.prototype.vD=function(q){var u;u=this.UPa;return q?u[q]:u;};t.exports=g;},function(t,b,a){var l,m,d,f,h,k,n,p,q,u;function c(r,w){this.Hk=r;this.wm=w;}function g(r){this.I=r;this.reset();}l=a(311);m=a(312);b=a(565);d=a(566).config;f=b.LHb;h=b.sHb;k=b.ICb;n=b.nTb;p=b.mTb;q=b.lTb;u=b.XXa;g.prototype.constructor=g;g.prototype.reset=function(){this.VPa=void 0;this.Wk=[];this.IPa=this.JPa=!1;};g.prototype.update=function(r,w){var v;this.Wk && (this.Wk=this.Wk.filter(this.B0b,this));if(!1 === this.JPa){v=f(r.ab).slice(0,d.zVa);0 < v.length && (this.sI(v,m.Xx.Cl),this.JPa=!0,this.Wk=this.WJ(v.concat(this.Wk)));}!1 === this.IPa && (v=h(r.ab).slice(0,d.zVa),0 < v.length && (this.sI(v,m.Xx.Cl),this.IPa=!0,this.Wk=this.WJ(v.concat(this.Wk))));switch(w){case m.Sx.WDa:w=this.TKb(r);break;case m.Sx.uLa:w=this.bLb(r);break;case m.Sx.V1:w=this.cLb(r);break;case m.Sx.oS:w=this.YKb(r);break;default:w=this.QKb(r);}this.VPa=r;return w;};g.prototype.TKb=function(r){r=n(r.ab,d.c$a,d.dUa);this.sI(r,m.Xx.Cl);return this.Wk=this.WJ(this.Wk.concat(r));};g.prototype.bLb=function(r){var w,v;this.I.log("handleScrollHorizontal");w=r.ab;r=n(w,d.e$a,d.eUa);v=k(w,this.VPa.ab);w=w[v].list.slice(0,d.xZb);w.concat(r);this.sI(w,m.Xx.Ufa);return this.WJ(w.concat(this.Wk));};g.prototype.sI=function(r,w){r.forEach(function(v){if(void 0 === v.aD || v.aD < w)v.aD=w;void 0 === v.lQ && (v.lQ=l());void 0 === v.Pl && (v.Pl=l());});};g.prototype.cLb=function(r){this.I.log("handleSearch");r=p(r.ab,d.SZb);this.sI(r,m.Xx.vLa);this.Wk=r.concat(this.Wk);return this.Wk=this.WJ(this.Wk);};g.prototype.YKb=function(r){var w,v,x,y,z;this.I.log("handlePlayFocus: ",d.JW);w=r.direction;v=r.ab;r=[];x=u(v);if(void 0 !== x.Hk)switch((r.push(x),w)){case m.Iv.bLa:for(w=1;w < d.JW;w++){r.push(new c(x.Hk,x.wm + w));}r.push(new c(x.Hk - 1,x.wm));r.push(new c(x.Hk + 1,x.wm));break;case m.Iv.SFa:for(w=1;w < d.JW;w++){r.push(new c(x.Hk,x.wm - w));}r.push(new c(x.Hk - 1,x.wm));r.push(new c(x.Hk + 1,x.wm));break;case m.Iv.Umb:r.push(new c(x.Hk - 1,x.wm));for(w=1;w <= d.JW / 2;w++){r.push(new c(x.Hk,x.wm + w));r.push(new c(x.Hk,x.wm - w));}break;case m.Iv.shb:for((r.push(new c(x.Hk + 1,x.wm)),w=1);w <= d.JW / 2;w++){r.push(new c(x.Hk,x.wm + w));r.push(new c(x.Hk,x.wm - w));}}y=[];r.forEach(function(A){z=q(v,A.Hk,A.wm);void 0 !== z && y.push(z);});this.sI(y,m.Xx.Ufa);return this.WJ(y.concat(this.Wk));};g.prototype.QKb=function(r){this.I.log("ModelOne: handleDefaultCase");r=n(r.ab,d.e$a,d.eUa);this.sI(r,m.Xx.Ufa);return this.WJ(r.concat(this.Wk));};g.prototype.B0b=function(r){return r.aD == m.Xx.Cl | r.aD == m.Xx.vLa & l() - r.lQ < d.MLb;};g.prototype.WJ=function(r){var w,v,x,y,z,A,B;w=[];v={};y=0;z=r.length;for(x=0;x < z;x++){A=r[x].S;B=r[x];!1 === (A in v)?(w.push(B),v[A]=y,y++):(A=w[v[A]],B.Pl < A.Pl && (A.Pl=B.Pl),B.aD > A.aD && (A.aD=B.aD),B.lQ > A.lQ && (A.lQ=B.lQ));}return w;};t.exports=g;},function(t,b,a){t.exports={EventEmitter:a(1314),ii:a(1315)};},function(t){function b(c,g){var l;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return (this.Ad={},this.Ad[c]=[g],!0);l=this.Ad[c];return void 0 === l?(this.Ad[c]=[g],!0):0 > l.indexOf(g)?(l.push(g),!0):!1;}function a(c,g){c=this.Ad?this.Ad[c]:void 0;if(!c)return !1;c.forEach(function(l){l(g);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(c,g){var l;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return !1;l=this.Ad[c];if(void 0 === l)return !1;g=l.indexOf(g);if(0 > g)return !1;if(1 === l.length)return (delete this.Ad[c],!0);l.splice(g,1);return !0;},Ya:a,emit:a,removeAllListeners:function(c){this.Ad && (void 0 === c?delete this.Ad:delete this.Ad[c]);return this;}};},function(t){function b(c,g,l,m){c.trace(":",l,":",m);g(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,g,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,g));if("function" === typeof c.addEventListener)m=c.addEventListener(g,l);else if("function" === typeof c.addListener)m=c.addListener(g,l);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var l,m;l=g[0];m=g[1];g=g[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,g):"function" === typeof l.removeListener && l.removeListener(m,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};t.exports=a;}]);}).call(nb);})(window);}).call(window);